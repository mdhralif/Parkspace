/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_mapbox-gl_dist_mapbox-gl_js"],{

/***/ "(app-pages-browser)/../../node_modules/mapbox-gl/dist/mapbox-gl.js":
/*!******************************************************!*\
  !*** ../../node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \******************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* Mapbox GL JS is Copyright Â© 2020 Mapbox and subject to the Mapbox Terms of Service ((https://www.mapbox.com/legal/tos/). */\n(function (global, factory) {\n true ? module.exports = factory() :\n0;\n})(this, (function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \"self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; (\" + shared + \")(sharedChunk); (\" + worker + \")(sharedChunk); self.onerror = null;\"\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    if (typeof window !== 'undefined' && window && window.URL && window.URL.createObjectURL) {\n        mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n    }\n}\n}\n\n\ndefine([\"exports\"],(function(t){\"use strict\";var e=\"3.3.0\";let r;const n={API_URL:\"https://api.mapbox.com\",get API_URL_REGEX(){if(null==r){const t=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;try{r=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):t;}catch(e){r=t;}}return r},get API_TILEJSON_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/v[0-9]*\\/.*\\.json.*$)/i},get API_SPRITE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*\\/sprite.*\\..*$)/i},get API_FONTS_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/fonts\\/v[0-9]*\\/)(.*\\.pbf.*$)/i},get API_STYLE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*$)/i},get API_CDN_URL_REGEX(){return /^((https?:)?\\/\\/)?api\\.mapbox\\.c(n|om)(\\/mapbox-gl-js\\/)(.*$)/i},get EVENTS_URL(){if(!n.API_URL)return null;try{const t=new URL(n.API_URL);return \"api.mapbox.cn\"===t.hostname?\"https://events.mapbox.cn/events/v2\":\"api.mapbox.com\"===t.hostname?\"https://events.mapbox.com/events/v2\":null}catch(t){return null}},SESSION_PATH:\"/map-sessions/v1\",FEEDBACK_URL:\"https://apps.mapbox.com/feedback\",TILE_URL_VERSION:\"v4\",RASTER_URL_PREFIX:\"raster/v1\",RASTERARRAYS_URL_PREFIX:\"rasterarrays/v1\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:\"mapbox://styles/mapbox/standard\",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:\"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm\",MESHOPT_URL:\"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm\",MESHOPT_SIMD_URL:\"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm\",GLYPHS_URL:\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"};function i(t){return n.API_URL_REGEX.test(t)}function a(t){return 0===t.indexOf(\"mapbox:\")}function s(t){return n.API_CDN_URL_REGEX.test(t)}function o(t){return n.API_SPRITE_REGEX.test(t)}function l(t){return n.API_STYLE_REGEX.test(t)&&!o(t)}const u={create:\"create\",load:\"load\",fullLoad:\"fullLoad\"};function c(t){const e=t.name.split(\"?\")[0];return s(e)&&e.includes(\"mapbox-gl.js\")?\"javascript\":s(e)&&e.includes(\"mapbox-gl.css\")?\"css\":function(t){return n.API_FONTS_REGEX.test(t)}(e)?\"fontRange\":o(e)?\"sprite\":l(e)?\"style\":function(t){return n.API_TILEJSON_REGEX.test(t)}(e)?\"tilejson\":\"other\"}function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var p=f;function f(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=r,this.p2y=n;}f.prototype={sampleCurveX:function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return ((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var r=t,n=0;n<8;n++){var i=this.sampleCurveX(r)-t;if(Math.abs(i)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=i/a;}var s=0,o=1;for(r=t,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-t)<e));n++)t>i?s=r:o=r,r=.5*(o-s)+s;return r},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var d=h(p),m=y;function y(t,e){this.x=t,this.y=e;}y.prototype={clone:function(){return new y(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=n,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-n*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},y.convert=function(t){return t instanceof y?t:Array.isArray(t)?new y(t[0],t[1]):t};var g=h(m);const x=Math.PI/180,v=180/Math.PI;function b(t){return t*x}function _(t){return t*v}const w=[[0,0],[1,0],[1,1],[0,1]];function M(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function A(t,e,r,n){const i=new d(t,e,r,n);return function(t){return i.solve(t)}}const S=A(.25,.1,.25,1);function I(t,e,r){return Math.min(r,Math.max(e,t))}function k(t,e,r){return (r=I((r-t)/(e-t),0,1))*r*(3-2*r)}function P(t,e,r){const n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i}function E(t,e,r){if(!t.length)return r(null,[]);let n=t.length;const i=new Array(t.length);let a=null;t.forEach(((t,s)=>{e(t,((t,e)=>{t&&(a=t),i[s]=e,0==--n&&r(a,i);}));}));}function z(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}let T=1;function B(){return T++}function C(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function R(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function D(t){return !!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function V(t,e){t.forEach((t=>{e[t]&&(e[t]=e[t].bind(e));}));}function L(t,e){return -1!==t.indexOf(e,t.length-e.length)}function F(t,e,r){const n={};for(const i in t)n[i]=e.call(r||this,t[i],i,t);return n}function N(t,e,r){const n={};for(const i in t)e.call(r||this,t[i],i,t)&&(n[i]=t[i]);return n}function O(t){return Array.isArray(t)?t.map(O):\"object\"==typeof t&&t?F(t,O):t}const U={};function j(t){U[t]||(\"undefined\"!=typeof console&&console.warn(t),U[t]=!0);}function q(t,e,r){return (r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function $(t){let e=0;for(let r,n,i=0,a=t.length,s=a-1;i<a;s=i++)r=t[i],n=t[s],e+=(n.x-r.x)*(r.y+n.y);return e}function G([t,e,r]){const n=b(e+90),i=b(r);return {x:t*Math.cos(n)*Math.sin(i),y:t*Math.sin(n)*Math.sin(i),z:t*Math.cos(i),azimuthal:e,polar:r}}function Y(){return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope}function X(t){const e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,((t,r,n,i)=>{const a=n||i;return e[r]=!a||a.toLowerCase(),\"\"})),e[\"max-age\"]){const t=parseInt(e[\"max-age\"],10);isNaN(t)?delete e[\"max-age\"]:e[\"max-age\"]=t;}return e}let Z,K,H,W,J,Q,tt=null;function et(t){try{const e=self[t];return e.setItem(\"_mapbox_test_\",1),e.removeItem(\"_mapbox_test_\"),!0}catch(t){return !1}}function rt(t,e){return [t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}function nt(t,e,r,n){for(;e<r;){const i=e+r>>1;t[i]<n?e=i+1:r=i;}return e}function it(t,e,r,n){for(;e<r;){const i=e+r>>1;t[i]<=n?e=i+1:r=i;}return e}function at(){return null==Z&&(Z=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext(\"2d\")&&\"function\"==typeof self.createImageBitmap),Z}const st={now:()=>void 0!==W?W:performance.now(),setNow(t){W=t;},restoreNow(){W=void 0;},frame(t){const e=requestAnimationFrame(t);return {cancel:()=>cancelAnimationFrame(e)}},getImageData(t,e=0){const{width:r,height:n}=t;J||(J=document.createElement(\"canvas\"));const i=J.getContext(\"2d\",{willReadFrequently:!0});if(!i)throw new Error(\"failed to create canvas 2d context\");return (r>J.width||n>J.height)&&(J.width=r,J.height=n),i.clearRect(-e,-e,r+2*e,n+2*e),i.drawImage(t,0,0,r,n),i.getImageData(-e,-e,r+2*e,n+2*e)},resolveURL:t=>(K||(K=document.createElement(\"a\")),K.href=t,K.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return !!window.matchMedia&&(null==H&&(H=window.matchMedia(\"(prefers-reduced-motion: reduce)\")),H.matches)},hasCanvasFingerprintNoise(){if(void 0!==Q)return Q;if(!at())return Q=!1,!1;const t=new OffscreenCanvas(85,1),e=t.getContext(\"2d\",{willReadFrequently:!0});let r=0;for(let n=0;n<t.width;++n)e.fillStyle=`rgba(${r++},${r++},${r++}, 255)`,e.fillRect(n,0,1,1);const n=e.getImageData(0,0,t.width,t.height);r=0;for(let t=0;t<n.data.length;++t)if(t%4!=3&&r++!==n.data[t])return Q=!0,!0;return Q=!1,!1}},ot=\"mapbox-tiles\";let lt=500,ut=50;let ct,ht;function pt(){try{return caches}catch(t){}}function ft(){const t=pt();t&&!ct&&(ct=t.open(ot));}function dt(t){const e=t.indexOf(\"?\");if(e<0)return t;const r=[\"language\",\"worldview\"],n=new URLSearchParams,i=new URLSearchParams(t.slice(e));for(const t of r){const e=i.get(t);e&&n.set(t,e);}return `${t.slice(0,e)}?${n.toString()}`}function mt(t,e){const r=t.indexOf(\"?\");if(r<0)return `${t}?${new URLSearchParams(e).toString()}`;const n=new URLSearchParams(t.slice(r));for(const t in e)n.set(t,e[t]);return `${t.slice(0,r)}?${n.toString()}`}let yt=1/0;const gt={supported:!1,testSupport:function(t){!bt&&vt&&(_t?Mt(t):xt=t);}};let xt,vt,bt=!1,_t=!1;const wt=\"undefined\"!=typeof self?self:{};function Mt(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,vt),t.isContextLost())return;gt.supported=!0;}catch(t){}t.deleteTexture(e),bt=!0;}wt.document&&(vt=wt.document.createElement(\"img\"),vt.onload=function(){xt&&Mt(xt),xt=null,_t=!0;},vt.onerror=function(){bt=!0,xt=null;},vt.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\");const At={Unknown:\"Unknown\",Style:\"Style\",Source:\"Source\",Tile:\"Tile\",Glyphs:\"Glyphs\",SpriteImage:\"SpriteImage\",SpriteJSON:\"SpriteJSON\",Image:\"Image\",Model:\"Model\"};\"function\"==typeof Object.freeze&&Object.freeze(At);class St extends Error{constructor(t,e,r){401===e&&i(r)&&(t+=\": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\"),super(t),this.status=e,this.url=r;}toString(){return `${this.name}: ${this.message} (${this.status}): ${this.url}`}}const It=Y()?()=>self.worker&&self.worker.referrer:()=>(\"blob:\"===location.protocol?parent:self).location.href;const kt=function(t,e){if(!(/^file:/.test(r=t.url)||/^file:/.test(It())&&!/^\\w+:/.test(r))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty(\"signal\"))return function(t,e){const r=new AbortController,n=new Request(t.url,{method:t.method||\"GET\",body:t.body,credentials:t.credentials,headers:t.headers,referrer:It(),referrerPolicy:t.referrerPolicy,signal:r.signal});let a=!1,s=!1;const o=(l=n.url).indexOf(\"sku=\")>0&&i(l);var l;\"json\"===t.type&&n.headers.set(\"Accept\",\"application/json\");const u=(r,i,a)=>{if(s)return;if(r&&\"SecurityError\"!==r.message&&j(r.toString()),i&&a)return c(i);const l=Date.now();fetch(n).then((r=>{if(r.ok){const t=o?r.clone():null;return c(r,t,l)}return e(new St(r.statusText,r.status,t.url))})).catch((r=>{\"AbortError\"!==r.name&&e(new Error(`${r.message} ${t.url}`));}));},c=(r,i,o)=>{(\"arrayBuffer\"===t.type?r.arrayBuffer():\"json\"===t.type?r.json():r.text()).then((t=>{s||(i&&o&&function(t,e,r){if(ft(),!ct)return;const n=X(e.headers.get(\"Cache-Control\")||\"\");if(n[\"no-store\"])return;const i={status:e.status,statusText:e.statusText,headers:new Headers};e.headers.forEach(((t,e)=>i.headers.set(e,t))),n[\"max-age\"]&&i.headers.set(\"Expires\",new Date(r+1e3*n[\"max-age\"]).toUTCString());const a=i.headers.get(\"Expires\");if(!a)return;if(new Date(a).getTime()-r<42e4)return;let s=dt(t.url);if(206===e.status){const e=t.headers.get(\"Range\");if(!e)return;i.status=200,s=mt(s,{range:e});}!function(t,e){if(void 0===ht)try{new Response(new ReadableStream),ht=!0;}catch(t){ht=!1;}ht?e(t.body):t.blob().then(e);}(e,(t=>{const e=new Response(t,i);ft(),ct&&ct.then((t=>t.put(s,e))).catch((t=>j(t.message)));}));}(n,i,o),a=!0,e(null,t,r.headers.get(\"Cache-Control\"),r.headers.get(\"Expires\")));})).catch((t=>{s||e(new Error(t.message));}));};return o?function(t,e){if(ft(),!ct)return e(null);ct.then((r=>{let n=dt(t.url);const i=t.headers.get(\"Range\");i&&(n=mt(n,{range:i})),r.match(n).then((t=>{const i=function(t){if(!t)return !1;const e=new Date(t.headers.get(\"Expires\")||0),r=X(t.headers.get(\"Cache-Control\")||\"\");return e>Date.now()&&!r[\"no-cache\"]}(t);r.delete(n),i&&r.put(n,t.clone()),e(null,t,i);})).catch(e);})).catch(e);}(n,u):u(null,null),{cancel:()=>{s=!0,a||r.abort();}}}(t,e);if(Y()&&self.worker&&self.worker.actor)return self.worker.actor.send(\"getResource\",t,e,void 0,!0)}var r;return function(t,e){const r=new XMLHttpRequest;r.open(t.method||\"GET\",t.url,!0),\"arrayBuffer\"===t.type&&(r.responseType=\"arraybuffer\");for(const e in t.headers)r.setRequestHeader(e,t.headers[e]);return \"json\"===t.type&&(r.responseType=\"text\",r.setRequestHeader(\"Accept\",\"application/json\")),r.withCredentials=\"include\"===t.credentials,r.onerror=()=>{e(new Error(r.statusText));},r.onload=()=>{if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){let n=r.response;if(\"json\"===t.type)try{n=JSON.parse(r.response);}catch(t){return e(t)}e(null,n,r.getResponseHeader(\"Cache-Control\"),r.getResponseHeader(\"Expires\"));}else e(new St(r.statusText,r.status,t.url));},r.send(t.body),{cancel:()=>r.abort()}}(t,e)},Pt=function(t,e){return kt(z(t,{type:\"arrayBuffer\"}),e)};function Et(t){const e=document.createElement(\"a\");return e.href=t,e.protocol===location.protocol&&e.host===location.host}const zt=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";let Tt,Bt;Tt=[],Bt=0;const Ct=function(t,e){if(gt.supported&&(t.headers||(t.headers={}),t.headers.accept=\"image/webp,*/*\"),Bt>=n.MAX_PARALLEL_IMAGE_REQUESTS){const r={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0;}};return Tt.push(r),r}Bt++;let r=!1;const i=()=>{if(!r)for(r=!0,Bt--;Tt.length&&Bt<n.MAX_PARALLEL_IMAGE_REQUESTS;){const t=Tt.shift(),{requestParameters:e,callback:r,cancelled:n}=t;n||(t.cancel=Ct(e,r).cancel);}},a=Pt(t,((t,r,n,a)=>{i(),t?e(t):r&&(self.createImageBitmap?function(t,e){const r=new Blob([new Uint8Array(t)],{type:\"image/png\"});createImageBitmap(r).then((t=>{e(null,t);})).catch((t=>{e(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));}));}(r,((t,r)=>e(t,r,n,a))):function(t,e){const r=new Image;r.onload=()=>{e(null,r),URL.revokeObjectURL(r.src),r.onload=null,requestAnimationFrame((()=>{r.src=zt;}));},r.onerror=()=>e(new Error(\"Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\"));const n=new Blob([new Uint8Array(t)],{type:\"image/png\"});r.src=t.byteLength?URL.createObjectURL(n):zt;}(r,((t,r)=>e(t,r,n,a))));}));return {cancel:()=>{a.cancel(),i();}}},Rt=\"01\",Dt=\"NO_ACCESS_TOKEN\",Vt=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function Lt(t){const e=t.match(Vt);if(!e)throw new Error(\"Unable to parse URL object\");return {protocol:e[1],authority:e[2],path:e[3]||\"/\",params:e[4]?e[4].split(\"&\"):[]}}function Ft(t){const e=t.params.length?`?${t.params.join(\"&\")}`:\"\";return `${t.protocol}://${t.authority}${t.path}${e}`}const Nt=\"mapbox.eventData\";function Ot(t){if(!t)return null;const e=t.split(\".\");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(atob(e[1]).split(\"\").map((t=>\"%\"+(\"00\"+t.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))}catch(t){return null}}class Ut{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null;}getStorageKey(t){const e=Ot(n.ACCESS_TOKEN);let r=\"\";return r=e&&e.u?btoa(encodeURIComponent(e.u).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode(Number(\"0x\"+e))))):n.ACCESS_TOKEN||\"\",t?`${Nt}.${t}:${r}`:`${Nt}:${r}`}fetchEventData(){const t=et(\"localStorage\"),e=this.getStorageKey(),r=this.getStorageKey(\"uuid\");if(t)try{const t=localStorage.getItem(e);t&&(this.eventData=JSON.parse(t));const n=localStorage.getItem(r);n&&(this.anonId=n);}catch(t){j(\"Unable to read from LocalStorage\");}}saveEventData(){const t=et(\"localStorage\"),e=this.getStorageKey(),r=this.getStorageKey(\"uuid\"),n=this.anonId;if(t&&n)try{localStorage.setItem(r,n),Object.keys(this.eventData).length>=1&&localStorage.setItem(e,JSON.stringify(this.eventData));}catch(t){j(\"Unable to write to LocalStorage\");}}processRequests(t){}postEvent(t,e,r,i){if(!n.EVENTS_URL)return;const a=Lt(n.EVENTS_URL);a.params.push(`access_token=${i||n.ACCESS_TOKEN||\"\"}`);const s={event:this.type,created:new Date(t).toISOString()},o=e?z(s,e):s,l={url:Ft(a),headers:{\"Content-Type\":\"text/plain\"},body:JSON.stringify([o])};this.pendingRequest=function(t,e){return kt(z(t,{method:\"POST\"}),e)}(l,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(i);}));}queueRequest(t,e){this.queue.push(t),this.processRequests(e);}}const jt=new class extends Ut{constructor(t){super(\"appUserTurnstile\"),this._customAccessToken=t;}postTurnstileEvent(t,e){n.EVENTS_URL&&n.ACCESS_TOKEN&&Array.isArray(t)&&t.some((t=>a(t)||i(t)))&&this.queueRequest(Date.now(),e);}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Ot(n.ACCESS_TOKEN),i=r?r.u:n.ACCESS_TOKEN;let a=i!==this.eventData.tokenU;D(this.anonId)||(this.anonId=C(),a=!0);const s=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(s),r=(s-this.eventData.lastSuccess)/864e5;a=a||r>=1||r<-1||t.getDate()!==e.getDate();}else a=!0;a?this.postEvent(s,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:e,skuId:Rt,\"enabled.telemetry\":!1,userId:this.anonId},(t=>{t||(this.eventData.lastSuccess=s,this.eventData.tokenU=i);}),t):this.processRequests();}},qt=jt.postTurnstileEvent.bind(jt),$t=new class extends Ut{constructor(){super(\"map.load\"),this.success={},this.skuToken=\"\";}postMapLoadEvent(t,e,r,i){this.skuToken=e,this.errorCb=i,n.EVENTS_URL&&(r||n.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(Dt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:r,timestamp:n}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),D(this.anonId)||(this.anonId=C()),this.postEvent(n,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:e,skuId:Rt,skuToken:this.skuToken,userId:this.anonId},(t=>{t?this.errorCb(t):r&&(this.success[r]=!0);}),t));}remove(){this.errorCb=null;}},Gt=$t.postMapLoadEvent.bind($t),Yt=new class extends Ut{constructor(){super(\"gljs.performance\");}postPerformanceEvent(t,e){n.EVENTS_URL&&(t||n.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},t);}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:r,performanceData:n}=this.queue.shift(),i=function(t){const r=performance.getEntriesByType(\"resource\"),n=performance.getEntriesByType(\"mark\"),i=function(t){const e={};if(t)for(const r in t)if(\"other\"!==r)for(const n of t[r]){const t=`${r}ResolveRangeMin`,i=`${r}ResolveRangeMax`,a=`${r}RequestCount`,s=`${r}RequestCachedCount`;e[t]=Math.min(e[t]||1/0,n.startTime),e[i]=Math.max(e[i]||-1/0,n.responseEnd);const o=t=>{void 0===e[t]&&(e[t]=0),++e[t];};void 0!==n.transferSize&&0===n.transferSize&&o(s),o(a);}return e}(function(t,e){const r={};if(t)for(const n of t){const t=e(n);void 0===r[t]&&(r[t]=[]),r[t].push(n);}return r}(r,c)),a=window.devicePixelRatio,s=navigator.connection||navigator.mozConnection||navigator.webkitConnection,o=s?s.effectiveType:void 0,h={counters:[],metadata:[],attributes:[]},p=(t,e,r)=>{null!=r&&t.push({name:e,value:r.toString()});};for(const t in i)p(h.counters,t,i[t]);if(t.interactionRange[0]!==1/0&&t.interactionRange[1]!==-1/0&&(p(h.counters,\"interactionRangeMin\",t.interactionRange[0]),p(h.counters,\"interactionRangeMax\",t.interactionRange[1])),n)for(const t of Object.keys(u)){const e=u[t],r=n.find((t=>t.name===e));r&&p(h.counters,e,r.startTime);}return p(h.counters,\"visibilityHidden\",t.visibilityHidden),p(h.attributes,\"style\",function(t){if(t)for(const e of t){const t=e.name.split(\"?\")[0];if(l(t)){const e=t.split(\"/\").slice(-2);if(2===e.length)return `mapbox://styles/${e[0]}/${e[1]}`}}}(r)),p(h.attributes,\"terrainEnabled\",t.terrainEnabled?\"true\":\"false\"),p(h.attributes,\"fogEnabled\",t.fogEnabled?\"true\":\"false\"),p(h.attributes,\"projection\",t.projection),p(h.attributes,\"zoom\",t.zoom),p(h.metadata,\"devicePixelRatio\",a),p(h.metadata,\"connectionEffectiveType\",o),p(h.metadata,\"navigatorUserAgent\",navigator.userAgent),p(h.metadata,\"screenWidth\",window.screen.width),p(h.metadata,\"screenHeight\",window.screen.height),p(h.metadata,\"windowWidth\",window.innerWidth),p(h.metadata,\"windowHeight\",window.innerHeight),p(h.metadata,\"mapWidth\",t.width/a),p(h.metadata,\"mapHeight\",t.height/a),p(h.metadata,\"webglRenderer\",t.renderer),p(h.metadata,\"webglVendor\",t.vendor),p(h.metadata,\"sdkVersion\",e),p(h.metadata,\"sdkIdentifier\",\"mapbox-gl-js\"),h}(n);for(const t of i.metadata);for(const t of i.counters);for(const t of i.attributes);this.postEvent(r,i,(()=>{}),t);}},Xt=Yt.postPerformanceEvent.bind(Yt),Zt=new class extends Ut{constructor(){super(\"map.auth\"),this.success={},this.skuToken=\"\";}getSession(t,e,r,i){if(!n.API_URL||!n.SESSION_PATH)return;const a=Lt(n.API_URL+n.SESSION_PATH);a.params.push(`sku=${e||\"\"}`),a.params.push(`access_token=${i||n.ACCESS_TOKEN||\"\"}`);const s={url:Ft(a),headers:{\"Content-Type\":\"text/plain\"}};this.pendingRequest=function(t,e){return kt(z(t,{method:\"GET\"}),e)}(s,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(i);}));}getSessionAPI(t,e,r,i){this.skuToken=e,this.errorCb=i,n.SESSION_PATH&&n.API_URL&&(r||n.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(Dt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||this.getSession(r,this.skuToken,(t=>{t?this.errorCb(t):e&&(this.success[e]=!0);}),t);}remove(){this.errorCb=null;}},Kt=Zt.getSessionAPI.bind(Zt),Ht=new Set;function Wt(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e));}function Jt(t,e,r){if(r&&r[t]){const n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1);}}class Qt{constructor(t,e={}){z(this,e),this.type=t;}}class te extends Qt{constructor(t,e={}){super(\"error\",z({error:t},e));}}class ee{on(t,e){return this._listeners=this._listeners||{},Wt(t,e,this._listeners),this}off(t,e){return Jt(t,e,this._listeners),Jt(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},Wt(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){\"string\"==typeof t&&(t=new Qt(t,e||{}));const r=t.type;if(this.listens(r)){t.target=this;const e=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of e)r.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const e of n)Jt(r,e,this._oneTimeListeners),e.call(this,t);const i=this._eventedParent;i&&(z(t,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(t));}else t instanceof te&&console.error(t.error);return this}listens(t){return !!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}t.y=void 0;var re={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ne(t){return (t=Math.round(t))<0?0:t>255?255:t}function ie(t){return ne(\"%\"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function ae(t){return (e=\"%\"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e;}function se(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{t.y={}.parseCSSColor=function(t){var e,r=t.replace(/ /g,\"\").toLowerCase();if(r in re)return re[r].slice();if(\"#\"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var n=r.indexOf(\"(\"),i=r.indexOf(\")\");if(-1!==n&&i+1===r.length){var a=r.substr(0,n),s=r.substr(n+1,i-(n+1)).split(\",\"),o=1;switch(a){case\"rgba\":if(4!==s.length)return null;o=ae(s.pop());case\"rgb\":return 3!==s.length?null:[ie(s[0]),ie(s[1]),ie(s[2]),o];case\"hsla\":if(4!==s.length)return null;o=ae(s.pop());case\"hsl\":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,u=ae(s[1]),c=ae(s[2]),h=c<=.5?c*(u+1):c+u-c*u,p=2*c-h;return [ne(255*se(p,h,l+1/3)),ne(255*se(p,h,l)),ne(255*se(p,h,l-1/3)),o];default:return null}}return null};}catch(t){}class oe{constructor(t,e,r,n=1){this.r=t,this.g=e,this.b=r,this.a=n;}static parse(e){if(!e)return;if(e instanceof oe)return e;if(\"string\"!=typeof e)return;const r=t.y(e);return r?new oe(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]):void 0}toString(){const[t,e,r,n]=this.toArray();return `rgba(${Math.round(t)},${Math.round(e)},${Math.round(r)},${n})`}toArray(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]}toArray01(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[t/n,e/n,r/n,n]}toArray01Scaled(t){const{r:e,g:r,b:n,a:i}=this;return 0===i?[0,0,0]:[e/i*t,r/i*t,n/i*t]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:r,a:n}=this;return [t,e,r,n]}toArray01Linear(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[Math.pow(t/n,2.2),Math.pow(e/n,2.2),Math.pow(r/n,2.2),n]}}oe.black=new oe(0,0,0,1),oe.white=new oe(1,1,1,1),oe.transparent=new oe(0,0,0,0),oe.red=new oe(1,0,0,1),oe.blue=new oe(0,0,1,1);var le=oe;function ue(t,e,r){return t*(1-r)+e*r}function ce(t,e,r){return t.map(((t,n)=>ue(t,e[n],r)))}var he=Object.freeze({__proto__:null,array:ce,color:function(t,e,r){return new le(ue(t.r,e.r,r),ue(t.g,e.g,r),ue(t.b,e.b,r),ue(t.a,e.a,r))},number:ue});function pe(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}class fe extends Error{constructor(t,e){super(e),this.message=e,this.key=t;}}var de=fe;class me{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,r]of e)this.bindings[t]=r;}concat(t){return new me(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return !!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var ye=me;const ge={kind:\"null\"},xe={kind:\"number\"},ve={kind:\"string\"},be={kind:\"boolean\"},_e={kind:\"color\"},we={kind:\"object\"},Me={kind:\"value\"},Ae={kind:\"collator\"},Se={kind:\"formatted\"},Ie={kind:\"resolvedImage\"};function ke(t,e){return {kind:\"array\",itemType:t,N:e}}function Pe(t){if(\"array\"===t.kind){const e=Pe(t.itemType);return \"number\"==typeof t.N?`array<${e}, ${t.N}>`:\"value\"===t.itemType.kind?\"array\":`array<${e}>`}return t.kind}const Ee=[ge,xe,ve,be,_e,Se,we,ke(Me),Ie];function ze(t,e){if(\"error\"===e.kind)return null;if(\"array\"===t.kind){if(\"array\"===e.kind&&(0===e.N&&\"value\"===e.itemType.kind||!ze(t.itemType,e.itemType))&&(\"number\"!=typeof t.N||t.N===e.N))return null}else {if(t.kind===e.kind)return null;if(\"value\"===t.kind)for(const t of Ee)if(!ze(t,e))return null}return `Expected ${Pe(t)} but found ${Pe(e)} instead.`}function Te(t,e){return e.some((e=>e.kind===t.kind))}function Be(t,e){return e.some((e=>\"null\"===e?null===t:\"array\"===e?Array.isArray(t):\"object\"===e?t&&!Array.isArray(t)&&\"object\"==typeof t:e===typeof t))}class Ce{constructor(t,e,r){this.sensitivity=t?e?\"variant\":\"case\":e?\"accent\":\"base\",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\"search\"});}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Re{constructor(t,e,r,n,i){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i;}}class De{constructor(t){this.sections=t;}static fromString(t){return new De([new Re(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.namePrimary.length))}static factory(t){return t instanceof De?t:De.fromString(t)}toString(){return 0===this.sections.length?\"\":this.sections.map((t=>t.text)).join(\"\")}serialize(){const t=[\"format\"];for(const e of this.sections){if(e.image){t.push([\"image\",e.image.namePrimary]);continue}t.push(e.text);const r={};e.fontStack&&(r[\"text-font\"]=[\"literal\",e.fontStack.split(\",\")]),e.scale&&(r[\"font-scale\"]=e.scale),e.textColor&&(r[\"text-color\"]=[\"rgba\"].concat(e.textColor.toArray())),t.push(r);}return t}}class Ve{constructor(t){this.namePrimary=t.namePrimary,t.nameSecondary&&(this.nameSecondary=t.nameSecondary),this.available=t.available;}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(t,e){return t?new Ve({namePrimary:t,nameSecondary:e,available:!1}):null}serialize(){return this.nameSecondary?[\"image\",this.namePrimary,this.nameSecondary]:[\"image\",this.namePrimary]}}function Le(t,e,r,n){return \"number\"==typeof t&&t>=0&&t<=255&&\"number\"==typeof e&&e>=0&&e<=255&&\"number\"==typeof r&&r>=0&&r<=255?void 0===n||\"number\"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,r,n].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(\"number\"==typeof n?[t,e,r,n]:[t,e,r]).join(\", \")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Fe(t){if(null===t)return !0;if(\"string\"==typeof t)return !0;if(\"boolean\"==typeof t)return !0;if(\"number\"==typeof t)return !0;if(t instanceof le)return !0;if(t instanceof Ce)return !0;if(t instanceof De)return !0;if(t instanceof Ve)return !0;if(Array.isArray(t)){for(const e of t)if(!Fe(e))return !1;return !0}if(\"object\"==typeof t){for(const e in t)if(!Fe(t[e]))return !1;return !0}return !1}function Ne(t){if(null===t)return ge;if(\"string\"==typeof t)return ve;if(\"boolean\"==typeof t)return be;if(\"number\"==typeof t)return xe;if(t instanceof le)return _e;if(t instanceof Ce)return Ae;if(t instanceof De)return Se;if(t instanceof Ve)return Ie;if(Array.isArray(t)){const e=t.length;let r;for(const e of t){const t=Ne(e);if(r){if(r===t)continue;r=Me;break}r=t;}return ke(r||Me,e)}return we}function Oe(t){const e=typeof t;return null===t?\"\":\"string\"===e||\"number\"===e||\"boolean\"===e?String(t):t instanceof le||t instanceof De||t instanceof Ve?t.toString():JSON.stringify(t)}class Ue{constructor(t,e){this.type=t,this.value=e;}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Fe(t[1]))return e.error(\"invalid value\");const r=t[1];let n=Ne(r);const i=e.expectedType;return \"array\"!==n.kind||0!==n.N||!i||\"array\"!==i.kind||\"number\"==typeof i.N&&0!==i.N||(n=i),new Ue(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}serialize(){return \"array\"===this.type.kind||\"object\"===this.type.kind?[\"literal\",this.value]:this.value instanceof le?[\"rgba\"].concat(this.value.toArray()):this.value instanceof De?this.value.serialize():this.value}}var je=Ue,qe=class{constructor(t){this.name=\"ExpressionEvaluationError\",this.message=t;}toJSON(){return this.message}};const $e={string:ve,number:xe,boolean:be,object:we};class Ge{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");let r,n=1;const i=t[0];if(\"array\"===i){let i,a;if(t.length>2){const r=t[1];if(\"string\"!=typeof r||!(r in $e)||\"object\"===r)return e.error('The item type argument of \"array\" must be one of string, number, boolean',1);i=$e[r],n++;}else i=Me;if(t.length>3){if(null!==t[2]&&(\"number\"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to \"array\" must be a positive integer literal',2);a=t[2],n++;}r=ke(i,a);}else r=$e[i];const a=[];for(;n<t.length;n++){const r=e.parse(t[n],n,Me);if(!r)return null;a.push(r);}return new Ge(r,a)}evaluate(t){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(t);if(!ze(this.type,Ne(r)))return r;if(e===this.args.length-1)throw new qe(`Expected value to be of type ${Pe(this.type)}, but found ${Pe(Ne(r))} instead.`)}return null}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if(\"array\"===t.kind){const r=t.itemType;if(\"string\"===r.kind||\"number\"===r.kind||\"boolean\"===r.kind){e.push(r.kind);const n=t.N;(\"number\"==typeof n||this.args.length>1)&&e.push(n);}}return e.concat(this.args.map((t=>t.serialize())))}}var Ye=Ge;class Xe{constructor(t){this.type=Se,this.sections=t;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[1];if(!Array.isArray(r)&&\"object\"==typeof r)return e.error(\"First argument must be an image or text section.\");const n=[];let i=!1;for(let r=1;r<=t.length-1;++r){const a=t[r];if(i&&\"object\"==typeof a&&!Array.isArray(a)){i=!1;let t=null;if(a[\"font-scale\"]&&(t=e.parse(a[\"font-scale\"],1,xe),!t))return null;let r=null;if(a[\"text-font\"]&&(r=e.parse(a[\"text-font\"],1,ke(ve)),!r))return null;let s=null;if(a[\"text-color\"]&&(s=e.parse(a[\"text-color\"],1,_e),!s))return null;const o=n[n.length-1];o.scale=t,o.font=r,o.textColor=s;}else {const a=e.parse(t[r],1,Me);if(!a)return null;const s=a.type.kind;if(\"string\"!==s&&\"value\"!==s&&\"null\"!==s&&\"resolvedImage\"!==s)return e.error(\"Formatted text type must be 'string', 'value', 'image' or 'null'.\");i=!0,n.push({content:a,scale:null,font:null,textColor:null});}}return new Xe(n)}evaluate(t){return new De(this.sections.map((e=>{const r=e.content.evaluate(t);return Ne(r)===Ie?new Re(\"\",r,null,null,null):new Re(Oe(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(\",\"):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor);}outputDefined(){return !1}serialize(){const t=[\"format\"];for(const e of this.sections){t.push(e.content.serialize());const r={};e.scale&&(r[\"font-scale\"]=e.scale.serialize()),e.font&&(r[\"text-font\"]=e.font.serialize()),e.textColor&&(r[\"text-color\"]=e.textColor.serialize()),t.push(r);}return t}}class Ze{constructor(t,e){this.type=Ie,this.inputPrimary=t,this.inputSecondary=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected two or more arguments.\");const r=e.parse(t[1],1,ve);if(!r)return e.error(\"No image name provided.\");if(2===t.length)return new Ze(r);const n=e.parse(t[2],1,ve);return n?new Ze(r,n):e.error(\"Secondary image variant is not a string.\")}evaluate(t){const e=Ve.fromString(this.inputPrimary.evaluate(t),this.inputSecondary?this.inputSecondary.evaluate(t):void 0);return e&&t.availableImages&&(e.available=t.availableImages.indexOf(e.namePrimary)>-1,e.nameSecondary&&e.available&&t.availableImages&&(e.available=t.availableImages.indexOf(e.nameSecondary)>-1)),e}eachChild(t){t(this.inputPrimary),this.inputSecondary&&t(this.inputSecondary);}outputDefined(){return !1}serialize(){return this.inputSecondary?[\"image\",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:[\"image\",this.inputPrimary.serialize()]}}function Ke(t){return t instanceof Number?\"number\":t instanceof String?\"string\":t instanceof Boolean?\"boolean\":Array.isArray(t)?\"array\":null===t?\"null\":typeof t}const He={\"to-boolean\":be,\"to-color\":_e,\"to-number\":xe,\"to-string\":ve};class We{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[0],n=[];let i=ge;if(\"to-array\"===r){if(!Array.isArray(t[1]))return null;const r=t[1].length;if(e.expectedType){if(\"array\"!==e.expectedType.kind)return e.error(`Expected ${e.expectedType.kind} but found array.`);i=ke(e.expectedType.itemType,r);}else {if(!(r>0&&Fe(t[1][0])))return null;i=ke(Ne(t[1][0]),r);}for(let a=0;a<r;a++){const r=t[1][a];let s;if(\"array\"===Ke(r))s=e.parse(r,void 0,i.itemType);else {const t=Ke(r);if(t!==i.itemType.kind)return e.error(`Expected ${i.itemType.kind} but found ${t}.`);s=e.registry.literal.parse([\"literal\",void 0===r?null:r],e);}if(!s)return null;n.push(s);}}else {if((\"to-boolean\"===r||\"to-string\"===r)&&2!==t.length)return e.error(\"Expected one argument.\");i=He[r];for(let r=1;r<t.length;r++){const i=e.parse(t[r],r,Me);if(!i)return null;n.push(i);}}return new We(i,n)}evaluate(t){if(\"boolean\"===this.type.kind)return Boolean(this.args[0].evaluate(t));if(\"color\"===this.type.kind){let e,r;for(const n of this.args){if(e=n.evaluate(t),r=null,e instanceof le)return e;if(\"string\"==typeof e){const r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&(r=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Le(e[0],e[1],e[2],e[3]),!r))return new le(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new qe(r||`Could not parse color from value '${\"string\"==typeof e?e:String(JSON.stringify(e))}'`)}if(\"number\"===this.type.kind){let e=null;for(const r of this.args){if(e=r.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new qe(`Could not convert ${JSON.stringify(e)} to number.`)}return \"formatted\"===this.type.kind?De.fromString(Oe(this.args[0].evaluate(t))):\"resolvedImage\"===this.type.kind?Ve.fromString(Oe(this.args[0].evaluate(t))):\"array\"===this.type.kind?this.args.map((e=>e.evaluate(t))):Oe(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if(\"formatted\"===this.type.kind)return new Xe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\"resolvedImage\"===this.type.kind)return new Ze(this.args[0]).serialize();const t=\"array\"===this.type.kind?[]:[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Je=We;const Qe=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];var tr=class{constructor(t,e){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=t,this.options=e;}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?\"number\"==typeof this.feature.type?Qe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&\"geometry\"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(t){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*e-t[0])+this.featureDistanceData.bearing[1]*(n*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=le.parse(t)),e}getConfig(t){return this.options?this.options.get(t):null}};class er{constructor(t,e,r,n,i){this.name=t,this.type=e,this._evaluate=r,this.args=n,this._overloadIndex=i;}evaluate(t){if(!this._evaluate){const t=er.definitions[this.name];this._evaluate=Array.isArray(t)?t[2]:t.overloads[this._overloadIndex][1];}return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t);}outputDefined(){return !1}serialize(){return [this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const r=t[0],n=er.definitions[r];if(!n)return e.error(`Unknown expression \"${r}\". If you wanted a literal array, use [\"literal\", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,s=[];let o=null,l=-1;for(const[n,u]of a){if(Array.isArray(n)&&n.length!==t.length-1)continue;s.push(n),l++,o=new _n(e.registry,e.path,null,e.scope,void 0,e._scope,e.options);const a=[];let c=!1;for(let e=1;e<t.length;e++){const r=t[e],i=Array.isArray(n)?n[e-1]:n.type,s=o.parse(r,1+a.length,i);if(!s){c=!0;break}a.push(s);}if(!c)if(Array.isArray(n)&&n.length!==a.length)o.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else {for(let t=0;t<a.length;t++){const e=Array.isArray(n)?n[t]:n.type,r=a[t];o.concat(t+1).checkSubtype(e,r.type);}if(0===o.errors.length)return new er(r,i,u,a,l)}}if(1===s.length)e.errors.push(...o.errors);else {const r=(s.length?s:a.map((([t])=>t))).map(rr).join(\" | \"),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(Pe(i.type));}e.error(`Expected arguments of type ${r}, but found (${n.join(\", \")}) instead.`);}return null}static register(t,e){er.definitions=e;for(const r in e)t[r]=er;}}function rr(t){return Array.isArray(t)?`(${t.map(Pe).join(\", \")})`:`(${Pe(t.type)}...)`}var nr=er;class ir{constructor(t,e,r){this.type=Ae,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e;}static parse(t,e){if(2!==t.length)return e.error(\"Expected one argument.\");const r=t[1];if(\"object\"!=typeof r||Array.isArray(r))return e.error(\"Collator options argument must be an object.\");const n=e.parse(void 0!==r[\"case-sensitive\"]&&r[\"case-sensitive\"],1,be);if(!n)return null;const i=e.parse(void 0!==r[\"diacritic-sensitive\"]&&r[\"diacritic-sensitive\"],1,be);if(!i)return null;let a=null;return r.locale&&(a=e.parse(r.locale,1,ve),!a)?null:new ir(n,i,a)}evaluate(t){return new Ce(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale);}outputDefined(){return !1}serialize(){const t={};return t[\"case-sensitive\"]=this.caseSensitive.serialize(),t[\"diacritic-sensitive\"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),[\"collator\",t]}}var ar={exports:{}};ar.exports=function(){function t(r,n,i,a,s){for(;a>i;){if(a-i>600){var o=a-i+1,l=n-i+1,u=Math.log(o),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(o-c)/o)*(l-o/2<0?-1:1);t(r,n,Math.max(i,Math.floor(n-l*c/o+h)),Math.min(a,Math.floor(n+(o-l)*c/o+h)),s);}var p=r[n],f=i,d=a;for(e(r,i,n),s(r[a],p)>0&&e(r,i,a);f<d;){for(e(r,f,d),f++,d--;s(r[f],p)<0;)f++;for(;s(r[d],p)>0;)d--;}0===s(r[i],p)?e(r,i,d):e(r,++d,a),d<=n&&(i=d+1),n<=d&&(a=d-1);}}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}function r(t,e){return t<e?-1:t>e?1:0}return function(e,n,i,a,s){t(e,n,i||0,a||e.length-1,s||r);}}();var sr=h(ar.exports);function or(t){let e=0;for(let r,n,i=0,a=t.length,s=a-1;i<a;s=i++)r=t[i],n=t[s],e+=(n.x-r.x)*(r.y+n.y);return e}function lr(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1]);}function ur(t,e){return !(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function cr(t,e,r){const n=t[0]-e[0],i=t[1]-e[1],a=t[0]-r[0],s=t[1]-r[1];return n*s-a*i==0&&n*a<=0&&i*s<=0}function hr(t,e,r=!1){let n=!1;for(let o=0,l=e.length;o<l;o++){const l=e[o];for(let e=0,o=l.length,u=o-1;e<o;u=e++){const o=l[u],c=l[e];if(cr(t,o,c))return r;(a=o)[1]>(i=t)[1]!=(s=c)[1]>i[1]&&i[0]<(s[0]-a[0])*(i[1]-a[1])/(s[1]-a[1])+a[0]&&(n=!n);}}var i,a,s;return n}function pr(t,e,r,n){const i=n[0]-r[0],a=n[1]-r[1],s=(t[0]-r[0])*a-i*(t[1]-r[1]),o=(e[0]-r[0])*a-i*(e[1]-r[1]);return s>0&&o<0||s<0&&o>0}function fr(t,e,r,n){return 0!=(i=[n[0]-r[0],n[1]-r[1]])[0]*(a=[e[0]-t[0],e[1]-t[1]])[1]-i[1]*a[0]&&!(!pr(t,e,r,n)||!pr(r,n,t,e));var i,a;}const dr=8192;function mr(t,e){const r=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return [Math.round(r*i*dr),Math.round(n*i*dr)]}function yr(t,e){for(let r=0;r<e.length;r++)if(hr(t,e[r]))return !0;return !1}function gr(t,e,r){for(const n of r)for(let r=0,i=n.length,a=i-1;r<i;a=r++)if(fr(t,e,n[a],n[r]))return !0;return !1}function xr(t,e){for(let r=0;r<t.length;++r)if(!hr(t[r],e))return !1;for(let r=0;r<t.length-1;++r)if(gr(t[r],t[r+1],e))return !1;return !0}function vr(t,e){for(let r=0;r<e.length;r++)if(xr(t,e[r]))return !0;return !1}function br(t,e,r){const n=[];for(let i=0;i<t.length;i++){const a=[];for(let n=0;n<t[i].length;n++){const s=mr(t[i][n],r);lr(e,s),a.push(s);}n.push(a);}return n}function _r(t,e,r){const n=[];for(let i=0;i<t.length;i++){const a=br(t[i],e,r);n.push(a);}return n}function wr(t,e,r,n){if(t[0]<r[0]||t[0]>r[2]){const e=.5*n;let i=t[0]-r[0]>e?-n:r[0]-t[0]>e?n:0;0===i&&(i=t[0]-r[2]>e?-n:r[2]-t[0]>e?n:0),t[0]+=i;}lr(e,t);}function Mr(t,e,r,n){const i=Math.pow(2,n.z)*dr,a=[n.x*dr,n.y*dr],s=[];if(!t)return s;for(const n of t)for(const t of n){const n=[t.x+a[0],t.y+a[1]];wr(n,e,r,i),s.push(n);}return s}function Ar(t,e,r,n){const i=Math.pow(2,n.z)*dr,a=[n.x*dr,n.y*dr],s=[];if(!t)return s;for(const r of t){const t=[];for(const n of r){const r=[n.x+a[0],n.y+a[1]];lr(e,r),t.push(r);}s.push(t);}if(e[2]-e[0]<=i/2){(o=e)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const t of s)for(const n of t)wr(n,e,r,i);}var o;return s}class Sr{constructor(t,e){this.type=be,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Fe(t[1])){const e=t[1];if(\"FeatureCollection\"===e.type)for(let t=0;t<e.features.length;++t){const r=e.features[t].geometry.type;if(\"Polygon\"===r||\"MultiPolygon\"===r)return new Sr(e,e.features[t].geometry)}else if(\"Feature\"===e.type){const t=e.geometry.type;if(\"Polygon\"===t||\"MultiPolygon\"===t)return new Sr(e,e.geometry)}else if(\"Polygon\"===e.type||\"MultiPolygon\"===e.type)return new Sr(e,e)}return e.error(\"'within' expression requires valid geojson object that contains polygon geometry type.\")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if(\"Point\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const a=br(e.coordinates,n,i),s=Mr(t.geometry(),r,n,i);if(!ur(r,n))return !1;for(const t of s)if(!hr(t,a))return !1}if(\"MultiPolygon\"===e.type){const a=_r(e.coordinates,n,i),s=Mr(t.geometry(),r,n,i);if(!ur(r,n))return !1;for(const t of s)if(!yr(t,a))return !1}return !0}(t,this.geometries);if(\"LineString\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const a=br(e.coordinates,n,i),s=Ar(t.geometry(),r,n,i);if(!ur(r,n))return !1;for(const t of s)if(!xr(t,a))return !1}if(\"MultiPolygon\"===e.type){const a=_r(e.coordinates,n,i),s=Ar(t.geometry(),r,n,i);if(!ur(r,n))return !1;for(const t of s)if(!vr(t,a))return !1}return !0}(t,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}serialize(){return [\"within\",this.geojson]}}var Ir=Sr,kr={exports:{}};kr.exports=function(){var t={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},e=1/298.257223563,r=e*(2-e),n=Math.PI/180,i=function(e,i){if(void 0===e)throw new Error(\"No latitude given.\");if(i&&!t[i])throw new Error(\"Unknown unit \"+i+\". Use one of: \"+Object.keys(t).join(\", \"));var a=6378.137*n*(i?t[i]:1),s=Math.cos(e*n),o=1/(1-r*(1-s*s)),l=Math.sqrt(o);this.kx=a*l*s,this.ky=a*l*o*(1-r);},a={units:{configurable:!0}};function s(t,e){return t[0]===e[0]&&t[1]===e[1]}function o(t,e,r){var n=l(e[0]-t[0]);return [t[0]+n*r,t[1]+(e[1]-t[1])*r]}function l(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}return i.fromTile=function(t,e,r){var a=Math.PI*(1-2*(t+.5)/Math.pow(2,e)),s=Math.atan(.5*(Math.exp(a)-Math.exp(-a)))/n;return new i(s,r)},a.units.get=function(){return t},i.prototype.distance=function(t,e){var r=l(t[0]-e[0])*this.kx,n=(t[1]-e[1])*this.ky;return Math.sqrt(r*r+n*n)},i.prototype.bearing=function(t,e){var r=l(e[0]-t[0])*this.kx;return Math.atan2(r,(e[1]-t[1])*this.ky)/n},i.prototype.destination=function(t,e,r){var i=r*n;return this.offset(t,Math.sin(i)*e,Math.cos(i)*e)},i.prototype.offset=function(t,e,r){return [t[0]+e/this.kx,t[1]+r/this.ky]},i.prototype.lineDistance=function(t){for(var e=0,r=0;r<t.length-1;r++)e+=this.distance(t[r],t[r+1]);return e},i.prototype.area=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=t[r],i=0,a=n.length,s=a-1;i<a;s=i++)e+=l(n[i][0]-n[s][0])*(n[i][1]+n[s][1])*(r?-1:1);return Math.abs(e)/2*this.kx*this.ky},i.prototype.along=function(t,e){var r=0;if(e<=0)return t[0];for(var n=0;n<t.length-1;n++){var i=t[n],a=t[n+1],s=this.distance(i,a);if((r+=s)>e)return o(i,a,(e-(r-s))/s)}return t[t.length-1]},i.prototype.pointToSegmentDistance=function(t,e,r){var n=e[0],i=e[1],a=l(r[0]-n)*this.kx,s=(r[1]-i)*this.ky,o=0;return 0===a&&0===s||((o=(l(t[0]-n)*this.kx*a+(t[1]-i)*this.ky*s)/(a*a+s*s))>1?(n=r[0],i=r[1]):o>0&&(n+=a/this.kx*o,i+=s/this.ky*o)),a=l(t[0]-n)*this.kx,s=(t[1]-i)*this.ky,Math.sqrt(a*a+s*s)},i.prototype.pointOnLine=function(t,e){for(var r,n,i,a,s=1/0,o=0;o<t.length-1;o++){var u=t[o][0],c=t[o][1],h=l(t[o+1][0]-u)*this.kx,p=(t[o+1][1]-c)*this.ky,f=0;0===h&&0===p||((f=(l(e[0]-u)*this.kx*h+(e[1]-c)*this.ky*p)/(h*h+p*p))>1?(u=t[o+1][0],c=t[o+1][1]):f>0&&(u+=h/this.kx*f,c+=p/this.ky*f));var d=(h=l(e[0]-u)*this.kx)*h+(p=(e[1]-c)*this.ky)*p;d<s&&(s=d,r=u,n=c,i=o,a=f);}return {point:[r,n],index:i,t:Math.max(0,Math.min(1,a))}},i.prototype.lineSlice=function(t,e,r){var n=this.pointOnLine(r,t),i=this.pointOnLine(r,e);if(n.index>i.index||n.index===i.index&&n.t>i.t){var a=n;n=i,i=a;}var o=[n.point],l=n.index+1,u=i.index;!s(r[l],o[0])&&l<=u&&o.push(r[l]);for(var c=l+1;c<=u;c++)o.push(r[c]);return s(r[u],i.point)||o.push(i.point),o},i.prototype.lineSliceAlong=function(t,e,r){for(var n=0,i=[],a=0;a<r.length-1;a++){var s=r[a],l=r[a+1],u=this.distance(s,l);if((n+=u)>t&&0===i.length&&i.push(o(s,l,(t-(n-u))/u)),n>=e)return i.push(o(s,l,(e-(n-u))/u)),i;n>t&&i.push(l);}return i},i.prototype.bufferPoint=function(t,e){var r=e/this.ky,n=e/this.kx;return [t[0]-n,t[1]-r,t[0]+n,t[1]+r]},i.prototype.bufferBBox=function(t,e){var r=e/this.ky,n=e/this.kx;return [t[0]-n,t[1]-r,t[2]+n,t[3]+r]},i.prototype.insideBBox=function(t,e){return l(t[0]-e[0])>=0&&l(t[0]-e[2])<=0&&t[1]>=e[1]&&t[1]<=e[3]},Object.defineProperties(i,a),i}();var Pr=h(kr.exports),Er={exports:{}};Er.exports=function(){var t=function(t,r){if(void 0===t&&(t=[]),void 0===r&&(r=e),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n);};function e(t,e){return t<e?-1:t>e?1:0}return t.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1);},t.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},t.prototype.peek=function(){return this.data[0]},t.prototype._up=function(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var i=t-1>>1,a=e[i];if(r(n,a)>=0)break;e[t]=a,t=i;}e[t]=n;},t.prototype._down=function(t){for(var e=this.data,r=this.compare,n=this.length>>1,i=e[t];t<n;){var a=1+(t<<1),s=e[a],o=a+1;if(o<this.length&&r(e[o],s)<0&&(a=o,s=e[o]),r(s,i)>=0)break;e[t]=s,t=a;}e[t]=i;},t}();var zr=h(Er.exports),Tr=8192;function Br(t,e){return e.dist-t.dist}const Cr=100,Rr=50;function Dr(t){const e=[1/0,1/0,-1/0,-1/0];if(e.length!==t.length)return !1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return !1;return !0}function Vr(t){return t[1]-t[0]+1}function Lr(t,e){const r=t[1]>=t[0]&&t[1]<e;return r||console.warn(\"Distance Expression: Index is out of range\"),r}function Fr(t,e){if(t[0]>t[1])return [null,null];const r=Vr(t);if(e){if(2===r)return [t,null];const e=Math.floor(r/2);return [[t[0],t[0]+e],[t[0]+e,t[1]]]}{if(1===r)return [t,null];const e=Math.floor(r/2)-1;return [[t[0],t[0]+e],[t[0]+e+1,t[1]]]}}function Nr(t,e){const r=[1/0,1/0,-1/0,-1/0];if(!Lr(e,t.length))return r;for(let n=e[0];n<=e[1];++n)lr(r,t[n]);return r}function Or(t){const e=[1/0,1/0,-1/0,-1/0];for(let r=0;r<t.length;++r)for(let n=0;n<t[r].length;++n)lr(e,t[r][n]);return e}function Ur(t,e,r){if(Dr(t)||Dr(e))return NaN;let n=0,i=0;return t[2]<e[0]&&(n=e[0]-t[2]),t[0]>e[2]&&(n=t[0]-e[2]),t[1]>e[3]&&(i=t[1]-e[3]),t[3]<e[1]&&(i=e[1]-t[3]),r.distance([0,0],[n,i])}function jr(t){return 360*t-180}function qr(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function $r(t,e){const r=Math.pow(2,e.z),n=(t.y/Tr+e.y)/r;return [jr((t.x/Tr+e.x)/r),qr(n)]}function Gr(t,e){const r=[];for(let n=0;n<t.length;++n)r.push($r(t[n],e));return r}function Yr(t,e,r){const n=r.pointOnLine(e,t).point;return r.distance(t,n)}function Xr(t,e,r,n,i){const a=r.slice(n[0],n[1]+1);let s=1/0;for(let r=e[0];r<=e[1];++r)if(0===(s=Math.min(s,Yr(t[r],a,i))))return 0;return s}function Zr(t,e,r,n,i){const a=Math.min(i.pointToSegmentDistance(t,r,n),i.pointToSegmentDistance(e,r,n)),s=Math.min(i.pointToSegmentDistance(r,t,e),i.pointToSegmentDistance(n,t,e));return Math.min(a,s)}function Kr(t,e,r,n,i){if(!Lr(e,t.length)||!Lr(n,r.length))return NaN;let a=1/0;for(let s=e[0];s<e[1];++s)for(let e=n[0];e<n[1];++e){if(fr(t[s],t[s+1],r[e],r[e+1]))return 0;a=Math.min(a,Zr(t[s],t[s+1],r[e],r[e+1],i));}return a}function Hr(t,e,r,n,i){if(!Lr(e,t.length)||!Lr(n,r.length))return NaN;let a=1/0;for(let s=e[0];s<=e[1];++s)for(let e=n[0];e<=n[1];++e)if(0===(a=Math.min(a,i.distance(t[s],r[e]))))return a;return a}function Wr(t,e,r){if(hr(t,e,!0))return 0;let n=1/0;for(const i of e){const e=i.length;if(e<2)return console.warn(\"Distance Expression: Invalid polygon!\"),NaN;if(i[0]!==i[e-1]&&0===(n=Math.min(n,r.pointToSegmentDistance(t,i[e-1],i[0]))))return n;if(0===(n=Math.min(n,Yr(t,i,r))))return n}return n}function Jr(t,e,r,n){if(!Lr(e,t.length))return NaN;for(let n=e[0];n<=e[1];++n)if(hr(t[n],r,!0))return 0;let i=1/0;for(let a=e[0];a<e[1];++a)for(const e of r)for(let r=0,s=e.length,o=s-1;r<s;o=r++){if(fr(t[a],t[a+1],e[o],e[r]))return 0;i=Math.min(i,Zr(t[a],t[a+1],e[o],e[r],n));}return i}function Qr(t,e){for(const r of t)for(let t=0;t<=r.length-1;++t)if(hr(r[t],e,!0))return !0;return !1}function tn(t,e,r,n=1/0){const i=Or(t),a=Or(e);if(n!==1/0&&Ur(i,a,r)>=n)return n;if(ur(i,a)){if(Qr(t,e))return 0}else if(Qr(e,t))return 0;let s=n;for(const n of t)for(let t=0,i=n.length,a=i-1;t<i;a=t++)for(const i of e)for(let e=0,o=i.length,l=o-1;e<o;l=e++){if(fr(n[a],n[t],i[l],i[e]))return 0;s=Math.min(s,Zr(n[a],n[t],i[l],i[e],r));}return s}function en(t,e,r,n,i,a,s){if(null===a||null===s)return;const o=Ur(Nr(n,a),Nr(i,s),r);o<e&&t.push({dist:o,range1:a,range2:s});}function rn(t,e,r,n,i=1/0){let a=Math.min(n.distance(t[0],r[0][0]),i);if(0===a)return a;const s=new zr([{dist:0,range1:[0,t.length-1],range2:[0,0]}],Br),o=e?Rr:Cr,l=Or(r);for(;s.length;){const i=s.pop();if(i.dist>=a)continue;const u=i.range1;if(Vr(u)<=o){if(!Lr(u,t.length))return NaN;if(e){const e=Jr(t,u,r,n);if(0===(a=Math.min(a,e)))return a}else for(let e=u[0];e<=u[1];++e){const i=Wr(t[e],r,n);if(0===(a=Math.min(a,i)))return a}}else {const r=Fr(u,e);if(null!==r[0]){const e=Ur(Nr(t,r[0]),l,n);e<a&&s.push({dist:e,range1:r[0],range2:[0,0]});}if(null!==r[1]){const e=Ur(Nr(t,r[1]),l,n);e<a&&s.push({dist:e,range1:r[1],range2:[0,0]});}}}return a}function nn(t,e,r,n,i,a=1/0){let s=Math.min(a,i.distance(t[0],r[0]));if(0===s)return s;const o=new zr([{dist:0,range1:[0,t.length-1],range2:[0,r.length-1]}],Br),l=e?Rr:Cr,u=n?Rr:Cr;for(;o.length;){const a=o.pop();if(a.dist>=s)continue;const c=a.range1,h=a.range2;if(Vr(c)<=l&&Vr(h)<=u){if(!Lr(c,t.length)||!Lr(h,r.length))return NaN;if(e&&n?s=Math.min(s,Kr(t,c,r,h,i)):e||n?e&&!n?s=Math.min(s,Xr(r,h,t,c,i)):!e&&n&&(s=Math.min(s,Xr(t,c,r,h,i))):s=Math.min(s,Hr(t,c,r,h,i)),0===s)return s}else {const a=Fr(c,e),l=Fr(h,n);en(o,s,i,t,r,a[0],l[0]),en(o,s,i,t,r,a[0],l[1]),en(o,s,i,t,r,a[1],l[0]),en(o,s,i,t,r,a[1],l[1]);}}return s}function an(t,e,r,n,i=1/0){let a=i;const s=Nr(t,[0,t.length-1]);for(const i of r)if(!(a!==1/0&&Ur(s,Nr(i,[0,i.length-1]),n)>=a)&&(a=Math.min(a,nn(t,e,i,!0,n,a)),0===a))return a;return a}function sn(t,e,r,n,i=1/0){let a=i;const s=Nr(t,[0,t.length-1]);for(const i of r){if(a!==1/0&&Ur(s,Or(i),n)>=a)continue;const r=rn(t,e,i,n,a);if(isNaN(r))return r;if(0===(a=Math.min(a,r)))return a}return a}function on(t){return \"Point\"===t||\"MultiPoint\"===t||\"LineString\"===t||\"MultiLineString\"===t||\"Polygon\"===t||\"MultiPolygon\"===t}class ln{constructor(t,e){this.type=xe,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'distance' expression requires either one argument, but found ' ${t.length-1} instead.`);if(Fe(t[1])){const e=t[1];if(\"FeatureCollection\"===e.type){for(let t=0;t<e.features.length;++t)if(on(e.features[t].geometry.type))return new ln(e,e.features[t].geometry)}else if(\"Feature\"===e.type){if(on(e.geometry.type))return new ln(e,e.geometry)}else if(on(e.type))return new ln(e,e)}return e.error(\"'distance' expression needs to be an array with format ['Distance', GeoJSONObj].\")}evaluate(t){const e=t.geometry(),r=t.canonicalID();if(null!=e&&null!=r){if(\"Point\"===t.geometryType())return function(t,e,r){const n=[];for(const r of t)for(const t of r)n.push($r(t,e));const i=new Pr(n[0][1],\"meters\");return \"Point\"===r.type||\"MultiPoint\"===r.type||\"LineString\"===r.type?nn(n,!1,\"Point\"===r.type?[r.coordinates]:r.coordinates,\"LineString\"===r.type,i):\"MultiLineString\"===r.type?an(n,!1,r.coordinates,i):\"Polygon\"===r.type||\"MultiPolygon\"===r.type?sn(n,!1,\"Polygon\"===r.type?[r.coordinates]:r.coordinates,i):null}(e,r,this.geometries);if(\"LineString\"===t.geometryType())return function(t,e,r){const n=[];for(const r of t){const t=[];for(const n of r)t.push($r(n,e));n.push(t);}const i=new Pr(n[0][0][1],\"meters\");if(\"Point\"===r.type||\"MultiPoint\"===r.type||\"LineString\"===r.type)return an(\"Point\"===r.type?[r.coordinates]:r.coordinates,\"LineString\"===r.type,n,i);if(\"MultiLineString\"===r.type){let t=1/0;for(let e=0;e<r.coordinates.length;e++){const a=an(r.coordinates[e],!0,n,i,t);if(isNaN(a))return a;if(0===(t=Math.min(t,a)))return t}return t}if(\"Polygon\"===r.type||\"MultiPolygon\"===r.type){let t=1/0;for(let e=0;e<n.length;e++){const a=sn(n[e],!0,\"Polygon\"===r.type?[r.coordinates]:r.coordinates,i,t);if(isNaN(a))return a;if(0===(t=Math.min(t,a)))return t}return t}return null}(e,r,this.geometries);if(\"Polygon\"===t.geometryType())return function(t,e,r){const n=[];for(const r of function(t,e){const r=t.length;if(r<=1)return [t];const n=[];let i,a;for(let e=0;e<r;e++){const r=or(t[e]);0!==r&&(t[e].area=Math.abs(r),void 0===a&&(a=r<0),a===r<0?(i&&n.push(i),i=[t[e]]):i.push(t[e]));}return i&&n.push(i),n}(t)){const t=[];for(let n=0;n<r.length;++n)t.push(Gr(r[n],e));n.push(t);}const i=new Pr(n[0][0][0][1],\"meters\");if(\"Point\"===r.type||\"MultiPoint\"===r.type||\"LineString\"===r.type)return sn(\"Point\"===r.type?[r.coordinates]:r.coordinates,\"LineString\"===r.type,n,i);if(\"MultiLineString\"===r.type){let t=1/0;for(let e=0;e<r.coordinates.length;e++){const a=sn(r.coordinates[e],!0,n,i,t);if(isNaN(a))return a;if(0===(t=Math.min(t,a)))return t}return t}return \"Polygon\"===r.type||\"MultiPolygon\"===r.type?function(t,e,r){let n=1/0;for(const i of t)for(const t of e){const e=tn(i,t,r,n);if(isNaN(e))return e;if(0===(n=Math.min(n,e)))return n}return n}(\"Polygon\"===r.type?[r.coordinates]:r.coordinates,n,i):null}(e,r,this.geometries);console.warn(\"Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.\");}else console.warn(\"Distance Expression: requirs valid feature and canonical information.\");return null}eachChild(){}outputDefined(){return !0}serialize(){return [\"distance\",this.geojson]}}var un=ln;function cn(t,e){switch(t){case\"string\":return Oe(e);case\"number\":return +e;case\"boolean\":return !!e;case\"color\":return le.parse(e);case\"formatted\":return De.fromString(Oe(e));case\"resolvedImage\":return Ve.fromString(Oe(e))}return e}function hn(t,e,r,n){return void 0!==n&&(t=n*Math.round(t/n)),void 0!==e&&t<e&&(t=e),void 0!==r&&t>r&&(t=r),t}class pn{constructor(t,e,r){this.type=t,this.key=e,this.scope=r;}static parse(t,e){let r=e.expectedType;if(null==r&&(r=Me),t.length<2||t.length>3)return e.error(\"Invalid number of arguments for 'config' expression.\");const n=e.parse(t[1],1);if(!(n instanceof je))return e.error(\"Key name of 'config' expression must be a string literal.\");if(t.length>=3){const i=e.parse(t[2],2);return i instanceof je?new pn(r,Oe(n.value),Oe(i.value)):e.error(\"Scope of 'config' expression must be a string literal.\")}return new pn(r,Oe(n.value))}evaluate(t){const e=[this.key,this.scope,t.scope].filter(Boolean).join(\"\u001f\"),r=t.getConfig(e);if(!r)return null;const{type:n,value:i,values:a,minValue:s,maxValue:o,stepValue:l}=r,u=r.default.evaluate(t);let c=u;if(i){const e=t.scope;t.scope=(e||\"\").split(\"\u001f\").slice(1).join(\"\u001f\"),c=i.evaluate(t),t.scope=e;}return n&&(c=cn(n,c)),void 0===c||void 0===s&&void 0===o&&void 0===l||(\"number\"==typeof c?c=hn(c,s,o,l):Array.isArray(c)&&(c=c.map((t=>\"number\"==typeof t?hn(t,s,o,l):t)))),void 0!==i&&void 0!==c&&a&&!a.includes(c)&&(c=u,n&&(c=cn(n,c))),(n&&n!==this.type||void 0!==c&&Ne(c)!==this.type)&&(c=cn(this.type.kind,c)),c}eachChild(){}outputDefined(){return !1}serialize(){const t=[\"config\",this.key];return this.scope&&t.concat(this.key),t}}var fn=pn;function dn(t){if(t instanceof nr){if(\"get\"===t.name&&1===t.args.length)return !1;if(\"feature-state\"===t.name)return !1;if(\"has\"===t.name&&1===t.args.length)return !1;if(\"properties\"===t.name||\"geometry-type\"===t.name||\"id\"===t.name)return !1;if(/^filter-/.test(t.name))return !1}if(t instanceof Ir)return !1;if(t instanceof un)return !1;let e=!0;return t.eachChild((t=>{e&&!dn(t)&&(e=!1);})),e}function mn(t){if(t instanceof nr&&\"feature-state\"===t.name)return !1;let e=!0;return t.eachChild((t=>{e&&!mn(t)&&(e=!1);})),e}function yn(t){if(t instanceof fn)return !1;let e=!0;return t.eachChild((t=>{e&&!yn(t)&&(e=!1);})),e}function gn(t,e){if(t instanceof nr&&e.indexOf(t.name)>=0)return !1;let r=!0;return t.eachChild((t=>{r&&!gn(t,e)&&(r=!1);})),r}class xn{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e;}static parse(t,e){if(2!==t.length||\"string\"!=typeof t[1])return e.error(\"'var' expression requires exactly one string literal argument.\");const r=t[1];return e.scope.has(r)?new xn(r,e.scope.get(r)):e.error(`Unknown variable \"${r}\". Make sure \"${r}\" has been bound in an enclosing \"let\" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return !1}serialize(){return [\"var\",this.name]}}var vn=xn;class bn{constructor(t,e=[],r,n=new ye,i=[],a,s){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(\"\"),this.scope=n,this.errors=i,this.expectedType=r,this._scope=a,this.options=s;}parse(t,e,r,n,i={}){return e||r?this.concat(e,r,n)._parse(t,i):this._parse(t,i)}_parse(t,e){function r(t,e,r){return \"assert\"===r?new Ye(e,[t]):\"coerce\"===r?new Je(e,[t]):t}if(null!==t&&\"string\"!=typeof t&&\"boolean\"!=typeof t&&\"number\"!=typeof t||(t=[\"literal\",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].');const n=\"string\"==typeof t[0]?this.registry[t[0]]:void 0;if(n){let i=n.parse(t,this);if(!i)return null;if(this.expectedType){const t=this.expectedType,n=i.type;if(\"string\"!==t.kind&&\"number\"!==t.kind&&\"boolean\"!==t.kind&&\"object\"!==t.kind&&\"array\"!==t.kind||\"value\"!==n.kind)if(\"color\"!==t.kind&&\"formatted\"!==t.kind&&\"resolvedImage\"!==t.kind||\"value\"!==n.kind&&\"string\"!==n.kind){if(this.checkSubtype(t,n))return null}else i=r(i,t,e.typeAnnotation||\"coerce\");else i=r(i,t,e.typeAnnotation||\"assert\");}if(!(i instanceof je)&&\"resolvedImage\"!==i.type.kind&&wn(i)){const t=new tr(this._scope,this.options);try{i=new je(i.type,i.evaluate(t));}catch(t){return this.error(t.message),null}}return i}return Je.parse([\"to-array\",t],this)}return this.error(void 0===t?\"'undefined' value invalid. Use null instead.\":\"object\"==typeof t?'Bare objects invalid. Use [\"literal\", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,r){const n=\"number\"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new bn(this.registry,n,e||null,i,this.errors,this._scope,this.options)}error(t,...e){const r=`${this.key}${e.map((t=>`[${t}]`)).join(\"\")}`;this.errors.push(new de(r,t));}checkSubtype(t,e){const r=ze(t,e);return r&&this.error(r),r}}var _n=bn;function wn(t){if(t instanceof vn)return wn(t.boundExpression);if(t instanceof nr&&\"error\"===t.name)return !1;if(t instanceof ir)return !1;if(t instanceof Ir)return !1;if(t instanceof un)return !1;if(t instanceof fn)return !1;const e=t instanceof Je||t instanceof Ye;let r=!0;return t.eachChild((t=>{r=e?r&&wn(t):r&&t instanceof je;})),!!r&&dn(t)&&gn(t,[\"zoom\",\"heatmap-density\",\"line-progress\",\"raster-value\",\"sky-radial-progress\",\"accumulated\",\"is-supported-script\",\"pitch\",\"distance-from-center\",\"measure-light\",\"raster-particle-speed\"])}function Mn(t,e){const r=t.length-1;let n,i,a=0,s=r,o=0;for(;a<=s;)if(o=Math.floor((a+s)/2),n=t[o],i=t[o+1],n<=e){if(o===r||e<i)return o;a=o+1;}else {if(!(n>e))throw new qe(\"Input is not a number.\");s=o-1;}return 0}class An{constructor(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e);}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");const r=e.parse(t[1],1,xe);if(!r)return null;const n=[];let i=null;e.expectedType&&\"value\"!==e.expectedType.kind&&(i=e.expectedType);for(let r=1;r<t.length;r+=2){const a=1===r?-1/0:t[r],s=t[r+1],o=r,l=r+1;if(\"number\"!=typeof a)return e.error('Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=a)return e.error('Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.',o);const u=e.parse(s,l,i);if(!u)return null;i=i||u.type,n.push([a,u]);}return new An(i,r,n)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[Mn(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=[\"step\",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var Sn=An;const In=.95047,kn=1.08883,Pn=4/29,En=6/29,zn=3*En*En,Tn=En*En*En,Bn=Math.PI/180,Cn=180/Math.PI;function Rn(t){return t>Tn?Math.pow(t,1/3):t/zn+Pn}function Dn(t){return t>En?t*t*t:zn*(t-Pn)}function Vn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ln(t){return (t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fn(t){const e=Ln(t.r),r=Ln(t.g),n=Ln(t.b),i=Rn((.4124564*e+.3575761*r+.1804375*n)/In),a=Rn((.2126729*e+.7151522*r+.072175*n)/1);return {l:116*a-16,a:500*(i-a),b:200*(a-Rn((.0193339*e+.119192*r+.9503041*n)/kn)),alpha:t.a}}function Nn(t){let e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*Dn(e),r=In*Dn(r),n=kn*Dn(n),new le(Vn(3.2404542*r-1.5371385*e-.4985314*n),Vn(-.969266*r+1.8760108*e+.041556*n),Vn(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function On(t,e,r){const n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Un={forward:Fn,reverse:Nn,interpolate:function(t,e,r){return {l:ue(t.l,e.l,r),a:ue(t.a,e.a,r),b:ue(t.b,e.b,r),alpha:ue(t.alpha,e.alpha,r)}}},jn={forward:function(t){const{l:e,a:r,b:n}=Fn(t),i=Math.atan2(n,r)*Cn;return {h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Bn,r=t.c;return Nn({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return {h:On(t.h,e.h,r),c:ue(t.c,e.c,r),l:ue(t.l,e.l,r),alpha:ue(t.alpha,e.alpha,r)}}};var qn=Object.freeze({__proto__:null,hcl:jn,lab:Un});class $n{constructor(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e);}static interpolationFactor(t,e,r,n){let i=0;if(\"exponential\"===t.name)i=Gn(e,t.base,r,n);else if(\"linear\"===t.name)i=Gn(e,1,r,n);else if(\"cubic-bezier\"===t.name){const a=t.controlPoints;i=new d(a[0],a[1],a[2],a[3]).solve(Gn(e,1,r,n));}return i}static parse(t,e){let[r,n,i,...a]=t;if(!Array.isArray(n)||0===n.length)return e.error(\"Expected an interpolation type expression.\",1);if(\"linear\"===n[0])n={name:\"linear\"};else if(\"exponential\"===n[0]){const t=n[1];if(\"number\"!=typeof t)return e.error(\"Exponential interpolation requires a numeric base.\",1,1);n={name:\"exponential\",base:t};}else {if(\"cubic-bezier\"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some((t=>\"number\"!=typeof t||t<0||t>1)))return e.error(\"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\",1);n={name:\"cubic-bezier\",controlPoints:t};}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");if(i=e.parse(i,2,xe),!i)return null;const s=[];let o=null;\"interpolate-hcl\"===r||\"interpolate-lab\"===r?o=_e:e.expectedType&&\"value\"!==e.expectedType.kind&&(o=e.expectedType);for(let t=0;t<a.length;t+=2){const r=a[t],n=a[t+1],i=t+3,l=t+4;if(\"number\"!=typeof r)return e.error('Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(s.length&&s[s.length-1][0]>=r)return e.error('Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.',i);const u=e.parse(n,l,o);if(!u)return null;o=o||u.type,s.push([r,u]);}return \"number\"===o.kind||\"color\"===o.kind||\"array\"===o.kind&&\"number\"===o.itemType.kind&&\"number\"==typeof o.N?new $n(o,r,n,i,s):e.error(`Type ${Pe(o)} is not interpolatable.`)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);const a=Mn(e,n),s=$n.interpolationFactor(this.interpolation,n,e[a],e[a+1]),o=r[a].evaluate(t),l=r[a+1].evaluate(t);return \"interpolate\"===this.operator?he[this.type.kind.toLowerCase()](o,l,s):\"interpolate-hcl\"===this.operator?jn.reverse(jn.interpolate(jn.forward(o),jn.forward(l),s)):Un.reverse(Un.interpolate(Un.forward(o),Un.forward(l),s))}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t=\"linear\"===this.interpolation.name?[\"linear\"]:\"exponential\"===this.interpolation.name?1===this.interpolation.base?[\"linear\"]:[\"exponential\",this.interpolation.base]:[\"cubic-bezier\"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function Gn(t,e,r,n){const i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}var Yn=$n;class Xn{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expectected at least one argument.\");let r=null;const n=e.expectedType;n&&\"value\"!==n.kind&&(r=n);const i=[];for(const n of t.slice(1)){const t=e.parse(n,1+i.length,r,void 0,{typeAnnotation:\"omit\"});if(!t)return null;r=r||t.type,i.push(t);}const a=n&&i.some((t=>ze(n,t.type)));return new Xn(a?Me:r,i)}evaluate(t){let e,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(t),r&&r instanceof Ve&&!r.available&&(e||(e=r),r=null,n===this.args.length))return e;if(null!==r)break}return r}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=[\"coalesce\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Zn=Xn;class Kn{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e;}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result);}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let n=1;n<t.length-1;n+=2){const i=t[n];if(\"string\"!=typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return e.error(\"Variable names must contain only alphanumeric characters or '_'.\",n);const a=e.parse(t[n+1],n+1);if(!a)return null;r.push([i,a]);}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return n?new Kn(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=[\"let\"];for(const[e,r]of this.bindings)t.push(e,r.serialize());return t.push(this.result.serialize()),t}}var Hn=Kn;class Wn{constructor(t,e,r){this.type=t,this.index=e,this.input=r;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,xe),n=e.parse(t[2],2,ke(e.expectedType||Me));return r&&n?new Wn(n.type.itemType,r,n):null}evaluate(t){const e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new qe(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new qe(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new qe(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(t){t(this.index),t(this.input);}outputDefined(){return !1}serialize(){return [\"at\",this.index.serialize(),this.input.serialize()]}}var Jn=Wn;class Qn{constructor(t,e){this.type=be,this.needle=t,this.haystack=e;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Me),n=e.parse(t[2],2,Me);return r&&n?Te(r.type,[be,ve,xe,ge,Me])?new Qn(r,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(r.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(null==r)return !1;if(!Be(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new qe(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(Ne(e))} instead.`);if(!Be(r,[\"string\",\"array\"]))throw new qe(`Expected second argument to be of type array or string, but found ${Pe(Ne(r))} instead.`);return r.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack);}outputDefined(){return !0}serialize(){return [\"in\",this.needle.serialize(),this.haystack.serialize()]}}var ti=Qn;class ei{constructor(t,e,r){this.type=xe,this.needle=t,this.haystack=e,this.fromIndex=r;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Me),n=e.parse(t[2],2,Me);if(!r||!n)return null;if(!Te(r.type,[be,ve,xe,ge,Me]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,xe);return i?new ei(r,n,i):null}return new ei(r,n)}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!Be(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new qe(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(Ne(e))} instead.`);if(!Be(r,[\"string\",\"array\"]))throw new qe(`Expected second argument to be of type array or string, but found ${Pe(Ne(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return r.indexOf(e,n)}return r.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex);}outputDefined(){return !1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return [\"index-of\",this.needle.serialize(),this.haystack.serialize(),t]}return [\"index-of\",this.needle.serialize(),this.haystack.serialize()]}}var ri=ei;class ni{constructor(t,e,r,n,i,a){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a;}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error(\"Expected an even number of arguments.\");let r,n;e.expectedType&&\"value\"!==e.expectedType.kind&&(n=e.expectedType);const i={},a=[];for(let s=2;s<t.length-1;s+=2){let o=t[s];const l=t[s+1];Array.isArray(o)||(o=[o]);const u=e.concat(s);if(0===o.length)return u.error(\"Expected at least one branch label.\");for(const t of o){if(\"number\"!=typeof t&&\"string\"!=typeof t)return u.error(\"Branch labels must be numbers or strings.\");if(\"number\"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(\"number\"==typeof t&&Math.floor(t)!==t)return u.error(\"Numeric branch labels must be integer values.\");if(r){if(u.checkSubtype(r,Ne(t)))return null}else r=Ne(t);if(void 0!==i[String(t)])return u.error(\"Branch labels must be unique.\");i[String(t)]=a.length;}const c=e.parse(l,s,n);if(!c)return null;n=n||c.type,a.push(c);}const s=e.parse(t[1],1,Me);if(!s)return null;const o=e.parse(t[t.length-1],t.length-1,n);return o?\"value\"!==s.type.kind&&e.concat(1).checkSubtype(r,s.type)?null:new ni(r,n,s,i,a,o):null}evaluate(t){const e=this.input.evaluate(t);return (Ne(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"match\",this.input.serialize()],e=Object.keys(this.cases).sort(),r=[],n={};for(const t of e){const e=n[this.cases[t]];void 0===e?(n[this.cases[t]]=r.length,r.push([this.cases[t],[t]])):r[e][1].push(t);}const i=t=>\"number\"===this.inputType.kind?Number(t):t;for(const[e,n]of r)t.push(1===n.length?i(n[0]):n.map(i)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}var ii=ni;class ai{constructor(t,e,r){this.type=t,this.branches=e,this.otherwise=r;}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error(\"Expected an odd number of arguments.\");let r;e.expectedType&&\"value\"!==e.expectedType.kind&&(r=e.expectedType);const n=[];for(let i=1;i<t.length-1;i+=2){const a=e.parse(t[i],i,be);if(!a)return null;const s=e.parse(t[i+1],i+1,r);if(!s)return null;n.push([a,s]),r=r||s.type;}const i=e.parse(t[t.length-1],t.length-1,r);return i?new ai(r,n,i):null}evaluate(t){for(const[e,r]of this.branches)if(e.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,r]of this.branches)t(e),t(r);t(this.otherwise);}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"case\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var si=ai;class oi{constructor(t,e,r,n){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=n;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,Me),n=e.parse(t[2],2,xe);if(!r||!n)return null;if(!Te(r.type,[ke(Me),ve,Me]))return e.error(`Expected first argument to be of type array or string, but found ${Pe(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,xe);return i?new oi(r.type,r,n,i):null}return new oi(r.type,r,n)}evaluate(t){const e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!Be(e,[\"string\",\"array\"]))throw new qe(`Expected first argument to be of type array or string, but found ${Pe(Ne(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(r,n)}return e.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex);}outputDefined(){return !1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return [\"slice\",this.input.serialize(),this.beginIndex.serialize(),t]}return [\"slice\",this.input.serialize(),this.beginIndex.serialize()]}}var li=oi;function ui(t,e){return \"==\"===t||\"!=\"===t?\"boolean\"===e.kind||\"string\"===e.kind||\"number\"===e.kind||\"null\"===e.kind||\"value\"===e.kind:\"string\"===e.kind||\"number\"===e.kind||\"value\"===e.kind}function ci(t,e,r,n){return 0===n.compare(e,r)}function hi(t,e,r){const n=\"==\"!==t&&\"!=\"!==t;return class i{constructor(t,e,r){this.type=be,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument=\"value\"===t.type.kind||\"value\"===e.type.kind;}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error(\"Expected two or three arguments.\");const r=t[0];let a=e.parse(t[1],1,Me);if(!a)return null;if(!ui(r,a.type))return e.concat(1).error(`\"${r}\" comparisons are not supported for type '${Pe(a.type)}'.`);let s=e.parse(t[2],2,Me);if(!s)return null;if(!ui(r,s.type))return e.concat(2).error(`\"${r}\" comparisons are not supported for type '${Pe(s.type)}'.`);if(a.type.kind!==s.type.kind&&\"value\"!==a.type.kind&&\"value\"!==s.type.kind)return e.error(`Cannot compare types '${Pe(a.type)}' and '${Pe(s.type)}'.`);n&&(\"value\"===a.type.kind&&\"value\"!==s.type.kind?a=new Ye(s.type,[a]):\"value\"!==a.type.kind&&\"value\"===s.type.kind&&(s=new Ye(a.type,[s])));let o=null;if(4===t.length){if(\"string\"!==a.type.kind&&\"string\"!==s.type.kind&&\"value\"!==a.type.kind&&\"value\"!==s.type.kind)return e.error(\"Cannot use collator to compare non-string types.\");if(o=e.parse(t[3],3,Ae),!o)return null}return new i(a,s,o)}evaluate(i){const a=this.lhs.evaluate(i),s=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const e=Ne(a),r=Ne(s);if(e.kind!==r.kind||\"string\"!==e.kind&&\"number\"!==e.kind)throw new qe(`Expected arguments for \"${t}\" to be (string, string) or (number, number), but found (${e.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=Ne(a),r=Ne(s);if(\"string\"!==t.kind||\"string\"!==r.kind)return e(i,a,s)}return this.collator?r(i,a,s,this.collator.evaluate(i)):e(i,a,s)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator);}outputDefined(){return !0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize());})),e}}}const pi=hi(\"==\",(function(t,e,r){return e===r}),ci),fi=hi(\"!=\",(function(t,e,r){return e!==r}),(function(t,e,r,n){return !ci(0,e,r,n)})),di=hi(\"<\",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),mi=hi(\">\",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),yi=hi(\"<=\",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),gi=hi(\">=\",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0}));class xi{constructor(t,e,r,n,i,a){this.type=ve,this.number=t,this.locale=e,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=a;}static parse(t,e){if(3!==t.length)return e.error(\"Expected two arguments.\");const r=e.parse(t[1],1,xe);if(!r)return null;const n=t[2];if(\"object\"!=typeof n||Array.isArray(n))return e.error(\"NumberFormat options argument must be an object.\");let i=null;if(n.locale&&(i=e.parse(n.locale,1,ve),!i))return null;let a=null;if(n.currency&&(a=e.parse(n.currency,1,ve),!a))return null;let s=null;if(n.unit&&(s=e.parse(n.unit,1,ve),!s))return null;let o=null;if(n[\"min-fraction-digits\"]&&(o=e.parse(n[\"min-fraction-digits\"],1,xe),!o))return null;let l=null;return n[\"max-fraction-digits\"]&&(l=e.parse(n[\"max-fraction-digits\"],1,xe),!l)?null:new xi(r,i,a,s,o,l)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?\"currency\":this.unit&&\"unit\")||\"decimal\",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits);}outputDefined(){return !1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t[\"min-fraction-digits\"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t[\"max-fraction-digits\"]=this.maxFractionDigits.serialize()),[\"number-format\",this.number.serialize(),t]}}class vi{constructor(t){this.type=xe,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=e.parse(t[1],1);return r?\"array\"!==r.type.kind&&\"string\"!==r.type.kind&&\"value\"!==r.type.kind?e.error(`Expected argument of type string or array, but found ${Pe(r.type)} instead.`):new vi(r):null}evaluate(t){const e=this.input.evaluate(t);if(\"string\"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new qe(`Expected value to be of type string or array, but found ${Pe(Ne(e))} instead.`)}eachChild(t){t(this.input);}outputDefined(){return !1}serialize(){const t=[\"length\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}function bi(t){return function(){t=1831565813+(t|=0)|0;let e=Math.imul(t^t>>>15,1|t);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296}}const _i={\"==\":pi,\"!=\":fi,\">\":mi,\"<\":di,\">=\":gi,\"<=\":yi,array:Ye,at:Jn,boolean:Ye,case:si,coalesce:Zn,collator:ir,format:Xe,image:Ze,in:ti,\"index-of\":ri,interpolate:Yn,\"interpolate-hcl\":Yn,\"interpolate-lab\":Yn,length:vi,let:Hn,literal:je,match:ii,number:Ye,\"number-format\":xi,object:Ye,slice:li,step:Sn,string:Ye,\"to-boolean\":Je,\"to-color\":Je,\"to-number\":Je,\"to-string\":Je,var:vn,within:Ir,distance:un,config:fn};function wi(t,[e,r,n,i]){e=e.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);const a=i?i.evaluate(t):1,s=Le(e,r,n,a);if(s)throw new qe(s);return new le(e/255*a,r/255*a,n/255*a,a)}function Mi(t,[e,r,n,i]){e=e.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);const a=i?i.evaluate(t):1,s=function(t,e,r,n){return \"number\"==typeof t&&t>=0&&t<=360?\"number\"==typeof e&&e>=0&&e<=100&&\"number\"==typeof r&&r>=0&&r<=100?void 0===n||\"number\"==typeof n&&n>=0&&n<=1?null:`Invalid hsla value [${[t,e,r,n].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(\"number\"==typeof n?[t,e,r,n]:[t,e,r]).join(\", \")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(\"number\"==typeof n?[t,e,r,n]:[t,e,r]).join(\", \")}]: 'h' must be between 0 and 360.`}(e,r,n,a);if(s)throw new qe(s);const o=`hsla(${e}, ${r}%, ${n}%, ${a})`,l=le.parse(o);if(!l)throw new qe(`Failed to parse HSLA color: ${o}`);return l}function Ai(t,e){return t in e}function Si(t,e){const r=e[t];return void 0===r?null:r}function Ii(t){return {type:t}}nr.register(_i,{error:[{kind:\"error\"},[ve],(t,[e])=>{throw new qe(e.evaluate(t))}],typeof:[ve,[Me],(t,[e])=>Pe(Ne(e.evaluate(t)))],\"to-rgba\":[ke(xe,4),[_e],(t,[e])=>e.evaluate(t).toArray()],rgb:[_e,[xe,xe,xe],wi],rgba:[_e,[xe,xe,xe,xe],wi],hsl:[_e,[xe,xe,xe],Mi],hsla:[_e,[xe,xe,xe,xe],Mi],has:{type:be,overloads:[[[ve],(t,[e])=>Ai(e.evaluate(t),t.properties())],[[ve,we],(t,[e,r])=>Ai(e.evaluate(t),r.evaluate(t))]]},get:{type:Me,overloads:[[[ve],(t,[e])=>Si(e.evaluate(t),t.properties())],[[ve,we],(t,[e,r])=>Si(e.evaluate(t),r.evaluate(t))]]},\"feature-state\":[Me,[ve],(t,[e])=>Si(e.evaluate(t),t.featureState||{})],properties:[we,[],t=>t.properties()],\"geometry-type\":[ve,[],t=>t.geometryType()],id:[Me,[],t=>t.id()],zoom:[xe,[],t=>t.globals.zoom],pitch:[xe,[],t=>t.globals.pitch||0],\"distance-from-center\":[xe,[],t=>t.distanceFromCenter()],\"measure-light\":[xe,[ve],(t,[e])=>t.measureLight(e.evaluate(t))],\"heatmap-density\":[xe,[],t=>t.globals.heatmapDensity||0],\"line-progress\":[xe,[],t=>t.globals.lineProgress||0],\"raster-value\":[xe,[],t=>t.globals.rasterValue||0],\"raster-particle-speed\":[xe,[],t=>t.globals.rasterParticleSpeed||0],\"sky-radial-progress\":[xe,[],t=>t.globals.skyRadialProgress||0],accumulated:[Me,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],\"+\":[xe,Ii(xe),(t,e)=>{let r=0;for(const n of e)r+=n.evaluate(t);return r}],\"*\":[xe,Ii(xe),(t,e)=>{let r=1;for(const n of e)r*=n.evaluate(t);return r}],\"-\":{type:xe,overloads:[[[xe,xe],(t,[e,r])=>e.evaluate(t)-r.evaluate(t)],[[xe],(t,[e])=>-e.evaluate(t)]]},\"/\":[xe,[xe,xe],(t,[e,r])=>e.evaluate(t)/r.evaluate(t)],\"%\":[xe,[xe,xe],(t,[e,r])=>e.evaluate(t)%r.evaluate(t)],ln2:[xe,[],()=>Math.LN2],pi:[xe,[],()=>Math.PI],e:[xe,[],()=>Math.E],\"^\":[xe,[xe,xe],(t,[e,r])=>Math.pow(e.evaluate(t),r.evaluate(t))],sqrt:[xe,[xe],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[xe,[xe],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[xe,[xe],(t,[e])=>Math.log(e.evaluate(t))],log2:[xe,[xe],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[xe,[xe],(t,[e])=>Math.sin(e.evaluate(t))],cos:[xe,[xe],(t,[e])=>Math.cos(e.evaluate(t))],tan:[xe,[xe],(t,[e])=>Math.tan(e.evaluate(t))],asin:[xe,[xe],(t,[e])=>Math.asin(e.evaluate(t))],acos:[xe,[xe],(t,[e])=>Math.acos(e.evaluate(t))],atan:[xe,[xe],(t,[e])=>Math.atan(e.evaluate(t))],min:[xe,Ii(xe),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[xe,Ii(xe),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[xe,[xe],(t,[e])=>Math.abs(e.evaluate(t))],round:[xe,[xe],(t,[e])=>{const r=e.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[xe,[xe],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[xe,[xe],(t,[e])=>Math.ceil(e.evaluate(t))],\"filter-==\":[be,[ve,Me],(t,[e,r])=>t.properties()[e.value]===r.value],\"filter-id-==\":[be,[Me],(t,[e])=>t.id()===e.value],\"filter-type-==\":[be,[ve],(t,[e])=>t.geometryType()===e.value],\"filter-<\":[be,[ve,Me],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<i}],\"filter-id-<\":[be,[Me],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<n}],\"filter->\":[be,[ve,Me],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>i}],\"filter-id->\":[be,[Me],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>n}],\"filter-<=\":[be,[ve,Me],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<=i}],\"filter-id-<=\":[be,[Me],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<=n}],\"filter->=\":[be,[ve,Me],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>=i}],\"filter-id->=\":[be,[Me],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>=n}],\"filter-has\":[be,[Me],(t,[e])=>e.value in t.properties()],\"filter-has-id\":[be,[],t=>null!==t.id()&&void 0!==t.id()],\"filter-type-in\":[be,[ke(ve)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],\"filter-id-in\":[be,[ke(Me)],(t,[e])=>e.value.indexOf(t.id())>=0],\"filter-in-small\":[be,[ve,ke(Me)],(t,[e,r])=>r.value.indexOf(t.properties()[e.value])>=0],\"filter-in-large\":[be,[ve,ke(Me)],(t,[e,r])=>function(t,e,r,n){for(;r<=n;){const i=r+n>>1;if(e[i]===t)return !0;e[i]>t?n=i-1:r=i+1;}return !1}(t.properties()[e.value],r.value,0,r.value.length-1)],all:{type:be,overloads:[[[be,be],(t,[e,r])=>e.evaluate(t)&&r.evaluate(t)],[Ii(be),(t,e)=>{for(const r of e)if(!r.evaluate(t))return !1;return !0}]]},any:{type:be,overloads:[[[be,be],(t,[e,r])=>e.evaluate(t)||r.evaluate(t)],[Ii(be),(t,e)=>{for(const r of e)if(r.evaluate(t))return !0;return !1}]]},\"!\":[be,[be],(t,[e])=>!e.evaluate(t)],\"is-supported-script\":[be,[ve],(t,[e])=>{const r=t.globals&&t.globals.isSupportedScript;return !r||r(e.evaluate(t))}],upcase:[ve,[ve],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[ve,[ve],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[ve,Ii(Me),(t,e)=>e.map((e=>Oe(e.evaluate(t)))).join(\"\")],\"resolved-locale\":[ve,[Ae],(t,[e])=>e.evaluate(t).resolvedLocale()],random:[xe,[xe,xe,Me],(t,e)=>{const[r,n,i]=e.map((e=>e.evaluate(t)));if(r>n)return r;if(r===n)return r;let a;if(\"string\"==typeof i)a=function(t){let e=0;if(0===t.length)return e;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}(i);else {if(\"number\"!=typeof i)throw new qe(`Invalid seed input: ${i}`);a=i;}return r+bi(a)()*(n-r)}]});var ki=_i;function Pi(t){return {result:\"success\",value:t}}function Ei(t){return {result:\"error\",value:t}}function zi(t,e){return !!t&&!!t.parameters&&t.parameters.indexOf(e)>-1}function Ti(t){return \"data-driven\"===t[\"property-type\"]}function Bi(t){return zi(t.expression,\"measure-light\")}function Ci(t){return zi(t.expression,\"zoom\")}function Ri(t){return !!t.expression&&t.expression.interpolated}function Di(t){return \"object\"==typeof t&&null!==t&&!Array.isArray(t)}function Vi(t){return t}function Li(t,e){const r=\"color\"===e.type,n=t.stops&&\"object\"==typeof t.stops[0][0],i=n||!(n||void 0!==t.property),a=t.type||(Ri(e)?\"exponential\":\"interval\");if(r&&((t=pe({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],le.parse(t[1])]))),t.default=le.parse(t.default?t.default:e.default)),t.colorSpace&&\"rgb\"!==t.colorSpace&&!qn[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let s,o,l;if(\"exponential\"===a)s=Ui;else if(\"interval\"===a)s=Oi;else if(\"categorical\"===a){s=Ni,o=Object.create(null);for(const e of t.stops)o[e[0]]=e[1];l=typeof t.stops[0][0];}else {if(\"identity\"!==a)throw new Error(`Unknown function type \"${a}\"`);s=ji;}if(n){const r={},n=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],a=i[0].zoom;void 0===r[a]&&(r[a]={zoom:a,type:t.type,property:t.property,default:t.default,stops:[]},n.push(a)),r[a].stops.push([i[0].value,i[1]]);}const i=[];for(const t of n)i.push([r[t].zoom,Li(r[t],e)]);const a={name:\"linear\"};return {kind:\"composite\",interpolationType:a,interpolationFactor:Yn.interpolationFactor.bind(void 0,a),zoomStops:i.map((t=>t[0])),evaluate:({zoom:r},n)=>Ui({stops:i,base:t.base},e,r).evaluate(r,n)}}if(i){const r=\"exponential\"===a?{name:\"exponential\",base:void 0!==t.base?t.base:1}:null;return {kind:\"camera\",interpolationType:r,interpolationFactor:Yn.interpolationFactor.bind(void 0,r),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:r})=>s(t,e,r,o,l)}}return {kind:\"source\",evaluate(r,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?Fi(t.default,e.default):s(t,e,i,o,l)}}}function Fi(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function Ni(t,e,r,n,i){return Fi(typeof r===i?n[r]:void 0,t.default,e.default)}function Oi(t,e,r){if(\"number\"!==Ke(r))return Fi(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];const i=Mn(t.stops.map((t=>t[0])),r);return t.stops[i][1]}function Ui(t,e,r){const n=void 0!==t.base?t.base:1;if(\"number\"!==Ke(r))return Fi(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];const a=Mn(t.stops.map((t=>t[0])),r),s=function(t,e,r,n){const i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[a][0],t.stops[a+1][0]),o=t.stops[a][1],l=t.stops[a+1][1];let u=he[e.type]||Vi;if(t.colorSpace&&\"rgb\"!==t.colorSpace){const e=qn[t.colorSpace];u=(t,r)=>e.reverse(e.interpolate(e.forward(t),e.forward(r),s));}return \"function\"==typeof o.evaluate?{evaluate(...t){const e=o.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==r)return u(e,r,s)}}:u(o,l,s)}function ji(t,e,r){return \"color\"===e.type?r=le.parse(r):\"formatted\"===e.type?r=De.fromString(r.toString()):\"resolvedImage\"===e.type?r=Ve.fromString(r.toString()):Ke(r)===e.type||\"enum\"===e.type&&e.values[r]||(r=void 0),Fi(r,t.default,e.default)}class qi{constructor(t,e,r,n){this.expression=t,this._warningHistory={},this._evaluator=new tr(r,n),this._defaultValue=e?function(t){return \"color\"===t.type&&(Di(t.default)||Array.isArray(t.default))?new le(0,0,0,0):\"color\"===t.type?le.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&\"enum\"===e.type?e.values:null;}evaluateWithoutErrorHandling(t,e,r,n,i,a,s,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=o||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,r,n,i,a,s,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=o||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||\"number\"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new qe(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(\", \")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,\"undefined\"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function $i(t){return Array.isArray(t)&&t.length>0&&\"string\"==typeof t[0]&&t[0]in ki}function Gi(t,e,r,n){const i=new _n(ki,[],e?function(t){const e={color:_e,string:ve,number:xe,enum:ve,boolean:be,formatted:Se,resolvedImage:Ie};return \"array\"===t.type?ke(e[t.value]||Me,t.length):e[t.type]}(e):void 0,void 0,void 0,r,n),a=i.parse(t,void 0,void 0,void 0,e&&\"string\"===e.type?{typeAnnotation:\"coerce\"}:void 0);return a?Pi(new qi(a,e,r,n)):Ei(i.errors)}class Yi{constructor(t,e,r){this.kind=t,this._styleExpression=e,this.isLightConstant=r,this.isStateDependent=\"constant\"!==t&&!mn(e.expression),this.isConfigDependent=!yn(e.expression);}evaluateWithoutErrorHandling(t,e,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,a)}evaluate(t,e,r,n,i,a){return this._styleExpression.evaluate(t,e,r,n,i,a)}}class Xi{constructor(t,e,r,n,i){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=\"camera\"!==t&&!mn(e.expression),this.isLightConstant=i,this.isConfigDependent=!yn(e.expression),this.interpolationType=n;}evaluateWithoutErrorHandling(t,e,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,a)}evaluate(t,e,r,n,i,a){return this._styleExpression.evaluate(t,e,r,n,i,a)}interpolationFactor(t,e,r){return this.interpolationType?Yn.interpolationFactor(this.interpolationType,t,e,r):0}}function Zi(t,e,r,n){if(\"error\"===(t=Gi(t,e,r,n)).result)return t;const i=t.value.expression,a=dn(i);if(!a&&!Ti(e))return Ei([new de(\"\",\"data expressions not supported\")]);const s=gn(i,[\"zoom\",\"pitch\",\"distance-from-center\"]);if(!s&&!Ci(e))return Ei([new de(\"\",\"zoom expressions not supported\")]);const o=gn(i,[\"measure-light\"]);if(!o&&!Bi(e))return Ei([new de(\"\",\"measure-light expression not supported\")]);const l=e.expression&&e.expression.relaxZoomRestriction,u=Hi(i);return u||s||l?u instanceof de?Ei([u]):u instanceof Yn&&!Ri(e)?Ei([new de(\"\",'\"interpolate\" expressions cannot be used with this property')]):Pi(u?new Xi(a?\"camera\":\"composite\",t.value,u.labels,u instanceof Yn?u.interpolation:void 0,o):new Yi(a?\"constant\":\"source\",t.value,o)):Ei([new de(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression, or in the properties of atmosphere.')])}class Ki{constructor(t,e){this._parameters=t,this._specification=e,pe(this,Li(this._parameters,this._specification));}static deserialize(t){return new Ki(t._parameters,t._specification)}static serialize(t){return {_parameters:t._parameters,_specification:t._specification}}}function Hi(t){let e=null;if(t instanceof Hn)e=Hi(t.result);else if(t instanceof Zn){for(const r of t.args)if(e=Hi(r),e)break}else (t instanceof Sn||t instanceof Yn)&&t.input instanceof nr&&\"zoom\"===t.input.name&&(e=t);return e instanceof de||t.eachChild((t=>{const r=Hi(t);r instanceof de?e=r:e&&r&&e!==r&&(e=new de(\"\",'Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression.'));})),e}var Wi=Qi,Ji=3;function Qi(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(r=i[2]);for(var a=0;a<this.d*this.d;a++){var s=i[Ji+a],o=i[Ji+a+1];n.push(s===o?null:i.subarray(s,o));}var l=i[Ji+n.length+1];this.keys=i.subarray(i[Ji+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly;}else {this.d=e+2*r;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[];}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var c=r/e*t;this.min=-c,this.max=t+c;}Qi.prototype.insert=function(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i);},Qi.prototype._insertReadonly=function(){throw \"Cannot insert into a GridIndex created from an ArrayBuffer.\"},Qi.prototype._insertCell=function(t,e,r,n,i,a){this.cells[i].push(a);},Qi.prototype.query=function(t,e,r,n,i){var a=this.min,s=this.max;if(t<=a&&e<=a&&s<=r&&s<=n&&!i)return Array.prototype.slice.call(this.keys);var o=[];return this._forEachCell(t,e,r,n,this._queryCell,o,{},i),o},Qi.prototype._queryCell=function(t,e,r,n,i,a,s,o){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===s[p]){var f=4*p;(o?o(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&r>=c[f+0]&&n>=c[f+1])?(s[p]=!0,a.push(u[p])):s[p]=!1;}}},Qi.prototype._forEachCell=function(t,e,r,n,i,a,s,o){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(r),h=this._convertToCellCoord(n),p=l;p<=c;p++)for(var f=u;f<=h;f++){var d=this.d*f+p;if((!o||o(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,r,n,d,a,s,o))return}},Qi.prototype._convertFromCellCoord=function(t){return (t-this.padding)/this.scale},Qi.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Qi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Ji+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var o=t[s];i[Ji+s]=a,i.set(o,a),a+=o.length;}return i[Ji+t.length]=a,i.set(this.keys,a),i[Ji+t.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var ta=h(Wi);const ea={};function ra(t,e,r={}){Object.defineProperty(t,\"_classRegistryKey\",{value:e,writeable:!1}),ea[e]={klass:t,omit:r.omit||[]};}ra(Object,\"Object\"),ta.serialize=function(t,e){const r=t.toArrayBuffer();return e&&e.add(r),{buffer:r}},ta.deserialize=function(t){return new ta(t.buffer)},Object.defineProperty(ta,\"name\",{value:\"Grid\"}),ra(ta,\"Grid\"),ra(le,\"Color\"),ra(Error,\"Error\"),ra(De,\"Formatted\"),ra(Re,\"FormattedSection\"),ra(St,\"AJAXError\"),ra(Ve,\"ResolvedImage\"),ra(Ki,\"StylePropertyFunction\"),ra(qi,\"StyleExpression\",{omit:[\"_evaluator\"]}),ra(Xi,\"ZoomDependentExpression\"),ra(Yi,\"ZoomConstantExpression\"),ra(nr,\"CompoundExpression\",{omit:[\"_evaluate\"]});for(const t in ki)ea[ki[t]._classRegistryKey]||ra(ki[t],`Expression${t}`);function na(t){return t&&\"undefined\"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&\"ArrayBuffer\"===t.constructor.name)}function ia(t){return self.ImageBitmap&&t instanceof ImageBitmap}function aa(t,e){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(na(t)||ia(t))return e&&e.add(t),t;if(ArrayBuffer.isView(t)){const r=t;return e&&e.add(r.buffer),r}if(t instanceof ImageData)return e&&e.add(t.data.buffer),t;if(Array.isArray(t)){const r=[];for(const n of t)r.push(aa(n,e));return r}if(t instanceof Map){const e={$name:\"Map\"};for(const[r,n]of t.entries())e[r]=aa(n);return e}if(\"object\"==typeof t){const r=t.constructor,n=r._classRegistryKey;if(!n)throw new Error(`can't serialize object of unregistered class ${n}`);const i=r.serialize?r.serialize(t,e):{};if(!r.serialize){for(const r in t)t.hasOwnProperty(r)&&(ea[n].omit.indexOf(r)>=0||(i[r]=aa(t[r],e)));t instanceof Error&&(i.message=t.message);}if(i.$name)throw new Error(\"$name property is reserved for worker serialization logic.\");return \"Object\"!==n&&(i.$name=n),i}throw new Error(\"can't serialize object of type \"+typeof t)}function sa(t){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||na(t)||ia(t)||ArrayBuffer.isView(t)||t instanceof ImageData)return t;if(Array.isArray(t))return t.map(sa);if(\"object\"==typeof t){const e=t.$name||\"Object\";if(\"Map\"===e){const e=new Map;for(const r of Object.keys(t))\"$name\"!==r&&e.set(r,sa(t[r]));return e}const{klass:r}=ea[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(t);const n=Object.create(r.prototype);for(const e of Object.keys(t))\"$name\"!==e&&(n[e]=sa(t[e]));return n}throw new Error(\"can't deserialize object of type \"+typeof t)}const oa={\"Latin-1 Supplement\":t=>t>=128&&t<=255,Arabic:t=>t>=1536&&t<=1791,\"Arabic Supplement\":t=>t>=1872&&t<=1919,\"Arabic Extended-A\":t=>t>=2208&&t<=2303,\"Hangul Jamo\":t=>t>=4352&&t<=4607,\"Unified Canadian Aboriginal Syllabics\":t=>t>=5120&&t<=5759,Khmer:t=>t>=6016&&t<=6143,\"Unified Canadian Aboriginal Syllabics Extended\":t=>t>=6320&&t<=6399,\"General Punctuation\":t=>t>=8192&&t<=8303,\"Letterlike Symbols\":t=>t>=8448&&t<=8527,\"Number Forms\":t=>t>=8528&&t<=8591,\"Miscellaneous Technical\":t=>t>=8960&&t<=9215,\"Control Pictures\":t=>t>=9216&&t<=9279,\"Optical Character Recognition\":t=>t>=9280&&t<=9311,\"Enclosed Alphanumerics\":t=>t>=9312&&t<=9471,\"Geometric Shapes\":t=>t>=9632&&t<=9727,\"Miscellaneous Symbols\":t=>t>=9728&&t<=9983,\"Miscellaneous Symbols and Arrows\":t=>t>=11008&&t<=11263,\"CJK Radicals Supplement\":t=>t>=11904&&t<=12031,\"Kangxi Radicals\":t=>t>=12032&&t<=12255,\"Ideographic Description Characters\":t=>t>=12272&&t<=12287,\"CJK Symbols and Punctuation\":t=>t>=12288&&t<=12351,Hiragana:t=>t>=12352&&t<=12447,Katakana:t=>t>=12448&&t<=12543,Bopomofo:t=>t>=12544&&t<=12591,\"Hangul Compatibility Jamo\":t=>t>=12592&&t<=12687,Kanbun:t=>t>=12688&&t<=12703,\"Bopomofo Extended\":t=>t>=12704&&t<=12735,\"CJK Strokes\":t=>t>=12736&&t<=12783,\"Katakana Phonetic Extensions\":t=>t>=12784&&t<=12799,\"Enclosed CJK Letters and Months\":t=>t>=12800&&t<=13055,\"CJK Compatibility\":t=>t>=13056&&t<=13311,\"CJK Unified Ideographs Extension A\":t=>t>=13312&&t<=19903,\"Yijing Hexagram Symbols\":t=>t>=19904&&t<=19967,\"CJK Unified Ideographs\":t=>t>=19968&&t<=40959,\"Yi Syllables\":t=>t>=40960&&t<=42127,\"Yi Radicals\":t=>t>=42128&&t<=42191,\"Hangul Jamo Extended-A\":t=>t>=43360&&t<=43391,\"Hangul Syllables\":t=>t>=44032&&t<=55215,\"Hangul Jamo Extended-B\":t=>t>=55216&&t<=55295,\"Private Use Area\":t=>t>=57344&&t<=63743,\"CJK Compatibility Ideographs\":t=>t>=63744&&t<=64255,\"Arabic Presentation Forms-A\":t=>t>=64336&&t<=65023,\"Vertical Forms\":t=>t>=65040&&t<=65055,\"CJK Compatibility Forms\":t=>t>=65072&&t<=65103,\"Small Form Variants\":t=>t>=65104&&t<=65135,\"Arabic Presentation Forms-B\":t=>t>=65136&&t<=65279,\"Halfwidth and Fullwidth Forms\":t=>t>=65280&&t<=65519,\"CJK Unified Ideographs Extension B\":t=>t>=131072&&t<=173791};function la(t){for(const e of t)if(ha(e.charCodeAt(0)))return !0;return !1}function ua(t){for(const e of t)if(!ca(e.charCodeAt(0)))return !1;return !0}function ca(t){return !(oa.Arabic(t)||oa[\"Arabic Supplement\"](t)||oa[\"Arabic Extended-A\"](t)||oa[\"Arabic Presentation Forms-A\"](t)||oa[\"Arabic Presentation Forms-B\"](t))}function ha(t){return !(746!==t&&747!==t&&(t<4352||!(oa[\"Bopomofo Extended\"](t)||oa.Bopomofo(t)||oa[\"CJK Compatibility Forms\"](t)&&!(t>=65097&&t<=65103)||oa[\"CJK Compatibility Ideographs\"](t)||oa[\"CJK Compatibility\"](t)||oa[\"CJK Radicals Supplement\"](t)||oa[\"CJK Strokes\"](t)||!(!oa[\"CJK Symbols and Punctuation\"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||oa[\"CJK Unified Ideographs Extension A\"](t)||oa[\"CJK Unified Ideographs\"](t)||oa[\"Enclosed CJK Letters and Months\"](t)||oa[\"Hangul Compatibility Jamo\"](t)||oa[\"Hangul Jamo Extended-A\"](t)||oa[\"Hangul Jamo Extended-B\"](t)||oa[\"Hangul Jamo\"](t)||oa[\"Hangul Syllables\"](t)||oa.Hiragana(t)||oa[\"Ideographic Description Characters\"](t)||oa.Kanbun(t)||oa[\"Kangxi Radicals\"](t)||oa[\"Katakana Phonetic Extensions\"](t)||oa.Katakana(t)&&12540!==t||!(!oa[\"Halfwidth and Fullwidth Forms\"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!oa[\"Small Form Variants\"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||oa[\"Unified Canadian Aboriginal Syllabics\"](t)||oa[\"Unified Canadian Aboriginal Syllabics Extended\"](t)||oa[\"Vertical Forms\"](t)||oa[\"Yijing Hexagram Symbols\"](t)||oa[\"Yi Syllables\"](t)||oa[\"Yi Radicals\"](t))))}function pa(t){return !(ha(t)||function(t){return !!(oa[\"Latin-1 Supplement\"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||oa[\"General Punctuation\"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||oa[\"Letterlike Symbols\"](t)||oa[\"Number Forms\"](t)||oa[\"Miscellaneous Technical\"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||oa[\"Control Pictures\"](t)&&9251!==t||oa[\"Optical Character Recognition\"](t)||oa[\"Enclosed Alphanumerics\"](t)||oa[\"Geometric Shapes\"](t)||oa[\"Miscellaneous Symbols\"](t)&&!(t>=9754&&t<=9759)||oa[\"Miscellaneous Symbols and Arrows\"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||oa[\"CJK Symbols and Punctuation\"](t)||oa.Katakana(t)||oa[\"Private Use Area\"](t)||oa[\"CJK Compatibility Forms\"](t)||oa[\"Small Form Variants\"](t)||oa[\"Halfwidth and Fullwidth Forms\"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function fa(t){return t>=1424&&t<=2303||oa[\"Arabic Presentation Forms-A\"](t)||oa[\"Arabic Presentation Forms-B\"](t)}function da(t,e){return !(!e&&fa(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||oa.Khmer(t))}function ma(t){for(const e of t)if(fa(e.charCodeAt(0)))return !0;return !1}const ya=\"deferred\",ga=\"loading\",xa=\"loaded\";let va=null,ba=\"unavailable\",_a=null;const wa=function(t){t&&\"string\"==typeof t&&t.indexOf(\"NetworkError\")>-1&&(ba=\"error\"),va&&va(t);};function Ma(){Aa.fire(new Qt(\"pluginStateChange\",{pluginStatus:ba,pluginURL:_a}));}const Aa=new ee,Sa=function(){return ba},Ia=function(){if(ba!==ya||!_a)throw new Error(\"rtl-text-plugin cannot be downloaded unless a pluginURL is specified\");ba=ga,Ma(),_a&&Pt({url:_a},(t=>{t?wa(t):(ba=xa,Ma());}));},ka={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ba===xa||null!=ka.applyArabicShaping,isLoading:()=>ba===ga,setState(t){ba=t.pluginStatus,_a=t.pluginURL;},isParsed:()=>null!=ka.applyArabicShaping&&null!=ka.processBidirectionalText&&null!=ka.processStyledBidirectionalText,getPluginURL:()=>_a};class Pa{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.transition=e.transition,this.pitch=e.pitch,this.brightness=e.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0);}isSupportedScript(t){return function(t,e){for(const r of t)if(!da(r.charCodeAt(0),e))return !1;return !0}(t,ka.isLoaded())}}class Ea{constructor(t,e,r,n){this.property=t,this.value=e,this.expression=function(t,e,r,n){if(Di(t))return new Ki(t,e);if($i(t)||Array.isArray(t)&&t.length>0){const i=Zi(t,e,r,n);if(\"error\"===i.result)throw new Error(i.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));return i.value}{let r=t;return \"string\"==typeof t&&\"color\"===e.type&&(r=le.parse(t)),{kind:\"constant\",isConfigDependent:!1,evaluate:()=>r}}}(void 0===e?t.specification.default:e,t.specification,r,n);}isDataDriven(){return \"source\"===this.expression.kind||\"composite\"===this.expression.kind}possiblyEvaluate(t,e,r){return this.property.possiblyEvaluate(this,t,e,r)}}class za{constructor(t,e,r){this.property=t,this.value=new Ea(t,void 0,e,r);}transitioned(t,e){return new Ba(this.property,this.value,e,z({},t.transition,this.transition),t.now)}untransitioned(){return new Ba(this.property,this.value,null,{},0)}}class Ta{constructor(t,e,r){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues),this._scope=e,this._options=r,this.isConfigDependent=!1;}getValue(t){return O(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new za(this._values[t].property,this._scope,this._options)),this._values[t].value=new Ea(this._values[t].property,null===e?void 0:O(e),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[t].value.expression.isConfigDependent;}setTransitionOrValue(t,e){e&&(this._options=e);const r=this._properties.properties;if(t)for(const e in t){const n=t[e];if(L(e,\"-transition\")){const t=e.slice(0,-11);r[t]&&this.setTransition(t,n);}else r[e]&&this.setValue(e,n);}}getTransition(t){return O(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new za(this._values[t].property)),this._values[t].transition=O(e)||void 0;}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);const n=this.getTransition(e);void 0!==n&&(t[`${e}-transition`]=n);}return t}transitioned(t,e){const r=new Ca(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(t,e._values[n]);return r}untransitioned(){const t=new Ca(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class Ba{constructor(t,e,r,n,i){const a=n.delay||0,s=n.duration||0;i=i||0,this.property=t,this.value=e,this.begin=i+a,this.end=this.begin+s,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r);}possiblyEvaluate(t,e,r){const n=t.now||0,i=this.value.possiblyEvaluate(t,e,r),a=this.prior;if(a){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return a.possiblyEvaluate(t,e,r);{const s=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(t,e,r),i,M(s))}}return i}}class Ca{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues);}possiblyEvaluate(t,e,r){const n=new Va(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return !0;return !1}}class Ra{constructor(t,e,r){this._properties=t,this._values=Object.create(t.defaultPropertyValues),this._scope=e,this._options=r,this.isConfigDependent=!1;}getValue(t){return O(this._values[t].value)}setValue(t,e){this._values[t]=new Ea(this._values[t].property,null===e?void 0:O(e),this._scope,this._options),this.isConfigDependent=this.isConfigDependent||this._values[t].expression.isConfigDependent;}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);}return t}possiblyEvaluate(t,e,r){const n=new Va(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}}class Da{constructor(t,e,r){this.property=t,this.value=e,this.parameters=r;}isConstant(){return \"constant\"===this.value.kind}constantOr(t){return \"constant\"===this.value.kind?this.value.value:t}evaluate(t,e,r,n){return this.property.evaluate(this.value,this.parameters,t,e,r,n)}}class Va{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues);}get(t){return this._values[t]}}class La{constructor(t){this.specification=t;}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,r){const n=he[this.specification.type];return n?n(t,e,r):t}}class Fa{constructor(t,e){this.specification=t,this.overrides=e;}possiblyEvaluate(t,e,r,n){return new Da(this,\"constant\"===t.expression.kind||\"camera\"===t.expression.kind?{kind:\"constant\",value:t.expression.evaluate(e,null,{},r,n)}:t.expression,e)}interpolate(t,e,r){if(\"constant\"!==t.value.kind||\"constant\"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Da(this,{kind:\"constant\",value:void 0},t.parameters);const n=he[this.specification.type];return n?new Da(this,{kind:\"constant\",value:n(t.value.value,e.value.value,r)},t.parameters):t}evaluate(t,e,r,n,i,a){return \"constant\"===t.kind?t.value:t.evaluate(e,r,n,i,a)}}class Na{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){return !!t.expression.evaluate(e,null,{},r,n)}interpolate(){return !1}}class Oa{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const e=new Pa(0,{});for(const r in t){const n=t[r];n.specification.overridable&&this.overridableProperties.push(r);const i=this.defaultPropertyValues[r]=new Ea(n,void 0),a=this.defaultTransitionablePropertyValues[r]=new za(n);this.defaultTransitioningPropertyValues[r]=a.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=i.possiblyEvaluate(e);}}}function Ua(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function ja(t){if(Array.isArray(t))return t.map(ja);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const r in t)e[r]=ja(t[r]);return e}return Ua(t)}ra(Fa,\"DataDrivenProperty\"),ra(La,\"DataConstantProperty\"),ra(Na,\"ColorRampProperty\");var qa=JSON.parse('{\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"fragment\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360},\"pitch\":{\"type\":\"number\",\"default\":0},\"light\":{\"type\":\"light\"},\"lights\":{\"required\":false,\"type\":\"array\",\"value\":\"light-3d\"},\"terrain\":{\"type\":\"terrain\",\"optional\":true},\"fog\":{\"type\":\"fog\"},\"camera\":{\"type\":\"camera\"},\"imports\":{\"type\":\"array\",\"value\":\"import\"},\"schema\":{\"type\":\"schema\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\",\"default\":\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},\"transition\":{\"type\":\"transition\"},\"projection\":{\"type\":\"projection\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"},\"models\":{\"type\":\"models\"}},\"model\":{\"type\":\"string\",\"required\":true},\"import\":{\"id\":{\"type\":\"string\",\"required\":true},\"url\":{\"type\":\"string\",\"required\":true},\"config\":{\"type\":\"config\"},\"data\":{\"type\":\"$root\"}},\"config\":{\"*\":{\"type\":\"*\"}},\"schema\":{\"*\":{\"type\":\"option\"}},\"option\":{\"default\":{\"type\":\"*\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"string\":1,\"number\":1,\"boolean\":1,\"color\":1}},\"array\":{\"type\":\"boolean\"},\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"stepValue\":{\"type\":\"number\"},\"values\":{\"type\":\"array\",\"value\":\"*\"},\"metadata\":{\"type\":\"*\"}},\"models\":{\"*\":{\"type\":\"model\"}},\"light-3d\":{\"id\":{\"type\":\"string\",\"required\":true},\"properties\":{\"type\":\"properties\"},\"type\":{\"type\":\"enum\",\"values\":{\"ambient\":{},\"directional\":{},\"flat\":{}}}},\"properties\":[\"properties_light_directional\",\"properties_light_ambient\",\"properties_light_flat\"],\"properties_light_directional\":{\"direction\":{\"type\":\"array\",\"default\":[210,30],\"minimum\":[0,0],\"maximum\":[360,90],\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"cast-shadows\":{\"type\":\"boolean\",\"default\":false,\"expression\":{},\"property-type\":\"data-constant\"},\"shadow-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_ambient\":{\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_flat\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_vector\",\"source_raster\",\"source_raster_dem\",\"source_raster_array\",\"source_geojson\",\"source_video\",\"source_image\",\"source_model\"],\"source_vector\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"attribution\":{\"type\":\"string\"},\"promoteId\":{\"type\":\"promoteId\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"attribution\":{\"type\":\"string\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_dem\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-dem\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"attribution\":{\"type\":\"string\"},\"encoding\":{\"type\":\"enum\",\"values\":{\"terrarium\":1,\"mapbox\":1},\"default\":\"mapbox\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_array\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-array\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"attribution\":{\"type\":\"string\"},\"rasterLayers\":{\"type\":\"*\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":1}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"attribution\":{\"type\":\"string\"},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"filter\":{\"type\":\"*\"},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"},\"clusterMinPoints\":{\"type\":\"number\"},\"clusterProperties\":{\"type\":\"*\"},\"lineMetrics\":{\"type\":\"boolean\",\"default\":false},\"generateId\":{\"type\":\"boolean\",\"default\":false},\"promoteId\":{\"type\":\"promoteId\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":1}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":1}},\"url\":{\"required\":false,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_model\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"model\":1,\"batched-model\":1}},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"minzoom\":{\"type\":\"number\",\"default\":0},\"tiles\":{\"type\":\"array\",\"value\":\"string\"}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"heatmap\":{},\"fill-extrusion\":{},\"raster\":{},\"raster-particle\":{},\"hillshade\":{},\"model\":{},\"background\":{},\"sky\":{},\"slot\":{}},\"required\":true},\"metadata\":{\"type\":\"*\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"slot\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_heatmap\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_raster-particle\",\"layout_hillshade\",\"layout_background\",\"layout_sky\",\"layout_model\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_sky\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_model\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"model-id\":{\"type\":\"string\",\"default\":\"\",\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}}},\"layout_fill\":{\"fill-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_circle\":{\"circle-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_heatmap\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"fill-extrusion-edge-radius\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"constant\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"values\":{\"butt\":1,\"round\":1,\"square\":1},\"default\":\"butt\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-join\":{\"type\":\"enum\",\"values\":{\"bevel\":1,\"round\":1,\"miter\":1},\"default\":\"miter\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"values\":{\"point\":1,\"line\":1,\"line-center\":1},\"default\":\"point\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"symbol-z-order\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"viewport-y\":1,\"source\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-z-elevate\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit\":{\"type\":\"enum\",\"values\":{\"none\":1,\"width\":1,\"height\":1,\"both\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-image\":{\"type\":\"resolvedImage\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-keep-upright\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-field\":{\"type\":\"formatted\",\"default\":\"\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-justify\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"left\":1,\"center\":1,\"right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-radial-offset\":{\"type\":\"number\",\"default\":0,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]}},\"text-variable-anchor\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-writing-mode\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"horizontal\":1,\"vertical\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-keep-upright\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-transform\":{\"type\":\"enum\",\"values\":{\"none\":1,\"uppercase\":1,\"lowercase\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_raster-particle\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_hillshade\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_symbol\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\",\"pitch\",\"distance-from-center\"]}},\"filter_fill\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_line\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_circle\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_fill-extrusion\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_heatmap\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":1,\"!=\":1,\">\":1,\">=\":1,\"<\":1,\"<=\":1,\"in\":1,\"!in\":1,\"all\":1,\"any\":1,\"none\":1,\"has\":1,\"!has\":1}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":1,\"LineString\":1,\"Polygon\":1}},\"function\":{\"expression\":{\"type\":\"expression\"},\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":1,\"exponential\":1,\"interval\":1,\"categorical\":1},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":1,\"lab\":1,\"hcl\":1},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":24,\"value\":[\"number\",\"color\"],\"length\":2},\"expression\":{\"type\":\"array\",\"value\":\"*\",\"minimum\":1},\"fog\":{\"range\":{\"type\":\"array\",\"default\":[0.5,10],\"minimum\":-20,\"maximum\":20,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"high-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#245cdf\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"space-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,\"#010b19\",7,\"#367ab9\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"horizon-blend\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,0.2,7,0.1],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"star-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],5,0.35,6,0],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"vertical-range\":{\"type\":\"array\",\"default\":[0,0],\"minimum\":0,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}}},\"camera\":{\"camera-projection\":{\"type\":\"enum\",\"values\":{\"perspective\":1,\"orthographic\":1},\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"default\":\"perspective\",\"property-type\":\"data-constant\"}},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"projection\":{\"name\":{\"type\":\"enum\",\"values\":{\"albers\":1,\"equalEarth\":1,\"equirectangular\":1,\"lambertConformalConic\":1,\"mercator\":1,\"naturalEarth\":1,\"winkelTripel\":1,\"globe\":1},\"default\":\"mercator\",\"required\":true},\"center\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-180,-90],\"maximum\":[180,90]},\"parallels\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-90,-90],\"maximum\":[90,90]}},\"terrain\":{\"source\":{\"type\":\"string\",\"required\":true},\"exaggeration\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1000,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_heatmap\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_hillshade\",\"paint_background\",\"paint_sky\",\"paint_model\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-outline-color\":{\"type\":\"color\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-height\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-base\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-vertical-gradient\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-ambient-occlusion-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-wall-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-flood-light-color\":{\"property-type\":\"data-constant\",\"type\":\"color\",\"default\":\"#ffffff\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-wall-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-vertical-scale\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-rounded-roof\":{\"property-type\":\"data-constant\",\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]}},\"fill-extrusion-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"},\"fill-extrusion-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"minimum\":0,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-gradient\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"line-progress\"]},\"property-type\":\"color-ramp\"},\"line-trim-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"minimum\":[0,0],\"maximum\":[1,1],\"property-type\":\"constant\"},\"line-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"line-border-width\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-border-color\":{\"type\":\"color\",\"private\":true,\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-scale\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_heatmap\":{\"heatmap-radius\":{\"type\":\"number\",\"default\":30,\"minimum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-weight\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"heatmap-color\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(0, 0, 255, 0)\",0.1,\"royalblue\",0.3,\"cyan\",0.5,\"lime\",0.7,\"yellow\",1,\"red\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"heatmap-density\"]},\"property-type\":\"color-ramp\"},\"heatmap-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-image-cross-fade\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"overridable\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-color-saturation\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{},\"property-type\":\"data-constant\"}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-color\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"raster-value\"]},\"property-type\":\"color-ramp\"},\"raster-color-mix\":{\"type\":\"array\",\"default\":[0.2126,0.7152,0.0722,0],\"length\":4,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-color-range\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-min\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-max\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-resampling\":{\"type\":\"enum\",\"values\":{\"linear\":1,\"nearest\":1},\"default\":\"linear\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"raster-array-band\":{\"type\":\"string\",\"required\":false,\"property-type\":\"data-constant\"},\"raster-elevation\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_raster-particle\":{\"raster-particle-array-band\":{\"type\":\"string\",\"required\":false,\"property-type\":\"data-constant\"},\"raster-particle-count\":{\"type\":\"number\",\"default\":512,\"minimum\":1,\"property-type\":\"data-constant\"},\"raster-particle-color\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"raster-particle-speed\"]},\"property-type\":\"color-ramp\"},\"raster-particle-max-speed\":{\"type\":\"number\",\"default\":1,\"minimum\":1,\"property-type\":\"data-constant\"},\"raster-particle-speed-factor\":{\"type\":\"number\",\"default\":0.2,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-particle-fade-opacity-factor\":{\"type\":\"number\",\"default\":0.98,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-particle-reset-rate-factor\":{\"type\":\"number\",\"default\":0.8,\"minimum\":0,\"maximum\":1,\"property-type\":\"data-constant\"}},\"paint_hillshade\":{\"hillshade-illumination-direction\":{\"type\":\"number\",\"default\":335,\"minimum\":0,\"maximum\":359,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-illumination-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-exaggeration\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-shadow-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-highlight-color\":{\"type\":\"color\",\"default\":\"#FFFFFF\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-accent-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_sky\":{\"sky-type\":{\"type\":\"enum\",\"values\":{\"gradient\":1,\"atmosphere\":1},\"default\":\"atmosphere\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun-intensity\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"maximum\":100,\"property-type\":\"data-constant\"},\"sky-gradient-center\":{\"type\":\"array\",\"value\":\"number\",\"default\":[0,0],\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient-radius\":{\"type\":\"number\",\"default\":90,\"minimum\":0,\"maximum\":180,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"sky-radial-progress\"],0.8,\"#87ceeb\",1,\"white\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"sky-radial-progress\"]},\"property-type\":\"color-ramp\"},\"sky-atmosphere-halo-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-atmosphere-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_model\":{\"model-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"model-rotation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"period\":360,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-scale\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[1,1,1],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-translation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-color\":{\"type\":\"color\",\"default\":\"#ffffff\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\",\"zoom\"]},\"transition\":true},\"model-color-mix-intensity\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-type\":{\"type\":\"enum\",\"values\":{\"common-3d\":1,\"location-indicator\":1},\"default\":\"common-3d\",\"property-type\":\"data-constant\"},\"model-cast-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-receive-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-ambient-occlusion-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\",\"transition\":true},\"model-emissive-strength\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":5,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-roughness\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]},\"transition\":true},\"model-height-based-emissive-strength-multiplier\":{\"type\":\"array\",\"default\":[1,1,1,1,0],\"length\":5,\"value\":\"number\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0}},\"property-type\":{\"data-driven\":{\"type\":\"property-type\"},\"color-ramp\":{\"type\":\"property-type\"},\"data-constant\":{\"type\":\"property-type\"},\"constant\":{\"type\":\"property-type\"}},\"promoteId\":{\"*\":{\"type\":\"string\"}}}');function $a(t){if(!0===t||!1===t)return !0;if(!Array.isArray(t)||0===t.length)return !1;switch(t[0]){case\"has\":return t.length>=2&&\"$id\"!==t[1]&&\"$type\"!==t[1];case\"in\":return t.length>=3&&(\"string\"!=typeof t[1]||Array.isArray(t[2]));case\"!in\":case\"!has\":case\"none\":return !1;case\"==\":case\"!=\":case\">\":case\">=\":case\"<\":case\"<=\":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case\"any\":case\"all\":for(const e of t.slice(1))if(!$a(e)&&\"boolean\"!=typeof e)return !1;return !0;default:return !0}}function Ga(t,e=\"fill\"){if(null==t)return {filter:()=>!0,needGeometry:!1,needFeature:!1};$a(t)||(t=Ja(t));const r=t;let n=!0;try{n=function(t){if(!Za(t))return t;let e=ja(t);return Xa(e),e=Ya(e),e}(r);}catch(t){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\\nand paste the contents of this message in the report.\\nThank you!\\nFilter Expression:\\n${JSON.stringify(r,null,2)}\\n        `);}const i=qa[`filter_${e}`],a=Gi(n,i);let s=null;if(\"error\"===a.result)throw new Error(a.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));s=(t,e,r)=>a.value.evaluate(t,e,{},r);let o=null,l=null;if(n!==r){const t=Gi(r,i);if(\"error\"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));o=(e,r,n,i,a)=>t.value.evaluate(e,r,{},n,void 0,void 0,i,a),l=!dn(t.value.expression);}return {filter:s,dynamicFilter:o||void 0,needGeometry:Wa(n),needFeature:!!l}}function Ya(t){if(!Array.isArray(t))return t;const e=function(t){if(Ka.has(t[0]))for(let e=1;e<t.length;e++)if(Za(t[e]))return !0;return t}(t);return !0===e?e:e.map((t=>Ya(t)))}function Xa(t){let e=!1;const r=[];if(\"case\"===t[0]){for(let n=1;n<t.length-1;n+=2)e=e||Za(t[n]),r.push(t[n+1]);r.push(t[t.length-1]);}else if(\"match\"===t[0]){e=e||Za(t[1]);for(let e=2;e<t.length-1;e+=2)r.push(t[e+1]);r.push(t[t.length-1]);}else if(\"step\"===t[0]){e=e||Za(t[1]);for(let e=1;e<t.length-1;e+=2)r.push(t[e+1]);}e&&(t.length=0,t.push(\"any\",...r));for(let e=1;e<t.length;e++)Xa(t[e]);}function Za(t){if(!Array.isArray(t))return !1;if(\"pitch\"===(e=t[0])||\"distance-from-center\"===e)return !0;var e;for(let e=1;e<t.length;e++)if(Za(t[e]))return !0;return !1}const Ka=new Set([\"in\",\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"to-boolean\"]);function Ha(t,e){return t<e?-1:t>e?1:0}function Wa(t){if(!Array.isArray(t))return !1;if(\"within\"===t[0]||\"distance\"===t[0])return !0;for(let e=1;e<t.length;e++)if(Wa(t[e]))return !0;return !1}function Ja(t){if(!t)return !0;const e=t[0];return t.length<=1?\"any\"!==e:\"==\"===e?Qa(t[1],t[2],\"==\"):\"!=\"===e?rs(Qa(t[1],t[2],\"==\")):\"<\"===e||\">\"===e||\"<=\"===e||\">=\"===e?Qa(t[1],t[2],e):\"any\"===e?(r=t.slice(1),[\"any\"].concat(r.map(Ja))):\"all\"===e?[\"all\"].concat(t.slice(1).map(Ja)):\"none\"===e?[\"all\"].concat(t.slice(1).map(Ja).map(rs)):\"in\"===e?ts(t[1],t.slice(2)):\"!in\"===e?rs(ts(t[1],t.slice(2))):\"has\"===e?es(t[1]):\"!has\"!==e||rs(es(t[1]));var r;}function Qa(t,e,r){switch(t){case\"$type\":return [`filter-type-${r}`,e];case\"$id\":return [`filter-id-${r}`,e];default:return [`filter-${r}`,t,e]}}function ts(t,e){if(0===e.length)return !1;switch(t){case\"$type\":return [\"filter-type-in\",[\"literal\",e]];case\"$id\":return [\"filter-id-in\",[\"literal\",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?[\"filter-in-large\",t,[\"literal\",e.sort(Ha)]]:[\"filter-in-small\",t,[\"literal\",e]]}}function es(t){switch(t){case\"$type\":return !0;case\"$id\":return [\"filter-has-id\"];default:return [\"filter-has\",t]}}function rs(t){return [\"!\",t]}const ns=\"\u001f\";function is(t,e){return e?`${t}${ns}${e}`:t}const as=\"-transition\";class ss extends ee{constructor(t,e,r,n){if(super(),this.id=t.id,this.fqid=is(this.id,r),this.type=t.type,this.scope=r,this.options=n,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,\"custom\"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,\"background\"!==t.type&&\"sky\"!==t.type&&\"slot\"!==t.type&&(this.source=t.source,this.sourceLayer=t[\"source-layer\"],this.filter=t.filter),t.slot&&(this.slot=t.slot),e.layout&&(this._unevaluatedLayout=new Ra(e.layout,this.scope,n),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),e.paint)){this._transitionablePaint=new Ta(e.paint,this.scope,n);for(const e in t.paint)this.setPaintProperty(e,t.paint[e]);for(const e in t.layout)this.setLayoutProperty(e,t.layout[e]);this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Va(e.paint);}}getLayoutProperty(t){return \"visibility\"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e){if(\"custom\"===this.type&&\"visibility\"===t)return void(this.visibility=e);const r=this._unevaluatedLayout;r._properties.properties[t]&&(r.setValue(t,e),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,\"visibility\"===t&&this.possiblyEvaluateVisibility());}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0});}getPaintProperty(t){return L(t,as)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e){const r=this._transitionablePaint,n=r._properties.properties;if(L(t,as)){const i=t.slice(0,-11);return n[i]&&r.setTransition(i,e||void 0),!1}if(!n[t])return !1;const i=r._values[t],a=i.value.isDataDriven(),s=i.value;r.setValue(t,e),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,this._handleSpecialPaintPropertyUpdate(t);const o=r._values[t].value,l=o.isDataDriven(),u=L(t,\"pattern\")||\"line-dasharray\"===t;return l||a||u||this._handleOverridablePaintPropertyUpdate(t,s,o)}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getDefaultProgramParams(t,e){return null}_handleOverridablePaintPropertyUpdate(t,e,r){return !1}isHidden(t){return !!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||\"none\"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e);}serialize(){return N({id:this.id,type:this.type,slot:this.slot,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},((t,e)=>!(void 0===t||\"layout\"===e&&!Object.keys(t).length||\"paint\"===e&&!Object.keys(t).length)))}is3D(){return !1}isSky(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}hasShadowPass(){return !1}canCastShadows(){return !1}hasLightBeamPass(){return !1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof Da&&Ti(e.property.specification)&&(\"source\"===e.value.kind||\"composite\"===e.value.kind)&&e.value.isStateDependent)return !0}return !1}compileFilter(){this._filterCompiled||(this._featureFilter=Ga(this.filter),this._filterCompiled=!0);}invalidateCompiledFilter(){this._filterCompiled=!1;}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(t){this._stats&&(\"shadow\"===t.renderPass?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0);}}const os={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ls{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class us{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.add(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(t){this.reserve(t),this.length=t;}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e);}}_refreshViews(){throw new Error(\"StructArray#_refreshViews() must be implemented by each concrete StructArray layout\")}emplace(...t){throw new Error(\"StructArray#emplace() must be implemented by each concrete StructArray layout\")}emplaceBack(...t){throw new Error(\"StructArray#emplaceBack() must be implemented by each concrete StructArray layout\")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null;}}function cs(t,e=1){let r=0,n=0;return {members:t.map((t=>{const i=os[t.type].BYTES_PER_ELEMENT,a=r=hs(r,Math.max(e,i)),s=t.components||1;return n=Math.max(n,i),r+=i*s,{name:t.name,type:t.type,components:s,offset:a}})),size:hs(r,Math.max(n,e)),alignment:e}}function hs(t,e){return Math.ceil(t/e)*e}class ps extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t}}ps.prototype.bytesPerElement=4,ra(ps,\"StructArrayLayout2i4\");class fs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t}}fs.prototype.bytesPerElement=6,ra(fs,\"StructArrayLayout3i6\");class ds extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const a=4*t;return this.int16[a+0]=e,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,t}}ds.prototype.bytesPerElement=8,ra(ds,\"StructArrayLayout4i8\");class ms extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i)}emplace(t,e,r,n,i,a){const s=5*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,t}}ms.prototype.bytesPerElement=10,ra(ms,\"StructArrayLayout5i10\");class ys extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a,s)}emplace(t,e,r,n,i,a,s,o){const l=6*t,u=12*t,c=3*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=s,this.float32[c+2]=o,t}}ys.prototype.bytesPerElement=12,ra(ys,\"StructArrayLayout2i4ub1f12\");class gs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const a=4*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,t}}gs.prototype.bytesPerElement=16,ra(gs,\"StructArrayLayout4f16\");class xs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i)}emplace(t,e,r,n,i,a){const s=6*t,o=3*t;return this.uint16[s+0]=e,this.uint16[s+1]=r,this.uint16[s+2]=n,this.uint16[s+3]=i,this.float32[o+2]=a,t}}xs.prototype.bytesPerElement=12,ra(xs,\"StructArrayLayout4ui1f12\");class vs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const a=4*t;return this.uint16[a+0]=e,this.uint16[a+1]=r,this.uint16[a+2]=n,this.uint16[a+3]=i,t}}vs.prototype.bytesPerElement=8,ra(vs,\"StructArrayLayout4ui8\");class bs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i,a)}emplace(t,e,r,n,i,a,s){const o=6*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,this.int16[o+4]=a,this.int16[o+5]=s,t}}bs.prototype.bytesPerElement=12,ra(bs,\"StructArrayLayout6i12\");class _s extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s,o,l,u,c,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,e,r,n,i,a,s,o,l,u,c,h)}emplace(t,e,r,n,i,a,s,o,l,u,c,h,p){const f=12*t;return this.int16[f+0]=e,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=s,this.uint16[f+6]=o,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t}}_s.prototype.bytesPerElement=24,ra(_s,\"StructArrayLayout4i4ui4i24\");class ws extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i,a)}emplace(t,e,r,n,i,a,s){const o=10*t,l=5*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.float32[l+2]=i,this.float32[l+3]=a,this.float32[l+4]=s,t}}ws.prototype.bytesPerElement=20,ra(ws,\"StructArrayLayout3i3f20\");class Ms extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}Ms.prototype.bytesPerElement=4,ra(Ms,\"StructArrayLayout1ul4\");class As extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t}}As.prototype.bytesPerElement=4,ra(As,\"StructArrayLayout2ui4\");class Ss extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s,o,l,u,c,h,p){const f=this.length;return this.resize(f+1),this.emplace(f,t,e,r,n,i,a,s,o,l,u,c,h,p)}emplace(t,e,r,n,i,a,s,o,l,u,c,h,p,f){const d=20*t,m=10*t;return this.int16[d+0]=e,this.int16[d+1]=r,this.int16[d+2]=n,this.int16[d+3]=i,this.int16[d+4]=a,this.float32[m+3]=s,this.float32[m+4]=o,this.float32[m+5]=l,this.float32[m+6]=u,this.int16[d+14]=c,this.uint32[m+8]=h,this.uint16[d+18]=p,this.uint16[d+19]=f,t}}Ss.prototype.bytesPerElement=40,ra(Ss,\"StructArrayLayout5i4f1i1ul2ui40\");class Is extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a,s)}emplace(t,e,r,n,i,a,s,o){const l=8*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=i,this.int16[l+5]=a,this.int16[l+6]=s,this.int16[l+7]=o,t}}Is.prototype.bytesPerElement=16,ra(Is,\"StructArrayLayout3i2i2i16\");class ks extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i)}emplace(t,e,r,n,i,a){const s=4*t,o=8*t;return this.float32[s+0]=e,this.float32[s+1]=r,this.float32[s+2]=n,this.int16[o+6]=i,this.int16[o+7]=a,t}}ks.prototype.bytesPerElement=16,ra(ks,\"StructArrayLayout2f1f2i16\");class Ps extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const a=12*t,s=3*t;return this.uint8[a+0]=e,this.uint8[a+1]=r,this.float32[s+1]=n,this.float32[s+2]=i,t}}Ps.prototype.bytesPerElement=12,ra(Ps,\"StructArrayLayout2ub2f12\");class Es extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t}}Es.prototype.bytesPerElement=6,ra(Es,\"StructArrayLayout3ui6\");class zs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b){const _=this.length;return this.resize(_+1),this.emplace(_,t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b)}emplace(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_){const w=30*t,M=15*t,A=60*t;return this.int16[w+0]=e,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[M+2]=i,this.float32[M+3]=a,this.uint16[w+8]=s,this.uint16[w+9]=o,this.uint32[M+5]=l,this.uint32[M+6]=u,this.uint32[M+7]=c,this.uint16[w+16]=h,this.uint16[w+17]=p,this.uint16[w+18]=f,this.float32[M+10]=d,this.float32[M+11]=m,this.uint8[A+48]=y,this.uint8[A+49]=g,this.uint8[A+50]=x,this.uint32[M+13]=v,this.int16[w+28]=b,this.uint8[A+58]=_,t}}zs.prototype.bytesPerElement=60,ra(zs,\"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60\");class Ts extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_,w,M,A,S,I,k,P,E,z,T){const B=this.length;return this.resize(B+1),this.emplace(B,t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_,w,M,A,S,I,k,P,E,z,T)}emplace(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_,w,M,A,S,I,k,P,E,z,T,B){const C=20*t,R=40*t,D=80*t;return this.float32[C+0]=e,this.float32[C+1]=r,this.int16[R+4]=n,this.int16[R+5]=i,this.int16[R+6]=a,this.int16[R+7]=s,this.int16[R+8]=o,this.int16[R+9]=l,this.int16[R+10]=u,this.int16[R+11]=c,this.int16[R+12]=h,this.uint16[R+13]=p,this.uint16[R+14]=f,this.uint16[R+15]=d,this.uint16[R+16]=m,this.uint16[R+17]=y,this.uint16[R+18]=g,this.uint16[R+19]=x,this.uint16[R+20]=v,this.uint16[R+21]=b,this.uint16[R+22]=_,this.uint16[R+23]=w,this.uint16[R+24]=M,this.uint16[R+25]=A,this.uint16[R+26]=S,this.uint16[R+27]=I,this.uint32[C+14]=k,this.float32[C+15]=P,this.float32[C+16]=E,this.float32[C+17]=z,this.float32[C+18]=T,this.uint8[D+76]=B,t}}Ts.prototype.bytesPerElement=80,ra(Ts,\"StructArrayLayout2f9i15ui1ul4f1ub80\");class Bs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}Bs.prototype.bytesPerElement=4,ra(Bs,\"StructArrayLayout1f4\");class Cs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i)}emplace(t,e,r,n,i,a){const s=5*t;return this.float32[s+0]=e,this.float32[s+1]=r,this.float32[s+2]=n,this.float32[s+3]=i,this.float32[s+4]=a,t}}Cs.prototype.bytesPerElement=20,ra(Cs,\"StructArrayLayout5f20\");class Rs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a,s)}emplace(t,e,r,n,i,a,s,o){const l=7*t;return this.float32[l+0]=e,this.float32[l+1]=r,this.float32[l+2]=n,this.float32[l+3]=i,this.float32[l+4]=a,this.float32[l+5]=s,this.float32[l+6]=o,t}}Rs.prototype.bytesPerElement=28,ra(Rs,\"StructArrayLayout7f28\");class Ds extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const a=6*t;return this.uint32[3*t+0]=e,this.uint16[a+2]=r,this.uint16[a+3]=n,this.uint16[a+4]=i,t}}Ds.prototype.bytesPerElement=12,ra(Ds,\"StructArrayLayout1ul3ui12\");class Vs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}Vs.prototype.bytesPerElement=2,ra(Vs,\"StructArrayLayout1ui2\");class Ls extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t}}Ls.prototype.bytesPerElement=12,ra(Ls,\"StructArrayLayout3f12\");class Fs extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t}}Fs.prototype.bytesPerElement=8,ra(Fs,\"StructArrayLayout2f8\");class Ns extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m){const y=this.length;return this.resize(y+1),this.emplace(y,t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m)}emplace(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y){const g=16*t;return this.float32[g+0]=e,this.float32[g+1]=r,this.float32[g+2]=n,this.float32[g+3]=i,this.float32[g+4]=a,this.float32[g+5]=s,this.float32[g+6]=o,this.float32[g+7]=l,this.float32[g+8]=u,this.float32[g+9]=c,this.float32[g+10]=h,this.float32[g+11]=p,this.float32[g+12]=f,this.float32[g+13]=d,this.float32[g+14]=m,this.float32[g+15]=y,t}}Ns.prototype.bytesPerElement=64,ra(Ns,\"StructArrayLayout16f64\");class Os extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,a,s){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a,s)}emplace(t,e,r,n,i,a,s,o){const l=10*t,u=5*t;return this.uint16[l+0]=e,this.uint16[l+1]=r,this.uint16[l+2]=n,this.uint16[l+3]=i,this.float32[u+2]=a,this.float32[u+3]=s,this.float32[u+4]=o,t}}Os.prototype.bytesPerElement=20,ra(Os,\"StructArrayLayout4ui3f20\");class Us extends us{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint8[1*t+0]=e,t}}Us.prototype.bytesPerElement=1,ra(Us,\"StructArrayLayout1ub1\");class js extends ls{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}js.prototype.size=40;class qs extends Ss{get(t){return new js(this,t)}}ra(qs,\"CollisionBoxArray\");class $s extends ls{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t;}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t;}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t;}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t;}}$s.prototype.size=60;class Gs extends zs{get(t){return new $s(this,t)}}ra(Gs,\"PlacedSymbolArray\");class Ys extends ls{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(t){this._structArray.uint32[this._pos4+14]=t;}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(t){this._structArray.float32[this._pos4+18]=t;}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}Ys.prototype.size=80;class Xs extends Ts{get(t){return new Ys(this,t)}}ra(Xs,\"SymbolInstanceArray\");class Zs extends Bs{getoffsetX(t){return this.float32[1*t+0]}}ra(Zs,\"GlyphOffsetArray\");class Ks extends ps{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}ra(Ks,\"SymbolLineVertexArray\");class Hs extends ls{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Hs.prototype.size=12;class Ws extends Ds{get(t){return new Hs(this,t)}}ra(Ws,\"FeatureIndexArray\");class Js extends As{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}ra(Js,\"FillExtrusionCentroidArray\");const Qs=cs([{name:\"a_pos\",components:2,type:\"Int16\"}],4),to=cs([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]);class eo{constructor(t=[]){this.segments=t;}_prepareSegment(t,e,r,n){let i=this.segments[this.segments.length-1];return t>eo.MAX_VERTEX_ARRAY_LENGTH&&j(`Max vertices per segment is ${eo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!i||i.vertexLength+t>eo.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:e,primitiveOffset:r,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}prepareSegment(t,e,r,n){return this._prepareSegment(t,e.length,r.length,n)}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy();}static simpleSegment(t,e,r,n){return new eo([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}function ro(t,e){return 256*(t=I(Math.floor(t),0,255))+I(Math.floor(e),0,255)}eo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ra(eo,\"SegmentVector\");const no=cs([{name:\"a_pattern\",components:4,type:\"Uint16\"},{name:\"a_pixel_ratio\",components:1,type:\"Float32\"}]),io=cs([{name:\"a_dash\",components:4,type:\"Uint16\"}]);var ao={exports:{}},so={exports:{}};!function(t){t.exports=function(t,e){var r,n,i,a,s,o,l,u;for(n=t.length-(r=3&t.length),i=e,s=3432918353,o=461845907,u=0;u<n;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295;}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};}(so);var oo=so.exports,lo={exports:{}};!function(t){t.exports=function(t,e){for(var r,n=t.length,i=e^n,a=0;n>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&t.charCodeAt(a+2))<<16;case 2:i^=(255&t.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16);}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};}(lo);var uo=oo,co=lo.exports;ao.exports=uo,ao.exports.murmur3=uo,ao.exports.murmur2=co;var ho=h(ao.exports);class po{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1;}add(t,e,r,n){this.ids.push(fo(t)),this.positions.push(e,r,n);}eachPosition(t,e){const r=fo(t);let n=0,i=this.ids.length-1;for(;n<i;){const t=n+i>>1;this.ids[t]>=r?i=t:n=t+1;}for(;this.ids[n]===r;)e(this.positions[3*n],this.positions[3*n+1],this.positions[3*n+2]),n++;}static serialize(t,e){const r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return mo(r,n,0,r.length-1),e&&(e.add(r.buffer),e.add(n.buffer)),{ids:r,positions:n}}static deserialize(t){const e=new po;let r;e.ids=t.ids,e.positions=t.positions;for(const t of e.ids)t!==r&&e.uniqueIds.push(t),r=t;return e.indexed=!0,e}}function fo(t){const e=+t;return !isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:ho(String(t))}function mo(t,e,r,n){for(;r<n;){const i=t[r+n>>1];let a=r-1,s=n+1;for(;;){do{a++;}while(t[a]<i);do{s--;}while(t[s]>i);if(a>=s)break;yo(t,a,s),yo(e,3*a,3*s),yo(e,3*a+1,3*s+1),yo(e,3*a+2,3*s+2);}s-r<n-s?(mo(t,e,r,s),r=s+1):(mo(t,e,s+1,n),n=s);}}function yo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}ra(po,\"FeaturePositionMap\");class go{constructor(t){this.gl=t.gl,this.initialized=!1;}fetchUniformLocation(t,e){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,e),this.initialized=!0),!!this.location}}class xo extends go{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r));}}class vo extends go{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r));}}class bo extends go{constructor(t){super(t),this.current=[0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])));}}class _o extends go{constructor(t){super(t),this.current=[0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])));}}class wo extends go{constructor(t){super(t),this.current=[0,0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3])));}}class Mo extends go{constructor(t){super(t),this.current=le.transparent;}set(t,e,r){this.fetchUniformLocation(t,e)&&(r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a)));}}const Ao=new Float32Array(16);class So extends go{constructor(t){super(t),this.current=Ao;}set(t,e,r){if(this.fetchUniformLocation(t,e)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let t=1;t<16;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}}const Io=new Float32Array(9),ko=new Float32Array(4);class Po extends go{constructor(t){super(t),this.current=ko;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<4;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}}function Eo(t){return [ro(255*t.r,255*t.g),ro(255*t.b,255*t.a)]}class zo{constructor(t,e,r){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=r;}setUniform(t,e,r,n,i){e.set(t,i,n.constantOr(this.value));}getBinding(t,e){return \"color\"===this.type?new Mo(t):new vo(t)}}class To{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.pattern=null,this.pixelRatio=1;}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br);}setUniform(t,e,r,n,i){const a=\"u_pattern\"===i||\"u_dash\"===i?this.pattern:\"u_pixel_ratio\"===i?this.pixelRatio:null;a&&e.set(t,i,a);}getBinding(t,e){return \"u_pattern\"===e||\"u_dash\"===e?new wo(t):new vo(t)}}class Bo{constructor(t,e,r,n){this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?2:1,offset:0}))),this.paintVertexArray=new n;}populatePaintArray(t,e,r,n,i,a,s){const o=this.paintVertexArray.length,l=this.expression.evaluate(new Pa(0,{brightness:a}),e,{},i,n,s);this.paintVertexArray.resize(t),this._setPaintValue(o,t,l);}updatePaintArray(t,e,r,n,i,a,s){const o=this.expression.evaluate({zoom:0,brightness:s},r,n,void 0,i);this._setPaintValue(t,e,o);}_setPaintValue(t,e,r){if(\"color\"===this.type){const n=Eo(r);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n[0],n[1]);}else {for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class Co{constructor(t,e,r,n,i,a){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?4:2,offset:0}))),this.paintVertexArray=new a;}populatePaintArray(t,e,r,n,i,a,s){const o=this.expression.evaluate(new Pa(this.zoom,{brightness:a}),e,{},i,n,s),l=this.expression.evaluate(new Pa(this.zoom+1,{brightness:a}),e,{},i,n,s),u=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(u,t,o,l);}updatePaintArray(t,e,r,n,i,a,s){const o=this.expression.evaluate({zoom:this.zoom,brightness:s},r,n,void 0,i),l=this.expression.evaluate({zoom:this.zoom+1,brightness:s},r,n,void 0,i);this._setPaintValue(t,e,o,l);}_setPaintValue(t,e,r,n){if(\"color\"===this.type){const i=Eo(r),a=Eo(n);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1],a[0],a[1]);}else {for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(t,e,r,n,i){const a=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,s=I(this.expression.interpolationFactor(a,this.zoom,this.zoom+1),0,1);e.set(t,i,s);}getBinding(t,e){return new vo(t)}}class Ro{constructor(t,e,r,n,i){this.expression=t,this.layerId=i,this.paintVertexAttributes=(\"array\"===r?io:no).members;for(let t=0;t<e.length;++t);this.paintVertexArray=new n;}populatePaintArray(t,e,r){const n=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],r);}updatePaintArray(t,e,r,n,i,a,s){this._setPaintValues(t,e,r.patterns&&r.patterns[this.layerId],a);}_setPaintValues(t,e,r,n){if(!n||!r)return;const i=n[r];if(!i)return;const{tl:a,br:s,pixelRatio:o}=i;for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,a[0],a[1],s[0],s[1],o);}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class Do{constructor(t,e,r=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in t.paint._values){const a=t.paint.get(i);if(!r(i))continue;if(!(a instanceof Da&&Ti(a.property.specification)))continue;const s=Fo(i,t.type),o=a.value,l=a.property.specification.type,u=!!a.property.useIntegerZoom,c=\"line-dasharray\"===i||i.endsWith(\"pattern\"),h=\"line-dasharray\"===i&&\"constant\"!==t.layout.get(\"line-cap\").value.kind;if(\"constant\"!==o.kind||h)if(\"source\"===o.kind||h||c){const e=Uo(i,l,\"source\");this.binders[i]=c?new Ro(o,s,l,e,t.id):new Bo(o,s,l,e),n.push(`/a_${i}`);}else {const t=Uo(i,l,\"composite\");this.binders[i]=new Co(o,s,l,u,e,t),n.push(`/z_${i}`);}else this.binders[i]=c?new To(o.value,s):new zo(o.value,s,l),n.push(`/u_${i}`);}this.cacheKey=n.sort().join(\"\");}getMaxValue(t){const e=this.binders[t];return e instanceof Bo||e instanceof Co?e.maxValue:0}populatePaintArrays(t,e,r,n,i,a,s){for(const o in this.binders){const l=this.binders[o];(l instanceof Bo||l instanceof Co||l instanceof Ro)&&l.populatePaintArray(t,e,r,n,i,a,s);}}setConstantPatternPositions(t){for(const e in this.binders){const r=this.binders[e];r instanceof To&&r.setConstantPatternPositions(t);}}updatePaintArrays(t,e,r,n,i,a,s,o){let l=!1;const u=Object.keys(t),c=0!==u.length,h=c?u:e.uniqueIds;for(const u in this.binders){const p=this.binders[u];if((p instanceof Bo||p instanceof Co||p instanceof Ro)&&(!0===p.expression.isStateDependent||!1===p.expression.isLightConstant)){const f=i.paint.get(u);p.expression=f.value;for(const r of h){const i=t[r.toString()];e.eachPosition(r,((t,e,r)=>{const l=n.feature(t);p.updatePaintArray(e,r,l,i,a,s,o);}));}if(!c)for(const e of r.uniqueIds){const i=t[e.toString()];r.eachPosition(e,((t,e,r)=>{const l=n.feature(t);p.updatePaintArray(e,r,l,i,a,s,o);}));}l=!0;}}return l}defines(){const t=[];for(const e in this.binders){const r=this.binders[e];(r instanceof zo||r instanceof To)&&t.push(...r.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)));}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof Bo||r instanceof Co||r instanceof Ro)for(let e=0;e<r.paintVertexAttributes.length;e++)t.push(r.paintVertexAttributes[e].name);}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof zo||r instanceof To||r instanceof Co)for(const e of r.uniformNames)t.push(e);}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const e=[];for(const r in this.binders){const n=this.binders[r];if(n instanceof zo||n instanceof To||n instanceof Co)for(const i of n.uniformNames)e.push({name:i,property:r,binding:n.getBinding(t,i)});}return e}setUniforms(t,e,r,n,i){for(const{name:e,property:a,binding:s}of r)this.binders[a].setUniform(t,s,i,n.get(a),e);}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const e=this.binders[t];(e instanceof Bo||e instanceof Co||e instanceof Ro)&&e.paintVertexBuffer&&this._buffers.push(e.paintVertexBuffer);}}upload(t){for(const e in this.binders){const r=this.binders[e];(r instanceof Bo||r instanceof Co||r instanceof Ro)&&r.upload(t);}this.updatePaintBuffers();}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof Bo||e instanceof Co||e instanceof Ro)&&e.destroy();}}}class Vo{constructor(t,e,r=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new Do(n,e,r);this.needsUpload=!1,this._featureMap=new po,this._featureMapWithoutIds=new po,this._bufferOffset=0,this._idlessCounter=0;}populatePaintArrays(t,e,r,n,i,a,s,o){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,n,i,a,s,o);void 0!==e.id?this._featureMap.add(e.id,r,this._bufferOffset,t):(this._featureMapWithoutIds.add(this._idlessCounter,r,this._bufferOffset,t),this._idlessCounter+=1),this._bufferOffset=t,this.needsUpload=!0;}updatePaintArrays(t,e,r,n,i,a){for(const s of r)this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(t,this._featureMap,this._featureMapWithoutIds,e,s,n,i,a||0)||this.needsUpload;}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1;}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy();}}const Lo={\"text-opacity\":[\"opacity\"],\"icon-opacity\":[\"opacity\"],\"text-color\":[\"fill_color\"],\"icon-color\":[\"fill_color\"],\"text-emissive-strength\":[\"emissive_strength\"],\"icon-emissive-strength\":[\"emissive_strength\"],\"text-halo-color\":[\"halo_color\"],\"icon-halo-color\":[\"halo_color\"],\"text-halo-blur\":[\"halo_blur\"],\"icon-halo-blur\":[\"halo_blur\"],\"text-halo-width\":[\"halo_width\"],\"icon-halo-width\":[\"halo_width\"],\"line-gap-width\":[\"gapwidth\"],\"line-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-extrusion-pattern\":[\"pattern\",\"pixel_ratio\"],\"line-dasharray\":[\"dash\"]};function Fo(t,e){return Lo[t]||[t.replace(`${e}-`,\"\").replace(/-/g,\"_\")]}const No={\"line-pattern\":{source:xs,composite:xs},\"fill-pattern\":{source:xs,composite:xs},\"fill-extrusion-pattern\":{source:xs,composite:xs},\"line-dasharray\":{source:vs,composite:vs}},Oo={color:{source:Fs,composite:gs},number:{source:Bs,composite:Fs}};function Uo(t,e,r){const n=No[t];return n&&n[r]||Oo[e][r]}ra(zo,\"ConstantBinder\"),ra(To,\"PatternConstantBinder\"),ra(Bo,\"SourceExpressionBinder\"),ra(Ro,\"PatternCompositeBinder\"),ra(Co,\"CompositeExpressionBinder\"),ra(Do,\"ProgramConfiguration\",{omit:[\"_buffers\"]}),ra(Vo,\"ProgramConfigurationSet\");const jo=Tr/Math.PI/2,qo=5,$o=6,Go=16383,Yo=64,Xo=[Yo,32,16],Zo=-jo,Ko=jo;function Ho(t,e,r,n=jo){return r=b(r),[t*Math.sin(r)*n,-e*n,t*Math.cos(r)*n]}function Wo(t,e,r){return Ho(Math.cos(b(t)),Math.sin(b(t)),e,r)}const Jo=6371008.8,Qo=2*Math.PI*Jo;class tl{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}wrap(){return new tl(P(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,r=this.lat*e,n=t.lat*e,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return Jo*Math.acos(Math.min(i,1))}toBounds(t=0){const e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new el({lng:this.lng-r,lat:this.lat-e},{lng:this.lng+r,lat:this.lat+e})}toEcef(t){return Wo(this.lat,this.lng,jo+t*jo/Jo)}static convert(t){if(t instanceof tl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new tl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&\"object\"==typeof t&&null!==t)return new tl(Number(\"lng\"in t?t.lng:t.lon),Number(t.lat));throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")}}class el{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]));}setNorthEast(t){return this._ne=t instanceof tl?new tl(t.lng,t.lat):tl.convert(t),this}setSouthWest(t){return this._sw=t instanceof tl?new tl(t.lng,t.lat):tl.convert(t),this}extend(t){const e=this._sw,r=this._ne;let n,i;if(t instanceof tl)n=t,i=t;else {if(!(t instanceof el))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(el.convert(t)):this.extend(tl.convert(t)):\"object\"==typeof t&&null!==t&&t.hasOwnProperty(\"lat\")&&(t.hasOwnProperty(\"lon\")||t.hasOwnProperty(\"lng\"))?this.extend(tl.convert(t)):this;if(n=t._sw,i=t._ne,!n||!i)return this}return e||r?(e.lng=Math.min(n.lng,e.lng),e.lat=Math.min(n.lat,e.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new tl(n.lng,n.lat),this._ne=new tl(i.lng,i.lat)),this}getCenter(){return new tl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new tl(this.getWest(),this.getNorth())}getSouthEast(){return new tl(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(t){const{lng:e,lat:r}=tl.convert(t);let n=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(t){return !t||t instanceof el?t:new el(t)}}var rl={};!function(t,e){!function(t){function e(t,e,n){var i=r(256*t,256*(e=Math.pow(2,n)-e-1),n),a=r(256*(t+1),256*(e+1),n);return i[0]+\",\"+i[1]+\",\"+a[0]+\",\"+a[1]}function r(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return [t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}t.getURL=function(t,r,n,i,a,s){return s=s||{},t+\"?\"+[\"bbox=\"+e(n,i,a),\"format=\"+(s.format||\"image/png\"),\"service=\"+(s.service||\"WMS\"),\"version=\"+(s.version||\"1.1.1\"),\"request=\"+(s.request||\"GetMap\"),\"srs=\"+(s.srs||\"EPSG:3857\"),\"width=\"+(s.width||256),\"height=\"+(s.height||256),\"layers=\"+r].join(\"&\")},t.getTileBBox=e,t.getMercCoords=r,Object.defineProperty(t,\"__esModule\",{value:!0});}(e);}(0,rl);var nl=rl;class il{constructor(t,e,r){this.z=t,this.x=e,this.y=r,this.key=ol(0,t,t,e,r);}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const r=nl.getTileBBox(this.x,this.y,this.z),n=function(t,e,r){let n,i=\"\";for(let a=t;a>0;a--)n=1<<a-1,i+=(e&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(\"tms\"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace(\"{quadkey}\",n).replace(\"{bbox-epsg-3857}\",r)}toString(){return `${this.z}/${this.x}/${this.y}`}}class al{constructor(t,e){this.wrap=t,this.canonical=e,this.key=ol(t,e.z,e.z,e.x,e.y);}}class sl{constructor(t,e,r,n,i){this.overscaledZ=t,this.wrap=e,this.canonical=new il(r,+n,+i),this.key=0===e&&t===r?this.canonical.key:ol(e,t,r,n,i);}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new sl(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sl(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return ol(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const r=this.canonical.z-t;return ol(this.wrap*+e,t,t,this.canonical.x>>r,this.canonical.y>>r)}}isChildOf(t){if(t.wrap!==this.wrap)return !1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.z<this.canonical.z&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return [new sl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return [new sl(e,this.wrap,e,r,n),new sl(e,this.wrap,e,r+1,n),new sl(e,this.wrap,e,r,n+1),new sl(e,this.wrap,e,r+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new sl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new sl(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new al(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function ol(t,e,r,n,i){const a=1<<Math.min(r,22);let s=a*(i%a)+n%a;return t&&r<22&&(s+=a*a*((t<0?-2*t-1:2*t)%(1<<2*(22-r)))),16*(32*s+r)+(e-r)}const ll=[t=>{let e=t.canonical.x-1,r=t.wrap;return e<0&&(e=(1<<t.canonical.z)-1,r--),new sl(t.overscaledZ,r,t.canonical.z,e,t.canonical.y)},t=>{let e=t.canonical.x+1,r=t.wrap;return e===1<<t.canonical.z&&(e=0,r++),new sl(t.overscaledZ,r,t.canonical.z,e,t.canonical.y)},t=>new sl(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new sl(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)];ra(il,\"CanonicalTileID\"),ra(sl,\"OverscaledTileID\",{omit:[\"projMatrix\",\"expandedProjMatrix\"]});const ul=0,cl=25.5;function hl(t){return Qo*Math.cos(t*Math.PI/180)}function pl(t){return (180+t)/360}function fl(t){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function dl(t,e){return t/hl(e)}function ml(t){return 360*t-180}function yl(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function gl(t,e){return t*hl(yl(e))}const xl=85.051129;function vl(t){return Math.cos(b(I(t,-xl,xl)))}function bl(t,e){const r=I(e,ul,cl),n=Math.pow(2,r);return vl(t)*Qo/(512*n)}function _l(t){return 1/Math.cos(t*Math.PI/180)}function wl(t,e=0){const r=Math.exp(Math.PI*(1-(t.y+e/Tr)/(1<<t.z)*2));return 80150034*r/(r*r+1)/Tr/(1<<t.z)}class Ml{constructor(t,e,r=0){this.x=+t,this.y=+e,this.z=+r;}static fromLngLat(t,e=0){const r=tl.convert(t);return new Ml(pl(r.lng),fl(r.lat),dl(e,r.lat))}toLngLat(){return new tl(ml(this.x),yl(this.y))}toAltitude(){return gl(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Qo*_l(yl(this.y))}}function Al(t,e,r,n,i,a,s,o,l){const u=(e+n)/2,c=(r+i)/2,h=new g(u,c);o(h),function(t,e,r,n,i,a){const s=r-i,o=n-a;return Math.abs((n-e)*s-(r-t)*o)/Math.hypot(s,o)}(h.x,h.y,a.x,a.y,s.x,s.y)>=l?(Al(t,e,r,u,c,a,h,o,l),Al(t,u,c,n,i,h,s,o,l)):t.push(s);}function Sl(t,e,r){let n=t[0],i=n.x,a=n.y;e(n);const s=[n];for(let o=1;o<t.length;o++){const l=t[o],{x:u,y:c}=l;e(l),Al(s,i,a,u,c,n,l,e,r),i=u,a=c,n=l;}return s}function Il(t,e,r,n){if(n(e,r)){const i=e.add(r)._mult(.5);Il(t,e,i,n),Il(t,i,r,n);}else t.push(r);}function kl(t,e){let r=t[0];const n=[r];for(let i=1;i<t.length;i++){const a=t[i];Il(n,r,a,e),r=a;}return n}const Pl=Math.pow(2,14)-1,El=-Pl-1;function zl(t,e){const r=Math.round(t.x*e),n=Math.round(t.y*e);return t.x=I(r,El,Pl),t.y=I(n,El,Pl),(r<t.x||r>t.x+1||n<t.y||n>t.y+1)&&j(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\"),t}function Tl(t,e,r){const n=t.loadGeometry(),i=t.extent,a=Tr/i;if(e&&r&&r.projection.isReprojectedInTileSpace){const a=1<<e.z,{scale:s,x:o,y:l,projection:u}=r,c=t=>{const r=ml((e.x+t.x/i)/a),n=yl((e.y+t.y/i)/a),c=u.project(r,n);t.x=(c.x*s-o)*i,t.y=(c.y*s-l)*i;};for(let e=0;e<n.length;e++)if(1!==t.type)n[e]=Sl(n[e],c,1);else {const t=[];for(const r of n[e])r.x<0||r.x>=i||r.y<0||r.y>=i||(c(r),t.push(r));n[e]=t;}}for(const t of n)for(const e of t)zl(e,a);return n}function Bl(t,e){return {type:t.type,id:t.id,properties:t.properties,geometry:e?Tl(t):[]}}function Cl(t,e,r,n,i){t.emplaceBack(2*e+(n+1)/2,2*r+(i+1)/2);}function Rl(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class Dl{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new ps,this.indexArray=new Es,this.segments=new eo,this.programConfigurations=new Vo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){const i=this.layers[0],a=[];let s=null;\"circle\"===i.type&&(s=i.layout.get(\"circle-sort-key\"));for(const{feature:e,id:i,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Bl(e,t);if(!this.layers[0]._featureFilter.filter(new Pa(this.zoom),u,r))continue;const c=s?s.evaluate(u,{},r):void 0,h={id:i,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:Tl(e,r,n),patterns:{},sortKey:c};a.push(h);}s&&a.sort(((t,e)=>t.sortKey-e.sortKey));let o=null;\"globe\"===n.projection.name&&(this.globeExtVertexArray=new bs,o=n.projection);for(const n of a){const{geometry:i,index:a,sourceLayerIndex:s}=n,l=t[a].feature;this.addFeature(n,i,a,e.availableImages,r,o,e.brightness),e.featureIndex.insert(l,i,a,s,this.index);}}update(t,e,r,n,i){const a=0!==Object.keys(t).length;a&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(t,e,a?this.stateDependentLayers:this.layers,r,n,i);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qs.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,to.members))),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}addFeature(t,e,r,n,i,a,s){for(const r of e)for(const e of r){const r=e.x,n=e.y;if(r<0||r>=Tr||n<0||n>=Tr)continue;if(a){const t=a.projectTilePoint(r,n,i),e=a.upVector(i,r,n),s=this.globeExtVertexArray;Rl(s,t,e),Rl(s,t,e),Rl(s,t,e),Rl(s,t,e);}const s=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=s.vertexLength;Cl(this.layoutVertexArray,r,n,-1,-1),Cl(this.layoutVertexArray,r,n,1,-1),Cl(this.layoutVertexArray,r,n,1,1),Cl(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+2,o+3),s.vertexLength+=4,s.primitiveLength+=2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{},n,i,s);}}function Vl(t,e){for(let r=0;r<t.length;r++)if(Gl(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(Gl(t,e[r]))return !0;return !!Ol(t,e)}function Ll(t,e,r){return !!Gl(t,e)||!!jl(e,t,r)}function Fl(t,e){if(1===t.length)return $l(e,t[0]);for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++)if(Gl(t,n[e]))return !0}for(let r=0;r<t.length;r++)if($l(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(Ol(t,e[r]))return !0;return !1}function Nl(t,e,r){if(t.length>1){if(Ol(t,e))return !0;for(let n=0;n<e.length;n++)if(jl(e[n],t,r))return !0}for(let n=0;n<t.length;n++)if(jl(t[n],e,r))return !0;return !1}function Ol(t,e){if(0===t.length||0===e.length)return !1;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1];for(let t=0;t<e.length-1;t++)if(Ul(n,i,e[t],e[t+1]))return !0}return !1}function Ul(t,e,r,n){return q(t,r,n)!==q(e,r,n)&&q(t,e,r)!==q(t,e,n)}function jl(t,e,r){const n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(ql(t,e[r-1],e[r])<n)return !0;return !1}function ql(t,e,r){const n=e.distSqr(r);if(0===n)return t.distSqr(e);const i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return t.distSqr(i<0?e:i>1?r:r.sub(e)._mult(i)._add(e))}function $l(t,e){let r,n,i,a=!1;for(let s=0;s<t.length;s++){r=t[s];for(let t=0,s=r.length-1;t<r.length;s=t++)n=r[t],i=r[s],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(a=!a);}return a}function Gl(t,e){let r=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const a=t[n],s=t[i];a.y>e.y!=s.y>e.y&&e.x<(s.x-a.x)*(e.y-a.y)/(s.y-a.y)+a.x&&(r=!r);}return r}function Yl(t,e,r,n,i){for(const a of t)if(e<=a.x&&r<=a.y&&n>=a.x&&i>=a.y)return !0;const a=[new g(e,r),new g(e,i),new g(n,i),new g(n,r)];if(t.length>2)for(const e of a)if(Gl(t,e))return !0;for(let e=0;e<t.length-1;e++)if(Xl(t[e],t[e+1],a))return !0;return !1}function Xl(t,e,r){const n=r[0],i=r[2];if(t.x<n.x&&e.x<n.x||t.x>i.x&&e.x>i.x||t.y<n.y&&e.y<n.y||t.y>i.y&&e.y>i.y)return !1;const a=q(t,e,r[0]);return a!==q(t,e,r[1])||a!==q(t,e,r[2])||a!==q(t,e,r[3])}function Zl(t,e,r,n,i,a){let s=e.y-t.y,o=t.x-e.x;if(a=a||0){const t=s*s+o*o;if(0===t)return !0;const e=Math.sqrt(t);s/=e,o/=e;}return !((r.x-t.x)*s+(r.y-t.y)*o-a<0||(n.x-t.x)*s+(n.y-t.y)*o-a<0||(i.x-t.x)*s+(i.y-t.y)*o-a<0)}function Kl(t,e,r,n,i,a,s){return !(Zl(t,e,n,i,a,s)||Zl(e,r,n,i,a,s)||Zl(r,t,n,i,a,s)||Zl(n,i,t,e,r,s)||Zl(i,a,t,e,r,s)||Zl(a,n,t,e,r,s))}function Hl(t,e,r){const n=e.paint.get(t).value;return \"constant\"===n.kind?n.value:r.programConfigurations.get(e.id).getMaxValue(t)}function Wl(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Jl(t,e,r,n,i){if(!e[0]&&!e[1])return t;const a=g.convert(e)._mult(i);\"viewport\"===r&&a._rotate(-n);const s=[];for(let e=0;e<t.length;e++)s.push(t[e].sub(a));return s}function Ql(t,e,r,n){const i=g.convert(t)._mult(n);return \"viewport\"===e&&i._rotate(-r),i}ra(Dl,\"CircleBucket\",{omit:[\"layers\"]});const tu=new Oa({\"circle-sort-key\":new Fa(qa.layout_circle[\"circle-sort-key\"]),visibility:new La(qa.layout_circle.visibility)});var eu={paint:new Oa({\"circle-radius\":new Fa(qa.paint_circle[\"circle-radius\"]),\"circle-color\":new Fa(qa.paint_circle[\"circle-color\"]),\"circle-blur\":new Fa(qa.paint_circle[\"circle-blur\"]),\"circle-opacity\":new Fa(qa.paint_circle[\"circle-opacity\"]),\"circle-translate\":new La(qa.paint_circle[\"circle-translate\"]),\"circle-translate-anchor\":new La(qa.paint_circle[\"circle-translate-anchor\"]),\"circle-pitch-scale\":new La(qa.paint_circle[\"circle-pitch-scale\"]),\"circle-pitch-alignment\":new La(qa.paint_circle[\"circle-pitch-alignment\"]),\"circle-stroke-width\":new Fa(qa.paint_circle[\"circle-stroke-width\"]),\"circle-stroke-color\":new Fa(qa.paint_circle[\"circle-stroke-color\"]),\"circle-stroke-opacity\":new Fa(qa.paint_circle[\"circle-stroke-opacity\"]),\"circle-emissive-strength\":new La(qa.paint_circle[\"circle-emissive-strength\"])}),layout:tu},ru={},nu={};Object.defineProperty(nu,\"__esModule\",{value:!0}),nu.setMatrixArrayType=function(t){nu.ARRAY_TYPE=au=t;},nu.toRadian=function(t){return t*ou},nu.equals=function(t,e){return Math.abs(t-e)<=iu*Math.max(1,Math.abs(t),Math.abs(e))},nu.RANDOM=nu.ARRAY_TYPE=nu.EPSILON=void 0;var iu=1e-6;nu.EPSILON=iu;var au=\"undefined\"!=typeof Float32Array?Float32Array:Array;nu.ARRAY_TYPE=au;var su=Math.random;nu.RANDOM=su;var ou=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var lu={};function uu(t){return uu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},uu(t)}Object.defineProperty(lu,\"__esModule\",{value:!0}),lu.create=function(){var t=new cu.ARRAY_TYPE(4);return cu.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},lu.clone=function(t){var e=new cu.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},lu.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},lu.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},lu.fromValues=function(t,e,r,n){var i=new cu.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},lu.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},lu.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r;}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},lu.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*a-i*n;return s?(t[0]=a*(s=1/s),t[1]=-n*s,t[2]=-i*s,t[3]=r*s,t):null},lu.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},lu.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},lu.multiply=pu,lu.rotate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*o,t[1]=i*l+s*o,t[2]=n*-o+a*l,t[3]=i*-o+s*l,t},lu.scale=function(t,e,r){var n=e[1],i=e[2],a=e[3],s=r[0],o=r[1];return t[0]=e[0]*s,t[1]=n*s,t[2]=i*o,t[3]=a*o,t},lu.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},lu.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},lu.str=function(t){return \"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},lu.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},lu.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},lu.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},lu.subtract=fu,lu.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},lu.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],o=e[1],l=e[2],u=e[3];return Math.abs(r-s)<=cu.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=cu.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=cu.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-u)<=cu.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},lu.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},lu.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},lu.sub=lu.mul=void 0;var cu=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==uu(t)&&\"function\"!=typeof t)return {default:t};var r=hu(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function hu(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (hu=function(t){return t?r:e})(t)}function pu(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],l=r[1],u=r[2],c=r[3];return t[0]=n*o+a*l,t[1]=i*o+s*l,t[2]=n*u+a*c,t[3]=i*u+s*c,t}function fu(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}lu.mul=pu,lu.sub=fu;var du={};function mu(t){return mu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},mu(t)}Object.defineProperty(du,\"__esModule\",{value:!0}),du.create=function(){var t=new yu.ARRAY_TYPE(6);return yu.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},du.clone=function(t){var e=new yu.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},du.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},du.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},du.fromValues=function(t,e,r,n,i,a){var s=new yu.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=i,s[5]=a,s},du.set=function(t,e,r,n,i,a,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t},du.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=r*a-n*i;return l?(t[0]=a*(l=1/l),t[1]=-n*l,t[2]=-i*l,t[3]=r*l,t[4]=(i*o-a*s)*l,t[5]=(n*s-r*o)*l,t):null},du.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},du.multiply=xu,du.rotate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*u,t[1]=i*c+s*u,t[2]=n*-u+a*c,t[3]=i*-u+s*c,t[4]=o,t[5]=l,t},du.scale=function(t,e,r){var n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=r[0],u=r[1];return t[0]=e[0]*l,t[1]=n*l,t[2]=i*u,t[3]=a*u,t[4]=s,t[5]=o,t},du.translate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=n*u+a*c+o,t[5]=i*u+s*c+l,t},du.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},du.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},du.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},du.str=function(t){return \"mat2d(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\")\"},du.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},du.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},du.subtract=vu,du.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},du.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},du.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},du.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=e[0],u=e[1],c=e[2],h=e[3],p=e[4],f=e[5];return Math.abs(r-l)<=yu.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=yu.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=yu.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-h)<=yu.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-p)<=yu.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-f)<=yu.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))},du.sub=du.mul=void 0;var yu=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==mu(t)&&\"function\"!=typeof t)return {default:t};var r=gu(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function gu(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (gu=function(t){return t?r:e})(t)}function xu(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=r[0],c=r[1],h=r[2],p=r[3],f=r[4],d=r[5];return t[0]=n*u+a*c,t[1]=i*u+s*c,t[2]=n*h+a*p,t[3]=i*h+s*p,t[4]=n*f+a*d+o,t[5]=i*f+s*d+l,t}function vu(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}du.mul=xu,du.sub=vu;var bu={};function _u(t){return _u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},_u(t)}Object.defineProperty(bu,\"__esModule\",{value:!0}),bu.create=function(){var t=new wu.ARRAY_TYPE(9);return wu.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},bu.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},bu.clone=function(t){var e=new wu.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},bu.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},bu.fromValues=function(t,e,r,n,i,a,s,o,l){var u=new wu.ARRAY_TYPE(9);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=s,u[7]=o,u[8]=l,u},bu.set=function(t,e,r,n,i,a,s,o,l,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=l,t[8]=u,t},bu.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},bu.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i;}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},bu.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=c*s-o*u,p=-c*a+o*l,f=u*a-s*l,d=r*h+n*p+i*f;return d?(t[0]=h*(d=1/d),t[1]=(-c*n+i*u)*d,t[2]=(o*n-i*s)*d,t[3]=p*d,t[4]=(c*r-i*l)*d,t[5]=(-o*r+i*a)*d,t[6]=f*d,t[7]=(-u*r+n*l)*d,t[8]=(s*r-n*a)*d,t):null},bu.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t[0]=s*c-o*u,t[1]=i*u-n*c,t[2]=n*o-i*s,t[3]=o*l-a*c,t[4]=r*c-i*l,t[5]=i*a-r*o,t[6]=a*u-s*l,t[7]=n*l-r*u,t[8]=r*s-n*a,t},bu.determinant=function(t){var e=t[3],r=t[4],n=t[5],i=t[6],a=t[7],s=t[8];return t[0]*(s*r-n*a)+t[1]*(-s*e+n*i)+t[2]*(a*e-r*i)},bu.multiply=Au,bu.translate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=r[0],f=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=p*n+f*s+u,t[7]=p*i+f*o+c,t[8]=p*a+f*l+h,t},bu.rotate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(r),f=Math.cos(r);return t[0]=f*n+p*s,t[1]=f*i+p*o,t[2]=f*a+p*l,t[3]=f*s-p*n,t[4]=f*o-p*i,t[5]=f*l-p*a,t[6]=u,t[7]=c,t[8]=h,t},bu.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},bu.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},bu.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},bu.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},bu.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},bu.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r+r,o=n+n,l=i+i,u=r*s,c=n*s,h=n*o,p=i*s,f=i*o,d=i*l,m=a*s,y=a*o,g=a*l;return t[0]=1-h-d,t[3]=c-g,t[6]=p+y,t[1]=c+g,t[4]=1-u-d,t[7]=f-m,t[2]=p-y,t[5]=f+m,t[8]=1-u-h,t},bu.normalFromMat4=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],g=e[15],x=r*o-n*s,v=r*l-i*s,b=r*u-a*s,_=n*l-i*o,w=n*u-a*o,M=i*u-a*l,A=c*m-h*d,S=c*y-p*d,I=c*g-f*d,k=h*y-p*m,P=h*g-f*m,E=p*g-f*y,z=x*E-v*P+b*k+_*I-w*S+M*A;return z?(t[0]=(o*E-l*P+u*k)*(z=1/z),t[1]=(l*I-s*E-u*S)*z,t[2]=(s*P-o*I+u*A)*z,t[3]=(i*P-n*E-a*k)*z,t[4]=(r*E-i*I+a*S)*z,t[5]=(n*I-r*P-a*A)*z,t[6]=(m*M-y*w+g*_)*z,t[7]=(y*b-d*M-g*v)*z,t[8]=(d*w-m*b+g*x)*z,t):null},bu.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},bu.str=function(t){return \"mat3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\")\"},bu.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},bu.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},bu.subtract=Su,bu.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},bu.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},bu.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},bu.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],h=e[0],p=e[1],f=e[2],d=e[3],m=e[4],y=e[5],g=e[6],x=e[7],v=e[8];return Math.abs(r-h)<=wu.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-p)<=wu.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(i-f)<=wu.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-d)<=wu.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-m)<=wu.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(o-y)<=wu.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(l-g)<=wu.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-x)<=wu.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(c-v)<=wu.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))},bu.sub=bu.mul=void 0;var wu=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==_u(t)&&\"function\"!=typeof t)return {default:t};var r=Mu(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function Mu(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (Mu=function(t){return t?r:e})(t)}function Au(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=r[0],f=r[1],d=r[2],m=r[3],y=r[4],g=r[5],x=r[6],v=r[7],b=r[8];return t[0]=p*n+f*s+d*u,t[1]=p*i+f*o+d*c,t[2]=p*a+f*l+d*h,t[3]=m*n+y*s+g*u,t[4]=m*i+y*o+g*c,t[5]=m*a+y*l+g*h,t[6]=x*n+v*s+b*u,t[7]=x*i+v*o+b*c,t[8]=x*a+v*l+b*h,t}function Su(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}bu.mul=Au,bu.sub=Su;var Iu={};function ku(t){return ku=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ku(t)}Object.defineProperty(Iu,\"__esModule\",{value:!0}),Iu.create=function(){var t=new Pu.ARRAY_TYPE(16);return Pu.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},Iu.clone=function(t){var e=new Pu.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Iu.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Iu.fromValues=function(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m){var y=new Pu.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=n,y[4]=i,y[5]=a,y[6]=s,y[7]=o,y[8]=l,y[9]=u,y[10]=c,y[11]=h,y[12]=p,y[13]=f,y[14]=d,y[15]=m,y},Iu.set=function(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=p,t[12]=f,t[13]=d,t[14]=m,t[15]=y,t},Iu.identity=zu,Iu.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=s,t[14]=o;}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},Iu.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],g=e[15],x=r*o-n*s,v=r*l-i*s,b=r*u-a*s,_=n*l-i*o,w=n*u-a*o,M=i*u-a*l,A=c*m-h*d,S=c*y-p*d,I=c*g-f*d,k=h*y-p*m,P=h*g-f*m,E=p*g-f*y,z=x*E-v*P+b*k+_*I-w*S+M*A;return z?(t[0]=(o*E-l*P+u*k)*(z=1/z),t[1]=(i*P-n*E-a*k)*z,t[2]=(m*M-y*w+g*_)*z,t[3]=(p*w-h*M-f*_)*z,t[4]=(l*I-s*E-u*S)*z,t[5]=(r*E-i*I+a*S)*z,t[6]=(y*b-d*M-g*v)*z,t[7]=(c*M-p*b+f*v)*z,t[8]=(s*P-o*I+u*A)*z,t[9]=(n*I-r*P-a*A)*z,t[10]=(d*w-m*b+g*x)*z,t[11]=(h*b-c*w-f*x)*z,t[12]=(o*S-s*k-l*A)*z,t[13]=(r*k-n*S+i*A)*z,t[14]=(m*v-d*_-y*x)*z,t[15]=(c*_-h*v+p*x)*z,t):null},Iu.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],m=e[13],y=e[14],g=e[15];return t[0]=o*(p*g-f*y)-h*(l*g-u*y)+m*(l*f-u*p),t[1]=-(n*(p*g-f*y)-h*(i*g-a*y)+m*(i*f-a*p)),t[2]=n*(l*g-u*y)-o*(i*g-a*y)+m*(i*u-a*l),t[3]=-(n*(l*f-u*p)-o*(i*f-a*p)+h*(i*u-a*l)),t[4]=-(s*(p*g-f*y)-c*(l*g-u*y)+d*(l*f-u*p)),t[5]=r*(p*g-f*y)-c*(i*g-a*y)+d*(i*f-a*p),t[6]=-(r*(l*g-u*y)-s*(i*g-a*y)+d*(i*u-a*l)),t[7]=r*(l*f-u*p)-s*(i*f-a*p)+c*(i*u-a*l),t[8]=s*(h*g-f*m)-c*(o*g-u*m)+d*(o*f-u*h),t[9]=-(r*(h*g-f*m)-c*(n*g-a*m)+d*(n*f-a*h)),t[10]=r*(o*g-u*m)-s*(n*g-a*m)+d*(n*u-a*o),t[11]=-(r*(o*f-u*h)-s*(n*f-a*h)+c*(n*u-a*o)),t[12]=-(s*(h*y-p*m)-c*(o*y-l*m)+d*(o*p-l*h)),t[13]=r*(h*y-p*m)-c*(n*y-i*m)+d*(n*p-i*h),t[14]=-(r*(o*y-l*m)-s*(n*y-i*m)+d*(n*l-i*o)),t[15]=r*(o*p-l*h)-s*(n*p-i*h)+c*(n*l-i*o),t},Iu.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11],f=t[12],d=t[13],m=t[14],y=t[15];return (e*s-r*a)*(h*y-p*m)-(e*o-n*a)*(c*y-p*d)+(e*l-i*a)*(c*m-h*d)+(r*o-n*s)*(u*y-p*f)-(r*l-i*s)*(u*m-h*f)+(n*l-i*o)*(u*d-c*f)},Iu.multiply=Tu,Iu.translate=function(t,e,r){var n,i,a,s,o,l,u,c,h,p,f,d,m=r[0],y=r[1],g=r[2];return e===t?(t[12]=e[0]*m+e[4]*y+e[8]*g+e[12],t[13]=e[1]*m+e[5]*y+e[9]*g+e[13],t[14]=e[2]*m+e[6]*y+e[10]*g+e[14],t[15]=e[3]*m+e[7]*y+e[11]*g+e[15]):(i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=n=e[0],t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=n*m+o*y+h*g+e[12],t[13]=i*m+l*y+p*g+e[13],t[14]=a*m+u*y+f*g+e[14],t[15]=s*m+c*y+d*g+e[15]),t},Iu.scale=function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Iu.rotate=function(t,e,r,n){var i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_,w,M,A,S,I,k,P=n[0],E=n[1],z=n[2],T=Math.hypot(P,E,z);return T<Pu.EPSILON?null:(P*=T=1/T,E*=T,z*=T,i=Math.sin(r),a=Math.cos(r),l=e[1],u=e[2],c=e[3],p=e[5],f=e[6],d=e[7],y=e[9],g=e[10],x=e[11],v=P*P*(s=1-a)+a,w=P*E*s-z*i,M=E*E*s+a,A=z*E*s+P*i,S=P*z*s+E*i,I=E*z*s-P*i,k=z*z*s+a,t[0]=(o=e[0])*v+(h=e[4])*(b=E*P*s+z*i)+(m=e[8])*(_=z*P*s-E*i),t[1]=l*v+p*b+y*_,t[2]=u*v+f*b+g*_,t[3]=c*v+d*b+x*_,t[4]=o*w+h*M+m*A,t[5]=l*w+p*M+y*A,t[6]=u*w+f*M+g*A,t[7]=c*w+d*M+x*A,t[8]=o*S+h*I+m*k,t[9]=l*S+p*I+y*k,t[10]=u*S+f*I+g*k,t[11]=c*S+d*I+x*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},Iu.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+u*n,t[5]=s*i+c*n,t[6]=o*i+h*n,t[7]=l*i+p*n,t[8]=u*i-a*n,t[9]=c*i-s*n,t[10]=h*i-o*n,t[11]=p*i-l*n,t},Iu.rotateY=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],l=e[3],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-u*n,t[1]=s*i-c*n,t[2]=o*i-h*n,t[3]=l*i-p*n,t[8]=a*n+u*i,t[9]=s*n+c*i,t[10]=o*n+h*i,t[11]=l*n+p*i,t},Iu.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+u*n,t[1]=s*i+c*n,t[2]=o*i+h*n,t[3]=l*i+p*n,t[4]=u*i-a*n,t[5]=c*i-s*n,t[6]=h*i-o*n,t[7]=p*i-l*n,t},Iu.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},Iu.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Iu.fromRotation=function(t,e,r){var n,i,a,s=r[0],o=r[1],l=r[2],u=Math.hypot(s,o,l);return u<Pu.EPSILON?null:(s*=u=1/u,o*=u,l*=u,n=Math.sin(e),i=Math.cos(e),t[0]=s*s*(a=1-i)+i,t[1]=o*s*a+l*n,t[2]=l*s*a-o*n,t[3]=0,t[4]=s*o*a-l*n,t[5]=o*o*a+i,t[6]=l*o*a+s*n,t[7]=0,t[8]=s*l*a+o*n,t[9]=o*l*a-s*n,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},Iu.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Iu.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Iu.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Iu.fromRotationTranslation=Bu,Iu.fromQuat2=function(t,e){var r=new Pu.ARRAY_TYPE(3),n=-e[0],i=-e[1],a=-e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=n*n+i*i+a*a+s*s;return h>0?(r[0]=2*(o*s+c*n+l*a-u*i)/h,r[1]=2*(l*s+c*i+u*n-o*a)/h,r[2]=2*(u*s+c*a+o*i-l*n)/h):(r[0]=2*(o*s+c*n+l*a-u*i),r[1]=2*(l*s+c*i+u*n-o*a),r[2]=2*(u*s+c*a+o*i-l*n)),Bu(t,e,r),t},Iu.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},Iu.getScaling=Cu,Iu.getRotation=function(t,e){var r=new Pu.ARRAY_TYPE(3);Cu(r,e);var n=1/r[0],i=1/r[1],a=1/r[2],s=e[0]*n,o=e[1]*i,l=e[2]*a,u=e[4]*n,c=e[5]*i,h=e[6]*a,p=e[8]*n,f=e[9]*i,d=e[10]*a,m=s+c+d,y=0;return m>0?(y=2*Math.sqrt(m+1),t[3]=.25*y,t[0]=(h-f)/y,t[1]=(p-l)/y,t[2]=(o-u)/y):s>c&&s>d?(y=2*Math.sqrt(1+s-c-d),t[3]=(h-f)/y,t[0]=.25*y,t[1]=(o+u)/y,t[2]=(p+l)/y):c>d?(y=2*Math.sqrt(1+c-s-d),t[3]=(p-l)/y,t[0]=(o+u)/y,t[1]=.25*y,t[2]=(h+f)/y):(y=2*Math.sqrt(1+d-s-c),t[3]=(o-u)/y,t[0]=(p+l)/y,t[1]=(h+f)/y,t[2]=.25*y),t},Iu.fromRotationTranslationScale=function(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=e[3],l=i+i,u=a+a,c=s+s,h=i*l,p=i*u,f=i*c,d=a*u,m=a*c,y=s*c,g=o*l,x=o*u,v=o*c,b=n[0],_=n[1],w=n[2];return t[0]=(1-(d+y))*b,t[1]=(p+v)*b,t[2]=(f-x)*b,t[3]=0,t[4]=(p-v)*_,t[5]=(1-(h+y))*_,t[6]=(m+g)*_,t[7]=0,t[8]=(f+x)*w,t[9]=(m-g)*w,t[10]=(1-(h+d))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},Iu.fromRotationTranslationScaleOrigin=function(t,e,r,n,i){var a=e[0],s=e[1],o=e[2],l=e[3],u=a+a,c=s+s,h=o+o,p=a*u,f=a*c,d=a*h,m=s*c,y=s*h,g=o*h,x=l*u,v=l*c,b=l*h,_=n[0],w=n[1],M=n[2],A=i[0],S=i[1],I=i[2],k=(1-(m+g))*_,P=(f+b)*_,E=(d-v)*_,z=(f-b)*w,T=(1-(p+g))*w,B=(y+x)*w,C=(d+v)*M,R=(y-x)*M,D=(1-(p+m))*M;return t[0]=k,t[1]=P,t[2]=E,t[3]=0,t[4]=z,t[5]=T,t[6]=B,t[7]=0,t[8]=C,t[9]=R,t[10]=D,t[11]=0,t[12]=r[0]+A-(k*A+z*S+C*I),t[13]=r[1]+S-(P*A+T*S+R*I),t[14]=r[2]+I-(E*A+B*S+D*I),t[15]=1,t},Iu.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r+r,o=n+n,l=i+i,u=r*s,c=n*s,h=n*o,p=i*s,f=i*o,d=i*l,m=a*s,y=a*o,g=a*l;return t[0]=1-h-d,t[1]=c+g,t[2]=p-y,t[3]=0,t[4]=c-g,t[5]=1-u-d,t[6]=f+m,t[7]=0,t[8]=p+y,t[9]=f-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Iu.frustum=function(t,e,r,n,i,a,s){var o=1/(r-e),l=1/(i-n),u=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(i+n)*l,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*u,t[15]=0,t},Iu.perspectiveNO=Ru,Iu.perspectiveZO=function(t,e,r,n,i){var a,s=1/Math.tan(e/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=i*(a=1/(n-i)),t[14]=i*n*a):(t[10]=-1,t[14]=-n),t},Iu.perspectiveFromFieldOfView=function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),l=2/(s+o),u=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-o)*l*.5,t[9]=(i-a)*u*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},Iu.orthoNO=Du,Iu.orthoZO=function(t,e,r,n,i,a,s){var o=1/(e-r),l=1/(n-i),u=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*l,t[14]=a*u,t[15]=1,t},Iu.lookAt=function(t,e,r,n){var i,a,s,o,l,u,c,h,p,f,d=e[0],m=e[1],y=e[2],g=n[0],x=n[1],v=n[2],b=r[0],_=r[1],w=r[2];return Math.abs(d-b)<Pu.EPSILON&&Math.abs(m-_)<Pu.EPSILON&&Math.abs(y-w)<Pu.EPSILON?zu(t):(c=d-b,h=m-_,p=y-w,i=x*(p*=f=1/Math.hypot(c,h,p))-v*(h*=f),a=v*(c*=f)-g*p,s=g*h-x*c,(f=Math.hypot(i,a,s))?(i*=f=1/f,a*=f,s*=f):(i=0,a=0,s=0),o=h*s-p*a,l=p*i-c*s,u=c*a-h*i,(f=Math.hypot(o,l,u))?(o*=f=1/f,l*=f,u*=f):(o=0,l=0,u=0),t[0]=i,t[1]=o,t[2]=c,t[3]=0,t[4]=a,t[5]=l,t[6]=h,t[7]=0,t[8]=s,t[9]=u,t[10]=p,t[11]=0,t[12]=-(i*d+a*m+s*y),t[13]=-(o*d+l*m+u*y),t[14]=-(c*d+h*m+p*y),t[15]=1,t)},Iu.targetTo=function(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=n[0],l=n[1],u=n[2],c=i-r[0],h=a-r[1],p=s-r[2],f=c*c+h*h+p*p;f>0&&(c*=f=1/Math.sqrt(f),h*=f,p*=f);var d=l*p-u*h,m=u*c-o*p,y=o*h-l*c;return (f=d*d+m*m+y*y)>0&&(d*=f=1/Math.sqrt(f),m*=f,y*=f),t[0]=d,t[1]=m,t[2]=y,t[3]=0,t[4]=h*y-p*m,t[5]=p*d-c*y,t[6]=c*m-h*d,t[7]=0,t[8]=c,t[9]=h,t[10]=p,t[11]=0,t[12]=i,t[13]=a,t[14]=s,t[15]=1,t},Iu.str=function(t){return \"mat4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\", \"+t[8]+\", \"+t[9]+\", \"+t[10]+\", \"+t[11]+\", \"+t[12]+\", \"+t[13]+\", \"+t[14]+\", \"+t[15]+\")\"},Iu.frob=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Iu.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},Iu.subtract=Vu,Iu.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},Iu.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},Iu.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},Iu.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],f=t[11],d=t[12],m=t[13],y=t[14],g=t[15],x=e[0],v=e[1],b=e[2],_=e[3],w=e[4],M=e[5],A=e[6],S=e[7],I=e[8],k=e[9],P=e[10],E=e[11],z=e[12],T=e[13],B=e[14],C=e[15];return Math.abs(r-x)<=Pu.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-v)<=Pu.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-b)<=Pu.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-_)<=Pu.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-w)<=Pu.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(o-M)<=Pu.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(l-A)<=Pu.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(u-S)<=Pu.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-I)<=Pu.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(h-k)<=Pu.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-P)<=Pu.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(f-E)<=Pu.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(d-z)<=Pu.EPSILON*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(m-T)<=Pu.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(y-B)<=Pu.EPSILON*Math.max(1,Math.abs(y),Math.abs(B))&&Math.abs(g-C)<=Pu.EPSILON*Math.max(1,Math.abs(g),Math.abs(C))},Iu.sub=Iu.mul=Iu.ortho=Iu.perspective=void 0;var Pu=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==ku(t)&&\"function\"!=typeof t)return {default:t};var r=Eu(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function Eu(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (Eu=function(t){return t?r:e})(t)}function zu(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Tu(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],m=e[12],y=e[13],g=e[14],x=e[15],v=r[0],b=r[1],_=r[2],w=r[3];return t[0]=v*n+b*o+_*h+w*m,t[1]=v*i+b*l+_*p+w*y,t[2]=v*a+b*u+_*f+w*g,t[3]=v*s+b*c+_*d+w*x,t[4]=(v=r[4])*n+(b=r[5])*o+(_=r[6])*h+(w=r[7])*m,t[5]=v*i+b*l+_*p+w*y,t[6]=v*a+b*u+_*f+w*g,t[7]=v*s+b*c+_*d+w*x,t[8]=(v=r[8])*n+(b=r[9])*o+(_=r[10])*h+(w=r[11])*m,t[9]=v*i+b*l+_*p+w*y,t[10]=v*a+b*u+_*f+w*g,t[11]=v*s+b*c+_*d+w*x,t[12]=(v=r[12])*n+(b=r[13])*o+(_=r[14])*h+(w=r[15])*m,t[13]=v*i+b*l+_*p+w*y,t[14]=v*a+b*u+_*f+w*g,t[15]=v*s+b*c+_*d+w*x,t}function Bu(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=n+n,l=i+i,u=a+a,c=n*o,h=n*l,p=n*u,f=i*l,d=i*u,m=a*u,y=s*o,g=s*l,x=s*u;return t[0]=1-(f+m),t[1]=h+x,t[2]=p-g,t[3]=0,t[4]=h-x,t[5]=1-(c+m),t[6]=d+y,t[7]=0,t[8]=p+g,t[9]=d-y,t[10]=1-(c+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Cu(t,e){var r=e[4],n=e[5],i=e[6],a=e[8],s=e[9],o=e[10];return t[0]=Math.hypot(e[0],e[1],e[2]),t[1]=Math.hypot(r,n,i),t[2]=Math.hypot(a,s,o),t}function Ru(t,e,r,n,i){var a,s=1/Math.tan(e/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+n)*(a=1/(n-i)),t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}function Du(t,e,r,n,i,a,s){var o=1/(e-r),l=1/(n-i),u=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*l,t[14]=(s+a)*u,t[15]=1,t}function Vu(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}Iu.perspective=Ru,Iu.ortho=Du,Iu.mul=Tu,Iu.sub=Vu;var Lu={},Fu={};function Nu(t){return Nu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Nu(t)}Object.defineProperty(Fu,\"__esModule\",{value:!0}),Fu.create=ju,Fu.clone=function(t){var e=new Ou.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},Fu.length=qu,Fu.fromValues=function(t,e,r){var n=new Ou.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=r,n},Fu.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},Fu.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},Fu.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},Fu.subtract=$u,Fu.multiply=Gu,Fu.divide=Yu,Fu.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},Fu.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},Fu.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},Fu.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},Fu.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},Fu.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},Fu.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},Fu.distance=Xu,Fu.squaredDistance=Zu,Fu.squaredLength=Ku,Fu.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},Fu.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},Fu.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},Fu.dot=Hu,Fu.cross=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[0],o=r[1],l=r[2];return t[0]=i*l-a*o,t[1]=a*s-n*l,t[2]=n*o-i*s,t},Fu.lerp=function(t,e,r,n){var i=e[0],a=e[1],s=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t},Fu.hermite=function(t,e,r,n,i,a){var s=a*a,o=s*(2*a-3)+1,l=s*(a-2)+a,u=s*(a-1),c=s*(3-2*a);return t[0]=e[0]*o+r[0]*l+n[0]*u+i[0]*c,t[1]=e[1]*o+r[1]*l+n[1]*u+i[1]*c,t[2]=e[2]*o+r[2]*l+n[2]*u+i[2]*c,t},Fu.bezier=function(t,e,r,n,i,a){var s=1-a,o=s*s,l=a*a,u=o*s,c=3*a*o,h=3*l*s,p=l*a;return t[0]=e[0]*u+r[0]*c+n[0]*h+i[0]*p,t[1]=e[1]*u+r[1]*c+n[1]*h+i[1]*p,t[2]=e[2]*u+r[2]*c+n[2]*h+i[2]*p,t},Fu.random=function(t,e){e=e||1;var r=2*Ou.RANDOM()*Math.PI,n=2*Ou.RANDOM()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t},Fu.transformMat4=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[3]*n+r[7]*i+r[11]*a+r[15];return t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/(s=s||1),t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/s,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/s,t},Fu.transformMat3=function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t},Fu.transformQuat=function(t,e,r){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],l=e[2],u=i*l-a*o,c=a*s-n*l,h=n*o-i*s,p=i*h-a*c,f=a*u-n*h,d=n*c-i*u,m=2*r[3];return c*=m,h*=m,f*=2,d*=2,t[0]=s+(u*=m)+(p*=2),t[1]=o+c+f,t[2]=l+h+d,t},Fu.rotateX=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},Fu.rotateY=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},Fu.rotateZ=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},Fu.angle=function(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],s=e[1],o=e[2],l=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+s*s+o*o),u=l&&Hu(t,e)/l;return Math.acos(Math.min(Math.max(u,-1),1))},Fu.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t},Fu.str=function(t){return \"vec3(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\")\"},Fu.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},Fu.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],s=e[1],o=e[2];return Math.abs(r-a)<=Ou.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=Ou.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=Ou.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))},Fu.forEach=Fu.sqrLen=Fu.len=Fu.sqrDist=Fu.dist=Fu.div=Fu.mul=Fu.sub=void 0;var Ou=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==Nu(t)&&\"function\"!=typeof t)return {default:t};var r=Uu(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function Uu(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (Uu=function(t){return t?r:e})(t)}function ju(){var t=new Ou.ARRAY_TYPE(3);return Ou.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qu(t){return Math.hypot(t[0],t[1],t[2])}function $u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Gu(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Yu(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Xu(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])}function Zu(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function Ku(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function Hu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Fu.sub=$u,Fu.mul=Gu,Fu.div=Yu,Fu.dist=Xu,Fu.sqrDist=Zu,Fu.len=qu,Fu.sqrLen=Ku;var Wu,Ju=(Wu=ju(),function(t,e,r,n,i,a){var s,o;for(e||(e=3),r||(r=0),o=n?Math.min(n*e+r,t.length):t.length,s=r;s<o;s+=e)Wu[0]=t[s],Wu[1]=t[s+1],Wu[2]=t[s+2],i(Wu,Wu,a),t[s]=Wu[0],t[s+1]=Wu[1],t[s+2]=Wu[2];return t});Fu.forEach=Ju;var Qu={};function tc(t){return tc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},tc(t)}Object.defineProperty(Qu,\"__esModule\",{value:!0}),Qu.create=nc,Qu.clone=function(t){var e=new ec.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Qu.fromValues=function(t,e,r,n){var i=new ec.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},Qu.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Qu.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},Qu.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},Qu.subtract=ic,Qu.multiply=ac,Qu.divide=sc,Qu.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},Qu.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},Qu.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},Qu.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},Qu.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},Qu.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},Qu.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},Qu.distance=oc,Qu.squaredDistance=lc,Qu.length=uc,Qu.squaredLength=cc,Qu.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},Qu.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},Qu.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*r+n*n+i*i+a*a;return s>0&&(s=1/Math.sqrt(s)),t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=a*s,t},Qu.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},Qu.cross=function(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],s=r[0]*n[3]-r[3]*n[0],o=r[1]*n[2]-r[2]*n[1],l=r[1]*n[3]-r[3]*n[1],u=r[2]*n[3]-r[3]*n[2],c=e[0],h=e[1],p=e[2],f=e[3];return t[0]=h*u-p*l+f*o,t[1]=-c*u+p*s-f*a,t[2]=c*l-h*s+f*i,t[3]=-c*o+h*a-p*i,t},Qu.lerp=function(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t[3]=o+n*(r[3]-o),t},Qu.random=function(t,e){var r,n,i,a,s,o;e=e||1;do{s=(r=2*ec.RANDOM()-1)*r+(n=2*ec.RANDOM()-1)*n;}while(s>=1);do{o=(i=2*ec.RANDOM()-1)*i+(a=2*ec.RANDOM()-1)*a;}while(o>=1);var l=Math.sqrt((1-s)/o);return t[0]=e*r,t[1]=e*n,t[2]=e*i*l,t[3]=e*a*l,t},Qu.transformMat4=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*s,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*s,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*s,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*s,t},Qu.transformQuat=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[0],o=r[1],l=r[2],u=r[3],c=u*n+o*a-l*i,h=u*i+l*n-s*a,p=u*a+s*i-o*n,f=-s*n-o*i-l*a;return t[0]=c*u+f*-s+h*-l-p*-o,t[1]=h*u+f*-o+p*-s-c*-l,t[2]=p*u+f*-l+c*-o-h*-s,t[3]=e[3],t},Qu.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},Qu.str=function(t){return \"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},Qu.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},Qu.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],o=e[1],l=e[2],u=e[3];return Math.abs(r-s)<=ec.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=ec.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=ec.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-u)<=ec.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))},Qu.forEach=Qu.sqrLen=Qu.len=Qu.sqrDist=Qu.dist=Qu.div=Qu.mul=Qu.sub=void 0;var ec=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==tc(t)&&\"function\"!=typeof t)return {default:t};var r=rc(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function rc(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (rc=function(t){return t?r:e})(t)}function nc(){var t=new ec.ARRAY_TYPE(4);return ec.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ic(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function ac(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function sc(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function oc(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3])}function lc(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function uc(t){return Math.hypot(t[0],t[1],t[2],t[3])}function cc(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}Qu.sub=ic,Qu.mul=ac,Qu.div=sc,Qu.dist=oc,Qu.sqrDist=lc,Qu.len=uc,Qu.sqrLen=cc;var hc=function(){var t=nc();return function(e,r,n,i,a,s){var o,l;for(r||(r=4),n||(n=0),l=i?Math.min(i*r+n,e.length):e.length,o=n;o<l;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}();function pc(t){return pc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},pc(t)}Qu.forEach=hc,Object.defineProperty(Lu,\"__esModule\",{value:!0}),Lu.create=vc,Lu.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},Lu.setAxisAngle=bc,Lu.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>fc.EPSILON?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},Lu.getAngle=function(t,e){var r=kc(t,e);return Math.acos(2*r*r-1)},Lu.multiply=_c,Lu.rotateX=function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+s*o,t[1]=i*l+a*o,t[2]=a*l-i*o,t[3]=s*l-n*o,t},Lu.rotateY=function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l-a*o,t[1]=i*l+s*o,t[2]=a*l+n*o,t[3]=s*l-i*o,t},Lu.rotateZ=function(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+i*o,t[1]=i*l-n*o,t[2]=a*l+s*o,t[3]=s*l-a*o,t},Lu.calculateW=function(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t},Lu.exp=wc,Lu.ln=Mc,Lu.pow=function(t,e,r){return Mc(t,e),Ic(t,t,r),wc(t,t),t},Lu.slerp=Ac,Lu.random=function(t){var e=fc.RANDOM(),r=fc.RANDOM(),n=fc.RANDOM(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t},Lu.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*r+n*n+i*i+a*a,o=s?1/s:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-i*o,t[3]=a*o,t},Lu.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},Lu.fromMat3=Sc,Lu.fromEuler=function(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),s=Math.cos(e),o=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return t[0]=a*l*c-s*o*u,t[1]=s*o*c+a*l*u,t[2]=s*l*u-a*o*c,t[3]=s*l*c+a*o*u,t},Lu.str=function(t){return \"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"},Lu.setAxes=Lu.sqlerp=Lu.rotationTo=Lu.equals=Lu.exactEquals=Lu.normalize=Lu.sqrLen=Lu.squaredLength=Lu.len=Lu.length=Lu.lerp=Lu.dot=Lu.scale=Lu.mul=Lu.add=Lu.set=Lu.copy=Lu.fromValues=Lu.clone=void 0;var fc=xc(nu),dc=xc(bu),mc=xc(Fu),yc=xc(Qu);function gc(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (gc=function(t){return t?r:e})(t)}function xc(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!==pc(t)&&\"function\"!=typeof t)return {default:t};var r=gc(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}function vc(){var t=new fc.ARRAY_TYPE(4);return fc.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function bc(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function _c(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],l=r[1],u=r[2],c=r[3];return t[0]=n*c+s*o+i*u-a*l,t[1]=i*c+s*l+a*o-n*u,t[2]=a*c+s*u+n*l-i*o,t[3]=s*c-n*o-i*l-a*u,t}function wc(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=Math.sqrt(r*r+n*n+i*i),o=Math.exp(a),l=s>0?o*Math.sin(s)/s:0;return t[0]=r*l,t[1]=n*l,t[2]=i*l,t[3]=o*Math.cos(s),t}function Mc(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=Math.sqrt(r*r+n*n+i*i),o=s>0?Math.atan2(s,a)/s:0;return t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function Ac(t,e,r,n){var i,a,s,o,l,u=e[0],c=e[1],h=e[2],p=e[3],f=r[0],d=r[1],m=r[2],y=r[3];return (a=u*f+c*d+h*m+p*y)<0&&(a=-a,f=-f,d=-d,m=-m,y=-y),1-a>fc.EPSILON?(i=Math.acos(a),s=Math.sin(i),o=Math.sin((1-n)*i)/s,l=Math.sin(n*i)/s):(o=1-n,l=n),t[0]=o*u+l*f,t[1]=o*c+l*d,t[2]=o*h+l*m,t[3]=o*p+l*y,t}function Sc(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,t[0]=(e[5]-e[7])*(r=.5/r),t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else {var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*s+s]+1),t[i]=.5*r,t[3]=(e[3*a+s]-e[3*s+a])*(r=.5/r),t[a]=(e[3*a+i]+e[3*i+a])*r,t[s]=(e[3*s+i]+e[3*i+s])*r;}return t}Lu.clone=yc.clone,Lu.fromValues=yc.fromValues,Lu.copy=yc.copy,Lu.set=yc.set,Lu.add=yc.add,Lu.mul=_c;var Ic=yc.scale;Lu.scale=Ic;var kc=yc.dot;Lu.dot=kc,Lu.lerp=yc.lerp;var Pc=yc.length;Lu.length=Pc,Lu.len=Pc;var Ec=yc.squaredLength;Lu.squaredLength=Ec,Lu.sqrLen=Ec;var zc=yc.normalize;Lu.normalize=zc,Lu.exactEquals=yc.exactEquals,Lu.equals=yc.equals;var Tc,Bc,Cc,Rc=(Tc=mc.create(),Bc=mc.fromValues(1,0,0),Cc=mc.fromValues(0,1,0),function(t,e,r){var n=mc.dot(e,r);return n<-.999999?(mc.cross(Tc,Bc,e),mc.len(Tc)<1e-6&&mc.cross(Tc,Cc,e),mc.normalize(Tc,Tc),bc(t,Tc,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(mc.cross(Tc,e,r),t[0]=Tc[0],t[1]=Tc[1],t[2]=Tc[2],t[3]=1+n,zc(t,t))});Lu.rotationTo=Rc;var Dc,Vc,Lc=(Dc=vc(),Vc=vc(),function(t,e,r,n,i,a){return Ac(Dc,e,i,a),Ac(Vc,r,n,a),Ac(t,Dc,Vc,2*a*(1-a)),t});Lu.sqlerp=Lc;var Fc,Nc=(Fc=dc.create(),function(t,e,r,n){return Fc[0]=r[0],Fc[3]=r[1],Fc[6]=r[2],Fc[1]=n[0],Fc[4]=n[1],Fc[7]=n[2],Fc[2]=-e[0],Fc[5]=-e[1],Fc[8]=-e[2],zc(t,Sc(t,Fc))});Lu.setAxes=Nc;var Oc={};function Uc(t){return Uc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Uc(t)}Object.defineProperty(Oc,\"__esModule\",{value:!0}),Oc.create=function(){var t=new jc.ARRAY_TYPE(8);return jc.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},Oc.clone=function(t){var e=new jc.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},Oc.fromValues=function(t,e,r,n,i,a,s,o){var l=new jc.ARRAY_TYPE(8);return l[0]=t,l[1]=e,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l[6]=s,l[7]=o,l},Oc.fromRotationTranslationValues=function(t,e,r,n,i,a,s){var o=new jc.ARRAY_TYPE(8);o[0]=t,o[1]=e,o[2]=r,o[3]=n;var l=.5*i,u=.5*a,c=.5*s;return o[4]=l*n+u*r-c*e,o[5]=u*n+c*t-l*r,o[6]=c*n+l*e-u*t,o[7]=-l*t-u*e-c*r,o},Oc.fromRotationTranslation=Xc,Oc.fromTranslation=function(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t},Oc.fromRotation=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Oc.fromMat4=function(t,e){var r=qc.create();$c.getRotation(r,e);var n=new jc.ARRAY_TYPE(3);return $c.getTranslation(n,e),Xc(t,r,n),t},Oc.copy=Zc,Oc.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Oc.set=function(t,e,r,n,i,a,s,o,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=l,t},Oc.getDual=function(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t},Oc.setDual=function(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t},Oc.getTranslation=function(t,e){var r=e[4],n=e[5],i=e[6],a=e[7],s=-e[0],o=-e[1],l=-e[2],u=e[3];return t[0]=2*(r*u+a*s+n*l-i*o),t[1]=2*(n*u+a*o+i*s-r*l),t[2]=2*(i*u+a*l+r*o-n*s),t},Oc.translate=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=.5*r[0],l=.5*r[1],u=.5*r[2],c=e[4],h=e[5],p=e[6],f=e[7];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=s*o+i*u-a*l+c,t[5]=s*l+a*o-n*u+h,t[6]=s*u+n*l-i*o+p,t[7]=-n*o-i*l-a*u+f,t},Oc.rotateX=function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=o*s+c*n+l*a-u*i,p=l*s+c*i+u*n-o*a,f=u*s+c*a+o*i-l*n,d=c*s-o*n-l*i-u*a;return qc.rotateX(t,e,r),t[4]=h*(s=t[3])+d*(n=t[0])+p*(a=t[2])-f*(i=t[1]),t[5]=p*s+d*i+f*n-h*a,t[6]=f*s+d*a+h*i-p*n,t[7]=d*s-h*n-p*i-f*a,t},Oc.rotateY=function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=o*s+c*n+l*a-u*i,p=l*s+c*i+u*n-o*a,f=u*s+c*a+o*i-l*n,d=c*s-o*n-l*i-u*a;return qc.rotateY(t,e,r),t[4]=h*(s=t[3])+d*(n=t[0])+p*(a=t[2])-f*(i=t[1]),t[5]=p*s+d*i+f*n-h*a,t[6]=f*s+d*a+h*i-p*n,t[7]=d*s-h*n-p*i-f*a,t},Oc.rotateZ=function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=o*s+c*n+l*a-u*i,p=l*s+c*i+u*n-o*a,f=u*s+c*a+o*i-l*n,d=c*s-o*n-l*i-u*a;return qc.rotateZ(t,e,r),t[4]=h*(s=t[3])+d*(n=t[0])+p*(a=t[2])-f*(i=t[1]),t[5]=p*s+d*i+f*n-h*a,t[6]=f*s+d*a+h*i-p*n,t[7]=d*s-h*n-p*i-f*a,t},Oc.rotateByQuatAppend=function(t,e,r){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],l=e[1],u=e[2],c=e[3];return t[0]=o*s+c*n+l*a-u*i,t[1]=l*s+c*i+u*n-o*a,t[2]=u*s+c*a+o*i-l*n,t[3]=c*s-o*n-l*i-u*a,t[4]=(o=e[4])*s+(c=e[7])*n+(l=e[5])*a-(u=e[6])*i,t[5]=l*s+c*i+u*n-o*a,t[6]=u*s+c*a+o*i-l*n,t[7]=c*s-o*n-l*i-u*a,t},Oc.rotateByQuatPrepend=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],l=r[1],u=r[2],c=r[3];return t[0]=n*c+s*o+i*u-a*l,t[1]=i*c+s*l+a*o-n*u,t[2]=a*c+s*u+n*l-i*o,t[3]=s*c-n*o-i*l-a*u,t[4]=n*(c=r[7])+s*(o=r[4])+i*(u=r[6])-a*(l=r[5]),t[5]=i*c+s*l+a*o-n*u,t[6]=a*c+s*u+n*l-i*o,t[7]=s*c-n*o-i*l-a*u,t},Oc.rotateAroundAxis=function(t,e,r,n){if(Math.abs(n)<jc.EPSILON)return Zc(t,e);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var a=Math.sin(n),s=a*r[0]/i,o=a*r[1]/i,l=a*r[2]/i,u=Math.cos(n),c=e[0],h=e[1],p=e[2],f=e[3];t[0]=c*u+f*s+h*l-p*o,t[1]=h*u+f*o+p*s-c*l,t[2]=p*u+f*l+c*o-h*s,t[3]=f*u-c*s-h*o-p*l;var d=e[4],m=e[5],y=e[6],g=e[7];return t[4]=d*u+g*s+m*l-y*o,t[5]=m*u+g*o+y*s-d*l,t[6]=y*u+g*l+d*o-m*s,t[7]=g*u-d*s-m*o-y*l,t},Oc.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t},Oc.multiply=Kc,Oc.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t},Oc.lerp=function(t,e,r,n){var i=1-n;return Hc(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t},Oc.invert=function(t,e){var r=Jc(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t},Oc.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t},Oc.normalize=function(t,e){var r=Jc(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,a=e[2]/r,s=e[3]/r,o=e[4],l=e[5],u=e[6],c=e[7],h=n*o+i*l+a*u+s*c;t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=(o-n*h)/r,t[5]=(l-i*h)/r,t[6]=(u-a*h)/r,t[7]=(c-s*h)/r;}return t},Oc.str=function(t){return \"quat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\", \"+t[4]+\", \"+t[5]+\", \"+t[6]+\", \"+t[7]+\")\"},Oc.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]},Oc.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],l=t[6],u=t[7],c=e[0],h=e[1],p=e[2],f=e[3],d=e[4],m=e[5],y=e[6],g=e[7];return Math.abs(r-c)<=jc.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=jc.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=jc.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-f)<=jc.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=jc.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(o-m)<=jc.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(l-y)<=jc.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(u-g)<=jc.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))},Oc.sqrLen=Oc.squaredLength=Oc.len=Oc.length=Oc.dot=Oc.mul=Oc.setReal=Oc.getReal=void 0;var jc=Yc(nu),qc=Yc(Lu),$c=Yc(Iu);function Gc(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (Gc=function(t){return t?r:e})(t)}function Yc(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!==Uc(t)&&\"function\"!=typeof t)return {default:t};var r=Gc(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}function Xc(t,e,r){var n=.5*r[0],i=.5*r[1],a=.5*r[2],s=e[0],o=e[1],l=e[2],u=e[3];return t[0]=s,t[1]=o,t[2]=l,t[3]=u,t[4]=n*u+i*l-a*o,t[5]=i*u+a*s-n*l,t[6]=a*u+n*o-i*s,t[7]=-n*s-i*o-a*l,t}function Zc(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Kc(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[4],l=r[5],u=r[6],c=r[7],h=e[4],p=e[5],f=e[6],d=e[7],m=r[0],y=r[1],g=r[2],x=r[3];return t[0]=n*x+s*m+i*g-a*y,t[1]=i*x+s*y+a*m-n*g,t[2]=a*x+s*g+n*y-i*m,t[3]=s*x-n*m-i*y-a*g,t[4]=n*c+s*o+i*u-a*l+h*x+d*m+p*g-f*y,t[5]=i*c+s*l+a*o-n*u+p*x+d*y+f*m-h*g,t[6]=a*c+s*u+n*l-i*o+f*x+d*g+h*y-p*m,t[7]=s*c-n*o-i*l-a*u+d*x-h*m-p*y-f*g,t}Oc.getReal=qc.copy,Oc.setReal=qc.copy,Oc.mul=Kc;var Hc=qc.dot;Oc.dot=Hc;var Wc=qc.length;Oc.length=Wc,Oc.len=Wc;var Jc=qc.squaredLength;Oc.squaredLength=Jc,Oc.sqrLen=Jc;var Qc={};function th(t){return th=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},th(t)}Object.defineProperty(Qc,\"__esModule\",{value:!0}),Qc.create=nh,Qc.clone=function(t){var e=new eh.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},Qc.fromValues=function(t,e){var r=new eh.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},Qc.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},Qc.set=function(t,e,r){return t[0]=e,t[1]=r,t},Qc.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},Qc.subtract=ih,Qc.multiply=ah,Qc.divide=sh,Qc.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},Qc.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},Qc.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},Qc.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},Qc.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},Qc.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},Qc.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},Qc.distance=oh,Qc.squaredDistance=lh,Qc.length=uh,Qc.squaredLength=ch,Qc.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},Qc.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},Qc.normalize=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t},Qc.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},Qc.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},Qc.lerp=function(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t},Qc.random=function(t,e){e=e||1;var r=2*eh.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},Qc.transformMat2=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t},Qc.transformMat2d=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},Qc.transformMat3=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t},Qc.transformMat4=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},Qc.rotate=function(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],s=Math.sin(n),o=Math.cos(n);return t[0]=i*o-a*s+r[0],t[1]=i*s+a*o+r[1],t},Qc.angle=function(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],s=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a);return Math.acos(Math.min(Math.max(s&&(r*i+n*a)/s,-1),1))},Qc.zero=function(t){return t[0]=0,t[1]=0,t},Qc.str=function(t){return \"vec2(\"+t[0]+\", \"+t[1]+\")\"},Qc.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qc.equals=function(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=eh.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=eh.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))},Qc.forEach=Qc.sqrLen=Qc.sqrDist=Qc.dist=Qc.div=Qc.mul=Qc.sub=Qc.len=void 0;var eh=function(t,e){if(t&&t.__esModule)return t;if(null===t||\"object\"!==th(t)&&\"function\"!=typeof t)return {default:t};var r=rh(void 0);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}(nu);function rh(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (rh=function(t){return t?r:e})(t)}function nh(){var t=new eh.ARRAY_TYPE(2);return eh.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function ih(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function ah(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function sh(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function oh(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1])}function lh(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function uh(t){return Math.hypot(t[0],t[1])}function ch(t){var e=t[0],r=t[1];return e*e+r*r}Qc.len=uh,Qc.sub=ih,Qc.mul=ah,Qc.div=sh,Qc.dist=oh,Qc.sqrDist=lh,Qc.sqrLen=ch;var hh=function(){var t=nh();return function(e,r,n,i,a,s){var o,l;for(r||(r=2),n||(n=0),l=i?Math.min(i*r+n,e.length):e.length,o=n;o<l;o+=r)t[0]=e[o],t[1]=e[o+1],a(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}}();function ph(t){return ph=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ph(t)}Qc.forEach=hh,Object.defineProperty(ru,\"__esModule\",{value:!0}),t.a7=ru.vec4=t.N=ru.vec3=ru.vec2=ru.quat2=t.bi=ru.quat=t.a6=ru.mat4=t.co=ru.mat3=ru.mat2d=t.b4=ru.mat2=ru.glMatrix=void 0;var fh=Ah(nu);ru.glMatrix=fh;var dh=Ah(lu);t.b4=ru.mat2=dh;var mh=Ah(du);ru.mat2d=mh;var yh=Ah(bu);t.co=ru.mat3=yh;var gh=Ah(Iu);t.a6=ru.mat4=gh;var xh=Ah(Lu);t.bi=ru.quat=xh;var vh=Ah(Oc);ru.quat2=vh;var bh=Ah(Qc);ru.vec2=bh;var _h=Ah(Fu);t.N=ru.vec3=_h;var wh=Ah(Qu);function Mh(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return (Mh=function(t){return t?r:e})(t)}function Ah(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!==ph(t)&&\"function\"!=typeof t)return {default:t};var r=Mh(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a];}return n.default=t,r&&r.set(t,n),n}t.a7=ru.vec4=wh;class Sh{constructor(t,e){this.pos=t,this.dir=e;}intersectsPlane(e,r,n){const i=t.N.dot(r,this.dir);if(Math.abs(i)<1e-6)return !1;const a=((e[0]-this.pos[0])*r[0]+(e[1]-this.pos[1])*r[1]+(e[2]-this.pos[2])*r[2])/i;return n[0]=this.pos[0]+this.dir[0]*a,n[1]=this.pos[1]+this.dir[1]*a,n[2]=this.pos[2]+this.dir[2]*a,!0}closestPointOnSphere(e,r,n){if(t.N.equals(this.pos,e)||0===r)return n[0]=n[1]=n[2]=0,!1;const[i,a,s]=this.dir,o=this.pos[0]-e[0],l=this.pos[1]-e[1],u=this.pos[2]-e[2],c=i*i+a*a+s*s,h=2*(o*i+l*a+u*s),p=h*h-4*c*(o*o+l*l+u*u-r*r);if(p<0){const t=Math.max(-h/2,0),e=o+i*t,c=l+a*t,p=u+s*t,f=Math.hypot(e,c,p);return n[0]=e*r/f,n[1]=c*r/f,n[2]=p*r/f,!1}{const t=(-h-Math.sqrt(p))/(2*c);if(t<0){const t=Math.hypot(o,l,u);return n[0]=o*r/t,n[1]=l*r/t,n[2]=u*r/t,!1}return n[0]=o+i*t,n[1]=l+a*t,n[2]=u+s*t,!0}}}class Ih{constructor(t,e,r,n,i){this.TL=t,this.TR=e,this.BR=r,this.BL=n,this.horizon=i;}static fromInvProjectionMatrix(e,r,n){const i=[-1,1,1],a=[1,1,1],s=[1,-1,1],o=[-1,-1,1],l=t.N.transformMat4(i,i,e),u=t.N.transformMat4(a,a,e),c=t.N.transformMat4(s,s,e),h=t.N.transformMat4(o,o,e);return new Ih(l,u,c,h,r/n)}}function kh(e,r,n){let i=1/0,a=-1/0;const s=[];for(const o of e){t.N.sub(s,o,r);const e=t.N.dot(s,n);i=Math.min(i,e),a=Math.max(a,e);}return [i,a]}function Ph(e,r){let n=!0;for(let i=0;i<e.planes.length;i++){const a=e.planes[i];let s=0;for(let e=0;e<r.length;e++)s+=t.N.dot(a,r[e])+a[3]>=0;if(0===s)return 0;s!==r.length&&(n=!1);}return n?2:1}function Eh(t,e){for(const r of t.projections){const n=kh(e,t.points[0],r.axis);if(r.projection[1]<n[0]||r.projection[0]>n[1])return 0}return 1}function zh(e,r){let n=0;const i=[0,0,0,0];for(let a=0;a<e.length;a++)i[0]=e[a][0],i[1]=e[a][1],i[2]=e[a][2],i[3]=1,t.a7.dot(i,r)>=0&&n++;return n}class Th{constructor(e,r){this.points=e||new Array(8).fill([0,0,0]),this.planes=r||new Array(6).fill([0,0,0,0]),this.bounds=Bh.fromPoints(this.points),this.projections=[],this.frustumEdges=[t.N.sub([],this.points[2],this.points[3]),t.N.sub([],this.points[0],this.points[3]),t.N.sub([],this.points[4],this.points[0]),t.N.sub([],this.points[5],this.points[1]),t.N.sub([],this.points[6],this.points[2]),t.N.sub([],this.points[7],this.points[3])];for(const t of this.frustumEdges){const e=[0,-t[2],t[1]],r=[t[2],0,-t[0]];this.projections.push({axis:e,projection:kh(this.points,this.points[0],e)}),this.projections.push({axis:r,projection:kh(this.points,this.points[0],r)});}}static fromInvProjectionMatrix(e,r,n,i){const a=Math.pow(2,n),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>{const s=t.a7.transformMat4([],n,e),o=1/s[3]/r*a;return t.a7.mul(s,s,[o,o,i?1/s[3]:o,o])})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const r=t.N.sub([],s[e[0]],s[e[1]]),n=t.N.sub([],s[e[2]],s[e[1]]),i=t.N.normalize([],t.N.cross([],r,n)),a=-t.N.dot(i,s[e[1]]);return i.concat(a)})),l=[];for(let t=0;t<s.length;t++)l.push([s[t][0],s[t][1],s[t][2]]);return new Th(l,o)}intersectsPrecise(e,r,n){for(let t=0;t<r.length;t++)if(!zh(e,r[t]))return 0;for(let t=0;t<this.planes.length;t++)if(!zh(e,this.planes[t]))return 0;for(const r of n)for(const n of this.frustumEdges){const i=t.N.cross([],r,n),a=t.N.length(i);if(0===a)continue;t.N.scale(i,i,1/a);const s=kh(this.points,this.points[0],i),o=kh(e,this.points[0],i);if(s[0]>o[1]||o[0]>s[1])return 0}return 1}}class Bh{static fromPoints(e){const r=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(const i of e)t.N.min(r,r,i),t.N.max(n,n,i);return new Bh(r,n)}static fromTileIdAndHeight(t,e,r){const n=1<<t.canonical.z,i=t.canonical.x,a=t.canonical.y;return new Bh([i/n,a/n,e],[(i+1)/n,(a+1)/n,r])}static applyTransform(e,r){const n=e.getCorners();for(let e=0;e<n.length;++e)t.N.transformMat4(n[e],n[e],r);return Bh.fromPoints(n)}static projectAabbCorners(e,r){const n=e.getCorners();for(let e=0;e<n.length;++e)t.N.transformMat4(n[e],n[e],r);return n}constructor(e,r){this.min=e,this.max=r,this.center=t.N.scale([],t.N.add([],this.min,this.max),.5);}quadrant(e){const r=[e%2==0,e<2],n=t.N.clone(this.min),i=t.N.clone(this.max);for(let t=0;t<r.length;t++)n[t]=r[t]?this.min[t]:this.center[t],i[t]=r[t]?this.center[t]:this.max[t];return i[2]=this.max[2],new Bh(n,i)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,e=this.max;return [[t[0],t[1],t[2]],[e[0],t[1],t[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],e[2]],[t[0],e[1],e[2]]]}intersects(t){return this.intersectsAabb(t.bounds)?Ph(t,this.getCorners()):0}intersectsFlat(t){return this.intersectsAabb(t.bounds)?Ph(t,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(t,e){return e||this.intersects(t)?Eh(t,this.getCorners()):0}intersectsPreciseFlat(t,e){return e||this.intersectsFlat(t)?Eh(t,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(t){for(let e=0;e<3;++e)if(this.min[e]>t.max[e]||t.min[e]>this.max[e])return !1;return !0}intersectsAabbXY(t){return !(this.min[0]>t.max[0]||t.min[0]>this.max[0]||this.min[1]>t.max[1]||t.min[1]>this.max[1])}encapsulate(t){for(let e=0;e<3;e++)this.min[e]=Math.min(this.min[e],t.min[e]),this.max[e]=Math.max(this.max[e],t.max[e]);}encapsulatePoint(t){for(let e=0;e<3;e++)this.min[e]=Math.min(this.min[e],t[e]),this.max[e]=Math.max(this.max[e],t[e]);}closestPoint(t){return [Math.max(Math.min(this.max[0],t[0]),this.min[0]),Math.max(Math.min(this.max[1],t[1]),this.min[1]),Math.max(Math.min(this.max[2],t[2]),this.min[2])]}}ra(Bh,\"Aabb\");const Ch=cs([{type:\"Float32\",name:\"a_globe_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]),{members:Rh}=Ch,Dh=cs([{name:\"a_pos_3\",components:3,type:\"Int16\"}]);var Vh=cs([{name:\"a_pos\",type:\"Int16\",components:2}]);function Lh(t){return t*jo/Jo}const Fh=[new Bh([Zo,Zo,Zo],[Ko,Ko,Ko]),new Bh([Zo,Zo,Zo],[0,0,Ko]),new Bh([0,Zo,Zo],[Ko,0,Ko]),new Bh([Zo,0,Zo],[0,Ko,Ko]),new Bh([0,0,Zo],[Ko,Ko,Ko])];function Nh(e,r,n,i=!0){const a=t.N.scale([],e._camera.position,e.worldSize),s=[r,n,1,1];t.a7.transformMat4(s,s,e.pixelMatrixInverse),t.a7.scale(s,s,1/s[3]);const o=t.N.sub([],s,a),l=t.N.normalize([],o),u=e.globeMatrix,c=[u[12],u[13],u[14]],h=t.N.sub([],c,a),p=t.N.length(h),f=t.N.normalize([],h),d=e.worldSize/(2*Math.PI),m=t.N.dot(f,l),y=Math.asin(d/p);if(y<Math.acos(m)){if(!i)return null;const e=[],r=[];t.N.scale(e,l,p/m),t.N.normalize(r,t.N.sub(r,e,h)),t.N.normalize(l,t.N.add(l,h,t.N.scale(l,r,Math.tan(y)*p)));}const g=[];new Sh(a,l).closestPointOnSphere(c,d,g);const x=t.N.normalize([],rt(u,0)),v=t.N.normalize([],rt(u,1)),b=t.N.normalize([],rt(u,2)),w=t.N.dot(x,g),M=t.N.dot(v,g),A=t.N.dot(b,g),S=_(Math.asin(-M/d));let k=_(Math.atan2(w,A));k=e.center.lng+function(t,e){const r=(e-t+180)%360-180;return r<-180?r+360:r}(e.center.lng,k);const P=pl(k),E=I(fl(S),0,1);return new Ml(P,E)}class Oh{constructor(e,r,n){this.a=t.N.sub([],e,n),this.b=t.N.sub([],r,n),this.center=n;const i=t.N.normalize([],this.a),a=t.N.normalize([],this.b);this.angle=Math.acos(t.N.dot(i,a));}}function Uh(t,e){if(0===t.angle)return null;let r;return r=0===t.a[e]?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),r<0||r>1?null:function(t,e,r,n){const i=Math.sin(r);return t*(Math.sin((1-n)*r)/i)+e*(Math.sin(n*r)/i)}(t.a[e],t.b[e],t.angle,I(r,0,1))+t.center[e]}function jh(t){if(t.z<=1)return Fh[t.z+2*t.y+t.x];const e=Xh(Yh(t));return Bh.fromPoints(e)}function qh(e,r,n){return t.N.scale(e,e,1-n),t.N.scaleAndAdd(e,e,r,n)}function $h(e,r,n){for(const i of e)t.N.transformMat4(i,i,r),t.N.scale(i,i,n);}function Gh(e,r,n,i){const a=r/e.worldSize,s=e.globeMatrix;if(n.z<=1){const t=jh(n).getCorners();return $h(t,s,a),Bh.fromPoints(t)}const o=Yh(n,i),l=Xh(o,jo+Lh(e._tileCoverLift));$h(l,s,a);const u=Number.MAX_VALUE,c=[-u,-u,-u],h=[u,u,u];if(o.contains(e.center)){for(const e of l)t.N.min(h,h,e),t.N.max(c,c,e);c[2]=0;const r=e.point,n=[r.x*a,r.y*a,0];return t.N.min(h,h,n),t.N.max(c,c,n),new Bh(h,c)}if(e._tileCoverLift>0){for(const e of l)t.N.min(h,h,e),t.N.max(c,c,e);return new Bh(h,c)}const p=[s[12]*a,s[13]*a,s[14]*a],f=o.getCenter(),d=I(e.center.lat,-xl,xl),m=I(f.lat,-xl,xl),y=pl(e.center.lng),g=fl(d);let x=y-pl(f.lng);const v=g-fl(m);x>.5?x-=1:x<-.5&&(x+=1);let _=0;if(Math.abs(x)>Math.abs(v))_=x>=0?1:3;else {_=v>=0?0:2;const e=[s[4]*a,s[5]*a,s[6]*a],r=-Math.sin(b(v>=0?o.getSouth():o.getNorth()))*jo;t.N.scaleAndAdd(p,p,e,r);}const w=l[_],M=l[(_+1)%4],A=new Oh(w,M,p),S=[Uh(A,0)||w[0],Uh(A,1)||w[1],Uh(A,2)||w[2]],k=rp(e.zoom);if(k>0){const i=function({x:t,y:e,z:r},n,i,a,s){const o=1/(1<<r);let l=t*o,u=l+o,c=e*o,h=c+o,p=0;const f=(l+u)/2-a;return f>.5?p=-1:f<-.5&&(p=1),l=((l+p)*n-(a*=n))*i+a,u=((u+p)*n-a)*i+a,c=(c*n-(s*=n))*i+s,h=(h*n-s)*i+s,[[l,h,0],[u,h,0],[u,c,0],[l,c,0]]}(n,r,e._pixelsPerMercatorPixel,y,g);for(let t=0;t<l.length;t++)qh(l[t],i[t],k);const a=t.N.add([],i[_],i[(_+1)%4]);t.N.scale(a,a,.5),qh(S,a,k);}for(const e of l)t.N.min(h,h,e),t.N.max(c,c,e);return h[2]=Math.min(w[2],M[2]),t.N.min(h,h,S),t.N.max(c,c,S),new Bh(h,c)}function Yh({x:t,y:e,z:r},n=!1){const i=1/(1<<r),a=new tl(ml(t*i),e===(1<<r)-1&&n?-90:yl((e+1)*i)),s=new tl(ml((t+1)*i),0===e&&n?90:yl(e*i));return new el(a,s)}function Xh(t,e=jo){const r=b(t.getNorth()),n=b(t.getSouth()),i=Math.cos(r),a=Math.cos(n),s=Math.sin(r),o=Math.sin(n),l=t.getWest(),u=t.getEast();return [Ho(a,o,l,e),Ho(a,o,u,e),Ho(i,s,u,e),Ho(i,s,l,e)]}function Zh(t,e,r,n){const i=1<<r.z,a=(t/Tr+r.x)/i;return Wo(yl((e/Tr+r.y)/i),ml(a),n)}function Kh({min:t,max:e}){return Go/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}const Hh=new Float64Array(16);function Wh(e){const r=Kh(e),n=t.a6.fromScaling(Hh,[r,r,r]);return t.a6.translate(n,n,t.N.negate([],e.min))}function Jh(e){const r=t.a6.fromTranslation(Hh,e.min),n=1/Kh(e);return t.a6.scale(r,r,[n,n,n])}function Qh(t){const e=Tr/(2*Math.PI);return t/(2*Math.PI)/e}function tp(t,e){return Tr/(512*Math.pow(2,t))*Kh(jh(e))}function ep(e,r,n,i,a){const s=Qh(n),o=[e,r,-n/(2*Math.PI)],l=t.a6.identity(new Float64Array(16));return t.a6.translate(l,l,o),t.a6.scale(l,l,[s,s,s]),t.a6.rotateX(l,l,b(-a)),t.a6.rotateY(l,l,b(-i)),l}function rp(t){return k(qo,$o,t)}function np(e,r){const n=Wo(r.lat,r.lng),i=function(e){const r=Wo(e._center.lat,e._center.lng),n=t.N.fromValues(0,1,0);let i=t.N.cross([],n,r);const a=t.a6.fromRotation([],-e.angle,r);i=t.N.transformMat4(i,i,a),t.a6.fromRotation(a,-e._pitch,i);const s=t.N.normalize([],r);return t.N.scale(s,s,Lh(e.cameraToCenterDistance/e.pixelsPerMeter)),t.N.transformMat4(s,s,a),t.N.add([],r,s)}(e),a=t.N.subtract([],i,n);return t.N.angle(a,n)}function ip(t,e){return np(t,e)>Math.PI/2*1.01}const ap=b(85),sp=Math.cos(ap),op=Math.sin(ap),lp=t.a6.create(),up=t=>{const e=[];return \"map\"===t.paint.get(\"circle-pitch-alignment\")&&e.push(\"PITCH_WITH_MAP\"),\"map\"===t.paint.get(\"circle-pitch-scale\")&&e.push(\"SCALE_WITH_MAP\"),e};function cp(e,r,n,i,a,s,o,l,u){if(s&&e.queryGeometry.isAboveHorizon)return !1;s&&(u*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,h=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile;for(const p of r)for(const r of p){const p=r.add(l),f=a&&n.elevation?n.elevation.exaggeration()*a.getElevationAt(p.x,p.y,!0):0,d=n.projection.projectTilePoint(p.x,p.y,c);if(f>0){const t=n.projection.upVector(c,p.x,p.y);d.x+=t[0]*h*f,d.y+=t[1]*h*f,d.z+=t[2]*h*f;}const m=s?p:hp(d.x,d.y,d.z,i),y=s?e.tilespaceRays.map((t=>dp(t,f))):e.queryGeometry.screenGeometry,g=t.a7.transformMat4([],[d.x,d.y,d.z,1],i);if(!o&&s?u*=g[3]/n.cameraToCenterDistance:o&&!s&&(u*=n.cameraToCenterDistance/g[3]),s){const t=yl((r.y/Tr+c.y)/(1<<c.z));u/=n.projection.pixelsPerMeter(t,1)/dl(1,t);}if(Ll(y,m,u))return !0}return !1}function hp(e,r,n,i){const a=t.a7.transformMat4([],[e,r,n,1],i);return new g(a[0]/a[3],a[1]/a[3])}const pp=t.N.fromValues(0,0,0),fp=t.N.fromValues(0,0,1);function dp(e,r){const n=t.N.create();return pp[2]=r,e.intersectsPlane(pp,fp,n),new g(n[0],n[1])}class mp extends Dl{}function yp(t,{width:e,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==e*r*n)throw new RangeError(\"mismatched image size\")}else i=new Uint8Array(e*r*n);return t.width=e,t.height=r,t.data=i,t}function gp(t,e,r){const{width:n,height:i}=e;n===t.width&&i===t.height||(xp(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,i)},r),t.width=n,t.height=i,t.data=e.data);}function xp(t,e,r,n,i,a,s){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError(\"out of range source coordinates for image copy\");if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError(\"out of range destination coordinates for image copy\");const o=t.data,l=e.data,u=4===a&&s;for(let s=0;s<i.height;s++){const c=((r.y+s)*t.width+r.x)*a,h=((n.y+s)*e.width+n.x)*a;if(u)for(let t=0;t<i.width;t++){const e=c+t*a+3,r=h+t*a;l[r+0]=255,l[r+1]=255,l[r+2]=255,l[r+3]=o[e];}else for(let t=0;t<i.width*a;t++)l[h+t]=o[c+t];}return e}ra(mp,\"HeatmapBucket\",{omit:[\"layers\"]});class vp{constructor(t,e){yp(this,t,1,e);}resize(t){gp(this,new vp(t),1);}clone(){return new vp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){xp(t,e,r,n,i,1);}}class bp{constructor(t,e){yp(this,t,4,e);}resize(t){gp(this,new bp(t),4);}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t;}clone(){return new bp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i,a){xp(t,e,r,n,i,4,a);}}class _p{constructor(t,e){this.width=t.width,this.height=t.height,this.data=e instanceof Uint8Array?new Float32Array(e.buffer):e;}}ra(vp,\"AlphaImage\"),ra(bp,\"RGBAImage\");const wp=new Oa({visibility:new La(qa.layout_heatmap.visibility)});var Mp={paint:new Oa({\"heatmap-radius\":new Fa(qa.paint_heatmap[\"heatmap-radius\"]),\"heatmap-weight\":new Fa(qa.paint_heatmap[\"heatmap-weight\"]),\"heatmap-intensity\":new La(qa.paint_heatmap[\"heatmap-intensity\"]),\"heatmap-color\":new Na(qa.paint_heatmap[\"heatmap-color\"]),\"heatmap-opacity\":new La(qa.paint_heatmap[\"heatmap-opacity\"])}),layout:wp};function Ap(t){const e={},r=t.resolution||256,n=t.clips?t.clips.length:1,i=t.image||new bp({width:r,height:n}),a=(r,n,a)=>{e[t.evaluationKey]=a;const s=t.expression.evaluate(e);s&&(i.data[r+n+0]=Math.floor(255*s.r/s.a),i.data[r+n+1]=Math.floor(255*s.g/s.a),i.data[r+n+2]=Math.floor(255*s.b/s.a),i.data[r+n+3]=Math.floor(255*s.a));};if(t.clips)for(let e=0,i=0;e<n;++e,i+=4*r)for(let n=0,s=0;n<r;n++,s+=4){const o=n/(r-1),{start:l,end:u}=t.clips[e];a(i,s,l*(1-o)+u*o);}else for(let t=0,e=0;t<r;t++,e+=4)a(0,e,t/(r-1));return i}const Sp=new Oa({visibility:new La(qa.layout_hillshade.visibility)});var Ip={paint:new Oa({\"hillshade-illumination-direction\":new La(qa.paint_hillshade[\"hillshade-illumination-direction\"]),\"hillshade-illumination-anchor\":new La(qa.paint_hillshade[\"hillshade-illumination-anchor\"]),\"hillshade-exaggeration\":new La(qa.paint_hillshade[\"hillshade-exaggeration\"]),\"hillshade-shadow-color\":new La(qa.paint_hillshade[\"hillshade-shadow-color\"]),\"hillshade-highlight-color\":new La(qa.paint_hillshade[\"hillshade-highlight-color\"]),\"hillshade-accent-color\":new La(qa.paint_hillshade[\"hillshade-accent-color\"]),\"hillshade-emissive-strength\":new La(qa.paint_hillshade[\"hillshade-emissive-strength\"])}),layout:Sp};const kp=cs([{name:\"a_pos\",components:2,type:\"Int16\"}],4),{members:Pp}=kp;var Ep={exports:{}};function zp(t,e,r){r=r||2;var n,i,a,s,o,l,u,c=e&&e.length,h=c?e[0]*r:t.length,p=Tp(t,0,h,r,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(t,e,r,n){var i,a,s,o=[];for(i=0,a=e.length;i<a;i++)(s=Tp(t,e[i]*n,i<a-1?e[i+1]*n:t.length,n,!1))===s.next&&(s.steiner=!0),o.push(jp(s));for(o.sort(Fp),i=0;i<o.length;i++)r=Np(o[i],r);return r}(t,e,p,r)),t.length>80*r){n=a=t[0],i=s=t[1];for(var d=r;d<h;d+=r)(o=t[d])<n&&(n=o),(l=t[d+1])<i&&(i=l),o>a&&(a=o),l>s&&(s=l);u=0!==(u=Math.max(a-n,s-i))?32767/u:0;}return Cp(p,f,r,n,i,u,0),f}function Tp(t,e,r,n,i){var a,s;if(i===ef(t,e,r,n)>0)for(a=e;a<r;a+=n)s=Jp(a,t[a],t[a+1],s);else for(a=r-n;a>=e;a-=n)s=Jp(a,t[a],t[a+1],s);return s&&Yp(s,s.next)&&(Qp(s),s=s.next),s}function Bp(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Yp(n,n.next)&&0!==Gp(n.prev,n,n.next))n=n.next;else {if(Qp(n),(n=e=n.prev)===n.next)break;r=!0;}}while(r||n!==e);return e}function Cp(t,e,r,n,i,a,s){if(t){!s&&a&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=Up(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,a,s,o,l,u=1;do{for(r=t,t=null,a=null,s=0;r;){for(s++,n=r,o=0,e=0;e<u&&(o++,n=n.nextZ);e++);for(l=u;o>0||l>0&&n;)0!==o&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n;}a.nextZ=null,u*=2;}while(s>1)}(i);}(t,n,i,a);for(var o,l,u=t;t.prev!==t.next;)if(o=t.prev,l=t.next,a?Dp(t,n,i,a):Rp(t))e.push(o.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Qp(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?Cp(t=Vp(Bp(t),e,r),e,r,n,i,a,2):2===s&&Lp(t,e,r,n,i,a):Cp(Bp(t),e,r,n,i,a,1);break}}}function Rp(t){var e=t.prev,r=t,n=t.next;if(Gp(e,r,n)>=0)return !1;for(var i=e.x,a=r.x,s=n.x,o=e.y,l=r.y,u=n.y,c=i<a?i<s?i:s:a<s?a:s,h=o<l?o<u?o:u:l<u?l:u,p=i>a?i>s?i:s:a>s?a:s,f=o>l?o>u?o:u:l>u?l:u,d=n.next;d!==e;){if(d.x>=c&&d.x<=p&&d.y>=h&&d.y<=f&&qp(i,o,a,l,s,u,d.x,d.y)&&Gp(d.prev,d,d.next)>=0)return !1;d=d.next;}return !0}function Dp(t,e,r,n){var i=t.prev,a=t,s=t.next;if(Gp(i,a,s)>=0)return !1;for(var o=i.x,l=a.x,u=s.x,c=i.y,h=a.y,p=s.y,f=o<l?o<u?o:u:l<u?l:u,d=c<h?c<p?c:p:h<p?h:p,m=o>l?o>u?o:u:l>u?l:u,y=c>h?c>p?c:p:h>p?h:p,g=Up(f,d,e,r,n),x=Up(m,y,e,r,n),v=t.prevZ,b=t.nextZ;v&&v.z>=g&&b&&b.z<=x;){if(v.x>=f&&v.x<=m&&v.y>=d&&v.y<=y&&v!==i&&v!==s&&qp(o,c,l,h,u,p,v.x,v.y)&&Gp(v.prev,v,v.next)>=0)return !1;if(v=v.prevZ,b.x>=f&&b.x<=m&&b.y>=d&&b.y<=y&&b!==i&&b!==s&&qp(o,c,l,h,u,p,b.x,b.y)&&Gp(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}for(;v&&v.z>=g;){if(v.x>=f&&v.x<=m&&v.y>=d&&v.y<=y&&v!==i&&v!==s&&qp(o,c,l,h,u,p,v.x,v.y)&&Gp(v.prev,v,v.next)>=0)return !1;v=v.prevZ;}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=m&&b.y>=d&&b.y<=y&&b!==i&&b!==s&&qp(o,c,l,h,u,p,b.x,b.y)&&Gp(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}return !0}function Vp(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!Yp(i,a)&&Xp(i,n,n.next,a)&&Hp(i,a)&&Hp(a,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),Qp(n),Qp(n.next),n=t=a),n=n.next;}while(n!==t);return Bp(n)}function Lp(t,e,r,n,i,a){var s=t;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&$p(s,o)){var l=Wp(s,o);return s=Bp(s,s.next),l=Bp(l,l.next),Cp(s,e,r,n,i,a,0),void Cp(l,e,r,n,i,a,0)}o=o.next;}s=s.next;}while(s!==t)}function Fp(t,e){return t.x-e.x}function Np(t,e){var r=function(t,e){var r,n=e,i=t.x,a=t.y,s=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var o=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=i&&o>s&&(s=o,r=n.x<n.next.x?n:n.next,o===i))return r}n=n.next;}while(n!==e);if(!r)return null;var l,u=r,c=r.x,h=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&qp(a<h?i:s,a,c,h,a<h?s:i,a,n.x,n.y)&&(l=Math.abs(a-n.y)/(i-n.x),Hp(n,t)&&(l<p||l===p&&(n.x>r.x||n.x===r.x&&Op(r,n)))&&(r=n,p=l)),n=n.next;}while(n!==u);return r}(t,e);if(!r)return e;var n=Wp(r,t);return Bp(n,n.next),Bp(r,r.next)}function Op(t,e){return Gp(t.prev,t,e.prev)<0&&Gp(e.next,t,t.next)<0}function Up(t,e,r,n,i){return (t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function jp(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;}while(e!==t);return r}function qp(t,e,r,n,i,a,s,o){return (i-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(n-o)>=(r-s)*(e-o)&&(r-s)*(a-o)>=(i-s)*(n-o)}function $p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Xp(r,r.next,t,e))return !0;r=r.next;}while(r!==t);return !1}(t,e)&&(Hp(t,e)&&Hp(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==t);return n}(t,e)&&(Gp(t.prev,t,e.prev)||Gp(t,e.prev,e))||Yp(t,e)&&Gp(t.prev,t,t.next)>0&&Gp(e.prev,e,e.next)>0)}function Gp(t,e,r){return (e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Yp(t,e){return t.x===e.x&&t.y===e.y}function Xp(t,e,r,n){var i=Kp(Gp(t,e,r)),a=Kp(Gp(t,e,n)),s=Kp(Gp(r,n,t)),o=Kp(Gp(r,n,e));return i!==a&&s!==o||!(0!==i||!Zp(t,r,e))||!(0!==a||!Zp(t,n,e))||!(0!==s||!Zp(r,t,n))||!(0!==o||!Zp(r,e,n))}function Zp(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Kp(t){return t>0?1:t<0?-1:0}function Hp(t,e){return Gp(t.prev,t,t.next)<0?Gp(t,e,t.next)>=0&&Gp(t,t.prev,e)>=0:Gp(t,e,t.prev)<0||Gp(t,t.next,e)<0}function Wp(t,e){var r=new tf(t.i,t.x,t.y),n=new tf(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function Jp(t,e,r,n){var i=new tf(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Qp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ);}function tf(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function ef(t,e,r,n){for(var i=0,a=e,s=r-n;a<r;a+=n)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}Ep.exports=zp,Ep.exports.default=zp,zp.deviation=function(t,e,r,n){var i=e&&e.length,a=Math.abs(ef(t,0,i?e[0]*r:t.length,r));if(i)for(var s=0,o=e.length;s<o;s++)a-=Math.abs(ef(t,e[s]*r,s<o-1?e[s+1]*r:t.length,r));var l=0;for(s=0;s<n.length;s+=3){var u=n[s]*r,c=n[s+1]*r,h=n[s+2]*r;l+=Math.abs((t[u]-t[h])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[h+1]-t[u+1]));}return 0===a&&0===l?0:Math.abs((l-a)/a)},zp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var s=0;s<e;s++)r.vertices.push(t[i][a][s]);i>0&&r.holes.push(n+=t[i-1].length);}return r};var rf=h(Ep.exports);function nf(t,e){const r=t.length;if(r<=1)return [t];const n=[];let i,a;for(let e=0;e<r;e++){const r=$(t[e]);0!==r&&(t[e].area=Math.abs(r),void 0===a&&(a=r<0),a===r<0?(i&&n.push(i),i=[t[e]]):i.push(t[e]));}if(i&&n.push(i),e>1)for(let t=0;t<n.length;t++)n[t].length<=e||(sr(n[t],e,1,n[t].length-1,af),n[t]=n[t].slice(0,e));return n}function af(t,e){return e.area-t.area}function sf(t,e,r){const n=r.patternDependencies;let i=!1;for(const r of e){const e=r.paint.get(`${t}-pattern`);e.isConstant()||(i=!0);const a=e.constantOr(null);a&&(i=!0,n[a]=!0);}return i}function of(t,e,r,n,i){const a=i.patternDependencies;for(const s of e){const e=s.paint.get(`${t}-pattern`).value;if(\"constant\"!==e.kind){let t=e.evaluate({zoom:n},r,{},i.availableImages);t=t&&t.name?t.name:t,a[t]=!0,r.patterns[s.id]=t;}}return r}class lf{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ps,this.indexArray=new Es,this.indexArray2=new As,this.programConfigurations=new Vo(t.layers,t.zoom),this.segments=new eo,this.segments2=new eo,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.projection=t.projection;}populate(t,e,r,n){this.hasPattern=sf(\"fill\",this.layers,e);const i=this.layers[0].layout.get(\"fill-sort-key\"),a=[];for(const{feature:s,id:o,index:l,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Bl(s,t);if(!this.layers[0]._featureFilter.filter(new Pa(this.zoom),c,r))continue;const h=i?i.evaluate(c,{},r,e.availableImages):void 0,p={id:o,properties:s.properties,type:s.type,sourceLayerIndex:u,index:l,geometry:t?c.geometry:Tl(s,r,n),patterns:{},sortKey:h};a.push(p);}i&&a.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of a){const{geometry:i,index:a,sourceLayerIndex:s}=n;if(this.hasPattern){const t=of(\"fill\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,a,r,{},e.availableImages,e.brightness);e.featureIndex.insert(t[a].feature,i,a,s,this.index);}}update(t,e,r,n,i){const a=0!==Object.keys(t).length;a&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(t,e,a?this.stateDependentLayers:this.layers,r,n,i);}addFeatures(t,e,r,n,i,a){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n,a);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Pp),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(t,e,r,n,i,a=[],s){for(const t of nf(e,500)){let e=0;for(const r of t)e+=r.length;const r=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],a=[];for(const e of t){if(0===e.length)continue;e!==t[0]&&a.push(i.length/2);const r=this.segments2.prepareSegment(e.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(e[0].x,e[0].y),this.indexArray2.emplaceBack(n+e.length-1,n),i.push(e[0].x),i.push(e[0].y);for(let t=1;t<e.length;t++)this.layoutVertexArray.emplaceBack(e[t].x,e[t].y),this.indexArray2.emplaceBack(n+t-1,n+t),i.push(e[t].x),i.push(e[t].y);r.vertexLength+=e.length,r.primitiveLength+=e.length;}const s=rf(i,a);for(let t=0;t<s.length;t+=3)this.indexArray.emplaceBack(n+s[t],n+s[t+1],n+s[t+2]);r.vertexLength+=e,r.primitiveLength+=s.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,a,n,s);}}ra(lf,\"FillBucket\",{omit:[\"layers\",\"patternFeatures\"]});const uf=new Oa({\"fill-sort-key\":new Fa(qa.layout_fill[\"fill-sort-key\"]),visibility:new La(qa.layout_fill.visibility)});var cf={paint:new Oa({\"fill-antialias\":new La(qa.paint_fill[\"fill-antialias\"]),\"fill-opacity\":new Fa(qa.paint_fill[\"fill-opacity\"]),\"fill-color\":new Fa(qa.paint_fill[\"fill-color\"]),\"fill-outline-color\":new Fa(qa.paint_fill[\"fill-outline-color\"]),\"fill-translate\":new La(qa.paint_fill[\"fill-translate\"]),\"fill-translate-anchor\":new La(qa.paint_fill[\"fill-translate-anchor\"]),\"fill-pattern\":new Fa(qa.paint_fill[\"fill-pattern\"]),\"fill-emissive-strength\":new La(qa.paint_fill[\"fill-emissive-strength\"])}),layout:uf};const hf=cs([{name:\"a_pos_normal_ed\",components:4,type:\"Int16\"}]),pf=cs([{name:\"a_pos_end\",components:4,type:\"Int16\"},{name:\"a_angular_offset_factor\",components:1,type:\"Int16\"}]),ff=cs([{name:\"a_centroid_pos\",components:2,type:\"Uint16\"}]),df=cs([{name:\"a_hidden_by_landmark\",components:1,type:\"Uint8\"}]),mf=cs([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]),{members:yf}=hf;var gf={},xf=m,vf=bf;function bf(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(_f,this,e);}function _f(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i;}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos);}function wf(t){for(var e,r,n=0,i=0,a=t.length,s=a-1;i<a;s=i++)n+=((r=t[s]).x-(e=t[i]).x)*(e.y+r.y);return n}bf.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],bf.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,i=0,a=0,s=0,o=[];t.pos<r;){if(i<=0){var l=t.readVarint();n=7&l,i=l>>3;}if(i--,1===n||2===n)a+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&o.push(e),e=[]),e.push(new xf(a,s));else {if(7!==n)throw new Error(\"unknown command \"+n);e&&e.push(e[0].clone());}}return e&&o.push(e),o},bf.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,a=0,s=1/0,o=-1/0,l=1/0,u=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3;}if(n--,1===r||2===r)(i+=t.readSVarint())<s&&(s=i),i>o&&(o=i),(a+=t.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==r)throw new Error(\"unknown command \"+r)}return [s,l,o,u]},bf.prototype.toGeoJSON=function(t,e,r){var n,i,a=this.extent*Math.pow(2,r),s=this.extent*t,o=this.extent*e,l=this.loadGeometry(),u=bf.types[this.type];function c(t){for(var e=0;e<t.length;e++){var r=t[e];t[e]=[360*(r.x+s)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+o)/a)*Math.PI/180))-90];}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];c(l=h);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return [t];for(var r,n,i=[],a=0;a<e;a++){var s=wf(t[a]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(r&&i.push(r),r=[t[a]]):r.push(t[a]));}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)c(l[n][i]);}1===l.length?l=l[0]:u=\"Multi\"+u;var p={type:\"Feature\",geometry:{type:u,coordinates:l},properties:this.properties};return \"id\"in this&&(p.id=this.id),p};var Mf=vf,Af=Sf;function Sf(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(If,this,e),this.length=this._features.length;}function If(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null;}return e}(r));}Sf.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Mf(this._pbf,e,this.extent,this._keys,this._values)};var kf=Af;function Pf(t,e,r){if(3===t){var n=new kf(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n);}}var Ef=gf.VectorTile=function(t,e){this.layers=t.readFields(Pf,{},e);},zf=gf.VectorTileFeature=vf;function Tf(t,e,r,n){const i=[],a=0===n?(t,e,r,n,i,a)=>{t.push(new g(a,r+(a-e)/(n-e)*(i-r)));}:(t,e,r,n,i,a)=>{t.push(new g(e+(a-r)/(i-r)*(n-e),a));};for(const s of t){const t=[];for(const i of s){if(i.length<=2)continue;const s=[];for(let t=0;t<i.length-1;t++){const o=i[t].x,l=i[t].y,u=i[t+1].x,c=i[t+1].y,h=0===n?o:l,p=0===n?u:c;h<e?p>e&&a(s,o,l,u,c,e):h>r?p<r&&a(s,o,l,u,c,r):s.push(i[t]),p<e&&h>=e&&a(s,o,l,u,c,e),p>r&&h<=r&&a(s,o,l,u,c,r);}let o=i[i.length-1];const l=0===n?o.x:o.y;l>=e&&l<=r&&s.push(o),s.length&&(o=s[s.length-1],s[0].x===o.x&&s[0].y===o.y||s.push(s[0]),t.push(s));}t.length&&i.push(t);}return i}function Bf(t,e){return t.x-e.x||t.y-e.y}function Cf(t,e){return 0===Bf(t.min,e.min)&&0===Bf(t.max,e.max)}function Rf(t,e){return !(t.min.x>e.max.x||t.max.x<e.min.x||t.min.y>e.max.y||t.max.y<e.min.y)}function Df(t,e,r){const n=1/Tr,i=1/(1<<r.canonical.z),a=(e.x*n+r.canonical.x)*i+r.wrap,s=(e.y*n+r.canonical.y)*i;return {min:new g((t.x*n+r.canonical.x)*i+r.wrap,(t.y*n+r.canonical.y)*i),max:new g(a,s)}}function Vf(t,e,r){const n=1<<r.canonical.z,i=((e.x-r.wrap)*n-r.canonical.x)*Tr,a=(e.y*n-r.canonical.y)*Tr;return {min:new g(((t.x-r.wrap)*n-r.canonical.x)*Tr,(t.y*n-r.canonical.y)*Tr),max:new g(i,a)}}function Lf(t,e,r,n,i,a,s){const o=t.indices,l=t.vertices,u=[];for(let c=n;c<n+i;c+=3){const n=e[r[c+0]+a],i=e[r[c+1]+a],h=e[r[c+2]+a],p=Math.min(n.x,i.x,h.x),f=Math.max(n.x,i.x,h.x),d=Math.min(n.y,i.y,h.y),m=Math.max(n.y,i.y,h.y);u.length=0,t.grid.query(new g(p,d),new g(f,m),u);for(let t=0;t<u.length;t++){const e=u[t];if(Kl(l[o[3*e+0]],l[o[3*e+1]],l[o[3*e+2]],n,i,h,s))return !0}}return !1}function Ff(t,e,r,n){if(!t||!r)return !1;let i=t.vertices;if(!e.canonical.equals(n.canonical)||e.wrap!==n.wrap){if(r.vertices.length<t.vertices.length)return Ff(r,n,t,e);const a=e.canonical,s=n.canonical,o=Math.pow(2,s.z-a.z);i=t.vertices.map((t=>new g(t.x*a.x*Tr*o-s.x*Tr,t.y*a.y*Tr*o-s.y*Tr)));}return Lf(r,i,t.indices,0,t.indices.length,0,0)}gf.VectorTileLayer=Af;class Nf{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[];}getElevation(t,e){const r=this.toIdx(t,e);return {min:this.minimums[r],max:this.maximums[r]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function Of(t,e,r,n){let i=0,a=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(n[s])<1e-15){if(r[s]<t[s]||r[s]>e[s])return null}else {const o=1/n[s];let l=(t[s]-r[s])*o,u=(e[s]-r[s])*o;if(l>u){const t=l;l=u,u=t;}if(l>i&&(i=l),u<a&&(a=u),i>a)return null}return i}function Uf(t,e,r,n,i,a,s,o,l,u,c){const h=n-t,p=i-e,f=a-r,d=s-t,m=o-e,y=l-r,g=c[1]*y-c[2]*m,x=c[2]*d-c[0]*y,v=c[0]*m-c[1]*d,b=h*g+p*x+f*v;if(Math.abs(b)<1e-15)return null;const _=1/b,w=u[0]-t,M=u[1]-e,A=u[2]-r,S=(w*g+M*x+A*v)*_;if(S<0||S>1)return null;const I=M*f-A*p,k=A*h-w*f,P=w*p-M*h,E=(c[0]*I+c[1]*k+c[2]*P)*_;return E<0||S+E>1?null:(d*I+m*k+y*P)*_}function jf(t,e,r){return (t-e)/(r-e)}function qf(t,e,r,n,i,a,s,o,l){const u=1<<r,c=a-n,h=s-i,p=(t+1)/u*c+n,f=(e+0)/u*h+i,d=(e+1)/u*h+i;o[0]=(t+0)/u*c+n,o[1]=f,l[0]=p,l[1]=d;}class $f{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),r=[];let n=Math.ceil(Math.pow(2,e));const i=1/n,a=(t,e,r,n,i)=>{const a=n?1:0,s=(t+1)*r-a,o=e*r,l=(e+1)*r-a;i[0]=t*r,i[1]=o,i[2]=s,i[3]=l;};let s=new Nf(n);const o=[];for(let e=0;e<n*n;e++){a(e%n,Math.floor(e/n),i,!1,o);const r=Yf(o[0],o[1],t),l=Yf(o[2],o[1],t),u=Yf(o[2],o[3],t),c=Yf(o[0],o[3],t);s.minimums.push(Math.min(r,l,u,c)),s.maximums.push(Math.max(r,l,u,c)),s.leaves.push(1);}for(r.push(s),n/=2;n>=1;n/=2){const t=r[r.length-1];s=new Nf(n);for(let e=0;e<n*n;e++){a(e%n,Math.floor(e/n),2,!0,o);const r=t.getElevation(o[0],o[1]),i=t.getElevation(o[2],o[1]),l=t.getElevation(o[2],o[3]),u=t.getElevation(o[0],o[3]),c=t.isLeaf(o[0],o[1]),h=t.isLeaf(o[2],o[1]),p=t.isLeaf(o[2],o[3]),f=t.isLeaf(o[0],o[3]),d=Math.min(r.min,i.min,l.min,u.min),m=Math.max(r.max,i.max,l.max,u.max),y=c&&h&&p&&f;s.maximums.push(m),s.minimums.push(d),s.leaves.push(m-d<=5&&y?1:0);}r.push(s);}return r}(this.dem),r=e.length-1,n=e[r];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(e,0,0,r,0);}raycastRoot(t,e,r,n,i,a,s=1){return Of([t,e,-100],[r,n,this.maximums[0]*s],i,a)}raycast(e,r,n,i,a,s,o=1){if(!this.nodeCount)return null;const l=this.raycastRoot(e,r,n,i,a,s,o);if(null==l)return null;const u=[],c=[],h=[],p=[],f=[{idx:0,t:l,nodex:0,nodey:0,depth:0}];for(;f.length>0;){const{idx:l,t:d,nodex:m,nodey:y,depth:g}=f.pop();if(this.leaves[l]){qf(m,y,g,e,r,n,i,h,p);const l=1<<g,u=(m+0)/l,c=(m+1)/l,f=(y+0)/l,x=(y+1)/l,v=Yf(u,f,this.dem)*o,b=Yf(c,f,this.dem)*o,_=Yf(c,x,this.dem)*o,w=Yf(u,x,this.dem)*o,M=Uf(h[0],h[1],v,p[0],h[1],b,p[0],p[1],_,a,s),A=Uf(p[0],p[1],_,h[0],p[1],w,h[0],h[1],v,a,s),S=Math.min(null!==M?M:Number.MAX_VALUE,null!==A?A:Number.MAX_VALUE);if(S!==Number.MAX_VALUE)return S;{const e=t.N.scaleAndAdd([],a,s,d);if(Gf(v,b,w,_,jf(e[0],h[0],p[0]),jf(e[1],h[1],p[1]))>=e[2])return d}continue}let x=0;for(let t=0;t<this._siblingOffset.length;t++){qf((m<<1)+this._siblingOffset[t][0],(y<<1)+this._siblingOffset[t][1],g+1,e,r,n,i,h,p),h[2]=-100,p[2]=this.maximums[this.childOffsets[l]+t]*o;const f=Of(h,p,a,s);if(null!=f){const e=f;u[t]=e;let r=!1;for(let n=0;n<x&&!r;n++)e>=u[c[n]]&&(c.splice(n,0,t),r=!0);r||(c[x]=t),x++;}}for(let t=0;t<x;t++){const e=c[t];f.push({idx:this.childOffsets[l]+e,t:u[e],nodex:(m<<1)+this._siblingOffset[e][0],nodey:(y<<1)+this._siblingOffset[e][1],depth:g+1});}}return null}_addNode(t,e,r){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,r,n,i){if(1===t[n].isLeaf(e,r))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const a=n-1,s=t[a];let o=0,l=0;for(let t=0;t<this._siblingOffset.length;t++){const n=2*e+this._siblingOffset[t][0],i=2*r+this._siblingOffset[t][1],a=s.getElevation(n,i),u=s.isLeaf(n,i),c=this._addNode(a.min,a.max,u);u&&(o|=1<<t),l||(l=c);}for(let n=0;n<this._siblingOffset.length;n++)o&1<<n||this._construct(t,2*e+this._siblingOffset[n][0],2*r+this._siblingOffset[n][1],a,l+n);}}function Gf(t,e,r,n,i,a){return ue(ue(t,r,a),ue(e,n,a),i)}function Yf(t,e,r){const n=r.dim,i=I(t*n-.5,0,n-1),a=I(e*n-.5,0,n-1),s=Math.floor(i),o=Math.floor(a),l=Math.min(s+1,n-1),u=Math.min(o+1,n-1);return Gf(r.get(s,o),r.get(l,o),r.get(s,u),r.get(l,u),i-s,a-o)}const Xf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Zf(t,e,r){return (256*t*256+256*e+r)/10-1e4}function Kf(t,e,r){return 256*t+e+r/256-32768}class Hf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,r,n=!1){if(this.uid=t,e.height!==e.width)throw new RangeError(\"DEM tiles must be square\");if(r&&\"mapbox\"!==r&&\"terrarium\"!==r)return j(`\"${r}\" is not a valid encoding type. Valid types include \"mapbox\" and \"terrarium\".`);this.stride=e.height;const i=this.dim=e.height-2,a=new Uint32Array(e.data.buffer);if(this.pixels=new Uint8Array(e.data.buffer),this.floatView=new Float32Array(e.data.buffer),this.borderReady=n,this._modifiedForSources={},!n){for(let t=0;t<i;t++)a[this._idx(-1,t)]=a[this._idx(0,t)],a[this._idx(i,t)]=a[this._idx(i-1,t)],a[this._idx(t,-1)]=a[this._idx(t,0)],a[this._idx(t,i)]=a[this._idx(t,i-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(i,-1)]=a[this._idx(i-1,0)],a[this._idx(-1,i)]=a[this._idx(0,i-1)],a[this._idx(i,i)]=a[this._idx(i-1,i-1)];}const s=\"terrarium\"===r?Kf:Zf;for(let t=0;t<a.length;++t){const e=4*t;this.floatView[t]=s(this.pixels[e],this.pixels[e+1],this.pixels[e+2]);}this._timestamp=st.now();}_buildQuadTree(){this._tree=new $f(this);}get(t,e,r=!1){r&&(t=I(t,-1,this.dim),e=I(e,-1,this.dim));const n=this._idx(t,e);return this.floatView[n]}set(t,e,r){const n=this._idx(t,e),i=this.floatView[n];return this.floatView[n]=r,r-i}static getUnpackVector(t){return Xf[t]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError(\"out of range source coordinates for DEM data\");return (e+1)*this.stride+(t+1)}static pack(t,e){const r=[0,0,0,0],n=Hf.getUnpackVector(e);let i=Math.floor((t+n[3])/n[2]);return r[2]=i%256,i=Math.floor(i/256),r[1]=i%256,i=Math.floor(i/256),r[0]=i,r}getPixels(){return new _p({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,e,r){if(this.dim!==t.dim)throw new Error(\"dem dimension mismatch\");let n=e*this.dim,i=e*this.dim+this.dim,a=r*this.dim,s=r*this.dim+this.dim;switch(e){case-1:n=i-1;break;case 1:i=n+1;}switch(r){case-1:a=s-1;break;case 1:s=a+1;}const o=-e*this.dim,l=-r*this.dim;for(let e=a;e<s;e++)for(let r=n;r<i;r++){const n=4*this._idx(r,e),i=4*this._idx(r+o,e+l);this.pixels[n+0]=t.pixels[i+0],this.pixels[n+1]=t.pixels[i+1],this.pixels[n+2]=t.pixels[i+2],this.pixels[n+3]=t.pixels[i+3];}}onDeserialize(){this._tree&&(this._tree.dem=this);}}ra(Hf,\"DEMData\"),ra($f,\"DemMinMaxQuadTree\",{omit:[\"dem\"]});class Wf{constructor(t,e,r){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=r;}static create(t,e,r){const n=r||t.findDEMTileFor(e);if(!n||!n.dem)return;const i=n.dem,a=n.tileID,s=1<<e.canonical.z-a.canonical.z;return new Wf(n,i.dim/Tr/s,[(e.canonical.x/s-a.canonical.x)*i.dim,(e.canonical.y/s-a.canonical.y)*i.dim])}tileCoordToPixel(t,e){const r=e*this._scale+this._offset[1],n=Math.floor(t*this._scale+this._offset[0]),i=Math.floor(r);return new g(n,i)}getElevationAt(t,e,r,n){const i=t*this._scale+this._offset[0],a=e*this._scale+this._offset[1],s=Math.floor(i),o=Math.floor(a),l=this._dem;return n=!!n,r?ue(ue(l.get(s,o,n),l.get(s,o+1,n),a-o),ue(l.get(s+1,o,n),l.get(s+1,o+1,n),a-o),i-s):l.get(s,o,n)}getElevationAtPixel(t,e,r){return this._dem.get(t,e,!!r)}getMeterToDEM(t){return (1<<this._demTile.tileID.canonical.z)*dl(1,t)*this._dem.stride}}const Jf=zf.types,Qf=[\"fill-extrusion-base\",\"fill-extrusion-height\",\"fill-extrusion-color\",\"fill-extrusion-pattern\",\"fill-extrusion-flood-light-wall-radius\"],td=[\"fill-extrusion-flood-light-ground-radius\"],ed=Math.pow(2,13),rd=Math.pow(2,15)-1,nd=new g(0,1),id=2147483648;function ad(t,e,r,n,i,a,s,o){t.emplaceBack((e<<1)+s,(r<<1)+a,(Math.floor(n*ed)<<1)+i,Math.round(o));}function sd(t,e,r,n,i,a){t.emplaceBack(e.x,e.y,(r.x<<1)+n,(r.y<<1)+i,a);}function od(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class ld{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0;}}class ud{constructor(){this.centroidXY=new g(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new g(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new g(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0;}span(){return new g(this.max.x-this.min.x,this.max.y-this.min.y)}}class cd{constructor(){this.acc=new g(0,0),this.accCount=0,this.centroidDataIndex=0;}startRing(t,e){t.min.x===Number.MAX_VALUE&&(t.min.x=t.max.x=e.x,t.min.y=t.max.y=e.y);}appendEdge(t,e,r){this.accCount++,this.acc._add(e);let n=!!this.borders;e.x<t.min.x?(t.min.x=e.x,n=!0):e.x>t.max.x&&(t.max.x=e.x,n=!0),e.y<t.min.y?(t.min.y=e.y,n=!0):e.y>t.max.y&&(t.max.y=e.y,n=!0),((0===e.x||e.x===Tr)&&e.x===r.x)!=((0===e.y||e.y===Tr)&&e.y===r.y)&&this.processBorderOverlap(e,r),n&&this.checkBorderIntersection(e,r);}checkBorderIntersection(t,e){e.x<0!=t.x<0&&this.addBorderIntersection(0,ue(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>Tr!=t.x>Tr&&this.addBorderIntersection(1,ue(e.y,t.y,(Tr-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,ue(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>Tr!=t.y>Tr&&this.addBorderIntersection(3,ue(e.x,t.x,(Tr-e.y)/(t.y-e.y)));}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const r=this.borders[t];e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e);}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const r=0===t.x?0:1;this.addBorderIntersection(r,e.y),this.addBorderIntersection(r,t.y);}else {const r=0===t.y?2:3;this.addBorderIntersection(r,e.x),this.addBorderIntersection(r,t.x);}}centroid(){return 0===this.accCount?new g(0,0):new g(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce(((t,e)=>t+ +(e[0]!==Number.MAX_VALUE)),0):0}}function hd(t,e){const r=t.add(e)._unit(),n=I(t.x*r.x+t.y*r.y,-1,1);var i,a,s;return i=Math.acos(n),Math.min(4,Math.max(-4,Math.tan(i)))/4*rd*((a=t).x*(s=e).y-a.y*s.x<0?-1:1)}const pd=[t=>t.x<0,t=>t.x>Tr,t=>t.y<0,t=>t.y>Tr];function fd(t,e,r,n){const i=[4];if(0===n)return i;r._mult(n);const a=t.sub(r),s=e.sub(r),o=[t,e,a,s];for(let t=0;t<4;t++)for(const e of o)if(pd[t](e)){i.push(t);break}return i}class dd{constructor(t){this.vertexArray=new ms,this.indexArray=new Es,this.programConfigurations=new Vo(t.layers,t.zoom,(t=>td.includes(t))),this._segments=new eo,this.hiddenByLandmarkVertexArray=new Us,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new eo;}getDefaultSegment(){return this.regionSegments[4]}hasData(){return 0!==this.vertexArray.length}addData(t,e,r,n=!1){const i=t.length;if(i>2){let a=Math.max(0,this._segments.get().length-1);const s=this._segments._prepareSegment(4*i,this.vertexArray.length,2*this._segmentToGroundQuads[a].length);let o;a!==this._segments.get().length-1&&(a++,this._segmentToGroundQuads[a]=[],this._segmentToRegionTriCounts[a]=[0,0,0,0,0]);{const e=t[0],r=t[1];o=hd(e.sub(t[i-1])._perp()._unit(),r.sub(e)._perp()._unit());}for(let l=0;l<i;l++){const u=l===i-1?0:l+1,c=t[l],h=t[u],p=t[u===i-1?0:u+1],f=h.sub(c)._perp()._unit(),d=hd(f,p.sub(h)._perp()._unit()),m=o,y=d;if(vd(c,h,e)||n&&bd(c,e)&&bd(h,e)){o=d;continue}const g=s.vertexLength;sd(this.vertexArray,c,h,1,1,m),sd(this.vertexArray,c,h,1,0,m),sd(this.vertexArray,c,h,0,1,y),sd(this.vertexArray,c,h,0,0,y),s.vertexLength+=4;const x=fd(c,h,f,r);for(const t of x)this._segmentToGroundQuads[a].push({id:g,region:t}),this._segmentToRegionTriCounts[a][t]+=2,s.primitiveLength+=2;o=d;}}}prepareBorderSegments(){if(!this.hasData())return;const t=this._segments.get(),e=t.length;for(let t=0;t<e;t++)this._segmentToGroundQuads[t].sort(((t,e)=>t.region-e.region));for(let r=0;r<e;r++){const e=this._segmentToGroundQuads[r],n=t[r],i=this._segmentToRegionTriCounts[r];i.reduce(((t,e)=>t+e),0);let a=0;for(let t=0;t<=4;t++){const e=i[t];if(0!==e){let r=this.regionSegments[t];r||(r=this.regionSegments[t]=new eo);const i={vertexOffset:n.vertexOffset,primitiveOffset:n.primitiveOffset+a,vertexLength:n.vertexLength,primitiveLength:e};r.get().push(i);}a+=e;}for(let t=0;t<e.length;t++){const r=e[t].id;this.indexArray.emplaceBack(r,r+1,r+3),this.indexArray.emplaceBack(r,r+3,r+2);}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null;}addPaintPropertiesData(t,e,r,n,i,a){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,t,e,r,n,i,a);}upload(t){this.hasData()&&(this.vertexBuffer=t.createVertexBuffer(this.vertexArray,pf.members),this.indexBuffer=t.createIndexBuffer(this.indexArray));}uploadPaintProperties(t){this.hasData()&&this.programConfigurations.upload(t);}update(t,e,r,n,i,a){this.hasData()&&this.programConfigurations.updatePaintArrays(t,e,r,n,i,a);}updateHiddenByLandmark(t){if(!this.hasData())return;const e=t.groundVertexCount+t.groundVertexArrayOffset;if(0===t.groundVertexCount)return;const r=t.flags&id?1:0;for(let n=t.groundVertexArrayOffset;n<e;++n)this.hiddenByLandmarkVertexArray.emplace(n,r);this._needsHiddenByLandmarkUpdate=!0;}uploadHiddenByLandmark(t){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=t.createVertexBuffer(this.hiddenByLandmarkVertexArray,df.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1);}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let t=0;t<=4;t++){const e=this.regionSegments[t];e&&e.destroy();}}}}class md{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Es,this.footprintVertices=new ps,this.footprintSegments=[],this.layoutVertexArray=new ds,this.centroidVertexArray=new Js,this.indexArray=new Es,this.programConfigurations=new Vo(t.layers,t.zoom,(t=>Qf.includes(t))),this.segments=new eo,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.groundEffect=new dd(t),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[];}populate(t,e,r,n){this.features=[],this.hasPattern=sf(\"fill-extrusion\",this.layers,e),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=wl(r),this.edgeRadius=this.layers[0].layout.get(\"fill-extrusion-edge-radius\")/this.tileToMeter;for(const{feature:i,id:a,index:s,sourceLayerIndex:o}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Bl(i,t);if(!this.layers[0]._featureFilter.filter(new Pa(this.zoom),l,r))continue;const u={id:a,sourceLayerIndex:o,index:s,geometry:t?l.geometry:Tl(i,r,n),properties:i.properties,type:i.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(of(\"fill-extrusion\",this.layers,u,this.zoom,e)):this.addFeature(u,u.geometry,s,r,{},e.availableImages,n,e.brightness),e.featureIndex.insert(i,u.geometry,s,o,this.index,c);}this.sortBorders(),\"mercator\"===this.projection.name&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0;}addFeatures(t,e,r,n,i,a){for(const t of this.features){const{geometry:s}=t;this.addFeature(t,s,t.index,e,r,n,i,a);}this.sortBorders(),\"mercator\"===this.projection.name&&this.splitToSubtiles();}update(t,e,r,n,i){const a=0!==Object.keys(t).length;if(a&&!this.stateDependentLayers.length)return;const s=a?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(t,e,s,r,n,i),this.groundEffect.update(t,e,s,r,n,i);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,yf),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,mf.members,!0)),this.groundEffect.upload(t)),this.groundEffect.uploadPaintProperties(t),this.programConfigurations.upload(t),this.uploaded=!0;}uploadCentroid(t){this.groundEffect.uploadHiddenByLandmark(t),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,ff.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(t,e,r,n,i,a,s,o){const l=this.layers[0].paint.get(\"fill-extrusion-flood-light-ground-radius\").evaluate(t,{})/this.tileToMeter,u=[new g(0,0),new g(Tr,Tr)],c=s.projection,h=\"globe\"===c.name,p=\"Polygon\"===Jf[t.type],f=new cd;f.centroidDataIndex=this.centroidData.length;const d=new ud,m=this.layers[0].paint.get(\"fill-extrusion-base\").evaluate(t,{},n)<=0,y=this.layers[0].paint.get(\"fill-extrusion-height\").evaluate(t,{},n);d.height=y,d.vertexArrayOffset=this.layoutVertexArray.length,d.groundVertexArrayOffset=this.groundEffect.vertexArray.length,h&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new bs);const x=nf(e,500);for(let t=x.length-1;t>=0;t--){const e=x[t];(0===e.length||(v=e[0]).every((t=>t.x<=0))||v.every((t=>t.x>=Tr))||v.every((t=>t.y<=0))||v.every((t=>t.y>=Tr)))&&x.splice(t,1);}var v;let b;if(h)b=Ad(x,u,n);else {b=[];for(const t of x)b.push({polygon:t,bounds:u});}const _=p?this.edgeRadius:0,w=_>0&&this.zoom<17,M=(t,e)=>{if(0===t.length)return !1;const r=t[t.length-1];return e.x===r.x&&e.y===r.y};for(const{polygon:t,bounds:e}of b){let r=0,i=0;for(const e of t)p&&!e[0].equals(e[e.length-1])&&e.push(e[0]),i+=p?e.length-1:e.length;const a=this.segments.prepareSegment((p?5:4)*i,this.layoutVertexArray,this.indexArray);d.footprintSegIdx<0&&(d.footprintSegIdx=this.footprintSegments.length),d.polygonSegIdx<0&&(d.polygonSegIdx=this.polygonSegments.length);const s={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},o=new ld;if(o.vertexOffset=this.footprintVertices.length,o.indexOffset=3*this.footprintIndices.length,o.ringIndices=[],p){const i=[],s=[];r=a.vertexLength;for(let r=0;r<t.length;r++){const u=t[r];u.length&&0!==r&&s.push(i.length/2);const p=[];let f,d;f=u[1].sub(u[0])._perp()._unit(),o.ringIndices.push(u.length-1);for(let t=1;t<u.length;t++){const e=u[t],r=u[t===u.length-1?1:t+1],s=e.clone();if(_){d=r.sub(e)._perp()._unit();const t=f.add(d)._unit(),n=_*Math.min(4,1/(f.x*t.x+f.y*t.y));s.x+=n*t.x,s.y+=n*t.y,s.x=Math.round(s.x),s.y=Math.round(s.y),f=d;}!m||0!==_&&!w||M(p,s)||p.push(s),ad(this.layoutVertexArray,s.x,s.y,0,0,1,1,0),a.vertexLength++,this.footprintVertices.emplaceBack(e.x,e.y),i.push(e.x,e.y),h&&od(this.layoutVertexExtArray,c.projectTilePoint(s.x,s.y,n),c.upVector(n,s.x,s.y));}m&&(0===_||w)&&(0!==p.length&&M(p,p[0])&&p.pop(),this.groundEffect.addData(p,e,l));}const u=rf(i,s);for(let t=0;t<u.length;t+=3)this.footprintIndices.emplaceBack(o.vertexOffset+u[t+0],o.vertexOffset+u[t+1],o.vertexOffset+u[t+2]),this.indexArray.emplaceBack(r+u[t],r+u[t+2],r+u[t+1]),a.primitiveLength++;o.indexCount+=u.length,o.vertexCount+=this.footprintVertices.length-o.vertexOffset;}for(let i=0;i<t.length;i++){const s=t[i];f.startRing(d,s[0]);let o=s.length>4&&_d(s[s.length-2],s[0],s[1]),u=_?gd(s[s.length-2],s[0],s[1],_):0;const y=[];let g,x,v;x=s[1].sub(s[0])._perp()._unit();let b=!0;for(let t=1,i=0;t<s.length;t++){let l=s[t-1],p=s[t];const w=s[t===s.length-1?1:t+1];if(f.appendEdge(d,p,l),vd(p,l,e)){_&&(x=w.sub(p)._perp()._unit(),b=!b);continue}const A=p.sub(l)._perp(),S=A.x/(Math.abs(A.x)+Math.abs(A.y)),I=A.y>0?1:0,k=l.dist(p);if(i+k>32768&&(i=0),_){v=w.sub(p)._perp()._unit();let t=xd(l,p,w,yd(x,v),_);isNaN(t)&&(t=0);const e=p.sub(l)._unit();l=l.add(e.mult(u))._round(),p=p.add(e.mult(-t))._round(),u=t,x=v,m&&this.zoom>=17&&(M(y,l)||y.push(l),M(y,p)||y.push(p));}const P=a.vertexLength,E=s.length>4&&_d(l,p,w);let z=wd(i,o,b);if(ad(this.layoutVertexArray,l.x,l.y,S,I,0,0,z),ad(this.layoutVertexArray,l.x,l.y,S,I,0,1,z),i+=k,z=wd(i,E,!b),o=E,ad(this.layoutVertexArray,p.x,p.y,S,I,0,0,z),ad(this.layoutVertexArray,p.x,p.y,S,I,0,1,z),a.vertexLength+=4,this.indexArray.emplaceBack(P+0,P+1,P+2),this.indexArray.emplaceBack(P+1,P+3,P+2),a.primitiveLength+=2,_){const n=r+(1===t?s.length-2:t-2),i=1===t?r:n+1;if(this.indexArray.emplaceBack(P+1,n,P+3),this.indexArray.emplaceBack(n,i,P+3),a.primitiveLength+=2,void 0===g&&(g=P),!vd(w,s[t],e)){const e=t===s.length-1?g:a.vertexLength;this.indexArray.emplaceBack(P+2,P+3,e),this.indexArray.emplaceBack(P+3,e+1,e),this.indexArray.emplaceBack(P+3,i,e+1),a.primitiveLength+=3;}b=!b;}if(h){const t=this.layoutVertexExtArray,e=c.projectTilePoint(l.x,l.y,n),r=c.projectTilePoint(p.x,p.y,n),i=c.upVector(n,l.x,l.y),a=c.upVector(n,p.x,p.y);od(t,e,i),od(t,e,i),od(t,r,a),od(t,r,a);}}p&&(r+=s.length-1),m&&_&&this.zoom>=17&&(0!==y.length&&M(y,y[0])&&y.pop(),this.groundEffect.addData(y,e,l,_>0));}this.footprintSegments.push(o),s.triangleCount=this.indexArray.length-s.triangleArrayOffset,this.polygonSegments.push(s),++d.footprintSegLen,++d.polygonSegLen;}if(d.vertexCount=this.layoutVertexArray.length-d.vertexArrayOffset,d.groundVertexCount=this.groundEffect.vertexArray.length-d.groundVertexArrayOffset,0!==d.vertexCount){if(d.centroidXY=f.borders?nd:this.encodeCentroid(f,d),this.centroidData.push(d),f.borders){this.featuresOnBorder.push(f);const t=this.featuresOnBorder.length-1;for(let e=0;e<f.borders.length;e++)f.borders[e][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[e].push(t);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,a,n,o),this.groundEffect.addPaintPropertiesData(t,r,i,a,n,o),this.maxHeight=Math.max(this.maxHeight,y);}}sortBorders(){for(let t=0;t<this.borderFeatureIndices.length;t++)this.borderFeatureIndices[t].sort(((e,r)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[r].borders[t][0]));}splitToSubtiles(){const t=[];for(let e=0;e<this.centroidData.length;e++){const r=this.centroidData[e],n=+(r.min.y+r.max.y>Tr),i=2*n+(+(r.min.x+r.max.x>Tr)^n);for(let n=0;n<r.polygonSegLen;n++){const a=r.polygonSegIdx+n;t.push({centroidIdx:e,subtile:i,polygonSegmentIdx:a,triangleSegmentIdx:this.polygonSegments[a].triangleSegIdx});}}const e=new Es;t.sort(((t,e)=>t.triangleSegmentIdx===e.triangleSegmentIdx?t.subtile-e.subtile:t.triangleSegmentIdx-e.triangleSegmentIdx));let r=0,n=0,i=0;for(const e of t){if(e.triangleSegmentIdx!==r)break;i++;}const a=t.length;for(;n!==t.length;){r=t[n].triangleSegmentIdx;let s=0,o=n,l=n;for(let e=o;e<i&&t[e].subtile===s;e++)l++;for(;o!==i;){const n=t[o];s=n.subtile;const a=this.centroidData[n.centroidIdx].min.clone(),u=this.centroidData[n.centroidIdx].max.clone(),c={vertexOffset:this.segments.segments[r].vertexOffset,primitiveOffset:e.length,vertexLength:this.segments.segments[r].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let r=o;r<l;r++){const n=t[r],i=this.polygonSegments[n.polygonSegmentIdx],s=this.centroidData[n.centroidIdx].min,o=this.centroidData[n.centroidIdx].max,l=this.indexArray.uint16;for(let t=i.triangleArrayOffset;t<i.triangleArrayOffset+i.triangleCount;t++)e.emplaceBack(l[3*t],l[3*t+1],l[3*t+2]);c.primitiveLength+=i.triangleCount,a.x=Math.min(a.x,s.x),a.y=Math.min(a.y,s.y),u.x=Math.max(u.x,o.x),u.y=Math.max(u.y,o.y);}c.primitiveLength>0&&this.triangleSubSegments.push({segment:c,min:a,max:u}),o=l;for(let e=o;e<i&&t[e].subtile===t[o].subtile;e++)l++;}n=i;for(let e=n;e<a&&t[e].triangleSegmentIdx===t[n].triangleSegmentIdx;e++)i++;}e._trim(),this.indexArray=e;}getVisibleSegments(t,e,r){let n=0,i=0;const a=1<<t.canonical.z;if(e){const r=e.getMinMaxForTile(t);r&&(n=r.min,i=r.max);}i+=this.maxHeight;const s=t.toUnwrapped();let o;const l=[s.canonical.x/a+s.wrap,s.canonical.y/a],u=[(s.canonical.x+1)/a+s.wrap,(s.canonical.y+1)/a],c=new eo,h=(t,e,r)=>[t[0]*(1-r[0])+e[0]*r[0],t[1]*(1-r[1])+e[1]*r[1]],p=[],f=[];for(const t of this.triangleSubSegments){p[0]=t.min.x/Tr,p[1]=t.min.y/Tr,f[0]=t.max.x/Tr,f[1]=t.max.y/Tr;const e=h(l,u,p),a=h(l,u,f);if(0===new Bh([e[0],e[1],n],[a[0],a[1],i]).intersectsPrecise(r)){o&&(c.segments.push(o),o=void 0);continue}const s=t.segment;o&&o.vertexOffset!==s.vertexOffset&&(c.segments.push(o),o=void 0),o?(o.vertexLength+=s.vertexLength,o.primitiveLength+=s.primitiveLength):o={vertexOffset:s.vertexOffset,primitiveLength:s.primitiveLength,vertexLength:s.vertexLength,primitiveOffset:s.primitiveOffset,sortKey:void 0,vaos:{}};}return o&&c.segments.push(o),c}encodeCentroid(t,e){const r=t.centroid(),n=e.span(),i=Math.min(7,Math.round(n.x*this.tileToMeter/10)),a=Math.min(7,Math.round(n.y*this.tileToMeter/10));return new g(I(r.x,1,Tr-1)<<3|i,I(r.y,1,Tr-1)<<3|a)}encodeBorderCentroid(t){if(!t.borders)return new g(0,0);const e=t.borders,r=Number.MAX_VALUE;if(e[0][0]!==r||e[1][0]!==r){const t=e[0][0]!==r?0:1;return new g(6|(e[0][0]!==r?0:65528),(e[t][0]+e[t][1])/2<<3|6)}{const t=e[2][0]!==r?2:3;return new g((e[t][0]+e[t][1])/2<<3|6,6|(e[2][0]!==r?0:65528))}}showCentroid(t){const e=this.centroidData[t.centroidDataIndex];e.flags&=id,e.centroidXY.x=0,e.centroidXY.y=0,this.writeCentroidToBuffer(e);}writeCentroidToBuffer(t){this.groundEffect.updateHiddenByLandmark(t);const e=t.vertexArrayOffset,r=t.vertexCount+t.vertexArrayOffset,n=t.flags&id?nd:t.centroidXY,i=this.centroidVertexArray.geta_centroid_pos0(e);if(this.centroidVertexArray.geta_centroid_pos1(e)!==n.y||i!==n.x){for(let t=e;t<r;++t)this.centroidVertexArray.emplace(t,n.x,n.y);this.needsCentroidUpdate=!0;}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const t of this.centroidData)this.writeCentroidToBuffer(t);}updateReplacement(t,e){if(e.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=e.updateTime;const r=e.getReplacementRegionsForTile(t.toUnwrapped());if(function(t,e){if(t.length!==e.length)return !1;for(let r=0;r<t.length;r++)if(t[r].sourceId!==e[r].sourceId||!Cf(t[r],e[r]))return !1;return !0}(this.activeReplacements,r))return;if(this.activeReplacements=r,0===this.centroidVertexArray.length)this.createCentroidsBuffer();else for(const t of this.centroidData)t.flags&=2147483647;const n=[];for(const e of this.activeReplacements){const r=Math.pow(2,e.footprintTileId.canonical.z-t.canonical.z);for(const i of this.centroidData)if(!(i.flags&id||e.min.x>i.max.x||i.min.x>e.max.x||e.min.y>i.max.y||i.min.y>e.max.y))for(let a=0;a<i.footprintSegLen;a++){const s=this.footprintSegments[i.footprintSegIdx+a];if(n.length=0,Sd(this.footprintVertices,s.vertexOffset,s.vertexCount,e.footprintTileId.canonical,t.canonical,n),Lf(e.footprint,n,this.footprintIndices.uint16,s.indexOffset,s.indexCount,-s.vertexOffset,-r)){i.flags|=id;break}}}for(const t of this.centroidData)this.writeCentroidToBuffer(t);this.borderDoneWithNeighborZ=[-1,-1,-1,-1];}footprintContainsPoint(t,e,r){let n=!1;for(let i=0;i<r.footprintSegLen;i++){const a=this.footprintSegments[r.footprintSegIdx+i];let s=0;for(const r of a.ringIndices){for(let i=s,o=r+s-1;i<r+s;o=i++){const r=this.footprintVertices.int16[2*(i+a.vertexOffset)+0],s=this.footprintVertices.int16[2*(i+a.vertexOffset)+1],l=this.footprintVertices.int16[2*(o+a.vertexOffset)+1];s>e!=l>e&&t<(this.footprintVertices.int16[2*(o+a.vertexOffset)+0]-r)*(e-s)/(l-s)+r&&(n=!n);}s=r;}}return n}getHeightAtTileCoord(t,e){let r=Number.NEGATIVE_INFINITY,n=!0;const i=4*(t+Tr)*Tr+(e+Tr);if(this.partLookup.hasOwnProperty(i)){const t=this.partLookup[i];return t?{height:t.height,hidden:!!(t.flags&id)}:void 0}for(const a of this.centroidData)t>a.max.x||a.min.x>t||e>a.max.y||a.min.y>e||this.footprintContainsPoint(t,e,a)&&a&&a.height>r&&(r=a.height,this.partLookup[i]=a,n=!!(a.flags&id));if(r!==Number.NEGATIVE_INFINITY)return {height:r,hidden:n};this.partLookup[i]=void 0;}}function yd(t,e){const r=t.add(e)._unit();return t.x*r.x+t.y*r.y}function gd(t,e,r,n){const i=e.sub(t)._perp()._unit(),a=r.sub(e)._perp()._unit();return xd(t,e,r,yd(i,a),n)}function xd(t,e,r,n,i){const a=Math.sqrt(1-n*n);return Math.min(t.dist(e)/3,e.dist(r)/3,i*a/n)}function vd(t,e,r){return t.x<r[0].x&&e.x<r[0].x||t.x>r[1].x&&e.x>r[1].x||t.y<r[0].y&&e.y<r[0].y||t.y>r[1].y&&e.y>r[1].y}function bd(t,e){return t.x<e[0].x||t.x>e[1].x||t.y<e[0].y||t.y>e[1].y}function _d(t,e,r){if(t.x<0||t.x>=Tr||e.x<0||e.x>=Tr||r.x<0||r.x>=Tr)return !1;const n=r.sub(e),i=n.perp(),a=t.sub(e);return (n.x*a.x+n.y*a.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(a.x*a.x+a.y*a.y))>-.866&&i.x*a.x+i.y*a.y<0}function wd(t,e,r){const n=e?2|t:-3&t;return r?1|n:-2&n}function Md(){const t=Math.PI/32,e=Math.tan(t),r=Jo;return r*Math.sqrt(1+2*e*e)-r}function Ad(t,e,r){const n=1<<r.z,i=ml(r.x/n),a=ml((r.x+1)/n),s=yl(r.y/n),o=yl((r.y+1)/n);return function(t,e,r,n,i=0,a){const s=[];if(!t.length||!r||!n)return s;const o=(t,e)=>{for(const r of t)s.push({polygon:r,bounds:e});},l=Math.ceil(Math.log2(r)),u=Math.ceil(Math.log2(n)),c=l-u,h=[];for(let t=0;t<Math.abs(c);t++)h.push(c>0?0:1);for(let t=0;t<Math.min(l,u);t++)h.push(0),h.push(1);let p=t;if(p=Tf(p,e[0].y-i,e[1].y+i,1),p=Tf(p,e[0].x-i,e[1].x+i,0),!p.length)return s;const f=[];for(h.length?f.push({polygons:p,bounds:e,depth:0}):o(p,e);f.length;){const t=f.pop(),e=t.depth,r=h[e],n=t.bounds[0],s=t.bounds[1],l=0===r?n.x:n.y,u=0===r?s.x:s.y,c=a?a(r,l,u):.5*(l+u),p=Tf(t.polygons,l-i,c+i,r),d=Tf(t.polygons,c-i,u+i,r);if(p.length){const t=[n,new g(0===r?c:s.x,1===r?c:s.y)];h.length>e+1?f.push({polygons:p,bounds:t,depth:e+1}):o(p,t);}if(d.length){const t=[new g(0===r?c:n.x,1===r?c:n.y),s];h.length>e+1?f.push({polygons:d,bounds:t,depth:e+1}):o(d,t);}}return s}(t,e,Math.ceil((a-i)/11.25),Math.ceil((s-o)/11.25),1,((t,e,i)=>{if(0===t)return .5*(e+i);{const t=yl((r.y+e/Tr)/n);return (fl(.5*(yl((r.y+i/Tr)/n)+t))*n-r.y)*Tr}}))}function Sd(t,e,r,n,i,a){const s=Math.pow(2,n.z-i.z);for(let o=0;o<r;o++){let r=t.int16[2*(o+e)+0],l=t.int16[2*(o+e)+1];r=(r+i.x*Tr)*s-n.x*Tr,l=(l+i.y*Tr)*s-n.y*Tr,a.push(new g(r,l));}}ra(md,\"FillExtrusionBucket\",{omit:[\"layers\",\"features\"]}),ra(ud,\"PartData\"),ra(ld,\"FootprintSegment\"),ra(cd,\"BorderCentroidData\"),ra(dd,\"GroundEffect\");const Id=new Oa({visibility:new La(qa[\"layout_fill-extrusion\"].visibility),\"fill-extrusion-edge-radius\":new La(qa[\"layout_fill-extrusion\"][\"fill-extrusion-edge-radius\"])});var kd={paint:new Oa({\"fill-extrusion-opacity\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-opacity\"]),\"fill-extrusion-color\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-color\"]),\"fill-extrusion-translate\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-translate\"]),\"fill-extrusion-translate-anchor\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-translate-anchor\"]),\"fill-extrusion-pattern\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-pattern\"]),\"fill-extrusion-height\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-height\"]),\"fill-extrusion-base\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-base\"]),\"fill-extrusion-vertical-gradient\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-gradient\"]),\"fill-extrusion-ambient-occlusion-intensity\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-intensity\"]),\"fill-extrusion-ambient-occlusion-radius\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-radius\"]),\"fill-extrusion-ambient-occlusion-wall-radius\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-wall-radius\"]),\"fill-extrusion-ambient-occlusion-ground-radius\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-radius\"]),\"fill-extrusion-ambient-occlusion-ground-attenuation\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-attenuation\"]),\"fill-extrusion-flood-light-color\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-color\"]),\"fill-extrusion-flood-light-intensity\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-intensity\"]),\"fill-extrusion-flood-light-wall-radius\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-wall-radius\"]),\"fill-extrusion-flood-light-ground-radius\":new Fa(qa[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-radius\"]),\"fill-extrusion-flood-light-ground-attenuation\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-attenuation\"]),\"fill-extrusion-vertical-scale\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-scale\"]),\"fill-extrusion-rounded-roof\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-rounded-roof\"]),\"fill-extrusion-cutoff-fade-range\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-cutoff-fade-range\"]),\"fill-extrusion-emissive-strength\":new La(qa[\"paint_fill-extrusion\"][\"fill-extrusion-emissive-strength\"])}),layout:Id};class Pd extends g{constructor(t,e,r){super(t,e),this.z=r;}}function Ed(t,e){return t.x*e.x+t.y*e.y}function zd(t,e){if(1===t.length){let r=0;const n=e[r++];let i;for(;!i||n.equals(i);)if(i=e[r++],!i)return 1/0;for(;r<e.length;r++){const a=e[r],s=t[0],o=i.sub(n),l=a.sub(n),u=s.sub(n),c=Ed(o,o),h=Ed(o,l),p=Ed(l,l),f=Ed(u,o),d=Ed(u,l),m=c*p-h*h,y=(p*f-h*d)/m,g=(c*d-h*f)/m,x=n.z*(1-y-g)+i.z*y+a.z*g;if(isFinite(x))return x}return 1/0}{let t=1/0;for(const r of e)t=Math.min(t,r.z);return t}}function Td(t,e,r,n,i,a,s,o){const l=s*i.getElevationAt(t,e,!0,!0),u=0!==a[0],c=u?0===a[1]?s*(a[0]/7-450):s*function(t,e,r){const n=Math.floor(e[0]/8),i=Math.floor(e[1]/8),a=10*(e[0]-8*n),s=10*(e[1]-8*i),o=t.getElevationAt(n,i,!0,!0),l=t.getMeterToDEM(r),u=Math.floor(.5*(a*l-1)),c=Math.floor(.5*(s*l-1)),h=t.tileCoordToPixel(n,i),p=2*u+1,f=2*c+1,d=function(t,e,r,n,i){return [t.getElevationAtPixel(e,r,!0),t.getElevationAtPixel(e+i,r,!0),t.getElevationAtPixel(e,r+i,!0),t.getElevationAtPixel(e+n,r+i,!0)]}(t,h.x-u,h.y-c,p,f),m=Math.abs(d[0]-d[1]),y=Math.abs(d[2]-d[3]),g=Math.abs(d[0]-d[2])+Math.abs(d[1]-d[3]),x=Math.min(.25,.5*l*(m+y)/p),v=Math.min(.25,.5*l*g/f);return o+Math.max(x*a,v*s)}(i,a,o):l;return {base:l+(0===r)?-1:r,top:u?Math.max(c+n,l+r+2):l+n}}const Bd=cs([{name:\"a_pos_normal\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"},{name:\"a_linesofar\",components:1,type:\"Float32\"}],4),{members:Cd}=Bd,Rd=cs([{name:\"a_packed\",components:4,type:\"Float32\"}]),{members:Dd}=Rd;class Vd{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new vp({width:t,height:e}),this.positions={},this.uploaded=!1;}getDash(t,e){const r=this.getKey(t,e);return this.positions[r]}trim(){const t=this.width,e=this.height=R(this.nextRow);this.image.resize({width:t,height:e});}getKey(t,e){return t.join(\",\")+e}getDashRanges(t,e,r){const n=[];let i=t.length%2==1?-t[t.length-1]*r:0,a=t[0]*r,s=!0;n.push({left:i,right:a,isDash:s,zeroLength:0===t[0]});let o=t[0];for(let e=1;e<t.length;e++){s=!s;const l=t[e];i=o*r,o+=l,a=o*r,n.push({left:i,right:a,isDash:s,zeroLength:0===l});}return n}addRoundDash(t,e,r){const n=e/2;for(let e=-r;e<=r;e++){const i=this.width*(this.nextRow+r+e);let a=0,s=t[a];for(let o=0;o<this.width;o++){o/s.right>1&&(s=t[++a]);const l=Math.abs(o-s.left),u=Math.abs(o-s.right),c=Math.min(l,u);let h;const p=e/r*(n+1);if(s.isDash){const t=n-Math.abs(p);h=Math.sqrt(c*c+t*t);}else h=n-Math.sqrt(c*c+p*p);this.image.data[i+o]=Math.max(0,Math.min(255,h+128));}}}addRegularDash(t,e){for(let e=t.length-1;e>=0;--e){const r=t[e],n=t[e+1];r.zeroLength?t.splice(e,1):n&&n.isDash===r.isDash&&(n.left=r.left,t.splice(e,1));}const r=t[0],n=t[t.length-1];r.isDash===n.isDash&&(r.left=n.left-this.width,n.right=r.right+this.width);const i=this.width*this.nextRow;let a=0,s=t[a];for(let r=0;r<this.width;r++){r/s.right>1&&(s=t[++a]);const n=Math.abs(r-s.left),o=Math.abs(r-s.right),l=Math.min(n,o);this.image.data[i+r]=Math.max(0,Math.min(255,(s.isDash?l:-l)+e+128));}}addDash(t,e){const r=this.getKey(t,e);if(this.positions[r])return this.positions[r];const n=\"round\"===e,i=n?7:0,a=2*i+1;if(this.nextRow+a>this.height)return j(\"LineAtlas out of space\"),null;0===t.length&&t.push(1);let s=0;for(let e=0;e<t.length;e++)t[e]<0&&(j(\"Negative value is found in line dasharray, replacing values with 0\"),t[e]=0),s+=t[e];if(0!==s){const r=this.width/s,a=this.getDashRanges(t,this.width,r);n?this.addRoundDash(a,r,i):this.addRegularDash(a,\"square\"===e?.5*r:0);}const o=this.nextRow+i;this.nextRow+=a;const l={tl:[o,i],br:[s,0]};return this.positions[r]=l,l}}ra(Vd,\"LineAtlas\");const Ld=zf.types,Fd=Math.cos(Math.PI/180*37.5);class Nd{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={};})),this.layoutVertexArray=new ys,this.layoutVertexArray2=new gs,this.indexArray=new Es,this.programConfigurations=new Vo(t.layers,t.zoom),this.segments=new eo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){this.hasPattern=sf(\"line\",this.layers,e);const i=this.layers[0].layout.get(\"line-sort-key\"),a=[];for(const{feature:e,id:s,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Bl(e,t);if(!this.layers[0]._featureFilter.filter(new Pa(this.zoom),u,r))continue;const c=i?i.evaluate(u,{},r):void 0,h={id:s,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:Tl(e,r,n),patterns:{},sortKey:c};a.push(h);}i&&a.sort(((t,e)=>t.sortKey-e.sortKey));const{lineAtlas:s,featureIndex:o}=e,l=this.addConstantDashes(s);for(const n of a){const{geometry:i,index:a,sourceLayerIndex:u}=n;if(l&&this.addFeatureDashes(n,s),this.hasPattern){const t=of(\"line\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,a,r,s.positions,e.availableImages,e.brightness);o.insert(t[a].feature,i,a,u,this.index);}}addConstantDashes(t){let e=!1;for(const r of this.layers){const n=r.paint.get(\"line-dasharray\").value,i=r.layout.get(\"line-cap\").value;if(\"constant\"!==n.kind||\"constant\"!==i.kind)e=!0;else {const e=i.value,r=n.value;if(!r)continue;t.addDash(r,e);}}return e}addFeatureDashes(t,e){const r=this.zoom;for(const n of this.layers){const i=n.paint.get(\"line-dasharray\").value,a=n.layout.get(\"line-cap\").value;if(\"constant\"===i.kind&&\"constant\"===a.kind)continue;let s,o;if(\"constant\"===i.kind){if(s=i.value,!s)continue}else s=i.evaluate({zoom:r},t);o=\"constant\"===a.kind?a.value:a.evaluate({zoom:r},t),e.addDash(s,o),t.patterns[n.id]=e.getKey(s,o);}}update(t,e,r,n,i){const a=0!==Object.keys(t).length;a&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(t,e,a?this.stateDependentLayers:this.layers,r,n,i);}addFeatures(t,e,r,n,i,a){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n,a);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Dd)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Cd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty(\"mapbox_clip_start\")&&t.properties.hasOwnProperty(\"mapbox_clip_end\"))return {start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,r,n,i,a,s){const o=this.layers[0].layout,l=o.get(\"line-join\").evaluate(t,{}),u=o.get(\"line-cap\").evaluate(t,{}),c=o.get(\"line-miter-limit\"),h=o.get(\"line-round-limit\");this.lineClips=this.lineFeatureClips(t);for(const r of e)this.addLine(r,t,l,u,c,h);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,a,n,s);}addLine(t,e,r,n,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const s=\"Polygon\"===Ld[e.type];let o=t.length;for(;o>=2&&t[o-1].equals(t[o-2]);)o--;let l=0;for(;l<o-1&&t[l].equals(t[l+1]);)l++;if(o<(s?3:2))return;\"bevel\"===r&&(i=1.05);const u=this.overscaling<=16?15*Tr/(512*this.overscaling):0,c=this.segments.prepareSegment(10*o,this.layoutVertexArray,this.indexArray);let h,p,f,d,m;this.e1=this.e2=-1,s&&(h=t[o-2],m=t[l].sub(h)._unit()._perp());for(let e=l;e<o;e++){if(f=e===o-1?s?t[l+1]:void 0:t[e+1],f&&t[e].equals(f))continue;m&&(d=m),h&&(p=h),h=t[e],m=f?f.sub(h)._unit()._perp():d,d=d||m;let y=d.add(m);0===y.x&&0===y.y||y._unit();const g=d.x*m.x+d.y*m.y,x=y.x*m.x+y.y*m.y,v=0!==x?1/x:1/0,b=2*Math.sqrt(2-2*x),_=x<Fd&&p&&f,w=d.x*m.y-d.y*m.x>0;if(_&&e>l){const t=h.dist(p);if(t>2*u){const e=h.sub(h.sub(p)._mult(u/t)._round());this.updateDistance(p,e),this.addCurrentVertex(e,d,0,0,c),p=e;}}const M=p&&f;let A=M?r:s?\"butt\":n;if(M&&\"round\"===A&&(v<a?A=\"miter\":v<=2&&(A=\"fakeround\")),\"miter\"===A&&v>i&&(A=\"bevel\"),\"bevel\"===A&&(v>2&&(A=\"flipbevel\"),v<i&&(A=\"miter\")),p&&this.updateDistance(p,h),\"miter\"===A)y._mult(v),this.addCurrentVertex(h,y,0,0,c);else if(\"flipbevel\"===A){if(v>100)y=m.mult(-1);else {const t=v*d.add(m).mag()/d.sub(m).mag();y._perp()._mult(t*(w?-1:1));}this.addCurrentVertex(h,y,0,0,c),this.addCurrentVertex(h,y.mult(-1),0,0,c);}else if(\"bevel\"===A||\"fakeround\"===A){const t=-Math.sqrt(v*v-1),e=w?t:0,r=w?0:t;if(p&&this.addCurrentVertex(h,d,e,r,c),\"fakeround\"===A){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let r=e/t;if(.5!==r){const t=r-.5;r+=r*t*(r-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*t*t+(.848013+g*(.215638*g-1.06021)));}const n=m.sub(d)._mult(r)._add(d)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,c);}}f&&this.addCurrentVertex(h,m,-e,-r,c);}else if(\"butt\"===A)this.addCurrentVertex(h,y,0,0,c);else if(\"square\"===A){const t=p?1:-1;p||this.addCurrentVertex(h,y,t,t,c),this.addCurrentVertex(h,y,0,0,c),p&&this.addCurrentVertex(h,y,t,t,c);}else \"round\"===A&&(p&&(this.addCurrentVertex(h,d,0,0,c),this.addCurrentVertex(h,d,1,1,c,!0)),f&&(this.addCurrentVertex(h,m,-1,-1,c,!0),this.addCurrentVertex(h,m,0,0,c)));if(_&&e<o-1){const t=h.dist(f);if(t>2*u){const e=h.add(f.sub(h)._mult(u/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,m,0,0,c),h=e;}}}}addCurrentVertex(t,e,r,n,i,a=!1){const s=e.y*n-e.x,o=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*r,e.y-e.x*r,a,!1,r,i),this.addHalfVertex(t,s,o,a,!0,-n,i);}addHalfVertex({x:t,y:e},r,n,i,a,s,o){this.layoutVertexArray.emplaceBack((t<<1)+(i?1:0),(e<<1)+(a?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),a?this.e2=l:this.e1=l;}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance;}else this.lineSoFar=this.distance;}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance();}}ra(Nd,\"LineBucket\",{omit:[\"layers\",\"patternFeatures\"]});const Od=new Oa({\"line-cap\":new Fa(qa.layout_line[\"line-cap\"]),\"line-join\":new Fa(qa.layout_line[\"line-join\"]),\"line-miter-limit\":new La(qa.layout_line[\"line-miter-limit\"]),\"line-round-limit\":new La(qa.layout_line[\"line-round-limit\"]),\"line-sort-key\":new Fa(qa.layout_line[\"line-sort-key\"]),visibility:new La(qa.layout_line.visibility)});var Ud={paint:new Oa({\"line-opacity\":new Fa(qa.paint_line[\"line-opacity\"]),\"line-color\":new Fa(qa.paint_line[\"line-color\"]),\"line-translate\":new La(qa.paint_line[\"line-translate\"]),\"line-translate-anchor\":new La(qa.paint_line[\"line-translate-anchor\"]),\"line-width\":new Fa(qa.paint_line[\"line-width\"]),\"line-gap-width\":new Fa(qa.paint_line[\"line-gap-width\"]),\"line-offset\":new Fa(qa.paint_line[\"line-offset\"]),\"line-blur\":new Fa(qa.paint_line[\"line-blur\"]),\"line-dasharray\":new Fa(qa.paint_line[\"line-dasharray\"]),\"line-pattern\":new Fa(qa.paint_line[\"line-pattern\"]),\"line-gradient\":new Na(qa.paint_line[\"line-gradient\"]),\"line-trim-offset\":new La(qa.paint_line[\"line-trim-offset\"]),\"line-emissive-strength\":new La(qa.paint_line[\"line-emissive-strength\"]),\"line-border-width\":new Fa(qa.paint_line[\"line-border-width\"]),\"line-border-color\":new Fa(qa.paint_line[\"line-border-color\"])}),layout:Od};function jd(t,e,r){return e*(Tr/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}function qd(t,e){return 1/jd(t,1,e.tileZoom)}function $d(t,e,r,n){return t.translatePosMatrix(n||e.tileID.projMatrix,e,r.paint.get(\"line-translate\"),r.paint.get(\"line-translate-anchor\"))}const Gd=t=>{const e=[];Yd(t)&&e.push(\"RENDER_LINE_DASH\"),t.paint.get(\"line-gradient\")&&e.push(\"RENDER_LINE_GRADIENT\");const r=t.paint.get(\"line-trim-offset\");return 0===r[0]&&0===r[1]||e.push(\"RENDER_LINE_TRIM_OFFSET\"),0!==t.paint.get(\"line-border-width\").constantOr(1)&&e.push(\"RENDER_LINE_BORDER\"),e};function Yd(t){const e=t.paint.get(\"line-dasharray\").value;return e.value||\"constant\"!==e.kind}const Xd=new class extends Fa{possiblyEvaluate(t,e){return e=new Pa(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,r,n){return e=z({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,r,n)}}(Ud.paint.properties[\"line-width\"].specification);function Zd(t,e){return e>0?e+2*t:t}Xd.useIntegerZoom=!0;const Kd=cs([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_tex_size\",components:4,type:\"Uint16\"},{name:\"a_pixeloffset\",components:4,type:\"Int16\"}],4),Hd=cs([{name:\"a_globe_anchor\",components:3,type:\"Int16\"},{name:\"a_globe_normal\",components:3,type:\"Float32\"}],4),Wd=cs([{name:\"a_projected_pos\",components:4,type:\"Float32\"}],4);cs([{name:\"a_fade_opacity\",components:1,type:\"Uint32\"}],4);const Jd=cs([{name:\"a_z_offset\",components:1,type:\"Float32\"}],4),Qd=cs([{name:\"a_texb\",components:2,type:\"Uint16\"}]),tm=cs([{name:\"a_placed\",components:2,type:\"Uint8\"},{name:\"a_shift\",components:2,type:\"Float32\"}]),em=cs([{name:\"a_size_scale\",components:1,type:\"Float32\"},{name:\"a_padding\",components:2,type:\"Float32\"},{name:\"a_z_offset\",components:1,type:\"Float32\"}]);cs([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"tileAnchorX\"},{type:\"Int16\",name:\"tileAnchorY\"},{type:\"Float32\",name:\"x1\"},{type:\"Float32\",name:\"y1\"},{type:\"Float32\",name:\"x2\"},{type:\"Float32\",name:\"y2\"},{type:\"Int16\",name:\"padding\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]);const rm=cs([{name:\"a_pos\",components:3,type:\"Int16\"},{name:\"a_anchor_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"}],4),nm=cs([{name:\"a_pos_2f\",components:2,type:\"Float32\"},{name:\"a_radius\",components:1,type:\"Float32\"},{name:\"a_flags\",components:2,type:\"Int16\"}],4);cs([{name:\"triangle\",components:3,type:\"Uint16\"}]),cs([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Uint16\",name:\"glyphStartIndex\"},{type:\"Uint16\",name:\"numGlyphs\"},{type:\"Uint32\",name:\"vertexStartIndex\"},{type:\"Uint32\",name:\"lineStartIndex\"},{type:\"Uint32\",name:\"lineLength\"},{type:\"Uint16\",name:\"segment\"},{type:\"Uint16\",name:\"lowerSize\"},{type:\"Uint16\",name:\"upperSize\"},{type:\"Float32\",name:\"lineOffsetX\"},{type:\"Float32\",name:\"lineOffsetY\"},{type:\"Uint8\",name:\"writingMode\"},{type:\"Uint8\",name:\"placedOrientation\"},{type:\"Uint8\",name:\"hidden\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Int16\",name:\"associatedIconIndex\"},{type:\"Uint8\",name:\"flipState\"}]),cs([{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"rightJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"centerJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"leftJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedTextSymbolIndex\"},{type:\"Int16\",name:\"placedIconSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedIconSymbolIndex\"},{type:\"Uint16\",name:\"key\"},{type:\"Uint16\",name:\"textBoxStartIndex\"},{type:\"Uint16\",name:\"textBoxEndIndex\"},{type:\"Uint16\",name:\"verticalTextBoxStartIndex\"},{type:\"Uint16\",name:\"verticalTextBoxEndIndex\"},{type:\"Uint16\",name:\"iconBoxStartIndex\"},{type:\"Uint16\",name:\"iconBoxEndIndex\"},{type:\"Uint16\",name:\"verticalIconBoxStartIndex\"},{type:\"Uint16\",name:\"verticalIconBoxEndIndex\"},{type:\"Uint16\",name:\"featureIndex\"},{type:\"Uint16\",name:\"numHorizontalGlyphVertices\"},{type:\"Uint16\",name:\"numVerticalGlyphVertices\"},{type:\"Uint16\",name:\"numIconVertices\"},{type:\"Uint16\",name:\"numVerticalIconVertices\"},{type:\"Uint16\",name:\"useRuntimeCollisionCircles\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Float32\",components:2,name:\"textOffset\"},{type:\"Float32\",name:\"collisionCircleDiameter\"},{type:\"Float32\",name:\"zOffset\"},{type:\"Uint8\",name:\"hasIconTextFit\"}]),cs([{type:\"Float32\",name:\"offsetX\"}]),cs([{type:\"Int16\",name:\"x\"},{type:\"Int16\",name:\"y\"}]);var im=24;const am=128;function sm(t,e){const{expression:r}=e;if(\"constant\"===r.kind)return {kind:\"constant\",layoutSize:r.evaluate(new Pa(t+1))};if(\"source\"===r.kind)return {kind:\"source\"};{const{zoomStops:e,interpolationType:n}=r;let i=0;for(;i<e.length&&e[i]<=t;)i++;i=Math.max(0,i-1);let a=i;for(;a<e.length&&e[a]<t+1;)a++;a=Math.min(e.length-1,a);const s=e[i],o=e[a];return \"composite\"===r.kind?{kind:\"composite\",minZoom:s,maxZoom:o,interpolationType:n}:{kind:\"camera\",minZoom:s,maxZoom:o,minSize:r.evaluate(new Pa(s)),maxSize:r.evaluate(new Pa(o)),interpolationType:n}}}function om(t,{uSize:e,uSizeT:r},{lowerSize:n,upperSize:i}){return \"source\"===t.kind?n/am:\"composite\"===t.kind?ue(n/am,i/am,r):e}function lm(t,e){let r=0,n=0;if(\"constant\"===t.kind)n=t.layoutSize;else if(\"source\"!==t.kind){const{interpolationType:i,minZoom:a,maxZoom:s}=t,o=i?I(Yn.interpolationFactor(i,e,a,s),0,1):0;\"camera\"===t.kind?n=ue(t.minSize,t.maxSize,o):r=o;}return {uSizeT:r,uSize:n}}var um=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:am,evaluateSizeForFeature:om,evaluateSizeForZoom:lm,getSizeData:sm});function cm(t,e,r){return t.sections.forEach((t=>{t.text=function(t,e,r){const n=e.layout.get(\"text-transform\").evaluate(r,{});return \"uppercase\"===n?t=t.toLocaleUpperCase():\"lowercase\"===n&&(t=t.toLocaleLowerCase()),ka.applyArabicShaping&&(t=ka.applyArabicShaping(t)),t}(t.text,e,r);})),t}const hm={\"!\":\"ï¸\",\"#\":\"ï¼\",$:\"ï¼\",\"%\":\"ï¼\",\"&\":\"ï¼\",\"(\":\"ï¸µ\",\")\":\"ï¸¶\",\"*\":\"ï¼\",\"+\":\"ï¼\",\",\":\"ï¸\",\"-\":\"ï¸²\",\".\":\"ã»\",\"/\":\"ï¼\",\":\":\"ï¸\",\";\":\"ï¸\",\"<\":\"ï¸¿\",\"=\":\"ï¼\",\">\":\"ï¹\",\"?\":\"ï¸\",\"@\":\"ï¼ \",\"[\":\"ï¹\",\"\\\\\":\"ï¼¼\",\"]\":\"ï¹\",\"^\":\"ï¼¾\",_:\"ï¸³\",\"`\":\"ï½\",\"{\":\"ï¸·\",\"|\":\"â\",\"}\":\"ï¸¸\",\"~\":\"ï½\",\"Â¢\":\"ï¿ \",\"Â£\":\"ï¿¡\",\"Â¥\":\"ï¿¥\",\"Â¦\":\"ï¿¤\",\"Â¬\":\"ï¿¢\",\"Â¯\":\"ï¿£\",\"â\":\"ï¸²\",\"â\":\"ï¸±\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â¦\":\"ï¸\",\"â§\":\"ã»\",\"â©\":\"ï¿¦\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ã\":\"ï¸¿\",\"ã\":\"ï¹\",\"ã\":\"ï¸½\",\"ã\":\"ï¸¾\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¸»\",\"ã\":\"ï¸¼\",\"ã\":\"ï¸¹\",\"ã\":\"ï¸º\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸µ\",\"ï¼\":\"ï¸¶\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸²\",\"ï¼\":\"ã»\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸¿\",\"ï¼\":\"ï¹\",\"ï¼\":\"ï¸\",\"ï¼»\":\"ï¹\",\"ï¼½\":\"ï¹\",\"ï¼¿\":\"ï¸³\",\"ï½\":\"ï¸·\",\"ï½\":\"â\",\"ï½\":\"ï¸¸\",\"ï½\":\"ï¸µ\",\"ï½ \":\"ï¸¶\",\"ï½¡\":\"ï¸\",\"ï½¢\":\"ï¹\",\"ï½£\":\"ï¹\",\"â\":\"â\",\"â\":\"â\"};function pm(t){return \"ï¸¶\"===t||\"ï¹\"===t||\"ï¸¸\"===t||\"ï¹\"===t||\"ï¹\"===t||\"ï¸¾\"===t||\"ï¸¼\"===t||\"ï¸º\"===t||\"ï¸\"===t||\"ï¹\"===t||\"ï¸\"===t||\"ï¸\"===t||\"ï¸\"===t||\"ï½\"===t||\"ï¿£\"===t||\"ï¸\"===t||\"ï¸\"===t}function fm(t){return \"ï¸µ\"===t||\"ï¹\"===t||\"ï¸·\"===t||\"ï¹\"===t||\"ï¹\"===t||\"ï¸½\"===t||\"ï¸»\"===t||\"ï¸¹\"===t||\"ï¸\"===t||\"ï¸¿\"===t}var dm={\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nread:function(t,e,r,n,i){var a,s,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,a=f&(1<<-c)-1,f>>=-c,c+=o;c>0;a=256*a+t[e+h],h+=p,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=p,c-=8);if(0===a)a=1-u;else {if(a===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),a-=u;}return (f?-1:1)*s*Math.pow(2,a-n)},write:function(t,e,r,n,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(e*l-1)*Math.pow(2,i),s+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[r+f]=255&s,f+=d,s/=256,u-=8);t[r+f-d]|=128*m;}},mm=gm,ym=dm;function gm(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length;}gm.Varint=0,gm.Fixed64=1,gm.Bytes=2,gm.Fixed32=5;var xm=4294967296,vm=1/xm,bm=\"undefined\"==typeof TextDecoder?null:new TextDecoder(\"utf8\");function _m(t){return t.type===gm.Bytes?t.readVarint()+t.pos:t.pos+1}function wm(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Mm(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i];}function Am(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r]);}function Sm(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r]);}function Im(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r]);}function km(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r]);}function Pm(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r]);}function Em(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r]);}function zm(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r]);}function Tm(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r]);}function Bm(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r]);}function Cm(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Rm(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24;}function Dm(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}gm.prototype={destroy:function(){this.buf=null;},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,t(i,e,this),this.pos===a&&this.skip(n);}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Cm(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Dm(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Cm(this.buf,this.pos)+Cm(this.buf,this.pos+4)*xm;return this.pos+=8,t},readSFixed64:function(){var t=Cm(this.buf,this.pos)+Dm(this.buf,this.pos+4)*xm;return this.pos+=8,t},readFloat:function(){var t=ym.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=ym.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,a=r.buf;if(n=(112&(i=a[r.pos++]))>>4,i<128)return wm(t,n,e);if(n|=(127&(i=a[r.pos++]))<<3,i<128)return wm(t,n,e);if(n|=(127&(i=a[r.pos++]))<<10,i<128)return wm(t,n,e);if(n|=(127&(i=a[r.pos++]))<<17,i<128)return wm(t,n,e);if(n|=(127&(i=a[r.pos++]))<<24,i<128)return wm(t,n,e);if(n|=(1&(i=a[r.pos++]))<<31,i<128)return wm(t,n,e);throw new Error(\"Expected varint not more than 10 bytes\")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&bm?function(t,e,r){return bm.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){for(var n=\"\",i=e;i<r;){var a,s,o,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(a=t[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(s=t[i+2],128==(192&(a=t[i+1]))&&128==(192&s)&&((u=(15&l)<<12|(63&a)<<6|63&s)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(s=t[i+2],o=t[i+3],128==(192&(a=t[i+1]))&&128==(192&s)&&128==(192&o)&&((u=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c;}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==gm.Bytes)return t.push(this.readVarint(e));var r=_m(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==gm.Bytes)return t.push(this.readSVarint());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==gm.Bytes)return t.push(this.readBoolean());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==gm.Bytes)return t.push(this.readFloat());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==gm.Bytes)return t.push(this.readDouble());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==gm.Bytes)return t.push(this.readFixed32());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==gm.Bytes)return t.push(this.readSFixed32());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==gm.Bytes)return t.push(this.readFixed64());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==gm.Bytes)return t.push(this.readSFixed64());var e=_m(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===gm.Varint)for(;this.buf[this.pos++]>127;);else if(e===gm.Bytes)this.pos=this.readVarint()+this.pos;else if(e===gm.Fixed32)this.pos+=4;else {if(e!==gm.Fixed64)throw new Error(\"Unimplemented type: \"+e);this.pos+=8;}},writeTag:function(t,e){this.writeVarint(t<<3|e);},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Rm(this.buf,t,this.pos),this.pos+=4;},writeSFixed32:function(t){this.realloc(4),Rm(this.buf,t,this.pos),this.pos+=4;},writeFixed64:function(t){this.realloc(8),Rm(this.buf,-1&t,this.pos),Rm(this.buf,Math.floor(t*vm),this.pos+4),this.pos+=8;},writeSFixed64:function(t){this.realloc(8),Rm(this.buf,-1&t,this.pos),Rm(this.buf,Math.floor(t*vm),this.pos+4),this.pos+=8;},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error(\"Given varint doesn't fit into 10 bytes\");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,r.buf[r.pos]=127&(t>>>=7);}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))));}(n,e);}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))));},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t);},writeBoolean:function(t){this.writeVarint(Boolean(t));},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,a=0;a<e.length;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null;}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128);}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&Mm(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(t){this.realloc(4),ym.write(this.buf,t,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(t){this.realloc(8),ym.write(this.buf,t,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r];},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&Mm(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(t,e,r){this.writeTag(t,gm.Bytes),this.writeRawMessage(e,r);},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Am,e);},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Sm,e);},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Pm,e);},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Im,e);},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,km,e);},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Em,e);},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,zm,e);},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Tm,e);},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Bm,e);},writeBytesField:function(t,e){this.writeTag(t,gm.Bytes),this.writeBytes(e);},writeFixed32Field:function(t,e){this.writeTag(t,gm.Fixed32),this.writeFixed32(e);},writeSFixed32Field:function(t,e){this.writeTag(t,gm.Fixed32),this.writeSFixed32(e);},writeFixed64Field:function(t,e){this.writeTag(t,gm.Fixed64),this.writeFixed64(e);},writeSFixed64Field:function(t,e){this.writeTag(t,gm.Fixed64),this.writeSFixed64(e);},writeVarintField:function(t,e){this.writeTag(t,gm.Varint),this.writeVarint(e);},writeSVarintField:function(t,e){this.writeTag(t,gm.Varint),this.writeSVarint(e);},writeStringField:function(t,e){this.writeTag(t,gm.Bytes),this.writeString(e);},writeFloatField:function(t,e){this.writeTag(t,gm.Fixed32),this.writeFloat(e);},writeDoubleField:function(t,e){this.writeTag(t,gm.Fixed64),this.writeDouble(e);},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e));}};var Vm=h(mm);const Lm=3;function Fm(t,e,r){e.glyphs=[],1===t&&r.readMessage(Nm,e);}function Nm(t,e,r){if(3===t){const{id:t,bitmap:n,width:i,height:a,left:s,top:o,advance:l}=r.readMessage(Om,{});e.glyphs.push({id:t,bitmap:new vp({width:i+2*Lm,height:a+2*Lm},n),metrics:{width:i,height:a,left:s,top:o,advance:l}});}else 4===t?e.ascender=r.readSVarint():5===t&&(e.descender=r.readSVarint());}function Om(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint());}const Um=Lm,jm={horizontal:1,vertical:2,horizontalOnly:3};class qm{constructor(){this.scale=1,this.fontStack=\"\",this.imageName=null;}static forText(t,e){const r=new qm;return r.scale=t||1,r.fontStack=e,r}static forImage(t){const e=new qm;return e.imageName=t,e}}class $m{constructor(){this.text=\"\",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(t,e){const r=new $m;for(let n=0;n<t.sections.length;n++){const i=t.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,e);}return r}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCodePoint(t){return this.text.codePointAt(t)}verticalizePunctuation(t){this.text=function(t,e){let r=\"\";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n+1)||null,a=t.charCodeAt(n-1)||null;r+=!e&&(i&&pa(i)&&!hm[t[n+1]]||a&&pa(a)&&!hm[t[n-1]])||!hm[t[n]]?t[n]:hm[t[n]];}return r}(this.text,t);}trim(){let t=0;for(let e=0;e<this.text.length&&Ym[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let r=this.text.length-1;r>=0&&r>=t&&Ym[this.text.charCodeAt(r)];r--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e);}substring(t,e){const r=new $m;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(qm.forText(t.scale,t.fontStack||e));const r=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(r);}addImageSection(t){const e=t.image?t.image.namePrimary:\"\";if(0===e.length)return void j(\"Can't add FormattedSection with an empty image.\");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCodePoint(r),this.sections.push(qm.forImage(e)),this.sectionIndex.push(this.sections.length-1)):j(\"Reached maximum number of images 6401\");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gm(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d){const m=$m.fromFeature(t,i);h===jm.vertical&&m.verticalizePunctuation(p);let y=[];const g=function(t,e,r,n,i,a){if(!t)return [];const s=[],o=function(t,e,r,n,i,a){let s=0;for(let r=0;r<t.length();r++){const o=t.getSection(r);s+=Zm(t.getCodePoint(r),o,n,i,e,a);}return s/Math.max(1,Math.ceil(s/r))}(t,e,r,n,i,a),l=t.text.indexOf(\"â\")>=0;let u=0;for(let r=0;r<t.length();r++){const h=t.getSection(r),p=t.getCodePoint(r);if(Ym[p]||(u+=Zm(p,h,n,i,e,a)),r<t.length()-1){const e=!((c=p)<11904||!(oa[\"Bopomofo Extended\"](c)||oa.Bopomofo(c)||oa[\"CJK Compatibility Forms\"](c)||oa[\"CJK Compatibility Ideographs\"](c)||oa[\"CJK Compatibility\"](c)||oa[\"CJK Radicals Supplement\"](c)||oa[\"CJK Strokes\"](c)||oa[\"CJK Symbols and Punctuation\"](c)||oa[\"CJK Unified Ideographs Extension A\"](c)||oa[\"CJK Unified Ideographs\"](c)||oa[\"Enclosed CJK Letters and Months\"](c)||oa[\"Halfwidth and Fullwidth Forms\"](c)||oa.Hiragana(c)||oa[\"Ideographic Description Characters\"](c)||oa[\"Kangxi Radicals\"](c)||oa[\"Katakana Phonetic Extensions\"](c)||oa.Katakana(c)||oa[\"Vertical Forms\"](c)||oa[\"Yi Radicals\"](c)||oa[\"Yi Syllables\"](c)));(Xm[p]||e||h.imageName)&&s.push(Wm(r+1,u,o,s,Hm(p,t.getCodePoint(r+1),e&&l),!1));}}var c;return Jm(Wm(t.length(),u,o,s,0,!0))}(m,u,a,e,n,f),{processBidirectionalText:x,processStyledBidirectionalText:v}=ka;if(x&&1===m.sections.length){const t=x(m.toString(),g);for(const e of t){const t=new $m;t.text=e,t.sections=m.sections;for(let r=0;r<e.length;r++)t.sectionIndex.push(0);y.push(t);}}else if(v){const t=v(m.text,m.sectionIndex,g);for(const e of t){const t=new $m;t.text=e[0],t.sectionIndex=e[1],t.sections=m.sections,y.push(t);}}else y=function(t,e){const r=[],n=t.text;let i=0;for(const n of e)r.push(t.substring(i,n)),i=n;return i<n.length&&r.push(t.substring(i,n.length)),r}(m,g);const b=[],_={positionedLines:b,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,r,n,i,a,s,o,l,u,c,h){let p=0,f=0,d=0;const m=\"right\"===o?1:\"left\"===o?0:.5;let y=!1;for(const t of i){const r=t.getSections();for(const t of r){if(t.imageName)continue;const r=e[t.fontStack];if(r&&(y=void 0!==r.ascender&&void 0!==r.descender,!y))break}if(!y)break}let g=0;for(const s of i){s.trim();const i=s.getMaxScale(),o=(i-1)*im,v={positionedGlyphs:[],lineOffset:0};t.positionedLines[g]=v;const b=v.positionedGlyphs;let _=0;if(!s.length()){f+=a,++g;continue}let w=0,M=0;for(let a=0;a<s.length();a++){const o=s.getSection(a),d=s.getSectionIndex(a),m=s.getCodePoint(a);let g=o.scale,v=null,A=null,S=null,I=im,k=0;const P=!(l===jm.horizontal||!c&&!ha(m)||c&&(Ym[m]||(x=m,oa.Arabic(x)||oa[\"Arabic Supplement\"](x)||oa[\"Arabic Extended-A\"](x)||oa[\"Arabic Presentation Forms-A\"](x)||oa[\"Arabic Presentation Forms-B\"](x))));if(o.imageName){const e=n[o.imageName];if(!e)continue;S=o.imageName,t.iconsInText=t.iconsInText||!0,A=e.paddedRect;const r=e.displaySize;g=g*im/h,v={width:r[0],height:r[1],left:0,top:-Um,advance:P?r[1]:r[0],localGlyph:!1},k=y?-v.height*g:i*im-17-r[1]*g,I=v.advance;const a=(P?r[0]:r[1])*g-im*i;a>0&&a>_&&(_=a);}else {const t=r[o.fontStack];if(!t)continue;t[m]&&(A=t[m]);const n=e[o.fontStack];if(!n)continue;const a=n.glyphs[m];if(!a)continue;if(v=a.metrics,I=8203!==m?im:0,y){const t=void 0!==n.ascender?Math.abs(n.ascender):0,e=void 0!==n.descender?Math.abs(n.descender):0,r=(t+e)*g;w<r&&(w=r,M=(t-e)/2*g),k=-t*g;}else k=(i-g)*im-17;}P?(t.verticalizable=!0,b.push({glyph:m,imageName:S,x:p,y:f+k,vertical:P,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:A}),p+=I*g+u):(b.push({glyph:m,imageName:S,x:p,y:f+k,vertical:P,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:A}),p+=v.advance*g+u);}0!==b.length&&(d=Math.max(p-u,d),y?ty(b,m,_,M,a*i/2):ty(b,m,_,0,a/2)),p=0;const A=a*i+_;v.lineOffset=Math.max(_,o),f+=A,++g;}var x;const v=f,{horizontalAlign:b,verticalAlign:_}=Qm(s);((function(t,e,r,n,i,a){const s=(e-r)*i,o=-a*n;for(const e of t)for(const t of e.positionedGlyphs)t.x+=s,t.y+=o;}))(t.positionedLines,m,b,_,d,v),t.top+=-_*v,t.bottom=t.top+v,t.left+=-b*d,t.right=t.left+d,t.hasBaseline=y;}(_,e,r,n,y,s,o,l,h,u,p,d),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return !1;return !0}(b)&&_}const Ym={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Xm={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Zm(t,e,r,n,i,a){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*im/a+i:0}{const n=r[e.fontStack],a=n&&n.glyphs[t];return a?a.metrics.advance*e.scale+i:0}}function Km(t,e,r,n){const i=Math.pow(t-e,2);return n?t<e?i/2:2*i:i+Math.abs(r)*r}function Hm(t,e,r){let n=0;return 10===t&&(n-=1e4),r&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function Wm(t,e,r,n,i,a){let s=null,o=Km(e,r,i,a);for(const t of n){const n=Km(e-t.x,r,i,a)+t.badness;n<=o&&(s=t,o=n);}return {index:t,x:e,priorBreak:s,badness:o}}function Jm(t){return t?Jm(t.priorBreak).concat(t.index):[]}function Qm(t){let e=.5,r=.5;switch(t){case\"right\":case\"top-right\":case\"bottom-right\":e=1;break;case\"left\":case\"top-left\":case\"bottom-left\":e=0;}switch(t){case\"bottom\":case\"bottom-right\":case\"bottom-left\":r=1;break;case\"top\":case\"top-right\":case\"top-left\":r=0;}return {horizontalAlign:e,verticalAlign:r}}function ty(t,e,r,n,i){if(!(e||r||n||i))return;const a=t.length-1,s=t[a],o=(s.x+s.metrics.advance*s.scale)*e;for(let e=0;e<=a;e++)t[e].x-=o,t[e].y+=r+n+i;}function ey(t,e,r,n){const{horizontalAlign:i,verticalAlign:a}=Qm(n),s=r[0]-t.displaySize[0]*i,o=r[1]-t.displaySize[1]*a;return {imagePrimary:t,imageSecondary:e,top:o,bottom:o+t.displaySize[1],left:s,right:s+t.displaySize[0]}}function ry(t,e,r,n,i,a){const s=t.imagePrimary;let o;if(s.content){const t=s.content,e=s.pixelRatio||1;o=[t[0]/e,t[1]/e,s.displaySize[0]-t[2]/e,s.displaySize[1]-t[3]/e];}const l=e.left*a,u=e.right*a;let c,h,p,f;\"width\"===r||\"both\"===r?(f=i[0]+l-n[3],h=i[0]+u+n[1]):(f=i[0]+(l+u-s.displaySize[0])/2,h=f+s.displaySize[0]);const d=e.top*a,m=e.bottom*a;return \"height\"===r||\"both\"===r?(c=i[1]+d-n[0],p=i[1]+m+n[2]):(c=i[1]+(d+m-s.displaySize[1])/2,p=c+s.displaySize[1]),{imagePrimary:s,imageSecondary:void 0,top:c,right:h,bottom:p,left:f,collisionPadding:o}}class ny extends g{constructor(t,e,r,n,i){super(t,e),this.angle=n,this.z=r,void 0!==i&&(this.segment=i);}clone(){return new ny(this.x,this.y,this.z,this.angle,this.segment)}}function iy(t,e,r,n,i){if(void 0===e.segment)return !0;let a=e,s=e.segment+1,o=0;for(;o>-r/2;){if(s--,s<0)return !1;o-=t[s].dist(a),a=t[s];}o+=t[s].dist(t[s+1]),s++;const l=[];let u=0;for(;o<r/2;){const e=t[s],r=t[s+1];if(!r)return !1;let a=t[s-1].angleTo(e)-e.angleTo(r);for(a=Math.abs((a+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:a}),u+=a;o-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return !1;s++,o+=e.dist(r);}return !0}function ay(t){let e=0;for(let r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function sy(t,e,r){return t?.6*e*r:0}function oy(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ly(t,e,r,n,i,a){const s=sy(r,i,a),o=oy(r,n)*a;let l=0;const u=ay(t)/2;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1],a=n.dist(i);if(l+a>u){const c=(u-l)/a,h=ue(n.x,i.x,c),p=ue(n.y,i.y,c),f=new ny(h,p,0,i.angleTo(n),r);return !s||iy(t,f,o,s,e)?f:void 0}l+=a;}}function uy(t,e,r,n,i,a,s,o,l){const u=sy(n,a,s),c=oy(n,i),h=c*s,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),cy(t,p?e/2*o%e:(c/2+2*a)*s*o%e,e,u,r,h,p,!1,l)}function cy(t,e,r,n,i,a,s,o,l){const u=a/2,c=ay(t);let h=0,p=e-r,f=[];for(let e=0;e<t.length-1;e++){const s=t[e],o=t[e+1],d=s.dist(o),m=o.angleTo(s);for(;p+r<h+d;){p+=r;const y=(p-h)/d,g=ue(s.x,o.x,y),x=ue(s.y,o.y,y);if(g>=0&&g<l&&x>=0&&x<l&&p-u>=0&&p+u<=c){const r=new ny(g,x,0,m,e);n&&!iy(t,r,a,n,i)||f.push(r);}}h+=d;}return o||f.length||s||(f=cy(t,h/2,r,n,i,a,s,!0,l)),f}function hy(t,e,r,n,i){const a=[];for(let s=0;s<t.length;s++){const o=t[s];let l;for(let t=0;t<o.length-1;t++){let s=o[t],u=o[t+1];s.x<e&&u.x<e||(s.x<e?s=new g(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x<e&&(u=new g(e,s.y+(e-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y<r&&u.y<r||(s.y<r?s=new g(s.x+(r-s.y)/(u.y-s.y)*(u.x-s.x),r)._round():u.y<r&&(u=new g(s.x+(r-s.y)/(u.y-s.y)*(u.x-s.x),r)._round()),s.x>=n&&u.x>=n||(s.x>=n?s=new g(n,s.y+(n-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x>=n&&(u=new g(n,s.y+(n-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y>=i&&u.y>=i||(s.y>=i?s=new g(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round():u.y>=i&&(u=new g(s.x+(i-s.y)/(u.y-s.y)*(u.x-s.x),i)._round()),l&&s.equals(l[l.length-1])||(l=[s],a.push(l)),l.push(u)))));}}return a}function py(t){let e=0,r=0;for(const n of t)e+=n.w*n.h,r=Math.max(r,n.w);t.sort(((t,e)=>e.h-t.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let i=0,a=0;for(const e of t)for(let t=n.length-1;t>=0;t--){const r=n[t];if(!(e.w>r.w||e.h>r.h)){if(e.x=r.x,e.y=r.y,a=Math.max(a,e.y+e.h),i=Math.max(i,e.x+e.w),e.w===r.w&&e.h===r.h){const e=n.pop();t<n.length&&(n[t]=e);}else e.h===r.h?(r.x+=e.w,r.w-=e.w):e.w===r.w?(r.y+=e.h,r.h-=e.h):(n.push({x:r.x+e.w,y:r.y,w:r.w-e.w,h:e.h}),r.y+=e.h,r.h-=e.h);break}}return {w:i,h:a,fill:e/(i*a)||0}}ra(ny,\"Anchor\");const fy=1;class dy{constructor(t,{pixelRatio:e,version:r,stretchX:n,stretchY:i,content:a}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=i,this.content=a,this.version=r;}get tl(){return [this.paddedRect.x+fy,this.paddedRect.y+fy]}get br(){return [this.paddedRect.x+this.paddedRect.w-fy,this.paddedRect.y+this.paddedRect.h-fy]}get displaySize(){return [(this.paddedRect.w-2*fy)/this.pixelRatio,(this.paddedRect.h-2*fy)/this.pixelRatio]}}class my{constructor(t,e){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(t,r,i),this.addImages(e,n,i);const{w:a,h:s}=py(i),o=new bp({width:a||1,height:s||1});for(const e in t){const n=t[e],i=r[e].paddedRect;bp.copy(n.data,o,{x:0,y:0},{x:i.x+fy,y:i.y+fy},n.data,n.sdf);}for(const t in e){const r=e[t],i=n[t].paddedRect,a=i.x+fy,s=i.y+fy,l=r.data.width,u=r.data.height;bp.copy(r.data,o,{x:0,y:0},{x:a,y:s},r.data),bp.copy(r.data,o,{x:0,y:u-1},{x:a,y:s-1},{width:l,height:1}),bp.copy(r.data,o,{x:0,y:0},{x:a,y:s+u},{width:l,height:1}),bp.copy(r.data,o,{x:l-1,y:0},{x:a-1,y:s},{width:1,height:u}),bp.copy(r.data,o,{x:0,y:0},{x:a+l,y:s},{width:1,height:u});}this.image=o,this.iconPositions=r,this.patternPositions=n;}addImages(t,e,r){for(const n in t){const i=t[n],a={x:0,y:0,w:i.data.width+2*fy,h:i.data.height+2*fy};r.push(a),e[n]=new dy(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n);}}patchUpdatedImages(t,e,r){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((e=>t.hasImage(e,r))),t.dispatchRenderCallbacks(this.haveRenderCallbacks,r);for(const n in t.getUpdatedImages(r))this.patchUpdatedImage(this.iconPositions[n],t.getImage(n,r),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n,r),e);}patchUpdatedImage(t,e,r){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,i]=t.tl,a=!!Object.keys(this.patternPositions).length;r.update(e.data,{useMipmap:a},{x:n,y:i});}}ra(dy,\"ImagePosition\"),ra(my,\"ImageAtlas\");const yy=1e20;function gy(t,e,r,n,i,a,s,o,l){for(let u=e;u<e+n;u++)xy(t,r*a+u,a,i,s,o,l);for(let u=r;u<r+i;u++)xy(t,u*a+e,1,n,s,o,l);}function xy(t,e,r,n,i,a,s){a[0]=0,s[0]=-yy,s[1]=yy,i[0]=t[e];for(let o=1,l=0,u=0;o<n;o++){i[o]=t[e+o*r];const n=o*o;do{const t=a[l];u=(i[o]-i[t]+n-t*t)/(o-t)/2;}while(u<=s[l]&&--l>-1);l++,a[l]=o,s[l]=u,s[l+1]=yy;}for(let o=0,l=0;o<n;o++){for(;s[l+1]<o;)l++;const n=a[l],u=o-n;t[e+o*r]=i[n]+u*u;}}const vy=2,by={none:0,ideographs:1,all:2};class _y{constructor(t,e,r){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=r,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}};}setURL(t,e){this.urls[e]=t;}getGlyphs(t,e,r){const i=[],a=this.urls[e]||n.GLYPHS_URL;for(const e in t)for(const r of t[e])i.push({stack:e,id:r});E(i,(({stack:t,id:e},r)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[e];if(void 0!==i)return void r(null,{stack:t,id:e,glyph:i});if(i=this._tinySDF(n,t,e),i)return n.glyphs[e]=i,void r(null,{stack:t,id:e,glyph:i});const s=Math.floor(e/256);if(256*s>65535)return void r(new Error(\"glyphs > 65535 not supported\"));if(n.ranges[s])return void r(null,{stack:t,id:e,glyph:i});let o=n.requests[s];o||(o=n.requests[s]=[],_y.loadGlyphRange(t,s,a,this.requestManager,((t,e)=>{if(e){n.ascender=e.ascender,n.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e.glyphs[+t]);n.ranges[s]=!0;}for(const r of o)r(t,e);delete n.requests[s];}))),o.push(((n,i)=>{n?r(n):i&&r(null,{stack:t,id:e,glyph:i.glyphs[e]||null});}));}),((t,e)=>{if(t)r(t);else if(e){const t={};for(const{stack:r,id:n,glyph:i}of e)void 0===t[r]&&(t[r]={}),void 0===t[r].glyphs&&(t[r].glyphs={}),t[r].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},t[r].ascender=this.entries[r].ascender,t[r].descender=this.entries[r].descender;r(null,t);}}));}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==by.none&&(this.localGlyphMode===by.all?!!this.localFontFamily:!!this.localFontFamily&&(oa[\"CJK Unified Ideographs\"](t)||oa[\"Hangul Syllables\"](t)||oa.Hiragana(t)||oa.Katakana(t)||oa[\"CJK Symbols and Punctuation\"](t)||oa[\"CJK Unified Ideographs Extension A\"](t)||oa[\"CJK Unified Ideographs Extension B\"](t)))}_tinySDF(t,e,r){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(r))return;let i=t.tinySDF;if(!i){let r=\"400\";/bold/i.test(e)?r=\"900\":/medium/i.test(e)?r=\"500\":/light/i.test(e)&&(r=\"200\"),i=t.tinySDF=new _y.TinySDF({fontFamily:n,fontWeight:r,fontSize:24*vy,buffer:3*vy,radius:8*vy}),i.fontWeight=r;}if(this.localGlyphs[i.fontWeight][r])return this.localGlyphs[i.fontWeight][r];const a=String.fromCodePoint(r),{data:s,width:o,height:l,glyphWidth:u,glyphHeight:c,glyphLeft:h,glyphTop:p,glyphAdvance:f}=i.draw(a);return this.localGlyphs[i.fontWeight][r]={id:r,bitmap:new vp({width:o,height:l},s),metrics:{width:u/vy,height:c/vy,left:h/vy,top:p/vy-27,advance:f/vy,localGlyph:!0}}}}_y.loadGlyphRange=function(t,e,r,n,i){const a=256*e,s=a+255,o=n.transformRequest(n.normalizeGlyphsURL(r).replace(\"{fontstack}\",t).replace(\"{range}\",`${a}-${s}`),At.Glyphs);Pt(o,((t,e)=>{if(t)i(t);else if(e){const t={},r=function(t){return new Vm(t).readFields(Fm,{})}(e);for(const e of r.glyphs)t[e.id]=e;i(null,{glyphs:t,ascender:r.ascender,descender:r.descender});}}));},_y.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:r=8,cutoff:n=.25,fontFamily:i=\"sans-serif\",fontWeight:a=\"normal\",fontStyle:s=\"normal\"}={}){this.buffer=e,this.cutoff=n,this.radius=r;const o=this.size=t+4*e,l=this._createCanvas(o),u=this.ctx=l.getContext(\"2d\",{willReadFrequently:!0});u.font=`${s} ${a} ${t}px ${i}`,u.textBaseline=\"alphabetic\",u.textAlign=\"left\",u.fillStyle=\"black\",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Uint16Array(o);}_createCanvas(t){const e=document.createElement(\"canvas\");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:a}=this.ctx.measureText(t),s=Math.ceil(r),o=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(a-i))),l=Math.min(this.size-this.buffer,s+Math.ceil(n)),u=o+2*this.buffer,c=l+2*this.buffer,h=Math.max(u*c,0),p=new Uint8ClampedArray(h),f={data:p,width:u,height:c,glyphWidth:o,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:e};if(0===o||0===l)return f;const{ctx:d,buffer:m,gridInner:y,gridOuter:g}=this;d.clearRect(m,m,o,l),d.fillText(t,m,m+s);const x=d.getImageData(m,m,o,l);g.fill(yy,0,h),y.fill(0,0,h);for(let t=0;t<l;t++)for(let e=0;e<o;e++){const r=x.data[4*(t*o+e)+3]/255;if(0===r)continue;const n=(t+m)*u+e+m;if(1===r)g[n]=0,y[n]=yy;else {const t=.5-r;g[n]=t>0?t*t:0,y[n]=t<0?t*t:0;}}gy(g,0,0,u,c,u,this.f,this.v,this.z),gy(y,m,m,o,l,u,this.f,this.v,this.z);for(let t=0;t<h;t++){const e=Math.sqrt(g[t])-Math.sqrt(y[t]);p[t]=Math.round(255-255*(e/this.radius+this.cutoff));}return f}};const wy=fy;function My(t,e,r,n){const i=[],a=t.imagePrimary,s=a.pixelRatio,o=a.paddedRect.w-2*wy,l=a.paddedRect.h-2*wy,u=t.right-t.left,c=t.bottom-t.top,h=a.stretchX||[[0,o]],p=a.stretchY||[[0,l]],f=(t,e)=>t+e[1]-e[0],d=h.reduce(f,0),m=p.reduce(f,0),y=o-d,x=l-m;let v=0,b=d,_=0,w=m,M=0,A=y,S=0,I=x;if(a.content&&n){const t=a.content;v=Ay(h,0,t[0]),_=Ay(p,0,t[1]),b=Ay(h,t[0],t[2]),w=Ay(p,t[1],t[3]),M=t[0]-v,S=t[1]-_,A=t[2]-t[0]-b,I=t[3]-t[1]-w;}const k=(n,i,o,l)=>{const h=Iy(n.stretch-v,b,u,t.left),p=ky(n.fixed-M,A,n.stretch,d),f=Iy(i.stretch-_,w,c,t.top),y=ky(i.fixed-S,I,i.stretch,m),x=Iy(o.stretch-v,b,u,t.left),k=ky(o.fixed-M,A,o.stretch,d),P=Iy(l.stretch-_,w,c,t.top),E=ky(l.fixed-S,I,l.stretch,m),z=new g(h,f),T=new g(x,f),B=new g(x,P),C=new g(h,P),R=new g(p/s,y/s),D=new g(k/s,E/s),V=e*Math.PI/180;if(V){const t=Math.sin(V),e=Math.cos(V),r=[e,-t,t,e];z._matMult(r),T._matMult(r),C._matMult(r),B._matMult(r);}const L=n.stretch+n.fixed,F=o.stretch+o.fixed,N=i.stretch+i.fixed,O=l.stretch+l.fixed,U=t.imageSecondary;return {tl:z,tr:T,bl:C,br:B,texPrimary:{x:a.paddedRect.x+wy+L,y:a.paddedRect.y+wy+N,w:F-L,h:O-N},texSecondary:U?{x:U.paddedRect.x+wy+L,y:U.paddedRect.y+wy+N,w:F-L,h:O-N}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:D,minFontScaleX:A/s/u,minFontScaleY:I/s/c,isSDF:r}};if(n&&(a.stretchX||a.stretchY)){const t=Sy(h,y,d),e=Sy(p,x,m);for(let r=0;r<t.length-1;r++){const n=t[r],a=t[r+1];for(let t=0;t<e.length-1;t++)i.push(k(n,e[t],a,e[t+1]));}}else i.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:o+1},{fixed:0,stretch:l+1}));return i}function Ay(t,e,r){let n=0;for(const i of t)n+=Math.max(e,Math.min(r,i[1]))-Math.max(e,Math.min(r,i[0]));return n}function Sy(t,e,r){const n=[{fixed:-wy,stretch:0}];for(const[e,r]of t){const t=n[n.length-1];n.push({fixed:e-t.stretch,stretch:t.stretch}),n.push({fixed:e-t.stretch,stretch:t.stretch+(r-e)});}return n.push({fixed:e+wy,stretch:r}),n}function Iy(t,e,r,n){return t/e*r+n}function ky(t,e,r,n){return t-e*r/n}function Py(t,e,r,n){const i=e+t.positionedLines[n].lineOffset;return 0===n?r+i/2:r+(i+(e+t.positionedLines[n-1].lineOffset))/2}function Ey(t,e=1,r=!1){let n=1/0,i=1/0,a=-1/0,s=-1/0;const o=t[0];for(let t=0;t<o.length;t++){const e=o[t];(!t||e.x<n)&&(n=e.x),(!t||e.y<i)&&(i=e.y),(!t||e.x>a)&&(a=e.x),(!t||e.y>s)&&(s=e.y);}const l=Math.min(a-n,s-i);let u=l/2;const c=new zr([],zy);if(0===l)return new g(n,i);for(let e=n;e<a;e+=l)for(let r=i;r<s;r+=l)c.push(new Ty(e+u,r+u,u,t));let h=function(t){let e=0,r=0,n=0;const i=t[0];for(let t=0,a=i.length,s=a-1;t<a;s=t++){const a=i[t],o=i[s],l=a.x*o.y-o.x*a.y;r+=(a.x+o.x)*l,n+=(a.y+o.y)*l,e+=3*l;}return new Ty(r/e,n/e,0,t)}(t),p=c.length;for(;c.length;){const n=c.pop();(n.d>h.d||!h.d)&&(h=n,r&&console.log(\"found best %d after %d probes\",Math.round(1e4*n.d)/1e4,p)),n.max-h.d<=e||(u=n.h/2,c.push(new Ty(n.p.x-u,n.p.y-u,u,t)),c.push(new Ty(n.p.x+u,n.p.y-u,u,t)),c.push(new Ty(n.p.x-u,n.p.y+u,u,t)),c.push(new Ty(n.p.x+u,n.p.y+u,u,t)),p+=4);}return r&&(console.log(`num probes: ${p}`),console.log(`best distance: ${h.d}`)),h.p}function zy(t,e){return e.max-t.max}class Ty{constructor(t,e,r,n){this.p=new g(t,e),this.h=r,this.d=function(t,e){let r=!1,n=1/0;for(let i=0;i<e.length;i++){const a=e[i];for(let e=0,i=a.length,s=i-1;e<i;s=e++){const i=a[e],o=a[s];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(r=!r),n=Math.min(n,ql(t,i,o));}}return (r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2;}}const By=Number.POSITIVE_INFINITY,Cy=Math.sqrt(2);function Ry(t,[e,r]){let n=0,i=0;if(r===By){e<0&&(e=0);const r=e/Cy;switch(t){case\"top-right\":case\"top-left\":i=r-7;break;case\"bottom-right\":case\"bottom-left\":i=7-r;break;case\"bottom\":i=7-e;break;case\"top\":i=e-7;}switch(t){case\"top-right\":case\"bottom-right\":n=-r;break;case\"top-left\":case\"bottom-left\":n=r;break;case\"left\":n=e;break;case\"right\":n=-e;}}else {switch(e=Math.abs(e),r=Math.abs(r),t){case\"top-right\":case\"top-left\":case\"top\":i=r-7;break;case\"bottom-right\":case\"bottom-left\":case\"bottom\":i=7-r;}switch(t){case\"top-right\":case\"bottom-right\":case\"right\":n=-e;break;case\"top-left\":case\"bottom-left\":case\"left\":n=e;}}return [n,i]}function Dy(t){switch(t){case\"right\":case\"top-right\":case\"bottom-right\":return \"right\";case\"left\":case\"top-left\":case\"bottom-left\":return \"left\"}return \"center\"}function Vy(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d){let m=a.textMaxSize.evaluate(e,{},h);void 0===m&&(m=s);const y=t.layers[0].layout,g=y.get(\"icon-offset\").evaluate(e,{},h),x=Oy(r.horizontal)||r.vertical,v=\"globe\"===p.name,_=im,w=s/_,M=t.tilePixelRatio*m/_,A=(B=t.overscaling,t.zoom>18&&B>2&&(B>>=1),Math.max(Tr/(512*B),1)*y.get(\"symbol-spacing\")),S=y.get(\"text-padding\")*t.tilePixelRatio,I=y.get(\"icon-padding\")*t.tilePixelRatio,k=b(y.get(\"text-max-angle\")),P=\"map\"===y.get(\"text-rotation-alignment\")&&\"point\"!==y.get(\"symbol-placement\"),E=\"map\"===y.get(\"icon-rotation-alignment\")&&\"point\"!==y.get(\"symbol-placement\"),z=y.get(\"symbol-placement\"),T=A/2;var B;const C=y.get(\"icon-text-fit\").evaluate(e,{},h),R=y.get(\"icon-text-fit-padding\").evaluate(e,{},h),D=\"none\"!==C;let V;!1===t.hasAnyIconTextFit&&D&&(t.hasAnyIconTextFit=!0),n&&D&&(t.allowVerticalPlacement&&r.vertical&&(V=ry(n,r.vertical,C,R,g,w)),x&&(n=ry(n,x,C,R,g,w)));const L=(s,o,m)=>{if(o.x<0||o.x>=Tr||o.y<0||o.y>=Tr)return;let y=null;if(v){const{x:t,y:e,z:r}=p.projectTilePoint(o.x,o.y,m);y={anchor:new ny(t,e,r,0,void 0),up:p.upVector(m,o.x,o.y)};}!function(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,g,x,v,b,_,w,M,A,S,I){const k=t.addToLineVertexArray(e,n);let P,E,z,T,B,C,R,D=0,V=0,L=0,F=0,N=-1,O=-1;const U={};let q=ho(\"\");const $=r?r.anchor:e,G=\"none\"!==l.layout.get(\"icon-text-fit\").evaluate(b,{},A);let Y=0,X=0;if(void 0===l._unevaluatedLayout.getValue(\"text-radial-offset\")?[Y,X]=l.layout.get(\"text-offset\").evaluate(b,{},A).map((t=>t*im)):(Y=l.layout.get(\"text-radial-offset\").evaluate(b,{},A)*im,X=By),t.allowVerticalPlacement&&i.vertical){const t=i.vertical;if(d)C=jy(t),o&&(R=jy(o));else {const r=l.layout.get(\"text-rotate\").evaluate(b,{},A)+90;z=Uy(u,$,e,c,h,p,t,f,r,m),o&&(T=Uy(u,$,e,c,h,p,o,g,r));}}if(a){const n=l.layout.get(\"icon-rotate\").evaluate(b,{},A),i=My(a,n,w,G),s=o?My(o,n,w,G):void 0;E=Uy(u,$,e,c,h,p,a,g,n),D=4*i.length;const f=t.iconSizeData;let d=null;\"source\"===f.kind?(d=[am*l.layout.get(\"icon-size\").evaluate(b,{},A)],d[0]>Fy&&j(`${t.layerIds[0]}: Value for \"icon-size\" is >= ${Ly}. Reduce your \"icon-size\".`)):\"composite\"===f.kind&&(d=[am*_.compositeIconSizes[0].evaluate(b,{},A),am*_.compositeIconSizes[1].evaluate(b,{},A)],(d[0]>Fy||d[1]>Fy)&&j(`${t.layerIds[0]}: Value for \"icon-size\" is >= ${Ly}. Reduce your \"icon-size\".`)),t.addSymbols(t.icon,i,d,v,x,b,!1,r,e,k.lineStartIndex,k.lineLength,-1,M,A,S,I),N=t.icon.placedSymbolArray.length-1,s&&(V=4*s.length,t.addSymbols(t.icon,s,d,v,x,b,jm.vertical,r,e,k.lineStartIndex,k.lineLength,-1,M,A,S,I),O=t.icon.placedSymbolArray.length-1);}for(const n in i.horizontal){const a=i.horizontal[n];P||(q=ho(a.text),d?B=jy(a):P=Uy(u,$,e,c,h,p,a,f,l.layout.get(\"text-rotate\").evaluate(b,{},A),m));const o=1===a.positionedLines.length;if(L+=Ny(t,r,e,a,s,l,d,b,m,k,i.vertical?jm.horizontal:jm.horizontalOnly,o?Object.keys(i.horizontal):[n],U,N,_,M,A,S),o)break}i.vertical&&(F+=Ny(t,r,e,i.vertical,s,l,d,b,m,k,jm.vertical,[\"vertical\"],U,O,_,M,A,S));let Z=-1;const K=(t,e)=>t?Math.max(t,e):e;Z=K(B,Z),Z=K(C,Z),Z=K(R,Z);const H=Z>-1?1:0;t.glyphOffsetArray.length>=65535&&j(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,$.x,$.y,$.z,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,N,O,q,void 0!==P?P:t.collisionBoxArray.length,void 0!==P?P+1:t.collisionBoxArray.length,void 0!==z?z:t.collisionBoxArray.length,void 0!==z?z+1:t.collisionBoxArray.length,void 0!==E?E:t.collisionBoxArray.length,void 0!==E?E+1:t.collisionBoxArray.length,T||t.collisionBoxArray.length,T?T+1:t.collisionBoxArray.length,c,L,F,D,V,H,0,Y,X,Z,0,G?1:0);}(t,o,y,s,r,n,i,V,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,S,P,l,0,I,E,g,e,a,u,c,h,f,d);};if(\"line\"===z)for(const i of hy(e.geometry,0,0,Tr,Tr)){const e=uy(i,A,k,r.vertical||x,n,_,M,t.overscaling,Tr);for(const r of e)x&&qy(t,x.text,T,r)||L(i,r,h);}else if(\"line-center\"===z){for(const t of e.geometry)if(t.length>1){const e=ly(t,k,r.vertical||x,n,_,M);e&&L(t,e,h);}}else if(\"Polygon\"===e.type)for(const t of nf(e.geometry,0)){const e=Ey(t,16);L(t[0],new ny(e.x,e.y,0,0,void 0),h);}else if(\"LineString\"===e.type)for(const t of e.geometry)L(t,new ny(t[0].x,t[0].y,0,0,void 0),h);else if(\"Point\"===e.type)for(const t of e.geometry)for(const e of t)L([e],new ny(e.x,e.y,0,0,void 0),h);}const Ly=255,Fy=Ly*am;function Ny(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m,y,x){const v=function(t,e,r,n,i,a,s,o){const l=[];if(0===e.positionedLines.length)return l;const u=n.layout.get(\"text-rotate\").evaluate(a,{})*Math.PI/180,c=function(t){const e=t[0],r=t[1],n=e*r;return n>0?[e,-r]:n<0?[-e,r]:0===e?[r,e]:[r,-e]}(r);let h=Math.abs(e.top-e.bottom);for(const t of e.positionedLines)h-=t.lineOffset;const p=e.positionedLines.length,f=h/p;let d=e.top-r[1];for(let t=0;t<p;++t){const n=e.positionedLines[t];d=Py(e,f,d,t);for(const t of n.positionedGlyphs){if(!t.rect)continue;const n=t.rect||{};let a=Um+1,h=!0,p=1,f=0;if(t.imageName){const e=s[t.imageName];if(!e)continue;if(e.sdf){j(\"SDF images are not supported in formatted text and will be ignored.\");continue}h=!1,p=e.pixelRatio,a=fy/p;}const m=(i||o)&&t.vertical,y=t.metrics.advance*t.scale/2,x=t.metrics,v=t.rect;if(null===v)continue;o&&e.verticalizable&&(f=t.imageName?y-t.metrics.width*t.scale/2:0);const b=i?[t.x+y,t.y]:[0,0];let _=[0,0],w=[0,0],M=!1;i||(m?(w=[t.x+y+c[0],t.y+c[1]-f],M=!0):_=[t.x+y+r[0],t.y+r[1]-f]);const A=v.w*t.scale/(p*(t.localGlyph?vy:1)),S=v.h*t.scale/(p*(t.localGlyph?vy:1));let I,k,P,E;if(m){const e=t.y-d,r=new g(-y,y-e),n=-Math.PI/2,i=new g(...w);I=new g(-y+_[0],_[1]),I._rotateAround(n,r)._add(i),I.x+=-e+y,I.y-=(x.left-a)*t.scale;const s=t.imageName?x.advance*t.scale:im*t.scale,o=String.fromCodePoint(t.glyph);pm(o)?I.x+=(1-a)*t.scale:fm(o)?I.x+=s-x.height*t.scale+(-a-1)*t.scale:I.x+=t.imageName||x.width+2*a===v.w&&x.height+2*a===v.h?(s-S)/2:(s-(x.height+2*a)*t.scale)/2,k=new g(I.x,I.y-A),P=new g(I.x+S,I.y),E=new g(I.x+S,I.y-A);}else {const e=(x.left-a)*t.scale-y+_[0],r=(-x.top-a)*t.scale+_[1],n=e+A,i=r+S;I=new g(e,r),k=new g(n,r),P=new g(e,i),E=new g(n,i);}if(u){let t;t=i?new g(0,0):M?new g(c[0],c[1]):new g(r[0],r[1]),I._rotateAround(u,t),k._rotateAround(u,t),P._rotateAround(u,t),E._rotateAround(u,t);}const z=new g(0,0),T=new g(0,0);l.push({tl:I,tr:k,bl:P,br:E,texPrimary:n,texSecondary:void 0,writingMode:e.writingMode,glyphOffset:b,sectionIndex:t.sectionIndex,isSDF:h,pixelOffsetTL:z,pixelOffsetBR:T,minFontScaleX:0,minFontScaleY:0});}}return l}(0,n,l,a,s,o,i,t.allowVerticalPlacement),b=t.textSizeData;let _=null;\"source\"===b.kind?(_=[am*a.layout.get(\"text-size\").evaluate(o,{},y)],_[0]>Fy&&j(`${t.layerIds[0]}: Value for \"text-size\" is >= ${Ly}. Reduce your \"text-size\".`)):\"composite\"===b.kind&&(_=[am*d.compositeTextSizes[0].evaluate(o,{},y),am*d.compositeTextSizes[1].evaluate(o,{},y)],(_[0]>Fy||_[1]>Fy)&&j(`${t.layerIds[0]}: Value for \"text-size\" is >= ${Ly}. Reduce your \"text-size\".`)),t.addSymbols(t.text,v,_,l,s,o,c,e,r,u.lineStartIndex,u.lineLength,f,m,y,x,!1);for(const e of h)p[e]=t.text.placedSymbolArray.length-1;return 4*v.length}function Oy(t){for(const e in t)return t[e];return null}function Uy(t,e,r,n,i,a,s,o,l,u){let c=s.top,h=s.bottom,p=s.left,f=s.right;const d=s.collisionPadding;if(d&&(p-=d[0],c-=d[1],f+=d[2],h+=d[3]),l){const t=new g(p,c),e=new g(f,c),r=new g(p,h),n=new g(f,h),i=b(l);let a=new g(0,0);u&&(a=new g(u[0],u[1])),t._rotateAround(i,a),e._rotateAround(i,a),r._rotateAround(i,a),n._rotateAround(i,a),p=Math.min(t.x,e.x,r.x,n.x),f=Math.max(t.x,e.x,r.x,n.x),c=Math.min(t.y,e.y,r.y,n.y),h=Math.max(t.y,e.y,r.y,n.y);}return t.emplaceBack(e.x,e.y,e.z,r.x,r.y,p,c,f,h,o,n,i,a),t.length-1}function jy(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function qy(t,e,r,n){const i=t.compareText;if(e in i){const t=i[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<r)return !0}else i[e]=[];return i[e].push(n),!1}function $y(t,e){const r=t.fovAboveCenter,n=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,i=(t._camera.position[2]*t.worldSize-n)/Math.cos(t._pitch),a=Math.sin(r)*i/Math.sin(Math.max(Math.PI/2-t._pitch-r,.01)),s=Math.sin(t._pitch)*a+i;return Math.min(1.01*s,i*(1/t._horizonShift))}function Gy(t,e){if(!e.isReprojectedInTileSpace)return {scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const r=Math.pow(2,-t.z),n=t.x*r,i=(t.x+1)*r,a=t.y*r,s=(t.y+1)*r,o=ml(n),l=ml(i),u=yl(a),c=yl(s),h=e.project(o,u),p=e.project(l,u),f=e.project(l,c),d=e.project(o,c);let m=Math.min(h.x,p.x,f.x,d.x),y=Math.min(h.y,p.y,f.y,d.y),g=Math.max(h.x,p.x,f.x,d.x),x=Math.max(h.y,p.y,f.y,d.y);const v=r/16;function b(t,r,n,i,a,s){const o=(n+a)/2,l=(i+s)/2,u=e.project(ml(o),yl(l)),c=Math.max(0,m-u.x,y-u.y,u.x-g,u.y-x);m=Math.min(m,u.x),g=Math.max(g,u.x),y=Math.min(y,u.y),x=Math.max(x,u.y),c>v&&(b(t,u,n,i,o,l),b(u,r,o,l,a,s));}b(h,p,n,a,i,a),b(p,f,i,a,i,s),b(f,d,i,s,n,s),b(d,h,n,s,n,a),m-=v,y-=v,g+=v,x+=v;const _=1/Math.max(g-m,x-y);return {scale:_,x:m*_,y:y*_,x2:g*_,y2:x*_,projection:e}}function Yy(t,{x:e,y:r},n=0){return new g(((e-n)*t.scale-t.x)*Tr,(r*t.scale-t.y)*Tr)}const Xy=t.a6.identity(new Float32Array(16));class Zy{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit=\"meters\",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=[\"custom\"],this.center=[0,0],this.range=[3.5,7];}project(t,e){return {x:0,y:0,z:0}}unproject(t,e){return new tl(0,0)}projectTilePoint(t,e,r){return {x:t,y:e,z:0}}locationPoint(t,e,r=!0){return t._coordinatePoint(t.locationCoordinate(e),r)}pixelsPerMeter(t,e){return dl(1,t)*e}pixelSpaceConversion(t,e,r){return 1}farthestPixelDistance(t){return $y(t,t.pixelsPerMeter)}pointCoordinate(t,e,r,n){const i=t.horizonLineFromTop(!1),a=new g(e,Math.max(i,r));return t.rayIntersectionCoordinate(t.pointRayIntersection(a,n))}pointCoordinate3D(t,e,r){const n=new g(e,r);if(t.elevation)return t.elevation.pointCoordinate(n);{const e=this.pointCoordinate(t,n.x,n.y,0);return [e.x,e.y,e.z]}}isPointAboveHorizon(t,e){if(t.elevation)return !this.pointCoordinate3D(t,e.x,e.y);const r=t.horizonLineFromTop();return e.y<r}createInversionMatrix(t,e){return Xy}createTileMatrix(e,r,n){let i,a,s;const o=n.canonical,l=t.a6.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const u=Gy(o,this);i=1,a=u.x+n.wrap*u.scale,s=u.y,t.a6.scale(l,l,[i/u.scale,i/u.scale,e.pixelsPerMeter/r]);}else i=r/e.zoomScale(o.z),a=(o.x+Math.pow(2,o.z)*n.wrap)*i,s=o.y*i;return t.a6.translate(l,l,[a,s,0]),t.a6.scale(l,l,[i/Tr,i/Tr,1]),l}upVector(t,e,r){return [0,0,1]}upVectorScale(t,e,r){return {metersToTile:1}}}class Ky extends Zy{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[e,r]=this.parallels=t.parallels||[29.5,45.5],n=Math.sin(b(e));this.n=(n+Math.sin(b(r)))/2,this.c=1+n*(2*this.n-n),this.r0=Math.sqrt(this.c)/this.n;}project(t,e){const{n:r,c:n,r0:i}=this,a=b(t-this.center[0]),s=b(e),o=Math.sqrt(n-2*r*Math.sin(s))/r;return {x:o*Math.sin(a*r),y:o*Math.cos(a*r)-i,z:0}}unproject(t,e){const{n:r,c:n,r0:i}=this,a=i+e;let s=Math.atan2(t,Math.abs(a))*Math.sign(a);a*r<0&&(s-=Math.PI*Math.sign(t)*Math.sign(a));const o=b(this.center[0])*r;s=P(s,-Math.PI-o,Math.PI-o);const l=I(_(s/r)+this.center[0],-180,180),u=Math.asin(I((n-(t*t+a*a)*r*r)/(2*r),-1,1)),c=I(_(u),-xl,xl);return new tl(l,c)}}const Hy=1.340264,Wy=-.081106,Jy=893e-6,Qy=.003796,tg=Math.sqrt(3)/2;class eg extends Zy{project(t,e){e=e/180*Math.PI,t=t/180*Math.PI;const r=Math.asin(tg*Math.sin(e)),n=r*r,i=n*n*n;return {x:.5*(t*Math.cos(r)/(tg*(Hy+3*Wy*n+i*(7*Jy+9*Qy*n)))/Math.PI+.5),y:1-.5*(r*(Hy+Wy*n+i*(Jy+Qy*n))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=r*r,i=n*n*n;for(let t,a,s,o=0;o<12&&(a=r*(Hy+Wy*n+i*(Jy+Qy*n))-e,s=Hy+3*Wy*n+i*(7*Jy+9*Qy*n),t=a/s,r=I(r-t,-Math.PI/3,Math.PI/3),n=r*r,i=n*n*n,!(Math.abs(t)<1e-12));++o);const a=tg*t*(Hy+3*Wy*n+i*(7*Jy+9*Qy*n))/Math.cos(r),s=Math.asin(Math.sin(r)/tg),o=I(180*a/Math.PI,-180,180),l=I(180*s/Math.PI,-xl,xl);return new tl(o,l)}}class rg extends Zy{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){return {x:.5+t/360,y:.5-e/360,z:0}}unproject(t,e){const r=360*(t-.5),n=I(360*(.5-e),-xl,xl);return new tl(r,n)}}const ng=Math.PI/2;function ig(t){return Math.tan((ng+t)/2)}class ag extends Zy{constructor(t){super(t),this.center=t.center||[0,30];const[e,r]=this.parallels=t.parallels||[30,30];let n=b(e),i=b(r);this.southernCenter=n+i<0,this.southernCenter&&(n=-n,i=-i);const a=Math.cos(n),s=ig(n);this.n=n===i?Math.sin(n):Math.log(a/Math.cos(i))/Math.log(ig(i)/s),this.f=a*Math.pow(ig(n),this.n)/this.n;}project(t,e){e=b(e),this.southernCenter&&(e=-e),t=b(t-this.center[0]);const r=1e-6,{n:n,f:i}=this;i>0?e<-ng+r&&(e=-ng+r):e>ng-r&&(e=ng-r);const a=i/Math.pow(ig(e),n);let s=a*Math.sin(n*t),o=i-a*Math.cos(n*t);return s=.5*(s/Math.PI+.5),o=.5*(o/Math.PI+.5),{x:s,y:this.southernCenter?o:1-o,z:0}}unproject(t,e){t=(2*t-.5)*Math.PI,this.southernCenter&&(e=1-e),e=(2*(1-e)-.5)*Math.PI;const{n:r,f:n}=this,i=n-e,a=Math.sign(i),s=Math.sign(r)*Math.sqrt(t*t+i*i);let o=Math.atan2(t,Math.abs(i))*a;i*r<0&&(o-=Math.PI*Math.sign(t)*a);const l=I(_(o/r)+this.center[0],-180,180),u=I(_(2*Math.atan(Math.pow(n/s,1/r))-ng),-xl,xl);return new tl(l,this.southernCenter?-u:u)}}class sg extends Zy{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null;}project(t,e){return {x:pl(t),y:fl(e),z:0}}unproject(t,e){const r=ml(t),n=yl(e);return new tl(r,n)}}const og=b(xl);class lg extends Zy{project(t,e){const r=(e=b(e))*e,n=r*r;return {x:.5*((t=b(t))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(e*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=25,i=0,a=r*r;do{a=r*r;const t=a*a;i=(r*(1.007226+a*(.015085+t*(.028874*a-.044475-.005916*t)))-e)/(1.007226+a*(.045255+t*(.259866*a-.311325-.005916*11*t))),r=I(r-i,-og,og);}while(Math.abs(i)>1e-6&&--n>0);a=r*r;const s=I(_(t/(.8707+a*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979))),-180,180),o=_(r);return new tl(s,o)}}const ug=b(xl);class cg extends Zy{project(t,e){e=b(e),t=b(t);const r=Math.cos(e),n=2/Math.PI,i=Math.acos(r*Math.cos(t/2)),a=Math.sin(i)/i,s=.5*(t*n+2*r*Math.sin(t/2)/a)||0,o=.5*(e+Math.sin(e)/a)||0;return {x:.5*(s/Math.PI+.5),y:1-.5*(o/Math.PI+1),z:0}}unproject(t,e){let r=t=(2*t-.5)*Math.PI,n=e=(2*(1-e)-1)*Math.PI,i=25;const a=1e-6;let s=0,o=0;do{const i=Math.cos(n),a=Math.sin(n),l=2*a*i,u=a*a,c=i*i,h=Math.cos(r/2),p=Math.sin(r/2),f=2*h*p,d=p*p,m=1-c*h*h,y=m?1/m:0,g=m?Math.acos(i*h)*Math.sqrt(1/m):0,x=.5*(2*g*i*p+2*r/Math.PI)-t,v=.5*(g*a+n)-e,b=.5*y*(c*d+g*i*h*u)+1/Math.PI,_=y*(f*l/4-g*a*p),w=.125*y*(l*p-g*a*c*f),M=.5*y*(u*h+g*d*i)+.5,A=_*w-M*b;s=(v*_-x*M)/A,o=(x*w-v*b)/A,r=I(r-s,-Math.PI,Math.PI),n=I(n-o,-ug,ug);}while((Math.abs(s)>a||Math.abs(o)>a)&&--i>0);return new tl(_(r),_(n))}}class hg extends Zy{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(b(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){const{scale:r,cosPhi:n}=this;return {x:b(t)*n*r+.5,y:-Math.sin(b(e))/n*r+.5,z:0}}unproject(t,e){const{scale:r,cosPhi:n}=this,i=-(e-.5)/r,a=I(_((t-.5)/r)/n,-180,180),s=Math.asin(I(i*n,-1,1)),o=I(_(s),-xl,xl);return new tl(a,o)}}class pg extends sg{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit=\"pixels\",this.unsupportedLayers=[\"debug\"],this.range=[3,5];}projectTilePoint(e,r,n){const i=Zh(e,r,n),a=Wh(jh(n));return t.N.transformMat4(i,i,a),{x:i[0],y:i[1],z:i[2]}}locationPoint(e,r){const n=Wo(r.lat,r.lng),i=t.N.normalize([],n),a=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(r),e._centerAltitude):e._centerAltitude,s=dl(1,0)*Tr*a;t.N.scaleAndAdd(n,n,i,s);const o=t.a6.identity(new Float64Array(16));return t.a6.multiply(o,e.pixelMatrix,e.globeMatrix),t.N.transformMat4(n,n,o),new g(n[0],n[1])}pixelsPerMeter(t,e){return dl(1,0)*e}pixelSpaceConversion(t,e,r){const n=dl(1,t)*e,i=ue(dl(1,45)*e,n,r);return this.pixelsPerMeter(t,e)/i}createTileMatrix(e,r,n){const i=Jh(jh(n.canonical));return t.a6.multiply(new Float64Array(16),e.globeMatrix,i)}createInversionMatrix(e,r){const{center:n}=e,i=Wh(jh(r));return t.a6.rotateY(i,i,b(n.lng)),t.a6.rotateX(i,i,b(n.lat)),t.a6.scale(i,i,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(i)}pointCoordinate(t,e,r,n){return Nh(t,e,r,!0)||new Ml(0,0)}pointCoordinate3D(t,e,r){const n=this.pointCoordinate(t,e,r,0);return [n.x,n.y,n.z]}isPointAboveHorizon(t,e){return !Nh(t,e.x,e.y,!1)}farthestPixelDistance(e){const r=function(e,r){const n=e.cameraToCenterDistance,i=e._centerAltitude*r,a=e._camera,s=e._camera.forward(),o=t.N.add([],t.N.scale([],s,-n),[0,0,i]),l=e.worldSize/(2*Math.PI),u=[0,0,-l],c=e.width/e.height,h=Math.tan(e.fovAboveCenter),p=t.N.scale([],a.up(),h),f=t.N.scale([],a.right(),h*c),d=t.N.normalize([],t.N.add([],t.N.add([],s,p),f)),m=[];let y;if(new Sh(o,d).closestPointOnSphere(u,l,m)){const r=t.N.add([],m,u),n=t.N.sub([],r,o);y=Math.cos(e.fovAboveCenter)*t.N.length(n);}else {const e=t.N.sub([],o,u),r=t.N.sub([],u,o);t.N.normalize(r,r);const n=t.N.length(e)-l;y=Math.sqrt(n*(n+2*l));const i=Math.acos(y/(l+n))-Math.acos(t.N.dot(s,r));y*=Math.cos(i);}return 1.01*y}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=rp(e.zoom);if(n>0){const t=$y(e,dl(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),a=Math.max(e.width,e.height)/e.worldSize*Math.PI;return ue(r,t+i*(1-Math.cos(a)),Math.pow(n,10))}return r}upVector(t,e,r){return Zh(e,r,t,1)}upVectorScale(t){return {metersToTile:Lh(Kh(jh(t)))}}}function fg(t){const e=t.parallels,r=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case\"mercator\":return new sg(t);case\"equirectangular\":return new rg(t);case\"naturalEarth\":return new lg(t);case\"equalEarth\":return new eg(t);case\"winkelTripel\":return new cg(t);case\"albers\":return r?new hg(t):new Ky(t);case\"lambertConformalConic\":return r?new hg(t):new ag(t);case\"globe\":return new pg(t)}throw new Error(`Invalid projection name: ${t.name}`)}const dg=zf.types,mg=[{name:\"a_fade_opacity\",components:1,type:\"Uint8\",offset:0}];function yg(t,e,r,n,i,a,s,o,l,u,c,h,p){const f=o?Math.min(Fy,Math.round(o[0])):0,d=o?Math.min(Fy,Math.round(o[1])):0;t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),a,s,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p);}function gg(t,e,r){t.emplaceBack(e,r);}function xg(t,e,r,n,i,a,s){t.emplaceBack(e,r,n,i,a,s);}function vg(t,e,r,n,i){t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i);}function bg(t){for(const e of t.sections)if(ma(e.text))return !0;return !1}class _g{constructor(t){this.layoutVertexArray=new _s,this.indexArray=new Es,this.programConfigurations=t,this.segments=new eo,this.dynamicLayoutVertexArray=new gs,this.opacityVertexArray=new Ms,this.placedSymbolArray=new Gs,this.iconTransitioningVertexArray=new As,this.globeExtVertexArray=new ws,this.zOffsetVertexArray=new Bs;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length&&0===this.iconTransitioningVertexArray.length}upload(t,e,r,n,i){this.isEmpty()||(r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Kd.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Wd.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,mg,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=t.createVertexBuffer(this.iconTransitioningVertexArray,Qd.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,Hd.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||i)&&(this.zOffsetVertexBuffer=t.createVertexBuffer(this.zOffsetVertexArray,Jd.members,!0)),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy());}}ra(_g,\"SymbolBuffers\");class wg{constructor(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new eo,this.collisionVertexArray=new Ps,this.collisionVertexArrayExt=new gs;}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,tm.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,em.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy());}}ra(wg,\"CollisionBuffers\");class Mg{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=t.a6.identity([]),this.placementViewportMatrix=t.a6.identity([]);const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=sm(this.zoom,r[\"text-size\"]),this.iconSizeData=sm(this.zoom,r[\"icon-size\"]);const n=this.layers[0].layout,i=n.get(\"symbol-sort-key\"),a=n.get(\"symbol-z-order\");this.canOverlap=n.get(\"text-allow-overlap\")||n.get(\"icon-allow-overlap\")||n.get(\"text-ignore-placement\")||n.get(\"icon-ignore-placement\"),this.sortFeaturesByKey=\"viewport-y\"!==a&&void 0!==i.constantOr(1),this.sortFeaturesByY=(\"viewport-y\"===a||\"auto\"===a&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get(\"text-writing-mode\").map((t=>jm[t])),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=e.sourceID,this.projection=e.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=n.get(\"symbol-z-elevate\");}createArrays(){this.text=new _g(new Vo(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new _g(new Vo(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Zs,this.lineVertexArray=new Ks,this.symbolInstances=new Xs;}calculateGlyphDependencies(t,e,r,n,i){for(let r=0;r<t.length;r++){const a=t.codePointAt(r);if(void 0===a)break;if(e[a]=!0,n&&i&&a<=65535){const n=hm[t.charAt(r)];n&&(e[n.charCodeAt(0)]=!0);}}}populate(e,r,n,i){const a=this.layers[0],s=a.layout,o=\"globe\"===this.projection.name,l=s.get(\"text-font\"),u=s.get(\"text-field\"),c=s.get(\"icon-image\"),h=(\"constant\"!==u.value.kind||u.value.value instanceof De&&!u.value.value.isEmpty()||u.value.value.toString().length>0)&&(\"constant\"!==l.value.kind||l.value.value.length>0),p=\"constant\"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,f=s.get(\"symbol-sort-key\");if(this.features=[],!h&&!p)return;const d=r.iconDependencies,m=r.glyphDependencies,y=r.availableImages,g=new Pa(this.zoom);for(const{feature:r,id:u,index:c,sourceLayerIndex:x}of e){const e=a._featureFilter.needGeometry,v=Bl(r,e);if(!a._featureFilter.filter(g,v,n))continue;if(e||(v.geometry=Tl(r,n,i)),o&&1!==r.type&&n.z<=5){const e=v.geometry,r=.98078528056,i=(e,i)=>{const a=Zh(e.x,e.y,n,1),s=Zh(i.x,i.y,n,1);return t.N.dot(a,s)<r};for(let t=0;t<e.length;t++)e[t]=kl(e[t],i);}let b,_;if(h){const t=a.getValueAndResolveTokens(\"text-field\",v,n,y),e=De.factory(t);bg(e)&&(this.hasRTLText=!0),(!this.hasRTLText||\"unavailable\"===Sa()||this.hasRTLText&&ka.isParsed())&&(b=cm(e,a,v));}if(p){const t=a.getValueAndResolveTokens(\"icon-image\",v,n,y);_=t instanceof Ve?t:Ve.fromString(t);}if(!b&&!_)continue;const w=this.sortFeaturesByKey?f.evaluate(v,{},n):void 0;if(this.features.push({id:u,text:b,icon:_,index:c,sourceLayerIndex:x,geometry:v.geometry,properties:r.properties,type:dg[r.type],sortKey:w}),_&&(d[_.namePrimary]=!0,_.nameSecondary&&(d[_.nameSecondary]=!0)),b){const t=l.evaluate(v,{},n).join(\",\"),e=\"map\"===s.get(\"text-rotation-alignment\")&&\"point\"!==s.get(\"symbol-placement\");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(jm.vertical)>=0;for(const r of b.sections)if(r.image)d[r.image.namePrimary]=!0;else {const n=la(b.toString()),i=r.fontStack||t,a=m[i]=m[i]||{};this.calculateGlyphDependencies(r.text,a,e,this.allowVerticalPlacement,n);}}}\"line\"===s.get(\"symbol-placement\")&&(this.features=function(t){const e={},r={},n=[];let i=0;function a(e){n.push(t[e]),i++;}function s(t,e,i){const a=r[t];return delete r[t],r[e]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function o(t,r,i){const a=e[r];return delete e[r],e[t]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function l(t,e,r){const n=r?e[0][e[0].length-1]:e[0][0];return `${t}:${n.x}:${n.y}`}for(let u=0;u<t.length;u++){const c=t[u],h=c.geometry,p=c.text?c.text.toString():null;if(!p){a(u);continue}const f=l(p,h),d=l(p,h,!0);if(f in r&&d in e&&r[f]!==e[d]){const t=o(f,d,h),i=s(f,d,n[t].geometry);delete e[f],delete r[d],r[l(p,n[i].geometry,!0)]=i,n[t].geometry=null;}else f in r?s(f,d,h):d in e?o(f,d,h):(a(u),e[f]=i-1,r[d]=i-1);}return n.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey));}update(t,e,r,n,i){const a=0!==Object.keys(t).length;if(a&&!this.stateDependentLayers.length)return;const s=a?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(t,e,s,r,n,i),this.icon.programConfigurations.updatePaintArrays(t,e,s,r,n,i);}updateZOffset(){const t=(t,e,n)=>{r+=e,r>t.length&&t.resize(r);for(let i=-e;i<0;i++)t.emplace(i+r,n);},e=(t,e,r)=>{n+=e,n>t.length&&t.resize(n);for(let i=-e;i<0;i++)t.emplace(i+n,r);};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let r=0,n=0;for(let r=0;r<this.symbolInstances.length;r++){const n=this.symbolInstances.get(r),{numHorizontalGlyphVertices:i,numVerticalGlyphVertices:a,numIconVertices:s}=n,o=n.zOffset,l=s>0;if((i>0||a>0)&&(t(this.text.zOffsetVertexArray,i,o),t(this.text.zOffsetVertexArray,a,o)),l){const{placedIconSymbolIndex:t,verticalPlacedIconSymbolIndex:r}=n;t>=0&&e(this.icon.zOffsetVertexArray,s,o),r>=0&&e(this.icon.zOffsetVertexArray,n.numVerticalIconVertices,o);}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray);}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}getProjection(){return this.projectionInstance||(this.projectionInstance=fg(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(t,e){const r=this.lineVertexArray.length;if(void 0!==t.segment)for(const{x:t,y:r}of e)this.lineVertexArray.emplaceBack(t,r);return {lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,e,r,n,i,a,s,o,l,u,c,h,p,f,d,m){const y=t.indexArray,g=t.layoutVertexArray,x=t.globeExtVertexArray,v=t.segments.prepareSegment(4*e.length,g,y,this.canOverlap?a.sortKey:void 0),b=this.glyphOffsetArray.length,_=v.vertexLength,w=this.allowVerticalPlacement&&s===jm.vertical?Math.PI/2:0,M=a.text&&a.text.sections;for(let n=0;n<e.length;n++){const{tl:i,tr:s,bl:u,br:c,texPrimary:h,texSecondary:b,pixelOffsetTL:_,pixelOffsetBR:A,minFontScaleX:S,minFontScaleY:I,glyphOffset:k,isSDF:P,sectionIndex:E}=e[n],z=v.vertexLength,T=k[1];if(yg(g,l.x,l.y,i.x,T+i.y,h.x,h.y,r,P,_.x,_.y,S,I),yg(g,l.x,l.y,s.x,T+s.y,h.x+h.w,h.y,r,P,A.x,_.y,S,I),yg(g,l.x,l.y,u.x,T+u.y,h.x,h.y+h.h,r,P,_.x,A.y,S,I),yg(g,l.x,l.y,c.x,T+c.y,h.x+h.w,h.y+h.h,r,P,A.x,A.y,S,I),o){const{x:e,y:r,z:n}=o.anchor,[i,a,s]=o.up;xg(x,e,r,n,i,a,s),xg(x,e,r,n,i,a,s),xg(x,e,r,n,i,a,s),xg(x,e,r,n,i,a,s),vg(t.dynamicLayoutVertexArray,e,r,n,w);}else vg(t.dynamicLayoutVertexArray,l.x,l.y,l.z,w);if(m){const e=b||h;gg(t.iconTransitioningVertexArray,e.x,e.y),gg(t.iconTransitioningVertexArray,e.x+e.w,e.y),gg(t.iconTransitioningVertexArray,e.x,e.y+e.h),gg(t.iconTransitioningVertexArray,e.x+e.w,e.y+e.h);}y.emplaceBack(z,z+1,z+2),y.emplaceBack(z+1,z+2,z+3),v.vertexLength+=4,v.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(k[0]),n!==e.length-1&&E===e[n+1].sectionIndex||t.programConfigurations.populatePaintArrays(g.length,a,a.index,{},p,f,d,M&&M[E]);}const A=o?o.anchor:l;t.placedSymbolArray.emplaceBack(A.x,A.y,A.z,l.x,l.y,b,this.glyphOffsetArray.length-b,_,u,c,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],s,0,!1,0,h,0);}_commitLayoutVertex(t,e,r,n,i,a,s){t.emplaceBack(e,r,n,i,a,Math.round(s.x),Math.round(s.y));}_addCollisionDebugVertices(t,e,r,n,i,a,s){const o=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=o.vertexLength,u=s.tileAnchorX,c=s.tileAnchorY;for(let t=0;t<4;t++)r.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(r.collisionVertexArrayExt,e,t.padding,s.zOffset),this._commitLayoutVertex(r.layoutVertexArray,n,i,a,u,c,new g(t.x1,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,a,u,c,new g(t.x2,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,a,u,c,new g(t.x2,t.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,i,a,u,c,new g(t.x1,t.y2)),o.vertexLength+=4;const h=r.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),o.primitiveLength+=4;}_addTextDebugCollisionBoxes(t,e,r,n,i,a){for(let s=n;s<i;s++){const n=r.get(s),i=this.getSymbolInstanceTextSize(t,a,e,s);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,a);}}_addIconDebugCollisionBoxes(t,e,r,n,i,a){for(let s=n;s<i;s++){const n=r.get(s),i=this.getSymbolInstanceIconSize(t,e,a.placedIconSymbolIndex);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,a);}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wg(Is,rm.members,As),this.iconCollisionBox=new wg(Is,rm.members,As);const r=lm(this.iconSizeData,t),n=lm(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const a=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,t,e,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(n,t,e,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(r,t,e,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(r,t,e,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a);}}getSymbolInstanceTextSize(t,e,r,n){const i=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:n),a=om(this.textSizeData,t,i)/im;return this.tilePixelRatio*a}getSymbolInstanceIconSize(t,e,r){const n=this.icon.placedSymbolArray.get(r),i=om(this.iconSizeData,t,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(t,e,r,n){t.emplaceBack(e,-r,-r,n),t.emplaceBack(e,r,-r,n),t.emplaceBack(e,r,r,n),t.emplaceBack(e,-r,r,n);}_updateTextDebugCollisionBoxes(t,e,r,n,i,a){for(let s=n;s<i;s++){const n=r.get(s),i=this.getSymbolInstanceTextSize(t,a,e,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding,a.zOffset);}}_updateIconDebugCollisionBoxes(t,e,r,n,i,a){for(let s=n;s<i;s++){const n=r.get(s),i=this.getSymbolInstanceIconSize(t,e,a.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding,a.zOffset);}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const r=lm(this.iconSizeData,t),n=lm(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const a=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,t,e,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(n,t,e,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(r,t,e,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._updateIconDebugCollisionBoxes(r,t,e,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a);}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt);}_deserializeCollisionBoxesForSymbol(t,e,r,n,i,a,s,o,l){const u={};if(e<r){const{x1:r,y1:n,x2:i,y2:a,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p,featureIndex:f}=t.get(e);u.textBox={x1:r,y1:n,x2:i,y2:a,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p},u.textFeatureIndex=f;}if(n<i){const{x1:e,y1:r,x2:i,y2:a,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p,featureIndex:f}=t.get(n);u.verticalTextBox={x1:e,y1:r,x2:i,y2:a,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p},u.verticalTextFeatureIndex=f;}if(a<s){const{x1:e,y1:r,x2:n,y2:i,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p,featureIndex:f}=t.get(a);u.iconBox={x1:e,y1:r,x2:n,y2:i,padding:s,projectedAnchorX:o,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p},u.iconFeatureIndex=f;}if(o<l){const{x1:e,y1:r,x2:n,y2:i,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p,featureIndex:f}=t.get(o);u.verticalIconBox={x1:e,y1:r,x2:n,y2:i,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:c,tileAnchorX:h,tileAnchorY:p},u.verticalIconFeatureIndex=f;}return u}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(t,e){const r=t.placedSymbolArray.get(e),n=r.vertexStartIndex+4*r.numGlyphs;for(let e=r.vertexStartIndex;e<n;e+=4)t.indexArray.emplaceBack(e,e+1,e+2),t.indexArray.emplaceBack(e+1,e+2,e+3);}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),r=Math.cos(t),n=[],i=[],a=[];for(let t=0;t<this.symbolInstances.length;++t){a.push(t);const s=this.symbolInstances.get(t);n.push(0|Math.round(e*s.tileAnchorX+r*s.tileAnchorY)),i.push(s.featureIndex);}return a.sort(((t,e)=>n[t]-n[e]||i[e]-i[t])),a}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let t=0;t<this.symbolInstances.length;++t)this.symbolInstanceIndexesSortedZOffset.push(t);}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort(((t,e)=>this.symbolInstances.get(e).zOffset-this.symbolInstances.get(t).zOffset))}addToSortKeyRanges(t,e){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===e?r.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1});}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex);const{rightJustifiedTextSymbolIndex:r,centerJustifiedTextSymbolIndex:n,leftJustifiedTextSymbolIndex:i,verticalPlacedTextSymbolIndex:a,placedIconSymbolIndex:s,verticalPlacedIconSymbolIndex:o}=e;r>=0&&this.addIndicesForPlacedSymbol(this.text,r),n>=0&&n!==r&&this.addIndicesForPlacedSymbol(this.text,n),i>=0&&i!==n&&i!==r&&this.addIndicesForPlacedSymbol(this.text,i),a>=0&&this.addIndicesForPlacedSymbol(this.text,a),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s),o>=0&&this.addIndicesForPlacedSymbol(this.icon,o);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}ra(Mg,\"SymbolBucket\",{omit:[\"layers\",\"collisionBoxArray\",\"features\",\"compareText\"]}),Mg.addDynamicAttributes=vg;const Ag=new Oa({\"symbol-placement\":new La(qa.layout_symbol[\"symbol-placement\"]),\"symbol-spacing\":new La(qa.layout_symbol[\"symbol-spacing\"]),\"symbol-avoid-edges\":new La(qa.layout_symbol[\"symbol-avoid-edges\"]),\"symbol-sort-key\":new Fa(qa.layout_symbol[\"symbol-sort-key\"]),\"symbol-z-order\":new La(qa.layout_symbol[\"symbol-z-order\"]),\"symbol-z-elevate\":new La(qa.layout_symbol[\"symbol-z-elevate\"]),\"icon-allow-overlap\":new La(qa.layout_symbol[\"icon-allow-overlap\"]),\"icon-ignore-placement\":new La(qa.layout_symbol[\"icon-ignore-placement\"]),\"icon-optional\":new La(qa.layout_symbol[\"icon-optional\"]),\"icon-rotation-alignment\":new La(qa.layout_symbol[\"icon-rotation-alignment\"]),\"icon-size\":new Fa(qa.layout_symbol[\"icon-size\"]),\"icon-text-fit\":new Fa(qa.layout_symbol[\"icon-text-fit\"]),\"icon-text-fit-padding\":new Fa(qa.layout_symbol[\"icon-text-fit-padding\"]),\"icon-image\":new Fa(qa.layout_symbol[\"icon-image\"]),\"icon-rotate\":new Fa(qa.layout_symbol[\"icon-rotate\"]),\"icon-padding\":new La(qa.layout_symbol[\"icon-padding\"]),\"icon-keep-upright\":new La(qa.layout_symbol[\"icon-keep-upright\"]),\"icon-offset\":new Fa(qa.layout_symbol[\"icon-offset\"]),\"icon-anchor\":new Fa(qa.layout_symbol[\"icon-anchor\"]),\"icon-pitch-alignment\":new La(qa.layout_symbol[\"icon-pitch-alignment\"]),\"text-pitch-alignment\":new La(qa.layout_symbol[\"text-pitch-alignment\"]),\"text-rotation-alignment\":new La(qa.layout_symbol[\"text-rotation-alignment\"]),\"text-field\":new Fa(qa.layout_symbol[\"text-field\"]),\"text-font\":new Fa(qa.layout_symbol[\"text-font\"]),\"text-size\":new Fa(qa.layout_symbol[\"text-size\"]),\"text-max-width\":new Fa(qa.layout_symbol[\"text-max-width\"]),\"text-line-height\":new Fa(qa.layout_symbol[\"text-line-height\"]),\"text-letter-spacing\":new Fa(qa.layout_symbol[\"text-letter-spacing\"]),\"text-justify\":new Fa(qa.layout_symbol[\"text-justify\"]),\"text-radial-offset\":new Fa(qa.layout_symbol[\"text-radial-offset\"]),\"text-variable-anchor\":new La(qa.layout_symbol[\"text-variable-anchor\"]),\"text-anchor\":new Fa(qa.layout_symbol[\"text-anchor\"]),\"text-max-angle\":new La(qa.layout_symbol[\"text-max-angle\"]),\"text-writing-mode\":new La(qa.layout_symbol[\"text-writing-mode\"]),\"text-rotate\":new Fa(qa.layout_symbol[\"text-rotate\"]),\"text-padding\":new La(qa.layout_symbol[\"text-padding\"]),\"text-keep-upright\":new La(qa.layout_symbol[\"text-keep-upright\"]),\"text-transform\":new Fa(qa.layout_symbol[\"text-transform\"]),\"text-offset\":new Fa(qa.layout_symbol[\"text-offset\"]),\"text-allow-overlap\":new La(qa.layout_symbol[\"text-allow-overlap\"]),\"text-ignore-placement\":new La(qa.layout_symbol[\"text-ignore-placement\"]),\"text-optional\":new La(qa.layout_symbol[\"text-optional\"]),visibility:new La(qa.layout_symbol.visibility)});var Sg={paint:new Oa({\"icon-opacity\":new Fa(qa.paint_symbol[\"icon-opacity\"]),\"icon-emissive-strength\":new Fa(qa.paint_symbol[\"icon-emissive-strength\"]),\"text-emissive-strength\":new Fa(qa.paint_symbol[\"text-emissive-strength\"]),\"icon-color\":new Fa(qa.paint_symbol[\"icon-color\"]),\"icon-halo-color\":new Fa(qa.paint_symbol[\"icon-halo-color\"]),\"icon-halo-width\":new Fa(qa.paint_symbol[\"icon-halo-width\"]),\"icon-halo-blur\":new Fa(qa.paint_symbol[\"icon-halo-blur\"]),\"icon-translate\":new La(qa.paint_symbol[\"icon-translate\"]),\"icon-translate-anchor\":new La(qa.paint_symbol[\"icon-translate-anchor\"]),\"icon-image-cross-fade\":new Fa(qa.paint_symbol[\"icon-image-cross-fade\"]),\"text-opacity\":new Fa(qa.paint_symbol[\"text-opacity\"]),\"text-color\":new Fa(qa.paint_symbol[\"text-color\"],{runtimeType:_e,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),\"text-halo-color\":new Fa(qa.paint_symbol[\"text-halo-color\"]),\"text-halo-width\":new Fa(qa.paint_symbol[\"text-halo-width\"]),\"text-halo-blur\":new Fa(qa.paint_symbol[\"text-halo-blur\"]),\"text-translate\":new La(qa.paint_symbol[\"text-translate\"]),\"text-translate-anchor\":new La(qa.paint_symbol[\"text-translate-anchor\"]),\"icon-color-saturation\":new La(qa.paint_symbol[\"icon-color-saturation\"])}),layout:Ag};class Ig{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:ge,this.defaultValue=t;}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}ra(Ig,\"FormatSectionOverride\",{omit:[\"defaultValue\"]});class kg extends ss{constructor(t,e,r){super(t,Sg,e,r);}recalculate(t,e){super.recalculate(t,e),\"auto\"===this.layout.get(\"icon-rotation-alignment\")&&(this.layout._values[\"icon-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-rotation-alignment\")&&(this.layout._values[\"text-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-pitch-alignment\")&&(this.layout._values[\"text-pitch-alignment\"]=this.layout.get(\"text-rotation-alignment\")),\"auto\"===this.layout.get(\"icon-pitch-alignment\")&&(this.layout._values[\"icon-pitch-alignment\"]=this.layout.get(\"icon-rotation-alignment\"));const r=this.layout.get(\"text-writing-mode\");if(r){const t=[];for(const e of r)t.indexOf(e)<0&&t.push(e);this.layout._values[\"text-writing-mode\"]=t;}else this.layout._values[\"text-writing-mode\"]=\"point\"===this.layout.get(\"symbol-placement\")?[\"horizontal\"]:[\"horizontal\",\"vertical\"];this._setPaintOverrides();}getValueAndResolveTokens(t,e,r,n){const i=this.layout.get(t).evaluate(e,{},r,n),a=this._unevaluatedLayout._values[t];return a.isDataDriven()||$i(a.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,((e,r)=>r in t?String(t[r]):\"\"))}(e.properties,i)}createBucket(t){return new Mg(t)}queryRadius(){return 0}queryIntersectsFeature(){return !1}_setPaintOverrides(){for(const t of Sg.paint.overridableProperties){if(!kg.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),r=new Ig(e),n=new qi(r,e.property.specification,this.scope,this.options);let i=null;i=\"constant\"===e.value.kind||\"source\"===e.value.kind?new Yi(\"source\",n):new Xi(\"composite\",n,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new Da(e.property,i,e.parameters);}}_handleOverridablePaintPropertyUpdate(t,e,r){return !(!this.layout||e.isDataDriven()||r.isDataDriven())&&kg.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const r=t.get(\"text-field\"),n=Sg.paint.properties[e];let i=!1;const a=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(i=!0)};if(\"constant\"===r.value.kind&&r.value.value instanceof De)a(r.value.value.sections);else if(\"source\"===r.value.kind){const t=e=>{i||(e instanceof je&&Ne(e.value)===Se?a(e.value.sections):e instanceof Xe?a(e.sections):e.eachChild(t));},e=r.value;e._styleExpression&&t(e._styleExpression.expression);}return i}getProgramIds(){const t=0!==this.paint.get(\"icon-opacity\").constantOr(1),e=0!==this.paint.get(\"text-opacity\").constantOr(1),r=[];return t&&r.push(\"symbolIcon\"),e&&r.push(\"symbolSDF\"),r}getDefaultProgramParams(t,e){return {config:new Do(this,e),overrideFog:!1}}}const Pg=new Oa({visibility:new La(qa.layout_background.visibility)});var Eg={paint:new Oa({\"background-color\":new La(qa.paint_background[\"background-color\"]),\"background-pattern\":new La(qa.paint_background[\"background-pattern\"]),\"background-opacity\":new La(qa.paint_background[\"background-opacity\"]),\"background-emissive-strength\":new La(qa.paint_background[\"background-emissive-strength\"])}),layout:Pg};const zg=new Oa({visibility:new La(qa.layout_raster.visibility)});var Tg={paint:new Oa({\"raster-opacity\":new La(qa.paint_raster[\"raster-opacity\"]),\"raster-color\":new Na(qa.paint_raster[\"raster-color\"]),\"raster-color-mix\":new La(qa.paint_raster[\"raster-color-mix\"]),\"raster-color-range\":new La(qa.paint_raster[\"raster-color-range\"]),\"raster-hue-rotate\":new La(qa.paint_raster[\"raster-hue-rotate\"]),\"raster-brightness-min\":new La(qa.paint_raster[\"raster-brightness-min\"]),\"raster-brightness-max\":new La(qa.paint_raster[\"raster-brightness-max\"]),\"raster-saturation\":new La(qa.paint_raster[\"raster-saturation\"]),\"raster-contrast\":new La(qa.paint_raster[\"raster-contrast\"]),\"raster-resampling\":new La(qa.paint_raster[\"raster-resampling\"]),\"raster-fade-duration\":new La(qa.paint_raster[\"raster-fade-duration\"]),\"raster-emissive-strength\":new La(qa.paint_raster[\"raster-emissive-strength\"]),\"raster-array-band\":new La(qa.paint_raster[\"raster-array-band\"]),\"raster-elevation\":new La(qa.paint_raster[\"raster-elevation\"])}),layout:zg},Bg=cs([{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]);class Cg{constructor(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n);}update(t,e,r){const{width:n,height:i}=t,{context:a}=this,{gl:s}=a;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),r||this.size&&this.size[0]===n&&this.size[1]===i){const{x:e,y:a}=r||{x:0,y:0};if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||ImageBitmap&&t instanceof ImageBitmap)s.texSubImage2D(s.TEXTURE_2D,0,e,a,s.RGBA,s.UNSIGNED_BYTE,t);else {let r=this.format,o=s.UNSIGNED_BYTE;this.format===s.R32F&&(r=s.RED,o=s.FLOAT),s.texSubImage2D(s.TEXTURE_2D,0,e,a,n,i,r,o,t.data);}}else if(this.size=[n,i],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||ImageBitmap&&t instanceof ImageBitmap){let e=this.format;this.format===s.R8&&(e=s.RED),s.texImage2D(s.TEXTURE_2D,0,this.format,e,s.UNSIGNED_BYTE,t);}else {let e=this.format,r=this.format,a=s.UNSIGNED_BYTE;this.format===s.DEPTH_COMPONENT&&(e=s.DEPTH_COMPONENT16,a=s.UNSIGNED_SHORT),this.format===s.R8&&(r=s.RED),this.format===s.R32F&&(a=s.FLOAT,r=s.RED),s.texImage2D(s.TEXTURE_2D,0,e,n,i,0,r,a,t.data);}this.useMipmap=Boolean(e&&e.useMipmap),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D);}bind(t,e,r=!1){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),t!==this.minFilter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap&&!r?t===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_LINEAR:t),this.minFilter=t),e!==this.wrapS&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrapS=e);}bindExtraParam(t,e,r,n){const{context:i}=this,{gl:a}=i;a.bindTexture(a.TEXTURE_2D,this.texture),e!==this.magFilter&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,e),this.magFilter=e),t!==this.minFilter&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this.useMipmap?t===a.NEAREST?a.NEAREST_MIPMAP_NEAREST:a.LINEAR_MIPMAP_LINEAR:t),this.minFilter=t),r!==this.wrapS&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,r),this.wrapS=r),n!==this.wrapT&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,n),this.wrapT=n);}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null;}}class Rg{constructor(t,e){this.context=t,this.texture=e;}bind(t,e){const{context:r}=this,{gl:n}=r;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.minFilter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),this.minFilter=t),e!==this.wrapS&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrapS=e);}}function Dg(e,r,n,i,a,s,o,l){const u=[e,r,1,n,i,1,a,s,1],c=[o,l,1],h=t.co.adjoint([],u),[p,f,d]=t.N.transformMat3(c,c,h);return t.co.multiply(u,u,[p,0,0,0,f,0,0,0,d])}function Vg(e,r,n,i,a,s,o,l){const u=function(e,r,n,i,a,s,o,l){const u=Dg(0,0,1,0,1,1,0,1),c=Dg(e,r,n,i,a,s,o,l),h=t.co.adjoint([],u);return t.co.multiply(c,c,h)}(e,r,n,i,a,s,o,l);return [u[2]/u[8]/Tr,u[5]/u[8]/Tr]}function Lg(t){return [t[0],Math.min(Math.max(t[1],-xl),xl)]}class Fg extends ee{constructor(t,e,r,n){super(),this.id=t,this.dispatcher=r,this.coordinates=e.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(n),this.options=e,this._dirty=!1;}load(t,e){if(this._loaded=e||!1,this.fire(new Qt(\"dataloading\",{dataType:\"source\"})),this.url=this.options.url,!this.url)return t&&(this.coordinates=t),this._loaded=!0,void this._finishLoading();this._imageRequest=Ct(this.map._requestManager.transformRequest(this.url,At.Image),((e,r)=>{this._imageRequest=null,this._loaded=!0,e?this.fire(new te(e)):r&&(this.image=r instanceof HTMLImageElement?st.getImageData(r):r,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading());}));}loaded(){return this._loaded}updateImage(t){return t.url?(this._imageRequest&&t.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=t.url,this.load(t.coordinates,this._loaded),this):this}setTexture(t){if(!(t.handle instanceof WebGLTexture))throw new Error(\"The provided handle is not a WebGLTexture instance\");return this.texture=new Rg(this.map.painter.context,t.handle),this.width=t.dimensions[0],this.height=t.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Qt(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})));}onAdd(t){this.map=t,this.load();}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof Rg||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy());}setCoordinates(t){if(this.coordinates=t,this._boundsArray=void 0,this._unsupportedCoords=!1,!t.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let e=t[0][1],r=t[0][1];for(const n of t)n[1]>r&&(r=n[1]),n[1]<e&&(e=n[1]);const n=(r+e)/2;if(n>xl?this.onNorthPole=!0:n<-xl&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const e=t.map(Ml.fromLngLat);this.tileID=function(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(const a of t)e=Math.min(e,a.x),r=Math.min(r,a.y),n=Math.max(n,a.x),i=Math.max(i,a.y);const a=Math.max(n-e,i-r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),o=Math.pow(2,s);let l=Math.floor((e+n)/2*o);return l>1&&(l-=1),new il(s,l,Math.floor((r+i)/2*o))}(e),this.minzoom=this.maxzoom=this.tileID.z;}return this.fire(new Qt(\"data\",{dataType:\"source\",sourceDataType:\"content\"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1;}_prepareData(e){for(const t in this.tiles){const e=this.tiles[t];\"loaded\"!==e.state&&(e.state=\"loaded\",e.texture=this.texture);}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const r=Gy(new il(0,0,0),this.map.transform.projection),n=[r.projection.project(this.coordinates[0][0],this.coordinates[0][1]),r.projection.project(this.coordinates[1][0],this.coordinates[1][1]),r.projection.project(this.coordinates[2][0],this.coordinates[2][1]),r.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(t){const e=t[1].x-t[0].x,r=t[1].y-t[0].y,n=t[2].x-t[1].x,i=t[2].y-t[1].y,a=t[3].x-t[2].x,s=t[3].y-t[2].y,o=t[0].x-t[3].x,l=t[0].y-t[3].y,u=e*i-n*r,c=n*s-a*i,h=a*l-o*s,p=o*r-e*l;return u>0&&c>0&&h>0&&p>0||u<0&&c<0&&h<0&&p<0}(n))return console.warn(\"Image source coordinates are defining non-convex area in the Mercator projection\"),void(this._unsupportedCoords=!0);const i=Gy(this.tileID,this.map.transform.projection),[a,s,o,l]=this.coordinates.map((t=>{const e=i.projection.project(t[0],t[1]);return Yy(i,e)._round()}));this.perspectiveTransform=Vg(a.x,a.y,s.x,s.y,o.x,o.y,l.x,l.y);const u=this._boundsArray=new ds;u.emplaceBack(a.x,a.y,0,0),u.emplaceBack(s.x,s.y,Tr,0),u.emplaceBack(l.x,l.y,0,Tr),u.emplaceBack(o.x,o.y,Tr,Tr),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=e.createVertexBuffer(u,Bg.members),this.boundsSegments=eo.simpleSegment(0,0,4,2);const c=[],h=[Lg((p=this.coordinates)[0]),Lg(p[1]),Lg(p[2]),Lg(p[3])];var p;const[f,d,m,y]=function(t){let e=t[0][0],r=e,n=t[0][1],i=n;for(let a=1;a<t.length;a++)t[a][0]<e?e=t[a][0]:t[a][0]>r&&(r=t[a][0]),t[a][1]<n?n=t[a][1]:t[a][1]>i&&(i=t[a][1]);return [e,n,r-e,i-n]}(h);{const i=new ds,[a,s,o,l]=function(t){let e=t[0].x,r=e,n=t[0].y,i=n;for(let a=1;a<t.length;a++)t[a].x<e?e=t[a].x:t[a].x>r&&(r=t[a].x),t[a].y<n?n=t[a].y:t[a].y>i&&(i=t[a].y);return [e,n,r-e,i-n]}(n),u=t=>[(t.x-a)/o,(t.y-s)/l],[h,p,g,x]=n.map(u),v=function(e,r,n,i,a,s,o,l){const u=Dg(0,0,1,0,1,1,0,1),c=Dg(e,r,n,i,a,s,o,l),h=t.co.adjoint([],c);return t.co.multiply(u,u,h)}(h[0],h[1],p[0],p[1],g[0],g[1],x[0],x[1]);this.elevatedGlobePerspectiveTransform=Vg(h[0],h[1],p[0],p[1],g[0],g[1],x[0],x[1]);const b=(e,r)=>{c.push(e.lng);const n=Math.round((e.lng-f)/m*Tr),a=Math.round((e.lat-d)/y*Tr),s=u(r),o=t.N.transformMat3([],[s[0],s[1],1],v),l=Math.round(o[0]/o[2]*Tr),h=Math.round(o[1]/o[2]*Tr);i.emplaceBack(n,a,l,h);},_=n[3].x-n[0].x,w=n[3].y-n[0].y,M=n[2].x-n[1].x,A=n[2].y-n[1].y;for(let t=0;t<65;t++){const e=t/64,i=[n[0].x+e*_,n[0].y+e*w],a=[n[1].x+e*M,n[1].y+e*A],s=a[0]-i[0],o=a[1]-i[1];for(let t=0;t<65;t++){const e=t/64,n={x:i[0]+s*e,y:i[1]+o*e,z:0};b(r.projection.unproject(n.x,n.y),n);}}this.elevatedGlobeVertexBuffer=e.createVertexBuffer(i,Bg.members);}{this.maxLongitudeTriangleSize=0;let t=[],r=new Es;const n=(e,n,i)=>{r.emplaceBack(e,n,i);const a=c[e],s=c[n],o=c[i],l=Math.min(Math.min(a,s),o),u=Math.max(Math.max(a,s),o)-l;u>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=u),t.push(l+u/2);};for(let t=0;t<64;t++)for(let e=0;e<64;e++){const r=65*t+e,i=r+1,a=r+65,s=a+1;n(r,a,i),n(i,a,s);}[t,r]=function(t,e){const r=Array.from({length:t.length},((t,e)=>e));r.sort(((e,r)=>t[e]-t[r]));const n=[],i=new Es;for(let a=0;a<r.length;a++){const s=r[a];n.push(t[s]);const o=3*s,l=o+1;i.emplaceBack(e.uint16[o],e.uint16[l],e.uint16[l+1]);}return [n,i]}(t,r),this.elevatedGlobeTrianglesCenterLongitudes=t,this.elevatedGlobeIndexBuffer=e.createIndexBuffer(r);}this.elevatedGlobeSegments=eo.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,m/Tr,0,y/Tr,0,0,d,f,0]);}prepare(){const t=0!==Object.keys(this.tiles).length;if(this.tileID&&!t)return;const e=this.map.painter.context,r=e.gl;!this._dirty||this.texture instanceof Rg||(this.texture?this.texture.update(this.image):(this.texture=new Cg(e,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this._dirty=!1),t&&this._prepareData(e);}loadTile(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state=\"errored\",e(null));}serialize(){return {type:\"image\",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}getSegmentsForLongitude(t){const e=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!e)return null;const r=this.elevatedGlobeTrianglesCenterLongitudes;let n=((t,e)=>t+360*Math.round((e-t)/360))(t+180,r[0]);const i=new eo,a=(t,r)=>{i.segments.push({vertexOffset:0,primitiveOffset:t,vertexLength:e.segments[0].vertexLength,primitiveLength:r,sortKey:void 0,vaos:{}});},s=.51*this.maxLongitudeTriangleSize;if(Math.abs(r[0]-n)<=s){const t=it(r,0,r.length,n+s);return t===r.length||a(t,nt(r,t+1,r.length,n+360-s)-t),i}n<r[0]&&(n+=360);const o=nt(r,0,r.length,n-s);if(o===r.length)return a(0,r.length),i;a(0,o-0);const l=it(r,o+1,r.length,n+s);return l!==r.length&&a(l,r.length-l),i}}const Ng=(Math.pow(256,2)-1)/16907520;class Og extends ss{constructor(t,e,r){super(t,Tg,e,r),this.updateColorRamp(),this._curRampRange=[NaN,NaN];}getProgramIds(){return [\"raster\"]}hasColorMap(){return !!this._transitionablePaint._values[\"raster-color\"].value.value}tileCoverLift(){return this.paint.get(\"raster-elevation\")}isLayerDraped(t){return !(t&&t._source instanceof Fg&&(t._source.onNorthPole||t._source.onSouthPole))&&0===this.paint.get(\"raster-elevation\")}_handleSpecialPaintPropertyUpdate(t){\"raster-color\"!==t&&\"raster-color-range\"!==t||(this._curRampRange=[NaN,NaN],this.updateColorRamp());}updateColorRamp(t){if(!this.hasColorMap())return;if(!this._curRampRange)return;const e=this._transitionablePaint._values[\"raster-color\"].value.expression,[r,n]=t||this._transitionablePaint._values[\"raster-color-range\"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(r)&&isNaN(n)||r===this._curRampRange[0]&&n===this._curRampRange[1]||(this.colorRamp=Ap({expression:e,evaluationKey:\"rasterValue\",image:this.colorRamp,clips:[{start:r,end:n}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[r,n]);}}const Ug=new Oa({visibility:new La(qa[\"layout_raster-particle\"].visibility)});var jg={paint:new Oa({\"raster-particle-array-band\":new La(qa[\"paint_raster-particle\"][\"raster-particle-array-band\"]),\"raster-particle-count\":new La(qa[\"paint_raster-particle\"][\"raster-particle-count\"]),\"raster-particle-color\":new Na(qa[\"paint_raster-particle\"][\"raster-particle-color\"]),\"raster-particle-max-speed\":new La(qa[\"paint_raster-particle\"][\"raster-particle-max-speed\"]),\"raster-particle-speed-factor\":new La(qa[\"paint_raster-particle\"][\"raster-particle-speed-factor\"]),\"raster-particle-fade-opacity-factor\":new La(qa[\"paint_raster-particle\"][\"raster-particle-fade-opacity-factor\"]),\"raster-particle-reset-rate-factor\":new La(qa[\"paint_raster-particle\"][\"raster-particle-reset-rate-factor\"])}),layout:Ug};class qg extends ss{constructor(t,e,r){super(t,jg,e,r),this._updateColorRamp(),this.onRemove=t=>{this.colorRampTexture&&this.colorRampTexture.destroy(),this.transformFeedbackObject&&t.painter.context.gl.deleteTransformFeedback(this.transformFeedbackObject),this.tileFramebuffer&&this.tileFramebuffer.destroy();},this.lastInvalidatedAt=st.now();}hasColorMap(){return !!this._transitionablePaint._values[\"raster-particle-color\"].value.value}getProgramIds(){return [\"rasterParticle\"]}hasOffscreenPass(){return \"none\"!==this.visibility}isLayerDraped(t){return !1}_handleSpecialPaintPropertyUpdate(t){\"raster-particle-color\"!==t&&\"raster-particle-max-speed\"!==t||(this._updateColorRamp(),this._invalidateAnimationState()),\"raster-particle-count\"===t&&this._invalidateAnimationState();}_updateColorRamp(){if(!this.hasColorMap())return;const t=this._transitionablePaint._values[\"raster-particle-color\"].value.expression,e=this._transitionablePaint._values[\"raster-particle-max-speed\"].value.expression.evaluate({zoom:0});this.colorRamp=Ap({expression:t,evaluationKey:\"rasterParticleSpeed\",image:this.colorRamp,clips:[{start:0,end:e}],resolution:256}),this.colorRampTexture=null;}_invalidateAnimationState(){this.lastInvalidatedAt=st.now();}}class $g extends ss{constructor(t,e){super(t,{},e),this.implementation=t,t.slot&&(this.slot=t.slot);}is3D(){return \"3d\"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(t){return void 0!==this.implementation.renderToTile}shouldRedrape(){return !!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl);}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl);}}const Gg=new Oa({visibility:new La(qa.layout_sky.visibility)});var Yg={paint:new Oa({\"sky-type\":new La(qa.paint_sky[\"sky-type\"]),\"sky-atmosphere-sun\":new La(qa.paint_sky[\"sky-atmosphere-sun\"]),\"sky-atmosphere-sun-intensity\":new La(qa.paint_sky[\"sky-atmosphere-sun-intensity\"]),\"sky-gradient-center\":new La(qa.paint_sky[\"sky-gradient-center\"]),\"sky-gradient-radius\":new La(qa.paint_sky[\"sky-gradient-radius\"]),\"sky-gradient\":new Na(qa.paint_sky[\"sky-gradient\"]),\"sky-atmosphere-halo-color\":new La(qa.paint_sky[\"sky-atmosphere-halo-color\"]),\"sky-atmosphere-color\":new La(qa.paint_sky[\"sky-atmosphere-color\"]),\"sky-opacity\":new La(qa.paint_sky[\"sky-opacity\"])}),layout:Gg};function Xg(e,r,n){const i=[0,0,1],a=t.bi.identity([]);return t.bi.rotateY(a,a,n?-b(e)+Math.PI:b(e)),t.bi.rotateX(a,a,-b(r)),t.N.transformQuat(i,i,a),t.N.normalize(i,i)}var Zg={paint:new Oa({})};function Kg(e,r){const n=Wg(e.projection,e.zoom,e.width,e.height),i=function(e,r,n,i,a){const s=new tl(n.lng-180*Jg,n.lat),o=new tl(n.lng+180*Jg,n.lat),l=e.project(s.lng,s.lat),u=e.project(o.lng,o.lat),c=-Math.atan2(u.y-l.y,u.x-l.x),h=Ml.fromLngLat(n);h.y=I(h.y,-1+Jg,1-Jg);const p=h.toLngLat(),f=e.project(p.lng,p.lat),d=Ml.fromLngLat(p);d.x+=Jg;const m=d.toLngLat(),y=e.project(m.lng,m.lat),g=tx(y.x-f.x,y.y-f.y,c),x=Ml.fromLngLat(p);x.y+=Jg;const v=x.toLngLat(),b=e.project(v.lng,v.lat),_=tx(b.x-f.x,b.y-f.y,c),w=Math.abs(g.x)/Math.abs(_.y),M=t.a6.identity([]);t.a6.rotateZ(M,M,-c*(1-(a?0:i)));const A=t.a6.identity([]);return t.a6.scale(A,A,[1,1-(1-w)*i,1]),A[4]=-_.x/_.y*i,t.a6.rotateZ(A,A,c),t.a6.multiply(A,M,A),A}(e.projection,0,e.center,n,r),a=Hg(e);return t.a6.scale(i,i,[a,a,1]),i}function Hg(t){const e=t.projection,r=Wg(t.projection,t.zoom,t.width,t.height),n=Qg(e,t.center),i=Qg(e,tl.convert(e.center));return Math.pow(2,n*r+(1-r)*i)}function Wg(t,e,r,n,i=1/0){const a=t.range;if(!a)return 0;const s=Math.min(i,Math.max(r,n)),o=Math.log(s/1024)/Math.LN2;return k(a[0]+o,a[1]+o,e)}const Jg=1/4e4;function Qg(t,e){const r=I(e.lat,-xl,xl),n=new tl(e.lng-180*Jg,r),i=new tl(e.lng+180*Jg,r),a=t.project(n.lng,r),s=t.project(i.lng,r),o=Ml.fromLngLat(n),l=Ml.fromLngLat(i),u=s.x-a.x,c=s.y-a.y,h=l.x-o.x,p=l.y-o.y,f=Math.sqrt((h*h+p*p)/(u*u+c*c));return Math.log(f)/Math.LN2}function tx(t,e,r){const n=Math.cos(r),i=Math.sin(r);return {x:t*n-e*i,y:t*i+e*n}}function ex(e,r,n){t.a6.identity(e),t.a6.rotateZ(e,e,b(r[2])),t.a6.rotateX(e,e,b(r[0])),t.a6.rotateY(e,e,b(r[1])),t.a6.scale(e,e,n),t.a6.multiply(e,e,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1]);}function rx(e,r,n,i,a,s,o,l){const u=[n[0]-r[0],n[1]-r[1],0],c=[i[0]-r[0],i[1]-r[1],0];if(t.N.length(u)<1e-12||t.N.length(c)<1e-12)return t.bi.identity(e);const h=t.N.cross([],u,c);t.N.normalize(h,h),t.N.subtract(c,i,r),u[2]=(s-a)*l,c[2]=(o-a)*l;const p=u;return t.N.cross(p,u,c),t.N.normalize(p,p),t.bi.rotationTo(e,h,p)}function nx(e,r,n=!1){const i=rp(r.zoom),a=function(e,r,n){const i=r.worldSize,a=[e[12],e[13],e[14]],s=yl(a[1]/i),o=ml(a[0]/i),l=t.a6.identity([]),u=dl(1,s)*i,c=dl(1,0)*i*bl(s,r.zoom),h=1/Qh(i);let p=c*h;if(n){const t=Wg(r.projection,r.zoom,r.width,r.height,1024);p=h*r.projection.pixelSpaceConversion(r.center.lat,i,t);}const f=Wo(s,o);t.N.add(f,f,t.N.scale([],t.N.normalize([],f),u*p*a[2]));const d=function(e){const r=[e[0],e[1],e[2]];let n=[0,1,0];const i=t.N.cross([],n,r);return t.N.cross(n,r,i),0===t.N.squaredLength(n)&&(n=[0,1,0],t.N.cross(i,r,n)),t.N.normalize(i,i),t.N.normalize(n,n),t.N.normalize(r,r),[i[0],i[1],i[2],0,n[0],n[1],n[2],0,r[0],r[1],r[2],0,e[0],e[1],e[2],1]}(f);t.a6.scale(l,l,[p,p,p*u]),t.a6.translate(l,l,[-a[0],-a[1],-a[2]]);const m=t.a6.multiply([],r.globeMatrix,d);return t.a6.multiply(m,m,l),t.a6.multiply(m,m,e),m}(e,r,n);if(i>0){const n=function(e,r){const n=r.worldSize,i=dl(1,0)*n*bl(r.center.lat,r.zoom)/Qh(n),a=dl(1,r.center.lat)*n,s=t.a6.identity([]);return t.a6.rotateY(s,s,b(r.center.lng)),t.a6.rotateX(s,s,b(r.center.lat)),t.a6.translate(s,s,[0,0,jo]),t.a6.scale(s,s,[i,i,i*a]),t.a6.translate(s,s,[r.point.x-.5*n,r.point.y-.5*n,0]),t.a6.multiply(s,s,e),t.a6.multiply(s,r.globeMatrix,s)}(e,r);return function(e,r,n){const i=(e,r,n)=>{const i=t.N.length(e),a=t.N.length(r),s=qh(e,r,n);return t.N.scale(s,s,1/t.N.length(s)*ue(i,a,n))},a=i([e[0],e[1],e[2]],[r[0],r[1],r[2]],n),s=i([e[4],e[5],e[6]],[r[4],r[5],r[6]],n),o=i([e[8],e[9],e[10]],[r[8],r[9],r[10]],n),l=qh([e[12],e[13],e[14]],[r[12],r[13],r[14]],n);return [a[0],a[1],a[2],0,s[0],s[1],s[2],0,o[0],o[1],o[2],0,l[0],l[1],l[2],1]}(a,n,i)}return a}function ix(t,e,r,n){const i=Bh.projectAabbCorners(n,r);let a=Number.MAX_VALUE,s=-1;for(let t=0;t<i.length;++t){const r=i[t];r[0]=(.5*r[0]+.5)*e.width,r[1]=(.5-.5*r[1])*e.height,r[2]<a&&(s=t,a=r[2]);}const o=t=>new g(i[t][0],i[t][1]);let l;switch(s){case 0:case 6:l=[o(1),o(5),o(4),o(7),o(3),o(2),o(1)];break;case 1:case 7:l=[o(0),o(4),o(5),o(6),o(2),o(3),o(0)];break;case 3:case 5:l=[o(1),o(0),o(4),o(7),o(6),o(2),o(1)];break;default:l=[o(1),o(5),o(6),o(7),o(3),o(0),o(1)];}if(Vl(t,l))return a}const ax=cs([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),sx=cs([{name:\"a_color_3f\",components:3,type:\"Float32\"}]),ox=cs([{name:\"a_color_4f\",components:4,type:\"Float32\"}]),lx=cs([{name:\"a_uv_2f\",components:2,type:\"Float32\"}]),ux=cs([{name:\"a_normal_3f\",components:3,type:\"Float32\"}]),cx=cs([{name:\"a_normal_matrix0\",components:4,type:\"Float32\"},{name:\"a_normal_matrix1\",components:4,type:\"Float32\"},{name:\"a_normal_matrix2\",components:4,type:\"Float32\"},{name:\"a_normal_matrix3\",components:4,type:\"Float32\"}]),hx=cs([{name:\"a_pbr\",components:4,type:\"Uint16\"},{name:\"a_heightBasedEmissiveStrength\",components:3,type:\"Float32\"}]);class px{constructor(t,e){this.feature=t,this.instancedDataOffset=e,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0];}}class fx{constructor(){this.instancedDataArray=new Ns,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={};}}class dx{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.fqid)),this.projection=t.projection,this.index=t.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0};}populate(t,e,r,n){this.tileToMeter=wl(r);const i=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:a,id:s,index:o,sourceLayerIndex:l}of t){const t=Bl(a,i);if(!this.layers[0]._featureFilter.filter(new Pa(this.zoom),t,r))continue;const u={id:s,sourceLayerIndex:l,index:o,geometry:i?t.geometry:Tl(a,r,n),properties:a.properties,type:a.type,patterns:{}},c=this.addFeature(u,u.geometry,t);c&&e.featureIndex.insert(a,u.geometry,o,l,this.index,this.instancesPerModel[c].instancedDataArray.length,Tr/32);}this.lookup=null;}update(t,e,r,n){for(const e in this.instancesPerModel){const r=this.instancesPerModel[e];for(const e in t)r.idToFeaturesIndex.hasOwnProperty(e)&&this.evaluate(r.features[r.idToFeaturesIndex[e]],t[e],r,!0);}this.maxHeight=0;}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return !1;let e=!1;for(const r in this.instancesPerModel){const n=this.instancesPerModel[r];for(const r of n.features){const i=this.layers[0],a=r.feature,s=this.canonical,o=i.paint.get(\"model-rotation\").evaluate(a,{},s),l=i.paint.get(\"model-scale\").evaluate(a,{},s),u=i.paint.get(\"model-translation\").evaluate(a,{},s);t.N.exactEquals(r.rotation,o)&&t.N.exactEquals(r.scale,l)&&t.N.exactEquals(r.translation,u)||(this.evaluate(r,r.featureStates,n,!0),e=!0);}}return e}isEmpty(){for(const t in this.instancesPerModel)if(0!==this.instancesPerModel[t].instancedDataArray.length)return !1;return !0}uploadPending(){return !this.uploaded}upload(t){if(!this.uploaded)for(const e in this.instancesPerModel){const r=this.instancesPerModel[e];r.instancedDataArray.length<0||0===r.instancedDataArray.length||(r.instancedDataBuffer?r.instancedDataBuffer.updateData(r.instancedDataArray):r.instancedDataBuffer=t.createVertexBuffer(r.instancedDataArray,cx.members,!0,void 0,this.instanceCount));}this.uploaded=!0;}destroy(){for(const t in this.instancesPerModel){const e=this.instancesPerModel[t];0!==e.instancedDataArray.length&&e.instancedDataBuffer&&e.instancedDataBuffer.destroy();}}addFeature(t,e,r){const n=this.layers[0],i=n.layout.get(\"model-id\").evaluate(r,{},this.canonical);if(!i)return j(`modelId is not evaluated for layer ${n.id} and it is not going to get rendered.`),i;this.instancesPerModel[i]||(this.instancesPerModel[i]=new fx);const a=this.instancesPerModel[i],s=a.instancedDataArray,o=new px(r,s.length);for(const t of e)for(const e of t){if(e.x<0||e.x>=Tr||e.y<0||e.y>=Tr)continue;const t=(this.lookupDim-1)/Tr,r=this.lookupDim*(e.y*t|0)+e.x*t|0;if(this.lookup){if(0!==this.lookup[r])continue;this.lookup[r]=1;}this.instanceCount++;const n=s.length;s.resize(n+1),a.instancesEvaluatedElevation.push(0),s.float32[16*n]=e.x,s.float32[16*n+1]=e.y;}return o.instancedDataCount=a.instancedDataArray.length-o.instancedDataOffset,o.instancedDataCount>0&&(t.id&&(a.idToFeaturesIndex[t.id]=a.features.length),a.features.push(o),this.evaluate(o,{},a,!1)),i}evaluate(t,e,r,n){const i=this.layers[0],a=t.feature,s=this.canonical,o=t.rotation=i.paint.get(\"model-rotation\").evaluate(a,e,s),l=t.scale=i.paint.get(\"model-scale\").evaluate(a,e,s),u=t.translation=i.paint.get(\"model-translation\").evaluate(a,e,s),c=i.paint.get(\"model-color\").evaluate(a,e,s);c.a=i.paint.get(\"model-color-mix-intensity\").evaluate(a,e,s);const h=[];this.maxVerticalOffset<u[2]&&(this.maxVerticalOffset=u[2]),this.maxScale=Math.max(Math.max(this.maxScale,l[0]),Math.max(l[1],l[2])),ex(h,o,l);const p=Math.round(100*c.a)+c.b/1.05;for(let e=0;e<t.instancedDataCount;++e){const i=t.instancedDataOffset+e,a=16*i,o=r.instancedDataArray.float32;let l=0;n&&(l=o[a+6]-r.instancesEvaluatedElevation[i]);const f=0|o[a+1];o[a]=(0|o[a])+c.r/1.05,o[a+1]=f+c.g/1.05,o[a+2]=p,o[a+3]=1/(s.z>10?this.tileToMeter:wl(s,f)),o[a+4]=u[0],o[a+5]=u[1],o[a+6]=u[2]+l,o[a+7]=h[0],o[a+8]=h[1],o[a+9]=h[2],o[a+10]=h[4],o[a+11]=h[5],o[a+12]=h[6],o[a+13]=h[8],o[a+14]=h[9],o[a+15]=h[10],r.instancesEvaluatedElevation[i]=u[2];}}}ra(dx,\"ModelBucket\",{omit:[\"layers\"]}),ra(fx,\"PerModelAttributes\"),ra(px,\"ModelFeature\");const mx=new Oa({visibility:new La(qa.layout_model.visibility),\"model-id\":new Fa(qa.layout_model[\"model-id\"])});var yx={paint:new Oa({\"model-opacity\":new La(qa.paint_model[\"model-opacity\"]),\"model-rotation\":new Fa(qa.paint_model[\"model-rotation\"]),\"model-scale\":new Fa(qa.paint_model[\"model-scale\"]),\"model-translation\":new Fa(qa.paint_model[\"model-translation\"]),\"model-color\":new Fa(qa.paint_model[\"model-color\"]),\"model-color-mix-intensity\":new Fa(qa.paint_model[\"model-color-mix-intensity\"]),\"model-type\":new La(qa.paint_model[\"model-type\"]),\"model-cast-shadows\":new La(qa.paint_model[\"model-cast-shadows\"]),\"model-receive-shadows\":new La(qa.paint_model[\"model-receive-shadows\"]),\"model-ambient-occlusion-intensity\":new La(qa.paint_model[\"model-ambient-occlusion-intensity\"]),\"model-emissive-strength\":new Fa(qa.paint_model[\"model-emissive-strength\"]),\"model-roughness\":new Fa(qa.paint_model[\"model-roughness\"]),\"model-height-based-emissive-strength-multiplier\":new Fa(qa.paint_model[\"model-height-based-emissive-strength-multiplier\"]),\"model-cutoff-fade-range\":new La(qa.paint_model[\"model-cutoff-fade-range\"])}),layout:mx};const gx=64,xx={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function vx(e,r,n,i,a,s,o,l,u,c=!1){const h=n.zoom,p=n.project(i),f=bl(i.lat,h),d=1/f;t.a6.identity(e),t.a6.translate(e,e,[p.x+o[0]*d,p.y+o[1]*d,o[2]]);let m=1,y=1;const g=n.worldSize;if(c){if(\"mercator\"===n.projection.name){let e=0;n.elevation&&(e=n.elevation.getAtPointOrZero(new Ml(p.x/g,p.y/g),0));const r=t.a7.transformMat4([],[p.x,p.y,e,1],n.projMatrix)[3]/n.cameraToCenterDistance;m=r,y=r*bl(n.center.lat,h);}else if(\"globe\"===n.projection.name){const r=nx(e,n),a=t.a6.multiply([],n.projMatrix,r),s=[0,0,0,1];t.a7.transformMat4(s,s,a);const o=s[3]/n.cameraToCenterDistance,l=rp(h),u=n.projection.pixelsPerMeter(i.lat,g)*bl(i.lat,h),c=n.projection.pixelsPerMeter(n.center.lat,g)*bl(n.center.lat,h);m=o/ue(u,vl(n.center.lat),l),y=o*f/u,m*=c,y*=c;}}else m=d;t.a6.scale(e,e,[m,m,y]);const x=[...e],v=r.orientation,b=[];if(ex(b,[v[0]+a[0],v[1]+a[1],v[2]+a[2]],s),t.a6.multiply(e,x,b),l&&n.elevation){let a=0;const s=[];if(u&&n.elevation){a=function(e,r,n,i,a){const s=r.elevation;if(!s)return 0;const o=Bh.projectAabbCorners(n,i),l=dl(1,a.lat)*r.worldSize,u=function(e,r){const n=[0,0,1],i=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const a of i){const i=e[a.corners[0]],s=e[a.corners[1]],o=e[a.corners[2]],l=[s[0]-i[0],s[1]-i[1],r*(s[2]-i[2])],u=t.N.cross(l,l,[o[0]-i[0],o[1]-i[1],r*(o[2]-i[2])]);t.N.normalize(u,u),a.dotProductWithUp=t.N.dot(u,n);}return i.sort(((t,e)=>t.dotProductWithUp-e.dotProductWithUp)),i[0].corners}(o,l),c=o[u[0]],h=o[u[1]],p=o[u[2]],f=o[u[3]],d=s.getAtPointOrZero(new Ml(c[0]/r.worldSize,c[1]/r.worldSize),0),m=s.getAtPointOrZero(new Ml(h[0]/r.worldSize,h[1]/r.worldSize),0),y=s.getAtPointOrZero(new Ml(p[0]/r.worldSize,p[1]/r.worldSize),0),g=s.getAtPointOrZero(new Ml(f[0]/r.worldSize,f[1]/r.worldSize),0),x=(d+g)/2,v=(m+y)/2;return x>v?m<y?rx(e,h,f,c,m,g,d,l):rx(e,p,c,f,y,d,g,l):d<g?rx(e,c,h,p,d,m,y,l):rx(e,f,p,h,g,y,m,l),Math.max(x,v)}(s,n,r.aabb,e,i);const o=t.a6.fromQuat([],s),l=t.a6.multiply([],o,b);t.a6.multiply(e,x,l);}else a=n.elevation.getAtPointOrZero(new Ml(p.x/g,p.y/g),0);0!==a&&(e[14]+=a);}}function bx(t,e,r=!1){t.uploaded||(t.gfxTexture=new Cg(e,t.image,r?e.gl.R8:e.gl.RGBA,{useMipmap:t.sampler.minFilter>=e.gl.NEAREST_MIPMAP_NEAREST}),t.uploaded=!0,t.image=null);}function _x(t,e,r){t.indexBuffer=e.createIndexBuffer(t.indexArray,!1,!0),t.vertexBuffer=e.createVertexBuffer(t.vertexArray,ax.members,!1,!0),t.normalArray&&(t.normalBuffer=e.createVertexBuffer(t.normalArray,ux.members,!1,!0)),t.texcoordArray&&(t.texcoordBuffer=e.createVertexBuffer(t.texcoordArray,lx.members,!1,!0)),t.colorArray&&(t.colorBuffer=e.createVertexBuffer(t.colorArray,(12===t.colorArray.bytesPerElement?sx:ox).members,!1,!0)),t.featureArray&&(t.pbrBuffer=e.createVertexBuffer(t.featureArray,hx.members,!0)),t.segments=eo.simpleSegment(0,0,t.vertexArray.length,t.indexArray.length);const n=t.material;n.pbrMetallicRoughness.baseColorTexture&&bx(n.pbrMetallicRoughness.baseColorTexture,e),n.pbrMetallicRoughness.metallicRoughnessTexture&&bx(n.pbrMetallicRoughness.metallicRoughnessTexture,e),n.normalTexture&&bx(n.normalTexture,e),n.occlusionTexture&&bx(n.occlusionTexture,e,r),n.emissionTexture&&bx(n.emissionTexture,e);}function wx(t,e,r){if(t.meshes)for(const n of t.meshes)_x(n,e,r);if(t.children)for(const n of t.children)wx(n,e,r);}function Mx(t){if(t.meshes)for(const e of t.meshes)e.indexArray.destroy(),e.vertexArray.destroy(),e.colorArray&&e.colorArray.destroy(),e.normalArray&&e.normalArray.destroy(),e.texcoordArray&&e.texcoordArray.destroy(),e.featureArray&&e.featureArray.destroy();if(t.children)for(const e of t.children)Mx(e);}function Ax(t){if(t.meshes)for(const r of t.meshes)r.vertexBuffer&&(r.vertexBuffer.destroy(),r.indexBuffer.destroy(),r.normalBuffer&&r.normalBuffer.destroy(),r.texcoordBuffer&&r.texcoordBuffer.destroy(),r.colorBuffer&&r.colorBuffer.destroy(),r.pbrBuffer&&r.pbrBuffer.destroy(),r.segments.destroy(),r.material&&((e=r.material).pbrMetallicRoughness.baseColorTexture&&e.pbrMetallicRoughness.baseColorTexture.gfxTexture&&e.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),e.pbrMetallicRoughness.metallicRoughnessTexture&&e.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&e.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),e.normalTexture&&e.normalTexture.gfxTexture&&e.normalTexture.gfxTexture.destroy(),e.emissionTexture&&e.emissionTexture.gfxTexture&&e.emissionTexture.gfxTexture.destroy(),e.occlusionTexture&&e.occlusionTexture.gfxTexture&&e.occlusionTexture.gfxTexture.destroy()));var e;if(t.children)for(const e of t.children)Ax(e);}class Sx{constructor(t){this._callback=t,this._triggered=!1,\"undefined\"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback();}),0));}remove(){this._channel=void 0,this._callback=()=>{};}}class Ix{constructor(){this.tasks={},this.taskQueue=[],V([\"process\"],this),this.invoker=new Sx(this.process),this.nextId=0;}add(t,e){const r=this.nextId++,n=function({type:t,isSymbolTile:e,zoom:r}){return r=r||0,\"message\"===t?0:\"maybePrepare\"!==t||e?\"parseTile\"!==t||e?\"parseTile\"===t&&e?300-r:\"maybePrepare\"===t&&e?400-r:500:200-r:100-r}(e);if(0===n){Y();try{t();}finally{}return null}return this.tasks[r]={fn:t,metadata:e,priority:n,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:()=>{delete this.tasks[r];}}}process(){Y();try{if(this.taskQueue=this.taskQueue.filter((t=>!!this.tasks[t])),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn();}finally{}}pick(){let t=null,e=1/0;for(let r=0;r<this.taskQueue.length;r++){const n=this.tasks[this.taskQueue[r]];n.priority<e&&(e=n.priority,t=r);}if(null===t)return null;const r=this.taskQueue[t];return this.taskQueue.splice(t,1),r}remove(){this.invoker.remove();}}class kx{constructor(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.cancelCallbacks={},V([\"receive\"],this),this.target.addEventListener(\"message\",this.receive,!1),this.scheduler=new Ix;}send(t,e,r,n,i=!1,a){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=a,this.callbacks[s]=r);const o=new Set;return this.target.postMessage({id:s,type:t,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:aa(e,o)},o),{cancel:()=>{r&&delete this.callbacks[s],this.target.postMessage({id:s,type:\"<cancel>\",targetMapId:n,sourceMapId:this.mapId});}}}receive(t){const e=t.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if(\"<cancel>\"===e.type){const t=this.cancelCallbacks[r];delete this.cancelCallbacks[r],t&&t.cancel();}else if(e.mustQueue||Y()){const t=this.callbacks[r],n=this.scheduler.add((()=>this.processTask(r,e)),t&&t.metadata||{type:\"message\"});n&&(this.cancelCallbacks[r]=n);}else this.processTask(r,e);}processTask(t,e){if(delete this.cancelCallbacks[t],\"<response>\"===e.type){const r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(sa(e.error)):r(null,sa(e.data)));}else {const r=new Set,n=e.hasCallback?(e,n)=>{this.target.postMessage({id:t,type:\"<response>\",sourceMapId:this.mapId,error:e?aa(e):null,data:aa(n,r)},r);}:t=>{},i=sa(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,i,n);else if(this.parent.getWorkerSource){const t=e.type.split(\".\");this.parent.getWorkerSource(e.sourceMapId,t[0],i.source,i.scope)[t[1]](i,n);}else n(new Error(`Could not find function ${e.type}`));}}remove(){this.scheduler.remove(),this.target.removeEventListener(\"message\",this.receive,!1);}}class Px{constructor(t,e){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=B();const r=this.workerPool.acquire(this.id);for(let t=0;t<r.length;t++){const n=new Px.Actor(r[t],e,this.id);n.name=`Worker ${t}`,this.actors.push(n);}this.ready=!1,this.broadcast(\"checkIfReady\",null,(()=>{this.ready=!0;}));}broadcast(t,e,r){E(this.actors,((r,n)=>{r.send(t,e,n);}),r=r||function(){});}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((t=>{t.remove();})),this.actors=[],this.workerPool.release(this.id);}}Px.Actor=kx;var Ex={workerUrl:\"\",workerClass:null,workerParams:void 0};function zx(){return null!=Ex.workerClass?new Ex.workerClass:new self.Worker(Ex.workerUrl,Ex.workerParams)}const Tx=\"mapboxgl_preloaded_worker_pool\";class Bx{constructor(){this.active={};}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<Bx.workerCount;)this.workers.push(new zx);return this.active[t]=!0,this.workers.slice()}release(t){delete this.active[t],this.workers&&0===this.numActive()&&(this.workers.forEach((t=>{t.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[Tx]}numActive(){return Object.keys(this.active).length}}let Cx;function Rx(){return Cx||(Cx=new Bx),Cx}Bx.workerCount=2;let Dx,Vx,Lx,Fx,Nx,Ox=null;function Ux(){return Y()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:Vx||n.DRACO_URL}function jx(){if(Y()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(Fx)return Fx;const t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(\"object\"!=typeof WebAssembly)throw new Error(\"WebAssembly not supported, cannot instantiate meshoptimizer\");return Fx=WebAssembly.validate(t)?n.MESHOPT_SIMD_URL:n.MESHOPT_URL,Fx}const qx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$x={5120:\"DT_INT8\",5121:\"DT_UINT8\",5122:\"DT_INT16\",5123:\"DT_UINT16\",5125:\"DT_UINT32\",5126:\"DT_FLOAT32\"},Gx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function Yx(t,e,r){const n=r.json.bufferViews.length,i=r.buffers.length;e.bufferView=n,r.json.bufferViews[n]={buffer:i,byteLength:t.byteLength},r.buffers[i]=t;}const Xx=\"KHR_draco_mesh_compression\";function Zx(t,e){const r=t.extensions&&t.extensions[Xx];if(!r)return;const n=new Lx.Decoder,i=ev(e,r.bufferView),a=new Lx.Mesh;if(!n.DecodeArrayToMesh(i,i.byteLength,a))throw new Error(\"Failed to decode Draco mesh\");const s=e.json.accessors[t.indices],o=qx[s.componentType],l=s.count*o.BYTES_PER_ELEMENT,u=Lx._malloc(l);o===Uint16Array?n.GetTrianglesUInt16Array(a,l,u):n.GetTrianglesUInt32Array(a,l,u),Yx(Lx.memory.buffer.slice(u,u+l),s,e),Lx._free(u);for(const i of Object.keys(r.attributes)){const s=n.GetAttributeByUniqueId(a,r.attributes[i]),o=e.json.accessors[t.attributes[i]],l=$x[o.componentType],u=o.count*Gx[o.type]*qx[o.componentType].BYTES_PER_ELEMENT,c=Lx._malloc(u);n.GetAttributeDataArrayForAllPoints(a,s,Lx[l],u,c),Yx(Lx.memory.buffer.slice(c,c+u),o,e),Lx._free(c);}n.destroy(),a.destroy(),delete t.extensions[Xx];}const Kx=\"EXT_meshopt_compression\";function Hx(t,e){if(!t.extensions||!t.extensions[Kx])return;const r=t.extensions[Kx],n=new Uint8Array(e.buffers[r.buffer],r.byteOffset||0,r.byteLength||0),i=new Uint8Array(r.count*r.byteStride);Nx.decodeGltfBuffer(i,r.count,r.byteStride,n,r.mode,r.filter),t.buffer=e.buffers.length,t.byteOffset=0,e.buffers[t.buffer]=i.buffer,delete t.extensions[Kx];}const Wx=1179937895,Jx=new TextDecoder(\"utf8\");function Qx(t,e){return new URL(t,e).href}function tv(t,e,r,n){return fetch(Qx(t.uri,n)).then((t=>t.arrayBuffer())).then((t=>{e.buffers[r]=t;}))}function ev(t,e){const r=t.json.bufferViews[e];return new Uint8Array(t.buffers[r.buffer],r.byteOffset||0,r.byteLength)}function rv(t,e,r,n){if(t.uri){const i=Qx(t.uri,n);return fetch(i).then((t=>t.blob())).then((t=>createImageBitmap(t))).then((t=>{e.images[r]=t;}))}if(void 0!==t.bufferView){const n=ev(e,t.bufferView),i=new Blob([n],{type:t.mimeType});return createImageBitmap(i).then((t=>{e.images[r]=t;}))}}function nv(t,e=0,r){const n={json:null,images:[],buffers:[]};if(new Uint32Array(t,e,1)[0]===Wx){const r=new Uint32Array(t,e);let i=2;const a=(r[i++]>>2)-3,s=r[i++]>>2;if(i++,n.json=JSON.parse(Jx.decode(r.subarray(i,i+s))),i+=s,i<a){const a=r[i++];i++;const s=e+(i<<2);n.buffers[0]=t.slice(s,s+a);}}else n.json=JSON.parse(Jx.decode(new Uint8Array(t,e)));const{buffers:i,images:a,meshes:s,extensionsUsed:o,bufferViews:l}=n.json;let u=Promise.resolve();if(i){const t=[];for(let e=0;e<i.length;e++){const a=i[e];a.uri?t.push(tv(a,n,e,r)):n.buffers[e]||(n.buffers[e]=null);}u=Promise.all(t);}return u.then((()=>{const t=[],e=o&&o.includes(Xx),i=o&&o.includes(Kx);if(e&&t.push(function(){if(!Lx)return Dx||(Dx=function(t){let e,r=null;function n(){e=new Uint8Array(r.buffer);}function i(){throw new Error(\"Unexpected Draco error.\")}const a={a:{a:i,d:function(t,r,n){return e.copyWithin(t,r,r+n)},c:function(t){const i=e.length,a=Math.max(t>>>0,Math.ceil(1.2*i)),s=Math.ceil((a-i)/65536);try{return r.grow(s),n(),!0}catch(t){return !1}},b:i}};return (WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,a):t.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,a)))).then((t=>{const{Rb:i,Qb:a,P:s,T:o,X:l,Ja:u,La:c,Qa:h,Va:p,Wa:f,eb:d,jb:m,f:y,e:g,yb:x,zb:v,Ab:b,Bb:_,Db:w,Gb:M}=t.instance.exports;r=g;const A=(()=>{let t=0,r=0,n=0,s=0;return o=>{n&&(i(s),i(t),r+=n,n=t=0),t||(r+=128,t=a(r));const l=o.length+7&-8;let u=t;l>=r&&(n=l,u=s=a(l));for(let t=0;t<o.length;t++)e[u+t]=o[t];return u}})();return n(),y(),{memory:g,_free:i,_malloc:a,Mesh:class{constructor(){this.ptr=s();}destroy(){o(this.ptr);}},Decoder:class{constructor(){this.ptr=u();}destroy(){m(this.ptr);}DecodeArrayToMesh(t,e,r){const n=A(t),i=c(this.ptr,n,e,r.ptr);return !!l(i)}GetAttributeByUniqueId(t,e){return {ptr:h(this.ptr,t.ptr,e)}}GetTrianglesUInt16Array(t,e,r){p(this.ptr,t.ptr,e,r);}GetTrianglesUInt32Array(t,e,r){f(this.ptr,t.ptr,e,r);}GetAttributeDataArrayForAllPoints(t,e,r,n,i){d(this.ptr,t.ptr,e.ptr,r,n,i);}},DT_INT8:x(),DT_UINT8:v(),DT_INT16:b(),DT_UINT16:_(),DT_UINT32:w(),DT_FLOAT32:M()}}))}(fetch(Ux())),Dx.then((t=>{Lx=t,Dx=void 0;})))}()),i&&t.push(function(){if(Nx)return;const t=function(t){let e;const r=WebAssembly.instantiateStreaming(t,{}).then((t=>{e=t.instance,e.exports.__wasm_call_ctors();})),n={NONE:\"\",OCTAHEDRAL:\"meshopt_decodeFilterOct\",QUATERNION:\"meshopt_decodeFilterQuat\",EXPONENTIAL:\"meshopt_decodeFilterExp\"},i={ATTRIBUTES:\"meshopt_decodeVertexBuffer\",TRIANGLES:\"meshopt_decodeIndexBuffer\",INDICES:\"meshopt_decodeIndexSequence\"};return {ready:r,supported:!0,decodeGltfBuffer(t,r,a,s,o,l){!function(t,e,r,n,i,a,s){const o=t.exports.sbrk,l=n+3&-4,u=o(l*i),c=o(a.length),h=new Uint8Array(t.exports.memory.buffer);h.set(a,c);const p=e(u,n,i,c,a.length);if(0===p&&s&&s(u,l,i),r.set(h.subarray(u,u+n*i)),o(u-o(0)),0!==p)throw new Error(`Malformed buffer data: ${p}`)}(e,e.exports[i[o]],t,r,a,s,e.exports[n[l]]);}}}(fetch(jx()));return t.ready.then((()=>{Nx=t;}))}()),a)for(let e=0;e<a.length;e++)t.push(rv(a[e],n,e,r));return (t.length?Promise.all(t):Promise.resolve()).then((()=>{if(e&&s)for(const{primitives:t}of s)for(const e of t)Zx(e,n);if(i&&s&&l)for(const t of l)Hx(t,n);return n}))}))}class iv{constructor(t,e,r){if(this.triangleCount=e.length/3,this.min=new g(0,0),this.max=new g(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],0===this.triangleCount||0===t.length||0===r)return;const n=t.map((t=>t.x)),i=t.map((t=>t.y));this.min=new g(Math.min(...n),Math.min(...i)),this.max=new g(Math.max(...n),Math.max(...i));const a=this.max.sub(this.min);a.x=Math.max(a.x,1),a.y=Math.max(a.y,1);const s=Math.max(a.x,a.y)/r;this.cellsX=Math.max(1,Math.ceil(a.x/s)),this.cellsY=Math.max(1,Math.ceil(a.y/s)),this.xScale=1/s,this.yScale=1/s;const o=[];for(let r=0;r<this.triangleCount;r++){const n=t[e[3*r+0]].sub(this.min),i=t[e[3*r+1]].sub(this.min),a=t[e[3*r+2]].sub(this.min),l=av(Math.floor(Math.min(n.x,i.x,a.x)),this.xScale,this.cellsX),u=av(Math.floor(Math.max(n.x,i.x,a.x)),this.xScale,this.cellsX),c=av(Math.floor(Math.min(n.y,i.y,a.y)),this.yScale,this.cellsY),h=av(Math.floor(Math.max(n.y,i.y,a.y)),this.yScale,this.cellsY),p=new g(0,0),f=new g(0,0),d=new g(0,0),m=new g(0,0);for(let t=c;t<=h;++t){p.y=f.y=t*s,d.y=m.y=(t+1)*s;for(let e=l;e<=u;++e)p.x=d.x=e*s,f.x=m.x=(e+1)*s,(Kl(n,i,a,p,f,m)||Kl(n,i,a,p,m,d))&&o.push({cellIdx:t*this.cellsX+e,triIdx:r});}}if(0===o.length)return;o.sort(((t,e)=>t.cellIdx-e.cellIdx||t.triIdx-e.triIdx));let l=0;for(;l<o.length;){const t=o[l].cellIdx,e={start:this.payload.length,len:0};for(;l<o.length&&o[l].cellIdx===t;)++e.len,this.payload.push(o[l++].triIdx);this.cells[t]=e;}}query(t,e,r){if(0===this.triangleCount||0===this.cells.length)return;if(t.x>this.max.x||this.min.x>e.x)return;if(t.y>this.max.y||this.min.y>e.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let t=0;t<this.lookup.length;t++)this.lookup[t]=0;const n=av(t.x-this.min.x,this.xScale,this.cellsX),i=av(e.x-this.min.x,this.xScale,this.cellsX),a=av(t.y-this.min.y,this.yScale,this.cellsY),s=av(e.y-this.min.y,this.yScale,this.cellsY);for(let t=a;t<=s;t++)for(let e=n;e<=i;e++){const n=this.cells[t*this.cellsX+e];if(n)for(let t=0;t<n.len;t++){const e=this.payload[n.start+t],i=Math.floor(e/8),a=1<<e%8;if(!(this.lookup[i]&a)&&(this.lookup[i]|=a,r.push(e),r.length===this.triangleCount))return}}}}function av(t,e,r){return Math.max(0,Math.min(r-1,Math.floor(t*e)))}function sv(t,e){const r=t.json.bufferViews[e.bufferView],n=qx[e.componentType];return new n(t.buffers[r.buffer],(e.byteOffset||0)+(r.byteOffset||0),e.count*(r.byteStride&&r.byteStride!==Gx[e.type]*n.BYTES_PER_ELEMENT?r.byteStride/n.BYTES_PER_ELEMENT:Gx[e.type]))}function ov(t,e,r,n){const i=qx[e.componentType],a=function(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(i),s=t.json.bufferViews[e.bufferView],o=s.byteStride?s.byteStride/i.BYTES_PER_ELEMENT:Gx[e.type],l=r.float32,u=l.length/r.capacity;for(let t=0,r=0;t<e.count*o;t+=o,r+=u)for(let e=0;e<u;e++)l[r+e]=n[t+e]*a;r._trim();}function lv(t,e,r){const n=t.indices,i=t.attributes,a={};a.indexArray=new Es;const s=e.json.accessors[n],o=s.count/3;a.indexArray.reserve(o);const l=sv(e,s);for(let t=0;t<o;t++)a.indexArray.emplaceBack(l[3*t],l[3*t+1],l[3*t+2]);a.indexArray._trim(),a.vertexArray=new Ls;const u=e.json.accessors[i.POSITION];a.vertexArray.reserve(u.count);const c=sv(e,u);for(let t=0;t<u.count;t++)a.vertexArray.emplaceBack(c[3*t],c[3*t+1],c[3*t+2]);if(a.vertexArray._trim(),a.aabb=new Bh(u.min,u.max),a.centroid=function(t,e){const r=[0,0,0],n=t.length;if(n>0){for(let i=0;i<n;i++){const n=3*t[i];r[0]+=e[n],r[1]+=e[n+1],r[2]+=e[n+2];}r[0]/=n,r[1]/=n,r[2]/=n;}return r}(l,c),void 0!==i.COLOR_0){const t=e.json.accessors[i.COLOR_0],r=Gx[t.type],n=sv(e,t);a.colorArray=3===r?new Ls:new gs,a.colorArray.resize(t.count),ov(e,t,a.colorArray,n);}if(void 0!==i.NORMAL){a.normalArray=new Ls;const t=e.json.accessors[i.NORMAL];a.normalArray.resize(t.count);const r=sv(e,t);ov(e,t,a.normalArray,r);}if(void 0!==i.TEXCOORD_0&&r.length>0){a.texcoordArray=new Fs;const t=e.json.accessors[i.TEXCOORD_0];a.texcoordArray.resize(t.count);const r=sv(e,t);ov(e,t,a.texcoordArray,r);}if(void 0!==i._FEATURE_ID_RGBA4444){const t=e.json.accessors[i._FEATURE_ID_RGBA4444];e.json.extensionsUsed&&e.json.extensionsUsed.includes(\"EXT_meshopt_compression\")&&(a.featureData=sv(e,t));}void 0!==i._FEATURE_RGBA4444&&(a.featureData=new Uint32Array(sv(e,e.json.accessors[i._FEATURE_RGBA4444]).buffer));const h=t.material;return a.material=function(t,e){const{emissiveFactor:r=[0,0,0],alphaMode:n=\"OPAQUE\",alphaCutoff:i=.5,normalTexture:a,occlusionTexture:s,emissiveTexture:o,doubleSided:l}=t,{baseColorFactor:u=[1,1,1,1],metallicFactor:c=1,roughnessFactor:h=1,baseColorTexture:p,metallicRoughnessTexture:f}=t.pbrMetallicRoughness||{},d=s?e[s.index]:void 0;if(s&&s.extensions&&s.extensions.KHR_texture_transform&&d){const t=s.extensions.KHR_texture_transform;d.offsetScale=[t.offset[0],t.offset[1],t.scale[0],t.scale[1]];}return {pbrMetallicRoughness:{baseColorFactor:new le(...u),metallicFactor:c,roughnessFactor:h,baseColorTexture:p?e[p.index]:void 0,metallicRoughnessTexture:f?e[f.index]:void 0},doubleSided:l,emissiveFactor:r,alphaMode:n,alphaCutoff:i,normalTexture:a?e[a.index]:void 0,occlusionTexture:d,emissionTexture:o?e[o.index]:void 0,defined:void 0===t.defined}}(void 0!==h?e.json.materials[h]:{defined:!1},r),a}function uv(e,r,n){const{matrix:i,rotation:a,translation:s,scale:o,mesh:l,extras:u,children:c}=e,h={};if(h.matrix=i||t.a6.fromRotationTranslationScale([],a||[0,0,0,1],s||[0,0,0],o||[1,1,1]),void 0!==l){h.meshes=n[l];const t=h.anchor=[0,0];for(const e of h.meshes){const{min:r,max:n}=e.aabb;t[0]+=r[0]+n[0],t[1]+=r[1]+n[1];}t[0]=Math.floor(t[0]/h.meshes.length/2),t[1]=Math.floor(t[1]/h.meshes.length/2);}if(u&&(u.id&&(h.id=u.id),u.lights&&(h.lights=function(t){if(!t.length)return [];const e=function(t){const e=atob(t),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.codePointAt(t);return r}(t),r=[],n=e.length/24,i=new Uint16Array(e.buffer),a=new Float32Array(e.buffer);for(let t=0;t<n;t++){const e=i[2*t*6]/30,n=i[2*t*6+1]/30,s=i[2*t*6+10]/100,o=a[6*t+1],l=a[6*t+2],u=a[6*t+3],c=a[6*t+4],h=u-o,p=c-l,f=Math.hypot(h,p);r.push({pos:[o+.5*h,l+.5*p,n],normal:[p/f,-h/f,0],width:f,height:e,depth:s,points:[o,l,u,c]});}return r}(u.lights))),c){const t=[];for(const e of c)t.push(uv(r.json.nodes[e],r,n));h.children=t;}return h}function cv(t){if(0===t.vertices.length||0===t.indices.length)return null;const[e,r]=[t.vertices[0].clone(),t.vertices[0].clone()];for(let n=1;n<t.vertices.length;++n){const i=t.vertices[n];e.x=Math.min(e.x,i.x),e.y=Math.min(e.y,i.y),r.x=Math.max(r.x,i.x),r.y=Math.max(r.y,i.y);}const n=Math.ceil(Math.max(r.x-e.x,r.y-e.y)/256),i=Math.max(8,n),a=new iv(t.vertices,t.indices,i);return {vertices:t.vertices,indices:t.indices,grid:a,min:e,max:r}}function hv(t){if(!t.extras||!t.extras.ground)return null;const e=t.extras.ground;if(!e||!Array.isArray(e)||0===e.length)return null;const r=e[0];if(!r||!Array.isArray(r)||0===r.length)return null;const n=[];for(const t of r){if(!Array.isArray(t)||2!==t.length)continue;const e=t[0],r=t[1];\"number\"==typeof e&&\"number\"==typeof r&&n.push(new g(e,r));}if(n.length<3)return null;n.length>1&&n[n.length-1].equals(n[0])&&n.pop();let i=0;for(let t=0;t<n.length;t++){const e=n[t],r=n[(t+1)%n.length],a=n[(t+2)%n.length];i+=(e.x-r.x)*(a.y-r.y)-(a.x-r.x)*(e.y-r.y);}i>0&&n.reverse();const a=rf(n.flatMap((t=>[t.x,t.y])),[]);return 0===a.length?null:{vertices:n,indices:a}}function pv(t){const e=[],r=[];let n=0;for(const i of t){n=e.length;const t=i.vertexArray.float32,a=i.indexArray.uint16;for(let r=0;r<i.vertexArray.length;r++)e.push(new g(t[3*r+0],t[3*r+1]));for(let t=0;t<3*i.indexArray.length;t++)r.push(a[t]+n);}if(r.length%3!=0)return null;for(let t=0;t<r.length;t+=3){const n=e[r[t+0]],i=e[r[t+1]],a=e[r[t+2]];(n.x-i.x)*(a.y-i.y)-(a.x-i.x)*(n.y-i.y)>0&&([r[t+1],r[t+2]]=[r[t+2],r[t+1]]);}return {vertices:e,indices:r}}function fv(t){const e=function(t,e){const r=[],n=WebGL2RenderingContext;if(t.json.textures)for(const i of t.json.textures){const a={magFilter:n.LINEAR,minFilter:n.NEAREST,wrapS:n.REPEAT,wrapT:n.REPEAT};void 0!==i.sampler&&Object.assign(a,t.json.samplers[i.sampler]),r.push({image:e[i.source],sampler:a,uploaded:!1});}return r}(t,t.images),r=function(t,e){const r=[];for(const n of t.json.meshes){const i=[];for(const r of n.primitives)i.push(lv(r,t,e));r.push(i);}return r}(t,e),{scenes:n,scene:i,nodes:a}=t.json,s=n?n[i||0].nodes:a,o=[];for(const e of s)o.push(uv(a[e],t,r));return function(t,e,r){const n={},i=new Set;for(let a=0;a<t.length;a++){const t=r[e[a]];if(!t.extras)continue;const s=t.extras[\"mapbox:footprint:version\"],o=t.extras[\"mapbox:footprint:id\"];(s||o)&&i.add(a),\"1.0.0\"===s&&o&&(n[o]=a);}for(let a=0;a<t.length;a++){if(i.has(a))continue;const s=t[a],o=r[e[a]];if(!o.extras)continue;let l=null;s.id in n&&(l=pv(t[n[s.id]].meshes)),l||(l=hv(o)),l&&(s.footprint=cv(l));}if(i.size>0){const e=Array.from(i.values()).sort(((t,e)=>t-e));for(let r=e.length-1;r>=0;r--)t.splice(e[r],1);}}(o,s,t.json.nodes),o}function dv(t){t.heightmap=new Float32Array(4096),t.heightmap.fill(-1);const e=t.vertexArray.float32,r=t.aabb.min[0]-1,n=t.aabb.min[1]-1,i=gx/(t.aabb.max[0]-r+2),a=gx/(t.aabb.max[1]-n+2);for(let s=0;s<e.length;s+=3){const o=e[s+2],l=(e[s+0]-r)*i|0,u=(e[s+1]-n)*a|0;o>t.heightmap[u*gx+l]&&(t.heightmap[u*gx+l]=o);}}function mv(e,r){const n={};n.indexArray=new Es,n.indexArray.reserve(4*e.length),n.vertexArray=new Ls,n.vertexArray.reserve(10*e.length),n.colorArray=new gs,n.vertexArray.reserve(10*e.length);let i=0;for(const a of e){const e=Math.min(10,Math.max(4,1.3*a.height))*r,s=[-a.normal[1],a.normal[0],0],o=Math.min(.29,.1*a.width/a.depth),l=a.width-2*a.depth*r*(o+.01),u=t.N.scaleAndAdd([],a.pos,s,l/2),c=t.N.scaleAndAdd([],a.pos,s,-l/2),h=[u[0],u[1],u[2]+a.height],p=[c[0],c[1],c[2]+a.height],f=t.N.scaleAndAdd([],a.normal,s,o);t.N.scale(f,f,e);const d=t.N.scaleAndAdd([],a.normal,s,-o);t.N.scale(d,d,e),t.N.add(f,u,f),t.N.add(d,c,d),u[2]+=.1,c[2]+=.1,n.vertexArray.emplaceBack(f[0],f[1],f[2]),n.vertexArray.emplaceBack(d[0],d[1],d[2]),n.vertexArray.emplaceBack(u[0],u[1],u[2]),n.vertexArray.emplaceBack(c[0],c[1],c[2]),n.vertexArray.emplaceBack(h[0],h[1],h[2]),n.vertexArray.emplaceBack(p[0],p[1],p[2]),n.vertexArray.emplaceBack(u[0],u[1],u[2]),n.vertexArray.emplaceBack(c[0],c[1],c[2]),n.vertexArray.emplaceBack(f[0],f[1],f[2]),n.vertexArray.emplaceBack(d[0],d[1],d[2]);const m=l/e/2;n.colorArray.emplaceBack(-m-o,-1,m,.8),n.colorArray.emplaceBack(m+o,-1,m,.8),n.colorArray.emplaceBack(-m,0,m,1.3),n.colorArray.emplaceBack(m,0,m,1.3),n.colorArray.emplaceBack(m+o,-.8,m,.7),n.colorArray.emplaceBack(m+o,-.8,m,.7),n.colorArray.emplaceBack(0,0,m,1.3),n.colorArray.emplaceBack(0,0,m,1.3),n.colorArray.emplaceBack(m+o,-1.2,m,.8),n.colorArray.emplaceBack(m+o,-1.2,m,.8),n.indexArray.emplaceBack(6+i,4+i,8+i),n.indexArray.emplaceBack(7+i,9+i,5+i),n.indexArray.emplaceBack(0+i,1+i,2+i),n.indexArray.emplaceBack(1+i,3+i,2+i),i+=10;}const a={defined:!0,emissiveFactor:[0,0,0]},s={};return s.baseColorFactor=le.white,a.pbrMetallicRoughness=s,n.material=a,n.aabb=new Bh([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),n}ra(iv,\"TriangleGridIndex\");class yv{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r;}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const gv=[\"tile\",\"layer\",\"source\",\"sourceLayer\",\"state\"];class xv{constructor(t,e,r,n,i){this.type=\"Feature\",this._vectorTileFeature=t,this._z=e,this._x=r,this._y=n,this.properties=t.properties,this.id=i;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t;}toJSON(){const t={type:\"Feature\",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(t.id=this.id);for(const e of gv)void 0!==this[e]&&(t[e]=this[e]);return t}}class vv{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new ta(Tr,16,0),this.featureIndexArray=new Ws,this.promoteId=e,this.is3DTile=!1;}insert(t,e,r,n,i,a=0,s=0){const o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i,a);const l=this.grid;for(let t=0;t<e.length;t++){const r=e[t],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<r.length;t++){const e=r[t];n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y);}0!==s&&(n[0]-=s,n[1]-=s,n[2]+=s,n[3]+=s),n[0]<Tr&&n[1]<Tr&&n[2]>=0&&n[3]>=0&&l.insert(o,n[0],n[1],n[2],n[3]);}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Ef(new Vm(this.rawTileData)).layers,this.sourceLayerCoder=new yv(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[];}return this.vtLayers}query(t,e,r,n){this.loadVTLayers();const i=t.params||{},a=Ga(i.filter),s=t.tileResult,o=t.transform,l=s.bufferedTilespaceBounds,u=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((t,e,r,n)=>Yl(s.bufferedTilespaceGeometry,t,e,r,n)));u.sort(_v);let c=null;o.elevation&&u.length>0&&(c=Wf.create(o.elevation,this.tileID));const h={};let p;for(let l=0;l<u.length;l++){const f=u[l];if(f===p)continue;p=f;const d=this.featureIndexArray.get(f);let m=null;if(this.is3DTile){const t=this.bucketLayerIDs[0][0],r=e[t];if(\"model\"!==r.type)continue;const{queryFeature:n,intersectionZ:i}=r.queryIntersectsMatchingFeature(s,d.featureIndex,a,o);n&&this.appendToResult(h,t,d.featureIndex,n,i);}else this.loadMatchingFeature(h,d,a,i.layers,i.availableImages,e,r,n,((e,r,n,i=0)=>(m||(m=Tl(e,this.tileID.canonical,t.tileTransform)),r.queryIntersectsFeature(s,e,n,m,this.z,t.transform,t.pixelPosMatrix,c,i))));}return h}loadMatchingFeature(t,e,r,n,i,a,s,o,l){const{featureIndex:u,bucketIndex:c,sourceLayerIndex:h,layoutVertexArrayOffset:p}=e,f=this.bucketLayerIDs[c];if(n&&!function(t,e){for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return !0;return !1}(n,f))return;const d=this.sourceLayerCoder.decode(h),m=this.vtLayers[d].feature(u);if(r.needGeometry){const t=Bl(m,!0);if(!r.filter(new Pa(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!r.filter(new Pa(this.tileID.overscaledZ),m))return;const y=this.getId(m,d);for(let e=0;e<f.length;e++){const r=f[e];if(n&&n.indexOf(r)<0)continue;const c=a[r];if(!c)continue;let h={};void 0!==y&&o&&(h=o.getState(c.sourceLayer||\"_geojsonTileLayer\",y));const d=!l||l(m,c,h,p);if(!d)continue;const g=new xv(m,this.z,this.x,this.y,y),x=z({},s[r]);x.paint=bv(x.paint,c.paint,m,h,i),x.layout=bv(x.layout,c.layout,m,h,i),g.layer=x,this.appendToResult(t,r,u,g,d);}}appendToResult(t,e,r,n,i){let a=t[e];void 0===a&&(a=t[e]=[]),a.push({featureIndex:r,feature:n,intersectionZ:i});}lookupSymbolFeatures(t,e,r,n,i,a,s,o){const l={};this.loadVTLayers();const u=Ga(i);for(const i of t)this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},u,a,s,o,e);return l}loadFeature(t){const{featureIndex:e,sourceLayerIndex:r}=t;this.loadVTLayers();const n=this.sourceLayerCoder.decode(r),i=this.vtFeatures[n];if(i[e])return i[e];const a=this.vtLayers[n].feature(e);return i[e]=a,a}hasLayer(t){for(const e of this.bucketLayerIDs)for(const r of e)if(t===r)return !0;return !1}getId(t,e){let r=t.id;if(this.promoteId){const n=\"string\"==typeof this.promoteId?this.promoteId:this.promoteId[e];null!=n&&(r=t.properties[n]),\"boolean\"==typeof r&&(r=Number(r));}return r}}function bv(t,e,r,n,i){return F(t,((t,a)=>{const s=e instanceof Va?e.get(a):null;return s&&s.evaluate?s.evaluate(r,n,i):s}))}function _v(t,e){return e-t}ra(vv,\"FeatureIndex\",{omit:[\"rawTileData\",\"sourceLayerCoder\"]});const wv=new Float32Array(262144),Mv=new Uint8Array(262144);function Av(t){let e=0;if(t.meshes)for(const r of t.meshes)e=Math.max(e,r.aabb.max[2]);if(t.children)for(const r of t.children)e=Math.max(e,Av(r));return e}function Sv(t,e,r){if(t.meshes)for(const n of t.meshes)n.aabb.min[0]!==1/0&&r.insert(e,n.aabb.min[0],n.aabb.min[1],n.aabb.max[0],n.aabb.max[1]);if(t.children)for(const n of t.children)Sv(n,e,r);}const Iv=[\"\",\"wall\",\"door\",\"roof\",\"window\",\"lamp\",\"logo\"];class kv{constructor(t){this.node=t,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:\"Point\",id:t.id,geometry:[],properties:{height:Av(t)}};}getLocalBounds(){if(!this.node.meshes)return new Bh([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let t=0;const e=new Bh([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const r of this.node.meshes)this.node.lightMeshIndex!==t&&e.encapsulate(r.aabb),t++;this.aabb=e;}return this.aabb}}class Pv{constructor(t,e,r,n,i,a){this.id=e,this.modelTraits|=xx.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,r&&(this.modelTraits|=xx.HasMapboxMeshFeatures),n&&(this.modelTraits|=xx.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:\"mercator\"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=i,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const e of t)this.nodesInfo.push(new kv(e)),Sv(e,a.featureIndexArray.length,a.grid),a.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,a.bucketLayerIDs.length-1,0);}update(){console.log(\"Update 3D model bucket\");}populate(){console.log(\"populate 3D model bucket\");}uploadPending(){return !this.uploaded||this.needsUpload}upload(t){if(!this.needsUpload)return;const e=this.getNodesInfo();for(const r of e){const e=r.node;this.uploaded?this.updatePbrBuffer(e):wx(e,t,!0);}for(const t of e)Mx(t.node);this.uploaded=!0,this.needsUpload=!1;}updatePbrBuffer(t){let e=!1;if(!t.meshes)return e;for(const r of t.meshes)r.pbrBuffer&&(r.pbrBuffer.updateData(r.featureArray),e=!0);return e}needsReEvaluation(t,e,r){const n=t.transform.projectionOptions,i=t.style.getBrightness(),a=this.brightness!==i;return !!(!this.uploaded||this.dirty||n.name!==this.projection.name||Ev(r.paint.get(\"model-color\").value,a)||Ev(r.paint.get(\"model-color-mix-intensity\").value,a)||Ev(r.paint.get(\"model-roughness\").value,a)||Ev(r.paint.get(\"model-emissive-strength\").value,a)||Ev(r.paint.get(\"model-height-based-emissive-strength-multiplier\").value,a))&&(this.projection=n,this.brightness=i,!0)}evaluateScale(t,e){if(t.transform.zoom===this.zoom)return;this.zoom=t.transform.zoom;const r=this.getNodesInfo(),n=this.id.canonical;for(const t of r){const r=t.feature;t.evaluatedScale=e.paint.get(\"model-scale\").evaluate(r,{},n);}}evaluate(t){const e=this.getNodesInfo();for(const r of e){if(!r.node.meshes)continue;const e=r.feature,n=r.node.meshes&&r.node.meshes[0].featureData,i=r.evaluatedColor[2],a=r.evaluatedRMEA[2],s=this.id.canonical;if(r.hasTranslucentParts=!1,n){for(let n=0;n<Iv.length;n++){const i=Iv[n];i.length&&(e.properties.part=i);const a=t.paint.get(\"model-color\").evaluate(e,{},s),o=t.paint.get(\"model-color-mix-intensity\").evaluate(e,{},s);r.evaluatedColor[n]=[a.r,a.g,a.b,o],r.evaluatedRMEA[n][0]=t.paint.get(\"model-roughness\").evaluate(e,{},s),r.evaluatedRMEA[n][2]=t.paint.get(\"model-emissive-strength\").evaluate(e,{},s),r.evaluatedRMEA[n][3]=a.a,r.emissionHeightBasedParams[n]=t.paint.get(\"model-height-based-emissive-strength-multiplier\").evaluate(e,{},s),!r.hasTranslucentParts&&a.a<1&&(r.hasTranslucentParts=!0);}delete e.properties.part,Tv(r,i!==r.evaluatedColor[2]||a!==r.evaluatedRMEA[2],this.modelTraits);}else r.evaluatedRMEA[0][2]=t.paint.get(\"model-emissive-strength\").evaluate(e,{},s);r.evaluatedScale=t.paint.get(\"model-scale\").evaluate(e,{},s),this.updatePbrBuffer(r.node)||(this.needsUpload=!0);}this.dirty=!1;}elevationUpdate(t,e,r,n){const i=t.findDEMTileFor(r);if(i&&(i.tileID.canonical!==this.terrainTile||e!==this.terrainExaggeration)){if(i.dem&&i.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=i.tileID.overscaledZ;const e=Wf.create(t,r,i);if(!e)return;this.modelTraits&xx.HasMapboxMeshFeatures&&this.updateDEM(t,e,r,n);for(const t of this.getNodesInfo()){const r=t.node;if(!r.footprint||!r.footprint.vertices||!r.footprint.vertices.length)continue;const n=r.footprint.vertices;let i=e.getElevationAt(n[0].x,n[0].y,!0,!0);for(let t=1;t<n.length;t++)i=Math.min(i,e.getElevationAt(n[t].x,n[t].y,!0,!0));r.elevation=i;}}this.terrainTile=i.tileID.canonical,this.terrainExaggeration=e;}}updateDEM(t,e,r,n){let i=e._dem._modifiedForSources[n];if(void 0===i&&(e._dem._modifiedForSources[n]=[],i=e._dem._modifiedForSources[n]),i.includes(r.canonical))return;const a=e._dem.dim;i.push(r.canonical);let s=!1;for(const t of this.getNodesInfo()){const r=t.node;if(!r.footprint||!r.footprint.grid)continue;const n=r.footprint.grid,i=e.tileCoordToPixel(n.min.x,n.min.y),o=e.tileCoordToPixel(n.max.x,n.max.y),l=Math.min(Math.min(a-o.y,i.x),Math.min(i.y,a-o.x));if(l<0)continue;const u=I(l,2,5);let c=Math.max(0,i.x-u),h=Math.max(0,i.y-u),p=Math.min(o.x+u,a-1),f=Math.min(o.y+u,a-1);for(let t=h;t<=f;++t)for(let e=c;e<=p;++e)Mv[t*a+e]=255;let d=0,m=0;for(let t=0;t<n.cellsY;++t)for(let r=0;r<n.cellsX;++r){if(!n.cells[t*n.cellsX+r])continue;const i=e.tileCoordToPixel(n.min.x+r/n.xScale,n.min.y+t/n.yScale),s=e.tileCoordToPixel(n.min.x+(r+1)/n.xScale,n.min.y+(t+1)/n.yScale);for(let t=i.y;t<=Math.min(s.y+1,a-1);++t)for(let r=i.x;r<=Math.min(s.x+1,a-1);++r)255===Mv[t*a+r]&&(Mv[t*a+r]=0,d+=e.getElevationAtPixel(r,t),m++);}const y=d/m;c=Math.max(1,i.x-u),h=Math.max(1,i.y-u),p=Math.min(o.x+u,a-2),f=Math.min(o.y+u,a-2),s=!0;for(let t=h;t<=f;++t)for(let r=c;r<=p;++r)0===Mv[t*a+r]&&(wv[t*a+r]=e._dem.set(r,t,y));for(let t=1;t<u;++t){c=Math.max(1,i.x-t),h=Math.max(1,i.y-t),p=Math.min(o.x+t,a-2),f=Math.min(o.y+t,a-2);for(let r=h;r<=f;++r)for(let n=c;n<=p;++n){const i=r*a+n;if(255===Mv[i]){let s=0,o=0,l=-1,c=-1;for(let e=-1;e<=1;++e)for(let i=-1;i<=1;++i){const u=(r+e)*a+n+i;if(Mv[u]>=t)continue;const h=wv[u],p=Math.abs(h);p>o&&(s=h,o=p,l=i,c=e);}if(o>.1){const a=1-(t+.5*Math.abs(l*c))/u;let o=e._dem.get(n,r)+s*a;const h=e._dem.get(n+l,r+c),p=e._dem.get(n-l,r-c,!0);(o-h)*(o-p)>0&&(o=(h+p)/2),wv[i]=e._dem.set(n,r,o),Mv[i]=t;}}}}}s&&(e._demTile.needsDEMTextureUpload=!0,e._dem._timestamp=st.now());}getNodesInfo(){return this.nodesInfo}destroy(){const t=this.getNodesInfo();for(const e of t)Mx(e.node),Ax(e.node);}isEmpty(){return !this.nodesInfo.length}updateReplacement(t,e){if(e.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=e.updateTime;const r=e.getReplacementRegionsForTile(t.toUnwrapped()),n=this.getNodesInfo();for(let t=0;t<this.nodesInfo.length;t++){const e=n[t].node;n[t].hiddenByReplacement=!!e.footprint&&!r.find((t=>t.footprint===e.footprint));}}getHeightAtTileCoord(t,e){const r=this.getNodesInfo(),n=[];for(let i=0;i<this.nodesInfo.length;i++){const a=r[i],s=a.node.meshes[0];if(t<s.aabb.min[0]||e<s.aabb.min[1]||t>s.aabb.max[0]||e>s.aabb.max[1])continue;const o=(t-s.aabb.min[0])/(s.aabb.max[0]-s.aabb.min[0])*gx|0,l=Math.min(63,(e-s.aabb.min[1])/(s.aabb.max[1]-s.aabb.min[1])*gx|0)*gx+Math.min(63,o);if(!(s.heightmap[l]<0&&a.node.footprint)){if(a.hiddenByReplacement)return;return {height:s.heightmap[l],maxHeight:a.feature.properties.height,hidden:!1,verticalScale:a.evaluatedScale[2]}}if(a.node.footprint.grid.query(new g(t,e),new g(t,e),n),n.length>0)return {height:void 0,maxHeight:a.feature.properties.height,hidden:a.hiddenByReplacement,verticalScale:a.evaluatedScale[2]}}}}function Ev(t,e){return !t.isLightConstant&&e}function zv(t,e,r,n,i,a,s,o){let l=(61440&e|(61440&e)>>4)>>8,u=(3840&e|(3840&e)>>4)>>4,c=240&e|(240&e)>>4;r[3]>0&&(l=ue(l,255*r[0],r[3]),u=ue(u,255*r[1],r[3]),c=ue(c,255*r[2],r[3]));const h=l<<8|u,p=c<<8|Math.floor(255*n[3]),f=function(t){const e=I(t,0,2);return Math.min(Math.round(.5*e*255),255)}(n[2])<<8|15*n[0]<<4|15*n[1],d=I(i[0],0,1),m=I(i[1],0,1),y=I(i[2],0,1),g=I(i[3],0,1);let x,v,b,_;if(d!==m&&s!==a&&m!==d){const t=s-a;v=1/(t*(m-d)),b=-(a+t*d)/(t*(m-d));const e=I(i[4],-1,1);_=Math.pow(10,e),x=255*y<<8|255*g;}else x=65535,v=0,b=1,_=1;if(t.emplaceBack(h,p,f,x,v,b,_),o){const t=o.length;o.clear();for(let e=0;e<t;e++)o.emplaceBack(h,p,f,x,v,b,_);}}function Tv(t,e,r){const n=t.node;let i=0;const a=r&xx.HasMeshoptCompression;for(const r of n.meshes){if(n.lights&&n.lightMeshIndex===i)continue;if(!r.featureData)continue;r.featureArray=new Os,r.featureArray.reserve(r.featureData.length);let s=e;for(const e of r.featureData){const i=a?65535&e:e>>16&65535,o=a?e>>16&65535:65535&e,l=(15&o)<8?15&o:0,u=t.evaluatedRMEA[l],c=t.evaluatedColor[l],h=t.emissionHeightBasedParams[l];let p;if(s&&2===l&&n.lights&&(p=new Os,p.resize(10*n.lights.length)),zv(r.featureArray,i,c,u,h,r.aabb.min[2],r.aabb.max[2],p),p&&s){s=!1;const t=n.meshes[n.lightMeshIndex];t.featureArray=p,t.featureArray._trim();}}r.featureArray._trim(),i++;}}function Bv(t,e,r,n){const i=1<<t.z;e.lat=yl((n/Tr+t.y)/i),e.lng=ml((r/Tr+t.x)/i);}ra(Pv,\"Tiled3dModelBucket\",{omit:[\"layers\"]}),ra(kv,\"Tiled3dModelFeature\");const Cv={circle:class extends ss{constructor(t,e,r){super(t,eu,e,r);}createBucket(t){return new Dl(t)}queryRadius(t){const e=t;return Hl(\"circle-radius\",this,e)+Hl(\"circle-stroke-width\",this,e)+Wl(this.paint.get(\"circle-translate\"))}queryIntersectsFeature(t,e,r,n,i,a,s,o){const l=Ql(this.paint.get(\"circle-translate\"),this.paint.get(\"circle-translate-anchor\"),a.angle,t.pixelToTileUnitsFactor),u=this.paint.get(\"circle-radius\").evaluate(e,r)+this.paint.get(\"circle-stroke-width\").evaluate(e,r);return cp(t,n,a,s,o,\"map\"===this.paint.get(\"circle-pitch-alignment\"),\"map\"===this.paint.get(\"circle-pitch-scale\"),l,u)}getProgramIds(){return [\"circle\"]}getDefaultProgramParams(t,e){const r=up(this);return {config:new Do(this,e),defines:r,overrideFog:!1}}},heatmap:class extends ss{createBucket(t){return new mp(t)}constructor(t,e,r){super(t,Mp,e,r),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"heatmap-color\"===t&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=Ap({expression:this._transitionablePaint._values[\"heatmap-color\"].value.expression,evaluationKey:\"heatmapDensity\",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);}queryRadius(t){return Hl(\"heatmap-radius\",this,t)}queryIntersectsFeature(t,e,r,n,i,a,s,o){const l=this.paint.get(\"heatmap-radius\").evaluate(e,r);return cp(t,n,a,s,o,!0,!0,new g(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get(\"heatmap-opacity\")&&\"none\"!==this.visibility}getProgramIds(){return [\"heatmap\",\"heatmapTexture\"]}getDefaultProgramParams(t,e){return \"heatmap\"===t?{config:new Do(this,e),overrideFog:!1}:{}}},hillshade:class extends ss{constructor(t,e,r){super(t,Ip,e,r);}hasOffscreenPass(){return 0!==this.paint.get(\"hillshade-exaggeration\")&&\"none\"!==this.visibility}getProgramIds(){return [\"hillshade\",\"hillshadePrepare\"]}getDefaultProgramParams(t,e){return {overrideFog:!1}}},fill:class extends ss{constructor(t,e,r){super(t,cf,e,r);}getProgramIds(){const t=this.paint.get(\"fill-pattern\"),e=t&&t.constantOr(1),r=[e?\"fillPattern\":\"fill\"];return this.paint.get(\"fill-antialias\")&&r.push(e&&!this.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\"),r}getDefaultProgramParams(t,e){return {config:new Do(this,e),overrideFog:!1}}recalculate(t,e){super.recalculate(t,e);const r=this.paint._values[\"fill-outline-color\"];\"constant\"===r.value.kind&&void 0===r.value.value&&(this.paint._values[\"fill-outline-color\"]=this.paint._values[\"fill-color\"]);}createBucket(t){return new lf(t)}queryRadius(){return Wl(this.paint.get(\"fill-translate\"))}queryIntersectsFeature(t,e,r,n,i,a){return !t.queryGeometry.isAboveHorizon&&Fl(Jl(t.tilespaceGeometry,this.paint.get(\"fill-translate\"),this.paint.get(\"fill-translate-anchor\"),a.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return !0}},\"fill-extrusion\":class extends ss{constructor(t,e,r){super(t,kd,e,r),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0};}createBucket(t){return new md(t)}queryRadius(){return Wl(this.paint.get(\"fill-extrusion-translate\"))}is3D(){return !0}hasShadowPass(){return !0}cutoffRange(){return this.paint.get(\"fill-extrusion-cutoff-fade-range\")}canCastShadows(){return !0}getProgramIds(){return [this.paint.get(\"fill-extrusion-pattern\").constantOr(1)?\"fillExtrusionPattern\":\"fillExtrusion\"]}queryIntersectsFeature(e,r,n,i,a,s,o,l,u){const c=Ql(this.paint.get(\"fill-extrusion-translate\"),this.paint.get(\"fill-extrusion-translate-anchor\"),s.angle,e.pixelToTileUnitsFactor),h=this.paint.get(\"fill-extrusion-height\").evaluate(r,n),p=this.paint.get(\"fill-extrusion-base\").evaluate(r,n),f=[0,0],d=l&&s.elevation,m=s.elevation?s.elevation.exaggeration():1,y=e.tile.getBucket(this);if(d&&y instanceof md){const t=y.centroidVertexArray,e=u+1;e<t.length&&(f[0]=t.geta_centroid_pos0(e),f[1]=t.geta_centroid_pos1(e));}if(0===f[0]&&1===f[1])return !1;\"globe\"===s.projection.name&&(i=Ad([i],[new g(0,0),new g(Tr,Tr)],e.tileID.canonical).map((t=>t.polygon)).flat());const x=d?l:null,[v,b]=function(e,r,n,i,a,s,o,l,u,c,h){return \"globe\"===e.projection.name?function(e,r,n,i,a,s,o,l,u,c,h){const p=[],f=[],d=e.projection.upVectorScale(h,e.center.lat,e.worldSize).metersToTile,m=[0,0,0,1],y=[0,0,0,1],g=(t,e,r,n)=>{t[0]=e,t[1]=r,t[2]=n,t[3]=1;},x=Md();n>0&&(n+=x),i+=x;for(const x of r){const r=[],v=[];for(const p of x){const f=p.x+a.x,x=p.y+a.y,b=e.projection.projectTilePoint(f,x,h),_=e.projection.upVector(h,p.x,p.y);let w=n,M=i;if(o){const t=Td(f,x,n,i,o,l,u,c);w+=t.base,M+=t.top;}0!==n?g(m,b.x+_[0]*d*w,b.y+_[1]*d*w,b.z+_[2]*d*w):g(m,b.x,b.y,b.z),g(y,b.x+_[0]*d*M,b.y+_[1]*d*M,b.z+_[2]*d*M),t.N.transformMat4(m,m,s),t.N.transformMat4(y,y,s),r.push(new Pd(m[0],m[1],m[2])),v.push(new Pd(y[0],y[1],y[2]));}p.push(r),f.push(v);}return [p,f]}(e,r,n,i,a,s,o,l,u,c,h):o?function(e,r,n,i,a,s,o,l,u){const c=[],h=[],p=[0,0,0,1];for(const f of e){const e=[],d=[];for(const c of f){const h=c.x+i.x,f=c.y+i.y,m=Td(h,f,r,n,s,o,l,u);p[0]=h,p[1]=f,p[2]=m.base,p[3]=1,t.a7.transformMat4(p,p,a),p[3]=Math.max(p[3],1e-5);const y=new Pd(p[0]/p[3],p[1]/p[3],p[2]/p[3]);p[0]=h,p[1]=f,p[2]=m.top,p[3]=1,t.a7.transformMat4(p,p,a),p[3]=Math.max(p[3],1e-5);const g=new Pd(p[0]/p[3],p[1]/p[3],p[2]/p[3]);e.push(y),d.push(g);}c.push(e),h.push(d);}return [c,h]}(r,n,i,a,s,o,l,u,c):function(t,e,r,n,i){const a=[],s=[],o=i[8]*e,l=i[9]*e,u=i[10]*e,c=i[11]*e,h=i[8]*r,p=i[9]*r,f=i[10]*r,d=i[11]*r;for(const e of t){const t=[],r=[];for(const a of e){const e=a.x+n.x,s=a.y+n.y,m=i[0]*e+i[4]*s+i[12],y=i[1]*e+i[5]*s+i[13],g=i[2]*e+i[6]*s+i[14],x=i[3]*e+i[7]*s+i[15],v=m+o,b=y+l,_=g+u,w=Math.max(x+c,1e-5),M=m+h,A=y+p,S=g+f,I=Math.max(x+d,1e-5);t.push(new Pd(v/w,b/w,_/w)),r.push(new Pd(M/I,A/I,S/I));}a.push(t),s.push(r);}return [a,s]}(r,n,i,a,s)}(s,i,p,h,c,o,x,f,m,s.center.lat,e.tileID.canonical),_=e.queryGeometry;return function(t,e,r){let n=1/0;Fl(r,e)&&(n=zd(r,e[0]));for(let i=0;i<e.length;i++){const a=e[i],s=t[i];for(let t=0;t<a.length-1;t++){const e=a[t],i=[e,a[t+1],s[t+1],s[t],e];Vl(r,i)&&(n=Math.min(n,zd(r,i)));}}return n!==1/0&&n}(v,b,_.isPointQuery()?_.screenBounds:_.screenGeometry)}},line:class extends ss{constructor(t,e,r){super(t,Ud,e,r),this.gradientVersion=0;}_handleSpecialPaintPropertyUpdate(t){if(\"line-gradient\"===t){const t=this._transitionablePaint._values[\"line-gradient\"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Sn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values[\"line-gradient\"].value.expression}widthExpression(){return this._transitionablePaint._values[\"line-width\"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values[\"line-floorwidth\"]=Xd.possiblyEvaluate(this._transitioningPaint._values[\"line-width\"].value,t);}createBucket(t){return new Nd(t)}getProgramIds(){return [this.paint.get(\"line-pattern\").constantOr(1)?\"linePattern\":\"line\"]}getDefaultProgramParams(t,e){const r=Gd(this);return {config:new Do(this,e),defines:r,overrideFog:!1}}queryRadius(t){const e=t,r=Zd(Hl(\"line-width\",this,e),Hl(\"line-gap-width\",this,e)),n=Hl(\"line-offset\",this,e);return r/2+Math.abs(n)+Wl(this.paint.get(\"line-translate\"))}queryIntersectsFeature(t,e,r,n,i,a){if(t.queryGeometry.isAboveHorizon)return !1;const s=Jl(t.tilespaceGeometry,this.paint.get(\"line-translate\"),this.paint.get(\"line-translate-anchor\"),a.angle,t.pixelToTileUnitsFactor),o=t.pixelToTileUnitsFactor/2*Zd(this.paint.get(\"line-width\").evaluate(e,r),this.paint.get(\"line-gap-width\").evaluate(e,r)),l=this.paint.get(\"line-offset\").evaluate(e,r);return l&&(n=function(t,e){const r=[],n=new g(0,0);for(let i=0;i<t.length;i++){const a=t[i],s=[];for(let t=0;t<a.length;t++){const r=a[t],i=a[t+1],o=0===t?n:r.sub(a[t-1])._unit()._perp(),l=t===a.length-1?n:i.sub(r)._unit()._perp(),u=o._add(l)._unit();u._mult(1/(u.x*l.x+u.y*l.y)),s.push(u._mult(e)._add(r));}r.push(s);}return r}(n,l*t.pixelToTileUnitsFactor)),function(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(t.length>=3)for(let e=0;e<i.length;e++)if(Gl(t,i[e]))return !0;if(Nl(t,i,r))return !0}return !1}(s,n,o)}isTileClipped(){return !0}},symbol:kg,background:class extends ss{constructor(t,e,r){super(t,Eg,e,r);}getProgramIds(){return [this.paint.get(\"background-pattern\")?\"backgroundPattern\":\"background\"]}getDefaultProgramParams(t,e){return {overrideFog:!1}}},raster:Og,\"raster-particle\":qg,sky:class extends ss{constructor(t,e,r){super(t,Yg,e,r),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"sky-gradient\"===t?this._updateColorRamp():\"sky-atmosphere-sun\"!==t&&\"sky-atmosphere-halo-color\"!==t&&\"sky-atmosphere-color\"!==t&&\"sky-atmosphere-sun-intensity\"!==t||(this._skyboxInvalidated=!0);}_updateColorRamp(){this.colorRamp=Ap({expression:this._transitionablePaint._values[\"sky-gradient\"].value.expression,evaluationKey:\"skyRadialProgress\"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null);}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return !0;if(!this.paint.get(\"sky-atmosphere-sun\")){const e=t.style.light.properties.get(\"position\");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return !1}getCenter(t,e){if(\"atmosphere\"===this.paint.get(\"sky-type\")){const r=this.paint.get(\"sky-atmosphere-sun\"),n=!r,i=t.style.light,a=i.properties.get(\"position\");return n&&\"viewport\"===i.properties.get(\"anchor\")&&j(\"The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly.\"),n?Xg(a.azimuthal,90-a.polar,e):Xg(r[0],90-r[1],e)}const r=this.paint.get(\"sky-gradient-center\");return Xg(r[0],90-r[1],e)}isSky(){return !0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get(\"position\");}hasOffscreenPass(){return !0}getProgramIds(){const t=this.paint.get(\"sky-type\");return \"atmosphere\"===t?[\"skyboxCapture\",\"skybox\"]:\"gradient\"===t?[\"skyboxGradient\"]:null}},slot:class extends ss{constructor(t,e,r){super(t,Zg,e);}},model:class extends ss{constructor(t,e,r){super(t,yx,e,r),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0};}createBucket(t){return new dx(t)}getProgramIds(){return [\"model\"]}is3D(){return !0}hasShadowPass(){return !0}canCastShadows(){return !0}hasLightBeamPass(){return !0}cutoffRange(){return this.paint.get(\"model-cutoff-fade-range\")}queryRadius(t){return t instanceof Pv?Tr-1:0}queryIntersectsFeature(e,r,n,i,a,s){if(!this.modelManager)return !1;const o=this.modelManager,l=e.tile.getBucket(this);if(!(l&&l instanceof dx))return !1;const u=l;for(const n in u.instancesPerModel){const i=u.instancesPerModel[n];if(i.idToFeaturesIndex.hasOwnProperty(r.id)){const a=i.features[i.idToFeaturesIndex[r.id]],l=o.getModel(n,this.scope);if(!l)return !1;let c=t.a6.create();const h=new tl(0,0),p=u.canonical;let f=Number.MAX_VALUE;for(let r=0;r<a.instancedDataCount;++r){const n=16*(a.instancedDataOffset+r),o=i.instancedDataArray.float32,u=[o[n+4],o[n+5],o[n+6]];Bv(p,h,o[n],0|o[n+1]),vx(c,l,s,h,a.rotation,a.scale,u,!1,!1,!1),\"globe\"===s.projection.name&&(c=nx(c,s));const d=t.a6.multiply([],s.projMatrix,c),m=e.queryGeometry,y=ix(m.isPointQuery()?m.screenBounds:m.screenGeometry,s,d,l.aabb);null!=y&&(f=Math.min(y,f));}return f!==Number.MAX_VALUE&&f}}return !1}_handleOverridablePaintPropertyUpdate(t,e,r){return !(!this.layout||e.isDataDriven()||r.isDataDriven()||\"model-color\"!==t&&\"model-color-mix-intensity\"!==t&&\"model-rotation\"!==t&&\"model-scale\"!==t&&\"model-translation\"!==t&&\"model-emissive-strength\"!==t)}_isPropertyZoomDependent(t){const e=this._transitionablePaint._values[t];return null!=e&&null!=e.value&&null!=e.value.expression&&e.value.expression instanceof Xi}isZoomDependent(){return this._isPropertyZoomDependent(\"model-scale\")||this._isPropertyZoomDependent(\"model-rotation\")||this._isPropertyZoomDependent(\"model-translation\")}queryIntersectsMatchingFeature(e,r,n,i){const a=e.tile,s=a.getBucket(this);let o=null,l=Number.MAX_VALUE;if(!(s&&s instanceof Pv))return {queryFeature:o,intersectionZ:l};const u=s.getNodesInfo()[r];if(u.hiddenByReplacement||!u.node.meshes||!n.filter(new Pa(a.tileID.overscaledZ),u.feature,a.tileID.canonical))return {queryFeature:o,intersectionZ:l};const c=u.node,h=i.calculatePosMatrix(a.tileID.toUnwrapped(),i.worldSize),p=u.evaluatedScale;let f=0;i.elevation&&c.elevation&&(f=c.elevation*i.elevation.exaggeration()),t.a6.translate(h,h,[(c.anchor?c.anchor[0]:0)*(p[0]-1),(c.anchor?c.anchor[1]:0)*(p[1]-1),f]),t.a6.scale(h,h,p),t.a6.multiply(h,h,c.matrix);const d=e.queryGeometry,m=d.isPointQuery()?d.screenBounds:d.screenGeometry,y=function(e){const r=t.a6.multiply([],h,e.matrix),n=t.a6.multiply(r,i.expandedFarZProjMatrix,r);for(let t=0;t<e.meshes.length;++t){const r=e.meshes[t];if(t===e.lightMeshIndex)continue;const a=ix(m,i,n,r.aabb);null!=a&&(l=Math.min(a,l));}if(e.children)for(const t of e.children)y(t);};if(y(c),l===Number.MAX_VALUE)return {queryFeature:o,intersectionZ:l};const g=new tl(0,0);return Bv(a.tileID.canonical,g,u.node.anchor[0],u.node.anchor[1]),o={type:\"Feature\",geometry:{type:\"Point\",coordinates:[g.lng,g.lat]},properties:u.feature.properties,id:u.feature.id,state:{},layer:this.serialize()},{queryFeature:o,intersectionZ:l}}}},Rv={read:function(t,e){return t.readFields(Rv._readField,{header_length:0,x:0,y:0,z:0,layers:[]},e)},_readField:function(t,e,r){1===t?e.header_length=r.readFixed32():2===t?e.x=r.readVarint():3===t?e.y=r.readVarint():4===t?e.z=r.readVarint():5===t&&e.layers.push(Rv.Layer.read(r,r.readVarint()+r.pos));},PixelFormat:{PIXEL_FORMAT_UNKNOWN:{value:0,options:{}},PIXEL_FORMAT_UINT32:{value:1,options:{}},PIXEL_FORMAT_UINT16:{value:2,options:{}},PIXEL_FORMAT_UINT8:{value:3,options:{}}},Filter:{}};Rv.Filter.read=function(t,e){return t.readFields(Rv.Filter._readField,{delta_filter:null,filter:null,zigzag_filter:null,bitshuffle_filter:null,byteshuffle_filter:null},e)},Rv.Filter._readField=function(t,e,r){1===t?(e.delta_filter=Rv.Filter.Delta.read(r,r.readVarint()+r.pos),e.filter=\"delta_filter\"):2===t?(e.zigzag_filter=Rv.Filter.Zigzag.read(r,r.readVarint()+r.pos),e.filter=\"zigzag_filter\"):3===t?(e.bitshuffle_filter=Rv.Filter.BitShuffle.read(r,r.readVarint()+r.pos),e.filter=\"bitshuffle_filter\"):4===t&&(e.byteshuffle_filter=Rv.Filter.ByteShuffle.read(r,r.readVarint()+r.pos),e.filter=\"byteshuffle_filter\");},Rv.Filter.Delta={},Rv.Filter.Delta.read=function(t,e){return t.readFields(Rv.Filter.Delta._readField,{block_size:0},e)},Rv.Filter.Delta._readField=function(t,e,r){1===t&&(e.block_size=r.readVarint());},Rv.Filter.Zigzag={},Rv.Filter.Zigzag.read=function(t,e){return t.readFields(Rv.Filter.Zigzag._readField,{},e)},Rv.Filter.Zigzag._readField=function(t,e,r){},Rv.Filter.BitShuffle={},Rv.Filter.BitShuffle.read=function(t,e){return t.readFields(Rv.Filter.BitShuffle._readField,{},e)},Rv.Filter.BitShuffle._readField=function(t,e,r){},Rv.Filter.ByteShuffle={},Rv.Filter.ByteShuffle.read=function(t,e){return t.readFields(Rv.Filter.ByteShuffle._readField,{},e)},Rv.Filter.ByteShuffle._readField=function(t,e,r){},Rv.Codec={},Rv.Codec.read=function(t,e){return t.readFields(Rv.Codec._readField,{gzip_data:null,codec:null,jpeg_image:null,webp_image:null,png_image:null},e)},Rv.Codec._readField=function(t,e,r){1===t?(e.gzip_data=Rv.Codec.GzipData.read(r,r.readVarint()+r.pos),e.codec=\"gzip_data\"):2===t?(e.jpeg_image=Rv.Codec.JpegImage.read(r,r.readVarint()+r.pos),e.codec=\"jpeg_image\"):3===t?(e.webp_image=Rv.Codec.WebpImage.read(r,r.readVarint()+r.pos),e.codec=\"webp_image\"):4===t&&(e.png_image=Rv.Codec.PngImage.read(r,r.readVarint()+r.pos),e.codec=\"png_image\");},Rv.Codec.GzipData={},Rv.Codec.GzipData.read=function(t,e){return t.readFields(Rv.Codec.GzipData._readField,{},e)},Rv.Codec.GzipData._readField=function(t,e,r){},Rv.Codec.JpegImage={},Rv.Codec.JpegImage.read=function(t,e){return t.readFields(Rv.Codec.JpegImage._readField,{},e)},Rv.Codec.JpegImage._readField=function(t,e,r){},Rv.Codec.WebpImage={},Rv.Codec.WebpImage.read=function(t,e){return t.readFields(Rv.Codec.WebpImage._readField,{},e)},Rv.Codec.WebpImage._readField=function(t,e,r){},Rv.Codec.PngImage={},Rv.Codec.PngImage.read=function(t,e){return t.readFields(Rv.Codec.PngImage._readField,{},e)},Rv.Codec.PngImage._readField=function(t,e,r){},Rv.DataIndexEntry={},Rv.DataIndexEntry.read=function(t,e){return t.readFields(Rv.DataIndexEntry._readField,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},e)},Rv.DataIndexEntry._readField=function(t,e,r){1===t?e.first_byte=r.readFixed64():2===t?e.last_byte=r.readFixed64():3===t?e.filters.push(Rv.Filter.read(r,r.readVarint()+r.pos)):4===t?e.codec=Rv.Codec.read(r,r.readVarint()+r.pos):5===t?e.offset=r.readFloat():6===t?e.scale=r.readFloat():7===t&&e.bands.push(r.readString());},Rv.Layer={},Rv.Layer.read=function(t,e){return t.readFields(Rv.Layer._readField,{version:0,name:\"\",units:\"\",tilesize:0,buffer:0,pixel_format:0,data_index:[]},e)},Rv.Layer._readField=function(t,e,r){1===t?e.version=r.readVarint():2===t?e.name=r.readString():3===t?e.units=r.readString():4===t?e.tilesize=r.readVarint():5===t?e.buffer=r.readVarint():6===t?e.pixel_format=r.readVarint():7===t&&e.data_index.push(Rv.DataIndexEntry.read(r,r.readVarint()+r.pos));};const Dv={read:function(t,e){return t.readFields(Dv._readField,{uint32_values:null,values:null,fixed32_values:null},e)},_readField:function(t,e,r){2===t?(e.uint32_values=Dv.Uint32Values.read(r,r.readVarint()+r.pos),e.values=\"uint32_values\"):3===t&&(e.fixed32_values=Dv.Fixed32Values.read(r,r.readVarint()+r.pos),e.values=\"fixed32_values\");},Uint32Values:{}};Dv.Uint32Values.read=function(t,e){return t.readFields(Dv.Uint32Values._readField,{values:[]},e)},Dv.Uint32Values._readField=function(t,e,r){1===t&&(e.readValuesInto=function(t){if(2!==t.type)throw new Error(`Unsupported pbf type \"${t.type}\"`);const e=function(t){return 2===t.type?t.readVarint()+t.pos:t.pos+1}(t),r=t.pos;return t.pos=e,function(n){t.pos=r;let i=0;for(;t.pos<e;){const e=t.readVarint();n[i++]=e;}return n}}(r));},Dv.Fixed32Values={},Dv.Fixed32Values.read=function(t,e){return t.readFields(Dv.Fixed32Values._readField,{values:[]},e)},Dv.Fixed32Values._readField=function(t,e,r){throw new Error(\"Not implemented\")};\n/**\n * tiny-lru\n *\n * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>\n * @license BSD-3-Clause\n * @version 11.2.5\n */\nclass Vv{constructor(t=0,e=0,r=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=r,this.size=0,this.ttl=e;}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const e=this.items[t];delete this.items[t],this.size--,null!==e.prev&&(e.prev.next=e.next),null!==e.next&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),this.last===e&&(this.last=e.prev);}return this}entries(t=this.keys()){return t.map((t=>[t,this.get(t)]))}evict(t=!1){if(t||this.size>0){const t=this.first;delete this.items[t.key],0==--this.size?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null);}return this}expiresAt(t){let e;return this.has(t)&&(e=this.items[t].expiry),e}get(t){let e;if(this.has(t)){const r=this.items[t];this.ttl>0&&r.expiry<=Date.now()?this.delete(t):(e=r.value,this.set(t,e,!0));}return e}has(t){return t in this.items}keys(){const t=[];let e=this.first;for(;null!==e;)t.push(e.key),e=e.next;return t}set(t,e,r=!1,n=this.resetTtl){let i;if(r||this.has(t)){if(i=this.items[t],i.value=e,!1===r&&n&&(i.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==i){const t=this.last,e=i.next,r=i.prev;this.first===i&&(this.first=i.next),i.next=null,i.prev=this.last,t.next=i,null!==r&&(r.next=e),null!==e&&(e.prev=r);}}else this.max>0&&this.size===this.max&&this.evict(!0),i=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:e},1==++this.size?this.first=i:this.last.next=i;return this.last=i,this}values(t=this.keys()){return t.map((t=>this.get(t)))}}function Lv(t,e){if(4!==e.length)throw new Error(`Expected data of dimension 4 but got ${e.length}.`);let r=e[3];for(let n=2;n>=1;n--){const i=1===n?1:0,a=2===n?1:0;for(let n=0;n<e[0];n++){const s=e[1]*n;for(let n=i;n<e[1];n++){const i=e[2]*(n+s);for(let n=a;n<e[2];n++){const a=e[3]*(n+i);for(let n=0;n<e[3];n++){const e=a+n;t[e]+=t[e-r];}}}}r*=e[n];}return t}function Fv(t){for(let e=0,r=t.length;e<r;e++)t[e]=t[e]>>>1^-(1&t[e]);return t}function Nv(t,e){switch(e){case\"uint32\":return t;case\"uint16\":for(let e=0;e<t.length;e+=2){const r=t[e],n=t[e+1];t[e]=(240&r)>>4|(61440&r)>>8|(240&n)<<4|61440&n,t[e+1]=15&r|(3840&r)>>4|(15&n)<<8|(3840&n)<<4;}return t;case\"uint8\":for(let e=0;e<t.length;e+=4){const r=t[e],n=t[e+1],i=t[e+2],a=t[e+3];t[e+0]=(192&r)>>6|(192&n)>>4|(192&i)>>2|192&a,t[e+1]=(48&r)>>4|(48&n)>>2|48&i|(48&a)<<2,t[e+2]=(12&r)>>2|12&n|(12&i)<<2|(12&a)<<4,t[e+3]=3&r|(3&n)<<2|(3&i)<<4|(3&a)<<6;}return t;default:throw new Error(`Invalid pixel format, \"${e}\"`)}}class Ov extends Error{constructor(t){super(t),this.name=\"MRTError\";}}var Uv=Uint8Array,jv=Uint16Array,qv=Int32Array,$v=new Uv([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gv=new Uv([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yv=new Uv([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xv=function(t,e){for(var r=new jv(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var i=new qv(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return {b:r,r:i}},Zv=Xv($v,2),Kv=Zv.b,Hv=Zv.r;Kv[28]=258,Hv[258]=28;for(var Wv=Xv(Gv,0).b,Jv=new jv(32768),Qv=0;Qv<32768;++Qv){var tb=(43690&Qv)>>1|(21845&Qv)<<1;Jv[Qv]=((65280&(tb=(61680&(tb=(52428&tb)>>2|(13107&tb)<<2))>>4|(3855&tb)<<4))>>8|(255&tb)<<8)>>1;}var eb=function(t,e,r){for(var n=t.length,i=0,a=new jv(e);i<n;++i)t[i]&&++a[t[i]-1];var s,o=new jv(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;if(r){s=new jv(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=o[t[i]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)s[Jv[h]>>l]=u;}else for(s=new jv(n),i=0;i<n;++i)t[i]&&(s[i]=Jv[o[t[i]-1]++]>>15-t[i]);return s},rb=new Uv(288);for(Qv=0;Qv<144;++Qv)rb[Qv]=8;for(Qv=144;Qv<256;++Qv)rb[Qv]=9;for(Qv=256;Qv<280;++Qv)rb[Qv]=7;for(Qv=280;Qv<288;++Qv)rb[Qv]=8;var nb=new Uv(32);for(Qv=0;Qv<32;++Qv)nb[Qv]=5;var ib=eb(rb,9,1),ab=eb(nb,5,1),sb=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ob=function(t,e,r){var n=e/8|0;return (t[n]|t[n+1]<<8)>>(7&e)&r},lb=function(t,e){var r=e/8|0;return (t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&e)},ub=[\"unexpected EOF\",\"invalid block type\",\"invalid length/literal\",\"invalid distance\",\"stream finished\",\"no stream handler\",,\"no callback\",\"invalid UTF-8 data\",\"extra field too long\",\"date not in range 1980-2099\",\"filename too long\",\"stream finishing\",\"invalid zip data\"],cb=function(t,e,r){var n=new Error(e||ub[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,cb),!r)throw n;return n},hb=new Uv(0),pb=\"undefined\"!=typeof TextDecoder&&new TextDecoder;try{pb.decode(hb,{stream:!0});}catch(t){}const fb={gzip_data:\"gzip\"};const db={0:\"uint32\",1:\"uint32\",2:\"uint16\",3:\"uint8\"},mb={uint32:1,uint16:2,uint8:4},yb={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};class gb{constructor(t=1){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=t;}getLayer(t){return this.layers[t]}getHeaderLength(t){const e=new Uint8Array(t),r=new DataView(t);if(13!==e[0])throw new Ov(\"File is not a valid MRT.\");return r.getUint32(1,!0)}parseHeader(t){const e=new Uint8Array(t),r=this.getHeaderLength(t);if(e.length<r)throw new Ov(`Expected header with length >= ${r} but got buffer of length ${e.length}`);const n=new Vm(e.subarray(0,r)),i=Rv.read(n);if(!isNaN(this.x)&&(this.x!==i.x||this.y!==i.y||this.z!==i.z))throw new Ov(`Invalid attempt to parse header ${i.z}/${i.x}/${i.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=i.x,this.y=i.y,this.z=i.z;for(const t of i.layers)this.layers[t.name]=new xb(t,{cacheSize:this._cacheSize});return this}createDecodingTask(t){const e=[],r=this.getLayer(t.layerName);for(let n=0;n<r.dataIndex.length;n++){const i=r.dataIndex[n],a=i.first_byte-t.firstByte,s=i.last_byte+1-t.firstByte;if(n<t.firstBlock||n>t.lastBlock)continue;if(r._blocksInProgress.has(n))continue;const o={layerName:r.name,firstByte:a,lastByte:s,pixelFormat:r.pixelFormat,blockIndex:n,blockShape:[i.bands.length].concat(r.bandShape),buffer:r.buffer,codec:i.codec.codec,filters:i.filters.map((t=>t.filter))};r._blocksInProgress.add(n),e.push(o);}return new vb(e,(()=>{e.forEach((t=>r._blocksInProgress.delete(t.blockIndex)));}),((t,n)=>{if(e.forEach((t=>r._blocksInProgress.delete(t.blockIndex))),t)throw t;n.forEach((t=>{this.getLayer(t.layerName).processDecodedData(t);}));}))}}class xb{constructor({version:t,name:e,units:r,tilesize:n,pixel_format:i,buffer:a,data_index:s},o){if(this.version=t,1!==this.version)throw new Ov(`Cannot parse raster layer encoded with MRT version ${t}`);this.name=e,this.units=r,this.tileSize=n,this.buffer=a,this.pixelFormat=db[i],this.dataIndex=s,this.bandShape=[n+2*a,n+2*a,mb[this.pixelFormat]],this._decodedBlocks=function(t=1e3,e=0,r=!1){if(isNaN(t)||t<0)throw new TypeError(\"Invalid max value\");if(isNaN(e)||e<0)throw new TypeError(\"Invalid ttl value\");if(\"boolean\"!=typeof r)throw new TypeError(\"Invalid resetTtl value\");return new Vv(t,e,r)}(o?o.cacheSize:5),this._blocksInProgress=new Set;}processDecodedData(t){const e=t.blockIndex.toString();this._decodedBlocks.get(e)||this._decodedBlocks.set(e,t.data);}getBlockForBand(t){let e=0;switch(typeof t){case\"string\":for(const[r,n]of this.dataIndex.entries()){for(const[i,a]of n.bands.entries())if(a===t)return {bandIndex:e+i,blockIndex:r,blockBandIndex:i};e+=n.bands.length;}break;case\"number\":for(const[r,n]of this.dataIndex.entries()){if(t>=e&&t<e+n.bands.length)return {bandIndex:t,blockIndex:r,blockBandIndex:t-e};e+=n.bands.length;}break;default:throw new Ov(`Invalid band \\`${JSON.stringify(t)}\\`. Expected string or integer.`)}throw new Ov(`Band not found: ${JSON.stringify(t)}`)}getDataRange(t){let e=1/0,r=-1/0,n=1/0,i=-1/0;for(const a of t){const{blockIndex:t}=this.getBlockForBand(a);if(t<0)throw new Ov(`Invalid band: ${JSON.stringify(a)}`);const s=this.dataIndex[t];n=Math.min(n,t),i=Math.max(i,t),e=Math.min(e,s.first_byte),r=Math.max(r,s.last_byte);}return {layerName:this.name,firstByte:e,lastByte:r,firstBlock:n,lastBlock:i}}hasBand(t){const{blockIndex:e}=this.getBlockForBand(t);return e>=0}hasDataForBand(t){const{blockIndex:e}=this.getBlockForBand(t);return e>=0&&!!this._decodedBlocks.get(e.toString())}getBandView(t){const{blockIndex:e,blockBandIndex:r}=this.getBlockForBand(t),n=this._decodedBlocks.get(e.toString());if(!n)throw new Ov(`Data for band ${JSON.stringify(t)} of layer \"${this.name}\" not decoded.`);const i=this.dataIndex[e],a=this.bandShape.reduce(((t,e)=>t*e),1),s=r*a,o=n.subarray(s,s+a);return {data:o,bytes:new Uint8Array(o.buffer).subarray(o.byteOffset,o.byteOffset+o.byteLength),tileSize:this.tileSize,buffer:this.buffer,offset:i.offset,scale:i.scale}}}class vb{constructor(t,e,r){this.tasks=t,this._onCancel=e,this._onComplete=r,this._finalized=!1;}cancel(){this._finalized||(this._onCancel(),this._finalized=!0);}complete(t,e){this._finalized||(this._onComplete(t,e),this._finalized=!0);}}gb.performDecoding=function(t,e){return Promise.all(e.tasks.map((e=>{const{layerName:r,firstByte:n,lastByte:i,pixelFormat:a,blockShape:s,blockIndex:o,filters:l,codec:u}=e,c=new Uint8Array(t).subarray(n,i+1),h=new Uint32Array(s[0]*s[1]*s[2]);let p;if(\"gzip_data\"!==u)throw new Error(`Unhandled codec: ${u}`);return p=function(t,e){if(!globalThis.DecompressionStream&&\"gzip_data\"===e)return Promise.resolve(((a=function(t){31==t[0]&&139==t[1]&&8==t[2]||cb(6,\"invalid gzip data\");var e=t[3],r=10;4&e&&(r+=2+(t[10]|t[11]<<8));for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[r++]);return r+(2&e)}(i=t))+8>i.length&&cb(6,\"invalid gzip data\"),function(t,e,r,n){var i=t.length;if(!i||e.f&&!e.l)return r||new Uv(0);var a=!r,s=a||2!=e.i,o=e.i;a&&(r=new Uv(3*i));var l=function(t){var e=r.length;if(t>e){var n=new Uv(Math.max(2*e,t));n.set(r),r=n;}},u=e.f||0,c=e.p||0,h=e.b||0,p=e.l,f=e.d,d=e.m,m=e.n,y=8*i;do{if(!p){u=ob(t,c,1);var g=ob(t,c+1,3);if(c+=3,!g){var x=t[(E=4+((c+7)/8|0))-4]|t[E-3]<<8,v=E+x;if(v>i){o&&cb(0);break}s&&l(h+x),r.set(t.subarray(E,v),h),e.b=h+=x,e.p=c=8*v,e.f=u;continue}if(1==g)p=ib,f=ab,d=9,m=5;else if(2==g){var b=ob(t,c,31)+257,_=ob(t,c+10,15)+4,w=b+ob(t,c+5,31)+1;c+=14;for(var M=new Uv(w),A=new Uv(19),S=0;S<_;++S)A[Yv[S]]=ob(t,c+3*S,7);c+=3*_;var I=sb(A),k=(1<<I)-1,P=eb(A,I,1);for(S=0;S<w;){var E,z=P[ob(t,c,k)];if(c+=15&z,(E=z>>4)<16)M[S++]=E;else {var T=0,B=0;for(16==E?(B=3+ob(t,c,3),c+=2,T=M[S-1]):17==E?(B=3+ob(t,c,7),c+=3):18==E&&(B=11+ob(t,c,127),c+=7);B--;)M[S++]=T;}}var C=M.subarray(0,b),R=M.subarray(b);d=sb(C),m=sb(R),p=eb(C,d,1),f=eb(R,m,1);}else cb(1);if(c>y){o&&cb(0);break}}s&&l(h+131072);for(var D=(1<<d)-1,V=(1<<m)-1,L=c;;L=c){var F=(T=p[lb(t,c)&D])>>4;if((c+=15&T)>y){o&&cb(0);break}if(T||cb(2),F<256)r[h++]=F;else {if(256==F){L=c,p=null;break}var N=F-254;F>264&&(N=ob(t,c,(1<<(j=$v[S=F-257]))-1)+Kv[S],c+=j);var O=f[lb(t,c)&V],U=O>>4;if(O||cb(3),c+=15&O,R=Wv[U],U>3){var j=Gv[U];R+=lb(t,c)&(1<<j)-1,c+=j;}if(c>y){o&&cb(0);break}s&&l(h+131072);var q=h+N;if(h<R){var $=0-R,G=Math.min(R,q);for($+h<0&&cb(3);h<G;++h)r[h]=n[$+h];}for(;h<q;++h)r[h]=r[h-R];}}e.l=p,e.p=L,e.b=h,e.f=u,p&&(u=1,e.m=d,e.d=f,e.n=m);}while(!u);return h!=r.length&&a?function(t,e,r){return (null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new Uv(t.subarray(e,r))}(r,0,h):r.subarray(0,h)}(i.subarray(a,-8),{i:2},new Uv(((r=i)[(n=r.length)-4]|r[n-3]<<8|r[n-2]<<16|r[n-1]<<24)>>>0),void 0)));var r,n,i,a;const s=fb[e];if(!s)throw new Error(`Unhandled codec: ${e}`);const o=new globalThis.DecompressionStream(s);return new Response(new Blob([t]).stream().pipeThrough(o)).arrayBuffer().then((t=>new Uint8Array(t)))}(c,u).then((t=>{const e=Dv.read(new Vm(t));if(\"uint32_values\"===e.values)return e.uint32_values.readValuesInto(h),new(0,yb[a])(h.buffer);throw new Error(`Unhandled numeric data \"${e.values}\"`)})),p.then((t=>{for(let e=l.length-1;e>=0;e--)switch(l[e]){case\"delta_filter\":Lv(t,s);break;case\"zigzag_filter\":Fv(t);break;case\"bitshuffle_filter\":Nv(t,a);break;default:throw new Error(`Unhandled filter \"${l[e]}\"`)}return {layerName:r,blockIndex:o,data:t}})).catch((t=>{throw t}))})))},ra(vb,\"MRTDecodingBatch\",{omit:[\"_onCancel\",\"_onComplete\"]});const bb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class _b{static from(t){if(!(t instanceof ArrayBuffer))throw new Error(\"Data must be an instance of ArrayBuffer.\");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error(\"Data does not appear to be in a KDBush format.\");const n=r>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const i=bb[15&r];if(!i)throw new Error(\"Unrecognized array type.\");const[a]=new Uint16Array(t,2,1),[s]=new Uint32Array(t,4,1);return new _b(s,a,i,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=bb.indexOf(this.ArrayType),a=2*t*this.ArrayType.BYTES_PER_ELEMENT,s=t*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-s%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+o,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+a+s+o),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+o,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t);}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return wb(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,n){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:i,coords:a,nodeSize:s}=this,o=[0,i.length-1,0],l=[];for(;o.length;){const u=o.pop()||0,c=o.pop()||0,h=o.pop()||0;if(c-h<=s){for(let s=h;s<=c;s++){const o=a[2*s],u=a[2*s+1];o>=t&&o<=r&&u>=e&&u<=n&&l.push(i[s]);}continue}const p=h+c>>1,f=a[2*p],d=a[2*p+1];f>=t&&f<=r&&d>=e&&d<=n&&l.push(i[p]),(0===u?t<=f:e<=d)&&(o.push(h),o.push(p-1),o.push(1-u)),(0===u?r>=f:n>=d)&&(o.push(p+1),o.push(c),o.push(1-u));}return l}within(t,e,r){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:n,coords:i,nodeSize:a}=this,s=[0,n.length-1,0],o=[],l=r*r;for(;s.length;){const u=s.pop()||0,c=s.pop()||0,h=s.pop()||0;if(c-h<=a){for(let r=h;r<=c;r++)Ib(i[2*r],i[2*r+1],t,e)<=l&&o.push(n[r]);continue}const p=h+c>>1,f=i[2*p],d=i[2*p+1];Ib(f,d,t,e)<=l&&o.push(n[p]),(0===u?t-r<=f:e-r<=d)&&(s.push(h),s.push(p-1),s.push(1-u)),(0===u?t+r>=f:e+r>=d)&&(s.push(p+1),s.push(c),s.push(1-u));}return o}}function wb(t,e,r,n,i,a){if(i-n<=r)return;const s=n+i>>1;Mb(t,e,s,n,i,a),wb(t,e,r,n,s-1,1-a),wb(t,e,r,s+1,i,1-a);}function Mb(t,e,r,n,i,a){for(;i>n;){if(i-n>600){const s=i-n+1,o=r-n+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(o-s/2<0?-1:1);Mb(t,e,r,Math.max(n,Math.floor(r-o*u/s+c)),Math.min(i,Math.floor(r+(s-o)*u/s+c)),a);}const s=e[2*r+a];let o=n,l=i;for(Ab(t,e,n,r),e[2*i+a]>s&&Ab(t,e,n,i);o<l;){for(Ab(t,e,o,l),o++,l--;e[2*o+a]<s;)o++;for(;e[2*l+a]>s;)l--;}e[2*n+a]===s?Ab(t,e,n,l):(l++,Ab(t,e,l,i)),l<=r&&(n=l+1),r<=l&&(i=l-1);}}function Ab(t,e,r,n){Sb(t,r,n),Sb(e,2*r,2*n),Sb(e,2*r+1,2*n+1);}function Sb(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}function Ib(t,e,r,n){const i=t-r,a=e-n;return i*i+a*a}t.$=Yy,t.A=Di,t.B=Bi,t.C=nr,t.D=qa,t.E=ee,t.F=Oa,t.G=La,t.H=class{constructor(t){this.specification=t;}possiblyEvaluate(t,e){return G(t.expression.evaluate(e))}interpolate(t,e,r){return {x:ue(t.x,e.x,r),y:ue(t.y,e.y,r),z:ue(t.z,e.z,r),azimuthal:ue(t.azimuthal,e.azimuthal,r),polar:ue(t.polar,e.polar,r)}}},t.I=dy,t.J=Ta,t.K=Pa,t.L=Ml,t.M=class{constructor(t,e,r,n){this.id=t,this.position=null!=e?new tl(e[0],e[1]):new tl(0,0),this.orientation=null!=r?r:[0,0,0],this.nodes=n,this.uploaded=!1,this.aabb=new Bh([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[];}_applyTransformations(e,r){if(t.a6.multiply(e.matrix,r,e.matrix),e.meshes)for(const t of e.meshes){const r=Bh.applyTransform(t.aabb,e.matrix);this.aabb.encapsulate(r);}if(e.children)for(const t of e.children)this._applyTransformations(t,e.matrix);}computeBoundsAndApplyParent(){const e=t.a6.identity([]);for(const t of this.nodes)this._applyTransformations(t,e);}computeModelMatrix(t,e,r,n,i,a,s=!1){vx(this.matrix,this,t.transform,this.position,e,r,n,i,a,s);}upload(t){if(!this.uploaded){for(const e of this.nodes)wx(e,t);for(const t of this.nodes)Mx(t);this.uploaded=!0;}}destroy(){for(const t of this.nodes)Ax(t);}},t.O=k,t.P=g,t.Q=Va,t.R=At,t.S=rp,t.T=Cg,t.U=ue,t.V=Tr,t.W=ce,t.X=class{constructor(t){this.specification=t;}possiblyEvaluate(t,e){return function([t,e]){const r=G([1,t,e]);return {x:r.x,y:r.y,z:r.z}}(t.expression.evaluate(e))}interpolate(t,e,r){return {x:ue(t.x,e.x,r),y:ue(t.y,e.y,r),z:ue(t.z,e.z,r)}}},t.Y=function(t,e,r=0,n=!0){const i=new g(r,r),a=t.sub(i),s=e.add(i),o=[a,new g(s.x,a.y),s,new g(a.x,s.y)];return n&&o.push(a.clone()),o},t.Z=Xi,t._=function(t,e){const r=[];for(let n=0;n<t.length;n++){const i=P(n-1,-1,t.length-1),a=P(n+1,-1,t.length-1),s=t[n],o=t[a],l=t[i].sub(s).unit(),u=o.sub(s).unit(),c=u.angleWithSep(l.x,l.y),h=l.add(u).unit().mult(-1*e/Math.sin(c/2));r.push(s.add(h));}return r},t.a=te,t.a$=function(t){const e=[];for(const r in t)e.push(t[r]);return e},t.a0=Yl,t.a1=function(e,r,n=0){return t.N.fromValues(((r.x-n)*e.scale-e.x)*Tr,(r.y*e.scale-e.y)*Tr,gl(r.z,r.y))},t.a2=Sh,t.a3=jd,t.a4=function(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(const a of t)e=Math.min(e,a.x),r=Math.min(r,a.y),n=Math.max(n,a.x),i=Math.max(i,a.y);return {min:new g(e,r),max:new g(n,i)}},t.a5=pl,t.a8=Gl,t.a9=Sl,t.aA=bi,t.aB=eo,t.aC=B,t.aD=qs,t.aE=Mg,t.aF=function(){ka.isLoading()||ka.isLoaded()||\"deferred\"!==Sa()||Ia();},t.aG=Ga,t.aH=Bl,t.aI=xv,t.aJ=X,t.aK=Nd,t.aL=lf,t.aM=Tl,t.aN=ps,t.aO=Vs,t.aP=Vh,t.aQ=rf,t.aR=Bg,t.aS=function(e,r){const n=rp(r.zoom);if(0===n)return jh(e);const i=Yh(e),a=Xh(i),s=pl(i.getWest())*r.worldSize,o=pl(i.getEast())*r.worldSize,l=fl(i.getNorth())*r.worldSize,u=fl(i.getSouth())*r.worldSize,c=[s,l,0],h=[o,l,0],p=[s,u,0],f=[o,u,0],d=t.a6.invert([],r.globeMatrix);return t.N.transformMat4(c,c,d),t.N.transformMat4(h,h,d),t.N.transformMat4(p,p,d),t.N.transformMat4(f,f,d),a[0]=qh(a[0],p,n),a[1]=qh(a[1],f,n),a[2]=qh(a[2],h,n),a[3]=qh(a[3],c,n),Bh.fromPoints(a)},t.aT=Wh,t.aU=Zh,t.aV=qh,t.aW=fs,t.aX=Dh,t.aY=V,t.aZ=gb,t.a_=Pt,t.aa=I,t.ab=jo,t.ac=function(t,e){const r={};for(let n=0;n<e.length;n++){const i=e[n];i in t&&(r[i]=t[i]);}return r},t.ad=el,t.ae=fl,t.af=class{constructor(t){this.entries={},this.scheduler=t;}request(t,e,r,n){const i=this.entries[t]=this.entries[t]||{callbacks:[]};if(i.result){const[t,r]=i.result;return this.scheduler?this.scheduler.add((()=>{n(t,r);}),e):n(t,r),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=r(((r,n)=>{i.result=[r,n];for(const t of i.callbacks)this.scheduler?this.scheduler.add((()=>{t(r,n);}),e):t(r,n);setTimeout((()=>delete this.entries[t]),3e3);}))),()=>{i.result||(i.callbacks=i.callbacks.filter((t=>t!==n)),i.callbacks.length||(i.cancel(),delete this.entries[t]));}}},t.ag=is,t.ah=function(t,e,r){const n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:\"parseTile\",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},(e=>{const n=Pt(t.request,((t,n,i,a)=>{t?e(t):n&&e(null,{vectorTile:r?void 0:new Ef(new Vm(n)),rawData:n,cacheControl:i,expires:a});}));return ()=>{n.cancel(),e();}}),e)},t.ai=function(t){yt++,yt>ut&&(t.getActor().send(\"enforceCacheSizeLimit\",lt),yt=0);},t.aj=qt,t.ak=at,t.al=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.am=sl,t.an=Og,t.ao=qg,t.ap=Fg,t.aq=function(t,e){const r=document.createElement(\"video\");r.muted=!0,r.onloadstart=function(){e(null,r);};for(let e=0;e<t.length;e++){const n=document.createElement(\"source\");Et(t[e])||(r.crossOrigin=\"Anonymous\"),n.src=t[e],r.appendChild(n);}return {cancel:()=>{}}},t.ar=Rg,t.as=Gy,t.at=ml,t.au=yl,t.av=ds,t.aw=Es,t.ax=le,t.ay=cs,t.az=Ls,t.b=Qt,t.b$=wa,t.b0=function(t,e){const r=[];for(const n in t)n in e||r.push(n);return r},t.b1=E,t.b2=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"],t.b3=function(e,r){const{x:n,y:i}=e.point,a=ep(n,i,e.worldSize/e._pixelsPerMercatorPixel,0,0);return t.a6.multiply(a,a,Jh(jh(r)))},t.b5=lm,t.b6=jm,t.b7=om,t.b8=function(t,e,r,n,i){const a=5*e+2;t.float32[a+0]=r,t.float32[a+1]=n,t.float32[a+2]=i;},t.b9=vg,t.bA=Wg,t.bB=Kg,t.bC=function(e){const r=Kg(e,!0);return t.b4.invert([],[r[0],r[1],r[4],r[5]])},t.bD=Ih,t.bE=function(t){const{x:e,y:r}=t.point,{lng:n,lat:i}=t._center;return ep(e,r,t.worldSize,n,i)},t.bF=_,t.bG=qo,t.bH=function(t){const e=Math.round((t+45+360)%360/90)%4;return w[e]},t.bI=45,t.bJ=hl,t.bK=So,t.bL=bo,t.bM=_o,t.bN=vo,t.bO=xo,t.bP=wo,t.bQ=function(t,e,r){const n=Math.sqrt(t*t+e*e+r*r),i=n>0?Math.acos(r/n)*v:0;let a=0!==t||0!==e?Math.atan2(-e,-t)*v+90:0;return a<0&&(a+=360),[n,a,i]},t.bR=wl,t.bS=Bh,t.bT=G,t.bU=function(t){return [Math.pow(t[0],1/2.2),Math.pow(t[1],1/2.2),Math.pow(t[2],1/2.2)]},t.bV=function(t){return t({pluginStatus:ba,pluginURL:_a}),Aa.on(\"pluginStateChange\",t),t},t.bW=Px,t.bX=Rx,t.bY=_y,t.bZ=by,t.b_=It,t.ba=hy,t.bb=Vl,t.bc=im,t.bd=Ry,t.be=Dy,t.bf=Qm,t.bg=_b,t.bh=P,t.bj=b,t.bk=rt,t.bl=dl,t.bm=function(t,e,r){t[4*e+0]=r[0],t[4*e+1]=r[1],t[4*e+2]=r[2],t[4*e+3]=r[3];},t.bn=tl,t.bo=fg,t.bp=al,t.bq=Th,t.br=Hg,t.bs=il,t.bt=Gh,t.bu=function(t,e,r,n,i,a,s,o,l){if(\"globe\"===l.name)return Gh(t,e,new il(r,n,i),!1);const u=Gy({z:r,x:n,y:i},l);return new Bh([(a+u.x/u.scale)*e,e*(u.y/u.scale),s],[(a+u.x2/u.scale)*e,e*(u.y2/u.scale),o])},t.bv=function(t,e,r){let n=0;for(let i=0;i<2;++i){const a=r?r[i]:0;t[i]>a&&(n+=(t[i]-a)*(t[i]-a)),e[i]<a&&(n+=(a-e[i])*(a-e[i]));}return n},t.bw=xl,t.bx=$o,t.by=function(e){const r=t.a6.identity(new Float64Array(16));t.a6.multiply(r,e.pixelMatrix,e.globeMatrix);const n=[0,Zo,0],i=[0,Ko,0];return t.N.transformMat4(n,n,r),t.N.transformMat4(i,i,r),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!ip(e,new tl(e.center.lat,90)),i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!ip(e,new tl(e.center.lat,-90))]},t.bz=function(e,r){const{scale:n}=e.tileTransform,i=n*Tr/(e.tileSize*Math.pow(2,r.zoom-e.tileID.overscaledZ+e.tileID.canonical.z));return t.b4.scale(new Float32Array(4),r.inverseAdjustmentMatrix,[i,i])},t.c=fv,t.c$=function(){return !!document.fullscreenElement||!!document.webkitFullscreenElement},t.c0=a,t.c1=O,t.c2=function(t,e,r){return \"custom\"===t.type?new $g(t,e):new Cv[t.type](t,e,r)},t.c3=function(t){const e=t.indexOf(ns);return e>=0?t.slice(0,e):t},t.c4=function(t){return t.indexOf(ns)>=0},t.c5=function(t){const e=t.indexOf(ns);return e>=0?t.slice(e+1):\"\"},t.c6=function(t){const e=[],r=t.id;return void 0===r&&e.push({message:`layers.${r}: missing required property \"id\"`}),void 0===t.render&&e.push({message:`layers.${r}: missing required method \"render\"`}),t.renderingMode&&\"2d\"!==t.renderingMode&&\"3d\"!==t.renderingMode&&e.push({message:`layers.${r}: property \"renderingMode\" must be either \"2d\" or \"3d\"`}),e},t.c7=N,t.c8=Aa,t.c9=kt,t.cA=Gd,t.cB=(t,e,r,n,i,a)=>{const s=t.transform;return {u_matrix:$d(t,e,r,n),u_texsize:e.imageAtlasTexture?e.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:s.calculatePixelsToTileUnitsMatrix(e),u_device_pixel_ratio:i,u_image:0,u_tile_units_to_pixels:qd(e,s),u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:a}},t.cC=(t,e,r,n,i,a,s)=>{const o=t.transform,l=o.calculatePixelsToTileUnitsMatrix(e);return {u_matrix:$d(t,e,r,n),u_pixels_to_tile_units:l,u_device_pixel_ratio:a,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:i,u_texsize:Yd(r)&&e.lineAtlasTexture?e.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:qd(e,t.transform),u_alpha_discard_threshold:0,u_trim_offset:s,u_emissive_strength:r.paint.get(\"line-emissive-strength\")}},t.cD=R,t.cE=Ap,t.cF=Md,t.cG=ll,t.cH=md,t.cI=id,t.cJ=450,t.cK=7,t.cL=Ng,t.cM=256,t.cN=Jh,t.cO=Cs,t.cP=Rs,t.cQ=function(t,e,r,n,i){return I((t-e)/(r-e)*(i-n)+n,n,i)},t.cR=bl,t.cS=nx,t.cT=[1,1,1],t.cU=Wf,t.cV=xx,t.cW=As,t.cX=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[];}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[];}get updateTime(){return this._updateTime}getReplacementRegionsForTile(t){const e=Df(new g(0,0),new g(Tr,Tr),t),r=[];for(const n of this._activeRegions){if(n.hiddenByOverlap)continue;if(!Rf(e,n))continue;const i=Vf(n.min,n.max,t);r.push({min:i.min,max:i.max,sourceId:this._sourceIds[n.priority],footprint:n.footprint,footprintTileId:n.tileId});}return r}setSources(t){this._setSources(t.map((t=>({getSourceId:()=>t.cache.id,getFootprints:()=>{const e=[];for(const r of t.cache.getVisibleCoordinates()){const n=t.cache.getTile(r).buckets[t.layer];if(n)for(const t of n.getNodesInfo()){const n=t.node;n.footprint&&e.push({footprint:n.footprint,id:r.toUnwrapped()});}}return e}}))));}_addSource(t){const e=t.getFootprints();if(0!==e.length){for(const t of e){if(!t.footprint)continue;const e=Df(t.footprint.min,t.footprint.max,t.id);this._activeRegions.push({min:e.min,max:e.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:t.id,footprint:t.footprint});}this._sourceIds.push(t.getSourceId());}}_computeReplacement(){this._activeRegions.sort(((t,e)=>t.priority-e.priority||Bf(t.min,e.min)||Bf(t.max,e.max)));let t=this._activeRegions.length!==this._prevRegions.length;if(!t){let e=0,r=0;for(;!t&&e!==this._activeRegions.length;){const n=this._activeRegions[e],i=this._prevRegions[r];t=n.priority!==i.priority||!Cf(n,i),++e,++r;}}if(t){++this._updateTime;const t=t=>{const e=this._activeRegions;if(t>=e.length)return t;const r=e[t].priority;for(;t<e.length&&e[t].priority===r;)++t;return t};if(this._sourceIds.length>1){let e=0,r=t(e);for(;e!==r;){let n=e;const i=e;for(;n!==r;){const t=this._activeRegions[n];t.hiddenByOverlap=!1;for(let e=0;e<i;e++){const r=this._activeRegions[e];if(!r.hiddenByOverlap&&Rf(t,r)&&(t.hiddenByOverlap=Ff(t.footprint,t.tileId,r.footprint,r.tileId),t.hiddenByOverlap))break}++n;}e=r,r=t(e);}}}}_setSources(t){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let e=t.length-1;e>=0;e--)this._addSource(t[e]);this._computeReplacement();}},t.cY=class{constructor(t){this._createGrid(t),this._createPoles(t);}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const t of this._poleSegments)t.destroy();for(const t of this._gridSegments)t.withSkirts.destroy(),t.withoutSkirts.destroy();}_fillGridMeshWithLods(t,e){const r=new ps,n=new Es,i=[],a=t+1+2,s=e[0]+1,o=e[0]+1+(1+e.length),l=(t,e,r)=>{let n=t===a-1?t-2:0===t?t:t-1;return n+=r?24575:0,[n,e]};for(let t=0;t<a;++t)r.emplaceBack(...l(t,0,!0));for(let t=0;t<s;++t)for(let e=0;e<a;++e)r.emplaceBack(...l(e,t,(0===e||e===a-1)&&!0));for(let t=0;t<e.length;++t){const n=e[t];for(let t=0;t<a;++t)r.emplaceBack(...l(t,n,!0));}for(let t=0;t<e.length;++t){const s=n.length,l=e[t]+1+2,u=new Es;for(let r=0;r<l-1;r++){const i=r===l-2,s=i?a*(o-e.length+t-r):a;for(let t=0;t<a-1;t++){const e=r*a+t;0===r||i||0===t||t===a-2?(u.emplaceBack(e+1,e,e+s),u.emplaceBack(e+s,e+s+1,e+1)):(n.emplaceBack(e+1,e,e+s),n.emplaceBack(e+s,e+s+1,e+1));}}const c=eo.simpleSegment(0,s,r.length,n.length-s);for(let t=0;t<u.uint16.length;t+=3)n.emplaceBack(u.uint16[t],u.uint16[t+1],u.uint16[t+2]);const h=eo.simpleSegment(0,s,r.length,n.length-s);i.push({withoutSkirts:c,withSkirts:h});}return {vertices:r,indices:n,segments:i}}_createGrid(t){const e=this._fillGridMeshWithLods(Yo,Xo);this._gridSegments=e.segments,this._gridBuffer=t.createVertexBuffer(e.vertices,Vh.members),this._gridIndexBuffer=t.createIndexBuffer(e.indices,!0);}_createPoles(t){const e=new Es;for(let t=0;t<=Yo;t++)e.emplaceBack(0,t+1,t+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);const r=new Cs,n=new Cs,i=new Cs,a=new Cs;this._poleSegments=[];for(let t=0,e=0;t<qo;t++){const s=360/(1<<t);r.emplaceBack(0,-jo,0,.5,0),n.emplaceBack(0,-jo,0,.5,1),i.emplaceBack(0,-jo,0,.5,.5),a.emplaceBack(0,-jo,0,.5,.5);for(let t=0;t<=Yo;t++){let e=t/Yo,o=0;const l=ue(0,s,e),[u,c,h]=Ho(sp,op,l,jo);r.emplaceBack(u,c,h,e,o),n.emplaceBack(u,c,h,e,1-o);const p=b(l);e=.5+.5*Math.sin(p),o=.5+.5*Math.cos(p),i.emplaceBack(u,c,h,e,o),a.emplaceBack(u,c,h,e,1-o);}this._poleSegments.push(eo.simpleSegment(e,0,66,64)),e+=66;}this._poleNorthVertexBuffer=t.createVertexBuffer(r,Rh,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(n,Rh,!1),this._texturedPoleNorthVertexBuffer=t.createVertexBuffer(i,Rh,!1),this._texturedPoleSouthVertexBuffer=t.createVertexBuffer(a,Rh,!1);}getGridBuffers(t,e){return [this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[t].withSkirts:this._gridSegments[t].withoutSkirts]}getPoleBuffers(t,e){return [e?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,e?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}},t.cZ=function(t){return Ht.has(t)},t.c_=A,t.ca=Mo,t.cb=class extends go{constructor(t){super(t),this.current=Io;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<9;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}},t.cc=M,t.cd=function(t,e,r){const n=rp(r.zoom),i=t.style.map._antialias,a=e.options.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return 0===n&&!i&&!a},t.ce=function(e){const r=e.pixelsPerMeter,n=r/dl(1,e.center.lat),i=t.a6.identity(new Float64Array(16));return t.a6.translate(i,i,[e.point.x,e.point.y,0]),t.a6.scale(i,i,[n,n,r]),Float32Array.from(i)},t.cf=Yh,t.cg=function(t){const e=xl-5;t=I(t,-e,e)/e*90;const r=Math.pow(Math.abs(Math.sin(b(t))),3);return Math.round(r*(Xo.length-1))},t.ch=function(e,r,n,i){const a=r.getNorth(),s=r.getSouth(),o=r.getWest(),l=r.getEast(),u=1<<e.z,c=l-o,h=a-s,p=c/Yo,f=-h/Xo[n],d=[0,p,0,f,0,0,a,o,0];if(e.z>0){const e=180/i;t.co.multiply(d,d,[e/c+1,0,0,0,e/h+1,0,-.5*e/p,.5*e/f,1]);}return d[2]=u,d[5]=e.x,d[8]=e.y,d},t.ci=jh,t.cj=function(e,r,n){const i=t.a6.identity(new Float64Array(16)),a=(r/(1<<e)-.5)*Math.PI*2;return t.a6.rotateY(i,n.globeMatrix,a),Float32Array.from(i)},t.ck=class{isDataAvailableAtPoint(t){const e=this._source();if(this.isUsingMockSource()||!e||t.y<0||t.y>1)return !1;const r=e.getSource().maxzoom,n=1<<r,i=Math.floor(t.x),a=Math.floor((t.x-i)*n),s=Math.floor(t.y*n),o=this.findDEMTileFor(new sl(r,i,r,a,s));return !(!o||!o.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,r=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;const i=n.getSource().maxzoom,a=1<<i,s=Math.floor(t.x),o=t.x-s,l=new sl(i,s,i,Math.floor(o*a),Math.floor(t.y*a)),u=this.findDEMTileFor(l);if(!u||!u.dem)return e;const c=u.dem,h=1<<u.tileID.canonical.z,p=(o*h-u.tileID.canonical.x)*c.dim,f=(t.y*h-u.tileID.canonical.y)*c.dim,d=Math.floor(p),m=Math.floor(f);return (r?this.exaggeration():1)*ue(ue(c.get(d,m),c.get(d,m+1),f-m),ue(c.get(d+1,m),c.get(d+1,m+1),f-m),p-d)}getAtTileOffset(t,e,r){const n=1<<t.canonical.z;return this.getAtPointOrZero(new Ml(t.wrap+(t.canonical.x+e/Tr)/n,(t.canonical.y+r/Tr)/n))}getAtTileOffsetFunc(e,r,n,i){return a=>{const s=this.getAtTileOffset(e,a.x,a.y),o=i.upVector(e.canonical,a.x,a.y),l=i.upVectorScale(e.canonical,r,n).metersToTile;return t.N.scale(o,o,s*l),o}}getForTilePoints(t,e,r,n){if(this.isUsingMockSource())return !1;const i=Wf.create(this,t,n);return !!i&&(e.forEach((t=>{t[2]=this.exaggeration()*i.getElevationAt(t[0],t[1],r);})),!0)}getMinMaxForTile(t){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const r=e.dem.tree,n=e.tileID,i=1<<t.canonical.z-n.canonical.z;let a=t.canonical.x/i-n.canonical.x,s=t.canonical.y/i-n.canonical.y,o=0;for(let e=0;e<t.canonical.z-n.canonical.z&&!r.leaves[o];e++){a*=2,s*=2;const t=2*Math.floor(s)+Math.floor(a);o=r.childOffsets[o]+t,a%=1,s%=1;}return {min:this.exaggeration()*r.minimums[o],max:this.exaggeration()*r.maximums[o]}}getMinElevationBelowMSL(){throw new Error(\"Pure virtual method called.\")}raycast(t,e,r){throw new Error(\"Pure virtual method called.\")}pointCoordinate(t){throw new Error(\"Pure virtual method called.\")}_source(){throw new Error(\"Pure virtual method called.\")}isUsingMockSource(){throw new Error(\"Pure virtual method called.\")}exaggeration(){throw new Error(\"Pure virtual method called.\")}findDEMTileFor(t){throw new Error(\"Pure virtual method called.\")}get visibleDemTiles(){throw new Error(\"Getter must be implemented in subclass.\")}getMinMaxForVisibleTiles(){const t=this.visibleDemTiles;if(0===t.length)return null;let e=!1,r=Number.MAX_VALUE,n=Number.MIN_VALUE;for(const i of t){const t=this.getMinMaxForTile(i.tileID);t&&(r=Math.min(r,t.min),n=Math.max(n,t.max),e=!0);}return e?{min:r,max:n}:null}},t.cl=Lh,t.cm=_p,t.cn=function(t,e){return [Math.pow(t[0],2.2)*e,Math.pow(t[1],2.2)*e,Math.pow(t[2],2.2)*e]},t.cp=tp,t.cq=256,t.cr=function(e,r){const n=[0,0,0],i=Wh(jh(r.canonical));return t.N.transformMat4(n,n,i),t.N.transformMat4(n,n,e),n},t.cs=t=>({u_camera_to_center_distance:new vo(t),u_extrude_scale:new Po(t),u_device_pixel_ratio:new vo(t),u_matrix:new So(t),u_inv_rot_matrix:new So(t),u_merc_center:new bo(t),u_tile_id:new _o(t),u_zoom_transition:new vo(t),u_up_dir:new _o(t),u_emissive_strength:new vo(t)}),t.ct=t=>({u_matrix:new So(t),u_pixels_to_tile_units:new Po(t),u_device_pixel_ratio:new vo(t),u_units_to_pixels:new bo(t),u_dash_image:new xo(t),u_gradient_image:new xo(t),u_image_height:new vo(t),u_texsize:new bo(t),u_tile_units_to_pixels:new vo(t),u_alpha_discard_threshold:new vo(t),u_trim_offset:new bo(t),u_emissive_strength:new vo(t)}),t.cu=t=>({u_matrix:new So(t),u_texsize:new bo(t),u_pixels_to_tile_units:new Po(t),u_device_pixel_ratio:new vo(t),u_image:new xo(t),u_units_to_pixels:new bo(t),u_tile_units_to_pixels:new vo(t),u_alpha_discard_threshold:new vo(t),u_trim_offset:new bo(t)}),t.cv=ks,t.cw=nm,t.cx=um,t.cy=up,t.cz=(t,e,r,n,i,a)=>{const s=t.transform,o=\"globe\"===s.projection.name;let l;if(\"map\"===a.paint.get(\"circle-pitch-alignment\"))if(o){const t=tp(s.zoom,e.canonical)*s._pixelsPerMercatorPixel;l=Float32Array.from([t,0,0,t]);}else l=s.calculatePixelsToTileUnitsMatrix(r);else l=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:t.transform.getCameraToCenterDistance(s.projection),u_matrix:t.translatePosMatrix(e.projMatrix,r,a.paint.get(\"circle-translate\"),a.paint.get(\"circle-translate-anchor\")),u_device_pixel_ratio:st.devicePixelRatio,u_extrude_scale:l,u_inv_rot_matrix:lp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:a.paint.get(\"circle-emissive-strength\")};if(o){u.u_inv_rot_matrix=n,u.u_merc_center=i,u.u_tile_id=[e.canonical.x,e.canonical.y,1<<e.canonical.z],u.u_zoom_transition=rp(s.zoom);const t=i[0]*Tr,r=i[1]*Tr;u.u_up_dir=s.projection.upVector(new il(0,0,0),t,r);}return u},t.d=Ct,t.d0=S,t.d1=_l,t.d2=Wo,t.d3=function([t,e,r]){const n=Math.hypot(t,e,r),i=Math.atan2(t,r),a=.5*Math.PI-Math.acos(-e/n);return new tl(_(i),_(a))},t.d4=Jo,t.d5=n,t.d6=ip,t.d7=np,t.d8=function(e){const r=[0,0,0],n=t.a6.identity(new Float64Array(16));return t.a6.multiply(n,e.pixelMatrix,e.globeMatrix),t.N.transformMat4(r,r,n),new g(r[0],r[1])},t.d9=function(t){const e=t.navigator?t.navigator.userAgent:null;return !!function(t){if(null==tt){const e=t.navigator?t.navigator.userAgent:null;tt=!!t.safari||!(!e||!(/\\b(iPad|iPhone|iPod)\\b/.test(e)||e.match(\"Safari\")&&!e.match(\"Chrome\")));}return tt}(t)&&e&&(e.match(\"Version/15.4\")||e.match(\"Version/15.5\")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},t.dA=vy,t.dB=yv,t.dC=vv,t.dD=Vd,t.dE=F,t.dF=my,t.dG=function(t,e,r,n,i,a,s,o,l,u,c){t.createArrays(),t.tilePixelRatio=Tr/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const h=t.layers[0].layout,p=t.layers[0]._unevaluatedLayout._values,f={};if(\"composite\"===t.textSizeData.kind){const{minZoom:e,maxZoom:r}=t.textSizeData;f.compositeTextSizes=[p[\"text-size\"].possiblyEvaluate(new Pa(e),o),p[\"text-size\"].possiblyEvaluate(new Pa(r),o)];}if(\"composite\"===t.iconSizeData.kind){const{minZoom:e,maxZoom:r}=t.iconSizeData;f.compositeIconSizes=[p[\"icon-size\"].possiblyEvaluate(new Pa(e),o),p[\"icon-size\"].possiblyEvaluate(new Pa(r),o)];}f.layoutTextSize=p[\"text-size\"].possiblyEvaluate(new Pa(l+1),o),f.layoutIconSize=p[\"icon-size\"].possiblyEvaluate(new Pa(l+1),o),f.textMaxSize=p[\"text-size\"].possiblyEvaluate(new Pa(18),o);const d=\"map\"===h.get(\"text-rotation-alignment\")&&\"point\"!==h.get(\"symbol-placement\"),m=h.get(\"text-size\");let y=!1;for(const e of t.features)if(e.icon&&e.icon.nameSecondary){y=!0;break}for(const a of t.features){const l=h.get(\"text-font\").evaluate(a,{},o).join(\",\"),p=m.evaluate(a,{},o),g=f.layoutTextSize.evaluate(a,{},o),x=(f.layoutIconSize.evaluate(a,{},o),{horizontal:{},vertical:void 0}),v=a.text;let b,_=[0,0];if(v){const n=v.toString(),s=h.get(\"text-letter-spacing\").evaluate(a,{},o)*im,u=h.get(\"text-line-height\").evaluate(a,{},o)*im,c=ua(n)?s:0,f=h.get(\"text-anchor\").evaluate(a,{},o),m=h.get(\"text-variable-anchor\");if(!m){const t=h.get(\"text-radial-offset\").evaluate(a,{},o);_=t?Ry(f,[t*im,By]):h.get(\"text-offset\").evaluate(a,{},o).map((t=>t*im));}let y=d?\"center\":h.get(\"text-justify\").evaluate(a,{},o);const b=\"point\"===h.get(\"symbol-placement\"),w=b?h.get(\"text-max-width\").evaluate(a,{},o)*im:1/0,M=a=>{t.allowVerticalPlacement&&la(n)&&(x.vertical=Gm(v,e,r,i,l,w,u,f,a,c,_,jm.vertical,!0,g,p));};if(!d&&m){const t=\"auto\"===y?m.map((t=>Dy(t))):[y];let n=!1;for(let a=0;a<t.length;a++){const s=t[a];if(!x.horizontal[s])if(n)x.horizontal[s]=x.horizontal[0];else {const t=Gm(v,e,r,i,l,w,u,\"center\",s,c,_,jm.horizontal,!1,g,p);t&&(x.horizontal[s]=t,n=1===t.positionedLines.length);}}M(\"left\");}else {if(\"auto\"===y&&(y=Dy(f)),b||h.get(\"text-writing-mode\").indexOf(\"horizontal\")>=0||!la(n)){const t=Gm(v,e,r,i,l,w,u,f,y,c,_,jm.horizontal,!1,g,p);t&&(x.horizontal[y]=t);}M(b?\"left\":y);}}let w=!1;if(a.icon&&a.icon.namePrimary){const e=n[a.icon.namePrimary];e&&(b=ey(i[a.icon.namePrimary],a.icon.nameSecondary?i[a.icon.nameSecondary]:void 0,h.get(\"icon-offset\").evaluate(a,{},o),h.get(\"icon-anchor\").evaluate(a,{},o)),w=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&j(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),(e.pixelRatio!==t.pixelRatio||0!==h.get(\"icon-rotate\").constantOr(1))&&(t.iconsNeedLinear=!0));}const M=Oy(x.horizontal)||x.vertical;t.iconsInText||(t.iconsInText=!!M&&M.iconsInText),(M||b)&&Vy(t,a,x,b,n,f,g,0,_,w,s,o,u,c,y);}a&&t.generateCollisionDebugBuffers(l,t.collisionBoxArray);},t.dH=Ef,t.dI=Vm,t.dJ=Hf,t.dK=h,t.dL=zf,t.dM=gf,t.dN=m,t.dO=mm,t.dP=function(t){let e=0;if(new Uint32Array(t,0,1)[0]!==Wx){const r=new Uint32Array(t,0,7),[,,n,i,a,s]=r;e=r.byteLength+i+a+s+a,(n!==t.byteLength||e>=t.byteLength)&&j(\"Invalid b3dm header information.\");}return nv(t,e)},t.dQ=function(t,e){const r=fv(t);for(const t of r){for(const e of t.meshes)dv(e);t.lights&&(t.lightMeshIndex=t.meshes.length,t.meshes.push(mv(t.lights,e)));}return r},t.dR=Pv,t.dS=kx,t.dT=ka,t.dU=function(t){ft(),ct&&ct.then((e=>{e.keys().then((r=>{for(let n=0;n<r.length-t;n++)e.delete(r[n]);}));}));},t.da=class{constructor(t,e,r){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!r,this._createSkuToken();}_createSkuToken(){const t=function(){let t=\"\";for(let e=0;e<10;e++)t+=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"[Math.floor(62*Math.random())];return {token:[\"1\",Rt,t].join(\"\"),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt;}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,r){if(!a(t))return t;const n=Lt(t);return n.params.push(`sdk=js-${e}`),n.path=`/styles/v1${n.path}`,this._makeAPIURL(n,this._customAccessToken||r)}normalizeGlyphsURL(t,e){if(!a(t))return t;const r=Lt(t);return r.path=`/fonts/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeModelURL(t,e){if(!a(t))return t;const r=Lt(t);return r.path=`/models/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeSourceURL(t,e,r,n){if(!a(t))return t;const i=Lt(t);return i.path=`/v4/${i.authority}.json`,i.params.push(\"secure\"),r&&i.params.push(`language=${r}`),n&&i.params.push(`worldview=${n}`),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(t,e,r,n){const i=Lt(t);return a(t)?(i.path=`/styles/v1${i.path}/sprite${e}${r}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${e}${r}`,Ft(i))}normalizeTileURL(t,e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!a(t))return t;const i=Lt(t);i.path=i.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,`${e||r&&\"raster\"!==i.authority&&512===r?\"@2x\":\"\"}${gt.supported?\".webp\":\"$1\"}`),\"raster\"===i.authority?i.path=`/${n.RASTER_URL_PREFIX}${i.path}`:\"rasterarrays\"===i.authority?i.path=`/${n.RASTERARRAYS_URL_PREFIX}${i.path}`:(i.path=i.path.replace(/^.+\\/v4\\//,\"/\"),i.path=`/${n.TILE_URL_VERSION}${i.path}`);const s=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(i.params)||n.ACCESS_TOKEN;return n.REQUIRE_ACCESS_TOKEN&&s&&this._skuToken&&i.params.push(`sku=${this._skuToken}`),this._makeAPIURL(i,s)}canonicalizeTileURL(t,e){const r=Lt(t);if(!r.path.match(/^(\\/v4\\/|\\/(raster|rasterarrays)\\/v1\\/)/)||!r.path.match(/\\.[\\w]+$/))return t;let i=\"mapbox://\";r.path.match(/^\\/raster\\/v1\\//)?i+=`raster/${r.path.replace(`/${n.RASTER_URL_PREFIX}/`,\"\")}`:r.path.match(/^\\/rasterarrays\\/v1\\//)?i+=`rasterarrays/${r.path.replace(`/${n.RASTERARRAYS_URL_PREFIX}/`,\"\")}`:i+=`tiles/${r.path.replace(`/${n.TILE_URL_VERSION}/`,\"\")}`;let a=r.params;return e&&(a=a.filter((t=>!t.match(/^access_token=/)))),a.length&&(i+=`?${a.join(\"&\")}`),i}canonicalizeTileset(t,e){const r=!!e&&a(e),n=[];for(const e of t.tiles||[])i(e)?n.push(this.canonicalizeTileURL(e,r)):n.push(e);return n}_makeAPIURL(t,e){const r=\"See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\",i=Lt(n.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,\"http\"===t.protocol){const e=t.params.indexOf(\"secure\");e>=0&&t.params.splice(e,1);}if(\"/\"!==i.path&&(t.path=`${i.path}${t.path}`),!n.REQUIRE_ACCESS_TOKEN)return Ft(t);if(e=e||n.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${r}`);if(\"s\"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${r}`)}return t.params=t.params.filter((t=>-1===t.indexOf(\"access_token\"))),t.params.push(`access_token=${e||\"\"}`),Ft(t)}},t.db=function(t,e){e?Ht.add(t):Ht.delete(t);},t.dc=gt,t.dd=Xt,t.de=Kt,t.df=Dt,t.dg=Gt,t.dh=function(t){Ht.delete(t);},t.di=Zt,t.dj=$t,t.dk=e,t.dl=function(t,e){lt=t,ut=e;},t.dm=function(t,e,r=!1){if(ba===ya||ba===ga||ba===xa)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");_a=st.resolveURL(t),ba=ya,va=e,Ma(),r||Ia();},t.dn=Sa,t.dp=function(){Rx().acquire(Tx);},t.dq=function(){const t=Cx;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Tx),Cx=null):console.warn(\"Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()\"));},t.dr=Bx,t.ds=function(t){const e=pt();if(!e)return;const r=e.delete(ot);t&&r.catch(t).then((()=>t()));},t.dt=Ex,t.du=Ux,t.dv=function(t){Vx=st.resolveURL(t),Ox||(Ox=new Px(Rx(),new ee)),Ox.broadcast(\"setDracoUrl\",Vx);},t.dw=jx,t.dx=function(t){Fx=st.resolveURL(t),Ox||(Ox=new Px(Rx(),new ee)),Ox.broadcast(\"setMeshoptUrl\",Fx);},t.dy=ra,t.dz=vp,t.e=z,t.f=st,t.g=function(t,e){return kt(z(t,{type:\"json\"}),e)},t.h=bp,t.i=Ke,t.j=pe,t.k=Ti,t.l=function(t){return fetch(t).then((t=>t.arrayBuffer())).then((e=>nv(e,0,t)))},t.m=Ci,t.n=$i,t.o=ja,t.p=py,t.q=Zi,t.r=Gi,t.s=Ri,t.t=mn,t.u=Ua,t.v=gn,t.w=j,t.x=dn,t.z=$a;}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e){const t=e?e.url.toString():void 0;return t?performance.getEntriesByName(t):[]}function s(e){if(\"number\"==typeof e||\"boolean\"==typeof e||\"string\"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let t=\"[\";for(const i of e)t+=`${s(i)},`;return `${t}]`}let t=\"{\";for(const i of Object.keys(e).sort())t+=`${i}:${s(e[i])},`;return `${t}}`}function i(t){let i=\"\";for(const o of e.b2)i+=`/${s(t[o])}`;return i}class o{constructor(e){this.keyCache={},this._layers={},this._layerConfigs={},e&&this.replace(e);}replace(e,t){this._layerConfigs={},this._layers={},this.update(e,[],t);}update(t,s,o){this._options=o;for(const s of t)this._layerConfigs[s.id]=s,(this._layers[s.id]=e.c2(s,this.scope,this._options)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id];for(const e of s)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const s={};for(let o=0;o<e.length;o++){const r=t&&t[e[o].id]||i(e[o]);t&&(t[e[o].id]=r);let n=s[r];n||(n=s[r]=[]),n.push(e[o]);}const o=[];for(const e in s)o.push(s[e]);return o}(e.a$(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map((e=>this._layers[e.id])),s=t[0];if(\"none\"===s.visibility)continue;const i=s.source||\"\";let o=this.familiesBySource[i];o||(o=this.familiesBySource[i]={});const r=s.sourceLayer||\"_geojsonTileLayer\";let n=o[r];n||(n=o[r]=[]),n.push(t);}}}const r=1*e.dA;class n{constructor(t){const s={},i=[];for(const e in t){const o=t[e],n=s[e]={};for(const e in o.glyphs){const t=o.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const s=t.metrics.localGlyph?r:1,a={x:0,y:0,w:t.bitmap.width+2*s,h:t.bitmap.height+2*s};i.push(a),n[e]=a;}}const{w:o,h:n}=e.p(i),a=new e.dz({width:o||1,height:n||1});for(const i in t){const o=t[i];for(const t in o.glyphs){const n=o.glyphs[+t];if(!n||0===n.bitmap.width||0===n.bitmap.height)continue;const l=s[i][t],h=n.metrics.localGlyph?r:1;e.dz.copy(n.bitmap,a,{x:0,y:0},{x:l.x+h,y:l.y+h},n.bitmap);}}this.image=a,this.positions=s;}}e.dy(n,\"GlyphAtlas\");class a{constructor(t){this.tileID=new e.am(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.scope=t.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.promoteId=t.promoteId,this.isSymbolTile=t.isSymbolTile,this.tileTransform=e.as(t.tileID.canonical,t.projection),this.projection=t.projection,this.brightness=t.brightness,this.extraShadowCaster=!!t.extraShadowCaster;}parse(t,s,i,o,r){this.status=\"parsing\",this.data=t,this.collisionBoxArray=new e.aD;const a=new e.dB(Object.keys(t.layers).sort()),h=new e.dC(this.tileID,this.promoteId);h.bucketLayerIDs=[];const c={},u=new e.dD(256,256),d={featureIndex:h,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:u,availableImages:i,brightness:this.brightness},p=s.familiesBySource[this.source];for(const s in p){const o=t.layers[s];if(!o)continue;let r=!1,n=!1,u=!1;for(const e of p[s])\"symbol\"===e[0].type?r=!0:n=!0,e[0].is3D()&&\"model\"!==e[0].type&&(u=!0);if(this.extraShadowCaster&&!u)continue;if(!0===this.isSymbolTile&&!r)continue;if(!1===this.isSymbolTile&&!n)continue;1===o.version&&e.w(`Vector tile source \"${this.source}\" layer \"${s}\" does not use vector tile spec v2 and therefore may have some rendering errors.`);const f=a.encode(s),g=[];for(let e=0;e<o.length;e++){const t=o.feature(e),i=h.getId(t,s);g.push({feature:t,id:i,index:e,sourceLayerIndex:f});}for(const e of p[s]){const t=e[0];(!this.extraShadowCaster||t.is3D()&&\"model\"!==t.type)&&(void 0!==this.isSymbolTile&&\"symbol\"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||\"none\"!==t.visibility&&(l(e,this.zoom,d.brightness,i),(c[t.id]=t.createBucket({index:h.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:f,sourceID:this.source,projection:this.projection.spec})).populate(g,d,this.tileID.canonical,this.tileTransform),h.bucketLayerIDs.push(e.map((e=>e.id)))));}}let f,g,m,y;u.trim();const v={type:\"maybePrepare\",isSymbolTile:this.isSymbolTile,zoom:this.zoom},x=()=>{if(f)return this.status=\"done\",r(f);if(this.extraShadowCaster)this.status=\"done\",r(null,{buckets:e.a$(c).filter((e=>!e.isEmpty())),featureIndex:h,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:d.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(g&&m&&y){const t=new n(g),s=new e.dF(m,y);for(const o in c){const r=c[o];r instanceof e.aE?(l(r.layers,this.zoom,d.brightness,i),e.dG(r,g,t.positions,m,s.iconPositions,this.showCollisionBoxes,i,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):r.hasPattern&&(r instanceof e.aK||r instanceof e.aL||r instanceof e.cH)&&(l(r.layers,this.zoom,d.brightness,i),r.addFeatures(d,this.tileID.canonical,s.patternPositions,i,this.tileTransform,this.brightness));}this.status=\"done\",r(null,{buckets:e.a$(c).filter((e=>!e.isEmpty())),featureIndex:h,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:u,imageAtlas:s,brightness:d.brightness});}};if(!this.extraShadowCaster){const t=e.dE(d.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(t).length?o.send(\"getGlyphs\",{uid:this.uid,stacks:t,scope:this.scope},((e,t)=>{f||(f=e,g=t,x());}),void 0,!1,v):g={};const s=Object.keys(d.iconDependencies);s.length?o.send(\"getImages\",{icons:s,source:this.source,scope:this.scope,tileID:this.tileID,type:\"icons\"},((e,t)=>{f||(f=e,m=t,x());}),void 0,!1,v):m={};const i=Object.keys(d.patternDependencies);i.length?o.send(\"getImages\",{icons:i,source:this.source,scope:this.scope,tileID:this.tileID,type:\"patterns\"},((e,t)=>{f||(f=e,y=t,x());}),void 0,!1,v):y={};}x();}}function l(t,s,i,o){const r=new e.K(s,{brightness:i});for(const e of t)e.recalculate(r,o);}class h extends e.E{constructor(t,s,i,o,r,n){super(),this.actor=t,this.layerIndex=s,this.availableImages=i,this.loadVectorData=r||e.ah,this.loading={},this.loaded={},this.deduped=new e.af(t.scheduler),this.isSpriteLoaded=o,this.scheduler=t.scheduler,this.brightness=n;}loadTile(s,i){const o=s.uid,r=s&&s.request,n=r&&r.collectResourceTiming,l=this.loading[o]=new a(s);l.abort=this.loadVectorData(s,((a,h)=>{const c=!this.loading[o];if(delete this.loading[o],c||a||!h)return l.status=\"done\",c||(this.loaded[o]=l),i(a);const u=h.rawData,d={};h.expires&&(d.expires=h.expires),h.cacheControl&&(d.cacheControl=h.cacheControl),l.vectorTile=h.vectorTile||new e.dH(new e.dI(u));const p=()=>{l.parse(l.vectorTile,this.layerIndex,this.availableImages,this.actor,((s,o)=>{if(s||!o)return i(s);const a={};if(n){const e=t(r);e.length>0&&(a.resourceTiming=JSON.parse(JSON.stringify(e)));}i(null,e.e({rawTileData:u.slice(0)},o,d,a));}));};this.isSpriteLoaded?p():this.once(\"isSpriteLoaded\",(()=>{this.scheduler?this.scheduler.add(p,{type:\"parseTile\",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom}):p();})),this.loaded=this.loaded||{},this.loaded[o]=l;}));}reloadTile(t,s){const i=this.loaded,o=t.uid,r=this;if(i&&i[o]){const n=i[o];n.showCollisionBoxes=t.showCollisionBoxes,n.projection=t.projection,n.brightness=t.brightness,n.tileTransform=e.as(t.tileID.canonical,t.projection),n.extraShadowCaster=t.extraShadowCaster;const a=(e,t)=>{const i=n.reloadCallback;i&&(delete n.reloadCallback,n.parse(n.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),s(e,t);};\"parsing\"===n.status?n.reloadCallback=a:\"done\"===n.status&&(n.vectorTile?n.parse(n.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a());}else s(null,void 0);}abortTile(e,t){const s=e.uid,i=this.loading[s];i&&(i.abort&&i.abort(),delete this.loading[s]),t();}removeTile(e,t){const s=this.loaded,i=e.uid;s&&s[i]&&delete s[i],t();}}class c{loadTile(t,s){const{uid:i,encoding:o,rawImageData:r,padding:n}=t,a=ImageBitmap&&r instanceof ImageBitmap?this.getImageData(r,n):r;s(null,new e.dJ(i,a,o,n<1));}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\"2d\",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const s=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),s}}class u{decodeRasterArray({task:t,buffer:s},i){e.aZ.performDecoding(s,t).then((e=>{i(null,e);}),(e=>{i(e);}));}}function d(e,t){if(0!==e.length){p(e[0],t);for(var s=1;s<e.length;s++)p(e[s],!t);}}function p(e,t){for(var s=0,i=0,o=0,r=e.length,n=r-1;o<r;n=o++){var a=(e[o][0]-e[n][0])*(e[n][1]+e[o][1]),l=s+a;i+=Math.abs(s)>=Math.abs(a)?s-l+a:a-l+s,s=l;}s+i>=0!=!!t&&e.reverse();}var f=e.dK((function e(t,s){var i,o=t&&t.type;if(\"FeatureCollection\"===o)for(i=0;i<t.features.length;i++)e(t.features[i],s);else if(\"GeometryCollection\"===o)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],s);else if(\"Feature\"===o)e(t.geometry,s);else if(\"Polygon\"===o)d(t.coordinates,s);else if(\"MultiPolygon\"===o)for(i=0;i<t.coordinates.length;i++)d(t.coordinates[i],s);return t}));const g=e.dL.prototype.toGeoJSON;let m=class{constructor(t){this._feature=t,this.extent=e.V,this.type=t.type,this.properties=t.tags,\"id\"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const s of this._feature.geometry)t.push([new e.P(s[0],s[1])]);return t}{const t=[];for(const s of this._feature.geometry){const i=[];for(const t of s)i.push(new e.P(t[0],t[1]));t.push(i);}return t}}toGeoJSON(e,t,s){return g.call(this,e,t,s)}},y=class{constructor(t){this.layers={_geojsonTileLayer:this},this.name=\"_geojsonTileLayer\",this.extent=e.V,this.length=t.length,this._features=t;}feature(e){return new m(this._features[e])}};var v={exports:{}},x=e.dN,w=e.dM.VectorTileFeature,S=b;function b(e,t){this.options=t||{},this.features=e,this.length=e.length;}function I(e,t){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}b.prototype.feature=function(e){return new I(this.features[e],this.options.extent)},I.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var s=e[t],i=[],o=0;o<s.length;o++)i.push(new x(s[o][0],s[o][1]));this.geometry.push(i);}return this.geometry},I.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,s=-1/0,i=1/0,o=-1/0,r=0;r<e.length;r++)for(var n=e[r],a=0;a<n.length;a++){var l=n[a];t=Math.min(t,l.x),s=Math.max(s,l.x),i=Math.min(i,l.y),o=Math.max(o,l.y);}return [t,i,s,o]},I.prototype.toGeoJSON=w.prototype.toGeoJSON;var M=e.dO,k=S;function T(e){var t=new M;return function(e,t){for(var s in e.layers)t.writeMessage(3,P,e.layers[s]);}(e,t),t.finish()}function P(e,t){var s;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||\"\"),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(s=0;s<e.length;s++)i.feature=e.feature(s),t.writeMessage(2,C,i);var o=i.keys;for(s=0;s<o.length;s++)t.writeStringField(3,o[s]);var r=i.values;for(s=0;s<r.length;s++)t.writeMessage(4,O,r[s]);}function C(e,t){var s=e.feature;void 0!==s.id&&t.writeVarintField(1,s.id),t.writeMessage(2,_,e),t.writeVarintField(3,s.type),t.writeMessage(4,j,s);}function _(e,t){var s=e.feature,i=e.keys,o=e.values,r=e.keycache,n=e.valuecache;for(var a in s.properties){var l=s.properties[a],h=r[a];if(null!==l){void 0===h&&(i.push(a),r[a]=h=i.length-1),t.writeVarint(h);var c=typeof l;\"string\"!==c&&\"boolean\"!==c&&\"number\"!==c&&(l=JSON.stringify(l));var u=c+\":\"+l,d=n[u];void 0===d&&(o.push(l),n[u]=d=o.length-1),t.writeVarint(d);}}}function D(e,t){return (t<<3)+(7&e)}function L(e){return e<<1^e>>31}function j(e,t){for(var s=e.loadGeometry(),i=e.type,o=0,r=0,n=s.length,a=0;a<n;a++){var l=s[a],h=1;1===i&&(h=l.length),t.writeVarint(D(1,h));for(var c=3===i?l.length-1:l.length,u=0;u<c;u++){1===u&&1!==i&&t.writeVarint(D(2,c-1));var d=l[u].x-o,p=l[u].y-r;t.writeVarint(L(d)),t.writeVarint(L(p)),o+=d,r+=p;}3===i&&t.writeVarint(D(7,1));}}function O(e,t){var s=typeof e;\"string\"===s?t.writeStringField(1,e):\"boolean\"===s?t.writeBooleanField(7,e):\"number\"===s&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}v.exports=T,v.exports.fromVectorTileJs=T,v.exports.fromGeojsonVt=function(e,t){t=t||{};var s={};for(var i in e)s[i]=new k(e[i].features,t),s[i].name=i,s[i].version=t.version,s[i].extent=t.extent;return T({layers:s})},v.exports.GeoJSONWrapper=k;var z=e.dK(v.exports);const Z={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},A=Math.fround||(E=new Float32Array(1),e=>(E[0]=+e,E[0]));var E;const F=3,N=5,B=6;class W{constructor(e){this.options=Object.assign(Object.create(Z),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[];}load(e){const{log:t,minZoom:s,maxZoom:i}=this.options;t&&console.time(\"total time\");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const r=[];for(let t=0;t<e.length;t++){const s=e[t];if(!s.geometry)continue;const[i,o]=s.geometry.coordinates,n=A(R(i)),a=A(Y(o));r.push(n,a,1/0,t,-1,1),this.options.reduce&&r.push(0);}let n=this.trees[i+1]=this._createTree(r);t&&console.timeEnd(o);for(let e=i;e>=s;e--){const s=+Date.now();n=this.trees[e]=this._createTree(this._cluster(n,e)),t&&console.log(\"z%d: %d clusters in %dms\",e,n.numItems,+Date.now()-s);}return t&&console.timeEnd(\"total time\"),this}getClusters(e,t){let s=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let o=180===e[2]?180:((e[2]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,o=180;else if(s>o){const e=this.getClusters([s,i,180,r],t),n=this.getClusters([-180,i,o,r],t);return e.concat(n)}const n=this.trees[this._limitZoom(t)],a=n.range(R(s),Y(r),R(o),Y(i)),l=n.data,h=[];for(const e of a){const t=this.stride*e;h.push(l[t+N]>1?G(l,t,this.clusterProps):this.points[l[t+F]]);}return h}getChildren(e){const t=this._getOriginId(e),s=this._getOriginZoom(e),i=\"No cluster with the specified id.\",o=this.trees[s];if(!o)throw new Error(i);const r=o.data;if(t*this.stride>=r.length)throw new Error(i);const n=this.options.radius/(this.options.extent*Math.pow(2,s-1)),a=o.within(r[t*this.stride],r[t*this.stride+1],n),l=[];for(const t of a){const s=t*this.stride;r[s+4]===e&&l.push(r[s+N]>1?G(r,s,this.clusterProps):this.points[r[s+F]]);}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,s){const i=[];return this._appendLeaves(i,e,t=t||10,s=s||0,0),i}getTile(e,t,s){const i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:r,radius:n}=this.options,a=n/r,l=(s-a)/o,h=(s+1+a)/o,c={features:[]};return this._addTileFeatures(i.range((t-a)/o,l,(t+1+a)/o,h),i.data,t,s,o,c),0===t&&this._addTileFeatures(i.range(1-a/o,l,1,h),i.data,o,s,o,c),t===o-1&&this._addTileFeatures(i.range(0,l,a/o,h),i.data,-1,s,o,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const s=this.getChildren(e);if(t++,1!==s.length)break;e=s[0].properties.cluster_id;}return t}_appendLeaves(e,t,s,i,o){const r=this.getChildren(t);for(const t of r){const r=t.properties;if(r&&r.cluster?o+r.point_count<=i?o+=r.point_count:o=this._appendLeaves(e,r.cluster_id,s,i,o):o<i?o++:e.push(t),e.length===s)break}return o}_createTree(t){const s=new e.bg(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)s.add(t[e],t[e+1]);return s.finish(),s.data=t,s}_addTileFeatures(e,t,s,i,o,r){for(const n of e){const e=n*this.stride,a=t[e+N]>1;let l,h,c;if(a)l=J(t,e,this.clusterProps),h=t[e],c=t[e+1];else {const s=this.points[t[e+F]];l=s.properties;const[i,o]=s.geometry.coordinates;h=R(i),c=Y(o);}const u={type:1,geometry:[[Math.round(this.options.extent*(h*o-s)),Math.round(this.options.extent*(c*o-i))]],tags:l};let d;d=a||this.options.generateId?t[e+F]:this.points[t[e+F]].id,void 0!==d&&(u.id=d),r.features.push(u);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:s,extent:i,reduce:o,minPoints:r}=this.options,n=s/(i*Math.pow(2,t)),a=e.data,l=[],h=this.stride;for(let s=0;s<a.length;s+=h){if(a[s+2]<=t)continue;a[s+2]=t;const i=a[s],c=a[s+1],u=e.within(a[s],a[s+1],n),d=a[s+N];let p=d;for(const e of u){const s=e*h;a[s+2]>t&&(p+=a[s+N]);}if(p>d&&p>=r){let e,r=i*d,n=c*d,f=-1;const g=(s/h<<5)+(t+1)+this.points.length;for(const i of u){const l=i*h;if(a[l+2]<=t)continue;a[l+2]=t;const c=a[l+N];r+=a[l]*c,n+=a[l+1]*c,a[l+4]=g,o&&(e||(e=this._map(a,s,!0),f=this.clusterProps.length,this.clusterProps.push(e)),o(e,this._map(a,l)));}a[s+4]=g,l.push(r/p,n/p,1/0,g,-1,p),o&&l.push(f);}else {for(let e=0;e<h;e++)l.push(a[s+e]);if(p>1)for(const e of u){const s=e*h;if(!(a[s+2]<=t)){a[s+2]=t;for(let e=0;e<h;e++)l.push(a[s+e]);}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t,s){if(e[t+N]>1){const i=this.clusterProps[e[t+B]];return s?Object.assign({},i):i}const i=this.points[e[t+F]].properties,o=this.options.map(i);return s&&o===i?Object.assign({},o):o}}function G(e,t,s){return {type:\"Feature\",id:e[t+F],properties:J(e,t,s),geometry:{type:\"Point\",coordinates:[(i=e[t],360*(i-.5)),X(e[t+1])]}};var i;}function J(e,t,s){const i=e[t+N],o=i>=1e4?`${Math.round(i/1e3)}k`:i>=1e3?Math.round(i/100)/10+\"k\":i,r=e[t+B],n=-1===r?{}:Object.assign({},s[r]);return Object.assign(n,{cluster:!0,cluster_id:e[t+F],point_count:i,point_count_abbreviated:o})}function R(e){return e/360+.5}function Y(e){const t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function X(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}var V={exports:{}};V.exports=function(){function e(s,i,o,r){for(var n,a=r,l=o-i>>1,h=o-i,c=s[i],u=s[i+1],d=s[o],p=s[o+1],f=i+3;f<o;f+=3){var g=t(s[f],s[f+1],c,u,d,p);if(g>a)n=f,a=g;else if(g===a){var m=Math.abs(f-l);m<h&&(n=f,h=m);}}a>r&&(n-i>3&&e(s,i,n,r),s[n+2]=a,o-n>3&&e(s,n,o,r));}function t(e,t,s,i,o,r){var n=o-s,a=r-i;if(0!==n||0!==a){var l=((e-s)*n+(t-i)*a)/(n*n+a*a);l>1?(s=o,i=r):l>0&&(s+=n*l,i+=a*l);}return (n=e-s)*n+(a=t-i)*a}function s(e,t,s,o){var r={id:void 0===e?null:e,type:t,geometry:s,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,s=e.type;if(\"Point\"===s||\"MultiPoint\"===s||\"LineString\"===s)i(e,t);else if(\"Polygon\"===s||\"MultiLineString\"===s)for(var o=0;o<t.length;o++)i(e,t[o]);else if(\"MultiPolygon\"===s)for(o=0;o<t.length;o++)for(var r=0;r<t[o].length;r++)i(e,t[o][r]);}(r),r}function i(e,t){for(var s=0;s<t.length;s+=3)e.minX=Math.min(e.minX,t[s]),e.minY=Math.min(e.minY,t[s+1]),e.maxX=Math.max(e.maxX,t[s]),e.maxY=Math.max(e.maxY,t[s+1]);}function o(e,t,i,l){if(t.geometry){var h=t.geometry.coordinates,c=t.geometry.type,u=Math.pow(i.tolerance/((1<<i.maxZoom)*i.extent),2),d=[],p=t.id;if(i.promoteId?p=t.properties[i.promoteId]:i.generateId&&(p=l||0),\"Point\"===c)r(h,d);else if(\"MultiPoint\"===c)for(var f=0;f<h.length;f++)r(h[f],d);else if(\"LineString\"===c)n(h,d,u,!1);else if(\"MultiLineString\"===c){if(i.lineMetrics){for(f=0;f<h.length;f++)n(h[f],d=[],u,!1),e.push(s(p,\"LineString\",d,t.properties));return}a(h,d,u,!1);}else if(\"Polygon\"===c)a(h,d,u,!0);else {if(\"MultiPolygon\"!==c){if(\"GeometryCollection\"===c){for(f=0;f<t.geometry.geometries.length;f++)o(e,{id:p,geometry:t.geometry.geometries[f],properties:t.properties},i,l);return}throw new Error(\"Input data is not a valid GeoJSON object.\")}for(f=0;f<h.length;f++){var g=[];a(h[f],g,u,!0),d.push(g);}}e.push(s(p,c,d,t.properties));}}function r(e,t){t.push(l(e[0])),t.push(h(e[1])),t.push(0);}function n(t,s,i,o){for(var r,n,a=0,c=0;c<t.length;c++){var u=l(t[c][0]),d=h(t[c][1]);s.push(u),s.push(d),s.push(0),c>0&&(a+=o?(r*d-u*n)/2:Math.sqrt(Math.pow(u-r,2)+Math.pow(d-n,2))),r=u,n=d;}var p=s.length-3;s[2]=1,e(s,0,p,i),s[p+2]=1,s.size=Math.abs(a),s.start=0,s.end=s.size;}function a(e,t,s,i){for(var o=0;o<e.length;o++){var r=[];n(e[o],r,s,i),t.push(r);}}function l(e){return e/360+.5}function h(e){var t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}function c(e,t,i,o,r,n,a,l){if(o/=t,n>=(i/=t)&&a<o)return e;if(a<i||n>=o)return null;for(var h=[],c=0;c<e.length;c++){var p=e[c],g=p.geometry,m=p.type,y=0===r?p.minX:p.minY,v=0===r?p.maxX:p.maxY;if(y>=i&&v<o)h.push(p);else if(!(v<i||y>=o)){var x=[];if(\"Point\"===m||\"MultiPoint\"===m)u(g,x,i,o,r);else if(\"LineString\"===m)d(g,x,i,o,r,!1,l.lineMetrics);else if(\"MultiLineString\"===m)f(g,x,i,o,r,!1);else if(\"Polygon\"===m)f(g,x,i,o,r,!0);else if(\"MultiPolygon\"===m)for(var w=0;w<g.length;w++){var S=[];f(g[w],S,i,o,r,!0),S.length&&x.push(S);}if(x.length){if(l.lineMetrics&&\"LineString\"===m){for(w=0;w<x.length;w++)h.push(s(p.id,m,x[w],p.tags));continue}\"LineString\"!==m&&\"MultiLineString\"!==m||(1===x.length?(m=\"LineString\",x=x[0]):m=\"MultiLineString\"),\"Point\"!==m&&\"MultiPoint\"!==m||(m=3===x.length?\"Point\":\"MultiPoint\"),h.push(s(p.id,m,x,p.tags));}}}return h.length?h:null}function u(e,t,s,i,o){for(var r=0;r<e.length;r+=3){var n=e[r+o];n>=s&&n<=i&&(t.push(e[r]),t.push(e[r+1]),t.push(e[r+2]));}}function d(e,t,s,i,o,r,n){for(var a,l,h=p(e),c=0===o?m:y,u=e.start,d=0;d<e.length-3;d+=3){var f=e[d],v=e[d+1],x=e[d+2],w=e[d+3],S=e[d+4],b=0===o?f:v,I=0===o?w:S,M=!1;n&&(a=Math.sqrt(Math.pow(f-w,2)+Math.pow(v-S,2))),b<s?I>s&&(l=c(h,f,v,w,S,s),n&&(h.start=u+a*l)):b>i?I<i&&(l=c(h,f,v,w,S,i),n&&(h.start=u+a*l)):g(h,f,v,x),I<s&&b>=s&&(l=c(h,f,v,w,S,s),M=!0),I>i&&b<=i&&(l=c(h,f,v,w,S,i),M=!0),!r&&M&&(n&&(h.end=u+a*l),t.push(h),h=p(e)),n&&(u+=a);}var k=e.length-3;f=e[k],v=e[k+1],x=e[k+2],(b=0===o?f:v)>=s&&b<=i&&g(h,f,v,x),k=h.length-3,r&&k>=3&&(h[k]!==h[0]||h[k+1]!==h[1])&&g(h,h[0],h[1],h[2]),h.length&&t.push(h);}function p(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function f(e,t,s,i,o,r){for(var n=0;n<e.length;n++)d(e[n],t,s,i,o,r,!1);}function g(e,t,s,i){e.push(t),e.push(s),e.push(i);}function m(e,t,s,i,o,r){var n=(r-t)/(i-t);return e.push(r),e.push(s+(o-s)*n),e.push(1),n}function y(e,t,s,i,o,r){var n=(r-s)/(o-s);return e.push(t+(i-t)*n),e.push(r),e.push(1),n}function v(e,t){for(var i=[],o=0;o<e.length;o++){var r,n=e[o],a=n.type;if(\"Point\"===a||\"MultiPoint\"===a||\"LineString\"===a)r=x(n.geometry,t);else if(\"MultiLineString\"===a||\"Polygon\"===a){r=[];for(var l=0;l<n.geometry.length;l++)r.push(x(n.geometry[l],t));}else if(\"MultiPolygon\"===a)for(r=[],l=0;l<n.geometry.length;l++){for(var h=[],c=0;c<n.geometry[l].length;c++)h.push(x(n.geometry[l][c],t));r.push(h);}i.push(s(n.id,a,r,n.tags));}return i}function x(e,t){var s=[];s.size=e.size,void 0!==e.start&&(s.start=e.start,s.end=e.end);for(var i=0;i<e.length;i+=3)s.push(e[i]+t,e[i+1],e[i+2]);return s}function w(e,t){if(e.transformed)return e;var s,i,o,r=1<<e.z,n=e.x,a=e.y;for(s=0;s<e.features.length;s++){var l=e.features[s],h=l.geometry,c=l.type;if(l.geometry=[],1===c)for(i=0;i<h.length;i+=2)l.geometry.push(S(h[i],h[i+1],t,r,n,a));else for(i=0;i<h.length;i++){var u=[];for(o=0;o<h[i].length;o+=2)u.push(S(h[i][o],h[i][o+1],t,r,n,a));l.geometry.push(u);}}return e.transformed=!0,e}function S(e,t,s,i,o,r){return [Math.round(s*(e*i-o)),Math.round(s*(t*i-r))]}function b(e,t,s,i,o){for(var r=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),n={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:s,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){n.numFeatures++,I(n,e[a],r,o);var l=e[a].minX,h=e[a].minY,c=e[a].maxX,u=e[a].maxY;l<n.minX&&(n.minX=l),h<n.minY&&(n.minY=h),c>n.maxX&&(n.maxX=c),u>n.maxY&&(n.maxY=u);}return n}function I(e,t,s,i){var o=t.geometry,r=t.type,n=[];if(\"Point\"===r||\"MultiPoint\"===r)for(var a=0;a<o.length;a+=3)n.push(o[a]),n.push(o[a+1]),e.numPoints++,e.numSimplified++;else if(\"LineString\"===r)M(n,o,e,s,!1,!1);else if(\"MultiLineString\"===r||\"Polygon\"===r)for(a=0;a<o.length;a++)M(n,o[a],e,s,\"Polygon\"===r,0===a);else if(\"MultiPolygon\"===r)for(var l=0;l<o.length;l++){var h=o[l];for(a=0;a<h.length;a++)M(n,h[a],e,s,!0,0===a);}if(n.length){var c=t.tags||null;if(\"LineString\"===r&&i.lineMetrics){for(var u in c={},t.tags)c[u]=t.tags[u];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size;}var d={geometry:n,type:\"Polygon\"===r||\"MultiPolygon\"===r?3:\"LineString\"===r||\"MultiLineString\"===r?2:1,tags:c};null!==t.id&&(d.id=t.id),e.features.push(d);}}function M(e,t,s,i,o,r){var n=i*i;if(i>0&&t.size<(o?n:i))s.numPoints+=t.length/3;else {for(var a=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>n)&&(s.numSimplified++,a.push(t[l]),a.push(t[l+1])),s.numPoints++;o&&function(e,t){for(var s=0,i=0,o=e.length,r=o-2;i<o;r=i,i+=2)s+=(e[i]-e[r])*(e[i+1]+e[r+1]);if(s>0===t)for(i=0,o=e.length;i<o/2;i+=2){var n=e[i],a=e[i+1];e[i]=e[o-2-i],e[i+1]=e[o-1-i],e[o-2-i]=n,e[o-1-i]=a;}}(a,r),e.push(a);}}function k(e,t){var s=(t=this.options=function(e,t){for(var s in t)e[s]=t[s];return e}(Object.create(this.options),t)).debug;if(s&&console.time(\"preprocess data\"),t.maxZoom<0||t.maxZoom>24)throw new Error(\"maxZoom should be in the 0-24 range\");if(t.promoteId&&t.generateId)throw new Error(\"promoteId and generateId cannot be used together.\");var i=function(e,t){var s=[];if(\"FeatureCollection\"===e.type)for(var i=0;i<e.features.length;i++)o(s,e.features[i],t,i);else o(s,\"Feature\"===e.type?e:{geometry:e},t);return s}(e,t);this.tiles={},this.tileCoords=[],s&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),(i=function(e,t){var s=t.buffer/t.extent,i=e,o=c(e,1,-1-s,s,0,-1,2,t),r=c(e,1,1-s,2+s,0,-1,2,t);return (o||r)&&(i=c(e,1,-s,1+s,0,-1,2,t)||[],o&&(i=v(o,1).concat(i)),r&&(i=i.concat(v(r,-1)))),i}(i,t)).length&&this.splitTile(i,0,0,0),s&&(i.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)));}function T(e,t,s){return 32*((1<<e)*s+t)+e}return k.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},k.prototype.splitTile=function(e,t,s,i,o,r,n){for(var a=[e,t,s,i],l=this.options,h=l.debug;a.length;){i=a.pop(),s=a.pop(),t=a.pop(),e=a.pop();var u=1<<t,d=T(t,s,i),p=this.tiles[d];if(!p&&(h>1&&console.time(\"creation\"),p=this.tiles[d]=b(e,t,s,i,l),this.tileCoords.push({z:t,x:s,y:i}),h)){h>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,s,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd(\"creation\"));var f=\"z\"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++;}if(p.source=e,o){if(t===l.maxZoom||t===o)continue;var g=1<<o-t;if(s!==Math.floor(r/g)||i!==Math.floor(n/g))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){h>1&&console.time(\"clipping\");var m,y,v,x,w,S,I=.5*l.buffer/l.extent,M=.5-I,k=.5+I,P=1+I;m=y=v=x=null,w=c(e,u,s-I,s+k,0,p.minX,p.maxX,l),S=c(e,u,s+M,s+P,0,p.minX,p.maxX,l),e=null,w&&(m=c(w,u,i-I,i+k,1,p.minY,p.maxY,l),y=c(w,u,i+M,i+P,1,p.minY,p.maxY,l),w=null),S&&(v=c(S,u,i-I,i+k,1,p.minY,p.maxY,l),x=c(S,u,i+M,i+P,1,p.minY,p.maxY,l),S=null),h>1&&console.timeEnd(\"clipping\"),a.push(m||[],t+1,2*s,2*i),a.push(y||[],t+1,2*s,2*i+1),a.push(v||[],t+1,2*s+1,2*i),a.push(x||[],t+1,2*s+1,2*i+1);}}},k.prototype.getTile=function(e,t,s){var i=this.options,o=i.extent,r=i.debug;if(e<0||e>24)return null;var n=1<<e,a=T(e,t=(t%n+n)%n,s);if(this.tiles[a])return w(this.tiles[a],o);r>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,s);for(var l,h=e,c=t,u=s;!l&&h>0;)h--,c=Math.floor(c/2),u=Math.floor(u/2),l=this.tiles[T(h,c,u)];return l&&l.source?(r>1&&console.log(\"found parent tile z%d-%d-%d\",h,c,u),r>1&&console.time(\"drilling down\"),this.splitTile(l.source,h,c,u,e,t,s),r>1&&console.timeEnd(\"drilling down\"),this.tiles[a]?w(this.tiles[a],o):null):null},function(e,t){return new k(e,t)}}();var $=e.dK(V.exports);function U(e,t){const s=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const i=this._geoJSONIndex.getTile(s.z,s.x,s.y);if(!i)return t(null,null);const o=new y(i.features);let r=z(o);0===r.byteOffset&&r.byteLength===r.buffer.byteLength||(r=new Uint8Array(r)),t(null,{vectorTile:o,rawData:r.buffer});}class q extends h{constructor(e,t,s,i,o,r){super(e,t,s,i,U,r),o&&(this.loadGeoJSON=o);}loadData(s,i){const o=s&&s.request,r=o&&o.collectResourceTiming;this.loadGeoJSON(s,((n,a)=>{if(n||!a)return i(n);if(\"object\"!=typeof a)return i(new Error(`Input data given to '${s.source}' is not a valid GeoJSON object.`));{f(a,!0);try{if(s.filter){const t=e.r(s.filter,{type:\"boolean\",\"property-type\":\"data-driven\",overridable:!1,transition:!1});if(\"error\"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));const i=a.features.filter((e=>t.value.evaluate({zoom:0},e)));a={type:\"FeatureCollection\",features:i};}this._geoJSONIndex=s.cluster?new W(function({superclusterOptions:t,clusterProperties:s}){if(!s||!t)return t;const i={},o={},r={accumulated:null,zoom:0},n={properties:null},a=Object.keys(s);for(const t of a){const[r,n]=s[t],a=e.r(n),l=e.r(\"string\"==typeof r?[r,[\"accumulated\"],[\"get\",t]]:r);i[t]=a.value,o[t]=l.value;}return t.map=e=>{n.properties=e;const t={};for(const e of a)t[e]=i[e].evaluate(r,n);return t},t.reduce=(e,t)=>{n.properties=t;for(const t of a)r.accumulated=e[t],e[t]=o[t].evaluate(r,n);},t}(s)).load(a.features):$(a,s.geojsonVtOptions);}catch(n){return i(n)}this.loaded={};const l={};if(r){const e=t(o);e&&(l.resourceTiming={},l.resourceTiming[s.source]=JSON.parse(JSON.stringify(e)));}i(null,l);}}));}reloadTile(e,t){const s=this.loaded;return s&&s[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,s){if(t.request)e.g(t.request,s);else {if(\"string\"!=typeof t.data)return s(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return s(null,JSON.parse(t.data))}catch(e){return s(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));}catch(e){t(e);}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId));}catch(e){t(e);}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));}catch(e){t(e);}}}class K{constructor(t,s){this.tileID=new e.am(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=t.projection,this.brightness=s;}parse(t,s,i,o){this.status=\"parsing\";const r=new e.am(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),n={},a=s.familiesBySource[i.source],l=new e.dC(r,i.promoteId);return l.bucketLayerIDs=[],l.is3DTile=!0,e.dP(t).then((t=>{if(!t)return o(new Error(\"Could not parse tile\"));const s=e.dQ(t,1/e.bR(i.tileID.canonical)),h=t.json.extensionsUsed&&t.json.extensionsUsed.includes(\"MAPBOX_mesh_features\")||t.json.asset.extras&&t.json.asset.extras.MAPBOX_mesh_features,c=t.json.extensionsUsed&&t.json.extensionsUsed.includes(\"EXT_meshopt_compression\"),u=new e.K(this.zoom,{brightness:this.brightness});for(const t in a)for(const i of a[t]){const t=i[0];l.bucketLayerIDs.push(i.map((e=>e.id))),t.recalculate(u,[]);const o=new e.dR(s,r,h,c,this.brightness,l);h||(o.needsUpload=!0),n[t.fqid]=o,o.evaluate(t);}this.status=\"done\",o(null,{buckets:n,featureIndex:l});})).catch((e=>o(new Error(e.message))))}}class H{constructor(e,t,s,i,o,r){this.actor=e,this.layerIndex=t,this.brightness=r,this.loading={},this.loaded={};}loadTile(t,s){const i=t.uid,o=this.loading[i]=new K(t,this.brightness);e.a_(t.request,((e,r)=>{const n=!this.loading[i];return delete this.loading[i],n||e?(o.status=\"done\",n||(this.loaded[i]=o),s(e)):r&&0!==r.byteLength?void o.parse(r,this.layerIndex,t,((e,t)=>{o.status=\"done\",this.loaded=this.loaded||{},this.loaded[i]=o,e||!t?s(e):s(null,t);})):(o.status=\"done\",this.loaded[i]=o,s())}));}reloadTile(e,t){const s=this.loaded,i=e.uid;if(s&&s[i]){const o=s[i];o.projection=e.projection,o.brightness=e.brightness;const r=(s,i)=>{o.reloadCallback&&(delete o.reloadCallback,this.loadTile(e,t)),t(s,i);};\"parsing\"===o.status?o.reloadCallback=r:\"done\"===o.status&&this.loadTile(e,t);}}abortTile(e,t){const s=e.uid;this.loading[s]&&delete this.loading[s],t();}removeTile(e,t){const s=this.loaded,i=e.uid;s&&s[i]&&delete s[i],t();}}class Q{constructor(t){this.self=t,this.actor=new e.dS(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.bo({name:\"mercator\"}),this.workerSourceTypes={vector:h,geojson:q,\"batched-model\":H},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name \"${e}\" already registered.`);this.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=t=>{if(e.dT.isParsed())throw new Error(\"RTL text plugin already registered.\");e.dT.applyArabicShaping=t.applyArabicShaping,e.dT.processBidirectionalText=t.processBidirectionalText,e.dT.processStyledBidirectionalText=t.processStyledBidirectionalText;};}clearCaches(e,t,s){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],delete this.rasterArrayWorkerSource,s();}checkIfReady(e,t,s){s();}setReferrer(e,t){this.referrer=t;}spriteLoaded(t,{scope:s,isLoaded:i}){if(this.isSpriteLoaded[t]||(this.isSpriteLoaded[t]={}),this.isSpriteLoaded[t][s]=i,this.workerSources[t]&&this.workerSources[t][s])for(const o in this.workerSources[t][s]){const r=this.workerSources[t][s][o];for(const t in r)r[t]instanceof h&&(r[t].isSpriteLoaded=i,r[t].fire(new e.b(\"isSpriteLoaded\")));}}setImages(e,{scope:t,images:s},i){if(this.availableImages[e]||(this.availableImages[e]={}),this.availableImages[e][t]=s,this.workerSources[e]&&this.workerSources[e][t]){for(const i in this.workerSources[e][t]){const o=this.workerSources[e][t][i];for(const e in o)o[e].availableImages=s;}i();}else i();}setProjection(t,s){this.projections[t]=e.bo(s);}setBrightness(e,t,s){this.brightness=t,s();}setLayers(e,t,s){this.getLayerIndex(e,t.scope).replace(t.layers,t.options),s();}updateLayers(e,t,s){this.getLayerIndex(e,t.scope).update(t.layers,t.removedIds,t.options),s();}loadTile(e,t,s){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).loadTile(t,s);}loadDEMTile(e,t,s){this.getDEMWorkerSource(e,t.source,t.scope).loadTile(t,s);}decodeRasterArray(e,t,s){this.getRasterArrayWorkerSource().decodeRasterArray(t,s);}reloadTile(e,t,s){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).reloadTile(t,s);}abortTile(e,t,s){this.getWorkerSource(e,t.type,t.source,t.scope).abortTile(t,s);}removeTile(e,t,s){this.getWorkerSource(e,t.type,t.source,t.scope).removeTile(t,s);}removeSource(e,t,s){if(!(this.workerSources[e]&&this.workerSources[e][t.scope]&&this.workerSources[e][t.scope][t.type]&&this.workerSources[e][t.scope][t.type][t.source]))return;const i=this.workerSources[e][t.scope][t.type][t.source];delete this.workerSources[e][t.scope][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,s):s();}loadWorkerSource(e,t,s){try{this.self.importScripts(t.url),s();}catch(e){s(e.toString());}}syncRTLPluginState(t,s,i){try{e.dT.setState(s);const t=e.dT.getPluginURL();if(e.dT.isLoaded()&&!e.dT.isParsed()&&null!=t){this.self.importScripts(t);const s=e.dT.isParsed();i(s?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),s);}}catch(e){i(e.toString());}}setDracoUrl(e,t){this.dracoUrl=t;}getAvailableImages(e,t){this.availableImages[e]||(this.availableImages[e]={});let s=this.availableImages[e][t];return s||(s=[]),s}getLayerIndex(e,t){this.layerIndexes[e]||(this.layerIndexes[e]={});let s=this.layerIndexes[e][t];return s||(s=this.layerIndexes[e][t]=new o,s.scope=t),s}getWorkerSource(e,t,s,i){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][i]||(this.workerSources[e][i]={}),this.workerSources[e][i][t]||(this.workerSources[e][i][t]={}),this.isSpriteLoaded[e]||(this.isSpriteLoaded[e]={}),!this.workerSources[e][i][t][s]){const o={send:(t,s,i,o,r,n)=>{this.actor.send(t,s,i,e,r,n);},scheduler:this.actor.scheduler};this.workerSources[e][i][t][s]=new this.workerSourceTypes[t](o,this.getLayerIndex(e,i),this.getAvailableImages(e,i),this.isSpriteLoaded[e][i],void 0,this.brightness);}return this.workerSources[e][i][t][s]}getDEMWorkerSource(e,t,s){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][s]||(this.demWorkerSources[e][s]={}),this.demWorkerSources[e][s][t]||(this.demWorkerSources[e][s][t]=new c),this.demWorkerSources[e][s][t]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new u),this.rasterArrayWorkerSource}enforceCacheSizeLimit(t,s){e.dU(s);}getWorkerPerformanceMetrics(e,t,s){s(void 0,void 0);}}return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Q(self)),Q}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return !1;for(let o=0;o<e.length;o++)if(!t(e[o],i[o]))return !1;return !0}if(\"object\"==typeof e&&null!==e&&null!==i){if(\"object\"!=typeof i)return !1;if(Object.keys(e).length!==Object.keys(i).length)return !1;for(const o in e)if(!t(e[o],i[o]))return !1;return !0}return e===i}var i=o;function o(e){return !function(e){return \"undefined\"==typeof window||\"undefined\"==typeof document?\"not a browser\":function(){if(!(\"Worker\"in window&&\"Blob\"in window&&\"URL\"in window))return !1;var e,t,i=new Blob([\"\"],{type:\"text/javascript\"}),o=URL.createObjectURL(i);try{t=new Worker(o),e=!0;}catch(t){e=!1;}return t&&t.terminate(),URL.revokeObjectURL(o),e}()?function(){var e=document.createElement(\"canvas\");e.width=e.height=1;var t=e.getContext(\"2d\");if(!t)return !1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,i=function(e){var t=document.createElement(\"canvas\"),i=Object.create(o.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext(\"webgl2\",i)}(e);if(!i)return !1;try{t=i.createShader(i.VERTEX_SHADER);}catch(e){return !1}return !(!t||i.isContextLost())&&(i.shaderSource(t,\"void main() {}\"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),r[t]?document.documentMode?\"insufficient ECMAScript 6 support\":void 0:\"insufficient WebGL2 support\"):\"insufficient Canvas/getImageData support\":\"insufficient worker support\";var t;}(e)}var r={};function s(e,t,i){const o=document.createElement(e);return null!=t&&(o.className=t),i&&i.appendChild(o),o}function n(e,t,i){const o=document.createElementNS(\"http://www.w3.org/2000/svg\",e);for(const e of Object.keys(t))o.setAttributeNS(null,e,String(t[e]));return i&&i.appendChild(o),o}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const a=\"undefined\"!=typeof document?document.documentElement&&document.documentElement.style:null,l=a&&void 0!==a.userSelect?\"userSelect\":\"WebkitUserSelect\";let c;function h(){a&&l&&(c=a[l],a[l]=\"none\");}function u(){a&&l&&(a[l]=c);}function d(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener(\"click\",d,!0);}function _(){window.addEventListener(\"click\",d,!0),window.setTimeout((()=>{window.removeEventListener(\"click\",d,!0);}),0);}function p(e,t){const i=e.getBoundingClientRect();return g(e,i,t)}function f(e,t){const i=e.getBoundingClientRect(),o=[];for(let r=0;r<t.length;r++)o.push(g(e,i,t[r]));return o}function m(e){return void 0!==window.InstallTrigger&&2===e.button&&e.ctrlKey&&window.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?0:e.button}function g(t,i,o){const r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.P((o.clientX-i.left)*r,(o.clientY-i.top)*r)}class v{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set;}isDirty(){return this._changed}setDirty(){this._changed=!0;}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(e,t){this._updatedSourceCaches[e]=t,this.setDirty();}discardSourceCacheUpdate(e){delete this._updatedSourceCaches[e];}updateLayer(e){const t=e.scope;this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._updatedLayers[t].add(e.id),this.setDirty();}removeLayer(e){const t=e.scope;this._removedLayers[t]=this._removedLayers[t]||{},this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._removedLayers[t][e.id]=e,this._updatedLayers[t].delete(e.id),this._updatedPaintProps.delete(e.fqid),this.setDirty();}getRemovedLayer(e){return this._removedLayers[e.scope]?this._removedLayers[e.scope][e.id]:null}discardLayerRemoval(e){this._removedLayers[e.scope]&&delete this._removedLayers[e.scope][e.id];}getLayerUpdatesByScope(){const e={};for(const t in this._updatedLayers)e[t]=e[t]||{},e[t].updatedIds=Array.from(this._updatedLayers[t].values());for(const t in this._removedLayers)e[t]=e[t]||{},e[t].removedIds=Object.keys(this._removedLayers[t]);return e}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(e){this._updatedPaintProps.add(e.fqid),this.setDirty();}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(e){this._updatedImages.add(e),this.setDirty();}resetUpdatedImages(){this._updatedImages.clear();}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear();}}class x extends e.E{constructor(e){super(),this.requestManager=e,this.models={\"\":{}},this.numModelsLoading={};}loadModel(t,i){return e.l(this.requestManager.transformRequest(i,e.R.Model).url).then((i=>{if(!i)return;const o=e.c(i),r=new e.M(t,void 0,void 0,o);return r.computeBoundsAndApplyParent(),r})).catch((o=>{this.fire(new e.a(new Error(`Could not load model ${t} from ${i}: ${o.message}`)));}))}load(t,i){this.models[i]||(this.models[i]={});const o=Object.keys(t);this.numModelsLoading[i]=(this.numModelsLoading[i]||0)+o.length;const r=[];for(const e of o)r.push(this.loadModel(e,t[e]));Promise.allSettled(r).then((t=>{for(let e=0;e<t.length;e++){const{status:r,value:s}=t[e];\"fulfilled\"===r&&s&&(this.models[i][o[e]]=s);}this.numModelsLoading[i]-=o.length,this.fire(new e.b(\"data\",{dataType:\"style\"}));})).catch((t=>{this.fire(new e.a(new Error(`Could not load models: ${t.message}`)));}));}isLoaded(){for(const e in this.numModelsLoading)if(this.numModelsLoading[e]>0)return !1;return !0}hasModel(e,t){return !!this.getModel(e,t)}getModel(e,t){return this.models[t]||(this.models[t]={}),this.models[t][e]}addModel(e,t,i){this.models[i]||(this.models[i]={}),this.hasModel(e,i)&&this.removeModel(e,i),this.load({[e]:this.requestManager.normalizeModelURL(t)},i);}addModels(e,t){const i={};for(const t in e)i[t]=this.requestManager.normalizeModelURL(e[t]);this.load(i,t);}removeModel(e,t){this.models[t]||(this.models[t]={});const i=this.models[t][e];delete this.models[t][e],i.destroy();}listModels(e){return this.models[e]||(this.models[e]={}),Object.keys(this.models[e])}upload(e,t){this.models[t]||(this.models[t]={});for(const i in this.models[t])this.models[t][i].upload(e.context);}}class y{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(t,i,o){const r=String(i);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},e.e(this.stateChanges[t][r],o),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==r&&(this.deletedStates[t][e]=null);}else if(this.deletedStates[t]&&null===this.deletedStates[t][r]){this.deletedStates[t][r]={};for(const e in this.state[t][r])o[e]||(this.deletedStates[t][r][e]=null);}else for(const e in o)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][e]&&delete this.deletedStates[t][r][e];}removeFeatureState(e,t,i){if(null===this.deletedStates[e])return;const o=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][o]&&(this.deletedStates[e][o]=this.deletedStates[e][o]||{},this.deletedStates[e][o][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][o])for(i in this.deletedStates[e][o]={},this.stateChanges[e][o])this.deletedStates[e][o][i]=null;else this.deletedStates[e][o]=null;else this.deletedStates[e]=null;}getState(t,i){const o=String(i),r=e.e({},(this.state[t]||{})[o],(this.stateChanges[t]||{})[o]);if(null===this.deletedStates[t])return {};if(this.deletedStates[t]){const e=this.deletedStates[t][i];if(null===e)return {};for(const t in e)delete r[t];}return r}initializeTileState(e,t){e.setFeatureState(this.state,t);}coalesceChanges(t,i){const o={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const i={};for(const o in this.stateChanges[t])this.state[t][o]||(this.state[t][o]={}),e.e(this.state[t][o],this.stateChanges[t][o]),i[o]=this.state[t][o];o[t]=i;}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const i={};if(null===this.deletedStates[t])for(const e in this.state[t])i[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else if(this.state[t][e])for(const i of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][i];i[e]=this.state[t][e];}o[t]=o[t]||{},e.e(o[t],i);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(o).length)for(const e in t)t[e].setFeatureState(o,i);}}function b(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class w extends e.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0;}createScope(t){this.images[t]={},this.loaded[t]=!1,this.updatedImages[t]={},this.patterns[t]={},this.callbackDispatchedThisFrame[t]={},this.atlasImage[t]=new e.h({width:1,height:1});}isLoaded(){for(const e in this.loaded)if(!this.loaded[e])return !1;return !0}setLoaded(e,t){if(this.loaded[t]!==e&&(this.loaded[t]=e,e)){for(const{ids:e,callback:i}of this.requestors)this._notify(e,t,i);this.requestors=[];}}hasImage(e,t){return !!this.getImage(e,t)}getImage(e,t){return this.images[t][e]}addImage(e,t,i){this._validate(e,i)&&(this.images[t][e]=i);}_validate(t,i){let o=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.a(new Error(`Image \"${t}\" has invalid \"stretchX\" value`))),o=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.a(new Error(`Image \"${t}\" has invalid \"stretchY\" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new e.a(new Error(`Image \"${t}\" has invalid \"content\" value`))),o=!1),o}_validateStretch(e,t){if(!e)return !0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return !1;i=o[1];}return !0}_validateContent(e,t){return !(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t,i){i.version=this.images[t][e].version+1,this.images[t][e]=i,this.updatedImages[t][e]=!0;}removeImage(e,t){const i=this.images[t][e];delete this.images[t][e],delete this.patterns[t][e],i.userImage&&i.userImage.onRemove&&i.userImage.onRemove();}listImages(e){return Object.keys(this.images[e])}getImages(e,t,i){let o=!0;const r=!!this.loaded[t];if(!r)for(const i of e)this.images[t][i]||(o=!1);r||o?this._notify(e,t,i):this.requestors.push({ids:e,scope:t,callback:i});}getUpdatedImages(e){return this.updatedImages[e]}_notify(t,i,o){const r={};for(const o of t){this.images[i][o]||this.fire(new e.b(\"styleimagemissing\",{id:o}));const t=this.images[i][o];t?r[o]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.w(`Image \"${o}\" could not be loaded. Please make sure you have added the image with map.addImage() or a \"sprite\" property in your style. You can provide missing images by listening for the \"styleimagemissing\" map event.`);}o(null,r);}getPixelSize(e){const{width:t,height:i}=this.atlasImage[e];return {width:t,height:i}}getPattern(t,i){const o=this.patterns[i][t],r=this.getImage(t,i);if(!r)return null;if(o&&o.position.version===r.version)return o.position;if(o)o.position.version=r.version;else {const o={w:r.data.width+2,h:r.data.height+2,x:0,y:0},s=new e.I(o,r);this.patterns[i][t]={bin:o,position:s};}return this._updatePatternAtlas(i),this.patterns[i][t].position}bind(t,i){const o=t.gl;let r=this.atlasTexture[i];r?this.dirty&&(r.update(this.atlasImage[i]),this.dirty=!1):(r=new e.T(t,this.atlasImage[i],o.RGBA),this.atlasTexture[i]=r),r.bind(o.LINEAR,o.CLAMP_TO_EDGE);}_updatePatternAtlas(t){const i=[];for(const e in this.patterns[t])i.push(this.patterns[t][e].bin);const{w:o,h:r}=e.p(i),s=this.atlasImage[t];s.resize({width:o||1,height:r||1});for(const i in this.patterns[t]){const{bin:o}=this.patterns[t][i],r=o.x+1,n=o.y+1,a=this.images[t][i].data,l=a.width,c=a.height;e.h.copy(a,s,{x:0,y:0},{x:r,y:n},{width:l,height:c}),e.h.copy(a,s,{x:0,y:c-1},{x:r,y:n-1},{width:l,height:1}),e.h.copy(a,s,{x:0,y:0},{x:r,y:n+c},{width:l,height:1}),e.h.copy(a,s,{x:l-1,y:0},{x:r-1,y:n},{width:1,height:c}),e.h.copy(a,s,{x:0,y:0},{x:r+l,y:n},{width:1,height:c});}this.dirty=!0;}beginFrame(){for(const e in this.images)this.callbackDispatchedThisFrame[e]={};}dispatchRenderCallbacks(e,t){for(const i of e){if(this.callbackDispatchedThisFrame[t][i])continue;this.callbackDispatchedThisFrame[t][i]=!0;const e=this.images[t][i];b(e)&&this.updateImage(i,t,e);}}}class T{constructor(e,t,i,o){this.message=(e?`${e}: `:\"\")+i,o&&(this.identifier=o),null!=t&&t.__line__&&(this.line=t.__line__);}}class E extends T{}function S(t){const i=t.key,o=t.value,r=t.valueSpec||{},s=t.objectElementValidators||{},n=t.style,a=t.styleSpec;let l=[];const c=e.i(o);if(\"object\"!==c)return [new T(i,o,`object expected, ${c} found`)];for(const e in o){const t=e.split(\".\")[0];let c;s[t]?c=s[t]:r[t]?c=$:s[\"*\"]?c=s[\"*\"]:r[\"*\"]&&(c=$),c?l=l.concat(c({key:(i?`${i}.`:i)+e,value:o[e],valueSpec:r[t]||r[\"*\"],style:n,styleSpec:a,object:o,objectKey:e},o)):l.push(new E(i,o[e],`unknown property \"${e}\"`));}for(const e in r)s[e]||r[e].required&&void 0===r[e].default&&void 0===o[e]&&l.push(new T(i,o,`missing required property \"${e}\"`));return l}function C(t){const i=t.value,o=t.valueSpec,r=t.style,s=t.styleSpec,n=t.key,a=t.arrayElementValidator||$;if(\"array\"!==e.i(i))return [new T(n,i,`array expected, ${e.i(i)} found`)];if(o.length&&i.length!==o.length)return [new T(n,i,`array length ${o.length} expected, length ${i.length} found`)];if(o[\"min-length\"]&&i.length<o[\"min-length\"])return [new T(n,i,`array length at least ${o[\"min-length\"]} expected, length ${i.length} found`)];let l={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};s.$version<7&&(l.function=o.function),\"object\"===e.i(o.value)&&(l=o.value);let c=[];for(let e=0;e<i.length;e++)c=c.concat(a({array:i,arrayIndex:e,value:i[e],valueSpec:l,style:r,styleSpec:s,key:`${n}[${e}]`},!0));return c}function I(t){const i=t.key,o=t.value,r=t.valueSpec;let s=e.i(o);if(\"number\"===s&&o!=o&&(s=\"NaN\"),\"number\"!==s)return [new T(i,o,`number expected, ${s} found`)];if(\"minimum\"in r){let s=r.minimum;if(\"array\"===e.i(r.minimum)&&(s=r.minimum[t.arrayIndex]),o<s)return [new T(i,o,`${o} is less than the minimum value ${s}`)]}if(\"maximum\"in r){let s=r.maximum;if(\"array\"===e.i(r.maximum)&&(s=r.maximum[t.arrayIndex]),o>s)return [new T(i,o,`${o} is greater than the maximum value ${s}`)]}return []}function D(t){const i=t.valueSpec,o=e.u(t.value.type);let r,s,n,a={};const l=\"categorical\"!==o&&void 0===t.value.property,c=!l,h=\"array\"===e.i(t.value.stops)&&\"array\"===e.i(t.value.stops[0])&&\"object\"===e.i(t.value.stops[0][0]),u=S({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if(\"identity\"===o)return [new T(t.key,t.value,'identity function may not have a \"stops\" property')];let i=[];const r=t.value;return i=i.concat(C({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:d})),\"array\"===e.i(r)&&0===r.length&&i.push(new T(t.key,r,\"array must have at least one stop\")),i},default:function(e){return $({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return \"identity\"===o&&l&&u.push(new T(t.key,t.value,'missing required property \"property\"')),\"identity\"===o||t.value.stops||u.push(new T(t.key,t.value,'missing required property \"stops\"')),\"exponential\"===o&&t.valueSpec.expression&&!e.s(t.valueSpec)&&u.push(new T(t.key,t.value,\"exponential functions not supported\")),t.styleSpec.$version>=8&&(c&&!e.k(t.valueSpec)?u.push(new T(t.key,t.value,\"property functions not supported\")):l&&!e.m(t.valueSpec)&&u.push(new T(t.key,t.value,\"zoom functions not supported\"))),\"categorical\"!==o&&!h||void 0!==t.value.property||u.push(new T(t.key,t.value,'\"property\" property is required')),u;function d(t){let o=[];const r=t.value,l=t.key;if(\"array\"!==e.i(r))return [new T(l,r,`array expected, ${e.i(r)} found`)];if(2!==r.length)return [new T(l,r,`array length 2 expected, length ${r.length} found`)];if(h){if(\"object\"!==e.i(r[0]))return [new T(l,r,`object expected, ${e.i(r[0])} found`)];if(void 0===r[0].zoom)return [new T(l,r,\"object stop key must have zoom\")];if(void 0===r[0].value)return [new T(l,r,\"object stop key must have value\")];const i=e.u(r[0].zoom);if(\"number\"!=typeof i)return [new T(l,r[0].zoom,\"stop zoom values must be numbers\")];if(n&&n>i)return [new T(l,r[0].zoom,\"stop zoom values must appear in ascending order\")];i!==n&&(n=i,s=void 0,a={}),o=o.concat(S({key:`${l}[0]`,value:r[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:I,value:_}}));}else o=o.concat(_({key:`${l}[0]`,value:r[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},r));return e.n(e.o(r[1]))?o.concat([new T(`${l}[1]`,r[1],\"expressions are not allowed in function stops.\")]):o.concat($({key:`${l}[1]`,value:r[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function _(t,n){const l=e.i(t.value),c=e.u(t.value),h=null!==t.value?t.value:n;if(r){if(l!==r)return [new T(t.key,h,`${l} stop domain type must match previous stop domain type ${r}`)]}else r=l;if(\"number\"!==l&&\"string\"!==l&&\"boolean\"!==l&&\"number\"!=typeof c&&\"string\"!=typeof c&&\"boolean\"!=typeof c)return [new T(t.key,h,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==l&&\"categorical\"!==o){let r=`number expected, ${l} found`;return e.k(i)&&void 0===o&&(r+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new T(t.key,h,r)]}return \"categorical\"!==o||\"number\"!==l||\"number\"==typeof c&&isFinite(c)&&Math.floor(c)===c?\"categorical\"!==o&&\"number\"===l&&\"number\"==typeof c&&\"number\"==typeof s&&void 0!==s&&c<s?[new T(t.key,h,\"stop domain values must appear in ascending order\")]:(s=c,\"categorical\"===o&&c in a?[new T(t.key,h,\"stop domain values must be unique\")]:(a[c]=!0,[])):[new T(t.key,h,`integer expected, found ${String(c)}`)]}}function L(t){const i=(\"property\"===t.expressionContext?e.q:e.r)(e.o(t.value),t.valueSpec);if(\"error\"===i.result)return i.value.map((e=>new T(`${t.key}${e.key}`,t.value,e.message)));const o=i.value.expression||i.value._styleExpression.expression;if(\"property\"===t.expressionContext&&\"text-font\"===t.propertyKey&&!o.outputDefined())return [new T(t.key,t.value,`Invalid data expression for \"${t.propertyKey}\". Output values must be contained as literals within the expression.`)];if(\"property\"===t.expressionContext&&\"layout\"===t.propertyType&&!e.t(o))return [new T(t.key,t.value,'\"feature-state\" data expressions are not supported with layout properties.')];if(\"filter\"===t.expressionContext)return A(o,t);if(t.expressionContext&&0===t.expressionContext.indexOf(\"cluster\")){if(!e.v(o,[\"zoom\",\"feature-state\"]))return [new T(t.key,t.value,'\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.')];if(\"cluster-initial\"===t.expressionContext&&!e.x(o))return [new T(t.key,t.value,\"Feature data expressions are not supported with initial expression part of cluster properties.\")]}return []}function A(t,i){const o=new Set([\"zoom\",\"feature-state\",\"pitch\",\"distance-from-center\"]);if(i.valueSpec&&i.valueSpec.expression)for(const e of i.valueSpec.expression.parameters)o.delete(e);if(0===o.size)return [];const r=[];return t instanceof e.C&&o.has(t.name)?[new T(i.key,i.value,`[\"${t.name}\"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(t.eachChild((e=>{r.push(...A(e,i));})),r)}function R(t){const i=t.key,o=t.value,r=t.valueSpec,s=[];return Array.isArray(r.values)?-1===r.values.indexOf(e.u(o))&&s.push(new T(i,o,`expected one of [${r.values.join(\", \")}], ${JSON.stringify(o)} found`)):-1===Object.keys(r.values).indexOf(e.u(o))&&s.push(new T(i,o,`expected one of [${Object.keys(r.values).join(\", \")}], ${JSON.stringify(o)} found`)),s}function P(t){return e.z(e.o(t.value))?L(e.j({},t,{expressionContext:\"filter\",valueSpec:t.styleSpec[`filter_${t.layerType||\"fill\"}`]})):M(t)}function M(t){const i=t.value,o=t.key;if(\"array\"!==e.i(i))return [new T(o,i,`array expected, ${e.i(i)} found`)];const r=t.styleSpec;let s,n=[];if(i.length<1)return [new T(o,i,\"filter array must have at least 1 element\")];switch(n=n.concat(R({key:`${o}[0]`,value:i[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),e.u(i[0])){case\"<\":case\"<=\":case\">\":case\">=\":i.length>=2&&\"$type\"===e.u(i[1])&&n.push(new T(o,i,`\"$type\" cannot be use with operator \"${i[0]}\"`));case\"==\":case\"!=\":3!==i.length&&n.push(new T(o,i,`filter array for operator \"${i[0]}\" must have 3 elements`));case\"in\":case\"!in\":i.length>=2&&(s=e.i(i[1]),\"string\"!==s&&n.push(new T(`${o}[1]`,i[1],`string expected, ${s} found`)));for(let a=2;a<i.length;a++)s=e.i(i[a]),\"$type\"===e.u(i[1])?n=n.concat(R({key:`${o}[${a}]`,value:i[a],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):\"string\"!==s&&\"number\"!==s&&\"boolean\"!==s&&n.push(new T(`${o}[${a}]`,i[a],`string, number, or boolean expected, ${s} found`));break;case\"any\":case\"all\":case\"none\":for(let e=1;e<i.length;e++)n=n.concat(M({key:`${o}[${e}]`,value:i[e],style:t.style,styleSpec:t.styleSpec}));break;case\"has\":case\"!has\":s=e.i(i[1]),2!==i.length?n.push(new T(o,i,`filter array for \"${i[0]}\" operator must have 2 elements`)):\"string\"!==s&&n.push(new T(`${o}[1]`,i[1],`string expected, ${s} found`));}return n}function z(t,i){const o=t.key,r=t.style,s=t.layer,n=t.styleSpec,a=t.value,l=t.objectKey,c=n[`${i}_${t.layerType}`];if(!c)return [];const h=l.match(/^(.*)-transition$/);if(\"paint\"===i&&h&&c[h[1]]&&c[h[1]].transition)return $({key:o,value:a,valueSpec:n.transition,style:r,styleSpec:n});const u=t.valueSpec||c[l];if(!u)return [new E(o,a,`unknown property \"${l}\"`)];let d;if(\"string\"===e.i(a)&&e.k(u)&&!u.tokens&&(d=/^{([^}]+)}$/.exec(a))){const e=`\\`{ \"type\": \"identity\", \"property\": ${d?JSON.stringify(d[1]):'\"_\"'} }\\``;return [new T(o,a,`\"${l}\" does not support interpolation syntax\\nUse an identity property function instead: ${e}.`)]}const _=[];if(\"symbol\"===t.layerType)\"text-field\"!==l||!r||r.glyphs||r.imports||_.push(new T(o,a,'use of \"text-field\" requires a style \"glyphs\" property')),\"text-font\"===l&&e.A(e.o(a))&&\"identity\"===e.u(a.type)&&_.push(new T(o,a,'\"text-font\" does not support identity functions'));else if(\"model\"===t.layerType&&\"paint\"===i&&s&&s.layout&&s.layout.hasOwnProperty(\"model-id\")&&e.k(u)&&(e.B(u)||e.m(u))){const t=e.q(e.o(a),u),i=t.value.expression||t.value._styleExpression.expression;i&&!e.v(i,[\"measure-light\"])&&(\"model-emissive-strength\"===l&&e.x(i)&&e.t(i)||_.push(new T(o,a,`${l} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)));}return _.concat($({key:t.key,value:a,valueSpec:u,style:r,styleSpec:n,expressionContext:\"property\",propertyType:i,propertyKey:l}))}function O(e){return z(e,\"paint\")}function F(e){return z(e,\"layout\")}function B(t){let i=[];const o=t.value,r=t.key,s=t.style,n=t.styleSpec;o.type||o.ref||i.push(new T(r,o,'either \"type\" or \"ref\" is required'));let a=e.u(o.type);const l=e.u(o.ref);if(o.id){const n=e.u(o.id);for(let a=0;a<t.arrayIndex;a++){const t=s.layers[a];e.u(t.id)===n&&i.push(new T(r,o.id,`duplicate layer id \"${o.id}\", previously used at line ${t.id.__line__}`));}}if(\"ref\"in o){let t;[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach((e=>{e in o&&i.push(new T(r,o[e],`\"${e}\" is prohibited for ref layers`));})),s.layers.forEach((i=>{e.u(i.id)===l&&(t=i);})),t?t.ref?i.push(new T(r,o.ref,\"ref cannot reference another ref layer\")):a=e.u(t.type):\"string\"==typeof l&&i.push(new T(r,o.ref,`ref layer \"${l}\" not found`));}else if(\"background\"!==a&&\"sky\"!==a&&\"slot\"!==a)if(o.source){const t=s.sources&&s.sources[o.source],n=t&&e.u(t.type);t?\"vector\"===n&&\"raster\"===a?i.push(new T(r,o.source,`layer \"${o.id}\" requires a raster source`)):\"raster\"===n&&\"raster\"!==a?i.push(new T(r,o.source,`layer \"${o.id}\" requires a vector source`)):\"vector\"!==n||o[\"source-layer\"]?\"raster-dem\"===n&&\"hillshade\"!==a?i.push(new T(r,o.source,\"raster-dem source can only be used with layer type 'hillshade'.\")):\"raster-array\"!==n||[\"raster\",\"raster-particle\"].includes(a)?\"line\"!==a||!o.paint||!o.paint[\"line-gradient\"]&&!o.paint[\"line-trim-offset\"]||\"geojson\"===n&&t.lineMetrics?\"raster-particle\"===a&&\"raster-array\"!==n&&i.push(new T(r,o.source,`layer \"${o.id}\" requires a 'raster-array' source.`)):i.push(new T(r,o,`layer \"${o.id}\" specifies a line-gradient, which requires a GeoJSON source with \\`lineMetrics\\` enabled.`)):i.push(new T(r,o.source,\"raster-array source can only be used with layer type 'raster'.\")):i.push(new T(r,o,`layer \"${o.id}\" must specify a \"source-layer\"`)):i.push(new T(r,o.source,`source \"${o.source}\" not found`));}else i.push(new T(r,o,'missing required property \"source\"'));return i=i.concat(S({key:r,value:o,valueSpec:n.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":()=>[],type:()=>$({key:`${r}.type`,value:o.type,valueSpec:n.layer.type,style:t.style,styleSpec:t.styleSpec,object:o,objectKey:\"type\"}),filter:t=>P(e.j({layerType:a},t)),layout:t=>S({layer:o,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>F(e.j({layerType:a},t))}}),paint:t=>S({layer:o,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>O(e.j({layerType:a,layer:o},t))}})}})),i}function k(t){const i=t.value,o=t.key,r=e.i(i);return \"string\"!==r?[new T(o,i,`string expected, ${r} found`)]:[]}const N={promoteId:function({key:t,value:i}){if(\"string\"===e.i(i))return k({key:t,value:i});{const e=[];for(const o in i)e.push(...k({key:`${t}.${o}`,value:i[o]}));return e}}};function U(t){const i=t.value,o=t.key,r=t.styleSpec,s=t.style;if(!i.type)return [new T(o,i,'\"type\" is required')];const n=e.u(i.type);let a=[];switch([\"vector\",\"raster\",\"raster-dem\",\"raster-array\"].includes(n)&&(i.url||i.tiles||a.push(new E(o,i,'Either \"url\" or \"tiles\" is required.'))),n){case\"vector\":case\"raster\":case\"raster-dem\":case\"raster-array\":return a=a.concat(S({key:o,value:i,valueSpec:r[`source_${n.replace(\"-\",\"_\")}`],style:t.style,styleSpec:r,objectElementValidators:N})),a;case\"geojson\":if(a=S({key:o,value:i,valueSpec:r.source_geojson,style:s,styleSpec:r,objectElementValidators:N}),i.cluster)for(const e in i.clusterProperties){const[t,r]=i.clusterProperties[e],s=\"string\"==typeof t?[t,[\"accumulated\"],[\"get\",e]]:t;a.push(...L({key:`${o}.${e}.map`,value:r,expressionContext:\"cluster-map\"})),a.push(...L({key:`${o}.${e}.reduce`,value:s,expressionContext:\"cluster-reduce\"}));}return a;case\"video\":return S({key:o,value:i,valueSpec:r.source_video,style:s,styleSpec:r});case\"image\":return S({key:o,value:i,valueSpec:r.source_image,style:s,styleSpec:r});case\"canvas\":return [new T(o,null,\"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\",\"source.canvas\")];default:return R({key:`${o}.type`,value:i.type,valueSpec:{values:G(r)},style:s,styleSpec:r})}}function G(e){return e.source.reduce(((t,i)=>{const o=e[i];return \"enum\"===o.type.type&&(t=t.concat(Object.keys(o.type.values))),t}),[])}function j(t){const i=t.value;let o=[];if(!i)return o;const r=e.i(i);return \"string\"!==r?(o=o.concat([new T(t.key,i,`string expected, \"${r}\" found`)]),o):(function(e){const t=-1===e.indexOf(\"://\");try{return new URL(e,t?\"http://example.com\":void 0),!0}catch(e){return !1}}(i)||(o=o.concat([new T(t.key,i,`invalid url \"${i}\"`)])),o)}function V(t){const i=t.value,o=t.styleSpec,r=o.light,s=t.style;let n=[];const a=e.i(i);if(void 0===i)return n;if(\"object\"!==a)return n=n.concat([new T(\"light\",i,`object expected, ${a} found`)]),n;for(const e in i){const t=e.match(/^(.*)-transition$/);n=n.concat(t&&r[t[1]]&&r[t[1]].transition?$({key:e,value:i[e],valueSpec:o.transition,style:s,styleSpec:o}):r[e]?$({key:e,value:i[e],valueSpec:r[e],style:s,styleSpec:o}):[new T(e,i[e],`unknown property \"${e}\"`)]);}return n}function Z(t){const i=t.value;let o=[];if(!i)return o;const r=e.i(i);if(\"object\"!==r)return o=o.concat([new T(\"light-3d\",i,`object expected, ${r} found`)]),o;const s=t.styleSpec,n=s[\"light-3d\"],a=t.key,l=t.style,c=t.style.lights;for(const e of [\"type\",\"id\"])if(!(e in i))return o=o.concat([new T(\"light-3d\",i,`missing property ${e} on light`)]),o;if(i.type&&c)for(let r=0;r<t.arrayIndex;r++){const t=e.u(i.type),s=c[r];e.u(s.type)===t&&o.push(new T(a,i.id,`duplicate light type \"${i.type}\", previously defined at line ${s.id.__line__}`));}const h=`properties_light_${i.type}`;if(!(h in s))return o=o.concat([new T(\"light-3d\",i,`Invalid light type ${i.type}`)]),o;const u=s[h];for(const r in i)if(\"properties\"===r){const n=i[r],a=e.i(n);if(\"object\"!==a)return o=o.concat([new T(\"properties\",n,`object expected, ${a} found`)]),o;for(const e in n)o=o.concat(u[e]?$({key:e,value:n[e],valueSpec:u[e],style:l,styleSpec:s}):[new E(t.key,n[e],`unknown property \"${e}\"`)]);}else {const e=r.match(/^(.*)-transition$/);o=o.concat(e&&n[e[1]]&&n[e[1]].transition?$({key:r,value:i[r],valueSpec:s.transition,style:l,styleSpec:s}):n[r]?$({key:r,value:i[r],valueSpec:n[r],style:l,styleSpec:s}):[new E(r,i[r],`unknown property \"${r}\"`)]);}return o}function H(t){const i=t.value,o=t.key,r=t.style,s=t.styleSpec,n=s.terrain;let a=[];const l=e.i(i);if(void 0===i)return a;if(\"null\"===l)return a;if(\"object\"!==l)return a=a.concat([new T(\"terrain\",i,`object expected, ${l} found`)]),a;for(const e in i){const t=e.match(/^(.*)-transition$/);a=a.concat(t&&n[t[1]]&&n[t[1]].transition?$({key:e,value:i[e],valueSpec:s.transition,style:r,styleSpec:s}):n[e]?$({key:e,value:i[e],valueSpec:n[e],style:r,styleSpec:s}):[new E(e,i[e],`unknown property \"${e}\"`)]);}if(i.source){const t=r.sources&&r.sources[i.source],s=t&&e.u(t.type);t?\"raster-dem\"!==s&&a.push(new T(o,i.source,`terrain cannot be used with a source of type ${String(s)}, it only be used with a \"raster-dem\" source type`)):a.push(new T(o,i.source,`source \"${i.source}\" not found`));}else a.push(new T(o,i,'terrain is missing required property \"source\"'));return a}function W(t){const i=t.value,o=t.style,r=t.styleSpec,s=r.fog;let n=[];const a=e.i(i);if(void 0===i)return n;if(\"object\"!==a)return n=n.concat([new T(\"fog\",i,`object expected, ${a} found`)]),n;for(const e in i){const t=e.match(/^(.*)-transition$/);n=n.concat(t&&s[t[1]]&&s[t[1]].transition?$({key:e,value:i[e],valueSpec:r.transition,style:o,styleSpec:r}):s[e]?$({key:e,value:i[e],valueSpec:s[e],style:o,styleSpec:r}):[new E(e,i[e],`unknown property \"${e}\"`)]);}return n}const q={\"*\":()=>[],array:C,boolean:function(t){const i=t.value,o=t.key,r=e.i(i);return \"boolean\"!==r?[new T(o,i,`boolean expected, ${r} found`)]:[]},number:I,color:function(t){const i=t.key,o=t.value,r=e.i(o);return \"string\"!==r?[new T(i,o,`color expected, ${r} found`)]:null===e.y(o)?[new T(i,o,`color expected, \"${o}\" found`)]:[]},enum:R,filter:P,function:D,layer:B,object:S,source:U,model:j,light:V,\"light-3d\":Z,terrain:H,fog:W,string:k,formatted:function(e){return 0===k(e).length?[]:L(e)},resolvedImage:function(e){return 0===k(e).length?[]:L(e)},projection:function(t){const i=t.value,o=t.styleSpec,r=o.projection,s=t.style;let n=[];const a=e.i(i);if(\"object\"===a)for(const e in i)n=n.concat($({key:e,value:i[e],valueSpec:r[e],style:s,styleSpec:o}));else \"string\"!==a&&(n=n.concat([new T(\"projection\",i,`object or string expected, ${a} found`)]));return n},import:function(t){const{value:i,styleSpec:o}=t,{data:r,...s}=i;Object.defineProperty(s,\"__line__\",{value:i.__line__,enumerable:!1});let n=S(e.j({},t,{value:s,valueSpec:o.import}));return \"\"===e.u(s.id)&&n.push(new T(`${t.key}.id`,s,\"import id can't be an empty string\")),r&&(n=n.concat(K(r,o,{key:`${t.key}.data`}))),n}};function $(t,i=!1){const o=t.value,r=t.valueSpec,s=t.styleSpec;if(r.expression&&e.A(e.u(o)))return D(t);if(r.expression&&e.n(e.o(o)))return L(t);if(r.type&&q[r.type]){const o=q[r.type](t);return !0===i&&o.length>0&&\"array\"===e.i(t.value)?L(t):o}return S(e.j({},t,{valueSpec:r.type?s[r.type]:r}))}function X(e){const t=e.value,i=e.key,o=k(e);return o.length||(-1===t.indexOf(\"{fontstack}\")&&o.push(new T(i,t,'\"glyphs\" url must include a \"{fontstack}\" token')),-1===t.indexOf(\"{range}\")&&o.push(new T(i,t,'\"glyphs\" url must include a \"{range}\" token'))),o}function K(t,i=e.D,o={}){return $({key:o.key||\"\",value:t,valueSpec:i.$root,styleSpec:i,style:t,objectElementValidators:{glyphs:X,\"*\":()=>[]}})}function Y(t,i=e.D){return le(K(t,i))}const J=e=>le(U(e)),Q=e=>le(V(e)),ee=e=>le(Z(e)),te=e=>le(H(e)),ie=e=>le(W(e)),oe=e=>le(B(e)),re=e=>le(P(e)),se=e=>le(O(e)),ne=e=>le(F(e)),ae=e=>le(j(e));function le(e){return e.slice().sort(((e,t)=>e.line&&t.line?e.line-t.line:0))}function ce(t,i){let o=!1;if(i&&i.length)for(const r of i)r instanceof E?e.w(r.message):(t.fire(new e.a(new Error(r.message))),o=!0);return o}const he=new e.F({anchor:new e.G(e.D.light.anchor),position:new e.H(e.D.light.position),color:new e.G(e.D.light.color),intensity:new e.G(e.D.light.intensity)});class ue extends e.E{constructor(t,i=\"flat\"){super(),this._transitionable=new e.J(he),this.setLight(t,i),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(e,t,i={}){this._validate(Q,e,i)||(this._transitionable.setTransitionOrValue(e),this.id=t);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&ce(this,t.call(Y,e.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.D})))}}const de=new e.F({source:new e.G(e.D.terrain.source),exaggeration:new e.G(e.D.terrain.exaggeration)});let _e=class extends e.E{constructor(t,i,o,r){super(),this.scope=o,this._transitionable=new e.J(de,o,r),this._transitionable.setTransitionOrValue(t,r),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i;}get(){return this._transitionable.serialize()}set(e,t){this._transitionable.setTransitionOrValue(e,t);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}getExaggeration(t){return this._transitioning.possiblyEvaluate(new e.K(t)).get(\"exaggeration\")}isZoomDependent(){const t=this._transitionable._values.exaggeration;return null!=t&&null!=t.value&&null!=t.value.expression&&t.value.expression instanceof e.Z}};const pe=45,fe=65,me=.05;function ge(t,i,o,r){const s=e.O(pe,fe,o),[n,a]=ve(t,r);let l=1-Math.min(1,Math.exp((i-n)/(a-n)*-6));return l*=l*l,l=Math.min(1,1.00747*l),l*s*t.alpha}function ve(e,t){const i=.5/Math.tan(.5*t);return [e.range[0]+i,e.range[1]+i]}function xe(t,i,o,r,s){const n=e.N.transformMat4([],[i,o,r],s.mercatorFogMatrix);return ge(t,e.N.length(n),s.pitch,s._fov)}function ye(t,i,o,r,s,n,a){const l=[[o,r,0],[s,r,0],[s,n,0],[o,n,0]];let c=Number.MAX_VALUE,h=-Number.MAX_VALUE;for(const t of l){const o=e.N.transformMat4([],t,i),r=e.N.length(o);c=Math.min(c,r),h=Math.max(h,r);}return [ge(t,c,a.pitch,a._fov),ge(t,h,a.pitch,a._fov)]}const be=new e.F({range:new e.G(e.D.fog.range),color:new e.G(e.D.fog.color),\"high-color\":new e.G(e.D.fog[\"high-color\"]),\"space-color\":new e.G(e.D.fog[\"space-color\"]),\"horizon-blend\":new e.G(e.D.fog[\"horizon-blend\"]),\"star-intensity\":new e.G(e.D.fog[\"star-intensity\"]),\"vertical-range\":new e.G(e.D.fog[\"vertical-range\"])});class we extends e.E{constructor(t,i,o,r){super(),this._transitionable=new e.J(be,o,new Map(r)),this.set(t,r),this._transitioning=this._transitionable.untransitioned(),this._transform=i,this.properties=new e.Q(be);}get state(){const t=this._transform,i=\"globe\"===t.projection.name,o=e.S(t.zoom),r=this.properties.get(\"range\"),s=[.5,3];return {range:i?[e.U(s[0],r[0],o),e.U(s[1],r[1],o)]:r,horizonBlend:this.properties.get(\"horizon-blend\"),alpha:this.properties.get(\"color\").a}}get(){return this._transitionable.serialize()}set(t,i,o={}){if(this._validate(ie,t,o))return;const r=e.e({},t);for(const t of Object.keys(e.D.fog))void 0===r[t]&&(r[t]=e.D.fog[t].default);this._options=r,this._transitionable.setTransitionOrValue(this._options,i);}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const i=this.properties&&this.properties.get(\"color\")||1;return (\"globe\"===this._transform.projection.name?1:e.O(pe,fe,t))*i.a}getOpacityAtLatLng(t,i){return this._transform.projection.supportsFog?function(t,i,o){const r=e.L.fromLngLat(i),s=o.elevation?o.elevation.getAtPointOrZero(r):0;return xe(t,r.x,r.y,s,o)}(this.state,t,i):0}getOpacityForTile(t){if(!this._transform.projection.supportsFog)return [1,1];const i=this._transform.calculateFogTileMatrix(t.toUnwrapped());return ye(this.state,i,0,0,e.V,e.V,this._transform)}getOpacityForBounds(e,t,i,o,r){return this._transform.projection.supportsFog?ye(this.state,e,t,i,o,r,this._transform):[1,1]}getFovAdjustedRange(e){return this._transform.projection.supportsFog?ve(this.state,e):[0,1]}isVisibleOnFrustum(t){if(!this._transform.projection.supportsFog)return !1;const i=[4,5,6,7];for(const o of i){const i=t.points[o];let r;if(i[2]>=0)r=i;else {const s=t.points[o-4];r=e.W(s,i,s[2]/(s[2]-i[2]));}if(xe(this.state,r[0],r[1],0,this._transform)>=me)return !0}return !1}updateConfig(e){this._transitionable.setTransitionOrValue(this._options,new Map(e));}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&ce(this,t.call(Y,e.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.D})))}}class Te extends e.E{constructor(t,i,o,r){super(),this.scope=o,this._options=t,this.properties=new e.Q(i),this._transitionable=new e.J(i,o,new Map(r)),this._transitionable.setTransitionOrValue(t.properties),this._transitioning=this._transitionable.untransitioned();}updateConfig(e){this._transitionable.setTransitionOrValue(this._options.properties,new Map(e));}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(e,t){this._options=e,this._transitionable.setTransitionOrValue(e.properties,t);}shadowsEnabled(){return !!this.properties&&!0===this.properties.get(\"cast-shadows\")}}const Ee=new e.F({color:new e.G(e.D.properties_light_ambient.color),intensity:new e.G(e.D.properties_light_ambient.intensity)}),Se=new e.F({direction:new e.X(e.D.properties_light_directional.direction),color:new e.G(e.D.properties_light_directional.color),intensity:new e.G(e.D.properties_light_directional.intensity),\"cast-shadows\":new e.G(e.D.properties_light_directional[\"cast-shadows\"]),\"shadow-intensity\":new e.G(e.D.properties_light_directional[\"shadow-intensity\"])});class Ce{constructor(e,t,i,o){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,o);}static createFromScreenPoints(t,i){let o,r;if(t instanceof e.P||\"number\"==typeof t[0]){const s=e.P.convert(t);o=[s],r=i.isPointAboveHorizon(s);}else {const s=e.P.convert(t[0]),n=e.P.convert(t[1]);o=[s,n],r=e.Y(s,n).every((e=>i.isPointAboveHorizon(e)));}return new Ce(o,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.Y(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.P(1,1)):this.screenBounds[1],r=e.Y(i,o,0,!1);return this.cameraPoint.y>o.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<o.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=o.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e._(r,t)}bufferedCameraGeometryGlobe(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.P(1,1)):this.screenBounds[1],r=e.Y(i,o,t),s=this.cameraPoint.clone();switch(3*((s.y>i.y)+(s.y>o.y))+((s.x>i.x)+(s.x>o.x))){case 0:r[0]=s,r[4]=s.clone();break;case 1:r.splice(1,0,s);break;case 2:r[1]=s;break;case 3:r.splice(4,0,s);break;case 5:r.splice(2,0,s);break;case 6:r[3]=s;break;case 7:r.splice(3,0,s);break;case 8:r[2]=s;}return r}containsTile(t,i,o,r=0){const s=t.queryPadding/i._pixelsPerMercatorPixel+1,n=o?this._bufferedCameraMercator(s,i):this._bufferedScreenMercator(s,i);let a=t.tileID.wrap+(n.unwrapped?r:0);const l=n.polygon.map((i=>e.$(t.tileTransform,i,a)));if(!e.a0(l,0,0,e.V,e.V))return;a=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((i=>e.a1(t.tileTransform,i,a))),h=c.map((t=>new e.P(t[0],t[1]))),u=i.getFreeCameraOptions().position||new e.L(0,0,0),d=e.a1(t.tileTransform,u,a),_=c.map((t=>{const i=e.N.sub(t,t,d);return e.N.normalize(i,i),new e.a2(d,i)})),p=e.a3(t,1,i.zoom)*i._pixelsPerMercatorPixel;return {queryGeometry:this,tilespaceGeometry:h,tilespaceRays:_,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(f=e.a4(l),f.min.x=e.aa(f.min.x,0,e.V),f.min.y=e.aa(f.min.y,0,e.V),f.max.x=e.aa(f.max.x,0,e.V),f.max.y=e.aa(f.max.y,0,e.V),f),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p};var f;}_bufferedScreenMercator(e,t){const i=Le(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=o,o}}_bufferedCameraMercator(e,t){const i=Le(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=o,o}}_projectAndResample(t,i){const o=function(t,i){const o=e.a6.multiply([],i.pixelMatrix,i.globeMatrix),r=[0,-e.ab,0,1],s=[0,e.ab,0,1],n=[0,0,0,1];e.a7.transformMat4(r,r,o),e.a7.transformMat4(s,s,o),e.a7.transformMat4(n,n,o);const a=new e.P(r[0]/r[3],r[1]/r[3]),l=new e.P(s[0]/s[3],s[1]/s[3]),c=e.a8(t,a)&&r[3]<n[3],h=e.a8(t,l)&&s[3]<n[3];if(!c&&!h)return null;const u=function(e,t,i){for(let o=1;o<e.length;o++){const r=De(t.pointCoordinate3D(e[o-1]).x),s=De(t.pointCoordinate3D(e[o]).x);if(i<0){if(r<s)return {idx:o,t:-r/(s-1-r)}}else if(s<r)return {idx:o,t:(1-r)/(s+1-r)}}return null}(t,i,c?-1:1);if(!u)return null;const{idx:d,t:_}=u;let p=d>1?Ie(t.slice(0,d),i):[],f=d<t.length?Ie(t.slice(d),i):[];p=p.map((t=>new e.P(De(t.x),t.y))),f=f.map((t=>new e.P(De(t.x),t.y)));const m=[...p];0===m.length&&m.push(f[f.length-1]);const g=e.U(m[m.length-1].y,(0===f.length?p[0]:f[0]).y,_);let v;return v=c?[new e.P(0,g),new e.P(0,0),new e.P(1,0),new e.P(1,g)]:[new e.P(1,g),new e.P(1,1),new e.P(0,1),new e.P(0,g)],m.push(...v),0===f.length?m.push(p[0]):m.push(...f),{polygon:m.map((t=>new e.L(t.x,t.y))),unwrapped:!1}}(t,i);if(o)return o;const r=function(t,i){let o=!1,r=-1/0,s=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,s=e);for(let e=0;e<t.length-1;e++){const i=(s+e)%(t.length-1),r=t[i],n=t[i+1];Math.abs(r.x-n.x)>.5&&(r.x<n.x?(r.x+=1,0===i&&(t[t.length-1].x+=1)):(n.x+=1,i+1===t.length-1&&(t[0].x+=1)),o=!0);}const n=e.a5(i.center.lng);return o&&n<Math.abs(n-1)&&t.forEach((e=>{e.x-=1;})),{polygon:t,unwrapped:o}}(Ie(t,i).map((t=>new e.P(De(t.x),t.y))),i);return {polygon:r.polygon.map((t=>new e.L(t.x,t.y))),unwrapped:r.unwrapped}}}function Ie(t,i){return e.a9(t,(e=>{const t=i.pointCoordinate3D(e);e.x=t.x,e.y=t.y;}),1/256)}function De(e){return e<0?1+e%1:e%1}function Le(e){return 100*e|0}function Ae(t,i,o,r,s){const n=function(o,r){if(o)return s(o);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const o=e.ac(e.e(r,t),[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\",\"bounds\",\"scheme\",\"tileSize\",\"encoding\"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((e=>e.id))),r.raster_layers&&(o.rasterLayers=r.raster_layers,o.rasterLayerIds=o.rasterLayers.map((e=>e.id))),o.tiles=i.canonicalizeTileset(o,t.url),s(null,o);}};return t.url?e.g(i.transformRequest(i.normalizeSourceURL(t.url,null,o,r),e.R.Source),n):e.f.frame((()=>n(null,t)))}class Re{constructor(t,i,o){this.bounds=e.ad.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=o||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),o=Math.floor(e.a5(this.bounds.getWest())*i),r=Math.floor(e.ae(this.bounds.getNorth())*i),s=Math.ceil(e.a5(this.bounds.getEast())*i),n=Math.ceil(e.ae(this.bounds.getSouth())*i);return t.x>=o&&t.x<s&&t.y>=r&&t.y<n}}class Pe extends e.E{constructor(t,i,o,r){if(super(),this.id=t,this.dispatcher=o,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.e(this,e.ac(i,[\"url\",\"scheme\",\"tileSize\",\"promoteId\"])),this._options=e.e({type:\"vector\"},i),this._collectResourceTiming=!!i.collectResourceTiming,512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.af;}load(t){this._loaded=!1,this.fire(new e.b(\"dataloading\",{dataType:\"source\"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,o=this.map._worldview;this._tileJSONRequest=Ae(this._options,this.map._requestManager,i,o,((r,s)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.a(r))):s&&(e.e(this,s),s.bounds&&(this.tileBounds=new Re(s.bounds,this.minzoom,this.maxzoom)),e.aj(s.tiles,this.map._requestManager._customAccessToken),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),t&&t(r);}));}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const t=e.ag(this.id,this.scope);this.load((()=>this.map.style.clearSource(t)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return e.e({},this._options)}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.R.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:e.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:t.isExtraShadowCaster};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&\"expired\"!==t.state)\"loading\"===t.state?t.reloadCallback=i:t.request=t.actor.send(\"reloadTile\",r,s.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send(\"loadTile\",r,s.bind(this),void 0,!0);else {const i=e.ah.call({deduped:this._deduped},r,((e,i)=>{e||!i?s.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send(\"loadTile\",r,s.bind(this),void 0,!0));}),!0);t.request={cancel:i};}function s(o,r){return delete t.request,t.aborted?i(null):o&&404!==o.status?i(o):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.ai(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope});}unloadTile(e){e.actor&&e.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope}),e.destroy();}hasTransition(){return !1}afterUpdate(){this._tileWorkers={};}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}class Me extends e.E{constructor(t,i,o,r){super(),this.id=t,this.dispatcher=o,this.setEventedParent(r),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this._options=e.e({type:\"raster\"},i),e.e(this,e.ac(i,[\"url\",\"scheme\",\"tileSize\"]));}load(t){this._loaded=!1,this.fire(new e.b(\"dataloading\",{dataType:\"source\"})),this._tileJSONRequest=Ae(this._options,this.map._requestManager,null,null,((i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new e.a(i)):o&&(e.e(this,o),o.bounds&&(this.tileBounds=new Re(o.bounds,this.minzoom,this.maxzoom)),e.aj(o.tiles),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),t&&t(i);}));}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const t=e.ag(this.id,this.scope);this.load((()=>this.map.style.clearSource(t)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return e.e({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const o=e.f.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.d(this.map._requestManager.transformRequest(r,e.R.Tile),((o,r,s,n)=>(delete t.request,t.aborted?(t.state=\"unloaded\",i(null)):o?(t.state=\"errored\",i(o)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:s,expires:n}),t.setTexture(r,this.map.painter),t.state=\"loaded\",e.ai(this.dispatcher),void i(null)):i(null))));}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t();}unloadTile(t,i){t.texture&&t.texture instanceof e.T?(t.destroy(!0),t.texture&&t.texture instanceof e.T&&this.map.painter.saveTileTexture(t.texture)):t.destroy(),i();}hasTransition(){return !1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}class ze extends Me{constructor(t,i,o,r){super(t,i,o,r),this.type=\"raster-array\",this.maxzoom=22,this._options=e.e({type:\"raster-array\"},i);}triggerRepaint(e){const t=this.map.painter._terrain,i=this.map.style.getSourceCache(this.id);t&&t.enabled&&i&&t._clearRenderCacheForTile(i.id,e.tileID),this.map.triggerRepaint();}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),r=this.map._requestManager.transformRequest(o,e.R.Tile);t.requestParams=r,t.actor||(t.actor=this.dispatcher.getActor()),t.request=t.fetchHeader(void 0,((e,o,r,s)=>{if(delete t.request,t.aborted)return t.state=\"unloaded\",i(null);if(e){if(20===e.code)return;return t.state=\"errored\",i(e)}this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:r,expires:s}),t.state=\"empty\",i(null);}));}unloadTile(t){const i=t.texture;i&&i instanceof e.T?(t.destroy(!0),this.map.painter.saveTileTexture(i)):(t.destroy(),t.flushQueues(),t._isHeaderLoaded=!1,delete t._mrt,delete t.textureDescriptor),t.fbo&&(t.fbo.destroy(),delete t.fbo),delete t.request,delete t.requestParams,delete t.neighboringTiles,t.state=\"unloaded\";}prepareTile(t,i,o){t._isHeaderLoaded&&(\"empty\"!==t.state&&(t.state=\"reloading\"),t.fetchBand(i,o,((i,o)=>{if(i)return t.state=\"errored\",this.fire(new e.a(i)),void this.triggerRepaint(t);o&&(t.setTexture(o,this.map.painter),t.state=\"loaded\",this.triggerRepaint(t));})));}getInitialBand(e){if(!this.rasterLayers)return 0;const t=this.rasterLayers.find((({id:t})=>t===e)),i=t&&t.fields,o=i&&i.bands&&i.bands;return o?o[0]:0}getTextureDescriptor(t,i,o){if(!t)return;const r=i.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!r)return;let s=null;i instanceof e.an?s=i.paint.get(\"raster-array-band\"):i instanceof e.ao&&(s=i.paint.get(\"raster-particle-array-band\"));const n=s||this.getInitialBand(r);if(null!=n)if(t.textureDescriptor){if(!t.updateNeeded(r,n)||o)return Object.assign({},t.textureDescriptor,{texture:t.texture})}else this.prepareTile(t,r,n);}}const Oe=32,Fe=33,Be=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,i=0,o=0,r=0,s=0,n=0,a=0;for(1&t?r=s=n=Oe:i=o=a=Oe;(t>>=1)>1;){const e=i+r>>1,l=o+s>>1;1&t?(r=i,s=o,i=n,o=a):(i=r,o=s,r=n,s=a),n=e,a=l;}const l=4*e;Be[l+0]=i,Be[l+1]=o,Be[l+2]=r,Be[l+3]=s;}const ke=new Uint16Array(2178),Ne=new Uint8Array(1089),Ue=new Uint16Array(1089);function Ge(e){return 0===e?-.03125:32===e?.03125:0}class je{constructor(e,t,i,o){this.id=je.uniqueIdxCounter,je.uniqueIdxCounter++,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||o||t.destroy();}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){this.id=je.uniqueIdxCounter,je.uniqueIdxCounter++;const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}je.uniqueIdxCounter=0;const Ve={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\",Int32:\"INT\",Uint32:\"UNSIGNED_INT\",Float32:\"FLOAT\"};class Ze{constructor(e,t,i,o,r,s){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.instanceCount=s,this.context=e;const n=e.gl;this.buffer=n.createBuffer(),e.bindVertexBuffer.set(this.buffer),n.bufferData(n.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||r||t.destroy();}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o);}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],s=t.attributes[r.name];void 0!==s&&e.vertexAttribPointer(s,r.components,e[Ve[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0));}}setVertexAttribDivisor(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=t.attributes[this.attributes[o].name];void 0!==r&&this.instanceCount&&this.instanceCount>0&&e.vertexAttribDivisor(r,i);}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class He{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class We extends He{getDefault(){return e.ax.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class qe extends He{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class $e extends He{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class Xe extends He{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class Ke extends He{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class Ye extends He{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class Je extends He{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class Qe extends He{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class et extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class tt extends He{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class it extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class ot extends He{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class rt extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class st extends He{getDefault(){const e=this.gl;return [e.ONE,e.ZERO,e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class nt extends He{getDefault(){return e.ax.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class at extends He{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(e,e),this.current=e,this.dirty=!1);}}class lt extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class ct extends He{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class ht extends He{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}let ut=class extends He{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}};class dt extends He{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class _t extends He{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class pt extends He{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class ft extends He{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class mt extends He{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class gt extends He{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class vt extends He{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class xt extends He{getDefault(){return null}set(e){this.gl&&(e!==this.current||this.dirty)&&(this.gl.bindVertexArray(e),this.current=e,this.dirty=!1);}}class yt extends He{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class bt extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class wt extends He{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class Tt extends He{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class Et extends Tt{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class St extends Tt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class Ct extends Tt{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,this.attachment(),t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class It extends St{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Dt{constructor(e,t,i,o,r){this.context=e,this.width=t,this.height=i;const s=this.framebuffer=e.gl.createFramebuffer();o&&(this.colorAttachment=new Et(e,s)),r&&(this.depthAttachmentType=r,this.depthAttachment=\"renderbuffer\"===r?new St(e,s):new Ct(e,s));}destroy(){const e=this.context.gl;if(this.colorAttachment){const t=this.colorAttachment.get();t&&e.deleteTexture(t);}if(this.depthAttachment&&this.depthAttachmentType)if(\"renderbuffer\"===this.depthAttachmentType){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}else {const t=this.depthAttachment.get();t&&e.deleteTexture(t);}e.deleteFramebuffer(this.framebuffer);}}class Lt{constructor(e,t,i){this.func=e,this.mask=t,this.range=i;}}Lt.ReadOnly=!1,Lt.ReadWrite=!0,Lt.disabled=new Lt(519,Lt.ReadOnly,[0,1]);const At=7680;class Rt{constructor(e,t,i,o,r,s){this.test=e,this.ref=t,this.mask=i,this.fail=o,this.depthFail=r,this.pass=s;}}Rt.disabled=new Rt({func:519,mask:0},0,0,At,At,At);const Pt=771;class Mt{constructor(e,t,i,o){this.blendFunction=e,this.blendColor=t,this.mask=i,this.blendEquation=o;}}Mt.Replace=[1,0,1,0],Mt.disabled=new Mt(Mt.Replace,e.ax.transparent,[!1,!1,!1,!1]),Mt.unblended=new Mt(Mt.Replace,e.ax.transparent,[!0,!0,!0,!0]),Mt.alphaBlended=new Mt([1,Pt,1,Pt],e.ax.transparent,[!0,!0,!0,!0]),Mt.multiply=new Mt([774,0,774,0],e.ax.transparent,[!0,!0,!0,!0]);const zt=1029,Ot=2305;class Ft{constructor(e,t,i){this.enable=e,this.mode=t,this.frontFace=i;}}Ft.disabled=new Ft(!1,zt,Ot),Ft.backCCW=new Ft(!0,zt,Ot),Ft.backCW=new Ft(!0,zt,2304),Ft.frontCW=new Ft(!0,1028,2304),Ft.frontCCW=new Ft(!0,1028,Ot);class Bt{constructor(e,t){this.gl=e,this.clearColor=new We(this),this.clearDepth=new qe(this),this.clearStencil=new $e(this),this.colorMask=new Xe(this),this.depthMask=new Ke(this),this.stencilMask=new Ye(this),this.stencilFunc=new Je(this),this.stencilOp=new Qe(this),this.stencilTest=new et(this),this.depthRange=new tt(this),this.depthTest=new it(this),this.depthFunc=new ot(this),this.blend=new rt(this),this.blendFunc=new st(this),this.blendColor=new nt(this),this.blendEquation=new at(this),this.cullFace=new lt(this),this.cullFaceSide=new ct(this),this.frontFace=new ht(this),this.program=new ut(this),this.activeTexture=new dt(this),this.viewport=new _t(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new ft(this),this.bindTexture=new mt(this),this.bindVertexBuffer=new gt(this),this.bindElementBuffer=new vt(this),this.bindVertexArrayOES=new xt(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new bt(this),this.pixelStoreUnpackFlipY=new wt(this),this.options=t?{...t}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=e.getExtension(\"WEBGL_debug_renderer_info\"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=e.getExtension(\"OES_texture_float_linear\")),this.extRenderToTextureHalfFloat=e.getExtension(\"EXT_color_buffer_half_float\"),this.extTimerQuery=e.getExtension(\"EXT_disjoint_timer_query_webgl2\"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxPointSize=e.getParameter(e.ALIASED_POINT_SIZE_RANGE)[1];}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t,i){return new je(this,e,t,i)}createVertexBuffer(e,t,i,o,r){return new Ze(this,e,t,i,o,r)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i,o){return new Dt(this,e,t,i,o)}clear({color:e,depth:t,stencil:i,colorMask:o}){const r=this.gl;let s=0;e&&(s|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set(o||[!0,!0,!0,!0])),void 0!==t&&(s|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(s|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),r.clear(s);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(e){t(e.blendFunction,Mt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor),e.blendEquation?this.blendEquation.set(e.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(e.mask);}unbindVAO(){this.bindVertexArrayOES.set(null);}}var kt=e.ay([{name:\"a_pos\",type:\"Float32\",components:3}]);class Nt{constructor(t,i,o,r){const s={width:o[0],height:o[1],data:null},n=t.gl;this.targetColorTexture=new e.T(t,s,n.RGBA,{useMipmap:!1}),this.backgroundColorTexture=new e.T(t,s,n.RGBA,{useMipmap:!1}),this.context=t,this.setNumParticles(i,r),this.lastInvalidatedAt=0;}setNumParticles(t,i){if(this.numParticles===i)return;(this.particleVertices0||this.particleVertices1||this.particleSegment)&&(this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy());const o=new e.az;o.reserve(Math.round(i));const r=e.aA(t.key);for(let e=0;e<i;e++)o.emplaceBack(r(),r(),r());this.particleVertices0=this.context.createVertexBuffer(o,kt.members,!0),this.particleVertices1=this.context.createVertexBuffer(o,kt.members,!0),this.particleSegment=e.aB.simpleSegment(0,0,this.particleVertices0.length,0),this.numParticles=i;}update(t){return !(this.lastInvalidatedAt<t&&(this.lastInvalidatedAt=e.f.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleVertices0.destroy(),this.particleVertices1.destroy(),this.particleSegment.destroy();}}const Ut={type:2,extent:e.V,loadGeometry:()=>[[new e.P(0,0),new e.P(e.V+1,0),new e.P(e.V+1,e.V+1),new e.P(0,e.V+1),new e.P(0,0)]]};class Gt{constructor(t,i,o,r,s){this.tileID=t,this.uid=e.aC(),this.uses=0,this.tileSize=i,this.tileZoom=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=s,r&&r.style&&(this._lastUpdatedBrightness=r.style.getBrightness()),this.expiredRequestCount=0,this.state=\"loading\",r&&r.transform&&(this.projection=r.transform.projection);}registerFadeDuration(t){const i=t+this.timeAdded;i<e.f.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i);}wasRequested(){return \"errored\"===this.state||\"loaded\"===this.state||\"reloading\"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=e.as(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,i,o){if(this.unloadVectorData(),this.state=\"loaded\",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const i={};if(!t)return i;for(const o of e){const e=o.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){o.layers=e,o.stateDependentLayerIds&&(o.stateDependentLayers=o.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)i[t.fqid]=o;}}return i}(t.buckets,i.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const i=this.buckets[t];if(i instanceof e.aE){if(this.hasSymbolBuckets=!0,!o)break;i.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const i=this.buckets[t];if(i instanceof e.aE&&i.hasRTLText){this.hasRTLText=!0,e.aF();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e],o=i.style.getOwnLayer(e);if(!o)continue;const r=o.queryRadius(t);this.queryPadding=Math.max(this.queryPadding,r);}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas),this._lastUpdatedBrightness=t.brightness;}else this.collisionBoxArray=new e.aD;}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state=\"unloaded\";}}getBucket(e){return this.buckets[e.fqid]}upload(t){for(const e in this.buckets){const i=this.buckets[e];i.uploadPending()&&i.upload(t);}const i=t.gl,o=this.imageAtlas;if(o&&!o.uploaded){const r=!!Object.keys(o.patternPositions).length;this.imageAtlasTexture=new e.T(t,o.image,i.RGBA,{useMipmap:r}),this.imageAtlas.uploaded=!0;}this.glyphAtlasImage&&(this.glyphAtlasTexture=new e.T(t,this.glyphAtlasImage,i.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new e.T(t,this.lineAtlas.image,i.R8),this.lineAtlas.uploaded=!0);}prepare(e,t,i){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture,i),!t||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const o=t.style.getBrightness();(this._lastUpdatedBrightness||o)&&(this._lastUpdatedBrightness&&o&&Math.abs(this._lastUpdatedBrightness-o)<.001||(this._lastUpdatedBrightness=o,this.updateBuckets(void 0,t)));}queryRenderedFeatures(e,t,i,o,r,s,n,a){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:o,pixelPosMatrix:n,transform:s,params:r,tileTransform:this.tileTransform},e,t,i):{}}querySourceFeatures(t,i){const o=this.latestFeatureIndex;if(!o||!o.rawTileData)return;const r=o.loadVTLayers(),s=i?i.sourceLayer:\"\",n=r._geojsonTileLayer||r[s];if(!n)return;const a=e.aG(i&&i.filter),{z:l,x:c,y:h}=this.tileID.canonical,u={z:l,x:c,y:h};for(let i=0;i<n.length;i++){const r=n.feature(i);if(a.needGeometry){const t=e.aH(r,!0);if(!a.filter(new e.K(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!a.filter(new e.K(this.tileID.overscaledZ),r))continue;const d=o.getId(r,s),_=new e.aI(r,l,c,h,d);_.tile=u,t.push(_);}}hasData(){return \"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state}bucketsLoaded(){for(const e in this.buckets)if(this.buckets[e].uploadPending())return !1;return !0}patternsLoaded(){return !!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const i=this.expirationTime;if(t.cacheControl){const i=e.aJ(t.cacheControl);i[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*i[\"max-age\"]);}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(i)if(this.expirationTime<i)t=!0;else {const o=this.expirationTime-i;o?this.expirationTime=e+Math.max(o,3e4):t=!0;}else t=!0;t?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t&&this.updateBuckets(e,t);}updateBuckets(t,i){if(!this.latestFeatureIndex)return;const o=this.latestFeatureIndex.loadVTLayers(),r=i.style.listImages(),s=i.style.getBrightness();for(const n in this.buckets){if(!i.style.hasLayer(n))continue;const a=this.buckets[n],l=a.layers[0].sourceLayer||\"_geojsonTileLayer\",c=o[l];let h={};if(t&&(h=t[l],!c||!h||0===Object.keys(h).length))continue;if(a.update(h,c,r,this.imageAtlas&&this.imageAtlas.patternPositions||{},s),a instanceof e.aK||a instanceof e.aL){const e=i.style.getOwnSourceCache(a.layers[0].source);i._terrain&&i._terrain.enabled&&e&&a.programConfigurations.needsUpload&&i._terrain._clearRenderCacheForTile(e.id,this.tileID);}const u=i&&i.style&&i.style.getOwnLayer(n);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(a)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.f.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(t){this.symbolFadeHoldUntil=e.f.now()+t;}setTexture(t,i){const o=i.context,r=o.gl;this.texture=this.texture||i.getTileTexture(t.width),this.texture&&this.texture instanceof e.T?this.texture.update(t,{useMipmap:!0}):(this.texture=new e.T(o,t,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));}setDependencies(e,t){const i={};for(const e of t)i[e]=!0;this.dependencies[e]=i;}hasDependency(e,t){for(const i of e){const e=this.dependencies[i];if(e)for(const i of t)if(e[i])return !0}return !1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,i){if(!i||\"mercator\"===i.name||this._tileDebugBuffer)return;const o=e.aM(Ut,this.tileID.canonical,this.tileTransform)[0],r=new e.aN,s=new e.aO;for(let e=0;e<o.length;e++){const{x:t,y:i}=o[e];r.emplaceBack(t,i),s.emplaceBack(e);}s.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(s),this._tileDebugBuffer=t.createVertexBuffer(r,e.aP.members),this._tileDebugSegments=e.aB.simpleSegment(0,0,r.length,s.length);}_makeTileBoundsBuffers(t,i){if(this._tileBoundsBuffer||!i||\"mercator\"===i.name)return;const o=e.aM(Ut,this.tileID.canonical,this.tileTransform)[0];let r,s;if(this.isRaster){const t=function(t,i){const o=e.as(t,i),r=Math.pow(2,t.z);for(let s=0;s<Fe;s++)for(let n=0;n<Fe;n++){const a=e.at((t.x+(n+Ge(n))/Oe)/r),l=e.au((t.y+(s+Ge(s))/Oe)/r),c=i.project(a,l),h=s*Fe+n;ke[2*h+0]=Math.round((c.x*o.scale-o.x)*e.V),ke[2*h+1]=Math.round((c.y*o.scale-o.y)*e.V);}Ne.fill(0),Ue.fill(0);for(let e=2045;e>=0;e--){const t=4*e,i=Be[t+0],o=Be[t+1],r=Be[t+2],s=Be[t+3],n=i+r>>1,a=o+s>>1,l=n+a-o,c=a+i-n,h=o*Fe+i,u=s*Fe+r,d=a*Fe+n,_=Math.hypot((ke[2*h+0]+ke[2*u+0])/2-ke[2*d+0],(ke[2*h+1]+ke[2*u+1])/2-ke[2*d+1])>=16;Ne[d]=Ne[d]||(_?1:0),e<1022&&(Ne[d]=Ne[d]||Ne[(o+c>>1)*Fe+(i+l>>1)]||Ne[(s+c>>1)*Fe+(r+l>>1)]);}const s=new e.av,n=new e.aw;let a=0;function l(t,i){const o=i*Fe+t;return 0===Ue[o]&&(s.emplaceBack(ke[2*o+0],ke[2*o+1],t*e.V/Oe,i*e.V/Oe),Ue[o]=++a),Ue[o]-1}function c(e,t,i,o,r,s){const a=e+i>>1,h=t+o>>1;if(Math.abs(e-r)+Math.abs(t-s)>1&&Ne[h*Fe+a])c(r,s,e,t,a,h),c(i,o,r,s,a,h);else {const a=l(e,t),c=l(i,o),h=l(r,s);n.emplaceBack(a,c,h);}}return c(0,0,Oe,Oe,Oe,0),c(Oe,Oe,0,0,0,Oe),{vertices:s,indices:n}}(this.tileID.canonical,i);r=t.vertices,s=t.indices;}else {r=new e.av,s=new e.aw;for(const{x:e,y:t}of o)r.emplaceBack(e,t,0,0);const t=e.aQ(r.int16,void 0,4);for(let e=0;e<t.length;e+=3)s.emplaceBack(t[e],t[e+1],t[e+2]);}this._tileBoundsBuffer=t.createVertexBuffer(r,e.aR.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(s),this._tileBoundsSegments=e.aB.simpleSegment(0,0,r.length,s.length);}_makeGlobeTileDebugBuffers(t,i){const o=i.projection;if(!o||\"globe\"!==o.name||i.freezeTileCoverage)return;const r=this.tileID.canonical,s=e.aS(r,i),n=e.aT(s),a=e.S(i.zoom);let l;a>0&&(l=e.a6.invert(new Float64Array(16),i.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,r,i,n,l,a),this._makeGlobeTileDebugTextBuffer(t,r,i,n,l,a);}_globePoint(t,i,o,r,s,n,a){let l=e.aU(t,i,o);if(n){const s=1<<o.z,c=e.a5(r.center.lng),h=e.ae(r.center.lat),u=(o.x+.5)/s-c;let d=0;u>.5?d=-1:u<-.5&&(d=1);let _=(t/e.V+o.x)/s+d,p=(i/e.V+o.y)/s;_=(_-c)*r._pixelsPerMercatorPixel+c,p=(p-h)*r._pixelsPerMercatorPixel+h;const f=[_*r.worldSize,p*r.worldSize,0];e.N.transformMat4(f,f,n),l=e.aV(l,f,a);}return e.N.transformMat4(l,l,s)}_makeGlobeTileDebugBorderBuffer(t,i,o,r,s,n){const a=new e.aN,l=new e.aO,c=new e.aW,h=(e,t,h,u,d)=>{const _=(h-e)/(d-1),p=(u-t)/(d-1),f=a.length;for(let h=0;h<d;h++){const u=e+h*_,d=t+h*p;a.emplaceBack(u,d);const m=this._globePoint(u,d,i,o,r,s,n);c.emplaceBack(m[0],m[1],m[2]),l.emplaceBack(f+h);}},u=e.V;h(0,0,u,0,16),h(u,0,u,u,16),h(u,u,0,u,16),h(0,u,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(l),this._tileDebugBuffer=t.createVertexBuffer(a,e.aP.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(c,e.aX.members),this._tileDebugSegments=e.aB.simpleSegment(0,0,a.length,l.length);}_makeGlobeTileDebugTextBuffer(t,i,o,r,s,n){const a=e.V/4,l=new e.aN,c=new e.aw,h=new e.aW,u=25;c.reserve(32),l.reserve(u),h.reserve(u);const d=(e,t)=>u*e+t;for(let e=0;e<u;e++){const t=e*a;for(let e=0;e<u;e++){const c=e*a;l.emplaceBack(c,t);const u=this._globePoint(c,t,i,o,r,s,n);h.emplaceBack(u[0],u[1],u[2]);}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const i=d(e,t),o=d(e,t+1),r=d(e+1,t),s=d(e+1,t+1);c.emplaceBack(i,o,r),c.emplaceBack(r,o,s);}this._tileDebugTextIndexBuffer=t.createIndexBuffer(c),this._tileDebugTextBuffer=t.createVertexBuffer(l,e.aP.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(h,e.aX.members),this._tileDebugTextSegments=e.aB.simpleSegment(0,0,u,32);}destroy(t=!1){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!t&&this.texture&&this.texture instanceof e.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state=\"unloaded\";}}const jt={vector:Pe,raster:Me,\"raster-dem\":class extends Me{constructor(t,i,o,r){super(t,i,o,r),this.type=\"raster-dem\",this.maxzoom=22,this._options=e.e({type:\"raster-dem\"},i),this.encoding=i.encoding||\"mapbox\";}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,o){e&&(t.state=\"errored\",i(e)),o&&(t.dem=o,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state=\"loaded\",i(null));}t.request=e.d(this.map._requestManager.transformRequest(o,e.R.Tile),function(o,s,n,a){if(delete t.request,t.aborted)t.state=\"unloaded\",i(null);else if(o)t.state=\"errored\",i(o);else if(s){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:n,expires:a});const i=ImageBitmap&&s instanceof ImageBitmap&&e.ak(),o=1-(s.width-e.al(s.width))/2;o<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=i?s:e.f.getImageData(s,o),c={uid:t.uid,coord:t.tileID,source:this.id,scope:this.scope,rawImageData:l,encoding:this.encoding,padding:o};t.actor&&\"expired\"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send(\"loadDEMTile\",c,r.bind(this),void 0,!0));}}.bind(this));}_getNeighboringTiles(t){const i=t.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,s=0===i.x?t.wrap-1:t.wrap,n=(i.x+1+o)%o,a=i.x+1===o?t.wrap+1:t.wrap,l={};return l[new e.am(t.overscaledZ,s,i.z,r,i.y).key]={backfilled:!1},l[new e.am(t.overscaledZ,a,i.z,n,i.y).key]={backfilled:!1},i.y>0&&(l[new e.am(t.overscaledZ,s,i.z,r,i.y-1).key]={backfilled:!1},l[new e.am(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.am(t.overscaledZ,a,i.z,n,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new e.am(t.overscaledZ,s,i.z,r,i.y+1).key]={backfilled:!1},l[new e.am(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.am(t.overscaledZ,a,i.z,n,i.y+1).key]={backfilled:!1}),l}},\"raster-array\":ze,geojson:class extends e.E{constructor(t,i,o,r){super(),this.id=t,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.e({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const s=e.V/this.tileSize;this.workerOptions=e.e({source:this.id,scope:this.scope,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*s,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*s,extent:e.V,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.V,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*s,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions);}onAdd(e){this.map=e,this.setData(this._data);}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send(\"geojson.getClusterExpansionZoom\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterChildren(e,t){return this.actor.send(\"geojson.getClusterChildren\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterLeaves(e,t,i,o){return this.actor.send(\"geojson.getClusterLeaves\",{source:this.id,scope:this.scope,clusterId:e,limit:t,offset:i},o),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.b(\"dataloading\",{dataType:\"source\"})),this._loaded=!1;const t=e.e({},this.workerOptions);t.scope=this.scope;const i=this._data;\"string\"==typeof i?(t.request=this.map._requestManager.transformRequest(e.f.resolveURL(i),e.R.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,i)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.a(t));else {const t={dataType:\"source\",sourceDataType:this._metadataFired?\"content\":\"metadata\"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(t.resourceTiming=i.resourceTiming[this.id]),this.fire(new e.b(\"data\",t)),this._metadataFired=!0;}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1);}));}loaded(){return this._loaded}loadTile(t,i){const o=t.actor?\"reloadTile\":\"loadTile\";t.actor=this.actor;const r={type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:e.f.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};t.request=this.actor.send(o,r,((e,r)=>(delete t.request,t.destroy(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,\"reloadTile\"===o),i(null)))),void 0,\"loadTile\"===o);}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0;}unloadTile(e){this.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope}),e.destroy();}onRemove(){this._pendingLoad&&this._pendingLoad.cancel();}serialize(){return e.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}},video:class extends e.ap{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type=\"video\",this.options=t;}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.R.Source).url);e.aq(this.urls,((t,i)=>{this._loaded=!0,t?this.fire(new e.a(t)):i&&(this.video=i,this.video.loop=!0,this.video.setAttribute(\"playsinline\",\"\"),this.video.addEventListener(\"playing\",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading());}));}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.a(new T(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.T(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t);}serialize(){return {type:\"video\",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:e.ap,model:class extends e.E{constructor(e,t,i,o){super(),this.id=e,this.type=\"model\",this.models=[],this._loaded=!1,this._options=t;}load(){const t=[];for(const i in this._options.models){const o=this._options.models[i],r=e.l(this.map._requestManager.transformRequest(o.uri,e.R.Model).url).then((t=>{if(!t)return;const r=e.c(t),s=new e.M(i,o.position,o.orientation,r);s.computeBoundsAndApplyParent(),this.models.push(s);})).catch((t=>{this.fire(new e.a(new Error(`Could not load model ${i} from ${o.uri}: ${t.message}`)));}));t.push(r);}return Promise.allSettled(t).then((()=>{this._loaded=!0,this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}));})).catch((t=>{this.fire(new e.a(new Error(`Could not load models: ${t.message}`)));}))}onAdd(e){this.map=e,this.load();}hasTransition(){return !1}loaded(){return this._loaded}getModels(){return this.models}loadTile(e,t){}serialize(){return {type:\"model\"}}},\"batched-model\":class extends e.E{constructor(e,t,i,o){super(),this.type=\"batched-model\",this.id=e,this.tileSize=512,this._options=t,this.tiles=this._options.tiles,this.maxzoom=t.maxzoom||19,this.minzoom=t.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=i,this.reparseOverscaled=!1,this.scheme=\"xyz\",this._loaded=!1,this.setEventedParent(o);}onAdd(e){this.map=e,this.load();}load(t){this._loaded=!1,this.fire(new e.b(\"dataloading\",{dataType:\"source\"}));const i=Array.isArray(this.map._language)?this.map._language.join():this.map._language,o=this.map._worldview;this._tileJSONRequest=Ae(this._options,this.map._requestManager,i,o,((r,s)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.a(r))):s&&(e.e(this,s),s.bounds&&(this.tileBounds=new Re(s.bounds,this.minzoom,this.maxzoom)),e.aj(s.tiles,this.map._requestManager._customAccessToken),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),t&&t(r);}));}hasTransition(){return !1}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loaded(){return this._loaded}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.R.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:t.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(t.actor&&\"expired\"!==t.state)if(\"loading\"===t.state)t.reloadCallback=i;else {if(t.buckets){const e=Object.values(t.buckets);for(const t of e)t.dirty=!0;return void(t.state=\"loaded\")}t.request=t.actor.send(\"reloadTile\",r,s.bind(this));}else t.actor=this.dispatcher.getActor(),t.request=t.actor.send(\"loadTile\",r,s.bind(this),void 0,!0);function s(e,o){return t.aborted?i(null):e&&404!==e.status?i(e):(o&&(o.resourceTiming&&(t.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&t.setExpiryData(o),t.buckets={...t.buckets,...o.buckets},o.featureIndex&&(t.latestFeatureIndex=o.featureIndex)),t.state=\"loaded\",void i(null))}}serialize(){return e.e({},this._options)}},canvas:class extends e.ap{constructor(t,i,o,r){super(t,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>\"number\"!=typeof e))))||this.fire(new e.a(new T(`sources.${t}`,null,'\"coordinates\" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.a(new T(`sources.${t}`,null,'missing required property \"coordinates\"'))),i.animate&&\"boolean\"!=typeof i.animate&&this.fire(new e.a(new T(`sources.${t}`,null,'optional \"animate\" property must be a boolean value'))),i.canvas?\"string\"==typeof i.canvas||i.canvas instanceof HTMLCanvasElement||this.fire(new e.a(new T(`sources.${t}`,null,'\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.a(new T(`sources.${t}`,null,'missing required property \"canvas\"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.a(new Error(\"Canvas dimensions cannot be less than or equal to zero.\"))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context;this.texture?!t&&!this._playing||this.texture instanceof e.ar||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.T(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i);}serialize(){return {type:\"canvas\",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}},custom:class extends e.E{constructor(t,i,o,r){super(),this.id=t,this.type=\"custom\",this._dataType=\"raster\",this._dispatcher=o,this._implementation=i,this.setEventedParent(r),this.scheme=\"xyz\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.a(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.a(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Re(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.clearTiles=this._clearTiles.bind(this),i.coveringTiles=this._coveringTiles.bind(this),e.e(this,e.ac(i,[\"dataType\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\",\"minTileCacheSize\",\"maxTileCacheSize\"]));}serialize(){return e.ac(this,[\"type\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\"])}load(){this._loaded=!0,this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.b(\"dataloading\",{dataType:\"source\"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load();}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e);}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:o}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:o})}return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,t){const{x:i,y:o,z:r}=e.tileID.canonical,s=new AbortController;e.request=Promise.resolve(this._implementation.loadTile({x:i,y:o,z:r},{signal:s.signal})).then(function(i){return delete e.request,e.aborted?(e.state=\"unloaded\",t(null)):void 0===i?(e.state=\"errored\",t(null)):null===i?(this.loadTileData(e,{width:this.tileSize,height:this.tileSize,data:null}),e.state=\"loaded\",t(null)):function(e){return e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof ImageBitmap||e instanceof HTMLImageElement}(i)?(this.loadTileData(e,i),e.state=\"loaded\",void t(null)):(e.state=\"errored\",t(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((i=>{20!==i.code&&(e.state=\"errored\",t(i));})),e.request.cancel=()=>s.abort();}loadTileData(e,t){e.setTexture(t,this._map.painter);}unloadTile(t,i){if(t.texture&&t.texture instanceof e.T?(t.destroy(!0),t.texture&&t.texture instanceof e.T&&this._map.painter.saveTileTexture(t.texture)):t.destroy(),this._implementation.unloadTile){const{x:e,y:i,z:o}=t.tileID.canonical;this._implementation.unloadTile({x:e,y:i,z:o});}i();}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t();}hasTransition(){return !1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){const t=e.ag(this.id,this.scope);this._map.style.clearSource(t);}_update(){this.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}}},Vt=function(t,i,o,r){const s=new jt[i.type](t,i,o,r);if(s.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${s.id}`);return e.aY([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],s),s};function Zt(t,i){const o=e.a6.identity([]);return e.a6.scale(o,o,[.5*t.width,.5*-t.height,1]),e.a6.translate(o,o,[1,-1,0]),e.a6.multiply(o,o,t.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(o)}function Ht(e,t,i,o,r,s,n,a=!1){const l=e.tilesIn(o,n,a);l.sort(qt);const c=[];for(const o of l)c.push({wrappedTileID:o.tile.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o,r,s,Zt(e.transform,o.tile.tileID),a)});const h=function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,s=i[r]=i[r]||{};for(const i in e){const o=e[i],r=s[i]=s[i]||{},n=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,n.push(e));}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,o=i.layer;o&&\"background\"!==o.type&&\"sky\"!==o.type&&\"slot\"!==o.type&&(i.source=o.source,o[\"source-layer\"]&&(i.sourceLayer=o[\"source-layer\"]),i.state=void 0!==i.id?e.getFeatureState(o[\"source-layer\"],i.id):{});}));return h}function Wt(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const s=i[e],n=s.tileID.canonical.key;r[n]||(r[n]=!0,s.querySourceFeatures(o,t));}return o}function qt(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}class $t extends Gt{constructor(e,t,i,o,r){super(e,t,i,o,r),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1;}setTexture(t,i){const o=i.context,r=o.gl;this.texture=this.texture||i.getTileTexture(t.width),this.texture&&this.texture instanceof e.T?this.texture.update(t,{useMipmap:!1,premultiply:!1}):this.texture=new e.T(o,t,r.RGBA,{useMipmap:!1,premultiply:!1});}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()();}fetchHeader(t=16384,i){const o=this._mrt=new e.aZ(30),r=Object.assign({},this.requestParams,{headers:{Range:\"bytes=0-\"+(t-1)}});return this.entireBuffer=null,this.request=e.a_(r,((e,r,s,n)=>{if(e)i(e);else try{const e=o.getHeaderLength(r);if(e>t)return void(this.request=this.fetchHeader(e,i));o.parseHeader(r),this._isHeaderLoaded=!0;let a=0;for(const e of Object.values(o.layers))a=Math.max(a,e.dataIndex[e.dataIndex.length-1].last_byte);r.byteLength>=a&&(this.entireBuffer=r),i(null,this.entireBuffer||r,s,n);}catch(e){i(e);}})),this.request}fetchBand(t,i,o){const r=this._mrt;if(!this._isHeaderLoaded||!r)return void o(new Error(\"Tile header is not ready\"));const s=this.actor;if(!s)return void o(new Error(\"Can't fetch tile band without an actor\"));let n;const a=(e,r)=>{n.complete(e,r),e?o(e):(this.updateTextureDescriptor(t,i),o(null,this.textureDescriptor&&this.textureDescriptor.img));},l=(e,t)=>{if(e)return o(e);const i=s.send(\"decodeRasterArray\",{buffer:t,task:n},a,void 0,!0);this._workQueue.push((()=>{i&&i.cancel(),n.cancel();}));},c=r.getLayer(t);if(!c)return void o(new Error(`Unknown sourceLayer \"${t}\"`));if(c.hasDataForBand(i))return this.updateTextureDescriptor(t,i),void o(null,this.textureDescriptor?this.textureDescriptor.img:null);const h=c.getDataRange([i]);if(n=r.createDecodingTask(h),!n||n.tasks.length)if(this.flushQueues(),this.entireBuffer)l(null,this.entireBuffer.slice(h.firstByte,h.lastByte+1));else {const t=Object.assign({},this.requestParams,{headers:{Range:`bytes=${h.firstByte}-${h.lastByte}`}}),i=e.a_(t,l);this._fetchQueue.push((()=>{i.cancel(),n.cancel();}));}else o(null);}updateNeeded(e,t){return (!this.textureDescriptor||this.textureDescriptor.band!==t||this.textureDescriptor.layer!==e)&&\"errored\"!==this.state}updateTextureDescriptor(t,i){if(!this._mrt)return;const o=this._mrt.getLayer(t);if(!o||!o.hasBand(i)||!o.hasDataForBand(i))return;const{bytes:r,tileSize:s,buffer:n,offset:a,scale:l}=o.getBandView(i),c=s+2*n,h={data:r,width:c,height:c},u=this.texture;u&&u instanceof e.T&&u.update(h,{useMipmap:!1,premultiply:!1}),this.textureDescriptor={layer:t,band:i,img:h,buffer:n,offset:a,tileSize:s,format:o.pixelFormat,mix:[l,256*l,65536*l,16777216*l]};}}class Xt{constructor(e,t){this.max=e,this.onRemove=t,this.reset();}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,i){const o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);const r={value:t,timeout:void 0};if(void 0!==i&&(r.timeout=setTimeout((()=>{this.remove(e,r);}),i)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const i=e.wrapped().key,o=void 0===t?0:this.data[i].indexOf(t),r=this.data[i][o];return this.data[i].splice(o,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}filter(e){const t=[];for(const i in this.data)for(const o of this.data[i])e(o.value)||t.push(o);for(const e of t)this.remove(e.value.tileID,e);}}class Kt extends e.E{constructor(e,t,i){super(),this.id=e,this._onlySymbols=i,t.on(\"data\",(e=>{\"source\"===e.dataType&&\"metadata\"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&\"source\"===e.dataType&&\"content\"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform));})),t.on(\"error\",(()=>{this._sourceErrored=!0;})),this._source=t,this._tiles={},this._cache=new Xt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new y,this._isRaster=\"raster\"===this._source.type||\"raster-dem\"===this._source.type||\"raster-array\"===this._source.type||\"custom\"===this._source.type&&\"raster\"===this._source._dataType;}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize;}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;for(const e in this._tiles){const t=this._tiles[e];if(\"errored\"!==t.state&&(\"loaded\"!==t.state||!t.bucketsLoaded()))return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform);}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,e.isExtraShadowCaster=this._shadowCasterTiles[e.tileID.key],this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,(()=>{}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope);}}getIds(){return e.a$(this._tiles).map((e=>e.tileID)).sort(Yt).map((e=>e.key))}getRenderableIds(t,i){const o=[];for(const e in this._tiles)this._isIdRenderable(+e,t,i)&&o.push(this._tiles[e]);return t?o.sort(((t,i)=>{const o=t.tileID,r=i.tileID,s=new e.P(o.canonical.x,o.canonical.y)._rotate(this.transform.angle),n=new e.P(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return o.overscaledZ-r.overscaledZ||n.y-s.y||n.x-s.x})).map((e=>e.tileID.key)):o.map((e=>e.tileID)).sort(Yt).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return !!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())&&(i||!this._shadowCasterTiles[e])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const e in this._tiles)\"errored\"!==this._tiles[e].state&&this._reloadTile(+e,\"reloading\");}}_reloadTile(e,t){const i=this._tiles[e];i&&(\"loading\"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)));}_tileLoaded(t,i,o,r){if(r)if(t.state=\"errored\",404!==r.status)this._source.fire(new e.a(r,{tile:t}));else {if(!(t.tileID.key in this._loadedParentTiles))return void this._source.fire(new e.b(\"data\",{dataType:\"source\",sourceDataType:\"error\",sourceId:this._source.id}));if(\"raster-dem\"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id);}else this.update(this.transform);}else t.timeAdded=e.f.now(),\"expired\"===o&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(i,t),\"raster-dem\"===this._source.type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.b(\"data\",{dataType:\"source\",tile:t,coord:t.tileID,sourceCacheId:this.id}));}_backfillDEM(e){const t=this.getRenderableIds();for(let o=0;o<t.length;o++){const r=t[o];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);i(e,t),i(t,e);}}function i(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let i=t.tileID.canonical.x-e.tileID.canonical.x;const o=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),s=t.tileID.key;0===i&&0===o||Math.abs(o)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,o),e.neighboringTiles&&e.neighboringTiles[s]&&(e.neighboringTiles[s].backfilled=!0)));}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,i,o){for(const r in this._tiles){let s=this._tiles[r];if(o[r]||!s.hasData()||s.tileID.overscaledZ<=t||s.tileID.overscaledZ>i)continue;let n=s.tileID;for(;s&&s.tileID.overscaledZ>t+1;){const e=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[e.key],s&&s.hasData()&&(n=e);}let a=n;for(;a.overscaledZ>t;)if(a=a.scaledTo(a.overscaledZ-1),e[a.key]){o[n.key]=n;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(let i=e.overscaledZ-1;i>=t;i--){const t=e.scaledTo(i),o=this._getLoadedTile(t);if(o)return o}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const i=Math.ceil(e.width/t)+1,o=Math.ceil(e.height/t)+1,r=Math.floor(i*o*5),s=\"number\"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,n=\"number\"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,s):s;this._cache.setMaxSize(n);}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const i in this._tiles){const o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),e[o.tileID.key]=o;}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e]);}}update(t,i,o,r){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!o)return;let s;if(this.updateCacheSize(t,i),\"globe\"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain)if(this._source.tileID)s=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.am(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)));else if(0!==this.tileCoverLift){const r=t.clone();r.tileCoverLift=this.tileCoverLift,s=r.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!o,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.minzoom<=1&&\"globe\"===t.projection.name&&(s.push(new e.am(1,0,1,0,0)),s.push(new e.am(1,0,1,1,0)),s.push(new e.am(1,0,1,0,1)),s.push(new e.am(1,0,1,1,1)));}else s=t.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!o,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(s=s.filter((e=>this._source.hasTile(e))));else s=[];if(s.length>0&&this.castsShadows&&r&&\"globe\"!==this.transform.projection.name&&!this.usedForTerrain&&!Jt(this._source.type)){const e=t.coveringZoomLevel({tileSize:i||this._source.tileSize,roundZoom:this._source.roundZoom&&!o}),n=Math.min(e,this._source.maxzoom),a=t.extendTileCoverForShadows(s,r,n);for(const e of a)this._shadowCasterTiles[e.key]=!0,s.push(e);}const n=this._updateRetainedTiles(s);if(Jt(this._source.type)&&0!==s.length){const t={},i={},o=Object.keys(n);for(const r of o){const o=n[r],s=this._tiles[r];if(!s||s.fadeEndTime&&s.fadeEndTime<=e.f.now())continue;const a=this.findLoadedParent(o,Math.max(o.overscaledZ-Kt.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),t[a.tileID.key]=a.tileID),i[r]=o;}const r=s[s.length-1].overscaledZ;for(const e in this._tiles){const t=this._tiles[e];if(n[e]||!t.hasData())continue;let o=t.tileID;for(;o.overscaledZ>r;){o=o.scaledTo(o.overscaledZ-1);const r=this._tiles[o.key];if(r&&r.hasData()&&i[o.key]){n[e]=t.tileID;break}}}for(const e in t)n[e]||(this._coveredTiles[e]=!0,n[e]=t[e]);}for(const e in n)this._tiles[e].clearFadeHold();const a=e.b0(this._tiles,n);for(const e of a){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e);}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate();}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e);}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const i={},o=e.reduce(((e,t)=>Math.min(e,t.overscaledZ)),1/0),r=e[0].overscaledZ,s=Math.max(r-Kt.maxOverzooming,this._source.minzoom),n=Math.max(r+Kt.maxUnderzooming,this._source.minzoom),a={};for(const i of e){const e=this._addTile(i);t[i.key]=i,e.hasData()||o<this._source.maxzoom&&(a[i.key]=i);}this._retainLoadedChildren(a,o,n,t);for(const o of e){let e=this._tiles[o.key];if(e.hasData())continue;if(o.canonical.z>=this._source.maxzoom){const e=o.children(this._source.maxzoom)[0],i=this.getTile(e);if(i&&i.hasData()){t[e.key]=e;continue}}else {const e=o.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let r=e.wasRequested();for(let n=o.overscaledZ-1;n>=s;--n){const s=o.scaledTo(n);if(i[s.key])break;if(i[s.key]=!0,e=this.getTile(s),!e&&r&&(e=this._addTile(s)),e&&(t[s.key]=s,r=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let i,o=this._tiles[e].tileID;for(;o.overscaledZ>0;){if(o.key in this._loadedParentTiles){i=this._loadedParentTiles[o.key];break}t.push(o.key);const e=o.scaledTo(o.overscaledZ-1);if(i=this._getLoadedTile(e),i)break;o=e;}for(const e of t)this._loadedParentTiles[e]=i;}}_addTile(t){let i=this._tiles[t.key];if(i)return !0!==i.isExtraShadowCaster||!!this._shadowCasterTiles[t.key]||this._reloadTile(t.key,\"reloading\"),i;i=this._cache.getAndRemove(t),i&&(this._setTileReloadTimer(t.key,i),i.tileID=t,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,i)));const o=Boolean(i);if(!o){const e=this.map?this.map.painter:null,o=this._source.tileSize*t.overscaleFactor();i=\"raster-array\"===this._source.type?new $t(t,o,this.transform.tileZoom,e,this._isRaster):new Gt(t,o,this.transform.tileZoom,e,this._isRaster),this._loadTile(i,this._tileLoaded.bind(this,i,t.key,i.state));}return i?(i.uses++,this._tiles[t.key]=i,o||this._source.fire(new e.b(\"dataloading\",{tile:i,coord:i.tileID,dataType:\"source\"})),i):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,\"expired\"),delete this._timers[e];}),i));}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&\"reloading\"!==t.state||\"empty\"===t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))));}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id);}tilesIn(t,i,o){const r=[],s=this.transform;if(!s)return r;const n=\"globe\"===s.projection.name,a=e.a5(s.center.lng);for(const l in this._tiles){const c=this._tiles[l];if(o&&c.clearQueryDebugViz(),c.holdingForFade())continue;let h;if(n){const t=c.tileID.canonical;if(0===t.z){const i=[Math.abs(e.aa(a,...Qt(t,-1))-a),Math.abs(e.aa(a,...Qt(t,1))-a)];h=[0,2*i.indexOf(Math.min(...i))-1];}else {const i=[Math.abs(e.aa(a,...Qt(t,-1))-a),Math.abs(e.aa(a,...Qt(t,0))-a),Math.abs(e.aa(a,...Qt(t,1))-a)];h=[i.indexOf(Math.min(...i))-1];}}else h=[0];for(const e of h){const o=t.containsTile(c,s,i,e);o&&r.push(o);}}return r}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(e){return this._getRenderableCoordinates(e)}_getRenderableCoordinates(e,t){const i=this.getRenderableIds(e,t).map((e=>this._tiles[e].tileID)),o=\"globe\"===this.transform.projection.name;for(const e of i)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped()),e.expandedProjMatrix=o?this.transform.calculateProjMatrix(e.toUnwrapped(),!1,!0):e.projMatrix;return i}sortCoordinatesByDistance(e){const t=e.slice(),i=this.transform._camera.position,o=this.transform._camera.forward(),r={};for(const e of t){const t=1/(1<<e.canonical.z);r[e.key]=((e.canonical.x+.5)*t+e.wrap-i[0])*o[0]+((e.canonical.y+.5)*t-i[1])*o[1]-i[2]*o[2];}return t.sort(((e,t)=>r[e.key]-r[t.key])),t}hasTransition(){if(this._source.hasTransition())return !0;if(Jt(this._source.type))for(const t in this._tiles){const i=this._tiles[t];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=e.f.now())return !0}return !1}setFeatureState(e,t,i){this._state.updateState(e=e||\"_geojsonTileLayer\",t,i);}removeFeatureState(e,t,i){this._state.removeFeatureState(e=e||\"_geojsonTileLayer\",t,i);}getFeatureState(e,t){return this._state.getState(e=e||\"_geojsonTileLayer\",t)}setDependencies(e,t,i){const o=this._tiles[e];o&&o.setDependencies(t,i);}reloadTilesForDependencies(e,t){for(const i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(+i,\"reloading\");this._cache.filter((i=>!i.hasDependency(e,t)));}_preloadTiles(t,i){if(!this._sourceLoaded){const e=()=>{this._sourceLoaded&&(this._source.off(\"data\",e),this._preloadTiles(t,i));};return void this._source.on(\"data\",e)}const o=new Map,r=Array.isArray(t)?t:[t],s=this.map.painter.terrain,n=this.usedForTerrain&&s?s.getScaledDemTileSize():this._source.tileSize;for(const e of r){const t=e.coveringTiles({tileSize:n,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)o.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1);}const a=Array.from(o.values());e.b1(a,((e,t)=>{const i=new Gt(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(i,(e=>{\"raster-dem\"===this._source.type&&i.dem&&this._backfillDEM(i),t(e,i);}));}),i);}}function Yt(e,t){const i=Math.abs(2*e.wrap)-+(e.wrap<0),o=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||o-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Jt(e){return \"raster\"===e||\"image\"===e||\"video\"===e||\"custom\"===e}function Qt(e,t){const i=1<<e.z;return [e.x/i+t,(e.x+1)/i+t]}Kt.maxOverzooming=10,Kt.maxUnderzooming=3;class ei{constructor(e){this.style=e,this.layersGotHidden=!1,this.layers=[];}processLayersChanged(){this.layers=[];const e=!1,t=!1;for(const i in this.style._mergedLayers){const o=this.style._mergedLayers[i];if(\"fill-extrusion\"===o.type)this.layers.push({layer:o,visible:e,visibilityChanged:t});else if(\"model\"===o.type){const i=this.style.getLayerSource(o);i&&\"batched-model\"===i.type&&this.layers.push({layer:o,visible:e,visibilityChanged:t});}}}onNewFrame(e){this.layersGotHidden=!1;for(const t of this.layers){const i=t.layer;let o=!1;\"fill-extrusion\"===i.type?o=!i.isHidden(e)&&i.paint.get(\"fill-extrusion-opacity\")>0:\"model\"===i.type&&(o=!i.isHidden(e)&&i.paint.get(\"model-opacity\")>0),this.layersGotHidden=this.layersGotHidden||!o&&t.visible,t.visible=o;}}updateZOffset(e,t){this.currentBuildingBuckets=[];for(const e of this.layers){const i=e.layer,o=this.style.getLayerSourceCache(i);let r=1;\"fill-extrusion\"===i.type&&(r=e.visible?i.paint.get(\"fill-extrusion-vertical-scale\"):0);let s=o?o.getTile(t):null;if(!s&&o&&t.canonical.z>o.getSource().minzoom){let e=t.scaledTo(Math.min(o.getSource().maxzoom,t.overscaledZ-1));for(;e.overscaledZ>=o.getSource().minzoom&&(s=o.getTile(e),!s&&0!==e.overscaledZ);)e=e.scaledTo(e.overscaledZ-1);}this.currentBuildingBuckets.push({bucket:s?s.getBucket(i):null,tileID:s?s.tileID:t,verticalScale:r});}e.hasAnyZOffset=!1;let i=!1;for(let o=0;o<e.symbolInstances.length;o++){const r=e.symbolInstances.get(o),s=r.zOffset,n=this._getHeightAtTileOffset(t,r.tileAnchorX,r.tileAnchorY);r.zOffset=n!==Number.NEGATIVE_INFINITY?n:s,i||s===r.zOffset||(i=!0),e.hasAnyZOffset||0===r.zOffset||(e.hasAnyZOffset=!0);}i&&(e.zOffsetBuffersNeedUpload=!0,e.zOffsetSortDirty=!0);}_mapCoordToOverlappingTile(t,i,o,r){let s=i,n=o;if(t.canonical.z!==r.canonical.z){const a=r.canonical,l=1/(1<<t.canonical.z-a.z);s=(i+t.canonical.x*e.V)*l-a.x*e.V|0,n=(o+t.canonical.y*e.V)*l-a.y*e.V|0;}return {tileX:s,tileY:n}}_getHeightAtTileOffset(e,t,i){let o,r;for(let s=0;s<this.layers.length;++s){if(\"fill-extrusion\"!==this.layers[s].layer.type)continue;const{bucket:n,tileID:a,verticalScale:l}=this.currentBuildingBuckets[s];if(!n)continue;const{tileX:c,tileY:h}=this._mapCoordToOverlappingTile(e,t,i,a),u=n.getHeightAtTileCoord(c,h);u&&void 0!==u.height&&(u.hidden?o=u.height:r=Math.max(u.height*l,r||0));}if(void 0!==r)return r;for(let r=0;r<this.layers.length;++r){const s=this.layers[r];if(\"model\"!==s.layer.type||!s.visible)continue;const{bucket:n,tileID:a}=this.currentBuildingBuckets[r];if(!n)continue;const{tileX:l,tileY:c}=this._mapCoordToOverlappingTile(e,t,i,a),h=n.getHeightAtTileCoord(l,c);if(h&&!h.hidden)return void 0===h.height&&void 0!==o?Math.min(h.maxHeight,o)*h.verticalScale:(h.height||0)*h.verticalScale}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function ti(t,i){const o={};for(const e in t)\"ref\"!==e&&(o[e]=t[e]);return e.b2.forEach((e=>{e in i&&(o[e]=i[e]);})),o}function ii(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)\"ref\"in e[i]&&(e[i]=ti(e[i],t[e[i].ref]));return e}const oi={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setSlot:\"setSlot\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setGeoJSONSourceData:\"setGeoJSONSourceData\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\",setTerrain:\"setTerrain\",setFog:\"setFog\",setCamera:\"setCamera\",setLights:\"setLights\",setProjection:\"setProjection\",addImport:\"addImport\",removeImport:\"removeImport\",updateImport:\"updateImport\"};function ri(e,t,i){i.push({command:oi.addSource,args:[e,t[e]]});}function si(e,t,i){t.push({command:oi.removeSource,args:[e]}),i[e]=!0;}function ni(e,t,i,o){si(e,i,o),ri(e,t,i);}function ai(e,i,o){let r;for(r in e[o])if(e[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;for(r in i[o])if(i[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;return !0}function li(e,i,o,r,s,n){let a;for(a in i=i||{},e=e||{})e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:n,args:[r,a,i[a],s]}));for(a in i)i.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(t(e[a],i[a])||o.push({command:n,args:[r,a,i[a],s]}));}function ci(e){return e.id}function hi(e,t){return e[t.id]=t,e}class ui{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(t){if(1===this.points.length)return this.points[0];t=e.aa(t,0,1);let i=1,o=this._distances[i];const r=t*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const s=i-1,n=this._distances[s],a=o-n,l=a>0?(r-n)/a:0;return this.points[s].mult(1-l).add(this.points[i].mult(l))}}class di{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r);}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o);}_insertBoxCell(e,t,i,o,r,s){this.boxCells[r].push(s);}_insertCircleCell(e,t,i,o,r,s){this.circleCells[r].push(s);}_query(e,t,i,o,r,s){if(i<0||e>this.width||o<0||t>this.height)return !r&&[];const n=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return !0;for(let e=0;e<this.boxKeys.length;e++)n.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];n.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o});}return s?n.filter(s):n}return this._forEachCell(e,t,i,o,this._queryCell,n,{hitTest:r,seenUids:{box:{},circle:{}}},s),r?n.length>0:n}_queryCircle(e,t,i,o,r){const s=e-i,n=e+i,a=t-i,l=t+i;if(n<0||s>this.width||l<0||a>this.height)return !o&&[];const c=[];return this._forEachCell(s,a,n,l,this._queryCellCircle,c,{hitTest:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),o?c.length>0:c}query(e,t,i,o,r){return this._query(e,t,i,o,!1,r)}hitTest(e,t,i,o,r){return this._query(e,t,i,o,!0,r)}hitTestCircle(e,t,i,o){return this._queryCircle(e,t,i,!0,o)}_queryCell(e,t,i,o,r,s,n,a){const l=n.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&o>=r[c+1]&&(!a||a(this.boxKeys[h]))){if(n.hitTest)return s.push(!0),!0;s.push({key:this.boxKeys[h],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]});}}}const h=this.circleCells[r];if(null!==h){const r=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,i,o)&&(!a||a(this.circleKeys[c]))){if(n.hitTest)return s.push(!0),!0;{const e=r[h],t=r[h+1],i=r[h+2];s.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i});}}}}}_queryCellCircle(e,t,i,o,r,s,n,a){const l=n.circle,c=n.seenUids,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!a||a(this.boxKeys[t])))return s.push(!0),!0}}const u=this.circleCells[r];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[t])))return s.push(!0),!0}}}_forEachCell(e,t,i,o,r,s,n,a){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(o);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+d,s,n,a))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,s){const n=o-e,a=r-t,l=i+s;return l*l>n*n+a*a}_circleAndRectCollide(e,t,i,o,r,s,n){const a=(s-o)/2,l=Math.abs(e-(o+a));if(l>a+i)return !1;const c=(n-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return !1;if(l<=a||h<=c)return !0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}const _i={unknown:0,flipRequired:1,flipNotRequired:2},pi=Math.tan(85*Math.PI/180);function fi(t,i,o,r,s,n,a){const l=e.a6.create();if(o)if(\"globe\"===n.name){const t=e.b3(s,i);e.a6.multiply(l,l,t);}else {const t=e.b4.invert([],a);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.a6.rotateZ(l,l,s.angle);}else e.a6.multiply(l,s.labelPlaneMatrix,t);return l}function mi(e,t,i,o,r,s,n){const a=fi(e,t,i,o,r,s,n);return \"globe\"===s.name&&i||(a[2]=a[6]=a[10]=a[14]=0),a}function gi(t,i,o,r,s,n,a){if(o){if(\"globe\"===n.name){const l=fi(t,i,o,r,s,n,a);return e.a6.invert(l,l),e.a6.multiply(l,t,l),l}{const i=e.a6.clone(t),o=e.a6.identity([]);return o[0]=a[0],o[1]=a[1],o[4]=a[2],o[5]=a[3],e.a6.multiply(i,i,o),r||e.a6.rotateZ(i,i,-s.angle),i}}return s.glCoordMatrix}function vi(t,i,o,r){const s=[t,i,o,1];o?e.a7.transformMat4(s,s,r):Li(s,s,r);const n=s[3];return s[0]/=n,s[1]/=n,s[2]/=n,s}function xi(e,t){return Math.min(.5+e/t*.5,1.5)}function yi(e,t){const i=e[0]/e[3],o=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&o>=-t[1]&&o<=t[1]}function bi(t,i,o,r,s,n,a,l,c,h){const u=o.transform,d=r?t.textSizeData:t.iconSizeData,_=e.b5(d,o.transform.zoom),p=\"globe\"===u.projection.name,f=[256/o.width*2+1,256/o.height*2+1],m=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();let g=null;p&&(g=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const v=t.lineVertexArray,x=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=o.transform.width/o.transform.height;let b,w=!1;for(let r=0;r<x.length;r++){const p=x.get(r),{numGlyphs:T,writingMode:E}=p;if(E!==e.b6.vertical||w||b===e.b6.horizontal||(w=!0),b=E,(p.hidden||E===e.b6.vertical)&&!w){Di(T,m);continue}w=!1;const S=new e.P(p.tileAnchorX,p.tileAnchorY);let{x:C,y:I,z:D}=u.projection.projectTilePoint(S.x,S.y,h.canonical);if(c){const[e,t,i]=c(S);C+=e,I+=t,D+=i;}const L=[C,I,D,1];if(e.a7.transformMat4(L,L,i),!yi(L,f)){Di(T,m);continue}const A=L[3],R=xi(o.transform.getCameraToCenterDistance(u.projection),A),P=e.b7(d,_,p),M=a?P/R:P*R,z=vi(C,I,D,s);if(z[3]<=0){Di(T,m);continue}let O={};const F=a?null:c,B=Ei(p,M,!1,l,i,s,n,t.glyphOffsetArray,v,m,g,z,S,O,y,F,u.projection,h,a);w=B.useVertical,F&&B.needsFlipping&&(O={}),(B.notEnoughRoom||w||B.needsFlipping&&Ei(p,M,!0,l,i,s,n,t.glyphOffsetArray,v,m,g,z,S,O,y,F,u.projection,h,a).notEnoughRoom)&&Di(T,m);}r?(t.text.dynamicLayoutVertexBuffer.updateData(m),g&&t.text.globeExtVertexBuffer&&t.text.globeExtVertexBuffer.updateData(g)):(t.icon.dynamicLayoutVertexBuffer.updateData(m),g&&t.icon.globeExtVertexBuffer&&t.icon.globeExtVertexBuffer.updateData(g));}function wi(e,t,i,o,r,s,n,a,l,c,h,u,d,_,p,f){const{lineStartIndex:m,glyphStartIndex:g,segment:v}=a,x=g+a.numGlyphs,y=m+a.lineLength,b=t.getoffsetX(g),w=t.getoffsetX(x-1),T=Ii(e*b,i,o,r,s,n,v,m,y,l,c,h,u,d,!0,_,p,f);if(!T)return null;const E=Ii(e*w,i,o,r,s,n,v,m,y,l,c,h,u,d,!0,_,p,f);return E?{first:T,last:E}:null}function Ti(t,i,o,r){return t===e.b6.horizontal&&Math.abs(r)>Math.abs(o)?{useVertical:!0}:t===e.b6.vertical?r>0?{needsFlipping:!0}:null:i!==_i.unknown&&function(e,t){return 0===e||Math.abs(t/e)>pi}(o,r)?i===_i.flipRequired?{needsFlipping:!0}:null:o<0?{needsFlipping:!0}:null}function Ei(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g,v,x){const y=i/24,b=t.lineOffsetX*y,w=t.lineOffsetY*y,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:S,segment:C,writingMode:I,flipState:D}=t,L=T+t.lineLength,A=t=>{if(u){const[i,o,r]=t.up,s=h.length;e.b8(u,s+0,i,o,r),e.b8(u,s+1,i,o,r),e.b8(u,s+2,i,o,r),e.b8(u,s+3,i,o,r);}const[i,o,r]=t.point;e.b9(h,i,o,r,t.angle);};if(S>1){const e=wi(y,l,b,w,o,d,_,t,c,n,p,m,!1,g,v,x);if(!e)return {notEnoughRoom:!0};if(r&&!o){let[i,o,r]=e.first.point,[s,n,l]=e.last.point;[i,o]=vi(i,o,r,a),[s,n]=vi(s,n,l,a);const c=Ti(I,D,(s-i)*f,n-o);if(t.flipState=c&&c.needsFlipping?_i.flipRequired:_i.flipNotRequired,c)return c}A(e.first);for(let e=E+1;e<E+S-1;e++){const t=Ii(y*l.getoffsetX(e),b,w,o,d,_,C,T,L,c,n,p,m,!1,!1,g,v,x);if(!t)return h.length-=4*(e-E),{notEnoughRoom:!0};A(t);}A(e.last);}else {if(r&&!o){const i=vi(_.x,_.y,0,s),o=T+C+1,r=new e.P(c.getx(o),c.gety(o)),n=vi(r.x,r.y,0,s),a=n[3]>0?n:Ci(_,r,i,1,s,void 0,g,v.canonical),l=Ti(I,D,(a[0]-i[0])*f,a[1]-i[1]);if(t.flipState=l&&l.needsFlipping?_i.flipRequired:_i.flipNotRequired,l)return l}const i=Ii(y*l.getoffsetX(E),b,w,o,d,_,C,T,L,c,n,p,m,!1,!1,g,v,x);if(!i)return {notEnoughRoom:!0};A(i);}return {}}function Si(e,t,i,o,r){const{x:s,y:n,z:a}=o.projectTilePoint(e.x,e.y,t);if(!r)return vi(s,n,a,i);const[l,c,h]=r(e);return vi(s+l,n+c,a+h,i)}function Ci(t,i,o,r,s,n,a,l){const c=Si(t.sub(i)._unit()._add(t),l,s,a,n);return e.N.sub(c,o,c),e.N.normalize(c,c),e.N.scaleAndAdd(c,o,c,r)}function Ii(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g,v){const x=r?t-i:t+i;let y=x>0?1:-1,b=0;r&&(y*=-1,b=Math.PI),y<0&&(b+=Math.PI);let w=l+a+(y>0?0:1)|0,T=s,E=s,S=0,C=0;const I=Math.abs(x),D=[],L=[];let A=n,R=A;const P=()=>Ci(R,A,E,I-S+1,u,_,m,g.canonical);for(;S+C<=I;){if(w+=y,w<l||w>=c)return null;if(E=T,R=A,D.push(E),p&&L.push(R),A=new e.P(h.getx(w),h.gety(w)),T=d[w],!T){const e=Si(A,g.canonical,u,m,_);T=e[3]>0?d[w]=e:P();}S+=C,C=e.N.distance(E,T);}f&&_&&(d[w]&&(T=P(),C=e.N.distance(E,T)),d[w]=T);const M=(I-S)/C,z=A.sub(R)._mult(M)._add(R),O=e.N.sub([],T,E),F=e.N.scaleAndAdd([],E,O,M);let B=[0,0,1],k=O[0],N=O[1];if(v&&(B=m.upVector(g.canonical,z.x,z.y),0!==B[0]||0!==B[1]||1!==B[2])){const t=[B[2],0,-B[0]],i=e.N.cross([],B,t);e.N.normalize(t,t),e.N.normalize(i,i),k=e.N.dot(O,t),N=e.N.dot(O,i);}if(o){const t=e.N.cross([],B,O);e.N.normalize(t,t),e.N.scaleAndAdd(F,F,t,o*y);}const U=b+Math.atan2(N,k);return D.push(F),p&&L.push(z),{point:F,angle:U,path:D,tilePath:L,up:B}}function Di(e,t){const i=t.length,o=i+4*e;t.resize(o),t.float32.fill(-1/0,4*i,4*o);}function Li(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const Ai=100;class Ri{constructor(e,t,i=new di(e.width+200,e.height+200,25),o=new di(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Ai,this.screenBottomBoundary=e.height+Ai,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t;}placeCollisionBox(e,t,i,o,r,s,n,a){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,d=i.tileID,_=e.getProjection();if(u&&d){const[e,t,o]=_.upVector(d.canonical,i.tileAnchorX,i.tileAnchorY),r=_.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*u*r,c+=t*u*r,h+=o*u*r;}const p=this.projectAndGetPerspectiveRatio(n,l,c,h,i.tileID,\"globe\"===_.name||!!u||this.transform.pitch>0,_),f=s*p.perspectiveRatio,m=(i.x1*t+o.x-i.padding)*f+p.point.x,g=(i.y1*t+o.y-i.padding)*f+p.point.y,v=(i.x2*t+o.x+i.padding)*f+p.point.x,x=(i.y2*t+o.y+i.padding)*f+p.point.y,y=p.perspectiveRatio<=.55||p.occluded;return !this.isInsideGrid(m,g,v,x)||!r&&this.grid.hitTest(m,g,v,x,a)||y?{box:[],offscreen:!1,occluded:p.occluded}:{box:[m,g,v,x],offscreen:this.isOffscreen(m,g,v,x),occluded:!1}}placeCollisionCircles(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f){const m=[],g=this.transform.elevation,v=t.getProjection(),x=g?g.getAtTileOffsetFunc(f,this.transform.center.lat,this.transform.worldSize,v):null,y=new e.P(o.tileAnchorX,o.tileAnchorY);let{x:b,y:w,z:T}=v.projectTilePoint(y.x,y.y,f.canonical);if(x){const[e,t,i]=x(y);b+=e,w+=t,T+=i;}const E=\"globe\"===v.name,S=this.projectAndGetPerspectiveRatio(a,b,w,T,f,E||!!g||this.transform.pitch>0,v),{perspectiveRatio:C}=S,I=(u?n/C:n*C)/e.bc,D=vi(b,w,T,l),L=S.signedDistanceFromCamera>0?wi(I,s,o.lineOffsetX*I,o.lineOffsetY*I,!1,D,y,o,r,l,{},g&&!u?x:null,u&&!!g,v,f,u):null;let A=!1,R=!1,P=!0;if(L&&!S.occluded){const t=.5*_*C+p,o=new e.P(-100,-100),r=new e.P(this.screenRightBoundary,this.screenBottomBoundary),s=new ui,{first:n,last:a}=L,l=n.path.length;let u=[];for(let e=l-1;e>=1;e--)u.push(n.path[e]);for(let e=1;e<a.path.length;e++)u.push(a.path[e]);const f=2.5*t;c&&(u=u.map((([e,t,i],o)=>(x&&!E&&(i=x(o<l-1?n.tilePath[l-1-o]:a.tilePath[o-l+2])[2]),vi(e,t,i,c)))),u.some((e=>e[3]<=0))&&(u=[]));let g=[];if(u.length>0){let t=1/0,i=-1/0,s=1/0,n=-1/0;for(const e of u)t=Math.min(t,e[0]),s=Math.min(s,e[1]),i=Math.max(i,e[0]),n=Math.max(n,e[1]);i>=o.x&&t<=r.x&&n>=o.y&&s<=r.y&&(g=[u.map((t=>new e.P(t[0],t[1])))],(t<o.x||i>r.x||s<o.y||n>r.y)&&(g=e.ba(g,o.x,o.y,r.x,r.y)));}for(const e of g){s.reset(e,.25*t);let o=0;o=s.length<=.5*t?1:Math.ceil(s.paddedLength/f)+1;for(let e=0;e<o;e++){const r=e/Math.max(o-1,1),n=s.lerp(r),a=n.x+Ai,l=n.y+Ai;m.push(a,l,t,0);const c=a-t,u=l-t,_=a+t,p=l+t;if(P=P&&this.isOffscreen(c,u,_,p),R=R||this.isInsideGrid(c,u,_,p),!i&&this.grid.hitTestCircle(a,l,t,d)&&(A=!0,!h))return {circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return {circles:!h&&A||!R?[]:m,offscreen:P,collisionDetected:A,occluded:S.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const i=[];let o=1/0,r=1/0,s=-1/0,n=-1/0;for(const a of t){const t=new e.P(a.x+Ai,a.y+Ai);o=Math.min(o,t.x),r=Math.min(r,t.y),s=Math.max(s,t.x),n=Math.max(n,t.y),i.push(t);}const a=this.grid.query(o,r,s,n).concat(this.ignoredGrid.query(o,r,s,n)),l={},c={};for(const t of a){const o=t.key;if(void 0===l[o.bucketInstanceId]&&(l[o.bucketInstanceId]={}),l[o.bucketInstanceId][o.featureIndex])continue;const r=[new e.P(t.x1,t.y1),new e.P(t.x2,t.y1),new e.P(t.x2,t.y2),new e.P(t.x1,t.y2)];e.bb(i,r)&&(l[o.bucketInstanceId][o.featureIndex]=!0,void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]=[]),c[o.bucketInstanceId].push(o.featureIndex));}return c}insertCollisionBox(e,t,i,o,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:o,collisionGroupID:r},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,o,r){const s=t?this.ignoredGrid:this.grid,n={bucketInstanceId:i,featureIndex:o,collisionGroupID:r};for(let t=0;t<e.length;t+=4)s.insertCircle(n,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(t,i,o,r,s,n,a){const l=[i,o,r,1];let c=!1;if(r||this.transform.pitch>0){if(e.a7.transformMat4(l,l,t),this.fogState&&s&&\"globe\"!==a.name){const t=function(t,i,o,r,s,n){const a=n.calculateFogTileMatrix(s),l=[i,o,r];return e.N.transformMat4(l,l,a),ge(t,e.N.length(l),n.pitch,n._fov)}(this.fogState,i,o,r,s.toUnwrapped(),this.transform);c=t>.9;}}else Li(l,l,t);const h=l[3];return {point:new e.P((l[0]/h+1)/2*this.transform.width+Ai,(-l[1]/h+1)/2*this.transform.height+Ai),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(a)/h*.5,1.5),signedDistanceFromCamera:h,occluded:n&&l[2]>h||c}}isOffscreen(e,t,i,o){return i<Ai||e>=this.screenRightBoundary||o<Ai||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.a6.identity([]);return e.a6.translate(t,t,[-100,-100,0]),t}}function Pi(t,i,o){const r=i.createTileMatrix(t,t.worldSize,o.toUnwrapped());return e.a6.multiply(new Float32Array(16),t.projMatrix,r)}function Mi(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const o=i.clone();return o.setProjection(t.projection),Pi(o,t.getProjection(),e)}function zi(e,t,i){return t.name===i.projection.name?e.projMatrix:Pi(i,t,e)}class Oi{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class Fi{constructor(e,t,i,o,r,s=!1){this.text=new Oi(e?e.text:null,t,i,r),this.icon=new Oi(e?e.icon:null,t,o,r),this.clipped=s;}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Bi{constructor(e,t,i,o=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=o;}}class ki{constructor(){this.invProjMatrix=e.a6.create(),this.viewportMatrix=e.a6.create(),this.circles=[];}}class Ni{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r;}}class Ui{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function Gi(t,i,o,r,s){const{horizontalAlign:n,verticalAlign:a}=e.bf(t),l=-(n-.5)*i,c=-(a-.5)*o,h=e.bd(t,r);return new e.P(l+h[0]*s,c+h[1]*s)}function ji(t,i,o,r,s){const n=new e.P(t,i);return o&&n._rotate(r?s:-s),n}class Vi{constructor(e,t,i,o,r,s){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new Ri(this.transform,r),this.buildingIndex=s,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Ui(i),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={};}getBucketParts(t,i,o,r){const s=o.getBucket(i),n=o.latestFeatureIndex;if(!s||!n||i.fqid!==s.layerIds[0])return;const a=s.layers[0].layout,l=o.collisionBoxArray,c=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),h=o.tileSize/e.V,u=o.tileID.toUnwrapped();this.transform.setProjection(s.projection);const d=(_=o.tileID,p=s.getProjection(),f=this.transform,p.name===this.projection?f.calculateProjMatrix(_.toUnwrapped()):Pi(f,p,_));var _,p,f;const m=\"map\"===a.get(\"text-pitch-alignment\"),g=\"map\"===a.get(\"text-rotation-alignment\");i.compileFilter();const v=i.dynamicFilter(),x=i.dynamicFilterNeedsFeature(),y=this.transform.calculatePixelsToTileUnitsMatrix(o),b=mi(d,o.tileID.canonical,m,g,this.transform,s.getProjection(),y);let w=null;if(m){const t=gi(d,o.tileID.canonical,m,g,this.transform,s.getProjection(),y);w=e.a6.multiply([],this.transform.labelPlaneMatrix,t);}let T=null;v&&o.latestFeatureIndex&&(T={unwrappedTileID:u,dynamicFilter:v,dynamicFilterNeedsFeature:x,featureIndex:o.latestFeatureIndex}),this.retainedQueryData[s.bucketInstanceId]=new Ni(s.bucketInstanceId,n,s.sourceLayerIndex,s.index,o.tileID);const E={bucket:s,layout:a,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:h,holdingForFade:o.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.b5(s.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.b5(s.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(s.sourceID)};if(r)for(const e of s.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:E});}else t.push({symbolInstanceStart:0,symbolInstanceEnd:s.symbolInstances.length,parameters:E});}attemptAnchorPlacement(e,t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g){const{textOffset0:v,textOffset1:x,crossTileID:y}=u,b=[v,x],w=Gi(e,i,o,b,r),T=this.collisionIndex.placeCollisionBox(_,r,t,ji(w.x,w.y,s,n,this.transform.angle),h,a,l,c.predicate);if(f){const e=_.getSymbolInstanceIconSize(g,this.transform.zoom,u.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(_,e,f,ji(w.x,w.y,s,n,this.transform.angle),h,a,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[y]&&this.prevPlacement.placements[y]&&this.prevPlacement.placements[y].text&&(t=this.prevPlacement.variableOffsets[y].anchor),this.variableOffsets[y]={textOffset:b,width:i,height:o,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(_,e,u,p),_.allowVerticalPlacement&&(this.markUsedOrientation(_,p,u),this.placedOrientations[y]=p),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(t,i,o,r){const{bucket:s,layout:n,posMatrix:a,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:h,textPixelRatio:u,holdingForFade:d,collisionBoxArray:_,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:f,collisionGroup:m}=t.parameters,g=n.get(\"text-optional\"),v=n.get(\"icon-optional\"),x=n.get(\"text-allow-overlap\"),y=n.get(\"icon-allow-overlap\"),b=\"map\"===n.get(\"text-rotation-alignment\"),w=\"map\"===n.get(\"text-pitch-alignment\"),T=\"viewport-y\"===n.get(\"symbol-z-order\"),E=n.get(\"symbol-z-elevate\");this.transform.setProjection(s.projection);let S=x&&(y||!s.hasIconData()||v),C=y&&(x||!s.hasTextData()||g);!s.collisionArrays&&_&&s.deserializeCollisionBoxes(_),o&&r&&s.updateCollisionDebugBuffers(this.transform.zoom,_);const I=(t,r,_)=>{const{crossTileID:T,numVerticalGlyphVertices:E}=t;if(h){const o={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(h.dynamicFilterNeedsFeature){const e=this.retainedQueryData[s.bucketInstanceId];r=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0});}if(!(0,h.dynamicFilter)(o,r,this.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.P(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(h.unwrappedTileID)))return this.placements[T]=new Bi(!1,!1,!1,!0),void i.add(T)}if(i.has(T))return;if(d)return void(this.placements[T]=new Bi(!1,!1,!1));let I=!1,D=!1,L=!0,A=!1,R=!1,P=null,M={box:null,offscreen:null,occluded:null},z={box:null,offscreen:null,occluded:null},O=null,F=null,B=null,k=0,N=0,U=0;_.textFeatureIndex?k=_.textFeatureIndex:t.useRuntimeCollisionCircles&&(k=t.featureIndex),_.verticalTextFeatureIndex&&(N=_.verticalTextFeatureIndex);const G=e=>{e.tileID=this.retainedQueryData[s.bucketInstanceId].tileID;const i=this.transform.elevation;e.elevation=t.zOffset+(i?i.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0);},j=_.textBox;if(j){G(j);const i=i=>{let o=e.b6.horizontal;if(s.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[T];e&&(this.placedOrientations[T]=e,o=e,this.markUsedOrientation(s,o,t));}return o},o=(t,i)=>{if(s.allowVerticalPlacement&&E>0&&_.verticalTextBox){for(const o of s.writingModes)if(o===e.b6.vertical?(M=i(),z=M):M=t(),M&&M.box&&M.box.length)break}else M=t();};if(n.get(\"text-variable-anchor\")){let l=n.get(\"text-variable-anchor\");if(this.prevPlacement&&this.prevPlacement.variableOffsets[T]){const e=this.prevPlacement.variableOffsets[T];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor));}const c=(e,i,o)=>{const n=s.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),c=(e.x2-e.x1)*n+2*e.padding,h=(e.y2-e.y1)*n+2*e.padding,d=t.hasIconTextFit&&!y?i:null;d&&G(d);let _={box:[],offscreen:!1,occluded:!1};const g=x?2*l.length:l.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(l[i%l.length],e,c,h,n,b,w,u,a,m,i>=l.length,t,r,s,o,d,p,f);if(g&&(_=g.placedGlyphBoxes,_&&_.box&&_.box.length)){I=!0,P=g.shift;break}}return _};o((()=>c(j,_.iconBox,e.b6.horizontal)),(()=>{const t=_.verticalTextBox;return t&&G(t),s.allowVerticalPlacement&&!(M&&M.box&&M.box.length)&&E>0&&t?c(t,_.verticalIconBox,e.b6.vertical):{box:null,offscreen:null,occluded:null}})),M&&(I=M.box,L=M.offscreen,A=M.occluded);const h=i(!(!M||!M.box));if(!I&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[T];e&&(this.variableOffsets[T]=e,this.markUsedJustification(s,e.anchor,t,h));}}else {const n=(i,o)=>{const n=s.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(s,n,i,new e.P(0,0),x,u,a,m.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(s,o,t),this.placedOrientations[T]=o),l};o((()=>n(j,e.b6.horizontal)),(()=>{const t=_.verticalTextBox;return s.allowVerticalPlacement&&E>0&&t?(G(t),n(t,e.b6.vertical)):{box:null,offscreen:null,occluded:null}})),i(!!(M&&M.box&&M.box.length));}}if(O=M,I=O&&O.box&&O.box.length>0,L=O&&O.offscreen,A=O&&O.occluded,t.useRuntimeCollisionCircles){const i=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.b7(s.textSizeData,p,i),h=n.get(\"text-padding\");F=this.collisionIndex.placeCollisionCircles(s,x,i,s.lineVertexArray,s.glyphOffsetArray,r,a,l,c,o,w,m.predicate,t.collisionCircleDiameter*r/e.bc,h,this.retainedQueryData[s.bucketInstanceId].tileID),I=x||F.circles.length>0&&!F.collisionDetected,L=L&&F.offscreen,A=F.occluded;}if(_.iconFeatureIndex&&(U=_.iconFeatureIndex),_.iconBox){const i=i=>{G(i);const o=t.hasIconTextFit&&P?ji(P.x,P.y,b,w,this.transform.angle):new e.P(0,0),r=s.getSymbolInstanceIconSize(f,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(s,r,i,o,y,u,a,m.predicate)};z&&z.box&&z.box.length&&_.verticalIconBox?(B=i(_.verticalIconBox),D=B.box.length>0):(B=i(_.iconBox),D=B.box.length>0),L=L&&B.offscreen,R=B.occluded;}const V=g||0===t.numHorizontalGlyphVertices&&0===E,Z=v||0===t.numIconVertices;if(V||Z?Z?V||(D=D&&I):I=D&&I:D=I=D&&I,I&&O&&O.box&&this.collisionIndex.insertCollisionBox(O.box,n.get(\"text-ignore-placement\"),s.bucketInstanceId,z&&z.box&&N?N:k,m.ID),D&&B&&this.collisionIndex.insertCollisionBox(B.box,n.get(\"icon-ignore-placement\"),s.bucketInstanceId,U,m.ID),F&&(I&&this.collisionIndex.insertCollisionCircles(F.circles,n.get(\"text-ignore-placement\"),s.bucketInstanceId,k,m.ID),o)){const e=s.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new ki);for(let e=0;e<F.circles.length;e+=4)t.circles.push(F.circles[e+0]),t.circles.push(F.circles[e+1]),t.circles.push(F.circles[e+2]),t.circles.push(F.collisionDetected?1:0);}const H=\"globe\"!==s.projection.name;S=S&&(H||!A),C=C&&(H||!R),this.placements[T]=new Bi(I||S,D||C,L||s.justReloaded),i.add(T);};if(E&&this.buildingIndex&&(this.buildingIndex.updateZOffset(s,this.retainedQueryData[s.bucketInstanceId].tileID),s.updateZOffset()),T){const t=s.getSortedSymbolIndexes(this.transform.angle);for(let e=t.length-1;e>=0;--e){const i=t[e];I(s.symbolInstances.get(i),i,s.collisionArrays[i]);}s.hasAnyZOffset&&e.w(`${s.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`);}else if(s.hasAnyZOffset){const e=s.getSortedIndexesByZOffset();for(let t=0;t<e.length;++t){const i=e[t];I(s.symbolInstances.get(i),i,s.collisionArrays[i]);}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)I(s.symbolInstances.get(e),e,s.collisionArrays[e]);if(o&&s.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[s.bucketInstanceId];e.a6.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix();}s.justReloaded=!1;}markUsedJustification(t,i,o,r){const{leftJustifiedTextSymbolIndex:s,centerJustifiedTextSymbolIndex:n,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:l,crossTileID:c}=o,h=e.be(i),u=r===e.b6.vertical?l:\"left\"===h?s:\"center\"===h?n:\"right\"===h?a:-1;s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=u>=0&&s!==u?0:c),n>=0&&(t.text.placedSymbolArray.get(n).crossTileID=u>=0&&n!==u?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=u>=0&&a!==u?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=u>=0&&l!==u?0:c);}markUsedOrientation(t,i,o){const r=i===e.b6.horizontal||i===e.b6.horizontalOnly?i:0,s=i===e.b6.vertical?i:0,{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=o,h=t.text.placedSymbolArray;n>=0&&(h.get(n).placedOrientation=r),a>=0&&(h.get(a).placedOrientation=r),l>=0&&(h.get(l).placedOrientation=r),c>=0&&(h.get(c).placedOrientation=s);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},s=t?t.variableOffsets:{},n=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],s=r[e];s?(this.opacities[e]=new Fi(s,o,t.text,t.icon,null,t.clipped),i=i||t.text!==s.text.placed||t.icon!==s.icon.placed):(this.opacities[e]=new Fi(null,o,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon);}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Fi(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed);}}for(const e in s)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=s[e]);for(const e in n)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=n[e]);i?this.lastPlacementChangeTime=e:\"number\"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i=new Set;for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.fqid===t.layerIds[0]&&(this.updateBucketOpacities(t,i,o.collisionBoxArray),t.layers[0].layout.get(\"symbol-z-elevate\")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(t,o.tileID),t.updateZOffset()));}}updateBucketOpacities(t,i,o){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,s=!!t.layers[0].dynamicFilter(),n=new Fi(null,0,!1,!1,!0),a=r.get(\"text-allow-overlap\"),l=r.get(\"icon-allow-overlap\"),c=r.get(\"text-variable-anchor\"),h=\"map\"===r.get(\"text-rotation-alignment\"),u=\"map\"===r.get(\"text-pitch-alignment\"),d=new Fi(null,0,a&&(l||!t.hasIconData()||r.get(\"icon-optional\")),l&&(a||!t.hasTextData()||r.get(\"text-optional\")),!0);!t.collisionArrays&&o&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(o);const _=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i);};let p=0;for(let o=0;o<t.symbolInstances.length;o++){const r=t.symbolInstances.get(o),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:l,crossTileID:f,numIconVertices:m}=r,g=i.has(f);let v=this.opacities[f];g?v=n:v||(v=d,this.opacities[f]=v),i.add(f);const x=a>0||l>0,y=m>0,b=this.placedOrientations[f],w=b===e.b6.vertical,T=b===e.b6.horizontal||b===e.b6.horizontalOnly;if(!x&&!y||v.isHidden()||p++,x){const e=Ji(v.text);_(t.text,a,w?Qi:e),_(t.text,l,T?Qi:e);const i=v.text.isHidden(),{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:n,verticalPlacedTextSymbolIndex:c}=r,h=t.text.placedSymbolArray,u=i||w?1:0;o>=0&&(h.get(o).hidden=u),s>=0&&(h.get(s).hidden=u),n>=0&&(h.get(n).hidden=u),c>=0&&(h.get(c).hidden=i||T?1:0);const d=this.variableOffsets[f];d&&this.markUsedJustification(t,d.anchor,r,b);const p=this.placedOrientations[f];p&&(this.markUsedJustification(t,\"left\",r,p),this.markUsedOrientation(t,p,r));}if(y){const e=Ji(v.icon),{placedIconSymbolIndex:i,verticalPlacedIconSymbolIndex:o}=r,s=t.icon.placedSymbolArray,n=v.icon.isHidden()?1:0;i>=0&&(_(t.icon,m,w?Qi:e),s.get(i).hidden=n),o>=0&&(_(t.icon,r.numVerticalIconVertices,T?Qi:e),s.get(o).hidden=n);}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[o];if(i){let o=new e.P(0,0),n=!0;if(i.textBox||i.verticalTextBox){if(c){const e=this.variableOffsets[f];e?(o=Gi(e.anchor,e.width,e.height,e.textOffset,e.textScale),h&&o._rotate(u?this.transform.angle:-this.transform.angle)):n=!1;}s&&(n=!v.clipped),i.textBox&&Zi(t.textCollisionBox.collisionVertexArray,v.text.placed,!n||w,o.x,o.y),i.verticalTextBox&&Zi(t.textCollisionBox.collisionVertexArray,v.text.placed,!n||T,o.x,o.y);}const a=n&&Boolean(!T&&i.verticalIconBox);i.iconBox&&Zi(t.iconCollisionBox.collisionVertexArray,v.icon.placed,a,r.hasIconTextFit?o.x:0,r.hasIconTextFit?o.y:0),i.verticalIconBox&&Zi(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!a,r.hasIconTextFit?o.x:0,r.hasIconTextFit?o.y:0);}}}if(t.fullyClipped=0===p,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId];}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function Zi(e,t,i,o,r){e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0);}const Hi=Math.pow(2,25),Wi=Math.pow(2,24),qi=Math.pow(2,17),$i=Math.pow(2,16),Xi=Math.pow(2,9),Ki=Math.pow(2,8),Yi=Math.pow(2,1);function Ji(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Hi+t*Wi+i*qi+t*$i+i*Xi+t*Ki+i*Yi+t}const Qi=0;class eo{constructor(e){this._sortAcrossTiles=\"viewport-y\"!==e.layout.get(\"symbol-z-order\")&&void 0!==e.layout.get(\"symbol-sort-key\").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[];}continuePlacement(e,t,i,o,r){const s=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(s,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,s.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<s.length;){const e=s[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,r())return !0}return !1}}class to{constructor(e,t,i,o,r,s,n,a,l){this.placement=new Vi(e,r,s,n,a,l),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=o,this._done=!1;}isDone(){return this._done}continuePlacement(t,i,o,r){const s=e.f.now(),n=()=>{const t=e.f.now()-s;return !this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const s=i[t[this._currentPlacementIndex]],a=this.placement.collisionIndex.transform.zoom;if(\"symbol\"===s.type&&(!s.minzoom||s.minzoom<=a)&&(!s.maxzoom||s.maxzoom>a)){const t=s,i=t.layout.get(\"symbol-z-elevate\"),a=this._inProgressLayer=this._inProgressLayer||new eo(t),l=e.ag(s.source,s.scope);if(a.continuePlacement(i?r[l]:o[l],this.placement,this._showCollisionBoxes,s,n))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const io=512/e.V/2;class oo{constructor(t,i,o){this.tileID=t,this.bucketInstanceId=o,this.index=new e.bg(i.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const r=t.canonical.x*e.V,s=t.canonical.y*e.V;for(let e=0;e<i.length;e++){const{key:t,crossTileID:o,tileAnchorX:n,tileAnchorY:a}=i.get(e),l=Math.floor((r+n)*io),c=Math.floor((s+a)*io);this.index.add(l,c),this.keys.push(t),this.crossTileIDs.push(o);}this.index.finish();}findMatches(t,i,o){const r=this.tileID.canonical.z<i.canonical.z?1:Math.pow(2,this.tileID.canonical.z-i.canonical.z),s=io/Math.pow(2,i.canonical.z-this.tileID.canonical.z),n=i.canonical.x*e.V,a=i.canonical.y*e.V;for(let e=0;e<t.length;e++){const i=t.get(e);if(i.crossTileID)continue;const{key:l,tileAnchorX:c,tileAnchorY:h}=i,u=Math.floor((n+c)*s),d=Math.floor((a+h)*s),_=this.index.range(u-r,d-r,u+r,d+r);for(const e of _){const t=this.crossTileIDs[e];if(this.keys[e]===l&&!o.has(t)){o.add(t),i.crossTileID=t;break}}}}}class ro{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class so{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r;}this.indexes[e]=o;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]=new Set);const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const s=r[i];s.tileID.isChildOf(e)&&s.findMatches(t.symbolInstances,e,o);}else {const s=r[e.scaledTo(Number(i)).key];s&&s.findMatches(t.symbolInstances,e,o);}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o.add(r.crossTileID));}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new oo(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i of t.crossTileIDs)this.usedCrossTileIDs[e].delete(i);}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0);}return t}}class no{constructor(){this.layerIndexes={},this.crossTileIDs=new ro,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i,o){let r=this.layerIndexes[e.fqid];void 0===r&&(r=this.layerIndexes[e.fqid]=new so);let s=!1;const n={};\"globe\"!==o.name&&r.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.fqid===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(i.tileID,t,this.crossTileIDs)&&(s=!0),n[t.bucketInstanceId]=!0);}return r.removeStaleBuckets(n)&&(s=!0),s}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}class ao{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error(\"Invalid value for edge-insets, top, bottom, left and right must all be numbers\");this.top=e,this.bottom=t,this.left=i,this.right=o;}interpolate(t,i,o){return null!=i.top&&null!=t.top&&(this.top=e.U(t.top,i.top,o)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.U(t.bottom,i.bottom,o)),null!=i.left&&null!=t.left&&(this.left=e.U(t.left,i.left,o)),null!=i.right&&null!=t.right&&(this.right=e.U(t.right,i.right,o)),this}getCenter(t,i){const o=e.aa((this.left+t-this.right)/2,0,t),r=e.aa((this.top+i-this.bottom)/2,0,i);return new e.P(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new ao(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function lo(t,i){const o=e.bk(t,3);e.a6.fromQuat(t,i),e.bm(t,3,o);}function co(t,i){const o=e.bi.identity([]);return e.bi.rotateZ(o,o,-i),e.bi.rotateX(o,o,-t),o}function ho(t,i){const o=[t[0],t[1],0],r=[i[0],i[1],0];if(e.N.length(o)>=1e-15){const t=e.N.normalize([],o);e.N.scale(r,t,e.N.dot(r,t)),i[0]=r[0],i[1]=r[1];}const s=e.N.cross([],i,t);if(e.N.len(s)<1e-15)return null;const n=Math.atan2(-s[1],s[0]);return co(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),n)}class uo{constructor(e,t){this.position=e,this.orientation=t;}get position(){return this._position}set position(t){if(t){const i=t instanceof e.L?t:new e.L(t[0],t[1],t[2]);this._renderWorldCopies&&(i.x=e.bh(i.x,0,1)),this._position=i;}else this._position=null;}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const o=this.position,r=this._elevation?this._elevation.getAtPointOrZero(e.L.fromLngLat(t)):0,s=e.L.fromLngLat(t,r),n=[s.x-o.x,s.y-o.y,s.z-o.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=ho(n,i);}setPitchBearing(t,i){this.orientation=co(e.bj(t),e.bj(-i));}}class _o{constructor(t,i){this._transform=e.a6.identity([]),this.orientation=i,this.position=t;}get mercatorPosition(){const t=this.position;return new e.L(t[0],t[1],t[2])}get position(){const t=e.bk(this._transform,3);return [t[0],t[1],t[2]]}set position(t){var i;t&&e.bm(this._transform,3,[(i=t)[0],i[1],i[2],1]);}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.bi.identity([]),t&&lo(this._transform,this._orientation);}getPitchBearing(){const e=this.forward(),t=this.right();return {bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=co(e,t),lo(this._transform,this._orientation);}forward(){const t=e.bk(this._transform,2);return [-t[0],-t[1],-t[2]]}up(){const t=e.bk(this._transform,1);return [-t[0],-t[1],-t[2]]}right(){const t=e.bk(this._transform,0);return [t[0],t[1],t[2]]}getCameraToWorld(t,i){const o=new Float64Array(16);return e.a6.invert(o,this.getWorldToCamera(t,i)),o}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(t,i,o){const r=this.position;e.N.scale(r,r,-t);const s=new Float64Array(16);return e.a6.fromScaling(s,[o,o,o]),e.a6.translate(s,s,r),s[10]*=i,s}getWorldToCamera(t,i){const o=new Float64Array(16),r=new Float64Array(4),s=this.position;return e.bi.conjugate(r,this._orientation),e.N.scale(s,s,-t),e.a6.fromQuat(o,r),e.a6.translate(o,o,s),o[1]*=-1,o[5]*=-1,o[9]*=-1,o[13]*=-1,o[8]*=i,o[9]*=i,o[10]*=i,o[11]*=i,o}getCameraToClipPerspective(t,i,o,r){const s=new Float64Array(16);return e.a6.perspective(s,t,i,o,r),s}getCameraToClipOrthographic(t,i,o,r,s,n){const a=new Float64Array(16);return e.a6.ortho(a,t,i,o,r,s,n),a}getDistanceToElevation(t,i=!1){const o=0===t?0:e.bl(t,i?e.au(this.position[1]):this.position[1]),r=this.forward();return (o-this.position[2])/r[2]}clone(){return new _o([...this.position],[...this.orientation])}}const po=(e,t,i)=>(1-i)*e+i*t,fo=e=>e*e*e*e*e;class mo{constructor(t,i,o,r,s,n,a){this.tileSize=512,this._renderWorldCopies=void 0===s||s,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==o?0:o,this._maxPitch=null==r?60:r,this.setProjection(n),this.setMaxBounds(a),this.width=0,this.height=0,this._center=new e.bn(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new ao,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new _o,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference=\"ground\",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1;}clone(){const e=new mo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get isOrthographic(){return \"globe\"!==this.projection.name&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices());}get depthOcclusionForSymbolsAndCircles(){return \"globe\"!==this.projection.name&&!this.isOrthographic}updateElevation(e,t=!1){const i=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||i)&&this._updateCameraOnTerrain(),(e||i)&&this._constrainCamera(t),this._calcMatrices();}getProjection(){return e.ac(this.projection,[\"name\",\"center\",\"parallels\"])}setProjection(i){this.projectionOptions=i||{name:\"mercator\"};const o=this.projection?this.getProjection():void 0;this.projection=e.bo(this.projectionOptions);const r=!t(o,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setOrthographicProjectionAtLowPitch(e){return this._orthographicProjectionAtLowPitch!==e&&(this._orthographicProjectionAtLowPitch=e,this._calcMatrices(),!0)}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:\"mercator\"},this.projection=e.bo({name:\"mercator\"});const i=t!==this.projection.name;return i&&this._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e));}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e));}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e));}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e));}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.bl(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.P(this.width,this.height)}get bearing(){return e.bh(this.rotation,-180,180)}set bearing(e){this.rotation=e;}get rotation(){return -this.angle/Math.PI*180}set rotation(t){const i=-t*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=e.b4.create(),e.b4.rotate(this.rotationMatrix,this.rotationMatrix,this.angle));}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.aa(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices());}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.bj(t),this._calcMatrices());}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={};}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices());}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom;}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(e){this._tileCoverLift!==e&&(this._tileCoverLift=e);}_updateCameraOnTerrain(){const e=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,t=this.elevation&&e===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||e===Number.NEGATIVE_INFINITY&&(!t||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const i=this._elevation;t||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&i.exaggeration()&&this._centerAltitudeValidForExaggeration!==i.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*i.exaggeration(),this._centerAltitudeValidForExaggeration=i.exaggeration()):(this._centerAltitude=e||0,this._centerAltitudeValidForExaggeration=i.exaggeration()),this._updateSeaLevelZoom();}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize));}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],o=this.horizonLineFromTop();let r=0,s=0;for(let n=0;n<i.length;n++){const a=new e.P(i[n][0]*this.width,o+i[n][1]*(this.height-o)),l=t.pointCoordinate(a);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,s+=c;}return 0===s?NaN:r/s}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&(\"ground\"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices());}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,o=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),s=Math.max(o-i,r);this._setZoom(this._zoomFromMercatorZ(s));}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let o;o=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.N.length(e.N.sub([],this._camera.position,o));return e.aa(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.bi.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const o=[t.position.x,t.position.y,t.position.z];e.N.exactEquals(o,this._camera.position)||(this._setCameraPosition(o),i=!0);}i&&(this._updateStateFromCamera(),this.recenterOnTerrain());}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new uo;return i.position=new e.L(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}_setCameraOrientation(t){if(!e.bi.length(t))return !1;e.bi.normalize(t,t);const i=e.N.transformQuat([],[0,0,-1],t),o=e.N.transformQuat([],[0,-1,0],t);if(o[2]<0)return !1;const r=ho(i,o);return !!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,o=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.aa(t[2],r/o,r/i),this._camera.position=t;}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.bp(0,t)];if(this.renderWorldCopies){const o=this.pointCoordinate(new e.P(0,0)),r=this.pointCoordinate(new e.P(this.width,0)),s=this.pointCoordinate(new e.P(this.width,this.height)),n=this.pointCoordinate(new e.P(0,this.height)),a=Math.floor(Math.min(o.x,r.x,s.x,n.x)),l=Math.floor(Math.max(o.x,r.x,s.x,n.x)),c=1;for(let o=a-c;o<=l+c;o++)0!==o&&i.push(new e.bp(o,t));}return i}isLODDisabled(e){return (!e||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(t,i,o){let r=[];if(0===i[0]&&0===i[1])return r;for(const o of t){const t=o.canonical,s=o.overscaledZ,n=o.wrap,a=1<<t.z,l=t.x+1<a,c=t.x>0,h=t.y+1<a,u=t.y>0,d=o.wrap-(c?0:1),_=o.wrap+(l?0:1),p=c?t.x-1:a-1,f=l?t.x+1:0;i[0]<0?(r.push(new e.am(s,_,t.z,f,t.y)),i[1]<0&&h&&(r.push(new e.am(s,n,t.z,t.x,t.y+1)),r.push(new e.am(s,_,t.z,f,t.y+1))),i[1]>0&&u&&(r.push(new e.am(s,n,t.z,t.x,t.y-1)),r.push(new e.am(s,_,t.z,f,t.y-1)))):i[0]>0?(r.push(new e.am(s,d,t.z,p,t.y)),i[1]<0&&h&&(r.push(new e.am(s,n,t.z,t.x,t.y+1)),r.push(new e.am(s,d,t.z,p,t.y+1))),i[1]>0&&u&&(r.push(new e.am(s,n,t.z,t.x,t.y-1)),r.push(new e.am(s,d,t.z,p,t.y-1)))):i[1]<0&&h?r.push(new e.am(s,n,t.z,t.x,t.y+1)):u&&r.push(new e.am(s,n,t.z,t.x,t.y-1));}if(r.length>1){r.sort(((e,t)=>e.overscaledZ-t.overscaledZ||e.wrap-t.wrap||e.canonical.z-t.canonical.z||e.canonical.x-t.canonical.x||e.canonical.y-t.canonical.y));let e=0,t=0;for(;t<r.length;)r[t].equals(r[e])?++t:r[++e]=r[t++];r.length=e+1;}const s=[];for(const e of r)r.some((t=>e.isChildOf(t)))||s.push(e);return r=s.filter((e=>!t.some((t=>!!(e.overscaledZ<o&&t.isChildOf(e))||e.equals(t)||e.isChildOf(t))))),r}coveringTiles(t){let i=this.coveringZoomLevel(t);const o=i,r=this.elevation&&this.elevation.exaggeration(),s=r&&!t.isTerrainDEM,n=\"mercator\"===this.projection.name;if(void 0!==t.minzoom&&i<t.minzoom)return [];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=this.locationCoordinate(this.center),l=this.center.lat,c=1<<i,h=[c*a.x,c*a.y,0],u=\"globe\"===this.projection.name,d=!u,_=e.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i,d),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=c*e.bl(1,this.center.lat),m=this._camera.position[2]/e.bl(1,this.center.lat),g=[c*p.x,c*p.y,m*(d?1:f)],v=u||r,x=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.isLODDisabled(!0)?i:0;let b;if(this._elevation&&t.isTerrainDEM)b=1e4*this._elevation.exaggeration();else if(this._elevation){const e=this._elevation.getMinMaxForVisibleTiles();b=e?e.max:this._centerAltitude;}else b=this._centerAltitude;const w=t.isTerrainDEM?-b:this._elevation?this._elevation.getMinElevationBelowMSL():0,T=this.projection.isReprojectedInTileSpace?e.br(this):1,E=t=>{const i=1/4e4,o=new e.L(t.x+i,t.y,t.z),r=new e.L(t.x,t.y+i,t.z),s=t.toLngLat(),n=o.toLngLat(),a=r.toLngLat(),l=this.locationCoordinate(s),c=this.locationCoordinate(n),h=this.locationCoordinate(a),u=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(h.x-l.x,h.y-l.y);return Math.sqrt(u*d)*T/i},S=t=>{const i=b,o=w;return {aabb:e.bu(this,c,0,0,0,t,o,i,this.projection),zoom:0,x:0,y:0,minZ:o,maxZ:i,wrap:t,fullyVisible:!1}},C=[];let I=[];const D=i,L=t.reparseOverscaled?o:i,A=e=>e*e,R=A((m-this._centerAltitude)*f),P=e=>{if(!this._elevation||!e.tileID||!n)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=M(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude));},M=t=>{if(t.zoom<y)return !0;if(t.zoom===D)return !1;if(null!=t.shouldSplit)return t.shouldSplit;const i=t.aabb.distanceX(g),r=t.aabb.distanceY(g);let n=R,a=1;if(u){n=A(t.aabb.distanceZ(g));const i=Math.pow(2,t.zoom),o=e.au((t.y+1)/i),r=e.au(t.y/i),s=Math.min(Math.max(l,o),r),c=e.bJ(s)/e.bJ(l);if(a=s===l?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.bG&&t.zoom===D-1&&c>=.9)return !0}else if(s&&(n=A(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&o<=5){const i=Math.pow(2,t.zoom),o=E(new e.L((t.x+.5)/i,(t.y+.5)/i));a=o>.85?1:o;}const c=i*i+r*r+n,h=A((1<<D-t.zoom)*x*a*((e,t)=>{if(t*A(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(n,R),c));return c<h};if(this.renderWorldCopies)for(let e=1;e<=3;e++)C.push(S(-e)),C.push(S(e));for(C.push(S(0));C.length>0;){const o=C.pop(),r=o.x,a=o.y;let l=o.fullyVisible;const d=()=>\"globe\"===this.projection.name&&(0===o.y||o.y===(1<<o.zoom)-1);if(!l){let t=v?o.aabb.intersects(_):o.aabb.intersectsFlat(_);if(0===t&&d()){const i=new e.bs(o.zoom,r,a);t=e.bt(this,c,i,!0).intersects(_);}if(0===t)continue;l=2===t;}if(o.zoom!==D&&M(o))for(let t=0;t<4;t++){const i=(r<<1)+t%2,h=(a<<1)+(t>>1),d={aabb:n?o.aabb.quadrant(t):e.bu(this,c,o.zoom+1,i,h,o.wrap,o.minZ,o.maxZ,this.projection),zoom:o.zoom+1,x:i,y:h,wrap:o.wrap,fullyVisible:l,tileID:void 0,shouldSplit:void 0,minZ:o.minZ,maxZ:o.maxZ};s&&!u&&(d.tileID=new e.am(o.zoom+1===D?L:o.zoom+1,o.wrap,o.zoom+1,i,h),P(d)),C.push(d);}else {const s=o.zoom===D?L:o.zoom;if(t.minzoom&&t.minzoom>s)continue;if(!l){let t=v?o.aabb.intersectsPrecise(_):o.aabb.intersectsPreciseFlat(_);if(0===t&&d()){const i=new e.bs(o.zoom,r,a);t=e.bt(this,c,i,!0).intersectsPrecise(_);}if(0===t)continue}const n=h[0]-(.5+r+(o.wrap<<o.zoom))*(1<<i-o.zoom),u=h[1]-.5-a,p=o.tileID?o.tileID:new e.am(s,o.wrap,o.zoom,r,a);I.push({tileID:p,distanceSq:n*n+u*u});}}if(this.fogCullDistSq){const i=this.fogCullDistSq,o=this.horizonLineFromTop();I=I.filter((r=>{const s=[0,0,0,1],n=[e.V,e.V,0,1],a=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.a7.transformMat4(s,s,a),e.a7.transformMat4(n,n,a);const l=e.a7.min([],s,n),c=e.a7.max([],s,n),h=e.bv(l,c);if(0===h)return !0;let u=!1;const d=this._elevation;if(d&&h>i&&0!==o){const i=this.calculateProjMatrix(r.tileID.toUnwrapped());let s;t.isTerrainDEM||(s=d.getMinMaxForTile(r.tileID)),s||(s={min:w,max:b});const n=e.bH(this.rotation),a=[n[0]*e.V,n[1]*e.V,s.max];e.N.transformMat4(a,a,i),u=(1-a[1])*this.height*.5<o;}return h<i||u}));}return I.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices();}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.aa(t.lat,-e.bw,e.bw),o=this.projection.project(t.lng,i);return new e.P(o.x*this.worldSize,o.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/e.bl(1,this.center.lat)/this.worldSize}setLocationAtPoint(t,i){let o,r;const s=this.centerPoint;if(\"globe\"===this.projection.name){const e=this.worldSize;o=(i.x-s.x)/e,r=(i.y-s.y)/e;}else {const e=this.pointCoordinate(i),t=this.pointCoordinate(s);o=e.x-t.x,r=e.y-t.y;}const n=this.locationCoordinate(t);this.setLocation(new e.L(n.x-o,n.y-r));}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap());}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,i){const o=i?e.bl(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.L(r.x,r.y,o)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,i){const o=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],s=[t.x,t.y,1,1];e.a7.transformMat4(r,r,this.pixelMatrixInverse),e.a7.transformMat4(s,s,this.pixelMatrixInverse);const n=s[3];e.a7.scale(r,r,1/r[3]),e.a7.scale(s,s,1/n);const a=r[2],l=s[2];return {p0:r,p1:s,t:a===l?0:(o-a)/(l-a)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];return e.a7.transformMat4(i,i,this.pixelMatrixInverse),e.a7.transformMat4(o,o,this.pixelMatrixInverse),e.a7.scale(i,i,1/i[3]),e.a7.scale(o,o,1/o[3]),i[2]=e.bl(i[2],this._center.lat)*this.worldSize,o[2]=e.bl(o[2],this._center.lat)*this.worldSize,e.a7.scale(i,i,1/this.worldSize),e.a7.scale(o,o,1/this.worldSize),new e.a2([i[0],i[1],i[2]],e.N.normalize([],e.N.sub([],o,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:o,t:r}=t,s=e.bl(i[2],this._center.lat),n=e.bl(o[2],this._center.lat);return new e.L(e.U(i[0],o[0],r)/this.worldSize,e.U(i[1],o[1],r)/this.worldSize,e.U(s,n,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let i=this.projection.pointCoordinate3D(this,t.x,t.y);if(i)return new e.L(i[0],i[1],i[2]);let o=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const s=.02*r,n=t.clone();for(let t=0;t<10&&r-o>s;t++){n.y=e.U(o,r,.66);const t=this.projection.pointCoordinate3D(this,n.x,n.y);t?(r=n.y,i=t):o=n.y;}return i?new e.L(i[0],i[1],i[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}isPointOnSurface(t){if(t.y<0||t.y>this.height||t.x<0||t.x>this.width)return !1;if(this.elevation||this.zoom>=e.bx)return !this.isPointAboveHorizon(t);const i=this.pointCoordinate(t);return i.y>=0&&i.y<=1}_coordinatePoint(t,i){const o=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,o+t.toAltitude(),1];return e.a7.transformMat4(r,r,this.pixelMatrix),r[3]>0?new e.P(r[0]/r[3],r[1]/r[3]):new e.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:t,left:i}=this._edgeInsets,o=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,s=this.pointLocation3D(new e.P(i,t)),n=this.pointLocation3D(new e.P(r,t)),a=this.pointLocation3D(new e.P(r,o)),l=this.pointLocation3D(new e.P(i,o));let c=Math.min(s.lng,n.lng,a.lng,l.lng),h=Math.max(s.lng,n.lng,a.lng,l.lng),u=Math.min(s.lat,n.lat,a.lat,l.lat),d=Math.max(s.lat,n.lat,a.lat,l.lat);const _=Math.pow(2,-this.zoom)/16*270,p=\"globe\"===this.projection.name?1:4,f=(t,i,o,r,s)=>{const n=(t+o)/2,a=(i+r)/2,l=new e.P(n,a),{lng:m,lat:g}=this.pointLocation3D(l),v=Math.max(0,c-m,u-g,m-h,g-d);c=Math.min(c,m),h=Math.max(h,m),u=Math.min(u,g),d=Math.max(d,g),(s<p||v>_)&&(f(t,i,n,a,s+1),f(n,a,o,r,s+1));};if(f(i,t,r,t,1),f(r,t,r,o,1),f(r,o,i,o,1),f(i,o,i,t,1),\"globe\"===this.projection.name){const[t,i]=e.by(this);t?(d=90,h=180,c=-180):i&&(u=-90,h=180,c=-180);}return new e.ad(new e.bn(c,u),new e.bn(h,d))}_getBoundsRectangular(t,i){const{top:o,left:r}=this._edgeInsets,s=this.height-this._edgeInsets.bottom,n=this.width-this._edgeInsets.right,a=new e.P(r,o),l=new e.P(n,o),c=new e.P(n,s),h=new e.P(r,s);let u=this.pointCoordinate(a,t),d=this.pointCoordinate(l,t);const _=this.pointCoordinate(c,i),p=this.pointCoordinate(h,i),f=(e,t)=>(t.y-e.y)/(t.x-e.x);return u.y>1&&d.y>=0?u=new e.L((1-p.y)/f(p,u)+p.x,1):u.y<0&&d.y<=1&&(u=new e.L(-p.y/f(p,u)+p.x,0)),d.y>1&&u.y>=0?d=new e.L((1-_.y)/f(_,d)+_.x,1):d.y<0&&u.y<=1&&(d=new e.L(-_.y/f(_,d)+_.x,0)),(new e.ad).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(d)).extend(this.coordinateLocation(p)).extend(this.coordinateLocation(_))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0]);}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return \"mercator\"===this.projection.name||\"equirectangular\"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.bw,this.maxLat=e.bw,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.a5(this.minLng)*this.tileSize,this.worldMaxX=e.a5(this.maxLng)*this.tileSize,this.worldMinY=e.ae(this.maxLat)*this.tileSize,this.worldMaxY=e.ae(this.minLat)*this.tileSize,this._constrain();}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const i=t.key,o=this._distanceTileDataCache;if(o[i])return o[i];const r=t.canonical,s=1/this.height,n=this.cameraWorldSize,a=n/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*a,c=r.y*a,h=this.point;h.x*=n/this.worldSize,h.y*=n/this.worldSize;const u=this.angle,d=Math.sin(-u),_=-Math.cos(-u);return o[i]={bearing:[d,_],center:[(h.x-l)*s,(h.y-c)*s],scale:a/e.V*s},o[i]}calculateFogTileMatrix(t){const i=t.key,o=this._fogTileMatrixCache;if(o[i])return o[i];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.a6.multiply(r,this.worldToFogMatrix,r),o[i]=new Float32Array(r),o[i]}calculateProjMatrix(t,i=!1,o=!1){const r=t.key;let s;if(s=o?this._expandedProjMatrixCache:i?this._alignedProjMatrixCache:this._projMatrixCache,s[r])return s[r];const n=this.calculatePosMatrix(t,this.worldSize);let a;return a=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:o?this.expandedFarZProjMatrix:i?this.alignedProjMatrix:this.projMatrix,e.a6.multiply(n,a,n),s[r]=new Float32Array(n),s[r]}calculatePixelsToTileUnitsMatrix(t){const i=t.tileID.key,o=this._pixelsToTileUnitsCache;if(o[i])return o[i];const r=e.bz(t,this);return o[i]=r,o[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(\"globe\"===this.projection.name){const t=1/this.worldSize,i=e.a6.fromScaling([],[t,t,t]);return e.a6.multiply(i,i,this.globeMatrix),i}}recenterOnTerrain(){if(!this._elevation||\"globe\"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const i=e.bl(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=this._camera.forward(),s=e.bl(1,this._center.lat);o[2]/=s,r[2]/=s,e.N.normalize(r,r);const n=t.raycast(o,r,t.exaggeration());if(n){const t=e.N.scaleAndAdd([],o,r,n),i=new e.L(t[0],t[1],e.bl(t[2],e.au(t[1]))),a=(i.z+e.N.length([i.x-o[0],i.y-o[1],i.z-o[2]*s]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(a),this._centerAltitude=i.toAltitude(),this._center=this.coordinateLocation(i),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices();}}_constrainCamera(t=!1){if(!this._elevation)return;const i=this._elevation,o=e.bl(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(o),s=i.getAtPointOrZero(new e.L(...r)),n=this.pixelsPerMeter/this.worldSize*s,a=this._minimumHeightOverTerrain(),l=r[2]-n;if(l<=a)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),i=[r[0],r[1],t.z-r[2]],o=e.N.length(i);i[2]-=(a-l)/this._pixelsPerMercatorPixel;const s=e.N.length(i);if(0===s)return;e.N.scale(i,i,o/s*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-i[2]],this._updateStateFromCamera();}else this._isCameraConstrained=!0;}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t=\"globe\"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const i=this.center;return i.lat=e.aa(i.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(i.lng=e.aa(i.lng,this.minLng,this.maxLng)),this.center=i,void(this._constraining=!1)}const i=this._unmodified,{x:o,y:r}=this.point;let s=0,n=o,a=r;const l=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,u=this.worldMaxY*this.scale;if(r-c<h&&(a=h+c),r+c>u&&(a=u-c),u-h<this.height&&(s=Math.max(s,this.height/(u-h)),a=(u+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,i=this.worldSize/2-(e+t)/2;n=(o+i+this.worldSize)%this.worldSize-i,n-l<e&&(n=e+l),n+l>t&&(n=t-l),t-e<this.width&&(s=Math.max(s,this.width/(t-e)),n=(t+e)/2);}n===o&&a===r||(this.center=this.unproject(new e.P(n,a))),s&&(this.zoom+=this.scaleZoom(s)),this._constrainCamera(),this._unmodified=i,this._constraining=!1;}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,i=\"globe\"===this.projection.name,o=this.pixelsPerMeter;\"globe\"===this.projection.name&&(this._mercatorScaleRatio=e.bl(1,this.center.lat)/e.bl(1,e.bI));const r=e.bA(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const s=\"meters\"===this.projection.zAxisUnit?o:1,n=this._camera.getWorldToCamera(this.worldSize,s);let a;const l=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(l[8]=2*-t.x/this.width,l[9]=2*t.y/this.height,this.isOrthographic){let e=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),i=e*this.aspect,o=-i,r=-e;i-=t.x,o-=t.x,e+=t.y,r+=t.y,a=this._camera.getCameraToClipOrthographic(o,i,r,e,this._nearZ,this._farZ),((e,t,i,o)=>{for(let r=0;r<16;r++)e[r]=po(t[r],i[r],o);})(a,a,l,fo(this.pitch>=15?1:this.pitch/15));}else a=l;const c=e.a6.mul([],l,n);let h=e.a6.mul([],a,n);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),i=e.a6.identity([]);e.a6.translate(i,i,[t.x*this.worldSize,t.y*this.worldSize,0]),e.a6.multiply(i,i,e.bB(this)),e.a6.translate(i,i,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.a6.multiply(h,h,i),e.a6.multiply(c,c,i),this.inverseAdjustmentMatrix=e.bC(this);}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=e.a6.scale([],h,[this.worldSize,this.worldSize,this.worldSize/s,1]),this.projMatrix=h,this.invProjMatrix=e.a6.invert(new Float64Array(16),this.projMatrix),i){const i=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);i[8]=2*-t.x/this.width,i[9]=2*t.y/this.height,this.expandedFarZProjMatrix=e.a6.mul([],i,n);}else this.expandedFarZProjMatrix=this.projMatrix;const u=e.a6.invert([],a);this.frustumCorners=e.bD.fromInvProjectionMatrix(u,this.horizonLineFromTop(),this.height),this.cameraFrustum=e.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!i);const d=new Float32Array(16);e.a6.identity(d),e.a6.scale(d,d,[1,-1,1]),e.a6.rotateX(d,d,this._pitch),e.a6.rotateZ(d,d,this.angle);const _=e.a6.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=e.a6.clone(_);const p=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;_[8]=2*-t.x/this.width,_[9]=2*(t.y+p)/this.height,this.skyboxMatrix=e.a6.multiply(d,_,d);const f=this.point,m=f.x,g=f.y,v=this.width%2/2,x=this.height%2/2,y=Math.cos(this.angle),b=Math.sin(this.angle),w=m-Math.round(m)+y*v+b*x,T=g-Math.round(g)+y*x+b*v,E=new Float64Array(h);if(e.a6.translate(E,E,[w>.5?w-1:w,T>.5?T-1:T,0]),this.alignedProjMatrix=E,h=e.a6.create(),e.a6.scale(h,h,[this.width/2,-this.height/2,1]),e.a6.translate(h,h,[1,-1,0]),this.labelPlaneMatrix=h,h=e.a6.create(),e.a6.scale(h,h,[1,-1,1]),e.a6.translate(h,h,[-1,-1,0]),e.a6.scale(h,h,[2/this.width,2/this.height,1]),this.glCoordMatrix=h,this.pixelMatrix=e.a6.multiply(new Float64Array(16),this.labelPlaneMatrix,c),this._calcFogMatrices(),this._distanceTileDataCache={},h=e.a6.invert(new Float64Array(16),this.pixelMatrix),!h)throw new Error(\"failed to invert matrix\");if(this.pixelMatrixInverse=h,\"globe\"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.bE(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.N.transformMat4(t,t,n),this.globeRadius=this.worldSize/2/Math.PI-1;}else this.globeMatrix=h;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={};}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,i=this.cameraPixelsPerMeter,o=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,s=[t,t,i];e.N.scale(s,s,r),e.N.scale(o,o,-1),e.N.multiply(o,o,s);const n=e.a6.create();e.a6.translate(n,n,o),e.a6.scale(n,n,s),this.mercatorFogMatrix=n,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r);}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),o=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return [o.x/this.worldSize-i[0]*r,o.y/this.worldSize-i[1]*r,e/this.worldSize*this._centerAltitude-i[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition());}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),o=this._camera.position[2],r=t[2];let s=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(s=Math.min((i-o)/r,1)),this._camera.position=e.N.scaleAndAdd([],this._camera.position,t,s),this._updateStateFromCamera();}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:o,bearing:r}=this._camera.getPitchBearing(),s=e.bl(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,n=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.bj(this._maxPitch)),a=Math.max((t[2]-s)/Math.cos(o),n),l=this._zoomFromMercatorZ(a);e.N.scaleAndAdd(t,t,i,a),this._pitch=e.aa(o,e.bj(this.minPitch),e.bj(this.maxPitch)),this.angle=e.bh(r,-Math.PI,Math.PI),this._setZoom(e.aa(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.L(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices();}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min(null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(t){let i=0,o=e.bx,r=0,s=1/0;for(;o-i>1e-6&&o>i;){const e=i+.5*(o-i),n=this.tileSize*Math.pow(2,e),a=this.getCameraToCenterDistance(this.projection,e,n),l=this.scaleZoom(a/(t*this.tileSize)),c=Math.abs(e-l);c<s&&(s=c,r=e),e<l?i=e:o=e;}return r}_terrainEnabled(){return !(!this._elevation||!this.projection.supportsTerrain&&(e.w(\"Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain.\"),1))}anyCornerOffEdge(t,i){const o=Math.min(t.x,i.x),r=Math.max(t.x,i.x),s=Math.min(t.y,i.y),n=Math.max(t.y,i.y);if(s<this.horizonLineFromTop(!1))return !0;if(\"mercator\"!==this.projection.name)return !1;const a=[new e.P(o,s),new e.P(r,n),new e.P(o,n),new e.P(r,s)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of a){const t=this.pointRayIntersection(e);if(t.t<0)return !0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return !0}return !1}isHorizonVisible(){return this.pitch+e.bF(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.P(0,0),new e.P(this.width,this.height))}zoomDeltaToMovement(t,i){const o=e.N.length(e.N.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(o)+i;return o-this._mercatorZfromZoom(r)}getCameraPoint(){if(\"globe\"===this.projection.name){const t=function([t,i,o],r){const s=[t,i,o,1];e.a7.transformMat4(s,s,r);const n=s[3]=Math.max(s[3],1e-6);return s[0]/=n,s[1]/=n,s[2]/=n,s}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.P(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.P(0,t))}}getCameraToCenterDistance(t,i=this.zoom,o=this.worldSize){const r=e.bA(t,i,this.width,this.height,1024),s=t.pixelSpaceConversion(this.center.lat,o,r);let n=.5/Math.tan(.5*this._fov)*this.height*s;return this.isOrthographic&&(n=po(1,n,fo(this.pitch>=15?1:this.pitch/15))),n}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return \"globe\"===this.projection.name&&e.a6.multiply(t,t,this.globeMatrix),t}getFrustum(t){return e.bq.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,t,\"meters\"===this.projection.zAxisUnit)}}const go={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},vo=(t,i)=>{if(i>0&&t.terrain&&e.w(\"Cutoff is currently disabled on terrain\"),i<=0||t.terrain)return {shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const o=t.transform,r=Math.max(Math.abs(o._zoom-(t.minCutoffZoom-1)),1),s=o.isLODDisabled(!1)?e.O(60,45,o.pitch):e.O(30,15,o.pitch),n=o._farZ-o._nearZ,a=i*o.height,l=((1-(c=s))*o.cameraToCenterDistance+c*(o._farZ+a))*r;var c;return {shouldRenderCutoff:s<1,uniformValues:{u_cutoff_params:[o._nearZ,o._farZ,(l-o._nearZ)/n,(l-a-o._nearZ)/n]}}},xo={cascadeCount:2,shadowMapResolution:2048};class yo{constructor(e,t){this.aabb=e,this.lastCascade=t;}}class bo{add(e,t){const i=this.receivers[e.key];void 0!==i?(i.aabb.min[0]=Math.min(i.aabb.min[0],t.min[0]),i.aabb.min[1]=Math.min(i.aabb.min[1],t.min[1]),i.aabb.min[2]=Math.min(i.aabb.min[2],t.min[2]),i.aabb.max[0]=Math.max(i.aabb.max[0],t.max[0]),i.aabb.max[1]=Math.max(i.aabb.max[1],t.max[1]),i.aabb.max[2]=Math.max(i.aabb.max[2],t.max[2])):this.receivers[e.key]=new yo(t,null);}clear(){this.receivers={};}get(e){return this.receivers[e.key]}computeRequiredCascades(t,i,o){const r=e.bS.fromPoints(t.points);let s=0;for(const t in this.receivers){const n=this.receivers[t];if(!n)continue;if(!r.intersectsAabb(n.aabb))continue;n.aabb.min=r.closestPoint(n.aabb.min),n.aabb.max=r.closestPoint(n.aabb.max);const a=n.aabb.getCorners();for(let t=0;t<o.length;t++){let r=!0;for(const s of a){const n=[s[0]*i,s[1]*i,s[2]];if(e.N.transformMat4(n,n,o[t].matrix),n[0]<-1||n[0]>1||n[1]<-1||n[1]>1){r=!1;break}}if(n.lastCascade=t,s=Math.max(s,t),r)break}}return s+1}}class wo{constructor(e){this.painter=e,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new bo,this._depthMode=new Lt(e.context.gl.LEQUAL,Lt.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1,e.tp.registerParameter(xo,[\"Shadows\"],\"cascadeCount\",{min:1,max:2,step:1}),e.tp.registerParameter(xo,[\"Shadows\"],\"shadowMapResolution\",{min:32,max:2048,step:32});}destroy(){for(const e of this._cascades)e.texture.destroy(),e.framebuffer.destroy();this._cascades=[];}updateShadowParameters(t,i){const o=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!i||!i.properties)return;const r=i.properties.get(\"shadow-intensity\");if(!i.shadowsEnabled()||r<=0)return;if(this._shadowLayerCount=o.style.order.reduce(((e,i)=>{const r=o.style._mergedLayers[i];return e+(r.hasShadowPass()&&!r.isHidden(t.zoom)?1:0)}),0),this._enabled=this._shadowLayerCount>0,!this._enabled)return;const s=o.context,n=xo.shadowMapResolution,a=xo.shadowMapResolution;if(0===this._cascades.length||xo.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let t=0;t<xo.cascadeCount;++t){const t=o._shadowMapDebug,i=s.gl,r=s.createFramebuffer(n,a,t,\"texture\"),l=new e.T(s,{width:n,height:a,data:null},i.DEPTH_COMPONENT);if(r.depthAttachment.set(l.texture),t){const t=new e.T(s,{width:n,height:a,data:null},i.RGBA);r.colorAttachment.set(t.texture);}this._cascades.push({framebuffer:r,texture:l,matrix:[],far:0,boundingSphereRadius:0,frustum:new e.bq,scale:0});}}this.shadowDirection=Eo(i);let l=0;if(t.elevation){const e=t.elevation,i=[1e4,-1e4];e.visibleDemTiles.filter((e=>e.dem)).forEach((e=>{const t=e.dem.tree;i[0]=Math.min(i[0],t.minimums[0]),i[1]=Math.max(i[1],t.maximums[0]);})),1e4!==i[0]&&(l=(i[1]-i[0])*e.exaggeration());}const c=1.5*t.cameraToCenterDistance,h=3*c,u=new Float64Array(16);for(let i=0;i<this._cascades.length;++i){const o=this._cascades[i];let r=t.height/50,s=1;1===xo.cascadeCount?s=h:0===i?s=c:(r=c,s=h);const[n,a]=Co(t,this.shadowDirection,r,s,xo.shadowMapResolution,l);o.scale=t.scale,o.matrix=n,o.boundingSphereRadius=a,e.a6.invert(u,o.matrix),o.frustum=e.bq.fromInvProjectionMatrix(u,1,0,!0),o.far=s;}const d=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[d].far,this._cascades[d].far],this._uniformValues.u_shadow_intensity=r,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/xo.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=xo.shadowMapResolution,this._uniformValues.u_shadowmap_0=go.ShadowMap0,this._uniformValues.u_shadowmap_1=go.ShadowMap0+1,this._groundShadowTiles=o.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const _=o.transform.elevation;for(const e of this._groundShadowTiles){let t={min:0,max:0};if(_){const i=_.getMinMaxForTile(e);i&&(t=i);}this.addShadowReceiver(e.toUnwrapped(),t.min,t.max);}}get enabled(){return this._enabled}set enabled(e){this._enabled=e;}drawShadowPass(t,i){if(!this._enabled)return;const o=this.painter,r=o.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(o.transform.getFrustum(0),o.transform.worldSize,this._cascades),r.viewport.set([0,0,xo.shadowMapResolution,xo.shadowMapResolution]);for(let s=0;s<this._numCascadesToRender;++s){o.currentShadowCascade=s,r.bindFramebuffer.set(this._cascades[s].framebuffer.framebuffer),r.clear({color:e.ax.white,depth:1});for(const e of t.order){const r=t._mergedLayers[e];if(!r.hasShadowPass()||r.isHidden(o.transform.zoom))continue;const s=t.getLayerSourceCache(r),n=s?i[s.id]:void 0;(\"model\"===r.type||n&&n.length)&&o.renderLayer(o,s,r,n);}}o.currentShadowCascade=0;}drawGroundShadows(){if(!this._enabled)return;const e=this.painter,t=e.style,i=e.context,o=t.directionalLight,r=t.ambientLight;if(!o||!r)return;const s=[],n=vo(e,e.longestCutoffRange);n.shouldRenderCutoff&&s.push(\"RENDER_CUTOFF\");const a=So(o,r),l=new Lt(i.gl.LEQUAL,Lt.ReadOnly,e.depthRangeFor3D);for(const t of this._groundShadowTiles){const o=t.toUnwrapped(),r=e.isTileAffectedByFog(t),c=e.getOrCreateProgram(\"groundShadow\",{defines:s,overrideFog:r});this.setupShadows(o,c),e.uploadCommonUniforms(i,c,o,null,n);const h={u_matrix:e.transform.calculateProjMatrix(o),u_ground_shadow_factor:a};c.draw(e,i.gl.TRIANGLES,l,Rt.disabled,Mt.multiply,Ft.disabled,h,\"ground_shadow\",e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments,{},e.transform.zoom,null,null);}}getShadowPassColorMode(){return this.painter._shadowMapDebug?Mt.unblended:Mt.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(t){const i=this.painter.transform,o=i.calculatePosMatrix(t,i.worldSize);return e.a6.multiply(o,this._cascades[this.painter.currentShadowCascade].matrix,o),Float32Array.from(o)}calculateShadowPassMatrixFromMatrix(t){return e.a6.multiply(t,this._cascades[this.painter.currentShadowCascade].matrix,t),Float32Array.from(t)}setupShadows(t,i,o,r=0){if(!this._enabled)return;const s=this.painter.transform,n=this.painter.context,a=n.gl,l=this._uniformValues,c=new Float64Array(16),h=s.calculatePosMatrix(t,s.worldSize);for(let t=0;t<this._cascades.length;t++)e.a6.multiply(c,this._cascades[t].matrix,h),l[0===t?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(c),n.activeTexture.set(a.TEXTURE0+go.ShadowMap0+t),this._cascades[t].texture.bind(a.NEAREST,a.CLAMP_TO_EDGE);if(this.useNormalOffset=!!o,this.useNormalOffset){const i=e.bR(t.canonical),n=2/s.tileSize*e.V/xo.shadowMapResolution,a=n*this._cascades[0].boundingSphereRadius,c=n*this._cascades[this._cascades.length-1].boundingSphereRadius,h=(\"vector-tile\"===o?1:3)/Math.pow(2,r-t.canonical.z-(1-s.zoom+Math.floor(s.zoom)));l.u_shadow_normal_offset=[i,a*h,c*h],l.u_shadow_bias=[6e-5,.0012,.012];}else l.u_shadow_bias=[36e-5,.0012,.012];i.setShadowUniformValues(n,l);}setupShadowsFromMatrix(t,i,o=!1){if(!this._enabled)return;const r=this.painter.context,s=r.gl,n=this._uniformValues,a=new Float64Array(16);for(let i=0;i<xo.cascadeCount;i++)e.a6.multiply(a,this._cascades[i].matrix,t),n[0===i?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(a),r.activeTexture.set(s.TEXTURE0+go.ShadowMap0+i),this._cascades[i].texture.bind(s.NEAREST,s.CLAMP_TO_EDGE);if(this.useNormalOffset=o,o){const e=5;n.u_shadow_normal_offset=[1,e,e],n.u_shadow_bias=[6e-5,.0012,.012];}else n.u_shadow_bias=[36e-5,.0012,.012];i.setShadowUniformValues(r,n);}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(t,i,o,r){if(r[2]>=0)return {};const s=function(t,i,o){const r=o/(1<<t.canonical.z);return new e.bS([t.canonical.x*r+t.wrap*o,t.canonical.y*r+t.wrap*o,0],[(t.canonical.x+1)*r+t.wrap*o,(t.canonical.y+1)*r+t.wrap*o,i])}(t,i,o).getCorners(),n=i/-r[2];r[0]<0?(e.N.add(s[0],s[0],[r[0]*n,0,0]),e.N.add(s[3],s[3],[r[0]*n,0,0])):r[0]>0&&(e.N.add(s[1],s[1],[r[0]*n,0,0]),e.N.add(s[2],s[2],[r[0]*n,0,0])),r[1]<0?(e.N.add(s[0],s[0],[0,r[1]*n,0]),e.N.add(s[1],s[1],[0,r[1]*n,0])):r[1]>0&&(e.N.add(s[2],s[2],[0,r[1]*n,0]),e.N.add(s[3],s[3],[0,r[1]*n,0]));const a={};return a.vertices=s,a.planes=[To(s[1],s[0],s[4]),To(s[2],s[1],s[5]),To(s[3],s[2],s[6]),To(s[0],s[3],s[7])],a}addShadowReceiver(t,i,o){this._receivers.add(t,e.bS.fromTileIdAndHeight(t,i,o));}getMaxCascadeForTile(e){const t=this._receivers.get(e);return t&&t.lastCascade?t.lastCascade:0}}function To(t,i,o){const r=e.N.sub([],o,i),s=e.N.sub([],t,i),n=e.N.cross([],r,s),a=e.N.length(n);return 0===a?[0,0,1,0]:(e.N.scale(n,n,1/a),[n[0],n[1],n[2],-e.N.dot(n,i)])}function Eo(t){const i=t.properties.get(\"direction\"),o=e.bQ(i.x,i.y,i.z);o[2]=e.aa(o[2],0,75);const r=e.bT([o[0],o[1],o[2]]);return e.N.fromValues(r.x,r.y,r.z)}function So(t,i){const o=t.properties.get(\"color\"),r=t.properties.get(\"intensity\"),s=t.properties.get(\"direction\"),n=[s.x,s.y,s.z],a=i.properties.get(\"color\"),l=i.properties.get(\"intensity\"),c=Math.max(e.N.dot([0,0,1],n),0),h=[0,0,0];e.N.scale(h,a.toArray01Linear().slice(0,3),l);const u=[0,0,0];return e.N.scale(u,o.toArray01Linear().slice(0,3),c*r),e.bU([h[0]>0?h[0]/(h[0]+u[0]):0,h[1]>0?h[1]/(h[1]+u[1]):0,h[2]>0?h[2]/(h[2]+u[2]):0])}function Co(t,i,o,r,s,n){const a=t.zoom,l=t.scale,c=t.worldSize,h=1/c,u=t.aspect,d=Math.sqrt(1+u*u)*Math.tan(.5*t.fovX),_=d*d,p=r-o,f=r+o;let m,g;_>p/f?(m=r,g=r*d):(m=.5*f*(1+_),g=.5*Math.sqrt(p*p+2*(r*r+o*o)*_+f*f*_*_));const v=t.projection.pixelsPerMeter(t.center.lat,c),x=t._camera.getCameraToWorldMercator(),y=[0,0,-m*h];e.N.transformMat4(y,y,x);let b=g*h;const w=t._edgeInsets;if(!(0===w.left&&0===w.top&&0===w.right&&0===w.bottom||w.left===w.right&&w.top===w.bottom)){const i=t._camera.getWorldToCamera(t.worldSize,\"meters\"===t.projection.zAxisUnit?v:1),s=t._camera.getCameraToClipPerspective(t._fov,t.width/t.height,o,r);s[8]=2*-t.centerOffset.x/t.width,s[9]=2*t.centerOffset.y/t.height;const n=new Float64Array(16);e.a6.mul(n,s,i);const h=new Float64Array(16);e.a6.invert(h,n);const u=e.bq.fromInvProjectionMatrix(h,c,a,!0);for(const i of u.points){const o=((T=i)[0]/=l,T[1]/=l,T[2]=e.bl(T[2],t._center.lat),T);b=Math.max(b,e.N.len(e.N.subtract([],y,o)));}}var T;b*=s/(s-1);const E=Math.acos(i[2]),S=Math.atan2(-i[0],-i[1]),C=new _o;C.position=y,C.setPitchBearing(E,S);const I=C.getWorldToCamera(c,v),D=b*c,L=Math.min(t._mercatorZfromZoom(17)*c*-2,-2*D),A=C.getCameraToClipOrthographic(-D,D,-D,D,L,(D+n*v)/i[2]),R=new Float64Array(16);e.a6.multiply(R,A,I);const P=e.N.fromValues(Math.floor(1e6*y[0])/1e6*c,Math.floor(1e6*y[1])/1e6*c,0),M=.5*s,z=[0,0,0];e.N.transformMat4(z,P,R),e.N.scale(z,z,M);const O=[Math.floor(z[0]),Math.floor(z[1]),Math.floor(z[2])],F=[0,0,0];e.N.sub(F,z,O),e.N.scale(F,F,-1/M);const B=new Float64Array(16);return e.a6.identity(B),e.a6.translate(B,B,F),e.a6.multiply(R,B,R),[R,D]}const Io=(e,t)=>ce(e,t&&t.filter((e=>\"source.canvas\"!==e.identifier))),Do=e.ac(oi,[\"addLayer\",\"removeLayer\",\"setLights\",\"setPaintProperty\",\"setLayoutProperty\",\"setSlot\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\",\"setGeoJSONSourceData\",\"setTerrain\",\"setFog\",\"setProjection\",\"setCamera\",\"addImport\",\"removeImport\",\"updateImport\"]),Lo=e.ac(oi,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),Ao={version:8,layers:[],sources:{}},Ro={duration:300,delay:0},Po=new Set([\"fill\",\"line\",\"background\",\"hillshade\",\"raster\"]);class Mo extends e.E{constructor(t,i={}){super(),this.map=t,this.scope=i.scope||\"\",this.fragments=[],this.importDepth=i.importDepth||0,this.importsCache=i.importsCache||new Map,this.resolvedImports=i.resolvedImports||new Set,this.transition=e.e({},Ro),this._buildingIndex=new ei(this),this.crossTileSymbolIndex=new no,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=i.styleChanges||new v,this.dispatcher=i.dispatcher?i.dispatcher:new e.bW(e.bX(),this),i.imageManager?this.imageManager=i.imageManager:(this.imageManager=new w,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=i.glyphManager?i.glyphManager:new e.bY(t._requestManager,i.localFontFamily?e.bZ.all:i.localIdeographFontFamily?e.bZ.ideographs:e.bZ.none,i.localFontFamily||i.localIdeographFontFamily),i.modelManager?this.modelManager=i.modelManager:(this.modelManager=new x(t._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=i.configOptions?i.configOptions:new Map,this._configDependentLayers=i.configDependentLayers?i.configDependentLayers:new Set,this._config=i.config,this.dispatcher.broadcast(\"setReferrer\",e.b_());const o=this;this._rtlTextPluginCallback=Mo.registerForPluginStateChange((t=>{o.dispatcher.broadcast(\"syncRTLPluginState\",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,i)=>{if(e.b$(t),i&&i.every((e=>e)))for(const e in o._sourceCaches){const t=o._sourceCaches[e],i=t.getSource().type;\"vector\"!==i&&\"geojson\"!==i||t.reload();}}));})),this.on(\"data\",(e=>{if(\"source\"!==e.dataType||\"metadata\"!==e.sourceDataType)return;const t=this.getOwnSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i);}}));}loadURL(t,i={}){this.fire(new e.b(\"dataloading\",{dataType:\"style\"}));const o=\"boolean\"==typeof i.validate?i.validate:!e.c0(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken),this.resolvedImports.add(t);const r=this.importsCache.get(t);if(r)return this._load(r,o);const s=this.map._requestManager.transformRequest(t,e.R.Style);this._request=e.g(s,((i,r)=>{if(this._request=null,i)this.fire(new e.a(i));else if(r)return this.importsCache.set(t,r),this._load(r,o)}));}loadJSON(t,i={}){this.fire(new e.b(\"dataloading\",{dataType:\"style\"})),this._request=e.f.frame((()=>{this._request=null,this._load(t,!1!==i.validate);}));}loadEmpty(){this.fire(new e.b(\"dataloading\",{dataType:\"style\"})),this._load(Ao,!1);}_loadImports(t,i,o){if(this.importDepth>=4)return e.w(\"Style doesn't support nesting deeper than 5\"),Promise.resolve();const r=[];for(const e of t){const t=this._createFragmentStyle(e),s=new Promise((e=>{t.once(\"style.import.load\",e),t.once(\"error\",e);})).then((()=>this.mergeAll()));if(r.push(s),this.resolvedImports.has(e.url)){t.loadEmpty();continue}const n=e.data||this.importsCache.get(e.url);n?t.loadJSON(n,{validate:i}):e.url?t.loadURL(e.url,{validate:i}):t.loadEmpty();const a={style:t,id:e.id,config:e.config};if(o){const e=this.fragments.findIndex((({id:e})=>e===o));this.fragments=this.fragments.slice(0,e).concat(a).concat(this.fragments.slice(e));}else this.fragments.push(a);}return Promise.allSettled(r)}_createFragmentStyle(t){const i=this.scope?e.ag(t.id,this.scope):t.id,o=new Mo(this.map,{scope:i,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:t.config,configOptions:this.options,configDependentLayers:this._configDependentLayers});return o.setEventedParent(this.map,{style:o}),o}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const t=this.isRootStyle();this._shouldPrecompile=t,this.fire(new e.b(t?\"style.load\":\"style.import.load\"));}_load(t,i){const o=t.schema;if(this.isRootStyle()&&(t.fragment||o&&!1!==t.fragment)){const o=e.e({},Ao,{imports:[{id:\"basemap\",data:t,url:\"\"}]});return void this._load(o,i)}if(this.setConfig(this._config,o),i&&Io(this,Y(t)))return;this._loaded=!0,this.stylesheet=e.c1(t);for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1,isInitialLoad:!0});t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(t.glyphs,this.scope);const r=ii(this.stylesheet.layers);if(this._order=r.map((e=>e.id)),this.stylesheet.light&&e.w(\"The `light` root property is deprecated, prefer using `lights` with `flat` light type instead.\"),this.stylesheet.lights)if(1===this.stylesheet.lights.length&&\"flat\"===this.stylesheet.lights[0].type){const e=this.stylesheet.lights[0];this.light=new ue(e.properties,e.id);}else this.setLights(this.stylesheet.lights);this.light||(this.light=new ue(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const t of r){const i=e.c2(t,this.scope,this.options);i.isConfigDependent&&this._configDependentLayers.add(i.fqid),i.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=i,this._serializedLayers[i.id]=i.serialize();const o=this.getOwnLayerSourceCache(i),r=!!this.directionalLight&&this.directionalLight.shadowsEnabled();o&&i.canCastShadows()&&r&&(o.castsShadows=!0);}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const s=this.stylesheet.terrain;s&&(void 0===this.disableElevatedTerrain&&(this.disableElevatedTerrain=e.f.hasCanvasFingerprintNoise()),this.disableElevatedTerrain?e.w(\"Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode).\"):this.terrainSetForDrapingOnly()||this._createTerrain(s,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new e.b(\"data\",{dataType:\"style\"})),t.imports?this._loadImports(t.imports,i).then((()=>this._reloadImports())):this._reloadImports();}isRootStyle(){return 0===this.importDepth}mergeAll(){let t,i,o,r,s,n,a,l;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle((e=>{if(e.stylesheet){if(null!=e.light&&(t=e.light),e.stylesheet.lights)for(const t of e.stylesheet.lights)\"ambient\"===t.type&&null!=e.ambientLight&&(i=e.ambientLight),\"directional\"===t.type&&null!=e.directionalLight&&(o=e.directionalLight);r=this._prioritizeTerrain(r,e.terrain,e.stylesheet.terrain),e.stylesheet.fog&&null!=e.fog&&(s=e.fog),null!=e.stylesheet.camera&&(l=e.stylesheet.camera),null!=e.stylesheet.projection&&(n=e.stylesheet.projection),null!=e.stylesheet.transition&&(a=e.stylesheet.transition);}})),this.light=t,this.ambientLight=i,this.directionalLight=o,this.fog=s,null===r?delete this.terrain:this.terrain=r,this.camera=l||{\"camera-projection\":\"perspective\"},this.projection=n||{name:\"mercator\"},this.transition=e.e({},Ro,a),this.mergeSources(),this.mergeLayers();}forEachFragmentStyle(e){const t=i=>{for(const e of i.fragments)t(e.style);e(i);};t(this);}_prioritizeTerrain(e,t,i){const o=e&&0===e.drapeRenderMode;return null===i?t&&0===t.drapeRenderMode?t:o?e:null:null!=t&&(!e||o||t&&1===t.drapeRenderMode)?t:e}mergeTerrain(){let e;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle((t=>{e=this._prioritizeTerrain(e,t.terrain,t.stylesheet.terrain);})),null===e?delete this.terrain:this.terrain=e;}mergeProjection(){let e;this.forEachFragmentStyle((t=>{null!=t.stylesheet.projection&&(e=t.stylesheet.projection);})),this.projection=e||{name:\"mercator\"};}mergeSources(){const t={},i={},o={};this.forEachFragmentStyle((r=>{for(const i in r._sourceCaches){const o=e.ag(i,r.scope);t[o]=r._sourceCaches[i];}for(const t in r._otherSourceCaches){const o=e.ag(t,r.scope);i[o]=r._otherSourceCaches[t];}for(const t in r._symbolSourceCaches){const i=e.ag(t,r.scope);o[i]=r._symbolSourceCaches[t];}})),this._mergedSourceCaches=t,this._mergedOtherSourceCaches=i,this._mergedSymbolSourceCaches=o;}mergeLayers(){const t={},i=[],o={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle((o=>{for(const r of o._order){const s=o._layers[r];if(\"slot\"===s.type){const i=e.c3(r);if(t[i])continue;t[i]=[];}s.slot&&t[s.slot]?t[s.slot].push(s):i.push(s);}})),this._mergedOrder=[];const r=(i=[])=>{for(const s of i)if(\"slot\"===s.type){const i=e.c3(s.id);t[i]&&r(t[i]);}else {const t=e.ag(s.id,s.scope);this._mergedOrder.push(t),o[t]=s,s.is3D()&&(this._has3DLayers=!0),\"circle\"===s.type&&(this._hasCircleLayers=!0),\"symbol\"===s.type&&(this._hasSymbolLayers=!0);}};r(i),this._mergedLayers=o,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged();}terrainSetForDrapingOnly(){return !!this.terrain&&0===this.terrain.drapeRenderMode}getCamera(){return this.stylesheet.camera}setCamera(t){return this.stylesheet.camera=e.e({},this.stylesheet.camera,t),this.camera=this.stylesheet.camera,this}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection();}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast(\"setProjection\",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0));}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection));}_loadSprite(t){this._spriteRequest=function(t,i,o){let r,s,n;const a=e.f.devicePixelRatio>1?\"@2x\":\"\";let l=e.g(i.transformRequest(i.normalizeSpriteURL(t,a,\".json\"),e.R.SpriteJSON),((e,t)=>{l=null,n||(n=e,r=t,h());})),c=e.d(i.transformRequest(i.normalizeSpriteURL(t,a,\".png\"),e.R.SpriteImage),((e,t)=>{c=null,n||(n=e,s=t,h());}));function h(){if(n)o(n);else if(r&&s){const t=e.f.getImageData(s),i={};for(const o in r){const{width:s,height:n,x:a,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:d,content:_}=r[o],p=new e.h({width:s,height:n});e.h.copy(t,p,{x:a,y:l},{x:0,y:0},{width:s,height:n}),i[o]={data:p,pixelRatio:h,sdf:c,stretchX:u,stretchY:d,content:_};}o(null,i);}}return {cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null);}}}(t,this.map._requestManager,((t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.a(t));else if(i)for(const e in i)this.imageManager.addImage(e,this.scope,i[e]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0}),this.fire(new e.b(\"data\",{dataType:\"style\"}));}));}_validateLayer(t){const i=this.getOwnSource(t.source);if(!i)return;const o=t.sourceLayer;o&&(\"geojson\"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(o))&&this.fire(new e.a(new Error(`Source layer \"${o}\" does not exist on source \"${i.id}\" as specified by style layer \"${t.id}\"`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._changes.getUpdatedSourceCaches()).length)return !1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return !1;if(!this.imageManager.isLoaded())return !1;if(!this.modelManager.isLoaded())return !1;for(const{style:e}of this.fragments)if(!e.loaded())return !1;return !0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map(((e,t)=>{const i=this.fragments[t];return i&&i.style&&(e.data=i.style.serialize()),e}))}_serializeSources(){const e={};for(const t in this._sourceCaches){const i=this._sourceCaches[t].getSource();e[i.id]||(e[i.id]=i.serialize());}return e}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];e&&\"custom\"!==e.type&&t.push(e.serialize());}return t}hasLightTransitions(){return !(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return !!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions())return !0;if(this.hasFogTransition())return !0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(e){return !!this.terrain&&(\"function\"==typeof e.isLayerDraped?e.isLayerDraped(this.getLayerSourceCache(e)):Po.has(e.type))}_checkLoaded(){if(!this._loaded)throw new Error(\"Style is not done loading\")}_checkLayer(t){const i=this.getOwnLayer(t);if(i)return i;this.fire(new e.a(new Error(`The layer '${t}' does not exist in the map's style.`)));}_checkSource(t){const i=this.getOwnSource(t);if(i)return i;this.fire(new e.a(new Error(`The source '${t}' does not exist in the map's style.`)));}update(t){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(t),this.directionalLight&&this.directionalLight.recalculate(t);const i=this.calculateLightsBrightness();t.brightness=i||0,i!==this._brightness&&(this._brightness=i,this.dispatcher.broadcast(\"setBrightness\",i));const o=this._changes.isDirty();if(this._changes.isDirty()){const e=this._changes.getLayerUpdatesByScope();for(const t in e){const{updatedIds:i,removedIds:o}=e[t];(i||o)&&this._updateWorkerLayers(t,i,o);}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(t),this.light&&this.light.updateTransitions(t),this.ambientLight&&this.ambientLight.updateTransitions(t),this.directionalLight&&this.directionalLight.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._changes.reset();}const r={};for(const e in this._mergedSourceCaches){const t=this._mergedSourceCaches[e];r[e]=t.used,t.used=!1,t.tileCoverLift=0;}for(const e of this._mergedOrder){const i=this._mergedLayers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this.getLayerSourceCache(i);e&&(e.used=!0,e.tileCoverLift=Math.max(e.tileCoverLift,i.tileCoverLift()));}if(!this._precompileDone&&this._shouldPrecompile)for(let e=i.minzoom||0;e<(i.maxzoom||25.5);e++){const e=this.map.painter;if(e){const o=i.getProgramIds();if(!o)continue;for(const r of o){const o=i.getDefaultProgramParams(r,t.zoom);o&&(e.style=this,this.fog&&(e._fogVisible=!0,o.overrideFog=!0,e.getOrCreateProgram(r,o)),e._fogVisible=!1,o.overrideFog=!1,e.getOrCreateProgram(r,o),(this.stylesheet.terrain||this.stylesheet.projection&&\"globe\"===this.stylesheet.projection.name)&&(o.overrideRtt=!0,e.getOrCreateProgram(r,o)));}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const t in r){const i=this._mergedSourceCaches[t];r[t]!==i.used&&i.getSource().fire(new e.b(\"data\",{sourceDataType:\"visibility\",dataType:\"source\",sourceId:i.getSource().id}));}this.light&&this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),o&&this.fire(new e.b(\"data\",{dataType:\"style\"}));}_updateTilesForChangedImages(){const e=this._changes.getUpdatedImages();if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies([\"icons\",\"patterns\"],e);this._changes.resetUpdatedImages();}}_updateWorkerLayers(e,t,i){const o=this.getFragmentStyle(e);o&&this.dispatcher.broadcast(\"updateLayers\",{layers:t?o._serializeLayers(t):[],scope:e,removedIds:i||[],options:o.options});}setState(i){if(this._checkLoaded(),Io(this,Y(i)))return !1;(i=e.c1(i)).layers=ii(i.layers);const o=function(e,i){if(!e)return [{command:oi.setStyle,args:[i]}];let o=[];try{if(!t(e.version,i.version))return [{command:oi.setStyle,args:[i]}];t(e.center,i.center)||o.push({command:oi.setCenter,args:[i.center]}),t(e.zoom,i.zoom)||o.push({command:oi.setZoom,args:[i.zoom]}),t(e.bearing,i.bearing)||o.push({command:oi.setBearing,args:[i.bearing]}),t(e.pitch,i.pitch)||o.push({command:oi.setPitch,args:[i.pitch]}),t(e.sprite,i.sprite)||o.push({command:oi.setSprite,args:[i.sprite]}),t(e.glyphs,i.glyphs)||o.push({command:oi.setGlyphs,args:[i.glyphs]}),t(e.imports,i.imports)||function(e=[],i=[],o){i=i||[];const r=(e=e||[]).map(ci),s=i.map(ci),n=e.reduce(hi,{}),a=i.reduce(hi,{}),l=r.slice();let c,h,u,d;for(c=0,h=0;c<r.length;c++)u=r[c],a.hasOwnProperty(u)?h++:(o.push({command:oi.removeImport,args:[u]}),l.splice(l.indexOf(u,h),1));for(c=0,h=0;c<s.length;c++)u=s[s.length-1-c],l[l.length-1-c]!==u&&(n.hasOwnProperty(u)?(o.push({command:oi.removeImport,args:[u]}),l.splice(l.lastIndexOf(u,l.length-h),1)):h++,d=l[l.length-c],o.push({command:oi.addImport,args:[a[u],d]}),l.splice(l.length-c,0,u));for(const e of i){const i=n[e.id];i&&!t(i,e)&&o.push({command:oi.updateImport,args:[e.id,e]});}}(e.imports,i.imports,o),t(e.transition,i.transition)||o.push({command:oi.setTransition,args:[i.transition]}),t(e.light,i.light)||o.push({command:oi.setLight,args:[i.light]}),t(e.fog,i.fog)||o.push({command:oi.setFog,args:[i.fog]}),t(e.projection,i.projection)||o.push({command:oi.setProjection,args:[i.projection]}),t(e.lights,i.lights)||o.push({command:oi.setLights,args:[i.lights]}),t(e.camera,i.camera)||o.push({command:oi.setCamera,args:[i.camera]});const r={},s=[];!function(e,i,o,r){let s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(i.hasOwnProperty(s)||si(s,o,r));for(s in i){if(!i.hasOwnProperty(s))continue;const n=i[s];e.hasOwnProperty(s)?t(e[s],n)||(\"geojson\"===e[s].type&&\"geojson\"===n.type&&ai(e,i,s)?o.push({command:oi.setGeoJSONSourceData,args:[s,n.data]}):ni(s,i,o,r)):ri(s,i,o);}}(e.sources,i.sources,s,r);const n=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?o.push({command:oi.removeLayer,args:[e.id]}):n.push(e);}));let a=e.terrain;a&&r[a.source]&&(o.push({command:oi.setTerrain,args:[void 0]}),a=void 0),o=o.concat(s),t(a,i.terrain)||o.push({command:oi.setTerrain,args:[i.terrain]}),function(e,i,o){i=i||[];const r=(e=e||[]).map(ci),s=i.map(ci),n=e.reduce(hi,{}),a=i.reduce(hi,{}),l=r.slice(),c=Object.create(null);let h,u,d,_,p,f,m;for(h=0,u=0;h<r.length;h++)d=r[h],a.hasOwnProperty(d)?u++:(o.push({command:oi.removeLayer,args:[d]}),l.splice(l.indexOf(d,u),1));for(h=0,u=0;h<s.length;h++)d=s[s.length-1-h],l[l.length-1-h]!==d&&(n.hasOwnProperty(d)?(o.push({command:oi.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-u),1)):u++,f=l[l.length-h],o.push({command:oi.addLayer,args:[a[d],f]}),l.splice(l.length-h,0,d),c[d]=!0);for(h=0;h<s.length;h++)if(d=s[h],_=n[d],p=a[d],!c[d]&&!t(_,p))if(t(_.source,p.source)&&t(_[\"source-layer\"],p[\"source-layer\"])&&t(_.type,p.type)){for(m in li(_.layout,p.layout,o,d,null,oi.setLayoutProperty),li(_.paint,p.paint,o,d,null,oi.setPaintProperty),t(_.slot,p.slot)||o.push({command:oi.setSlot,args:[d,p.slot]}),t(_.filter,p.filter)||o.push({command:oi.setFilter,args:[d,p.filter]}),t(_.minzoom,p.minzoom)&&t(_.maxzoom,p.maxzoom)||o.push({command:oi.setLayerZoomRange,args:[d,p.minzoom,p.maxzoom]}),_)_.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?li(_[m],p[m],o,d,m.slice(6),oi.setPaintProperty):t(_[m],p[m])||o.push({command:oi.setLayerProperty,args:[d,m,p[m]]}));for(m in p)p.hasOwnProperty(m)&&!_.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?li(_[m],p[m],o,d,m.slice(6),oi.setPaintProperty):t(_[m],p[m])||o.push({command:oi.setLayerProperty,args:[d,m,p[m]]}));}else o.push({command:oi.removeLayer,args:[d]}),f=l[l.lastIndexOf(d)+1],o.push({command:oi.addLayer,args:[p,f]});}(n,i.layers,o);}catch(e){console.warn(\"Unable to compute style diff:\",e),o=[{command:oi.setStyle,args:[i]}];}return o}(this.serialize(),i).filter((e=>!(e.command in Lo)));if(0===o.length)return !1;const r=o.filter((e=>!(e.command in Do)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(\", \")}.`);return o.forEach((e=>{this[e.command].apply(this,e.args);})),this.stylesheet=i,this.mergeAll(),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(t,i){return this.getImage(t)?this.fire(new e.a(new Error(\"An image with this name already exists.\"))):(this.imageManager.addImage(t,this.scope,i),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,this.scope,t);}getImage(e){return this.imageManager.getImage(e,this.scope)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t,this.scope),this._afterImageUpdated(t),this):this.fire(new e.a(new Error(\"No image with this name exists.\")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(t),this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.fire(new e.b(\"data\",{dataType:\"style\"}));}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(e,t,i={}){return this._checkLoaded(),this._validate(ae,`models.${e}`,t,null,i)||(this.modelManager.addModel(e,t,this.scope),this._changes.setDirty()),this}hasModel(e){return this.modelManager.hasModel(e,this.scope)}removeModel(t){return this.hasModel(t)?(this.modelManager.removeModel(t,this.scope),this):this.fire(new e.a(new Error(\"No model with this ID exists.\")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(t,i,o={}){if(this._checkLoaded(),void 0!==this.getOwnSource(t))throw new Error(`There is already a source with ID \"${t}\".`);if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(\", \")}.`);if([\"vector\",\"raster\",\"geojson\",\"video\",\"image\"].indexOf(i.type)>=0&&this._validate(J,`sources.${t}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Vt(t,i,this.dispatcher,this);r.scope=this.scope,r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(r.id),source:r.serialize(),sourceId:r.id})));const s=t=>{const i=(t?\"symbol:\":\"other:\")+r.id,o=e.ag(i,this.scope),s=this._sourceCaches[i]=new Kt(o,r,t);(t?this._symbolSourceCaches:this._otherSourceCaches)[r.id]=s,s.onAdd(this.map);};s(!1),\"vector\"!==i.type&&\"geojson\"!==i.type||s(!0),r.onAdd&&r.onAdd(this.map),o.isInitialLoad||(this.mergeSources(),this._changes.setDirty());}removeSource(t){this._checkLoaded();const i=this.getOwnSource(t);if(!i)throw new Error(\"There is no source with this ID\");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.a(new Error(`Source \"${t}\" cannot be removed while layer \"${i}\" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===t)return this.fire(new e.a(new Error(`Source \"${t}\" cannot be removed while terrain is using it.`)));const o=this.getOwnSourceCaches(t);for(const t of o){const i=e.c3(t.id);delete this._sourceCaches[i],this._changes.discardSourceCacheUpdate(t.id),t.fire(new e.b(\"data\",{sourceDataType:\"metadata\",dataType:\"source\",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();}return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],this.mergeSources(),i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getOwnSource(e).setData(t),this._changes.setDirty();}getOwnSource(e){const t=this.getOwnSourceCache(e);return t&&t.getSource()}getOwnSources(){const e=[];for(const t in this._otherSourceCaches){const i=this.getOwnSourceCache(t);i&&e.push(i.getSource());}return e}areTilesLoaded(){const e=this._mergedSourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if(\"loaded\"!==t.state&&\"errored\"!==t.state)return !1}}return !0}setLights(t){if(this._checkLoaded(),!t)return delete this.ambientLight,void delete this.directionalLight;const i=this._getTransitionParameters();for(const e of t){if(this._validate(ee,\"lights\",e))return;switch(e.type){case\"ambient\":if(this.ambientLight){const t=this.ambientLight;t.set(e),t.updateTransitions(i);}else this.ambientLight=new Te(e,Ee,this.scope,this.options);break;case\"directional\":if(this.directionalLight){const t=this.directionalLight;t.set(e),t.updateTransitions(i);}else this.directionalLight=new Te(e,Se,this.scope,this.options);}}const o=new e.K(this.z||0,i);this.ambientLight&&this.ambientLight.recalculate(o),this.directionalLight&&this.directionalLight.recalculate(o),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast(\"setBrightness\",this._brightness);}calculateLightsBrightness(){const t=this.directionalLight,i=this.ambientLight;if(!t||!i)return;const o=e=>.2126*(e[0]<=.03928?e[0]/12.92:Math.pow((e[0]+.055)/1.055,2.4))+.7152*(e[1]<=.03928?e[1]/12.92:Math.pow((e[1]+.055)/1.055,2.4))+.0722*(e[2]<=.03928?e[2]/12.92:Math.pow((e[2]+.055)/1.055,2.4)),r=t.properties.get(\"color\").toArray01(),s=t.properties.get(\"intensity\"),n=t.properties.get(\"direction\"),a=1-e.bQ(n.x,n.y,n.z)[2]/90,l=o(r)*s*a,c=i.properties.get(\"color\").toArray01(),h=i.properties.get(\"intensity\");return (l+o(c)*h)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const e=[];return this.directionalLight&&e.push(this.directionalLight.get()),this.ambientLight&&e.push(this.ambientLight.get()),e}enable3dLights(){return !!this.ambientLight&&!!this.directionalLight}getFragmentStyle(t){if(!t)return this;if(e.c4(t)){const i=e.c5(t),o=this.fragments.find((({id:e})=>e===i));if(!o)throw new Error(`Style import not found: ${t}`);const r=e.c3(t);return o.style.getFragmentStyle(r)}{const e=this.fragments.find((({id:e})=>e===t));if(!e)throw new Error(`Style import not found: ${t}`);return e.style}}getConfigProperty(t,i){const o=this.getFragmentStyle(t);if(!o)return null;const r=e.ag(i,o.scope),s=o.options.get(r),n=s?s.value||s.default:null;return n?n.serialize():null}setConfigProperty(t,i,o){const r=e.r(o);if(\"success\"!==r.result)return void Io(this,r.value);const s=r.value.expression,n=this.getFragmentStyle(t);if(!n)return;const a=e.ag(i,n.scope),l=n.options.get(a);l&&(this.options.set(a,{...l,value:s}),this.updateConfigDependencies());}setConfig(t,i){if(this._config=t,t||i)if(i)for(const o in i){let r,s;const n=e.r(i[o].default);if(\"success\"===n.result&&(r=n.value.expression),t&&void 0!==t[o]){const i=e.r(t[o]);\"success\"===i.result&&(s=i.value.expression);}const{minValue:a,maxValue:l,stepValue:c,type:h,values:u}=i[o];if(r){const t=e.ag(o,this.scope);this.options.set(t,{default:r,value:s,minValue:a,maxValue:l,stepValue:c,type:h,values:u});}else this.fire(new e.a(new Error(`No schema defined for config option \"${o}\".`)));}else this.fire(new e.a(new Error(\"Attempting to set config for a style without schema.\")));}updateConfigDependencies(){for(const e of this._configDependentLayers){const t=this.getLayer(e);t&&(t.possiblyEvaluateVisibility(),this._updateLayer(t));}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this._changes.setDirty();}addLayer(t,i,o={}){this._checkLoaded();const r=t.id;if(this._layers[r])return void this.fire(new e.a(new Error(`Layer with id \"${r}\" already exists on this map`)));let s;if(\"custom\"===t.type){if(Io(this,e.c6(t)))return;s=e.c2(t,this.scope,this.options);}else {if(\"object\"==typeof t.source&&(this.addSource(r,t.source),t=e.c1(t),t=e.e(t,{source:r})),this._validate(oe,`layers.${r}`,t,{arrayIndex:-1},o))return;s=e.c2(t,this.scope,this.options),this._validateLayer(s),s.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[s.id]=s.serialize();}s.isConfigDependent&&this._configDependentLayers.add(s.fqid);let n=this._order.length;if(i){const t=this._order.indexOf(i);if(-1===t)return void this.fire(new e.a(new Error(`Layer with id \"${i}\" does not exist on this map.`)));s.slot===this._layers[i].slot?n=t:e.w(`Layer with id \"${i}\" has a different slot. Layers can only be rearranged within the same slot.`);}this._order.splice(n,0,r),this._layerOrderChanged=!0,this._layers[r]=s;const a=this.getOwnLayerSourceCache(s),l=!!this.directionalLight&&this.directionalLight.shadowsEnabled();a&&s.canCastShadows()&&l&&(a.castsShadows=!0);const c=this._changes.getRemovedLayer(s);if(c&&s.source&&a&&\"custom\"!==s.type){this._changes.discardLayerRemoval(s);const t=e.ag(s.source,s.scope);c.type!==s.type?this._changes.updateSourceCache(t,\"clear\"):(this._changes.updateSourceCache(t,\"reload\"),a.pause());}this._updateLayer(s),s.onAdd&&s.onAdd(this.map),s.scope=this.scope,this.mergeLayers();}moveLayer(t,i){this._checkLoaded();const o=this._checkLayer(t);if(!o)return;if(t===i)return;const r=this._order.indexOf(t);this._order.splice(r,1);let s=this._order.length;if(i){const t=this._order.indexOf(i);if(-1===t)return void this.fire(new e.a(new Error(`Layer with id \"${i}\" does not exist on this map.`)));o.slot===this._layers[i].slot?s=t:e.w(`Layer with id \"${i}\" has a different slot. Layers can only be rearranged within the same slot.`);}this._order.splice(s,0,t),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers();}removeLayer(e){this._checkLoaded();const t=this._checkLayer(e);if(!t)return;t.setEventedParent(null);const i=this._order.indexOf(e);this._order.splice(i,1),delete this._layers[e],delete this._serializedLayers[e],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(t.fqid),this._changes.removeLayer(t);const o=this.getOwnLayerSourceCache(t);if(o&&o.castsShadows){let e=!1;for(const i in this._layers)if(this._layers[i].source===t.source&&this._layers[i].canCastShadows()){e=!0;break}o.castsShadows=e;}t.onRemove&&t.onRemove(this.map),this.mergeLayers();}getOwnLayer(e){return this._layers[e]}hasLayer(e){return e in this._mergedLayers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return !0;return !1}setLayerZoomRange(e,t,i){this._checkLoaded();const o=this._checkLayer(e);o&&(o.minzoom===t&&o.maxzoom===i||(null!=t&&(o.minzoom=t),null!=i&&(o.maxzoom=i),this._updateLayer(o)));}setSlot(e,t){this._checkLoaded();const i=this._checkLayer(e);i&&i.slot!==t&&(i.slot=t,this._updateLayer(i));}setFilter(i,o,r={}){this._checkLoaded();const s=this._checkLayer(i);if(s&&!t(s.filter,o))return null==o?(s.filter=void 0,void this._updateLayer(s)):void(this._validate(re,`layers.${s.id}.filter`,o,{layerType:s.type},r)||(s.filter=e.c1(o),this._updateLayer(s)))}getFilter(t){const i=this._checkLayer(t);if(i)return e.c1(i.filter)}setLayoutProperty(i,o,r,s={}){this._checkLoaded();const n=this._checkLayer(i);if(n&&!t(n.getLayoutProperty(o),r)){if(null!=r&&(!s||!1!==s.validate)&&Io(n,ne.call(Y,{key:`layers.${i}.layout.${o}`,layerType:n.type,objectKey:o,value:r,styleSpec:e.D,style:{glyphs:!0,sprite:!0}})))return;n.setLayoutProperty(o,r),n.isConfigDependent&&this._configDependentLayers.add(n.fqid),this._updateLayer(n);}}getLayoutProperty(e,t){const i=this._checkLayer(e);if(i)return i.getLayoutProperty(t)}setPaintProperty(i,o,r,s={}){this._checkLoaded();const n=this._checkLayer(i);if(!n)return;if(t(n.getPaintProperty(o),r))return;if(null!=r&&(!s||!1!==s.validate)&&Io(n,se.call(Y,{key:`layers.${i}.paint.${o}`,layerType:n.type,objectKey:o,value:r,styleSpec:e.D})))return;const a=n.setPaintProperty(o,r);n.isConfigDependent&&this._configDependentLayers.add(n.fqid),a&&this._updateLayer(n),this._changes.updatePaintProperties(n);}getPaintProperty(e,t){const i=this._checkLayer(e);if(i)return i.getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const o=t.source,r=t.sourceLayer,s=this._checkSource(o);if(!s)return;const n=s.type;if(\"geojson\"===n&&r)return void this.fire(new e.a(new Error(\"GeoJSON sources cannot have a sourceLayer parameter.\")));if(\"vector\"===n&&!r)return void this.fire(new e.a(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));void 0===t.id&&this.fire(new e.a(new Error(\"The feature id parameter must be provided.\")));const a=this.getOwnSourceCaches(o);for(const e of a)e.setFeatureState(r,t.id,i);}removeFeatureState(t,i){this._checkLoaded();const o=t.source,r=this._checkSource(o);if(!r)return;const s=r.type,n=\"vector\"===s?t.sourceLayer:void 0;if(\"vector\"===s&&!n)return void this.fire(new e.a(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));if(i&&\"string\"!=typeof t.id&&\"number\"!=typeof t.id)return void this.fire(new e.a(new Error(\"A feature id is required to remove its specific state property.\")));const a=this.getOwnSourceCaches(o);for(const e of a)e.removeFeatureState(n,t.id,i);}getFeatureState(t){this._checkLoaded();const i=t.source,o=t.sourceLayer,r=this._checkSource(i);if(r){if(\"vector\"!==r.type||o)return void 0===t.id&&this.fire(new e.a(new Error(\"The feature id parameter must be provided.\"))),this.getOwnSourceCaches(i)[0].getFeatureState(o,t.id);this.fire(new e.a(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));}}setTransition(t){return this.stylesheet.transition=e.e({},this.stylesheet.transition,t),this.transition=this.stylesheet.transition,this}getTransition(){return e.e({},this.stylesheet.transition)}serialize(){this._checkLoaded();const t=this.getTerrain(),i=t&&this.terrain&&this.terrain.scope===this.scope?t:this.stylesheet.terrain;return e.c7({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:i,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(t){this._changes.updateLayer(t);const i=this.getLayerSourceCache(t),o=e.ag(t.source,t.scope),r=this._changes.getUpdatedSourceCaches();t.source&&!r[o]&&i&&\"raster\"!==i.getSource().type&&(this._changes.updateSourceCache(o,\"reload\"),i.pause()),t.invalidateCompiledFilter();}_flattenAndSortRenderedFeatures(e){const t=e=>\"fill-extrusion\"===this._mergedLayers[e].type||\"model\"===this._mergedLayers[e].type,i=this.order,o={},r=[];for(let s=i.length-1;s>=0;s--){const n=i[s];if(t(n)){o[n]=s;for(const t of e){const e=t[n];if(e)for(const t of e)r.push(t);}}}r.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const s=[];for(let n=i.length-1;n>=0;n--){const a=i[n];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(o[t.layer.id]<n)break;s.push(t),r.pop();}else for(const t of e){const e=t[a];if(e)for(const t of e)s.push(t.feature);}}return s}queryRenderedFeatures(t,i,o){i&&i.filter&&this._validate(re,\"queryRenderedFeatures.filter\",i.filter,null,i),i.scope=this.scope,i.availableImages=this._availableImages,i.serializedLayers=this._serializedLayers;const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.a(new Error(\"parameters.layers must be an Array.\"))),[];for(const t of i.layers){const i=this._mergedLayers[t];if(!i)return this.fire(new e.a(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0;}}const s=[],n=i.serializedLayers||{},a=i&&i.layers?i.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),l=Ce.createFromScreenPoints(t,o);for(const e in this._mergedSourceCaches){const t=this._mergedSourceCaches[e].getSource();if(!t||t.scope!==i.scope)continue;const c=this._mergedSourceCaches[e].getSource().id;i.layers&&!r[c]||s.push(Ht(this._mergedSourceCaches[e],this._mergedLayers,n,l,i,o,a,!!this.map._showQueryGeometry));}return this.placement&&s.push(function(e,t,i,o,r,s,n){const a={},l=s.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(n[e]);c.sort(qt);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=a[e]=a[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e);}}for(const t in a)a[t].forEach((o=>{const r=o.feature,s=i(e[t]);if(!s)return;const n=s.getFeatureState(r.layer[\"source-layer\"],r.id);r.source=r.layer.source,r.layer[\"source-layer\"]&&(r.sourceLayer=r.layer[\"source-layer\"]),r.state=n;}));return a}(this._mergedLayers,n,this.getLayerSourceCache.bind(this),l.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(s)}querySourceFeatures(e,t){t&&t.filter&&this._validate(re,\"querySourceFeatures.filter\",t.filter,null,t);const i=this.getOwnSourceCaches(e);let o=[];for(const e of i)o=o.concat(Wt(e,t));return o}addSourceType(e,t,i){return Mo.getSourceType(e)?i(new Error(`A source type called \"${e}\" already exists.`)):(Mo.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},i):i(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(e,i,o={}){this._checkLoaded();const r=this.light.getLight();let s=!1;for(const i in e)if(!t(e[i],r[i])){s=!0;break}if(!s)return;const n=this._getTransitionParameters();this.light.setLight(e,i,o),this.light.updateTransitions(n);}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:\"\",exaggeration:0},0);}setTerrain(i,o=1){if(this._checkLoaded(),!i)return this.terrainSetForDrapingOnly()&&0!==o||delete this.terrain,null===i?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let r=i;const s=null==i.source;if(1===o){if(\"object\"==typeof r.source){const t=\"terrain-dem-src\";this.addSource(t,r.source),r=e.c1(r),r=e.e(r,{source:t});}const t=e.e({},r),i={};if(this.terrain&&s){t.source=this.terrain.get().source;const e=this.terrain?this.getFragmentStyle(this.terrain.scope):null;e&&(i.style=e.serialize());}if(this._validate(te,\"terrain\",t,i))return}if(!this.terrain||this.terrain.scope!==this.scope&&!s||this.terrain&&o!==this.terrain.drapeRenderMode){if(!r)return;this._createTerrain(r,o),this.fire(new e.b(\"data\",{dataType:\"style\"}));}else {const o=this.terrain,s=o.get();for(const t of Object.keys(e.D.terrain))!r.hasOwnProperty(t)&&e.D.terrain[t].default&&(r[t]=e.D.terrain[t].default);for(const r in i)if(!t(i[r],s[r])){o.set(i,this.options),this.stylesheet.terrain=i;const t=this._getTransitionParameters({duration:0});o.updateTransitions(t),this.fire(new e.b(\"data\",{dataType:\"style\"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0;}_createFog(e){const t=this.fog=new we(e,this.map.transform,this.scope,this.options);this.stylesheet.fog=t.get();const i=this._getTransitionParameters({duration:0});t.updateTransitions(i);}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity();}));}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog;if(!t(i.get(),e)){i.set(e,this.options),this.stylesheet.fog=i.get();const t=this._getTransitionParameters({duration:0});i.updateTransitions(t);}}else this._createFog(e);this._markersNeedUpdate=!0;}_getTransitionParameters(t){return {now:e.f.now(),transition:e.e(this.transition,t)}}updateDrapeFirstLayers(){if(!this.terrain)return;const e=[],t=[];for(const i in this._mergedLayers)this.isLayerDraped(this._mergedLayers[i])?e.push(i):t.push(i);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t);}_createTerrain(e,t){const i=this.terrain=new _e(e,t,this.scope,this.options);1===t&&(this.stylesheet.terrain=e),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const o=this._getTransitionParameters({duration:0});i.updateTransitions(o);}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"fill-extrusion\"===t.type&&this._updateLayer(t);}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"symbol\"===t.type&&this._updateLayer(t);}}_validate(t,i,o,r,s={}){if(s&&!1===s.validate)return !1;const n=e.e({},this.serialize());return Io(this,t.call(Y,e.e({key:i,style:n,value:o,styleSpec:e.D},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.c8.off(\"pluginStateChange\",this._rtlTextPluginCallback);for(const e in this._mergedLayers)this._mergedLayers[e].setEventedParent(null);for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles(),this._mergedSourceCaches[e].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove());}clearSource(e){const t=this.getSourceCaches(e);for(const e of t)e.clearTiles();}clearSources(){for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles();}reloadSource(e){const t=this.getSourceCaches(e);for(const e of t)e.resume(),e.reload();}reloadSources(){for(const e of this.getSources())e.reload&&e.reload();}updateSources(e){let t;this.directionalLight&&(t=Eo(this.directionalLight));for(const i in this._mergedSourceCaches)this._mergedSourceCaches[i].update(e,void 0,void 0,t);}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload();}}_updatePlacement(t,i,o,r,s=!1){let n=!1,a=!1;const l={},c={};for(const i of this._mergedOrder){const o=this._mergedLayers[i];if(\"symbol\"!==o.type)continue;const r=e.ag(o.source,o.scope);let s=l[r];if(!s){const e=this.getLayerSourceCache(o);if(!e)continue;const t=e.getRenderableIds(!0).map((t=>e.getTileByID(t)));c[r]=t.slice(),s=l[r]=t.sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const a=this.crossTileSymbolIndex.addLayer(o,s,t.center.lng,t.projection);n=n||a;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),s=s||this._layerOrderChanged||0===o,this._layerOrderChanged&&this.fire(new e.b(\"neworder\")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.f.now(),t.zoom))&&(this.pauseablePlacement=new to(t,this._mergedOrder,s,i,o,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,l,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.f.now()),a=!0),n&&this.pauseablePlacement.placement.setStale()),a||n){this._buildingIndex.onNewFrame(t.zoom);for(const t of this._mergedOrder){const i=this._mergedLayers[t];\"symbol\"===i.type&&this.placement.updateLayerOpacities(i,l[e.ag(i.source,i.scope)]);}}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.f.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles();}addImport(t,i){this._checkLoaded();const o=this.stylesheet.imports=this.stylesheet.imports||[];if(-1!==o.findIndex((({id:e})=>e===t.id)))return this.fire(new e.a(new Error(`Import with id '${t.id}' already exists in the map's style.`)));if(!i)return o.push(t),this._loadImports([t],!0),this;const r=o.findIndex((({id:e})=>e===i));return -1===r?this.fire(new e.a(new Error(`Import with id \"${i}\" does not exist on this map.`))):(this.stylesheet.imports=o.slice(0,r).concat(t).concat(o.slice(r)),this._loadImports([t],!0,i),this)}updateImport(e,i){this._checkLoaded();const o=this.stylesheet.imports||[],r=this.getImportIndex(e);return -1===r?this:\"string\"==typeof i?(this.setImportUrl(e,i),this):(i.url&&i.url!==o[r].url&&this.setImportUrl(e,i.url),t(i.config,o[r].config)||this.setImportConfig(e,i.config),t(i.data,o[r].data)||this.setImportData(e,i.data),this)}moveImport(e,t){this._checkLoaded();let i=this.stylesheet.imports||[];const o=this.getImportIndex(e);if(-1===o)return this;const r=this.getImportIndex(t);if(-1===r)return this;const s=i[o],n=this.fragments[o];return i=i.filter((({id:t})=>t!==e)),this.fragments=this.fragments.filter((({id:t})=>t!==e)),this.stylesheet.imports=i.slice(0,r).concat(s).concat(i.slice(r)),this.fragments=this.fragments.slice(0,r).concat(n).concat(this.fragments.slice(r)),this.mergeLayers(),this}setImportUrl(e,t){this._checkLoaded();const i=this.stylesheet.imports||[],o=this.getImportIndex(e);if(-1===o)return this;i[o].url=t;const r=this.fragments[o];return r.style=this._createFragmentStyle(i[o]),r.style.on(\"style.import.load\",(()=>this.mergeAll())),r.style.loadURL(t),this}setImportData(e,t){this._checkLoaded();const i=this.getImportIndex(e),o=this.stylesheet.imports||[];return -1===i?this:t?(this.fragments[i].style.setState(t),this._reloadImports(),this):(delete o[i].data,this.setImportUrl(e,o[i].url))}setImportConfig(e,t){this._checkLoaded();const i=this.getImportIndex(e),o=this.stylesheet.imports||[];if(-1===i)return this;t?o[i].config=t:delete o[i].config;const r=this.fragments[i],s=r.style.stylesheet&&r.style.stylesheet.schema;return r.config=t,r.style.setConfig(t,s),this.updateConfigDependencies(),this}removeImport(e){this._checkLoaded();const t=this.stylesheet.imports||[],i=this.getImportIndex(e);return -1===i||(t.splice(i,1),this.fragments[i].style._remove(),this.fragments.splice(i,1),this._reloadImports()),this}getImportIndex(t){const i=(this.stylesheet.imports||[]).findIndex((e=>e.id===t));return -1===i&&this.fire(new e.a(new Error(`Import '${t}' does not exist in the map's style and cannot be updated.`))),i}getLayer(e){return this._mergedLayers[e]}getSources(){const e=[];for(const t in this._mergedOtherSourceCaches){const i=this._mergedOtherSourceCaches[t];i&&e.push(i.getSource());}return e}getSource(e,t){const i=this.getSourceCache(e,t);return i&&i.getSource()}getLayerSource(e){const t=this.getLayerSourceCache(e);return t&&t.getSource()}getSourceCache(t,i){const o=e.ag(t,i);return this._mergedOtherSourceCaches[o]}getLayerSourceCache(t){const i=e.ag(t.source,t.scope);return \"symbol\"===t.type?this._mergedSymbolSourceCaches[i]:this._mergedOtherSourceCaches[i]}getSourceCaches(e){const t=[];return this._mergedOtherSourceCaches[e]&&t.push(this._mergedOtherSourceCaches[e]),this._mergedSymbolSourceCaches[e]&&t.push(this._mergedSymbolSourceCaches[e]),t}updateSourceCaches(){const e=this._changes.getUpdatedSourceCaches();for(const t in e){const i=e[t];\"reload\"===i?this.reloadSource(t):\"clear\"===i&&this.clearSource(t);}}updateLayers(e){const t=this._changes.getUpdatedPaintProperties();for(const i of t){const t=this.getLayer(i);t&&t.updateTransitions(e);}}getImages(e,t,i){this.imageManager.getImages(t.icons,t.scope,i),this._updateTilesForChangedImages();const o=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons);};o(this._otherSourceCaches[t.source]),o(this._symbolSourceCaches[t.source]);}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,t.scope,i);}getResource(t,i,o){return e.c9(i,o)}getOwnSourceCache(e){return this._otherSourceCaches[e]}getOwnLayerSourceCache(e){return \"symbol\"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}getOwnSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const i=this.getOwnSourceCaches(t);return 0===i.length?(this.fire(new e.a(new Error(`There is no source with ID '${t}'`))),!1):i.every((e=>e.loaded()))}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast(\"clearCaches\");}destroy(){this._clearWorkerCaches(),this.fragments.forEach((e=>{e.style._remove();})),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain);}}Mo.getSourceType=function(e){return jt[e]},Mo.setSourceType=function(e,t){jt[e]=t;},Mo.registerForPluginStateChange=e.bV;var zo=\"\\n#define EPSILON 0.0000001\\n#define PI 3.141592653589793\\n#ifdef RENDER_CUTOFF\\nfloat cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}\\n#endif\",Oo=\"\\nout vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\\n#ifdef INDICATOR_CUTOUT\\nuniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;\\n#endif\\nvec4 applyCutout(vec4 color) {\\n#ifdef INDICATOR_CUTOUT\\nfloat holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);\\n#else\\nreturn color;\\n#endif\\n}\\n#ifdef DEBUG_WIREFRAME\\n#define HANDLE_WIREFRAME_DEBUG \\\\\\nglFragColor=vec4(0.7,0.0,0.0,0.7); \\\\\\ngl_FragDepth=gl_FragCoord.z-0.0001;\\n#else\\n#define HANDLE_WIREFRAME_DEBUG\\n#endif\\n#ifdef RENDER_CUTOFF\\nuniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;\\n#endif\\nvec4 textureLodCustom(sampler2D image,vec2 pos,vec2 lod_coord) {vec2 size=vec2(textureSize(image,0));vec2 dx=dFdx(lod_coord.xy*size);vec2 dy=dFdy(lod_coord.xy*size);float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}\",Fo=\"\\n#define EXTENT 8192.0\\n#define RAD_TO_DEG 180.0/PI\\n#define DEG_TO_RAD PI/180.0\\n#define GLOBE_RADIUS EXTENT/PI/2.0\\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\\n#ifndef PROJECTED_POS_ON_VIEWPORT\\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\\n#else\\nreturn vec3(0.0);\\n#endif\\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\\n#endif\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}\\n#ifdef RENDER_CUTOFF\\nuniform vec4 u_cutoff_params;out float v_cutoff_opacity;\\n#endif\\nconst vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\",Bo=\"in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}\",ko=\"\\n#define ELEVATION_SCALE 7.0\\n#define ELEVATION_OFFSET 450.0\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\\n#else\\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\\n#endif\\n#ifdef TERRAIN\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}float prevElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}\\n#ifdef TERRAIN_VERTEX_MORPHING\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\\n#else\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nreturn currentElevation(apos);}\\n#endif\\nhighp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\\nunpack_depth(texture(u_depth,uv-df.xz)),unpack_depth(texture(u_depth,uv+df.xz)),unpack_depth(texture(u_depth,uv-df.zy)),unpack_depth(texture(u_depth,uv+df.zy))\\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\\n#else\\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\\n#endif\",No=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\\n#endif\",Uo=\"highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\\n#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {\\n#ifdef FOG_DITHERING\\nvec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);\\n#else\\nreturn color;\\n#endif\\n}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\\n#endif\",Go=\"#ifdef RASTER_ARRAY\\nuniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)\\n);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)\\n);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}\\n#endif\",jo=\"#ifdef RASTER_ARRAY\\nuniform sampler2D u_velocity;uniform vec2 u_velocity_res;uniform float u_max_speed;const vec2 INVALID_VELOCITY=vec2(-1);uniform vec2 u_texture_offset;uniform float u_data_offset;uniform vec4 u_data_scale;vec2 lookup_velocity(vec2 uv) {uv=u_texture_offset.x+u_texture_offset.y*uv;vec2 fxy;ivec4 c=_raTexLinearCoord(uv,u_velocity_res,fxy);vec4 tl=texelFetch(u_velocity,c.yz,0);vec4 tr=texelFetch(u_velocity,c.xz,0);vec4 bl=texelFetch(u_velocity,c.yw,0);vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NODATA) {return INVALID_VELOCITY;}if (tr==NODATA) {return INVALID_VELOCITY;}if (bl==NODATA) {return INVALID_VELOCITY;}if (br==NODATA) {return INVALID_VELOCITY;}vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);\\n#ifdef DATA_FORMAT_UINT32\\nvec2 velocity=vec2(u_data_offset+dot(t,u_data_scale),0);return velocity;\\n#else\\nvec2 velocity=vec2(u_data_offset+dot(t.rg,u_data_scale.yx),-(u_data_offset+dot(t.ba,u_data_scale.yx)));\\n#endif\\nreturn velocity/max(u_max_speed,length(velocity));}\\n#endif\",Vo=\"#ifdef RENDER_SHADOWS\\nuniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}\\n#endif//RENDER_SHADOWS\",Zo=\"#ifdef RENDER_SHADOWS\\n#ifdef DEPTH_TEXTURE\\nuniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;\\n#else\\nuniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;\\n#endif\\nuniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture(u_shadowmap_1,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture(u_shadowmap_0,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;\\n#ifdef NATIVE\\nhighp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));\\n#else\\nhighp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(\\nshadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)\\n);\\n#endif\\nvec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {\\n#ifdef SHADOWS_SINGLE_CASCADE\\nlight_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);\\n#else\\nlight_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));\\n#endif\\n}highp float calculate_shadow_bias(float NDotL) {\\n#ifdef NORMAL_OFFSET\\nreturn 0.5*u_shadow_bias.x;\\n#else\\nreturn 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));\\n#endif\\n}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}\\n#endif\";const Ho=[];Yo(zo,Ho),Yo(Fo,Ho),Yo(Oo,Ho);const Wo={\"_prelude_fog.vertex.glsl\":No,\"_prelude_terrain.vertex.glsl\":ko,\"_prelude_shadow.vertex.glsl\":Vo,\"_prelude_fog.fragment.glsl\":Uo,\"_prelude_shadow.fragment.glsl\":Zo,\"_prelude_lighting.glsl\":\"\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}\\n#endif//LIGHTING_3D_MODE\",\"_prelude_raster_array.glsl\":Go,\"_prelude_raster_particle.glsl\":jo},qo={};Jo(\"\",ko),Jo(Uo,No),Jo(Zo,Vo),Jo(Go,\"\"),Jo(jo,\"\");const $o=Jo(Oo,Fo),Xo=zo;var Ko={background:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec4 u_color;uniform float u_opacity;\\n#ifdef LIGHTING_3D_MODE\\nin vec4 v_color;\\n#endif\\nvoid main() {vec4 out_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=v_color;\\n#else\\nout_color=u_color;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef LIGHTING_3D_MODE\\nv_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),backgroundPattern:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),circle:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec3 v_data;in float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\\n#endif\\nglFragColor=out_color*(v_visibility*opacity_t);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#define NUM_VISIBILITY_RINGS 2\\n#define INV_SQRT2 0.70710678\\n#define ELEVATION_BIAS 0.0001\\n#define NUM_SAMPLES_PER_RING 16\\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nout vec3 v_data;out float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\\n#if defined(TERRAIN)\\nreturn elevation(pos)+ELEVATION_BIAS;\\n#else\\nreturn 0.0;\\n#endif\\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\\n#ifdef PITCH_WITH_MAP\\n#ifdef PROJECTION_GLOBE_VIEW\\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\\n#else\\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\\n#endif\\n#else\\nreturn projected_center+vec4(sample_offset,0,0);\\n#endif\\n}float get_sample_step() {\\n#ifdef PITCH_WITH_MAP\\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\\n#else\\nreturn PI/float(NUM_SAMPLES_PER_RING);\\n#endif\\n}void main(void) {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\\n#else \\nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\\n#endif\\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\\n#ifdef PITCH_WITH_MAP\\n#ifdef SCALE_WITH_MAP\\nview_scale=1.0;\\n#else\\nview_scale=projected_center.w/u_camera_to_center_distance;\\n#endif\\n#else\\n#ifdef SCALE_WITH_MAP\\nview_scale=u_camera_to_center_distance;\\n#else\\nview_scale=projected_center.w;\\n#endif\\n#endif\\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\\n#ifdef TERRAIN\\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\\n#ifdef PITCH_WITH_MAP\\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\\n#else\\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\\n#endif\\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\\n#else\\nvisibility=1.0;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nvisibility=1.0;\\n#endif\\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\\n#ifdef FOG\\nv_fog_pos=fog_position(world_center.xyz);\\n#endif\\n}'),clippingMask:Jo(\"void main() {glFragColor=vec4(1.0);}\",\"in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}\"),heatmap:Jo('#include \"_prelude_fog.fragment.glsl\"\\nuniform highp float u_intensity;in vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main() {\\n#pragma mapbox: initialize highp float weight\\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);\\n#ifdef FOG\\nif (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nout vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\nconst highp float ZERO=1.0/255.0/16.0;\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main(void) {\\n#pragma mapbox: initialize highp float weight\\n#pragma mapbox: initialize mediump float radius\\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#else\\npos=vec3(tilePos+extrude,elevation(tilePos));\\n#endif\\ngl_Position=u_matrix*vec4(pos,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),heatmapTexture:Jo(\"uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(0.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}\",\"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}\"),collisionBox:Jo(\"in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}\",'#include \"_prelude_terrain.vertex.glsl\"\\nin vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}'),collisionCircle:Jo(\"in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}\",\"in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}\"),debug:Jo(\"uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nin vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;\\n#endif\\nout vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\\n#else\\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\\n#endif\\n}'),fill:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\nvec4 out_color=color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutline:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin highp vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutlinePattern:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;out highp vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillPattern:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillExtrusion:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec4 v_color;in vec4 v_flat;\\n#ifdef RENDER_SHADOWS\\nin highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;\\n#endif\\nuniform lowp float u_opacity;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;in vec2 v_ao;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nin vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nin highp vec3 v_normal;\\n#endif\\nuniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nin float v_flood_radius;in float v_has_floodlight;\\n#endif\\nuniform float u_emissive_strength;in float v_height;void main() {\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nvec3 normal=normalize(v_normal);\\n#endif\\nfloat z;vec4 color=v_color;\\n#ifdef ZERO_ROOF_RADIUS\\nz=float(normal.z > 0.00001);\\n#ifdef LIGHTING_3D_MODE\\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\\n#else\\ncolor=mix(v_color,v_roof_color,z);\\n#endif\\n#endif\\nfloat h=max(0.0,v_height);float ao_shade=1.0;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\\n#ifdef ZERO_ROOF_RADIUS\\nconcave*=(1.0-z);\\n#endif\\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\ncolor.rgb*=mix(ao_shade,1.0,v_has_floodlight);\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nfloat flood_radiance=0.0;\\n#ifdef FLOOD_LIGHT\\nflood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;\\n#endif\\n#ifdef RENDER_SHADOWS\\n#ifdef FLOOD_LIGHT\\nfloat ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);\\n#else\\nfloat shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);\\n#endif\\n#else\\ncolor.rgb=apply_lighting(color.rgb,normal);\\n#ifdef FLOOD_LIGHT\\ncolor.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);\\n#endif\\n#endif\\ncolor.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));\\n#endif\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nuniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nout vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nout highp vec3 v_normal;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;out vec2 v_ao;\\n#endif\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nout float v_flood_radius;out float v_has_floodlight;\\n#endif\\nout float v_height;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define highp float flood_light_wall_radius\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize highp float flood_light_wall_radius\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nv_normal=normal;\\n#endif\\nbase=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\\n#else\\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat cutoff=1.0;vec3 scaled_pos=pos;\\n#ifdef RENDER_CUTOFF\\nvec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=max(0.01,cutoff_opacity(u_cutoff_params,ground.z));if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);\\n#endif\\nfloat hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff < 0.01 && centroid_pos.x !=0.0));gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;\\n#ifdef RENDER_SHADOWS\\nvec3 shd_pos0=pos;vec3 shd_pos1=pos;\\n#ifdef NORMAL_OFFSET\\nvec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);\\n#endif\\nfloat NdotL=0.0;float colorvalue=0.0;\\n#ifndef LIGHTING_3D_MODE\\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#endif\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\nfloat is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;\\n#endif\\nv_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);\\n#else\\nv_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),fillExtrusionDepth:Jo(\"in highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\nglFragColor=pack_depth(v_depth);\\n#endif\\n}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\nout highp float v_depth;void main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nvec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);\\n#else\\npos=vec3(pos_nx.xy,t > 0.0 ? height : base);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}'),fillExtrusionPattern:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;in vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nin vec3 v_normal;\\n#endif\\nin vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;\\n#else\\nout_color=out_color*v_lighting;\\n#endif\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nout vec2 v_pos;out vec4 v_lighting;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;out vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout vec3 v_normal;\\n#endif\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\\n#else\\np=vec3(pos_nx.xy,z);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\\n? pos_nx.xy\\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\\n#ifdef LIGHTING_3D_MODE\\nNdotL=calculate_NdotL(normal);\\n#else\\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\\n#endif\\nif (normal.y !=0.0) {float r=0.84;\\n#ifndef LIGHTING_3D_MODE\\nr=mix(0.7,0.98,1.0-u_lightintensity);\\n#endif\\nNdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nv_normal=normal;\\n#else\\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\\n#endif \\n#ifdef FOG\\nv_fog_pos=fog_position(p);\\n#endif\\n}'),groundShadow:Jo('#include \"_prelude_shadow.fragment.glsl\"\\nprecision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;\\n#ifdef FOG\\nin float v_fog_opacity;\\n#endif\\nvoid main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);\\n#ifdef RENDER_CUTOFF\\nshadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));\\n#endif\\n#ifdef FOG\\nshadow=mix(shadow,vec3(1.0),v_fog_opacity);\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nshadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);\\n#endif\\nglFragColor=vec4(shadow,1.0);}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;\\n#ifdef FOG\\nout float v_fog_opacity;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);\\n#endif\\n}'),fillExtrusionGroundEffect:Jo(\"uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;\\n#ifdef SDF_SUBPASS\\nin highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}\\n#ifdef FOG\\nin highp float v_fog;\\n#endif\\n#endif\\nvoid main() {\\n#ifdef CLEAR_SUBPASS\\nvec4 color=vec4(1.0);\\n#ifdef CLEAR_FROM_TEXTURE\\ncolor=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));\\n#endif\\nglFragColor=color;\\n#else\\n#ifdef SDF_SUBPASS\\nhighp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;\\n#ifdef FOG\\nfog=v_fog;\\n#endif\\n#ifdef RENDER_CUTOFF\\nfog*=v_cutoff_opacity;\\n#endif\\nglFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));\\n#else\\nvec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);\\n#ifdef OVERDRAW_INSPECTOR\\ncolor=vec4(1.0);\\n#endif\\nglFragColor=color;\\n#endif\\nHANDLE_WIREFRAME_DEBUG;\\n#endif\\n}\",'#include \"_prelude_fog.vertex.glsl\"\\nin highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;\\n#ifdef SDF_SUBPASS\\nout highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;\\n#ifdef FOG\\nout highp float v_fog;\\n#endif\\n#endif\\nuniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;\\n#pragma mapbox: define highp float flood_light_ground_radius\\nconst float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {\\n#pragma mapbox: initialize highp float flood_light_ground_radius\\nvec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;\\n#ifdef SDF_SUBPASS\\nv_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);\\n#endif\\n#endif\\nfloat hidden_by_landmark=0.0;\\n#ifdef HAS_CENTROID\\nhidden_by_landmark=a_hidden_by_landmark;\\n#endif\\nfloat isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n}'),hillshadePrepare:Jo(\"precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\\n)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(\\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}\",\"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}\"),hillshade:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;\\n#ifdef LIGHTING_3D_MODE\\nglFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nglFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),line:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform sampler2D u_dash_image;in vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform sampler2D u_gradient_image;\\n#endif\\nfloat luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\\n#ifdef RENDER_LINE_DASH\\nfloat sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\\n#endif\\nhighp vec4 out_color;\\n#ifdef RENDER_LINE_GRADIENT\\nout_color=texture(u_gradient_image,v_uv.xy);\\n#else\\nout_color=color;\\n#endif\\nfloat trimmed=1.0;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\\n#endif\\nif (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}\\n#ifdef RENDER_LINE_BORDER\\nfloat edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    \\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nout_color*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define EXTRUDE_SCALE 0.015873016\\nin vec2 a_pos_normal;in vec4 a_data;\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nin highp vec4 a_packed;\\n#endif\\n#ifdef RENDER_LINE_DASH\\nin float a_linesofar;\\n#endif\\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform float u_image_height;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\\n#ifdef RENDER_LINE_GRADIENT\\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\\n#else\\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\n#endif\\n#ifdef RENDER_LINE_DASH\\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\\n#endif\\nv_width2=vec2(outset,inset);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),linePattern:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nin highp vec4 v_uv;\\n#endif\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float pattern_x=v_linesofar/pattern_size.x*aspect;float x=mod(pattern_x,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}\\n#endif\\n#ifdef LIGHTING_3D_MODE\\ncolor=apply_lighting_ground(color);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ncolor*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define scale 0.015873016\\nin vec2 a_pos_normal;in vec4 a_data;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nin highp vec4 a_packed;\\n#endif\\nin float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nout highp vec4 v_uv;\\n#endif\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nfloat a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),raster:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#include \"_prelude_raster_array.glsl\"\\nuniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin float v_split_fade;\\n#endif\\nuniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;\\n#ifndef RASTER_ARRAY\\nuniform sampler2D u_image0;uniform sampler2D u_image1;\\n#endif\\n#ifdef RASTER_COLOR\\nuniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;\\n#endif\\nvoid main() {vec4 color0,color1,color;vec2 value;\\n#ifdef RASTER_COLOR\\n#ifdef RASTER_ARRAY\\n#ifdef RASTER_ARRAY_LINEAR\\nvalue=mix(\\nraTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t\\n);\\n#else\\nvalue=mix(\\nraTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t\\n);\\n#endif\\nif (value.y > 0.0) value.x/=value.y;\\n#else\\ncolor=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);\\n#endif\\ncolor=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;\\n#else\\ncolor0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);\\n#endif\\ncolor.a*=u_opacity;\\n#ifdef GLOBE_POLES\\ncolor.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);\\n#endif\\nvec3 rgb=color.rgb;rgb=vec3(\\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;\\n#endif\\n#ifdef FOG\\nhighp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));\\n#endif\\nglFragColor=vec4(out_color*color.a,color.a);\\n#ifdef PROJECTION_GLOBE_VIEW\\nglFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));\\n#endif\\n#ifdef RENDER_CUTOFF\\nglFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;\\n#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8\\n#ifdef GLOBE_POLES\\nin vec3 a_globe_pos;in vec2 a_uv;\\n#else\\nin vec2 a_pos;in vec2 a_texture_pos;\\n#endif\\nout vec2 v_pos0;out vec2 v_pos1;out float v_depth;\\n#ifdef PROJECTION_GLOBE_VIEW\\nout float v_split_fade;\\n#endif\\nvoid main() {vec2 uv;\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);\\n#endif\\n#else\\nfloat w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    \\nv_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n#else\\ngl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n#endif\\n#endif\\nv_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;\\n#ifdef RENDER_CUTOFF\\nv_depth=gl_Position.z;\\n#endif\\n}'),rasterParticle:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;\\n#endif\\n#ifdef FOG\\nhighp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));\\n#endif\\nglFragColor=vec4(out_color*color.a,color.a);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;\\n#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8\\nin vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;vec2 uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n#else\\nvec2 uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n#endif\\nv_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}'),rasterParticleDraw:Jo(\"precision highp float;uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}\",'precision highp float;\\n#include \"_prelude_raster_array.glsl\"\\n#include \"_prelude_raster_particle.glsl\"\\nin vec3 a_pos;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {vec2 pos=a_pos.xy+u_tile_offset;vec2 tex_coords=fract(pos);gl_PointSize=1.0;vec2 velocity=lookup_velocity(tex_coords);if (velocity==INVALID_VELOCITY) {v_particle_speed=0.0;gl_Position=vec4(2.0,2.0,2.0,1.0);} else {v_particle_speed=length(velocity);gl_Position=vec4(2.0*pos-vec2(1.0),0.0,1.0);}}'),rasterParticleTexture:Jo(\"uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}\",\"in vec2 a_pos;out vec2 v_tex_pos;void main() {v_tex_pos=0.5*a_pos+vec2(0.5);gl_Position=vec4(a_pos,0.0,1.0);}\"),rasterParticleUpdate:Jo(\"void main() {}\",'#include \"_prelude_raster_array.glsl\"\\n#include \"_prelude_raster_particle.glsl\"\\nin vec3 a_pos;uniform float u_speed_factor;uniform float u_lifetime_delta;uniform float u_rand_seed;out vec3 v_new_particle;const vec3 rand_constants=vec3(12.9898,78.233,4375.85453);float rand(const vec2 co) {float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {float lifetime=a_pos.z;vec2 pos=a_pos.xy;vec2 uv=clamp(pos,vec2(0.0),vec2(1.0));vec2 velocity=lookup_velocity(uv);float next_lifetime=lifetime-u_lifetime_delta;float t=step(0.0,next_lifetime);\\n#ifdef DATA_FORMAT_UINT32\\nvec2 dp=vec2(0);\\n#else\\nvec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;\\n#endif\\nvec2 seed=pos*u_rand_seed;vec2 next_pos=pos+dp;vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));v_new_particle=vec3(\\nvec2(mix(random_pos,next_pos,t)),mix(1.0,next_lifetime,t)\\n);}'),symbolIcon:Jo('#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_texture;\\n#ifdef ICON_TRANSITION\\nuniform float u_icon_transition;\\n#endif\\nin float v_fade_opacity;in vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nin vec2 v_tex_b;\\n#endif\\nuniform mediump float u_icon_saturation;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nlowp float alpha=opacity*v_fade_opacity;vec4 out_color;\\n#ifdef ICON_TRANSITION\\nvec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;\\n#else\\nout_color=texture(u_texture,v_tex_a)*alpha;\\n#endif\\n#ifdef SATURATION\\nvec3 luma=vec3(dot(out_color.rgb,vec3(0.2126,0.7152,0.0722)));out_color.rgb=mix(luma,out_color.rgb,u_icon_saturation);\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\n#ifdef ICON_TRANSITION\\nin vec2 a_texb;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nout vec2 v_tex_b;\\n#endif\\nout float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nv_tex_a=a_tex/u_texsize;\\n#ifdef ICON_TRANSITION\\nv_tex_b=a_texb/u_texsize;\\n#endif\\nv_fade_opacity=out_fade_opacity;}'),symbolSDF:Jo('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout float v_draw_halo;out vec2 v_data0;out vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}'),symbolTextAndIcon:Jo('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\n#define SDF 1.0\\n#define ICON 0.0\\nuniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout float v_draw_halo;out vec4 v_data0;out vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nfloat out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}'),terrainRaster:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;in vec2 v_pos0;\\n#ifdef FOG\\nin float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nin vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;\\n#endif\\nuniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;\\n#ifdef LIGHTING_3D_MODE\\nconst vec3 normal=vec3(0.0,0.0,1.0);\\n#ifdef RENDER_SHADOWS\\nfloat cutoffOpacity=1.0;\\n#ifdef RENDER_CUTOFF\\ncutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);\\n#endif\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nvec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;\\n#else\\nfloat lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));\\n#endif\\n#else\\nfloat lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;\\n#endif\\n#endif\\n#else\\ncolor=image_color;\\n#endif\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#else\\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\\n#endif\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;\\n#ifdef FOG\\nout float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;\\n#endif\\nvoid main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\nv_fog_pos=fog_position(decodedPos);\\n#else\\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);\\n#endif\\n}'),terrainDepth:Jo(\"precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}'),skybox:Jo('#include \"_prelude_fog.fragment.glsl\"\\nin lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;\\n#ifdef FOG\\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\\n#endif\\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}',Bo),skyboxGradient:Jo('#include \"_prelude_fog.fragment.glsl\"\\nin highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));\\n#ifdef FOG\\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\\n#endif\\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}',Bo),skyboxCapture:Jo(\"\\nin highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;\\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\\n#define MIE_G                   0.76\\n#define DENSITY_HEIGHT_SCALE_R  8000.0\\n#define DENSITY_HEIGHT_SCALE_M  1200.0\\n#define PLANET_RADIUS           6360e3\\n#define ATMOSPHERE_RADIUS       6420e3\\n#define SAMPLE_STEPS            10\\n#define DENSITY_STEPS           4\\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}\",\"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}\"),globeRaster:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;\\n#ifndef FOG\\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\\n#endif\\nvoid main() {vec4 color;\\n#ifdef CUSTOM_ANTIALIASING\\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nraster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);\\n#else\\nraster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=texture(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;\\n#else\\ncolor=apply_lighting_ground(color);\\n#endif\\n#endif\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ncolor*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\\n#ifdef GLOBE_POLES\\nin vec3 a_globe_pos;in vec2 a_uv;\\n#else\\nin vec2 a_pos;\\n#endif\\nout vec2 v_pos0;void main() {\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\\n#else\\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\\n#endif\\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\\n#ifdef GLOBE_POLES\\nvec3 up_vector=globe_derived_up_vector;\\n#else\\nvec3 up_vector=elevationVector(tile_pos);\\n#endif\\nfloat height=elevation(tile_pos);globe_pos+=up_vector*height;\\n#ifndef GLOBE_POLES\\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\\n#endif\\n#ifdef GLOBE_POLES\\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\\n#else\\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\\n#endif\\ngl_Position=u_proj_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n}'),globeAtmosphere:Jo('#include \"_prelude_fog.fragment.glsl\"\\nuniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\\n#ifdef PROJECTION_GLOBE_VIEW\\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {\\n#ifdef ALPHA_PASS\\nglFragColor=vec4(0,0,0,0);return;\\n#else\\n#ifdef NATIVE\\nglFragColor=vec4(1,1,1,1);\\n#else\\nglFragColor=vec4(0,0,0,1);\\n#endif\\nreturn;\\n#endif\\n}\\n#endif\\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\\n0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;\\n#ifdef PROJECTION_GLOBE_VIEW\\nhighp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\\n#else\\nhorizon_angle=horizon_angle_mercator;\\n#endif\\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;\\n#ifdef ALPHA_PASS\\nfloat a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);\\n#else\\nvec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;\\n#ifndef NATIVE\\nc=dither(c,gl_FragCoord.xy+u_temporal_offset);\\n#endif\\nglFragColor=vec4(c*t,t);\\n#endif\\n}',\"in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}\"),model:Jo('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;\\n#ifdef RENDER_SHADOWS\\nin vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth_shadows;\\n#endif\\n#ifdef OCCLUSION_TEXTURE_TRANSFORM\\nuniform vec4 u_occlusionTextureTransform;\\n#endif\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nin lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;\\n#endif\\n#ifdef HAS_TEXTURE_u_baseColorTexture\\nuniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;\\n#endif\\n#ifdef HAS_TEXTURE_u_metallicRoughnessTexture\\nuniform sampler2D u_metallicRoughnessTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nuniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;\\n#endif\\n#ifdef HAS_TEXTURE_u_normalTexture\\nuniform sampler2D u_normalTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_emissionTexture\\nuniform sampler2D u_emissionTexture;\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nin highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture(u_depthTexture,coord));return v_depth > depth+0.0005;}\\n#endif\\n#define saturate(_x) clamp(_x,0.,1.)\\nvec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)\\n{\\n#ifdef LIGHTING_3D_MODE\\nvec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));\\n#endif\\nreturn apply_lighting(albedo,transformed_normal,lighting_factor);\\n#else\\nvec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;\\n#endif\\n}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;\\n#ifdef HAS_ATTRIBUTE_a_color_3f\\nalbedo*=vec4(color_3f,1.0);\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#else\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nalbedo*=color_4f;\\n#endif\\n#endif\\n#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)\\nvec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}\\n#ifdef UNPREMULT_TEXTURE_IN_SHADER\\nif(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;\\n#endif\\nif(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}\\n#endif\\nreturn vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {\\n#ifdef HAS_TEXTURE_u_normalTexture\\nhighp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;\\n#else\\nreturn mat3(1.0);\\n#endif\\n}highp vec3 getNormal(){highp vec3 n;\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\nn=normalize(normal_3f);\\n#else\\nhighp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;\\n#endif\\n#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nvec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);\\n#endif\\nreturn n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nmat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;\\n#endif\\n#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) \\nvec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;\\n#endif\\nconst float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)\\n{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)\\n{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)\\n{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)\\n{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)\\n{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)\\n{\\n#ifdef LIGHTING_3D_MODE\\nreturn mat.diffuseColor;\\n#else\\nreturn mat.diffuseColor/PI;\\n#endif\\n}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)\\n{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)\\n{vec3 env_light=vec3(0.65,0.65,0.65);\\n#ifdef LIGHTING_3D_MODE\\nfloat ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;\\n#endif\\nvec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)\\n{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=NdotL;\\n#endif\\nvec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;\\n#if !defined(LIGHTING_3D_MODE)\\nconst vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);\\n#endif\\ncolor*=intensityFactor;return color;}void main() {\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nif (isOccluded()) {discard;}\\n#endif\\nvec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;\\n#ifdef LIGHTING_3D_MODE\\nlightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;\\n#endif\\nvec4 finalColor;\\n#ifdef DIFFUSE_SHADED\\nvec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nfloat ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;\\n#endif\\nfinalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;\\n#else\\nMaterial mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;\\n#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\n#ifdef OCCLUSION_TEXTURE_TRANSFORM\\nvec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;\\n#else\\nvec2 uv=uv_2f;\\n#endif\\nao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;\\n#endif\\nvec4 emissive=u_emissiveFactor;\\n#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nemissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);\\n#endif\\ncolor+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nfloat resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nfloat distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);\\n#endif\\n#endif\\nvec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);\\n#endif\\n#ifdef FOG\\nfinalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));\\n#endif\\n#ifdef RENDER_CUTOFF\\nfinalColor*=v_cutoff_opacity;\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nfinalColor=applyCutout(finalColor);\\n#endif\\nglFragColor=finalColor;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\nin vec3 a_pos_3f;\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength\\nuniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_normal_matrix;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth_shadows;\\n#endif\\nout vec4 v_position_height;out lowp vec4 v_color_mix;\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nout highp float v_depth;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nout lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;\\n#endif\\nvec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute-custom highp vec4 pbr\\n#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength\\nhighp mat4 normal_matrix;\\n#ifdef INSTANCED_ARRAYS\\nnormal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\nnormal_matrix=u_normal_matrix;\\n#endif\\nvec3 local_pos;mat3 rs;\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;\\n#else\\nlocal_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);\\n#endif\\nv_position_height.w=a_pos_3f.z;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nvec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(local_pos);\\n#endif\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nv_depth=gl_Position.z/gl_Position.w;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nfloat x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);\\n#else\\nnormal_3f=vec3(normal_matrix*vec4(normal_3f,0));\\n#endif\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nv_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 shadow_pos=local_pos;\\n#ifdef NORMAL_OFFSET\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#else\\nvec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#endif\\n#endif\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;\\n#endif\\n}'),modelDepth:Jo(\"in highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\nglFragColor=pack_depth(v_depth);\\n#endif\\n}\",\"in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;\\n#ifdef MODEL_POSITION_ON_GPU\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_instance;\\n#endif\\nuniform highp mat4 u_node_matrix;\\n#endif\\nvoid main() {\\n#ifdef MODEL_POSITION_ON_GPU\\nhighp mat4 instance;\\n#ifdef INSTANCED_ARRAYS\\ninstance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\ninstance=u_instance;\\n#endif\\nvec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;\\n#else\\ngl_Position=u_matrix*vec4(a_pos_3f,1);\\n#endif\\nv_depth=gl_Position.z/gl_Position.w;}\"),stars:Jo(\"in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)\\n{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}\",\"\\nin vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}\")};function Yo(e,t){const i=e.replace(/\\s*\\/\\/[^\\n]*\\n/g,\"\\n\").split(\"\\n\");for(let e of i)if(e=e.trim(),\"#\"===e[0]&&e.includes(\"if\")&&!e.includes(\"endif\")){e=e.replace(\"#\",\"\").replace(/ifdef|ifndef|elif|if/g,\"\").replace(/!|defined|\\(|\\)|\\|\\||&&/g,\"\").replace(/\\s+/g,\" \").trim();const i=e.split(\" \");for(const e of i)t.includes(e)||t.push(e);}}function Jo(e,t){const i=/#include\\s+\"([^\"]+)\"/g,o=/#pragma mapbox: ([\\w\\-]+) ([\\w]+) ([\\w]+) ([\\w]+)/g;let r=t.match(/(attribute(\\S*)|(^\\s*|;)in) (highp |mediump |lowp )?([\\w]+) ([\\w]+)/gm);r&&(r=r.map((e=>{const t=e.split(\" \");return t[t.length-1]})),r=[...new Set(r)]);const s={},n=[],a=[];if(e=e.replace(i,((e,t)=>(a.push(t),\"\"))),(t=t.replace(i,((e,t)=>(n.push(t),\"\")))).includes(\"flat out\"))return void console.error('The usage of \"flat\" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let l=[...Ho];Yo(e,l),Yo(t,l);for(const e of [...n,...a])Wo[e]||console.error(`Undefined include: ${e}`),qo[e]||(qo[e]=[],Yo(Wo[e],qo[e])),l=[...l,...qo[e]];return {fragmentSource:e=e.replace(o,((e,t,i,o,r)=>(s[r]=!0,\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${r}\\nin ${i} ${o} ${r};\\n#else\\nuniform ${i} ${o} u_${r};\\n#endif\\n`:\"initialize\"===t?`\\n#ifdef HAS_UNIFORM_u_${r}\\n    ${i} ${o} ${r} = u_${r};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${r}\\n    in ${i} ${o} ${r};\\n#endif\\n`:\"initialize-attribute\"===t?\"\":void 0))),vertexSource:t=t.replace(o,((e,t,i,o,r)=>{const n=\"float\"===o?\"vec2\":o,a=r.match(/color/)?\"color\":n;return \"define-attribute-vertex-shader-only\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${r}\\nin ${i} ${o} a_${r};\\n#endif\\n`:s[r]?\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${r}\\nuniform lowp float u_${r}_t;\\nin ${i} ${n} a_${r};\\nout ${i} ${o} ${r};\\n#else\\nuniform ${i} ${o} u_${r};\\n#endif\\n`:\"initialize\"===t?\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${r}\\n    ${r} = a_${r};\\n#else\\n    ${i} ${o} ${r} = u_${r};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${r}\\n    ${r} = unpack_mix_${a}(a_${r}, u_${r}_t);\\n#else\\n    ${i} ${o} ${r} = u_${r};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${r}\\n    in ${i} ${o} a_${r};\\n    out ${i} ${o} ${r};\\n#endif\\n`:\"initialize-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${r}\\n    ${r} = a_${r};\\n#endif\\n`:void 0:\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${r}\\nuniform lowp float u_${r}_t;\\nin ${i} ${n} a_${r};\\n#else\\nuniform ${i} ${o} u_${r};\\n#endif\\n`:\"define-instanced\"===t?\"mat4\"===a?`\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_${r}0;\\nin vec4 a_${r}1;\\nin vec4 a_${r}2;\\nin vec4 a_${r}3;\\n#else\\nuniform ${i} ${o} u_${r};\\n#endif\\n`:`\\n#ifdef INSTANCED_ARRAYS\\nin ${i} ${n} a_${r};\\n#else\\nuniform ${i} ${o} u_${r};\\n#endif\\n`:\"initialize-attribute-custom\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${r}\\n    ${i} ${o} ${r} = a_${r};\\n#endif\\n`:\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${r}\\n    ${i} ${o} ${r} = a_${r};\\n#else\\n    ${i} ${o} ${r} = u_${r};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${r}\\n    ${i} ${o} ${r} = unpack_mix_${a}(a_${r}, u_${r}_t);\\n#else\\n    ${i} ${o} ${r} = u_${r};\\n#endif\\n`})),staticAttributes:r,usedDefines:l,vertexIncludes:n,fragmentIncludes:a}}class Qo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null;}bind(e,t,i,o,r,s,n,a){this.context=e;let l=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!l&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(l=!0);let c=this.boundDynamicVertexBuffers.length!==n.length;for(let e=0;!c&&e<n.length;e++)this.boundDynamicVertexBuffers[e]!==n[e]&&(c=!0);if(!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||l||c||this.boundIndexBuffer!==r||this.boundVertexOffset!==s)this.freshBind(t,i,o,r,s,n,a);else {e.bindVertexArrayOES.set(this.vao);for(const i of n)i&&(i.bind(),a&&i.instanceCount&&i.setVertexAttribDivisor(e.gl,t,a));r&&r.dynamicDraw&&r.bind();}}freshBind(e,t,i,o,r,s,n){const a=e.numAttributes,l=this.context,c=l.gl;this.vao&&this.destroy(),this.vao=l.gl.createVertexArray(),l.bindVertexArrayOES.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=s,t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of s)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r),n&&t.instanceCount&&t.setVertexAttribDivisor(c,e,n));o&&o.bind(),l.currentNumAttributes=a;}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null);}}function er(t,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return [new e.L(0,r/o).toLngLat().lat,new e.L(0,(r+1)/o).toLngLat().lat]}function tr(t,i,o,r,s,n,a){const l=t.context,c=l.gl,h=o.hillshadeFBO;if(!h)return;t.prepareDrawTile();const u=t.isTileAffectedByFog(i),d=t.getOrCreateProgram(\"hillshade\",{overrideFog:u});l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.colorAttachment.get());const _=((t,i,o,r)=>{const s=o.paint.get(\"hillshade-shadow-color\"),n=o.paint.get(\"hillshade-highlight-color\"),a=o.paint.get(\"hillshade-accent-color\"),l=o.paint.get(\"hillshade-emissive-strength\");let c=e.bj(o.paint.get(\"hillshade-illumination-direction\"));if(\"viewport\"===o.paint.get(\"hillshade-illumination-anchor\"))c-=t.transform.angle;else if(t.style&&t.style.enable3dLights()&&t.style.directionalLight){const i=t.style.directionalLight.properties.get(\"direction\"),o=e.bQ(i.x,i.y,i.z);c=e.bj(o[1]);}const h=!t.options.moving;return {u_matrix:r||t.transform.calculateProjMatrix(i.tileID.toUnwrapped(),h),u_image:0,u_latrange:er(0,i.tileID),u_light:[o.paint.get(\"hillshade-exaggeration\"),c],u_shadow:s,u_highlight:n,u_emissive_strength:l,u_accent:a}})(t,o,r,t.terrain?i.projMatrix:null);t.uploadCommonUniforms(l,d,i.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(o);d.draw(t,c.TRIANGLES,s,n,a,Ft.disabled,_,r.id,p,f,m);}function ir(t,i,o){if(!i.needsDEMTextureUpload)return;const r=t.context,s=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(o.stride);const n=o.getPixels();i.demTexture?i.demTexture.update(n,{premultiply:!1}):i.demTexture=new e.T(r,n,s.R32F,{premultiply:!1}),i.needsDEMTextureUpload=!1;}function or(t,i,o){const r=t.context,s=r.gl;if(!i.dem)return;const n=i.dem;if(r.activeTexture.set(s.TEXTURE1),ir(t,i,n),!i.demTexture)return;i.demTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE);const a=n.dim;r.activeTexture.set(s.TEXTURE0);let l=i.hillshadeFBO;if(!l){const t=new e.T(r,{width:a,height:a,data:null},s.RGBA);t.bind(s.LINEAR,s.CLAMP_TO_EDGE),l=i.hillshadeFBO=r.createFramebuffer(a,a,!0,\"renderbuffer\"),l.colorAttachment.set(t.texture);}r.bindFramebuffer.set(l.framebuffer),r.viewport.set([0,0,a,a]);const{tileBoundsBuffer:c,tileBoundsIndexBuffer:h,tileBoundsSegments:u}=t.getMercatorTileBoundsBuffers(),d=[];t.linearFloatFilteringSupported()&&d.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),t.getOrCreateProgram(\"hillshadePrepare\",{defines:d}).draw(t,s.TRIANGLES,Lt.disabled,Rt.disabled,Mt.unblended,Ft.disabled,((t,i)=>{const o=i.stride,r=e.a6.create();return e.a6.ortho(r,0,e.V,-e.V,0,0,1),e.a6.translate(r,r,[0,-e.V,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:t.overscaledZ}})(i.tileID,n),o.id,c,h,u),i.needsHillshadePrepare=!1;}const rr=t=>({u_matrix:new e.bK(t),u_image0:new e.bO(t),u_skirt_height:new e.bN(t),u_ground_shadow_factor:new e.bM(t)}),sr=(e,t,i)=>({u_matrix:e,u_image0:0,u_skirt_height:t,u_ground_shadow_factor:i}),nr=(e,t,i,o,r,s,n,a,l,c,h,u,d,_,p,f)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(o),u_merc_matrix:i,u_zoom_transition:r,u_merc_center:s,u_image0:0,u_frustum_tl:n,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:d,u_grid_matrix:f?Float32Array.from(f):new Float32Array(9),u_skirt_height:_,u_far_z_cutoff:p});function ar(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const lr=new class{constructor(){this.operations={};}newMorphing(e,t,i,o,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i);}else this.operations[e]={startTime:o,phase:0,duration:r,from:t,to:i,queued:null};}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return {from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return !!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},cr={0:null,1:\"TERRAIN_VERTEX_MORPHING\"};function hr(e,t,i){if(0===t)return 0;const o=t<1&&514===i?.25/t:1;return 6*Math.pow(1.5,22-e)*Math.max(t,1)*o}function ur(e,t){const i=1<<e.z;return !t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const dr=e=>({u_matrix:e});function _r(t,i,o,r,s){if(s>0){const n=e.f.now(),a=(n-t.timeAdded)/s,l=i?(n-i.timeAdded)/s:-1,c=o.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),u=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),d=u&&t.refreshedUponExpiration?1:e.aa(u?a:1-l,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return {opacity:1,mix:0}}class pr extends Kt{constructor(t){const i={type:\"raster-dem\",maxzoom:t.transform.maxZoom},o=new e.bW(e.bX(),null),r=Vt(\"mock-dem\",i,o,t.style);super(\"mock-dem\",r,!1),r.setEventedParent(this),this._sourceLoaded=!0;}_loadTile(e,t){e.state=\"loaded\",t(null);}}class fr extends Kt{constructor(t){const i=Vt(\"proxy\",{type:\"geojson\",maxzoom:t.transform.maxZoom},new e.bW(e.bX(),null),t.style);super(\"proxy\",i,!1),i.setEventedParent(this),this.map=this.getSource().map=t,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}update(e,t,i){if(e.freezeTileCoverage)return;this.transform=e;const o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((t,i)=>{if(t[i.key]=\"\",!this._tiles[i.key]){const t=new Gt(i,this._source.tileSize*i.overscaleFactor(),e.tileZoom);t.state=\"loaded\",this._tiles[i.key]=t;}return t}),{});for(const e in this._tiles)e in o||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e]);}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e];}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}}class mr extends e.am{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i;}}class gr extends e.ck{constructor(t,i){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},t.tp.registerParameter(this._debugParams,[\"Terrain\"],\"sortTilesHiZFirst\",{},(()=>{this._style.map.triggerRepaint();})),t.tp.registerParameter(this._debugParams,[\"Terrain\"],\"disableRenderCache\",{},(()=>{this._style.map.triggerRepaint();})),t.tp.registerButton([\"Terrain\"],\"Invalidate Render Cache\",(()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint();})),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[o,r,s]=function(t){const i=new e.aN,o=new e.aw,r=131;i.reserve(17161),o.reserve(33800);const s=e.V/128,n=e.V+s/2,a=n+s;for(let t=-s;t<a;t+=s)for(let o=-s;o<a;o+=s){const r=o<0||o>n||t<0||t>n?24575:0,s=e.aa(Math.round(o),0,e.V),a=e.aa(Math.round(t),0,e.V);i.emplaceBack(s+r,a);}const l=(e,t)=>{const i=t*r+e;o.emplaceBack(i+1,i,i+r),o.emplaceBack(i+r,i+r+1,i+1);};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return [0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t);})),[i,o,32768]}(),n=t.context;this.gridBuffer=n.createVertexBuffer(o,e.aP.members),this.gridIndexBuffer=n.createIndexBuffer(r),this.gridSegments=e.aB.simpleSegment(0,0,o.length,r.length),this.gridNoSkirtSegments=e.aB.simpleSegment(0,0,o.length,s),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new fr(i.map),this.orthoMatrix=e.a6.create(),e.a6.ortho(this.orthoMatrix,\"globe\"===this.painter.transform.projection.name?.015:0,e.V,0,e.V,0,1);const a=n.gl;this._overlapStencilMode=new Rt({func:a.GEQUAL,mask:255},0,255,a.KEEP,a.KEEP,a.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new pr(i.map),this._pendingGroundEffectLayers=[];}set style(e){e.on(\"data\",this._onStyleDataEvent.bind(this)),this._style=e,this._style.map.on(\"moveend\",(()=>{this._clearLineLayersFromRenderCache();}));}update(t,i,o){if(t&&t.terrain){this._style!==t&&(this.style=t,this._evaluationZoom=void 0);const r=t.terrain.properties,s=0===t.terrain.drapeRenderMode,n=t.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=e.f.now();const a=t.terrain&&t.terrain.scope,l=r.get(\"source\"),c=s?this._mockSourceCache:t.getSourceCache(l,a);if(!c)return void e.w(`Couldn't find terrain source \"${l}\".`);if(this.sourceCache=c,this._exaggeration=n?this.calculateExaggeration(i):r.get(\"exaggeration\"),!i.projection.requiresDraping&&n&&0===this._exaggeration)return void this._disable();this.enabled=!0;const h=()=>{this.sourceCache.used&&e.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(i,t,!0),this.resetTileLookupCache(this.sourceCache.id);};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,h(),this._initializing=!0),h(),i.updateElevation(!0,o),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0,this._previousZoom=i.zoom;}else this._disable();}calculateExaggeration(t){const i=this._previousCameraAltitude,o=t.getFreeCameraOptions().position.z/t.pixelsPerMeter*t.worldSize;this._previousCameraAltitude=o;const r=null!=i?o-i:Number.MAX_VALUE;if(Math.abs(r)<2)return this._exaggeration;const s=t.zoom,n=this._style.terrain;if(!this._previousUpdateTimestamp)return n.getExaggeration(s);let a=s-this._previousZoom;const l=this._previousUpdateTimestamp;let c=s;null!=this._evaluationZoom&&(c=this._evaluationZoom,Math.abs(s-c)>.5&&(a=.5*(s-c+a)),a*r<0&&(c+=a)),this._evaluationZoom=c;const h=n.getExaggeration(c),u=h===n.getExaggeration(Math.max(0,c-.1));if(u&&Math.abs(h-this._exaggeration)<.01)return h;let d=Math.min(.1,.00375*(this._updateTimestamp-l));return (u||h<.1||Math.abs(a)<1e-4)&&(d=Math.min(.2,4*d)),e.U(this._exaggeration,h,d)}resetTileLookupCache(e){this._findCoveringTileCache[e]={};}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(e){e.coord&&\"source\"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):\"style\"===e.dataType&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0);}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._mergedSourceCaches)this._style._mergedSourceCaches[e].usedForTerrain=!1;}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy();}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return [e,e]}set useVertexMorphing(e){this._useVertexMorphing=e;}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.L.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map((e=>{const t=i.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){const o=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.P(o.x,o.y);t.sort(((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const o=new e.P(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),s=new e.P(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),n=r.mult(1<<t.canonical.z);return n.x-=.5,n.y-=.5,n.distSqr(o)-n.distSqr(s)}));}(r,this.painter);const s=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={};})),this.terrainTileForTile={};const n=this._style._mergedSourceCaches;for(const e in n){const i=n[e];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,t[e],s),i.usedForTerrain)continue;const o=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(o);}this.proxiedCoords[i.id]=r.map((e=>new mr(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(s),this.renderingToTexture=!1;const a={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in a||(this._visibleDemTiles.push(t),a[i]=i);}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t);}));}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const o=this.terrainTileForTile[i],r=o.dem;!r||o.demTexture&&!o.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),ir(this.painter,o,r));}}_prepareDemTileUniforms(e,t,i,o){if(!t||null==t.demTexture)return !1;const r=e.tileID.canonical,s=Math.pow(2,t.tileID.canonical.z-r.z),n=o||\"\";return i[`u_dem_tl${n}`]=[r.x*s%1,r.y*s%1],i[`u_dem_scale${n}`]=s,!0}get emptyDEMTexture(){return !this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,i=t.gl;if(!this._emptyDepthBufferTexture){const o=new e.h({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.T(t,o,i.RGBA,{premultiply:!1});}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const o=i.dem.tree.minimums[0];return o>0&&e++,t+o}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const o=this._getLoadedAreaMinimum(),[r,s]=(()=>{const t=new e.cm({width:1,height:1},new Float32Array([o]));return [i.R32F,t]})();this._emptyDEMTextureDirty=!1;let n=this._emptyDEMTexture;return n?n.update(s,{premultiply:!1}):n=this._emptyDEMTexture=new e.T(t,s,r,{premultiply:!1}),n}setupElevationDraw(t,i,o){const r=this.painter.context,s=r.gl,n={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0};n.u_exaggeration=this.exaggeration();let a=null,l=null,c=1;if(o&&o.morphing&&this._useVertexMorphing){const e=o.morphing.srcDemTile,i=o.morphing.dstDemTile;c=o.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,n,\"_prev\")&&(l=e),this._prepareDemTileUniforms(t,i,n)&&(a=i));}const h=e=>e&&e.demTexture&&this.painter.linearFloatFilteringSupported()?s.LINEAR:s.NEAREST,u=e=>{n.u_dem_size=1===e.size[0]?1:e.size[0]-2;};if(l&&a)r.activeTexture.set(s.TEXTURE2),a.demTexture.bind(h(a),s.CLAMP_TO_EDGE),r.activeTexture.set(s.TEXTURE4),l.demTexture.bind(h(l),s.CLAMP_TO_EDGE),a.demTexture&&u(a.demTexture),n.u_dem_lerp=c;else {a=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(s.TEXTURE2);const e=this._prepareDemTileUniforms(t,a,n)?a.demTexture:this.emptyDEMTexture;e.bind(h(a),s.CLAMP_TO_EDGE),u(e);}if(r.activeTexture.set(s.TEXTURE3),o&&o.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE),this._depthFBO&&(n.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE),n.u_depth_size_inv=[1,1]),o&&o.useMeterToDem&&a){const t=(1<<a.tileID.canonical.z)*e.bl(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;n.u_meter_to_dem=t;}if(o&&o.labelPlaneMatrixInv&&(n.u_label_plane_matrix_inv=o.labelPlaneMatrixInv),i.setTerrainUniformValues(r,n),\"globe\"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,o&&o.useDenormalizedUpVectorScale);i.setGlobeUniformValues(r,e);}}globeUniformValues(t,i,o){const r=t.projection;return {u_tile_tl_up:r.upVector(i,0,0),u_tile_tr_up:r.upVector(i,e.V,0),u_tile_br_up:r.upVector(i,e.V,e.V),u_tile_bl_up:r.upVector(i,0,e.V),u_tile_up_scale:o?e.cl(1):r.upVectorScale(i,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const i=this.painter,o=this.painter.context;0!==t.length&&(o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),i.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,i,o,r,s){if(\"globe\"===t.transform.projection.name)!function(t,i,o,r,s){const n=t.context,a=n.gl;let l,c;const h=t.transform,u=e.cd(t,n,h),d=(e,i)=>{if(c===i)return;const o=[cr[i],\"PROJECTION_GLOBE_VIEW\"];u&&o.push(\"CUSTOM_ANTIALIASING\");const r=t.isTileAffectedByFog(e);l=t.getOrCreateProgram(\"globeRaster\",{defines:o,overrideFog:r}),c=i;},_=t.colorModeForRenderPass(),p=new Lt(a.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D);lr.update(s);const f=e.ce(h),m=[e.a5(h.center.lng),e.ae(h.center.lat)],g=t.globeSharedBuffers,v=[h.width*e.f.devicePixelRatio,h.height*e.f.devicePixelRatio],x=Float32Array.from(h.globeMatrix),y={useDenormalizedUpVectorScale:!0};{const h=t.transform,u=hr(h.zoom,i.exaggeration(),i.sourceCache._source.tileSize);c=-1;const b=a.TRIANGLES;for(const c of r){const r=o.getTile(c),w=Rt.disabled,T=i.prevTerrainTileForTile[c.key],E=i.terrainTileForTile[c.key];ar(T,E)&&lr.newMorphing(c.key,T,E,s,250),n.activeTexture.set(a.TEXTURE0),r.texture&&r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const S=lr.getMorphValuesForProxy(c.key),C=S?1:0;S&&e.j(y,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.cc(S.phase)}});const I=e.cf(c.canonical),D=e.cg(I.getCenter().lat),L=e.ch(c.canonical,I,D,h.worldSize/h._pixelsPerMercatorPixel),A=e.aT(e.ci(c.canonical)),R=nr(h.expandedFarZProjMatrix,x,f,A,e.S(h.zoom),m,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,v,u,h._farZ,L);if(d(c,C),l&&(i.setupElevationDraw(r,l,y),t.uploadCommonUniforms(n,l,c.toUnwrapped()),g)){const[e,i,o]=g.getGridBuffers(D,0!==u);l.draw(t,b,p,w,_,Ft.backCCW,R,\"globe_raster\",e,i,o);}}}if(g&&(t.renderDefaultNorthPole||t.renderDefaultSouthPole)){const s=[\"GLOBE_POLES\",\"PROJECTION_GLOBE_VIEW\"];u&&s.push(\"CUSTOM_ANTIALIASING\"),l=t.getOrCreateProgram(\"globeRaster\",{defines:s});for(const s of r){const{x:r,y:c,z:u}=s.canonical,d=0===c,f=c===(1<<u)-1,[x,b,w,T]=g.getPoleBuffers(u,!1);if(T&&(d||f)){const c=o.getTile(s);n.activeTexture.set(a.TEXTURE0),c.texture&&c.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);let g=e.cj(u,r,h);const E=e.aT(e.ci(s.canonical)),S=(e,i)=>e.draw(t,a.TRIANGLES,p,Rt.disabled,_,Ft.disabled,nr(h.expandedFarZProjMatrix,g,g,E,0,m,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,v,0,h._farZ),\"globe_pole_raster\",i,w,T);i.setupElevationDraw(c,l,y),t.uploadCommonUniforms(n,l,s.toUnwrapped()),d&&t.renderDefaultNorthPole&&S(l,x),f&&t.renderDefaultSouthPole&&(g=e.a6.scale(e.a6.create(),g,[1,-1,1]),S(l,b));}}}}(t,i,o,r,s);else {const n=t.context,a=n.gl;let l,c;const h=t.shadowRenderer,u=vo(t,t.longestCutoffRange),d=e=>{if(c===e)return;const i=[];i.push(cr[e]),u.shouldRenderCutoff&&i.push(\"RENDER_CUTOFF\"),l=t.getOrCreateProgram(\"terrainRaster\",{defines:i}),c=e;},_=t.colorModeForRenderPass(),p=new Lt(a.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D);lr.update(s);const f=t.transform,m=hr(f.zoom,i.exaggeration(),i.sourceCache._source.tileSize);let g=[0,0,0];if(h){const e=t.style.directionalLight,i=t.style.ambientLight;e&&i&&(g=So(e,i));}{c=-1;const v=a.TRIANGLES,[x,y]=[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=o.getTile(c),b=Rt.disabled,w=i.prevTerrainTileForTile[c.key],T=i.terrainTileForTile[c.key];ar(w,T)&&lr.newMorphing(c.key,w,T,s,250),n.activeTexture.set(a.TEXTURE0),r.texture&&r.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const E=lr.getMorphValuesForProxy(c.key),S=E?1:0;let C;E&&(C={morphing:{srcDemTile:E.from,dstDemTile:E.to,phase:e.cc(E.phase)}});const I=sr(c.projMatrix,ur(c.canonical,f.renderWorldCopies)?m/10:m,g);if(d(S),!l)continue;i.setupElevationDraw(r,l,C);const D=c.toUnwrapped();h&&h.setupShadows(D,l),t.uploadCommonUniforms(n,l,D,null,u),l.draw(t,v,p,b,_,Ft.backCCW,I,\"terrain_raster\",i.gridBuffer,x,y);}}}}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,i.gpuTimingDeferredRenderEnd(),t.splice(0,t.length));}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const i=this.painter,o=this.painter.context,r=this.proxySourceCache,s=this.proxiedCoords[r.id],n=this._drapedRenderBatches.shift(),a=i.style.order,l=[];let c=0;for(const h of s){const s=r.getTileByID(h.proxyTileKey),u=r.proxyCachedFBO[h.key]?r.proxyCachedFBO[h.key][t]:void 0,d=void 0!==u?r.renderCache[u]:this.pool[c++],_=void 0!==u;if(s.texture=d.tex,_&&!d.dirty){l.push(s.tileID);continue}let p;o.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(o.clear({color:e.ax.transparent,stencil:0}),d.dirty=!1);for(let e=n.start;e<=n.end;++e){const t=i.style._mergedLayers[a[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style.getLayerSourceCache(t),s=r?this.proxyToSource[h.key][r.id]:[h];if(!s)continue;const n=s;o.viewport.set([0,0,d.fb.width,d.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(d,s,t,r),p=r?r.id:null),i.renderLayer(i,r,t,n);}if(0===this._drapedRenderBatches.length)for(const e of this._pendingGroundEffectLayers){const t=i.style._mergedLayers[a[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style.getLayerSourceCache(t),s=r?this.proxyToSource[h.key][r.id]:[h];if(!s)continue;const n=s;o.viewport.set([0,0,d.fb.width,d.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(d,s,t,r),p=r?r.id:null),i.renderLayer(i,r,t,n);}this.renderedToTile?(d.dirty=!0,l.push(s.tileID)):_||--c,5===c&&(c=0,this.renderToBackBuffer(l));}return this.renderToBackBuffer(l),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),n.end+1}postRender(){}isLayerOrderingCorrect(e){const t=e.order.length;let i=-1,o=t;for(let r=0;r<t;++r)this._style.isLayerDraped(e._mergedLayers[e.order[r]])?i=Math.max(i,r):o=Math.min(o,r);return o>i}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0]);})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const o=this._visibleDemTiles.filter((e=>e.dem)).map((o=>{const r=o.tileID,s=1<<r.overscaledZ,{x:n,y:a}=r.canonical,l=n/s,c=(n+1)/s,h=a/s,u=(a+1)/s;return {minx:l,miny:h,maxx:c,maxy:u,t:o.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:o}}));o.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of o){if(null==r.t)return null;const o=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=o)return o}return null}_createFBO(){const t=this.painter.context,i=t.gl,o=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.T(t,{width:o[0],height:o[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const s=t.createFramebuffer(o[0],o[1],!0,null);return s.colorAttachment.set(r.texture),s.depthAttachment=new It(t,s.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,o[0],o[1]),this._stencilRef=0,s.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):s.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:s,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO());}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache)return !0;if(this._style.hasLightTransitions())return !0;for(const e in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[e].hasTransition())return !0;return this._style.order.some((e=>{const t=this._style._mergedLayers[e],i=t.isHidden(this.painter.transform.zoom);return \"custom\"===t.type?!i&&t.shouldRedrape():!i&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let t=!1;for(const e of this._style.getSources())if(e instanceof Pe){t=!0;break}if(!t)return;const i={};for(let t=0;t<this._style.order.length;++t){const o=this._style._mergedLayers[this._style.order[t]],r=this._style.getLayerSourceCache(o);if(r&&!i[r.id]&&!o.isHidden(this.painter.transform.zoom)&&\"line\"===o.type&&o.widthExpression()instanceof e.Z){i[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e);}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const t in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[t]._source instanceof Me){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._mergedLayers[this._style.order[e]],o=this._style.getLayerSourceCache(i);if(!o||t[o.id])continue;if(i.isHidden(this.painter.transform.zoom)||\"raster\"!==i.type)continue;const r=i.paint.get(\"raster-fade-duration\");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][o.id];if(t)for(const e of t){const t=_r(o.getTile(e),o.findLoadedParent(e,0),o,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(o.id,e);}}}}_setupDrapedRenderBatches(){const t=this._style.order,i=t.length;if(0===i)return;const o=[];this._pendingGroundEffectLayers=[];let r,s=0,n=this._style._mergedLayers[t[s]];for(;!this._style.isLayerDraped(n)&&n.isHidden(this.painter.transform.zoom)&&++s<i;)n=this._style._mergedLayers[t[s]];for(;s<i;++s){const e=this._style._mergedLayers[t[s]];e.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(e)?void 0===r&&(r=s):(\"fill-extrusion\"===e.type&&this._pendingGroundEffectLayers.push(s),void 0!==r&&(o.push({start:r,end:s-1}),r=void 0)));}if(void 0!==r&&o.push({start:r,end:s-1}),0!==o.length){const t=o[o.length-1];this._pendingGroundEffectLayers.every((e=>e>t.end))||e.w(\"fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.\");}this._drapedRenderBatches=o;}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const o=Object.values(e[i]);t.renderCachePool.push(...o);}}return}this._clearRasterLayersFromRenderCache();const i=this.proxyCoords,o=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const s=i[r];if(t.getTileByID(s.key),void 0!==t.proxyCachedFBO[s.key]){const i=e[s.key],r=this.proxyToSource[s.key];let n=0;for(const e in r){const t=r[e],s=i[e];if(!s||s.length!==t.length||t.some(((t,i)=>t!==s[i]||o[e]&&o[e].hasOwnProperty(t.key)))){n=-1;break}++n;}for(const e in t.proxyCachedFBO[s.key])t.renderCache[t.proxyCachedFBO[s.key][e]].dirty=n<0||n!==Object.values(i).length;}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of r)for(const o of i){if(t.proxyCachedFBO[o.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[o.key]={},t.proxyCachedFBO[o.key][e.start]=i,t.renderCache[i].dirty=!0);}this._tilesDirty={};}_setupStencil(e,t,i,o){if(!o||!this._sourceTilesOverlap[o.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,s=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let n;if(i.isTileClipped())n=t.length,this._overlapStencilMode.test={func:s.EQUAL,mask:255},this._overlapStencilType=\"Clip\";else {if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);n=1,this._overlapStencilMode.test={func:s.GREATER,mask:255},this._overlapStencilType=\"Mask\";}this._stencilRef+n>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=n,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref);}clipOrMaskOverlapStencilType(){return \"Clip\"===this._overlapStencilType||\"Mask\"===this._overlapStencilType}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?(\"Clip\"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):Rt.disabled}_renderTileClippingMasks(e,t){const i=this.painter,o=this.painter.context,r=o.gl;i._tileClippingMaskIDs={},o.setColorMode(Mt.disabled),o.setDepthMode(Lt.disabled);const s=i.getOrCreateProgram(\"clippingMask\");for(const o of e){const e=i._tileClippingMaskIDs[o.key]=--t;s.draw(i,r.TRIANGLES,Lt.disabled,new Rt({func:r.ALWAYS,mask:0},e,255,r.KEEP,r.KEEP,r.REPLACE),Mt.disabled,Ft.disabled,dr(o.projMatrix),\"$clipping\",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments);}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const o=[t.x,t.y,1,1];e.a7.transformMat4(o,o,i.pixelMatrixInverse),e.a7.scale(o,o,1/o[3]),o[0]/=i.worldSize,o[1]/=i.worldSize;const r=i._camera.position,s=e.bl(1,i.center.lat),n=[r[0],r[1],r[2]/s,0],a=e.N.subtract([],o.slice(0,3),n);e.N.normalize(a,a);const l=this.raycast(n,a,this._exaggeration);return null!==l&&l?(e.N.scaleAndAdd(n,n,a,l),n[3]=n[2],n[2]*=s,n):null}drawDepth(){const t=this.painter,i=t.context,o=this.proxySourceCache,r=Math.ceil(t.width),s=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===s||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=i.gl,o=i.createFramebuffer(r,s,!0,\"renderbuffer\");i.activeTexture.set(t.TEXTURE0);const n=new e.T(i,{width:r,height:s,data:null},t.RGBA);n.bind(t.NEAREST,t.CLAMP_TO_EDGE),o.colorAttachment.set(n.texture);const a=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,s);o.depthAttachment.set(a),this._depthFBO=o,this._depthTexture=n;}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,s]),function(e,t,i,o){if(\"globe\"===e.transform.projection.name)return;const r=e.context,s=r.gl;r.clear({depth:1});const n=e.getOrCreateProgram(\"terrainDepth\"),a=new Lt(s.LESS,Lt.ReadWrite,e.depthRangeFor3D);for(const r of o){const o=i.getTile(r),l=sr(r.projMatrix,0,[0,0,0]);t.setupElevationDraw(o,n),n.draw(e,s.TRIANGLES,a,Rt.disabled,Mt.unblended,Ft.backCCW,l,\"terrain_depth\",t.gridBuffer,t.gridIndexBuffer,t.gridNoSkirtSegments);}}(t,this,o,this.proxyCoords);}_setupProxiedCoordsForOrtho(t,i,o){if(t.getSource()instanceof e.ap)return this._setupProxiedCoordsForImageSource(t,i,o);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};const r=this.proxiedCoords[t.id]=[],s=this.proxyCoords;for(let e=0;e<s.length;e++){const i=s[e],n=this._findTileCoveringTileID(i,t);if(n){const e=this._createProxiedId(i,n,o[i.key]&&o[i.key][t.id]);r.push(e),this.proxyToSource[i.key][t.id]=[e];}}let n=!1;const a=new Set;for(let e=0;e<i.length;e++){const s=t.getTile(i[e]);if(!s||!s.hasData())continue;const l=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(l&&l.tileID.canonical.z!==s.tileID.canonical.z){const e=this.proxyToSource[l.tileID.key][t.id],i=this._createProxiedId(l.tileID,s,o[l.tileID.key]&&o[l.tileID.key][t.id]);e?e.splice(e.length-1,0,i):this.proxyToSource[l.tileID.key][t.id]=[i];const c=this.proxyToSource[l.tileID.key][t.id];a.has(c)||a.add(c),r.push(i),n=!0;}}if(this._sourceTilesOverlap[t.id]=n,n&&this._debugParams.sortTilesHiZFirst)for(const e of a)e.sort(((e,t)=>t.overscaledZ-e.overscaledZ));}_setupProxiedCoordsForImageSource(t,i,o){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],s=this.proxyCoords,n=t.getSource(),a=n.tileID;if(!a)return;const l=new e.P(a.x,a.y)._div(1<<a.z),c=n.coordinates.map(e.L.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-l.x),e.min.y=Math.min(e.min.y,t.y-l.y),e.max.x=Math.max(e.max.x,t.x-l.x),e.max.y=Math.max(e.max.y,t.y-l.y),e)),{min:new e.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),h=(t,i)=>{const o=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),s=e.V/(1<<t.canonical.z),n=i.wrap+i.canonical.x/(1<<i.canonical.z),a=i.canonical.y/(1<<i.canonical.z);return o+s<n+c.min.x||o>n+c.max.x||r+s<a+c.min.y||r>a+c.max.y};for(let e=0;e<s.length;e++){const n=s[e];for(let e=0;e<i.length;e++){const s=t.getTile(i[e]);if(!s||!s.hasData())continue;if(h(n,s.tileID))continue;const a=this._createProxiedId(n,s,o[n.key]&&o[n.key][t.id]),l=this.proxyToSource[n.key][t.id];l?l.push(a):this.proxyToSource[n.key][t.id]=[a],r.push(a);}}}_createProxiedId(t,i,o){let r=this.orthoMatrix;if(o){const e=o.find((e=>e.key===i.tileID.key));if(e)return e}if(i.tileID.key!==t.key){const o=t.canonical.z-i.tileID.canonical.z;let s,n,a;r=e.a6.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;o>0?(s=e.V>>o,n=s*((i.tileID.canonical.x<<o)-t.canonical.x+l),a=s*((i.tileID.canonical.y<<o)-t.canonical.y)):(s=e.V<<-o,n=e.V*(i.tileID.canonical.x-(t.canonical.x+l<<-o)),a=e.V*(i.tileID.canonical.y-(t.canonical.y<<-o))),e.a6.ortho(r,0,s,0,s,0,1),e.a6.translate(r,r,[n,a,0]);}return new mr(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let o=i.getTile(t);if(o&&o.hasData())return o;const r=this._findCoveringTileCache[i.id],s=r[t.key];if(o=s?i.getTileByID(s):null,o&&o.hasData()||null===s)return o;let n=o?o.tileID:t,a=n.overscaledZ;const l=i.getSource().minzoom,c=[];if(!s){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const o=t.canonical.z-r;i.getSource().reparseOverscaled?(a=Math.max(t.canonical.z+2,i.transform.tileZoom),n=new e.am(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o)):0!==o&&(a=r,n=new e.am(a,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o));}n.key!==t.key&&(c.push(n.key),o=i.getTile(n));}const h=e=>{c.forEach((t=>{r[t]=e;})),c.length=0;};for(a-=1;a>=l&&(!o||!o.hasData());a--){o&&h(o.tileID.key);const e=n.calculateScaledKey(a);if(o=i.getTileByID(e),o&&o.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):o=i.getTileByID(t);}return h(o?o.tileID.key:null),o&&o.hasData()?o:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0;}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0;}}function vr(t,i,o){const r=function(t,i,o){const r=e.N.dot(i,t),s=e.N.dot(o,[.2126,.7152,.0722]),n=(e,t,i)=>(1-i)*e+i*t,a=n(1-.3*Math.min(s,1),1,Math.min(r+1,1));return n(.92,1,Math.asin(e.aa(i[2],-1,1))/Math.PI+.5)*a}(t,[0,0,1],i),s=[0,0,0];e.N.scale(s,o.slice(0,3),r);const n=[0,0,0];e.N.scale(n,i.slice(0,3),t[2]);const a=[0,0,0];return e.N.add(a,s,n),e.bU(a)}const xr=[\"fill\",\"fillOutline\",\"fillPattern\",\"line\",\"linePattern\",\"background\",\"backgroundPattern\",\"hillshade\",\"raster\"],yr=[\"stars\",\"fillExtrusion\",\"fillExtrusionGroundEffect\",\"model\",\"symbolSDF\",\"symbolIcon\",\"symbolTextAndIcon\"];class br{static cacheKey(e,t,i,o){let r=`${t}${o?o.cacheKey:\"\"}`;for(const t of i)e.usedDefines.includes(t)&&(r+=`/${t}`);return r}constructor(t,i,o,r,s,n,a){const l=t.gl;this.program=l.createProgram(),this.configuration=r,this.name=i,this.fixedDefines=[...n];const c=r?r.getBinderAttributes():[],h=(o.staticAttributes||[]).concat(c);let u=r?r.defines():[];u=u.concat(n.map((e=>`#define ${e}`)));const d=\"#version 300 es\\n\";let _=d+u.concat(\"precision mediump float;\",Xo,$o.fragmentSource).join(\"\\n\");for(const e of o.fragmentIncludes)_+=`\\n${Wo[e]}`;_+=`\\n${o.fragmentSource}`;let p=d+u.concat(\"precision highp float;\",Xo,$o.vertexSource).join(\"\\n\");for(const e of o.vertexIncludes)p+=`\\n${Wo[e]}`;p+=`\\n${o.vertexSource}`;const f=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())return void(this.failedToCreate=!0);l.shaderSource(f,_),l.compileShader(f),l.attachShader(this.program,f);const m=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else {l.shaderSource(m,p),l.compileShader(m),l.attachShader(this.program,m),this.attributes={},this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)if(h[e]){const t=h[e].startsWith(\"a_\")?h[e]:`a_${h[e]}`;l.bindAttribLocation(this.program,e,t),this.attributes[t]=e;}a&&a.shaderVaryings.length>0&&l.transformFeedbackVaryings(this.program,a.shaderVaryings,a.bufferMode),l.linkProgram(this.program),l.deleteShader(m),l.deleteShader(f),this.fixedUniforms=s(t),this.binderUniforms=r?r.getUniforms(t):[],n.includes(\"TERRAIN\")&&(this.terrainUniforms=(t=>({u_dem:new e.bO(t),u_dem_prev:new e.bO(t),u_dem_tl:new e.bL(t),u_dem_scale:new e.bN(t),u_dem_tl_prev:new e.bL(t),u_dem_scale_prev:new e.bN(t),u_dem_size:new e.bN(t),u_dem_lerp:new e.bN(t),u_exaggeration:new e.bN(t),u_depth:new e.bO(t),u_depth_size_inv:new e.bL(t),u_meter_to_dem:new e.bN(t),u_label_plane_matrix_inv:new e.bK(t)}))(t)),n.includes(\"GLOBE\")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.bM(t),u_tile_tr_up:new e.bM(t),u_tile_br_up:new e.bM(t),u_tile_bl_up:new e.bM(t),u_tile_up_scale:new e.bN(t)}))(t)),n.includes(\"FOG\")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.bK(t),u_fog_range:new e.bL(t),u_fog_color:new e.bP(t),u_fog_horizon_blend:new e.bN(t),u_fog_vertical_limit:new e.bL(t),u_fog_temporal_offset:new e.bN(t),u_frustum_tl:new e.bM(t),u_frustum_tr:new e.bM(t),u_frustum_br:new e.bM(t),u_frustum_bl:new e.bM(t),u_globe_pos:new e.bM(t),u_globe_radius:new e.bN(t),u_globe_transition:new e.bN(t),u_is_globe:new e.bO(t),u_viewport:new e.bL(t)}))(t)),n.includes(\"RENDER_CUTOFF\")&&(this.cutoffUniforms=(t=>({u_cutoff_params:new e.bP(t)}))(t)),n.includes(\"LIGHTING_3D_MODE\")&&(this.lightsUniforms=(t=>({u_lighting_ambient_color:new e.bM(t),u_lighting_directional_dir:new e.bM(t),u_lighting_directional_color:new e.bM(t),u_ground_radiance:new e.bM(t)}))(t)),n.includes(\"RENDER_SHADOWS\")&&(this.shadowUniforms=(t=>({u_light_matrix_0:new e.bK(t),u_light_matrix_1:new e.bK(t),u_fade_range:new e.bL(t),u_shadow_normal_offset:new e.bM(t),u_shadow_intensity:new e.bN(t),u_shadow_texel_size:new e.bN(t),u_shadow_map_resolution:new e.bN(t),u_shadow_direction:new e.bM(t),u_shadow_bias:new e.bM(t),u_shadowmap_0:new e.bO(t),u_shadowmap_1:new e.bO(t)}))(t));}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setCutoffUniformValues(e,t){if(!this.cutoffUniforms)return;const i=this.cutoffUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setLightsUniformValues(e,t){if(!this.lightsUniforms)return;const i=this.lightsUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setShadowUniformValues(e,t){if(this.failedToCreate||!this.shadowUniforms)return;const i=this.shadowUniforms;e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}_drawDebugWireframe(t,i,o,r,s,n,a,l,c,h){const u=t.options.wireframe;if(!1===u.terrain&&!1===u.layers2D&&!1===u.layers3D)return;const d=t.context;if(!(()=>!(!u.terrain||\"terrainRaster\"!==this.name&&\"globeRaster\"!==this.name)||!(!u.layers2D||t._terrain&&t._terrain.renderingToTexture||!xr.includes(this.name))||!(!u.layers3D||!yr.includes(this.name)))())return;const _=d.gl,p=t.wireframeDebugCache.getLinesFromTrianglesBuffer(t.frameCounter,s,d);if(!p)return;const f=[...this.fixedDefines];f.push(\"DEBUG_WIREFRAME\");const m=t.getOrCreateProgram(this.name,{config:this.configuration,defines:f});d.program.set(m.program);const g=(e,t,i)=>{if(t[e]&&i[e])for(const o in t[e])i[e][o]&&i[e][o].set(i.program,o,t[e][o].current);};c&&c.setUniforms(m.program,d,m.binderUniforms,a,{zoom:l}),g(\"fixedUniforms\",this,m),g(\"terrainUniforms\",this,m),g(\"globeUniforms\",this,m),g(\"fogUniforms\",this,m),g(\"lightsUniforms\",this,m),g(\"shadowUniforms\",this,m),p.bind(),d.setColorMode(new Mt([_.ONE,_.ONE_MINUS_SRC_ALPHA,_.ZERO,_.ONE],e.ax.transparent,[!0,!0,!0,!1])),d.setDepthMode(new Lt(i.func===_.LESS?_.LEQUAL:i.func,Lt.ReadOnly,i.range)),d.setStencilMode(Rt.disabled);const v=3*n.primitiveLength*2,x=3*n.primitiveOffset*2*2;h&&h>1?_.drawElementsInstanced(_.LINES,v,_.UNSIGNED_SHORT,x,h):_.drawElements(_.LINES,v,_.UNSIGNED_SHORT,x),s.bind(),d.program.set(this.program),d.setDepthMode(i),d.setStencilMode(o),d.setColorMode(r);}draw(e,t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m){const g=e.context,v=g.gl;if(this.failedToCreate)return;g.program.set(this.program),g.setDepthMode(i),g.setStencilMode(o),g.setColorMode(r),g.setCullFace(s);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,n[e]);_&&_.setUniforms(this.program,g,this.binderUniforms,u,{zoom:d});const x={[v.POINTS]:1,[v.LINES]:2,[v.TRIANGLES]:3,[v.LINE_STRIP]:1}[t],y=m&&m.length>0;if(y){for(const e of m)v.bindBufferBase(v.TRANSFORM_FEEDBACK_BUFFER,e.targetIndex,e.buffer.buffer);v.beginTransformFeedback(t);}const b=f&&f>0?1:void 0;for(const s of h.get()){const n=s.vaos||(s.vaos={});(n[a]||(n[a]=new Qo)).bind(g,this,l,_?_.getPaintVertexBuffers():[],c,s.vertexOffset,p||[],b),f&&f>1?v.drawElementsInstanced(t,s.primitiveLength*x,v.UNSIGNED_SHORT,s.primitiveOffset*x*2,f):c?v.drawElements(t,s.primitiveLength*x,v.UNSIGNED_SHORT,s.primitiveOffset*x*2):v.drawArrays(t,s.vertexOffset,s.vertexLength),t===v.TRIANGLES&&c&&this._drawDebugWireframe(e,i,o,r,c,s,u,d,_,f);}y&&v.endTransformFeedback();}}function wr(t,i){const o=Math.pow(2,i.tileID.overscaledZ),r=i.tileSize*Math.pow(2,t.transform.tileZoom)/o,s=r*(i.tileID.canonical.x+i.tileID.wrap*o),n=r*i.tileID.canonical.y;return {u_image:0,u_texsize:i.imageAtlasTexture?i.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/e.a3(i,1,t.transform.tileZoom),u_pixel_coord_upper:[s>>16,n>>16],u_pixel_coord_lower:[65535&s,65535&n]}}const Tr=e.a6.create(),Er=(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m)=>{const g=i.style.light,v=g.properties.get(\"position\"),x=[v.x,v.y,v.z],y=e.co.create();\"viewport\"===g.properties.get(\"anchor\")&&(e.co.fromRotation(y,-i.transform.angle),e.N.transformMat3(x,x,y));const b=g.properties.get(\"color\"),w=i.transform,T={u_matrix:t,u_lightpos:x,u_lightintensity:g.properties.get(\"intensity\"),u_lightcolor:[b.r,b.g,b.b],u_vertical_gradient:+o,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Tr,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:s,u_edge_radius:n,u_flood_light_color:d,u_vertical_scale:_,u_flood_light_intensity:p,u_ground_shadow_factor:f,u_emissive_strength:m};return \"globe\"===w.projection.name&&(T.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],T.u_zoom_transition=c,T.u_inv_rot_matrix=u,T.u_merc_center=h,T.u_up_dir=w.projection.upVector(new e.bs(0,0,0),h[0]*e.V,h[1]*e.V),T.u_height_lift=l),T},Sr=(e,t,i)=>({u_matrix:e,u_edge_radius:t,u_vertical_scale:i}),Cr=(t,i,o,r,s,n,a,l,c,h,u,d,_,p)=>{const f=Er(t,i,o,r,s,n,a,c,h,u,d,_,p,1,[0,0,0],0),m={u_height_factor:-Math.pow(2,a.overscaledZ)/l.tileSize/8};return e.e(f,wr(i,l),m)},Ir=(e,t)=>({u_matrix:e,u_emissive_strength:t}),Dr=(t,i,o,r)=>e.e(Ir(t,i),wr(o,r)),Lr=(e,t,i)=>({u_matrix:e,u_world:i,u_emissive_strength:t}),Ar=(t,i,o,r,s)=>e.e(Dr(t,i,o,r),{u_world:s}),Rr=(t,i,o,r)=>{const s=e.V/o.tileSize;return {u_matrix:t,u_camera_to_center_distance:i.getCameraToCenterDistance(r),u_extrude_scale:[i.pixelsToGLUnits[0]/s,i.pixelsToGLUnits[1]/s]}},Pr=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),Mr=e.a6.create(),zr=(t,i,o,r,s,n,a)=>{const l=t.transform,c=\"globe\"===l.projection.name,h=c?e.cp(l.zoom,i.canonical)*l._pixelsPerMercatorPixel:e.a3(o,1,n),u={u_matrix:i.projMatrix,u_extrude_scale:h,u_intensity:a,u_inv_rot_matrix:Mr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){u.u_inv_rot_matrix=r,u.u_merc_center=s,u.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],u.u_zoom_transition=e.S(l.zoom);const t=s[0]*e.V,o=s[1]*e.V;u.u_up_dir=l.projection.upVector(new e.bs(0,0,0),t,o);}return u};function Or(e,[t,i,o,r],[s,n]){if(s===n)return [0,0,0,0];const a=255*(e-1)/(e*(n-s));return [t*a,i*a,o*a,r*a]}function Fr(e,t,[i,o]){return i===o?0:.5/e+(t-i)*(e-1)/(e*(o-i))}const Br=(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g,v,x,y,b)=>{return {u_matrix:t,u_normalize_matrix:i,u_globe_matrix:o,u_merc_matrix:r,u_grid_matrix:s,u_tl_parent:n,u_scale_parent:h,u_fade_t:u.mix,u_opacity:u.opacity*d.paint.get(\"raster-opacity\"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get(\"raster-brightness-min\"),u_brightness_high:d.paint.get(\"raster-brightness-max\"),u_saturation_factor:(T=d.paint.get(\"raster-saturation\"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(w=d.paint.get(\"raster-contrast\"),w>0?1/(1-w):1+w),u_spin_weights:kr(d.paint.get(\"raster-hue-rotate\")),u_perspective_transform:_,u_raster_elevation:p,u_zoom_transition:a,u_merc_center:l,u_cutoff_params:c,u_colorization_mix:Or(e.cq,m,v),u_colorization_offset:Fr(e.cq,g,v),u_color_ramp:f,u_texture_offset:[y/(x+2*y),x/(x+2*y)],u_texture_res:[x+2*y,x+2*y],u_emissive_strength:b};var w,T;};function kr(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const Nr=(e,t,i,o,r,s,n,a,l,c,h,u)=>({u_matrix:e,u_normalize_matrix:t,u_globe_matrix:i,u_merc_matrix:o,u_grid_matrix:r,u_tl_parent:s,u_scale_parent:c,u_fade_t:h.mix,u_opacity:h.opacity,u_image0:0,u_image1:1,u_raster_elevation:u,u_zoom_transition:n,u_merc_center:a,u_cutoff_params:l}),Ur=(e,t,i,o,r,s,n,a)=>({u_tile_offset:e,u_velocity:t,u_color_ramp:o,u_velocity_res:i,u_max_speed:r,u_texture_offset:s,u_data_scale:n,u_data_offset:a}),Gr=(e,t,i,o,r,s,n,a)=>({u_velocity:e,u_velocity_res:t,u_max_speed:i,u_speed_factor:o,u_lifetime_delta:r,u_rand_seed:Math.random(),u_texture_offset:s,u_data_scale:n,u_data_offset:a}),jr=e.a6.create(),Vr=(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g,v)=>{const x=s.transform,y={u_is_size_zoom_constant:+(\"constant\"===t||\"source\"===t),u_is_size_feature_constant:+(\"constant\"===t||\"camera\"===t),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:x.getCameraToCenterDistance(m),u_rotate_symbol:+o,u_aspect_ratio:x.width/x.height,u_fade_change:s.options.fadeDuration?s.symbolFadeChange:1,u_matrix:n,u_label_plane_matrix:a,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:h,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:jr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:jr,u_up_vector:[0,-1,0],u_icon_transition:v||0,u_icon_saturation:g};return \"globe\"===m.name&&(y.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],y.u_zoom_transition=d,y.u_inv_rot_matrix=p,y.u_merc_center=_,y.u_camera_forward=x._camera.forward(),y.u_ecef_origin=e.cr(x.globeMatrix,u.toUnwrapped()),y.u_tile_matrix=Float32Array.from(x.globeMatrix),y.u_up_vector=f),y},Zr=(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g)=>e.e(Vr(t,i,o,r,s,n,a,l,c,h,d,_,p,f,m,g,1),{u_gamma_scale:r?s.transform.getCameraToCenterDistance(g)*Math.cos(s.terrain?0:s.transform._pitch):1,u_device_pixel_ratio:e.f.devicePixelRatio,u_is_halo:+u,undefined:void 0}),Hr=(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m)=>e.e(Zr(t,i,o,r,s,n,a,l,!0,c,!0,u,d,_,p,f,m),{u_texsize_icon:h,u_texture_icon:1}),Wr=(e,t,i,o)=>({u_matrix:e,u_emissive_strength:t,u_opacity:i,u_color:o}),qr=(t,i,o,r,s,n,a)=>e.e(function(t,i,o,r){const s=o.imageManager.getPattern(t.toString(),i),{width:n,height:a}=o.imageManager.getPixelSize(i),l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,o.transform.tileZoom)/l,h=c*(r.tileID.canonical.x+r.tileID.wrap*l),u=c*r.tileID.canonical.y;return {u_image:0,u_pattern_tl:s.tl,u_pattern_br:s.br,u_texsize:[n,a],u_pattern_size:s.displaySize,u_tile_units_to_pixels:1/e.a3(r,1,o.transform.tileZoom),u_pixel_coord_upper:[h>>16,u>>16],u_pixel_coord_lower:[65535&h,65535&u]}}(s,n,r,a),{u_matrix:t,u_emissive_strength:i,u_opacity:o}),$r=(t,i,o,r,s,n,a,l,c,h,u,d,_=[0,0,0],p)=>{const f=r.style.light,m=f.properties.get(\"position\"),g=[-m.x,-m.y,m.z],v=e.co.create();\"viewport\"===f.properties.get(\"anchor\")&&(e.co.fromRotation(v,-r.transform.angle),e.N.transformMat3(g,g,v));const x=\"MASK\"===h.alphaMode,y=f.properties.get(\"color\"),b=d.paint.get(\"model-ambient-occlusion-intensity\"),w=d.paint.get(\"model-color\").constantOr(e.ax.white),T=d.paint.get(\"model-color-mix-intensity\").constantOr(0);return {u_matrix:t,u_lighting_matrix:i,u_normal_matrix:o,u_lightpos:g,u_lightintensity:f.properties.get(\"intensity\"),u_lightcolor:[y.r,y.g,y.b],u_camera_pos:_,u_opacity:s,u_baseTextureIsAlpha:0,u_alphaMask:+x,u_alphaCutoff:h.alphaCutoff,u_baseColorFactor:[n.r,n.g,n.b,n.a],u_emissiveFactor:[a[0],a[1],a[2],1],u_metallicFactor:l,u_roughnessFactor:c,u_baseColorTexture:go.BaseColor,u_metallicRoughnessTexture:go.MetallicRoughness,u_normalTexture:go.Normal,u_occlusionTexture:go.Occlusion,u_emissionTexture:go.Emission,u_color_mix:[w.r,w.g,w.b,T],u_aoIntensity:b,u_emissive_strength:u,u_occlusionTextureTransform:p||[0,0,0,0]}},Xr=new Float32Array(16),Kr=(e,t=Xr,i=Xr)=>({u_matrix:e,u_instance:t,u_node_matrix:i}),Yr={fillExtrusion:t=>({u_matrix:new e.bK(t),u_lightpos:new e.bM(t),u_lightintensity:new e.bN(t),u_lightcolor:new e.bM(t),u_vertical_gradient:new e.bN(t),u_opacity:new e.bN(t),u_edge_radius:new e.bN(t),u_ao:new e.bL(t),u_tile_id:new e.bM(t),u_zoom_transition:new e.bN(t),u_inv_rot_matrix:new e.bK(t),u_merc_center:new e.bL(t),u_up_dir:new e.bM(t),u_height_lift:new e.bN(t),u_flood_light_color:new e.bM(t),u_vertical_scale:new e.bN(t),u_flood_light_intensity:new e.bN(t),u_ground_shadow_factor:new e.bM(t),u_emissive_strength:new e.bN(t)}),fillExtrusionDepth:t=>({u_matrix:new e.bK(t),u_edge_radius:new e.bN(t),u_vertical_scale:new e.bN(t)}),fillExtrusionPattern:t=>({u_matrix:new e.bK(t),u_lightpos:new e.bM(t),u_lightintensity:new e.bN(t),u_lightcolor:new e.bM(t),u_vertical_gradient:new e.bN(t),u_height_factor:new e.bN(t),u_edge_radius:new e.bN(t),u_ao:new e.bL(t),u_tile_id:new e.bM(t),u_zoom_transition:new e.bN(t),u_inv_rot_matrix:new e.bK(t),u_merc_center:new e.bL(t),u_up_dir:new e.bM(t),u_height_lift:new e.bN(t),u_image:new e.bO(t),u_texsize:new e.bL(t),u_pixel_coord_upper:new e.bL(t),u_pixel_coord_lower:new e.bL(t),u_tile_units_to_pixels:new e.bN(t),u_opacity:new e.bN(t)}),fillExtrusionGroundEffect:t=>({u_matrix:new e.bK(t),u_opacity:new e.bN(t),u_ao_pass:new e.bN(t),u_meter_to_tile:new e.bN(t),u_ao:new e.bL(t),u_flood_light_intensity:new e.bN(t),u_flood_light_color:new e.bM(t),u_attenuation:new e.bN(t),u_edge_radius:new e.bN(t),u_fb:new e.bO(t),u_fb_size:new e.bN(t)}),fill:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t)}),fillPattern:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t),u_image:new e.bO(t),u_texsize:new e.bL(t),u_pixel_coord_upper:new e.bL(t),u_pixel_coord_lower:new e.bL(t),u_tile_units_to_pixels:new e.bN(t)}),fillOutline:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t),u_world:new e.bL(t)}),fillOutlinePattern:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t),u_world:new e.bL(t),u_image:new e.bO(t),u_texsize:new e.bL(t),u_pixel_coord_upper:new e.bL(t),u_pixel_coord_lower:new e.bL(t),u_tile_units_to_pixels:new e.bN(t)}),circle:e.cs,collisionBox:t=>({u_matrix:new e.bK(t),u_camera_to_center_distance:new e.bN(t),u_extrude_scale:new e.bL(t)}),collisionCircle:t=>({u_matrix:new e.bK(t),u_inv_matrix:new e.bK(t),u_camera_to_center_distance:new e.bN(t),u_viewport_size:new e.bL(t)}),debug:t=>({u_color:new e.ca(t),u_matrix:new e.bK(t),u_overlay:new e.bO(t),u_overlay_scale:new e.bN(t)}),clippingMask:t=>({u_matrix:new e.bK(t)}),heatmap:t=>({u_extrude_scale:new e.bN(t),u_intensity:new e.bN(t),u_matrix:new e.bK(t),u_inv_rot_matrix:new e.bK(t),u_merc_center:new e.bL(t),u_tile_id:new e.bM(t),u_zoom_transition:new e.bN(t),u_up_dir:new e.bM(t)}),heatmapTexture:t=>({u_image:new e.bO(t),u_color_ramp:new e.bO(t),u_opacity:new e.bN(t)}),hillshade:t=>({u_matrix:new e.bK(t),u_image:new e.bO(t),u_latrange:new e.bL(t),u_light:new e.bL(t),u_shadow:new e.ca(t),u_highlight:new e.ca(t),u_emissive_strength:new e.bN(t),u_accent:new e.ca(t)}),hillshadePrepare:t=>({u_matrix:new e.bK(t),u_image:new e.bO(t),u_dimension:new e.bL(t),u_zoom:new e.bN(t)}),line:e.ct,linePattern:e.cu,raster:t=>({u_matrix:new e.bK(t),u_normalize_matrix:new e.bK(t),u_globe_matrix:new e.bK(t),u_merc_matrix:new e.bK(t),u_grid_matrix:new e.cb(t),u_tl_parent:new e.bL(t),u_scale_parent:new e.bN(t),u_fade_t:new e.bN(t),u_opacity:new e.bN(t),u_image0:new e.bO(t),u_image1:new e.bO(t),u_brightness_low:new e.bN(t),u_brightness_high:new e.bN(t),u_saturation_factor:new e.bN(t),u_contrast_factor:new e.bN(t),u_spin_weights:new e.bM(t),u_perspective_transform:new e.bL(t),u_raster_elevation:new e.bN(t),u_zoom_transition:new e.bN(t),u_merc_center:new e.bL(t),u_cutoff_params:new e.bP(t),u_colorization_mix:new e.bP(t),u_colorization_offset:new e.bN(t),u_color_ramp:new e.bO(t),u_texture_offset:new e.bL(t),u_texture_res:new e.bL(t),u_emissive_strength:new e.bN(t)}),rasterParticle:t=>({u_matrix:new e.bK(t),u_normalize_matrix:new e.bK(t),u_globe_matrix:new e.bK(t),u_merc_matrix:new e.bK(t),u_grid_matrix:new e.cb(t),u_tl_parent:new e.bL(t),u_scale_parent:new e.bN(t),u_fade_t:new e.bN(t),u_opacity:new e.bN(t),u_image0:new e.bO(t),u_image1:new e.bO(t),u_raster_elevation:new e.bN(t),u_zoom_transition:new e.bN(t),u_merc_center:new e.bL(t),u_cutoff_params:new e.bP(t)}),rasterParticleTexture:t=>({u_texture:new e.bO(t),u_opacity:new e.bN(t)}),rasterParticleDraw:t=>({u_tile_offset:new e.bL(t),u_velocity:new e.bO(t),u_color_ramp:new e.bO(t),u_velocity_res:new e.bL(t),u_max_speed:new e.bN(t),u_texture_offset:new e.bL(t),u_data_scale:new e.bP(t),u_data_offset:new e.bN(t)}),rasterParticleUpdate:t=>({u_velocity:new e.bO(t),u_velocity_res:new e.bL(t),u_max_speed:new e.bN(t),u_speed_factor:new e.bN(t),u_lifetime_delta:new e.bN(t),u_rand_seed:new e.bN(t),u_texture_offset:new e.bL(t),u_data_scale:new e.bP(t),u_data_offset:new e.bN(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.bO(t),u_is_size_feature_constant:new e.bO(t),u_size_t:new e.bN(t),u_size:new e.bN(t),u_camera_to_center_distance:new e.bN(t),u_rotate_symbol:new e.bO(t),u_aspect_ratio:new e.bN(t),u_fade_change:new e.bN(t),u_matrix:new e.bK(t),u_label_plane_matrix:new e.bK(t),u_coord_matrix:new e.bK(t),u_is_text:new e.bO(t),u_pitch_with_map:new e.bO(t),u_texsize:new e.bL(t),u_tile_id:new e.bM(t),u_zoom_transition:new e.bN(t),u_inv_rot_matrix:new e.bK(t),u_merc_center:new e.bL(t),u_camera_forward:new e.bM(t),u_tile_matrix:new e.bK(t),u_up_vector:new e.bM(t),u_ecef_origin:new e.bM(t),u_texture:new e.bO(t),u_icon_transition:new e.bN(t),u_icon_saturation:new e.bN(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.bO(t),u_is_size_feature_constant:new e.bO(t),u_size_t:new e.bN(t),u_size:new e.bN(t),u_camera_to_center_distance:new e.bN(t),u_rotate_symbol:new e.bO(t),u_aspect_ratio:new e.bN(t),u_fade_change:new e.bN(t),u_matrix:new e.bK(t),u_label_plane_matrix:new e.bK(t),u_coord_matrix:new e.bK(t),u_is_text:new e.bO(t),u_pitch_with_map:new e.bO(t),u_texsize:new e.bL(t),u_texture:new e.bO(t),u_gamma_scale:new e.bN(t),u_device_pixel_ratio:new e.bN(t),u_tile_id:new e.bM(t),u_zoom_transition:new e.bN(t),u_inv_rot_matrix:new e.bK(t),u_merc_center:new e.bL(t),u_camera_forward:new e.bM(t),u_tile_matrix:new e.bK(t),u_up_vector:new e.bM(t),u_ecef_origin:new e.bM(t),u_is_halo:new e.bO(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.bO(t),u_is_size_feature_constant:new e.bO(t),u_size_t:new e.bN(t),u_size:new e.bN(t),u_camera_to_center_distance:new e.bN(t),u_rotate_symbol:new e.bO(t),u_aspect_ratio:new e.bN(t),u_fade_change:new e.bN(t),u_matrix:new e.bK(t),u_label_plane_matrix:new e.bK(t),u_coord_matrix:new e.bK(t),u_is_text:new e.bO(t),u_pitch_with_map:new e.bO(t),u_texsize:new e.bL(t),u_texsize_icon:new e.bL(t),u_texture:new e.bO(t),u_texture_icon:new e.bO(t),u_gamma_scale:new e.bN(t),u_device_pixel_ratio:new e.bN(t),u_is_halo:new e.bO(t)}),background:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t),u_opacity:new e.bN(t),u_color:new e.ca(t)}),backgroundPattern:t=>({u_matrix:new e.bK(t),u_emissive_strength:new e.bN(t),u_opacity:new e.bN(t),u_image:new e.bO(t),u_pattern_tl:new e.bL(t),u_pattern_br:new e.bL(t),u_texsize:new e.bL(t),u_pattern_size:new e.bL(t),u_pixel_coord_upper:new e.bL(t),u_pixel_coord_lower:new e.bL(t),u_tile_units_to_pixels:new e.bN(t)}),terrainRaster:rr,terrainDepth:rr,skybox:t=>({u_matrix:new e.bK(t),u_sun_direction:new e.bM(t),u_cubemap:new e.bO(t),u_opacity:new e.bN(t),u_temporal_offset:new e.bN(t)}),skyboxGradient:t=>({u_matrix:new e.bK(t),u_color_ramp:new e.bO(t),u_center_direction:new e.bM(t),u_radius:new e.bN(t),u_opacity:new e.bN(t),u_temporal_offset:new e.bN(t)}),skyboxCapture:t=>({u_matrix_3f:new e.cb(t),u_sun_direction:new e.bM(t),u_sun_intensity:new e.bN(t),u_color_tint_r:new e.bP(t),u_color_tint_m:new e.bP(t),u_luminance:new e.bN(t)}),globeRaster:t=>({u_proj_matrix:new e.bK(t),u_globe_matrix:new e.bK(t),u_normalize_matrix:new e.bK(t),u_merc_matrix:new e.bK(t),u_zoom_transition:new e.bN(t),u_merc_center:new e.bL(t),u_image0:new e.bO(t),u_grid_matrix:new e.cb(t),u_skirt_height:new e.bN(t),u_far_z_cutoff:new e.bN(t),u_frustum_tl:new e.bM(t),u_frustum_tr:new e.bM(t),u_frustum_br:new e.bM(t),u_frustum_bl:new e.bM(t),u_globe_pos:new e.bM(t),u_globe_radius:new e.bN(t),u_viewport:new e.bL(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.bM(t),u_frustum_tr:new e.bM(t),u_frustum_br:new e.bM(t),u_frustum_bl:new e.bM(t),u_horizon:new e.bN(t),u_transition:new e.bN(t),u_fadeout_range:new e.bN(t),u_color:new e.bP(t),u_high_color:new e.bP(t),u_space_color:new e.bP(t),u_temporal_offset:new e.bN(t),u_horizon_angle:new e.bN(t)}),model:t=>({u_matrix:new e.bK(t),u_lighting_matrix:new e.bK(t),u_normal_matrix:new e.bK(t),u_lightpos:new e.bM(t),u_lightintensity:new e.bN(t),u_lightcolor:new e.bM(t),u_camera_pos:new e.bM(t),u_opacity:new e.bN(t),u_baseColorFactor:new e.bP(t),u_emissiveFactor:new e.bP(t),u_metallicFactor:new e.bN(t),u_roughnessFactor:new e.bN(t),u_baseTextureIsAlpha:new e.bO(t),u_alphaMask:new e.bO(t),u_alphaCutoff:new e.bN(t),u_baseColorTexture:new e.bO(t),u_metallicRoughnessTexture:new e.bO(t),u_normalTexture:new e.bO(t),u_occlusionTexture:new e.bO(t),u_emissionTexture:new e.bO(t),u_color_mix:new e.bP(t),u_aoIntensity:new e.bN(t),u_emissive_strength:new e.bN(t),u_occlusionTextureTransform:new e.bP(t)}),modelDepth:t=>({u_matrix:new e.bK(t),u_instance:new e.bK(t),u_node_matrix:new e.bK(t)}),groundShadow:t=>({u_matrix:new e.bK(t),u_ground_shadow_factor:new e.bM(t)}),stars:t=>({u_matrix:new e.bK(t),u_up:new e.bM(t),u_right:new e.bM(t),u_intensity_multiplier:new e.bN(t)})};let Jr;function Qr(t,i,o,r,s,n,a){const l=t.context,c=l.gl,h=t.transform,u=t.getOrCreateProgram(\"collisionBox\"),d=[];let _=0,p=0;for(let l=0;l<r.length;l++){const f=r[l],m=i.getTile(f),g=m.getBucket(o);if(!g)continue;const v=Mi(f,g,h);let x=v;0===s[0]&&0===s[1]||(x=t.translatePosMatrix(v,m,s,n));const y=a?g.textCollisionBox:g.iconCollisionBox,b=g.collisionCircleArray;if(b.length>0){const t=e.a6.create(),i=x;e.a6.mul(t,g.placementInvProjMatrix,h.glCoordMatrix),e.a6.mul(t,t,g.placementViewportMatrix),d.push({circleArray:b,circleOffset:p,transform:i,invTransform:t,projection:g.getProjection()}),_+=b.length/4,p=_;}y&&(t.terrain&&t.terrain.setupElevationDraw(m,u),u.draw(t,c.LINES,Lt.disabled,Rt.disabled,t.colorModeForRenderPass(),Ft.disabled,Rr(x,h,m,g.getProjection()),o.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,h.zoom,null,[y.collisionVertexBuffer,y.collisionVertexBufferExt]));}if(!a||!d.length)return;const f=t.getOrCreateProgram(\"collisionCircle\"),m=new e.cv;m.resize(4*_),m._trim();let g=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],s=e.circleArray[i+2],n=e.circleArray[i+3];m.emplace(g++,o,r,s,n,0),m.emplace(g++,o,r,s,n,1),m.emplace(g++,o,r,s,n,2),m.emplace(g++,o,r,s,n,3);}(!Jr||Jr.length<2*_)&&(Jr=function(t){const i=2*t,o=new e.aw;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0;}return o}(_));const v=l.createIndexBuffer(Jr,!0),x=l.createVertexBuffer(m,e.cw.members,!0);for(const i of d){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(y=h).getCameraToCenterDistance(i.projection),u_viewport_size:[y.width,y.height]};f.draw(t,c.TRIANGLES,Lt.disabled,Rt.disabled,t.colorModeForRenderPass(),Ft.disabled,r,o.id,x,v,e.aB.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,h.zoom);}var y;x.destroy(),v.destroy();}const es=e.a6.create();function ts(t){const i=t._camera.getWorldToCamera(t.worldSize,1),o=e.a6.multiply([],i,t.globeMatrix);e.a6.invert(o,o);const r=[0,0,0],s=[0,1,0,0];return e.a7.transformMat4(s,s,o),r[0]=s[0],r[1]=s[1],r[2]=s[2],e.N.normalize(r,r),r}function is({width:t,height:i,anchor:o,textOffset:r,textScale:s},n){const{horizontalAlign:a,verticalAlign:l}=e.bf(o),c=-(a-.5)*t,h=-(l-.5)*i,u=e.bd(o,r);return new e.P((c/s+u[0])*n,(h/s+u[1])*n)}function os(t,i,o,r,s,n,a,l,c,h,u){const d=t.text.placedSymbolArray,_=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,f={},m=t.getProjection(),g=zi(l,m,n),v=n.elevation,x=m.upVectorScale(l.canonical,n.center.lat,n.worldSize).metersToTile;_.clear();for(let p=0;p<d.length;p++){const y=d.get(p),{tileAnchorX:b,tileAnchorY:w,numGlyphs:T}=y,E=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:r[y.crossTileID];if(E){let r=0,d=0,p=0;if(v){const e=v?v.getAtTileOffset(l,b,w):0,[t,i,o]=m.upVector(l.canonical,b,w);r=e*t*x,d=e*i*x,p=e*o*x;}let[S,C,I,D]=vi(y.projectedAnchorX+r,y.projectedAnchorY+d,y.projectedAnchorZ+p,o?g:a);const L=xi(n.getCameraToCenterDistance(m),D);let A=s.evaluateSizeForFeature(t.textSizeData,h,y)*L/e.bc;o&&(A*=t.tilePixelRatio/c);const R=is(E,A);o?(({x:S,y:C,z:I}=m.projectTilePoint(b+R.x,w+R.y,l.canonical)),[S,C,I]=vi(S+r,C+d,I+p,a)):(i&&R._rotate(-n.angle),S+=R.x,C+=R.y,I=0);const P=t.allowVerticalPlacement&&y.placedOrientation===e.b6.vertical?Math.PI/2:0;for(let t=0;t<T;t++)e.b9(_,S,C,I,P);u&&y.associatedIconIndex>=0&&(f[y.associatedIconIndex]={x:S,y:C,z:I,angle:P});}else Di(T,_);}if(u){p.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const o=i.get(t),{numGlyphs:r}=o,s=f[t];if(o.hidden||!s)Di(r,p);else {const{x:t,y:i,z:o,angle:n}=s;for(let s=0;s<r;s++)e.b9(p,t,i,o,n);}}t.icon.dynamicLayoutVertexBuffer.updateData(p);}t.text.dynamicLayoutVertexBuffer.updateData(_);}function rs(t,i,o,r,s,n,a={}){const l=o.paint.get(\"icon-translate\"),c=o.paint.get(\"text-translate\"),h=o.paint.get(\"icon-translate-anchor\"),u=o.paint.get(\"text-translate-anchor\"),d=o.layout.get(\"icon-rotation-alignment\"),_=o.layout.get(\"text-rotation-alignment\"),p=o.layout.get(\"icon-pitch-alignment\"),f=o.layout.get(\"text-pitch-alignment\"),m=o.layout.get(\"icon-keep-upright\"),g=o.layout.get(\"text-keep-upright\"),v=o.paint.get(\"icon-color-saturation\"),x=t.context,y=x.gl,b=t.transform,w=\"map\"===d,T=\"map\"===_,E=\"map\"===p,S=\"map\"===f,C=void 0!==o.layout.get(\"symbol-sort-key\").constantOr(1);let I=!1;const D=t.depthModeForSublayer(0,Lt.ReadOnly),L=[e.a5(b.center.lng),e.ae(b.center.lat)],A=o.layout.get(\"text-variable-anchor\"),R=\"globe\"===b.projection.name,P=[],M=[0,-1,0];for(const s of r){const r=i.getTile(s),n=r.getBucket(o);if(!n)continue;if(\"mercator\"===n.projection.name&&R)continue;if(n.fullyClipped)continue;const d=\"globe\"===n.projection.name,_=d?e.S(b.zoom):0,p=zi(s,n.getProjection(),b),f=b.calculatePixelsToTileUnitsMatrix(r),x=A&&n.hasTextData(),D=n.hasIconTextFit()&&x&&n.hasIconData(),z=n.getProjection().createInversionMatrix(b,s.canonical),O=()=>{const i=w&&\"point\"!==o.layout.get(\"symbol-placement\"),a=[],c=i||D,u=o.paint.get(\"icon-image-cross-fade\").constantOr(0);t.terrainRenderModeElevated()&&E&&a.push(\"PITCH_WITH_MAP_TERRAIN\"),d&&(a.push(\"PROJECTION_GLOBE_VIEW\"),c&&a.push(\"PROJECTED_POS_ON_VIEWPORT\")),u>0&&a.push(\"ICON_TRANSITION\"),n.icon.zOffsetVertexBuffer&&a.push(\"Z_OFFSET\"),v<1&&a.push(\"SATURATION\");const g=n.icon.programConfigurations.get(o.id),x=t.getOrCreateProgram(n.sdfIcons?\"symbolSDF\":\"symbolIcon\",{config:g,defines:a});let T;const S=r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],C=n.iconSizeData,I=e.b5(C,b.zoom),A=E||0!==b.pitch,P=fi(p,r.tileID.canonical,E,w,b,n.getProjection(),f),O=gi(p,r.tileID.canonical,E,w,b,n.getProjection(),f),F=t.translatePosMatrix(O,r,l,h,!0),B=t.translatePosMatrix(p,r,l,h),k=c?es:P,N=w&&!E&&!i;let U=M;!R&&!b.mercatorFromTransition||w||(U=ts(b));const G=d?U:M;T=n.sdfIcons&&!n.iconsInText?Zr(C.kind,I,N,E,t,B,k,F,!1,S,!0,s,_,L,z,G,n.getProjection()):Vr(C.kind,I,N,E,t,B,k,F,!1,S,s,_,L,z,G,n.getProjection(),v,u);const j=r.imageAtlasTexture?r.imageAtlasTexture:null,V=1!==o.layout.get(\"icon-size\").constantOr(0)||n.iconsNeedLinear,Z=n.sdfIcons||t.options.rotating||t.options.zooming||V||A?y.LINEAR:y.NEAREST,H=n.sdfIcons&&0!==o.paint.get(\"icon-halo-width\").constantOr(1),W=t.terrain&&E&&i?e.a6.invert(e.a6.create(),P):es;if(i&&n.icon){const e=b.elevation,i=e?e.getAtTileOffsetFunc(s,b.center.lat,b.worldSize,n.getProjection()):null,o=mi(p,r.tileID.canonical,E,w,b,n.getProjection(),f);bi(n,p,t,!1,o,O,E,m,i,s);}return {program:x,buffers:n.icon,uniformValues:T,atlasTexture:j,atlasTextureIcon:null,atlasInterpolation:Z,atlasInterpolationIcon:null,isSDF:n.sdfIcons,hasHalo:H,tile:r,labelPlaneMatrixInv:W}},F=()=>{const i=T&&\"point\"!==o.layout.get(\"symbol-placement\"),a=[],l=i||A||D;t.terrainRenderModeElevated()&&S&&a.push(\"PITCH_WITH_MAP_TERRAIN\"),d&&(a.push(\"PROJECTION_GLOBE_VIEW\"),l&&a.push(\"PROJECTED_POS_ON_VIEWPORT\")),n.text.zOffsetVertexBuffer&&a.push(\"Z_OFFSET\");const h=n.text.programConfigurations.get(o.id),m=t.getOrCreateProgram(n.iconsInText?\"symbolTextAndIcon\":\"symbolSDF\",{config:h,defines:a});let v,x=[0,0],w=null;const E=n.textSizeData;n.iconsInText&&(x=r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],w=r.imageAtlasTexture?r.imageAtlasTexture:null,v=S||0!==b.pitch||t.options.rotating||t.options.zooming||\"composite\"===E.kind||\"camera\"===E.kind?y.LINEAR:y.NEAREST);const C=r.glyphAtlasTexture?r.glyphAtlasTexture.size:[0,0],I=e.b5(E,b.zoom),P=fi(p,r.tileID.canonical,S,T,b,n.getProjection(),f),O=gi(p,r.tileID.canonical,S,T,b,n.getProjection(),f),F=t.translatePosMatrix(O,r,c,u,!0),B=t.translatePosMatrix(p,r,c,u),k=l?es:P,N=T&&!S&&!i;let U=M;!R&&!b.mercatorFromTransition||T||(U=ts(b));const G=d?U:M;let j;j=n.iconsInText?Hr(E.kind,I,N,S,t,B,k,F,C,x,s,_,L,z,G,n.getProjection()):Zr(E.kind,I,N,S,t,B,k,F,!0,C,!0,s,_,L,z,G,n.getProjection());const V=r.glyphAtlasTexture?r.glyphAtlasTexture:null,Z=y.LINEAR,H=0!==o.paint.get(\"text-halo-width\").constantOr(1),W=t.terrain&&S&&i?e.a6.invert(e.a6.create(),P):es;if(i&&n.text){const e=b.elevation,i=e?e.getAtTileOffsetFunc(s,b.center.lat,b.worldSize,n.getProjection()):null,o=mi(p,r.tileID.canonical,S,T,b,n.getProjection(),f);bi(n,p,t,!0,o,O,S,g,i,s);}return {program:m,buffers:n.text,uniformValues:j,atlasTexture:V,atlasTextureIcon:w,atlasInterpolation:Z,atlasInterpolationIcon:v,isSDF:!0,hasHalo:H,tile:r,labelPlaneMatrixInv:W}},B=n.icon.segments.get().length,k=n.text.segments.get().length,N=B&&!a.onlyText?O():null,U=k&&!a.onlyIcons?F():null,G=o.paint.get(\"icon-opacity\").constantOr(1),j=o.paint.get(\"text-opacity\").constantOr(1);if(C&&n.canOverlap){I=!0;const t=G&&!a.onlyText?n.icon.segments.get():[],i=j&&!a.onlyIcons?n.text.segments.get():[];for(const i of t)P.push({segments:new e.aB([i]),sortKey:i.sortKey,state:N});for(const t of i)P.push({segments:new e.aB([t]),sortKey:t.sortKey,state:U});}else a.onlyText||P.push({segments:G?n.icon.segments:new e.aB([]),sortKey:0,state:N}),a.onlyIcons||P.push({segments:j?n.text.segments:new e.aB([]),sortKey:0,state:U});}I&&P.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of P){const i=e.state;if(i)if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:b.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),x.activeTexture.set(y.TEXTURE0),i.atlasTexture&&i.atlasTexture.bind(i.atlasInterpolation,y.CLAMP_TO_EDGE,!0),i.atlasTextureIcon&&(x.activeTexture.set(y.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,y.CLAMP_TO_EDGE,!0)),t.uploadCommonLightUniforms(t.context,i.program),i.hasHalo){const r=i.uniformValues;r.u_is_halo=1,ss(i.buffers,e.segments,o,t,i.program,D,s,n,r,2),r.u_is_halo=0;}else {if(i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,ss(i.buffers,e.segments,o,t,i.program,D,s,n,r,1)),r.u_is_halo=0;}ss(i.buffers,e.segments,o,t,i.program,D,s,n,i.uniformValues,1);}}}function ss(e,t,i,o,r,s,n,a,l,c){const h=[e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer,e.iconTransitioningVertexBuffer,e.globeExtVertexBuffer,e.zOffsetVertexBuffer];r.draw(o,o.context.gl.TRIANGLES,s,n,a,Ft.disabled,l,i.id,e.layoutVertexBuffer,e.indexBuffer,t,i.paint,o.transform.zoom,e.programConfigurations.get(i.id),h,c);}function ns(e,t,i,o,r,s,n){const a=e.context.gl,l=i.paint.get(\"fill-pattern\"),c=l&&l.constantOr(1);let h,u,d,_,p;n?(u=c&&!i.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\",h=a.LINES):(u=c?\"fillPattern\":\"fill\",h=a.TRIANGLES);for(const f of o){const o=t.getTile(f);if(c&&!o.patternsLoaded())continue;const m=o.getBucket(i);if(!m)continue;e.prepareDrawTile();const g=m.programConfigurations.get(i.id),v=e.isTileAffectedByFog(f),x=e.getOrCreateProgram(u,{config:g,overrideFog:v});c&&(e.context.activeTexture.set(a.TEXTURE0),o.imageAtlasTexture&&o.imageAtlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),g.updatePaintBuffers());const y=l.constantOr(null);if(y&&o.imageAtlas){const e=o.imageAtlas.patternPositions[y.toString()];e&&g.setConstantPatternPositions(e);}const b=e.translatePosMatrix(f.projMatrix,o,i.paint.get(\"fill-translate\"),i.paint.get(\"fill-translate-anchor\")),w=i.paint.get(\"fill-emissive-strength\");if(n){_=m.indexBuffer2,p=m.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[a.drawingBufferWidth,a.drawingBufferHeight];d=\"fillOutlinePattern\"===u&&c?Ar(b,w,e,o,t):Lr(b,w,t);}else _=m.indexBuffer,p=m.segments,d=c?Dr(b,w,e,o):Ir(b,w);e.uploadCommonUniforms(e.context,x,f.toUnwrapped()),x.draw(e,h,r,e.stencilModeForClipping(f),s,Ft.disabled,d,i.id,m.layoutVertexBuffer,_,p,i.paint,e.transform.zoom,g,void 0);}}function as(t,i,o,r,s,n,a,l){o.resetLayerRenderingStats(t);const c=t.context,h=c.gl,u=t.transform,d=o.paint.get(\"fill-extrusion-pattern\"),_=d.constantOr(1),p=o.paint.get(\"fill-extrusion-opacity\"),f=t.style.enable3dLights(),m=o.paint.get(f&&!_?\"fill-extrusion-ambient-occlusion-wall-radius\":\"fill-extrusion-ambient-occlusion-radius\"),g=[o.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),m],v=o.layout.get(\"fill-extrusion-edge-radius\"),x=v>0&&!o.paint.get(\"fill-extrusion-rounded-roof\"),y=x?0:v,b=\"globe\"===u.projection.name?e.cF():0,w=\"globe\"===u.projection.name,T=w?e.S(u.zoom):0,E=[e.a5(u.center.lng),e.ae(u.center.lat)],S=o.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),C=o.paint.get(\"fill-extrusion-flood-light-intensity\"),I=o.paint.get(\"fill-extrusion-vertical-scale\"),D=vo(t,o.paint.get(\"fill-extrusion-cutoff-fade-range\")),L=o.paint.get(\"fill-extrusion-emissive-strength\"),A=[];let R;w&&A.push(\"PROJECTION_GLOBE_VIEW\"),g[0]>0&&A.push(\"FAUX_AO\"),x&&A.push(\"ZERO_ROOF_RADIUS\"),l&&A.push(\"HAS_CENTROID\"),C>0&&A.push(\"FLOOD_LIGHT\"),D.shouldRenderCutoff&&A.push(\"RENDER_CUTOFF\");const P=\"shadow\"===t.renderPass,M=t.shadowRenderer,z=P&&!!M;t.shadowRenderer&&(t.shadowRenderer.useNormalOffset=!0);let O=[0,0,0];if(M){const e=t.style.directionalLight,i=t.style.ambientLight;e&&i&&(O=So(e,i)),R=A.concat([\"SHADOWS_SINGLE_CASCADE\"]);}const F=z?\"fillExtrusionDepth\":_?\"fillExtrusionPattern\":\"fillExtrusion\",B=o.getLayerRenderingStats();for(const e of r){const r=i.getTile(e),f=r.getBucket(o);if(!f||f.projection.name!==u.projection.name)continue;let m=!1;M&&(m=0===M.getMaxCascadeForTile(e.toUnwrapped()));const v=t.isTileAffectedByFog(e),x=f.programConfigurations.get(o.id),z=t.getOrCreateProgram(F,{config:x,defines:m?R:A,overrideFog:v});if(t.terrain&&t.terrain.setupElevationDraw(r,z,{useMeterToDem:!0}),!f.centroidVertexBuffer){const e=z.attributes.a_centroid_pos;void 0!==e&&h.vertexAttrib2f(e,0,0);}!P&&M&&M.setupShadows(r.tileID.toUnwrapped(),z,\"vector-tile\",r.tileID.overscaledZ),_&&(t.context.activeTexture.set(h.TEXTURE0),r.imageAtlasTexture&&r.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePaintBuffers());const k=d.constantOr(null);if(k&&r.imageAtlas){const e=r.imageAtlas.patternPositions[k.toString()];e&&x.setConstantPatternPositions(e);}const N=o.paint.get(\"fill-extrusion-vertical-gradient\");let U;if(P&&M){if(_s(r.tileID,f,t))continue;const e=M.calculateShadowPassMatrixFromTile(r.tileID.toUnwrapped());U=Sr(e,y,I);}else {const i=t.translatePosMatrix(e.expandedProjMatrix,r,o.paint.get(\"fill-extrusion-translate\"),o.paint.get(\"fill-extrusion-translate-anchor\")),s=u.projection.createInversionMatrix(u,e.canonical);U=_?Cr(i,t,N,p,g,y,e,r,b,T,E,s,S,I):Er(i,t,N,p,g,y,e,b,T,E,s,S,I,C,O,L);}t.uploadCommonUniforms(c,z,e.toUnwrapped(),null,D);let G=f.segments;if(\"mercator\"===u.projection.name&&!P&&(G=f.getVisibleSegments(r.tileID,t.terrain,t.transform.getFrustum(0)),!G.get().length))continue;if(B)if(P)for(const e of G.get())B.numRenderedVerticesInShadowPass+=e.primitiveLength;else for(const e of G.get())B.numRenderedVerticesInTransparentPass+=e.primitiveLength;const j=[];(t.terrain||l)&&j.push(f.centroidVertexBuffer),w&&j.push(f.layoutVertexExtBuffer),z.draw(t,c.gl.TRIANGLES,s,n,a,Ft.backCCW,U,o.id,f.layoutVertexBuffer,f.indexBuffer,G,o.paint,t.transform.zoom,x,j);}t.shadowRenderer&&(t.shadowRenderer.useNormalOffset=!1);}function ls(t,i,o,r,s,n,a,l,c,h,u,d,_,p,f,m,g,v,x){const y=t.context,b=y.gl,w=t.transform,T=t.transform.zoom,E=[],S=vo(t,o.paint.get(\"fill-extrusion-cutoff-fade-range\"));\"clear\"===h?(E.push(\"CLEAR_SUBPASS\"),x&&(E.push(\"CLEAR_FROM_TEXTURE\"),y.activeTexture.set(b.TEXTURE0),x.bind(b.LINEAR,b.CLAMP_TO_EDGE))):\"sdf\"===h&&E.push(\"SDF_SUBPASS\"),g&&E.push(\"HAS_CENTROID\"),S.shouldRenderCutoff&&E.push(\"RENDER_CUTOFF\");const C=o.layout.get(\"fill-extrusion-edge-radius\"),I=(e,i,r,h,v)=>{const b=i.programConfigurations.get(o.id),w=t.isTileAffectedByFog(e),I=t.getOrCreateProgram(\"fillExtrusionGroundEffect\",{config:b,defines:E,overrideFog:w}),D=((e,t,i,o,r,s,n,a,l,c,h)=>({u_matrix:t,u_opacity:i,u_ao_pass:o?1:0,u_meter_to_tile:r,u_ao:s,u_flood_light_intensity:n,u_flood_light_color:a,u_attenuation:l,u_edge_radius:c,u_fb:0,u_fb_size:h}))(0,h,u,c,v,[d,_*v],p,f,m,T>=17?0:C*v,x?x.size[0]:0),L=[];g&&L.push(i.hiddenByLandmarkVertexBuffer),t.uploadCommonUniforms(y,I,e.toUnwrapped(),null,S),I.draw(t,y.gl.TRIANGLES,s,n,a,l,D,o.id,i.vertexBuffer,i.indexBuffer,r,o.paint,T,b,L);};for(const s of r){const r=i.getTile(s),n=r.getBucket(o);if(!n||n.projection.name!==w.projection.name||!n.groundEffect||n.groundEffect&&!n.groundEffect.hasData())continue;const a=n.groundEffect,l=1/n.tileToMeter;{const e=t.translatePosMatrix(s.projMatrix,r,o.paint.get(\"fill-extrusion-translate\"),o.paint.get(\"fill-extrusion-translate-anchor\")),i=a.getDefaultSegment();I(s,a,i,e,l);}if(v)for(let n=0;n<4;n++){const a=e.cG[n](s),c=i.getTile(a);if(!c)continue;const h=c.getBucket(o);if(!h||h.projection.name!==w.projection.name||!h.groundEffect||h.groundEffect&&!h.groundEffect.hasData())continue;const u=h.groundEffect;let d,_;0===n?(d=[-e.V,0,0],_=1):1===n?(d=[e.V,0,0],_=0):2===n?(d=[0,-e.V,0],_=3):(d=[0,e.V,0],_=2);const p=u.regionSegments[_];if(!p)continue;const f=new Float32Array(16);e.a6.translate(f,s.projMatrix,d),I(s,u,p,t.translatePosMatrix(f,r,o.paint.get(\"fill-extrusion-translate\"),o.paint.get(\"fill-extrusion-translate-anchor\")),l);}}}function cs(t,i,o,r,s,n,a){0===r.centroidVertexArray.length&&r.createCentroidsBuffer();const l=n?n.findDEMTileFor(o):null;if(!(l&&l.dem||a))return;const c=t=>new e.P(Math.ceil((t+e.cJ)*e.cK),0),h=e=>{const t=i.getSource().minzoom,o=e=>{const t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(s)},r=[0,-1,1];for(const i of r){if(e.overscaledZ+i<t)continue;const r=o(e.calculateScaledKey(e.overscaledZ+i));if(r)return r}},u=[0,0,0],d=(t,i)=>(u[0]=Math.min(t.min.y,i.min.y),u[1]=Math.max(t.max.y,i.max.y),u[2]=e.V-i.min.x>t.max.x?i.min.x-e.V:t.max.x,u),_=(t,i)=>(u[0]=Math.min(t.min.x,i.min.x),u[1]=Math.max(t.max.x,i.max.x),u[2]=e.V-i.min.y>t.max.y?i.min.y-e.V:t.max.y,u),p=[(e,t)=>d(e,t),(e,t)=>d(t,e),(e,t)=>_(e,t),(e,t)=>_(t,e)],f=(t,i,r,s,a,c,h)=>{if(!n)return 0;const u=[[c?r:t,c?t:r,0],[c?r:i,c?i:r,0]],d=h<0?e.V+h:h,_=[c?d:(t+i)/2,c?(t+i)/2:d,0];return 0===r&&h<0||0!==r&&h>0?n.getForTilePoints(a,[_],!0,s):u.push(_),n.getForTilePoints(o,u,!0,l),Math.max(u[0][2],u[1][2],_[2])/n.exaggeration()};for(let t=0;t<4;t++){const i=r.borderFeatureIndices[t];if(0===i.length)continue;const s=e.cG[t](o),l=h(s);if(!(l&&l instanceof e.cH))continue;if(r.borderDoneWithNeighborZ[t]===l.canonical.z)continue;0===l.centroidVertexArray.length&&l.createCentroidsBuffer();const u=n?n.findDEMTileFor(s):null;if(!(u&&u.dem||a))continue;const d=(t<2?1:5)-t,_=l.borderDoneWithNeighborZ[d]!==r.canonical.z,v=l.borderFeatureIndices[d];let x=0;if(r.canonical.z!==l.canonical.z){for(const e of i)r.showCentroid(r.featuresOnBorder[e]);if(_)for(const e of v)l.showCentroid(l.featuresOnBorder[e]);r.borderDoneWithNeighborZ[t]=l.canonical.z,l.borderDoneWithNeighborZ[d]=r.canonical.z;}for(const o of i){const i=r.featuresOnBorder[o],n=r.centroidData[i.centroidDataIndex],h=i.borders[t];let _;for(;x<v.length;){_=l.featuresOnBorder[v[x]];const e=_.borders[d];if(e[1]>h[0]+3||e[0]>h[0]-3)break;l.showCentroid(_),x++;}if(_&&x<v.length){const o=x;let y=0;for(;!(_.borders[d][0]>h[1]-3)&&(y++,++x!==v.length);)_=l.featuresOnBorder[v[x]];if(_=l.featuresOnBorder[v[o]],y>1){const e=_.borders[d];Math.abs(h[0]-e[0])<3&&Math.abs(h[1]-e[1])<3&&(y=1,x=o+1);}else if(0===y){r.showCentroid(i);continue}const b=l.centroidData[_.centroidDataIndex];a&&1===y&&(((m=n).flags|(g=b).flags)&e.cI?(m.flags|=e.cI,g.flags|=e.cI):(m.flags&=~e.cI,g.flags&=~e.cI));const w=i.intersectsCount()>1||_.intersectsCount()>1;if(y>1)x=o,n.centroidXY=b.centroidXY=new e.P(0,0);else if(u&&u.dem&&!w){const i=p[t](n,b),o=t%2?e.V-1:0,r=f(i[0],Math.min(e.V-1,i[1]),o,u,s,t<2,i[2]);n.centroidXY=b.centroidXY=c(r);}else w?n.centroidXY=b.centroidXY=new e.P(0,0):(n.centroidXY=r.encodeBorderCentroid(i),b.centroidXY=l.encodeBorderCentroid(_));r.writeCentroidToBuffer(n),l.writeCentroidToBuffer(b);}else r.showCentroid(i);}r.borderDoneWithNeighborZ[t]=l.canonical.z,l.borderDoneWithNeighborZ[d]=r.canonical.z;}var m,g;(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t);}const hs=[1,0,0],us=[0,1,0],ds=[0,0,1];function _s(t,i,o){const r=o.transform,s=o.shadowRenderer;if(!s)return !0;const n=t.toUnwrapped(),a=r.tileSize*s._cascades[o.currentShadowCascade].scale;let l=i.maxHeight;if(r.elevation){const e=r.elevation.getMinMaxForTile(t);e&&(l+=e.max);}const c=[...s.shadowDirection];c[2]=-c[2];const h=s.computeSimplifiedTileShadowVolume(n,l,a,c);if(!h)return !1;const u=[hs,us,ds,c,[c[0],0,c[2]],[0,c[1],c[2]]],d=\"globe\"===r.projection.name,_=r.scaleZoom(a),p=e.bq.fromInvProjectionMatrix(r.invProjMatrix,r.worldSize,_,!d),f=s.getCurrentCascadeFrustum();return 0===p.intersectsPrecise(h.vertices,h.planes,u)||0===f.intersectsPrecise(h.vertices,h.planes,u)}function ps(t){return [t[0]*e.cL,t[1]*e.cL,t[2]*e.cL,0]}function fs(t,i,o,r,s,n,a,l,c){const h=r.getSource(),u=o.globeSharedBuffers;if(!u)return;let d,_,p;if(i&&(d=r.getTile(i)),h instanceof e.ap?(_=h.texture,p=e.cj(0,0,o.transform)):d&&i&&(_=d.texture,p=e.cj(i.canonical.z,i.canonical.x,o.transform)),!_||!p)return;t||(p=e.a6.scale(e.a6.create(),p,[1,-1,1]));const f=o.context,m=f.gl,g=\"nearest\"===s.paint.get(\"raster-resampling\")?m.NEAREST:m.LINEAR,v=o.colorModeForDrapableLayerRenderPass(n),x=a.defines;x.push(\"GLOBE_POLES\");const y=new Lt(m.LEQUAL,Lt.ReadWrite,o.depthRangeFor3D),b=Float32Array.from(o.transform.expandedFarZProjMatrix),w=Float32Array.from(e.aT(e.ci(new e.bs(0,0,0))));o.terrain&&o.terrain.prepareDrawTile(),f.activeTexture.set(m.TEXTURE0),_.bind(g,m.CLAMP_TO_EDGE),f.activeTexture.set(m.TEXTURE1),_.bind(g,m.CLAMP_TO_EDGE),_.useMipmap&&f.extTextureFilterAnisotropic&&o.transform.pitch>20&&m.texParameterf(m.TEXTURE_2D,f.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,f.extTextureFilterAnisotropicMax);const[T,E,S,C]=i?u.getPoleBuffers(i.canonical.z,!1):u.getPoleBuffers(0,!0),I=s.paint.get(\"raster-elevation\");let D;t?(D=T,o.renderDefaultNorthPole=0!==I):(D=E,o.renderDefaultSouthPole=0!==I);const L=ps(a.mix),A=((e,t,i,o,r,s,n,a,l,c,h,u,d)=>Br(e,t,i,new Float32Array(16),new Float32Array(9),[0,0],o,[0,0],[0,0,0,0],1,{opacity:1,mix:0},s,[0,0]||0,a,2,c,h,u,1,0,d))(b,w,p,e.S(o.transform.zoom),0,s,0,I,0,L,a.offset,a.range,n),R=o.getOrCreateProgram(\"raster\",{defines:x});o.uploadCommonUniforms(f,R,null),R.draw(o,m.TRIANGLES,y,c,v,l,A,s.id,D,S,C);}function ms(e){const t=e._nearZ,i=e.projection.farthestPixelDistance(e),o=i-t,r=.2*e.height,s=t+r;return [t,i,(s-r-t)/o,(s-t)/o]}function gs(e,t,i,o){if(e)return t instanceof ze&&e instanceof $t?t.getTextureDescriptor(e,i,!0):{texture:e.texture,mix:ps(o.mix),offset:o.offset,buffer:0,tileSize:1}}function vs(t,i,o){if(!t)return null;const r=i.getTextureDescriptor(t,o,!0);if(!r)return null;let{texture:s,mix:n,offset:a,tileSize:l,buffer:c,format:h}=r;if(!s||!h)return null;let u=!1;return \"uint32\"===h&&(u=!0,n[3]=0,n=Or(e.cM,n,[0,o.paint.get(\"raster-particle-max-speed\")]),a=Fr(e.cM,a,[0,o.paint.get(\"raster-particle-max-speed\")])),{texture:s,textureOffset:[c/(l+2*c),l/(l+2*c)],tileSize:l,scalarData:u,scale:n,offset:a,defines:[\"RASTER_ARRAY\",{uint8:\"DATA_FORMAT_UINT8\",uint16:\"DATA_FORMAT_UINT16\",uint32:\"DATA_FORMAT_UINT32\"}[h]]}}function xs(e){const t=e._nearZ,i=e.projection.farthestPixelDistance(e),o=i-t,r=.2*e.height,s=t+r;return [t,i,(s-r-t)/o,(s-t)/o]}const ys=new e.ax(1,0,0,1),bs=new e.ax(0,1,0,1),ws=new e.ax(0,0,1,1),Ts=new e.ax(1,0,1,1),Es=new e.ax(0,1,1,1);function Ss(t,i,o,r,s,n,a){const l=t.context,c=t.transform,h=l.gl,u=\"globe\"===c.projection.name,d=u?[\"PROJECTION_GLOBE_VIEW\"]:[];let _=e.a6.clone(o.projMatrix);if(u&&e.S(c.zoom)>0){const t=e.aS(o.canonical,c),i=e.cN(t);_=e.a6.multiply(new Float32Array(16),c.globeMatrix,i),e.a6.multiply(_,c.projMatrix,_);}const p=e.a6.create();p[12]+=2*s/(e.f.devicePixelRatio*c.width),p[13]+=2*n/(e.f.devicePixelRatio*c.height),e.a6.multiply(_,p,_);const f=t.getOrCreateProgram(\"debug\",{defines:d}),m=i.getTileByID(o.key);t.terrain&&t.terrain.setupElevationDraw(m,f);const g=Lt.disabled,v=Rt.disabled,x=t.colorModeForRenderPass(),y=\"$debug\";l.activeTexture.set(h.TEXTURE0),t.emptyTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),u?m._makeGlobeTileDebugBuffers(t.context,c):m._makeDebugTileBoundsBuffers(t.context,c.projection);const b=m._tileDebugBuffer||t.debugBuffer,w=m._tileDebugIndexBuffer||t.debugIndexBuffer,T=m._tileDebugSegments||t.debugSegments;if(f.draw(t,h.LINE_STRIP,g,v,x,Ft.disabled,Pr(_,r),y,b,w,T,null,null,null,[m._globeTileDebugBorderBuffer]),a){const e=m.latestRawTileData,i=Math.floor((e&&e.byteLength||0)/1024);let r=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(r+=` => ${o.overscaledZ}`),r+=` ${m.state}`,r+=` ${i}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext(\"2d\");r.clearRect(0,0,i.width,i.height),r.shadowColor=\"white\",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle=\"white\",r.textBaseline=\"top\",r.font=\"bold 36px Open Sans, sans-serif\",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE);}(t,r);}const E=i.getTile(o).tileSize,S=512/Math.min(E,512)*(o.overscaledZ/c.zoom)*.5,C=m._tileDebugTextBuffer||t.debugBuffer,I=m._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,D=m._tileDebugTextSegments||t.debugSegments;f.draw(t,h.TRIANGLES,g,v,Mt.alphaBlended,Ft.disabled,Pr(_,e.ax.transparent,S),y,C,I,D,null,null,null,[m._globeTileDebugTextBuffer]);}function Cs(e,t,i,o){Ds(e,0,t+i/2,e.transform.width,i,o);}function Is(e,t,i,o){Ds(e,t-i/2,0,i,e.transform.height,o);}function Ds(t,i,o,r,s,n){const a=t.context,l=a.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.f.devicePixelRatio,o*e.f.devicePixelRatio,r*e.f.devicePixelRatio,s*e.f.devicePixelRatio),a.clear({color:n}),l.disable(l.SCISSOR_TEST);}const Ls=e.ay([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),{members:As}=Ls;function Rs(e,t,i,o){e.emplaceBack(t,i,o);}class Ps{constructor(t){this.vertexArray=new e.az,this.indices=new e.aw,Rs(this.vertexArray,-1,-1,1),Rs(this.vertexArray,1,-1,1),Rs(this.vertexArray,-1,1,1),Rs(this.vertexArray,1,1,1),Rs(this.vertexArray,-1,-1,-1),Rs(this.vertexArray,1,-1,-1),Rs(this.vertexArray,-1,1,-1),Rs(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,As),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.aB.simpleSegment(0,0,36,12);}}function Ms(t,i,o,r,s,n){const a=t.context.gl,l=i.paint.get(\"sky-atmosphere-color\"),c=i.paint.get(\"sky-atmosphere-halo-color\"),h=i.paint.get(\"sky-atmosphere-sun-intensity\"),u=((e,t,i,o,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[o.r,o.g,o.b,o.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.co.fromMat4(e.co.create(),r),s,h,l,c);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+n,i.skyboxTexture,0),o.draw(t,a.TRIANGLES,Lt.disabled,Rt.disabled,Mt.unblended,Ft.frontCW,u,\"skyboxCapture\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}const zs=e.ay([{type:\"Float32\",name:\"a_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]);class Os{constructor(t){const i=new e.cO;i.emplaceBack(-1,1,1,0,0),i.emplaceBack(1,1,1,1,0),i.emplaceBack(1,-1,1,1,1),i.emplaceBack(-1,-1,1,0,1);const o=new e.aw;o.emplaceBack(0,1,2),o.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(i,zs.members),this.indexBuffer=t.createIndexBuffer(o),this.segments=e.aB.simpleSegment(0,0,4,2);}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy();}}const Fs=e.ay([{type:\"Float32\",name:\"a_pos_3f\",components:3},{type:\"Float32\",name:\"a_uv\",components:2},{type:\"Float32\",name:\"a_size_scale\",components:1},{type:\"Float32\",name:\"a_fade_opacity\",components:1}]);class Bs{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200;}}class ks{constructor(t){this.colorModeAlphaBlendedWriteRGB=new Mt([1,Pt,1,Pt],e.ax.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new Mt([1,0,1,0],e.ax.transparent,[!1,!1,!1,!0]),this.params=new Bs,this.updateNeeded=!0,t.tp.registerParameter(this.params,[\"Stars\"],\"starsCount\",{min:100,max:16e3,step:1},(()=>{this.updateNeeded=!0;})),t.tp.registerParameter(this.params,[\"Stars\"],\"sizeMultiplier\",{min:.01,max:2,step:.01}),t.tp.registerParameter(this.params,[\"Stars\"],\"sizeRange\",{min:0,max:200,step:1},(()=>{this.updateNeeded=!0;})),t.tp.registerParameter(this.params,[\"Stars\"],\"intensityRange\",{min:0,max:200,step:1},(()=>{this.updateNeeded=!0;}));}update(t){const i=t.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new Os(i);const t=this.params.sizeRange,o=this.params.intensityRange,r=function(t){const i=e.aA(30),o=[];for(let r=0;r<t;++r){const t=2*Math.PI*i(),r=Math.acos(1-2*i())-.5*Math.PI;o.push(e.N.fromValues(Math.cos(r)*Math.cos(t),Math.cos(r)*Math.sin(t),Math.sin(r)));}return o}(this.params.starsCount),s=e.aA(300),n=new e.cP,a=new e.aw;let l=0;for(let i=0;i<r.length;++i){const c=e.N.scale([],r[i],200),h=Math.max(0,1+.01*t*(1*s()-.5)),u=Math.max(0,1+.01*o*(1*s()-.5));n.emplaceBack(c[0],c[1],c[2],-1,-1,h,u),n.emplaceBack(c[0],c[1],c[2],1,-1,h,u),n.emplaceBack(c[0],c[1],c[2],1,1,h,u),n.emplaceBack(c[0],c[1],c[2],-1,1,h,u),a.emplaceBack(l+0,l+1,l+2),a.emplaceBack(l+0,l+2,l+3),l+=4;}this.starsVx=i.createVertexBuffer(n,Fs.members),this.starsIdx=i.createIndexBuffer(a),this.starsSegments=e.aB.simpleSegment(0,0,n.length,a.length);}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy();}drawAtmosphereGlow(t,i){const o=t.context,r=o.gl,s=t.transform,n=new Lt(r.LEQUAL,Lt.ReadOnly,[0,1]),a=e.S(s.zoom),l=i.properties.get(\"color\").toArray01(),c=i.properties.get(\"high-color\").toArray01(),h=i.properties.get(\"space-color\").toArray01PremultipliedAlpha(),u=5e-4,d=e.cQ(i.properties.get(\"horizon-blend\"),0,1,u,.25),_=e.cd(t,o,s)&&d===u?s.worldSize/(2*Math.PI*1.025)-1:s.globeRadius,p=t.frameCounter/1e3%1,f=e.N.length(s.globeCenterInViewSpace),m=Math.sqrt(Math.pow(f,2)-Math.pow(_,2)),g=Math.acos(m/f),v=e=>{const i=\"globe\"===s.projection.name?[\"PROJECTION_GLOBE_VIEW\",\"FOG\"]:[\"FOG\"];e&&i.push(\"ALPHA_PASS\");const u=t.getOrCreateProgram(\"globeAtmosphere\",{defines:i}),_=((e,t,i,o,r,s,n,a,l,c,h,u)=>({u_frustum_tl:e,u_frustum_tr:t,u_frustum_br:i,u_frustum_bl:o,u_horizon:r,u_transition:s,u_fadeout_range:n,u_color:a,u_high_color:l,u_space_color:c,u_temporal_offset:h,u_horizon_angle:u}))(s.frustumCorners.TL,s.frustumCorners.TR,s.frustumCorners.BR,s.frustumCorners.BL,s.frustumCorners.horizon,a,d,l,c,h,p,g);t.uploadCommonUniforms(o,u);const f=this.atmosphereBuffer;f&&u.draw(t,r.TRIANGLES,n,Rt.disabled,e?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Ft.backCW,_,e?\"atmosphere_glow_alpha\":\"atmosphere_glow\",f.vertexBuffer,f.indexBuffer,f.segments);};v(!1),v(!0);}drawStars(t,i){const o=e.aa(i.properties.get(\"star-intensity\"),0,1);if(0===o)return;const r=t.context,s=r.gl,n=t.transform,a=t.getOrCreateProgram(\"stars\"),l=e.bi.identity([]);e.bi.rotateX(l,l,-n._pitch),e.bi.rotateZ(l,l,-n.angle),e.bi.rotateX(l,l,e.bj(n._center.lat)),e.bi.rotateY(l,l,-e.bj(n._center.lng));const c=e.a6.fromQuat(new Float32Array(16),l),h=e.a6.multiply([],n.starsProjMatrix,c),u=e.co.fromMat4([],c),d=e.co.invert([],u),_=[0,1,0];e.N.transformMat3(_,_,d),e.N.scale(_,_,this.params.sizeMultiplier);const p=[1,0,0];e.N.transformMat3(p,p,d),e.N.scale(p,p,this.params.sizeMultiplier);const f=(m=_,g=p,v=o,{u_matrix:Float32Array.from(h),u_up:m,u_right:g,u_intensity_multiplier:v});var m,g,v;t.uploadCommonUniforms(r,a),this.starsVx&&this.starsIdx&&a.draw(t,s.TRIANGLES,Lt.disabled,Rt.disabled,this.colorModeAlphaBlendedWriteRGB,Ft.disabled,f,\"atmosphere_stars\",this.starsVx,this.starsIdx,this.starsSegments);}}function Ns(t,i){const o=[...t],r=i.cameraWorldSizeForFog/i.worldSize,s=e.a6.identity([]);return e.a6.scale(s,s,[r,r,1]),e.a6.multiply(o,s,o),e.a6.multiply(o,i.worldToFogMatrix,o),o}function Us(e,t,i,o){const r=i.material,s=o.context,{baseColorTexture:n,metallicRoughnessTexture:a}=r.pbrMetallicRoughness,{normalTexture:l,occlusionTexture:c,emissionTexture:h}=r;function u(t,i,o){if(t&&(e.push(i),s.activeTexture.set(s.gl.TEXTURE0+o),t.gfxTexture)){const{minFilter:e,magFilter:i,wrapS:o,wrapT:r}=t.sampler;t.gfxTexture.bindExtraParam(e,i,o,r);}}u(n,\"HAS_TEXTURE_u_baseColorTexture\",go.BaseColor),u(a,\"HAS_TEXTURE_u_metallicRoughnessTexture\",go.MetallicRoughness),u(l,\"HAS_TEXTURE_u_normalTexture\",go.Normal),u(c,\"HAS_TEXTURE_u_occlusionTexture\",go.Occlusion),u(h,\"HAS_TEXTURE_u_emissionTexture\",go.Emission),i.texcoordBuffer&&(e.push(\"HAS_ATTRIBUTE_a_uv_2f\"),t.push(i.texcoordBuffer)),i.colorBuffer&&(e.push(12===i.colorBuffer.itemSize?\"HAS_ATTRIBUTE_a_color_3f\":\"HAS_ATTRIBUTE_a_color_4f\"),t.push(i.colorBuffer)),i.normalBuffer&&(e.push(\"HAS_ATTRIBUTE_a_normal_3f\"),t.push(i.normalBuffer)),i.pbrBuffer&&(e.push(\"HAS_ATTRIBUTE_a_pbr\"),e.push(\"HAS_ATTRIBUTE_a_heightBasedEmissiveStrength\"),t.push(i.pbrBuffer)),\"OPAQUE\"!==r.alphaMode&&\"MASK\"!==r.alphaMode||e.push(\"UNPREMULT_TEXTURE_IN_SHADER\"),r.defined||e.push(\"DIFFUSE_SHADED\"),e.push(\"USE_STANDARD_DERIVATIVES\");}function Gs(t,i,o,r,s,n){const a=o.paint.get(\"model-opacity\"),l=i.context,c=new Lt(i.context.gl.LEQUAL,Lt.ReadWrite,i.depthRangeFor3D),h=i.transform,u=t.mesh,d=u.material,_=d.pbrMetallicRoughness,p=i.style.fog;let f;f=\"pixels\"===i.transform.projection.zAxisUnit?[...t.nodeModelMatrix]:e.a6.multiply([],r.zScaleMatrix,t.nodeModelMatrix),e.a6.multiply(f,r.negCameraPosMatrix,f);const m=e.a6.invert([],f);e.a6.transpose(m,m);const g=o.paint.get(\"model-emissive-strength\").constantOr(0),v=$r(new Float32Array(t.worldViewProjection),new Float32Array(f),new Float32Array(m),i,a,_.baseColorFactor,d.emissiveFactor,_.metallicFactor,_.roughnessFactor,d,g,o),x={defines:[]},y=[];Us(x.defines,y,u,i);const b=i.shadowRenderer;b&&(b.useNormalOffset=!1);let w=null;if(p){const e=Ns(t.nodeModelMatrix,i.transform);if(w=new Float32Array(e),\"globe\"!==h.projection.name){const t=u.aabb.min,i=u.aabb.max,[o,r]=p.getOpacityForBounds(e,t[0],t[1],i[0],i[1]);x.overrideFog=o>=me||r>=me;}}const T=vo(i,o.paint.get(\"model-cutoff-fade-range\"));T.shouldRenderCutoff&&x.defines.push(\"RENDER_CUTOFF\");const E=i.getOrCreateProgram(\"model\",x);i.uploadCommonUniforms(l,E,null,w,T),\"shadow\"!==i.renderPass&&b&&b.setupShadowsFromMatrix(t.nodeModelMatrix,E),E.draw(i,l.gl.TRIANGLES,c,s,n,u.material.doubleSided?Ft.disabled:Ft.backCCW,v,o.id,u.vertexBuffer,u.indexBuffer,u.segments,o.paint,i.transform.zoom,void 0,y);}function js(t,i,o,r,s,n,a){let l;l=\"globe\"===t.projection.name?e.cS(o,t):[...o],e.a6.multiply(l,l,i.matrix);const c=e.a6.multiply([],r,l);if(i.meshes)for(const t of i.meshes){if(\"BLEND\"!==t.material.alphaMode){a.push({mesh:t,depth:0,modelIndex:s,worldViewProjection:c,nodeModelMatrix:l});continue}const i=e.N.transformMat4([],t.centroid,c);i[2]>0&&n.push({mesh:t,depth:i[2],modelIndex:s,worldViewProjection:c,nodeModelMatrix:l});}if(i.children)for(const e of i.children)js(t,e,o,r,s,n,a);}function Vs(e,t,i,o){const r=i.shadowRenderer;if(!r)return;const s=r.getShadowPassDepthMode(),n=r.getShadowPassColorMode(),a=r.calculateShadowPassMatrixFromMatrix(t),l=Kr(a);i.getOrCreateProgram(\"modelDepth\",{defines:i._shadowMapDebug?[]:[\"DEPTH_TEXTURE\"]}).draw(i,i.context.gl.TRIANGLES,s,Rt.disabled,n,Ft.backCCW,l,o.id,e.vertexBuffer,e.indexBuffer,e.segments,o.paint,i.transform.zoom,void 0,void 0);}function Zs(t,i,o){const r=i.updateZoomBasedPaintProperties(),s=function(t,i,o){let r,s,n,a=t.terrain?t.terrain.exaggeration():0;if(t.terrain&&a>0){const i=t.terrain,s=i.findDEMTileFor(o);s&&s.dem?r=e.cU.create(i,o,s):a=0;}if(0===a&&(i.terrainElevationMin=0,i.terrainElevationMax=0),a===i.validForExaggeration&&(0===a||r&&r._demTile&&r._demTile.tileID===i.validForDEMTile.id&&r._dem._timestamp===i.validForDEMTile.timestamp))return !1;for(const e in i.instancesPerModel){const t=i.instancesPerModel[e];for(let e=0;e<t.instancedDataArray.length;++e){const o=(r?a*r.getElevationAt(0|t.instancedDataArray.float32[16*e],0|t.instancedDataArray.float32[16*e+1],!0,!0):0)+t.instancesEvaluatedElevation[e];t.instancedDataArray.float32[16*e+6]=o,s=s?Math.min(i.terrainElevationMin,o):o,n=n?Math.max(i.terrainElevationMax,o):o;}}return i.terrainElevationMin=s||0,i.terrainElevationMax=n||0,i.validForExaggeration=a,i.validForDEMTile=r&&r._demTile?{id:r._demTile.tileID,timestamp:r._dem._timestamp}:{id:void 0,timestamp:0},!0}(t,i,o);(r||s)&&(i.uploaded=!1,i.upload(t.context));}const Hs={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new e.bS([0,0,0],[e.V,e.V,0])};function Ws(t,i){const o=1<<t.canonical.z,r=i.getFreeCameraOptions().position,s=i.elevation,n=t.canonical.x/o,a=(t.canonical.x+1)/o,l=t.canonical.y/o,c=(t.canonical.y+1)/o;let h=i._centerAltitude;if(s){const e=s.getMinMaxForTile(t);e&&e.max>h&&(h=e.max);}const u=e.aa(r.x,n,a)-r.x,d=e.aa(r.y,l,c)-r.y,_=e.bl(h,i.center.lat)-r.z;return i._zoomFromMercatorZ(Math.sqrt(u*u+d*d+_*_))}function qs(e,t,i,o,r,s,n){const a=e.context,l=\"shadow\"===e.renderPass,c=e.shadowRenderer,h=l&&c?c.getShadowPassDepthMode():new Lt(a.gl.LEQUAL,Lt.ReadWrite,e.depthRangeFor3D),u=e.isTileAffectedByFog(s);if(i.meshes)for(const d of i.meshes){const _=[\"MODEL_POSITION_ON_GPU\"],p=[];let f,m,g;o.instancedDataArray.length>20&&_.push(\"INSTANCED_ARRAYS\");const v=vo(e,t.paint.get(\"model-cutoff-fade-range\"));if(v.shouldRenderCutoff&&_.push(\"RENDER_CUTOFF\"),l&&c)f=e.getOrCreateProgram(\"modelDepth\",{defines:_}),m=Kr(n.shadowTileMatrix,n.shadowTileMatrix,Float32Array.from(i.matrix)),g=c.getShadowPassColorMode();else {Us(_,p,d,e),f=e.getOrCreateProgram(\"model\",{defines:_,overrideFog:u});const o=d.material,l=o.pbrMetallicRoughness,h=t.paint.get(\"model-opacity\"),x=t.paint.get(\"model-emissive-strength\").constantOr(0);m=$r(s.expandedProjMatrix,Float32Array.from(i.matrix),new Float32Array(16),e,h,l.baseColorFactor,o.emissiveFactor,l.metallicFactor,l.roughnessFactor,o,x,t,r),c&&(n.shadowUniformsInitialized?f.setShadowUniformValues(a,c.getShadowUniformValues()):(c.setupShadows(s.toUnwrapped(),f,\"model-tile\",s.overscaledZ),n.shadowUniformsInitialized=!0)),g=v.shouldRenderCutoff||h<1||\"OPAQUE\"!==o.alphaMode?Mt.alphaBlended:Mt.unblended;}e.uploadCommonUniforms(a,f,s.toUnwrapped(),null,v);const x=d.material.doubleSided?Ft.disabled:Ft.backCCW;if(o.instancedDataArray.length>20)p.push(o.instancedDataBuffer),f.draw(e,a.gl.TRIANGLES,h,Rt.disabled,g,x,m,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,p,o.instancedDataArray.length);else {const i=l?\"u_instance\":\"u_normal_matrix\";for(let r=0;r<o.instancedDataArray.length;++r)m[i]=new Float32Array(o.instancedDataArray.arrayBuffer,64*r,16),f.draw(e,a.gl.TRIANGLES,h,Rt.disabled,g,x,m,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,p);}}if(i.children)for(const a of i.children)qs(e,t,a,o,r,s,n);}const $s=[1,-1,1];function Xs(t,i,o,r){if(!o.modelManager)return !0;const s=o.modelManager;if(!o.shadowRenderer)return !0;const n=o.shadowRenderer,a=i.aabb;let l=!0,c=t.maxHeight;if(0===c){let e=0;for(const i in t.instancesPerModel){const t=s.getModel(i,r);t?e=Math.max(e,Math.max(Math.max(t.aabb.max[0],t.aabb.max[1]),t.aabb.max[2])):l=!1;}c=t.maxScale*e*1.41+t.maxVerticalOffset,l&&(t.maxHeight=c);}a.max[2]=c,a.min[2]+=t.terrainElevationMin,a.max[2]+=t.terrainElevationMax,e.N.transformMat4(a.min,a.min,i.tileMatrix),e.N.transformMat4(a.max,a.max,i.tileMatrix);const h=a.intersects(n.getCurrentCascadeFrustum());return 0===o.currentShadowCascade&&(t.isInsideFirstShadowMapFrustum=2===h),0===h}class Ks{}class Ys{constructor(){this._storage=new Map;}getLinesFromTrianglesBuffer(t,i,o){{const e=this._storage.get(i.id);if(e)return e.lastUsedFrameIdx=t,e.buf}const r=o.gl,s=r.getBufferParameter(r.ELEMENT_ARRAY_BUFFER,r.BUFFER_SIZE),n=new ArrayBuffer(s),a=new Int16Array(n);r.getBufferSubData(r.ELEMENT_ARRAY_BUFFER,0,new Int16Array(n));const l=new e.cW;for(let e=0;e<s/2;e+=3){const t=a[e],i=a[e+1],o=a[e+2];l.emplaceBack(t,i),l.emplaceBack(i,o),l.emplaceBack(o,t);}const c=o.bindVertexArrayOES.current,h=new Ks;return h.buf=new je(o,l),h.lastUsedFrameIdx=t,this._storage.set(i.id,h),o.bindVertexArrayOES.set(c),h.buf}update(e){for(const[t,i]of this._storage)e-i.lastUsedFrameIdx>30&&(i.buf.destroy(),this._storage.delete(t));}destroy(){for(const[e,t]of this._storage)t.buf.destroy(),this._storage.delete(e);}}class Js{registerParameter(e,t,i,o,r){}registerButton(e,t,i){}}const Qs={symbol:function(t,i,o,r,s){if(\"translucent\"!==t.renderPass)return;const n=Rt.disabled,a=t.colorModeForRenderPass();o.layout.get(\"text-variable-anchor\")&&function(t,i,o,r,s,n,a){const l=i.transform,c=\"map\"===s,h=\"map\"===n;for(const i of t){const t=r.getTile(i),s=t.getBucket(o);if(!s||!s.text||!s.text.segments.get().length)continue;const n=e.b5(s.textSizeData,l.zoom),u=zi(i,s.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),_=fi(u,t.tileID.canonical,h,c,l,s.getProjection(),d),p=s.hasIconTextFit()&&s.hasIconData();if(n){const o=Math.pow(2,l.zoom-t.tileID.overscaledZ);os(s,c,h,a,e.cx,l,_,i,o,n,p);}}}(r,t,o,i,o.layout.get(\"text-rotation-alignment\"),o.layout.get(\"text-pitch-alignment\"),s);const l=0!==o.paint.get(\"icon-opacity\").constantOr(1),c=0!==o.paint.get(\"text-opacity\").constantOr(1);void 0!==o.layout.get(\"symbol-sort-key\").constantOr(1)&&(l||c)?rs(t,i,o,r,n,a):(l&&rs(t,i,o,r,n,a,{onlyIcons:!0}),c&&rs(t,i,o,r,n,a,{onlyText:!0})),i.map.showCollisionBoxes&&(Qr(t,i,o,r,o.paint.get(\"text-translate\"),o.paint.get(\"text-translate-anchor\"),!0),Qr(t,i,o,r,o.paint.get(\"icon-translate\"),o.paint.get(\"icon-translate-anchor\"),!1));},circle:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const s=o.paint.get(\"circle-opacity\"),n=o.paint.get(\"circle-stroke-width\"),a=o.paint.get(\"circle-stroke-opacity\"),l=void 0!==o.layout.get(\"circle-sort-key\").constantOr(1),c=o.paint.get(\"circle-emissive-strength\");if(0===s.constantOr(1)&&(0===n.constantOr(1)||0===a.constantOr(1)))return;const h=t.context,u=h.gl,d=t.transform,_=t.depthModeForSublayer(0,Lt.ReadOnly),p=Rt.disabled,f=t.colorModeForDrapableLayerRenderPass(c),m=\"globe\"===d.projection.name,g=[e.a5(d.center.lng),e.ae(d.center.lat)],v=[];for(let s=0;s<r.length;s++){const n=r[s],a=i.getTile(n),c=a.getBucket(o);if(!c||c.projection.name!==d.projection.name)continue;const h=c.programConfigurations.get(o.id),u=e.cy(o),_=t.isTileAffectedByFog(n);m&&u.push(\"PROJECTION_GLOBE_VIEW\");const p=t.getOrCreateProgram(\"circle\",{config:h,defines:u,overrideFog:_}),f=c.layoutVertexBuffer,x=c.globeExtVertexBuffer,y=c.indexBuffer,b=d.projection.createInversionMatrix(d,n.canonical),w={programConfiguration:h,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:x,indexBuffer:y,uniformValues:e.cz(t,n,a,b,g,o),tile:a};if(l){const t=c.segments.get();for(const i of t)v.push({segments:new e.aB([i]),sortKey:i.sortKey,state:w});}else v.push({segments:c.segments,sortKey:0,state:w});}l&&v.sort(((e,t)=>e.sortKey-t.sortKey));const x={useDepthForOcclusion:d.depthOcclusionForSymbolsAndCircles};for(const e of v){const{programConfiguration:i,program:r,layoutVertexBuffer:s,globeExtVertexBuffer:n,indexBuffer:a,uniformValues:l,tile:c}=e.state,m=e.segments;t.terrain&&t.terrain.setupElevationDraw(c,r,x),t.uploadCommonUniforms(h,r,c.tileID.toUnwrapped()),r.draw(t,u.TRIANGLES,_,p,f,Ft.disabled,l,o.id,s,a,m,o.paint,d.zoom,i,[n]);}},heatmap:function(t,i,o,r){if(0!==o.paint.get(\"heatmap-opacity\"))if(\"offscreen\"===t.renderPass){const s=t.context,n=s.gl,a=Rt.disabled,l=new Mt([n.ONE,n.ONE,n.ONE,n.ONE],e.ax.transparent,[!0,!0,!0,!0]);!function(e,t,i,o){const r=e.gl,s=t.width*o,n=t.height*o;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,s,n]);let a=i.heatmapFbo;if(!a||a&&(a.width!==s||a.height!==n)){a&&a.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),a=i.heatmapFbo=e.createFramebuffer(s,n,!0,null),function(e,t,i,o,r,s){const n=e.gl;n.texImage2D(n.TEXTURE_2D,0,e.extRenderToTextureHalfFloat?n.RGBA16F:n.RGBA,r,s,0,n.RGBA,e.extRenderToTextureHalfFloat?n.HALF_FLOAT:n.UNSIGNED_BYTE,null),o.colorAttachment.set(i);}(e,0,t,a,s,n);}else r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);}(s,t,o,\"globe\"===t.transform.projection.name?.5:.25),s.clear({color:e.ax.transparent});const c=t.transform,h=\"globe\"===c.projection.name,u=h?[\"PROJECTION_GLOBE_VIEW\"]:[],d=h?Ft.frontCCW:Ft.disabled,_=[e.a5(c.center.lng),e.ae(c.center.lat)];for(let e=0;e<r.length;e++){const p=r[e];if(i.hasRenderableParent(p))continue;const f=i.getTile(p),m=f.getBucket(o);if(!m||m.projection.name!==c.projection.name)continue;const g=t.isTileAffectedByFog(p),v=m.programConfigurations.get(o.id),x=t.getOrCreateProgram(\"heatmap\",{config:v,defines:u,overrideFog:g}),{zoom:y}=t.transform;t.terrain&&t.terrain.setupElevationDraw(f,x),t.uploadCommonUniforms(s,x,p.toUnwrapped());const b=c.projection.createInversionMatrix(c,p.canonical);x.draw(t,n.TRIANGLES,Lt.disabled,a,l,d,zr(t,p,f,b,_,y,o.paint.get(\"heatmap-intensity\")),o.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,o.paint,t.transform.zoom,v,h?[m.globeExtVertexBuffer]:null);}s.viewport.set([0,0,t.width,t.height]);}else \"translucent\"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const o=t.context,r=o.gl,s=i.heatmapFbo;if(!s)return;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1);let n=i.colorRampTexture;n||(n=i.colorRampTexture=new e.T(o,i.colorRamp,r.RGBA)),n.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.getOrCreateProgram(\"heatmapTexture\").draw(t,r.TRIANGLES,Lt.disabled,Rt.disabled,t.colorModeForRenderPass(),Ft.disabled,((e,t,i,o)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get(\"heatmap-opacity\")}))(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom);}(t,o));},line:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const s=o.paint.get(\"line-opacity\"),n=o.paint.get(\"line-width\");if(0===s.constantOr(1)||0===n.constantOr(1))return;const a=o.paint.get(\"line-emissive-strength\"),l=t.depthModeForSublayer(0,Lt.ReadOnly),c=t.colorModeForDrapableLayerRenderPass(a),h=t.terrain&&t.terrain.renderingToTexture?1:e.f.devicePixelRatio,u=o.paint.get(\"line-dasharray\"),d=u.constantOr(1),_=o.layout.get(\"line-cap\"),p=o.paint.get(\"line-pattern\"),f=p.constantOr(1),m=o.paint.get(\"line-pattern\").constantOr(1),g=1!==o.paint.get(\"line-opacity\").constantOr(1);let v=!m&&g;const x=o.paint.get(\"line-gradient\"),y=f?\"linePattern\":\"line\",b=t.context,w=b.gl,T=e.cA(o);t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(v=!1);for(const s of r){const r=i.getTile(s);if(f&&!r.patternsLoaded())continue;const n=r.getBucket(o);if(!n)continue;t.prepareDrawTile();const a=n.programConfigurations.get(o.id),m=t.isTileAffectedByFog(s),g=t.getOrCreateProgram(y,{config:a,defines:T,overrideFog:m}),E=p.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas.patternPositions[E.toString()];e&&a.setConstantPatternPositions(e);}const S=u.constantOr(null),C=_.constantOr(null);if(!f&&S&&C&&r.lineAtlas){const e=r.lineAtlas.getDash(S,C);e&&a.setConstantPatternPositions(e);}let[I,D]=o.paint.get(\"line-trim-offset\");if(\"round\"===C||\"square\"===C){const e=1;I!==D&&(0===I&&(I-=e),1===D&&(D+=e));}const L=t.terrain?s.projMatrix:null,A=f?e.cB(t,r,o,L,h,[I,D]):e.cC(t,r,o,L,n.lineClipsArray.length,h,[I,D]);if(x){const r=n.gradients[o.id];let a=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=s.canonical.z===o?Math.ceil(1<<t.transform.maxZoom-s.canonical.z):1;l=e.aa(e.cD(n.maxLineLength/e.V*1024*r),256,b.maxTextureSize);}r.gradient=e.cE({expression:o.gradientExpression(),evaluationKey:\"lineProgress\",resolution:l,image:r.gradient||void 0,clips:n.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.T(b,r.gradient,w.RGBA),r.version=o.gradientVersion,a=r.texture;}b.activeTexture.set(w.TEXTURE1),a.bind(o.stepInterpolant?w.NEAREST:w.LINEAR,w.CLAMP_TO_EDGE);}d&&(b.activeTexture.set(w.TEXTURE0),r.lineAtlasTexture&&r.lineAtlasTexture.bind(w.LINEAR,w.REPEAT),a.updatePaintBuffers()),f&&(b.activeTexture.set(w.TEXTURE0),r.imageAtlasTexture&&r.imageAtlasTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),a.updatePaintBuffers()),t.uploadCommonUniforms(b,g,s.toUnwrapped());const R=e=>{g.draw(t,w.TRIANGLES,l,e,c,Ft.disabled,A,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,o.paint,t.transform.zoom,a,[n.layoutVertexBuffer2]);};if(v){const e=t.stencilModeForClipping(s).ref;0===e&&t.terrain&&b.clear({stencil:0});const i={func:w.EQUAL,mask:255};A.u_alpha_discard_threshold=.8,R(new Rt(i,e,255,w.KEEP,w.KEEP,w.INVERT)),A.u_alpha_discard_threshold=0,R(new Rt(i,e,255,w.KEEP,w.KEEP,w.KEEP));}else R(t.stencilModeForClipping(s));}v&&(t.resetStencilClippingMasks(),t.terrain&&b.clear({stencil:0}));},fill:function(t,i,o,r){const s=o.paint.get(\"fill-color\"),n=o.paint.get(\"fill-opacity\");if(0===n.constantOr(1))return;const a=o.paint.get(\"fill-emissive-strength\"),l=t.colorModeForDrapableLayerRenderPass(a),c=o.paint.get(\"fill-pattern\"),h=t.opaquePassEnabledForLayer()&&!c.constantOr(1)&&1===s.constantOr(e.ax.transparent).a&&1===n.constantOr(0)?\"opaque\":\"translucent\";if(t.renderPass===h){const e=t.depthModeForSublayer(1,\"opaque\"===t.renderPass?Lt.ReadWrite:Lt.ReadOnly);ns(t,i,o,r,e,l,!1);}if(\"translucent\"===t.renderPass&&o.paint.get(\"fill-antialias\")){const e=t.depthModeForSublayer(o.getPaintProperty(\"fill-outline-color\")?2:0,Lt.ReadOnly);ns(t,i,o,r,e,l,!0);}},\"fill-extrusion\":function(t,i,o,r){const s=o.paint.get(\"fill-extrusion-opacity\"),n=t.context,a=n.gl,l=t.terrain,c=l&&l.renderingToTexture;if(0===s)return;const h=t.conflationActive&&t.layerUsedInConflation(o,i.getSource());if(h&&function(e,t,i,o){for(const r of o){const o=t.getTile(r).getBucket(i);o&&(o.updateReplacement(r,e.replacementSource),o.uploadCentroid(e.context));}}(t,i,o,r),l||h)for(const e of r){const r=i.getTile(e).getBucket(o);r&&cs(t.context,i,e,r,o,l,h);}if(\"shadow\"===t.renderPass&&t.shadowRenderer){const n=t.shadowRenderer;if(l&&s<.65&&o._transitionablePaint._values[\"fill-extrusion-opacity\"].value.expression instanceof e.Z)return;const a=n.getShadowPassDepthMode(),c=n.getShadowPassColorMode();as(t,i,o,r,a,Rt.disabled,c,h);}else if(\"translucent\"===t.renderPass){const u=!o.paint.get(\"fill-extrusion-pattern\").constantOr(1),d=o.paint.get(\"fill-extrusion-color\").constantOr(e.ax.white);if(!c&&0!==d.a){const e=new Lt(t.context.gl.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D);1===s&&u?as(t,i,o,r,e,Rt.disabled,Mt.unblended,h):(as(t,i,o,r,e,Rt.disabled,Mt.disabled,h),as(t,i,o,r,e,t.stencilModeFor3D(),t.colorModeForRenderPass(),h),t.resetStencilClippingMasks());}if(t.style.enable3dLights()&&u&&(!l&&\"globe\"!==t.transform.projection.name||c)){const s=o.paint.get(\"fill-extrusion-opacity\"),u=o.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),d=o.paint.get(\"fill-extrusion-ambient-occlusion-ground-radius\"),_=o.paint.get(\"fill-extrusion-flood-light-intensity\"),p=o.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),f=u>0&&d>0,m=_>0,g=(e,t,i)=>(1-i)*e+i*t,v=n=>{const l=t.depthModeForSublayer(1,Lt.ReadOnly,a.LEQUAL,!0),c=o.paint.get(n?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),f=g(.1,3,c),m=t._showOverdrawInspector;if(!m){const c=new Rt({func:a.ALWAYS,mask:255},255,255,a.KEEP,a.KEEP,a.REPLACE),m=new Mt([a.ONE,a.ONE,a.ONE,a.ONE],e.ax.transparent,[!1,!1,!1,!0],a.MIN);ls(t,i,o,r,l,c,m,Ft.disabled,n,\"sdf\",s,u,d,_,p,f,h,!1);}{const c=m?Rt.disabled:new Rt({func:a.EQUAL,mask:255},255,255,a.KEEP,a.DECR,a.DECR),g=m?t.colorModeForRenderPass():new Mt([a.ONE_MINUS_DST_ALPHA,a.DST_ALPHA,a.ONE,a.ONE],e.ax.transparent,[!0,!0,!0,!0]);ls(t,i,o,r,l,c,g,Ft.disabled,n,\"color\",s,u,d,_,p,f,h,!1);}};if(c){const c=(n,l,c)=>{const f=t.depthModeForSublayer(1,Lt.ReadOnly,a.LEQUAL,!1),m=o.paint.get(n?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),v=g(.1,3,m);{const c=new Mt([a.ONE,a.ONE,a.ONE,a.ONE],e.ax.transparent,[!1,!1,!1,!0]);ls(t,i,o,r,f,Rt.disabled,c,Ft.disabled,n,\"clear\",s,u,d,_,p,v,h,l);}{const c=new Rt({func:a.ALWAYS,mask:255},255,255,a.KEEP,a.KEEP,a.REPLACE),m=new Mt([a.ONE,a.ONE,a.ONE,a.ONE],e.ax.transparent,[!1,!1,!1,!0],a.MIN);ls(t,i,o,r,f,c,m,Ft.disabled,n,\"sdf\",s,u,d,_,p,v,h,l);}{const c=n?a.ZERO:a.ONE_MINUS_DST_ALPHA,m=new Rt({func:a.EQUAL,mask:255},255,255,a.KEEP,a.DECR,a.DECR),g=new Mt([c,a.DST_ALPHA,a.ONE_MINUS_DST_ALPHA,a.ZERO],e.ax.transparent,[!0,!0,!0,!0]);ls(t,i,o,r,f,m,g,Ft.disabled,n,\"color\",s,u,d,_,p,v,h,l);}{const m=new Mt([a.ONE,a.ONE,a.ONE,n?a.ZERO:a.ONE],e.ax.transparent,[!1,!1,!1,!0],n?a.FUNC_ADD:a.MAX);ls(t,i,o,r,f,Rt.disabled,m,Ft.disabled,n,\"clear\",s,u,d,_,p,v,h,l,c);}};if(f||m){let i;if(t.prepareDrawTile(),l){const t=l.drapeBufferSize[0],o=l.drapeBufferSize[1];i=l.framebufferCopyTexture,i&&(!i||i.size[0]===t&&i.size[1]===o)||(i&&i.destroy(),i=l.framebufferCopyTexture=new e.T(n,new e.h({width:t,height:o}),a.RGBA)),i.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,t,o,0);}f&&c(!0,!1,i),m&&c(!1,!0,i);}}else f&&v(!0),m&&v(!1);}}},hillshade:function(e,t,i,o){if(\"offscreen\"!==e.renderPass&&\"translucent\"!==e.renderPass)return;if(e.style.disableElevatedTerrain)return;const r=e.context,s=e.terrain&&e.terrain.renderingToTexture,[n,a]=\"translucent\"!==e.renderPass||s?[{},o]:e.stencilConfigForOverlap(o);for(const o of a){const r=t.getTile(o);if(r.needsHillshadePrepare&&\"offscreen\"===e.renderPass)or(e,r,i);else if(\"translucent\"===e.renderPass){const t=e.depthModeForSublayer(0,Lt.ReadOnly),a=i.paint.get(\"hillshade-emissive-strength\"),l=e.colorModeForDrapableLayerRenderPass(a),c=s&&e.terrain?e.terrain.stencilModeForRTTOverlap(o):n[o.overscaledZ];tr(e,o,r,i,t,c,l);}}r.viewport.set([0,0,e.width,e.height]),e.resetStencilClippingMasks();},raster:function(t,i,o,r,s,n){if(\"translucent\"!==t.renderPass)return;if(0===o.paint.get(\"raster-opacity\"))return;const a=\"globe\"===t.transform.projection.name,l=0!==o.paint.get(\"raster-elevation\"),c=l&&a;if(t.renderElevatedRasterBackface&&!c)return;const h=t.context,u=h.gl,d=i.getSource(),_=function(t,i,o,r){const s=i.paint.get(\"raster-color\"),n=\"raster-array\"===t.type,a=[],l=i.paint.get(\"raster-resampling\"),c=i.paint.get(\"raster-color-mix\");let h=i.paint.get(\"raster-color-range\");const u=[c[0],c[1],c[2],0],d=c[3];let _=\"nearest\"===l?r.NEAREST:r.LINEAR;if(n&&(a.push(\"RASTER_ARRAY\"),s||a.push(\"RASTER_COLOR\"),\"linear\"===l&&a.push(\"RASTER_ARRAY_LINEAR\"),_=r.NEAREST,!h&&t.rasterLayers)){const e=t.rasterLayers.find((({id:e})=>e===i.sourceLayer));e&&e.fields&&e.fields.range&&(h=e.fields.range);}if(h=h||[0,1],s){a.push(\"RASTER_COLOR\"),o.activeTexture.set(r.TEXTURE2),i.updateColorRamp(h);let t=i.colorRampTexture;t||(t=i.colorRampTexture=new e.T(o,i.colorRamp,r.RGBA)),t.bind(r.LINEAR,r.CLAMP_TO_EDGE);}return {mix:u,range:h,offset:d,defines:a,resampling:_}}(d,o,h,u);if(d instanceof e.ap&&!r.length&&!a)return;const p=o.paint.get(\"raster-emissive-strength\"),f=t.colorModeForDrapableLayerRenderPass(p),m=t.terrain&&t.terrain.renderingToTexture,g=!t.options.moving,v=\"nearest\"===o.paint.get(\"raster-resampling\")?u.NEAREST:u.LINEAR;if(d instanceof e.ap&&!r.length&&(d.onNorthPole||d.onSouthPole)){const e=l?t.stencilModeFor3D():Rt.disabled;return void fs(!!d.onNorthPole,null,t,i,o,p,_,Ft.disabled,e)}if(!r.length)return;const[x,y]=d instanceof e.ap||m?[{},r]:t.stencilConfigForOverlap(r),b=y[y.length-1].overscaledZ;c&&_.defines.push(\"PROJECTION_GLOBE_VIEW\"),l&&_.defines.push(\"RENDER_CUTOFF\");const w=(r,s,y)=>{for(const w of r){const r=w.toUnwrapped(),T=i.getTile(w);if(m&&(!T||!T.hasData()))continue;h.activeTexture.set(u.TEXTURE0);const E=gs(T,d,o,_);if(!E||!E.texture)continue;const{texture:S,mix:C,offset:I,tileSize:D,buffer:L}=E;let A,R;m?(A=Lt.disabled,R=w.projMatrix):l?(A=new Lt(u.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D),R=a?Float32Array.from(t.transform.expandedFarZProjMatrix):t.transform.calculateProjMatrix(r,g)):(A=t.depthModeForSublayer(w.overscaledZ-b,1===o.paint.get(\"raster-opacity\")?Lt.ReadWrite:Lt.ReadOnly,u.LESS),R=t.transform.calculateProjMatrix(r,g));const P=t.terrain&&m?t.terrain.stencilModeForRTTOverlap(w):x[w.overscaledZ],M=n?0:o.paint.get(\"raster-fade-duration\");T.registerFadeDuration(M);const z=i.findLoadedParent(w,0),O=_r(T,z,i,t.transform,M);let F,B;t.terrain&&t.terrain.prepareDrawTile(),h.activeTexture.set(u.TEXTURE0),S.bind(v,u.CLAMP_TO_EDGE),h.activeTexture.set(u.TEXTURE1),z?(z.texture&&z.texture.bind(v,u.CLAMP_TO_EDGE),F=Math.pow(2,z.tileID.overscaledZ-T.tileID.overscaledZ),B=[T.tileID.canonical.x*F%1,T.tileID.canonical.y*F%1]):S.bind(v,u.CLAMP_TO_EDGE),S.useMipmap&&h.extTextureFilterAnisotropic&&t.transform.pitch>20&&u.texParameterf(u.TEXTURE_2D,h.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,h.extTextureFilterAnisotropicMax);const k=t.transform;let N;const U=l?ms(k):[0,0,0,0];let G,j,V,Z,H,W=0;if(c&&d instanceof e.ap&&d.coordinates.length>3)G=Float32Array.from(e.aT(e.ci(new e.bs(0,0,0)))),j=Float32Array.from(k.globeMatrix),V=Float32Array.from(e.ce(k)),Z=[e.a5(k.center.lng),e.ae(k.center.lat)],N=d.elevatedGlobePerspectiveTransform,H=d.elevatedGlobeGridMatrix||new Float32Array(9);else if(c){const t=e.cf(w.canonical);W=e.cg(t.getCenter().lat),G=Float32Array.from(e.aT(e.ci(w.canonical))),j=Float32Array.from(k.globeMatrix),V=Float32Array.from(e.ce(k)),Z=[e.a5(k.center.lng),e.ae(k.center.lat)],N=[0,0],H=Float32Array.from(e.ch(w.canonical,t,W,k.worldSize/k._pixelsPerMercatorPixel));}else N=d instanceof e.ap?d.perspectiveTransform:[0,0],G=new Float32Array(16),j=new Float32Array(9),V=new Float32Array(16),Z=[0,0],H=new Float32Array(9);const q=Br(R,G,j,V,H,B||[0,0],e.S(t.transform.zoom),Z,U,F||1,O,o,N,l?o.paint.get(\"raster-elevation\"):0,2,C,I,_.range,D,L,p),$=t.isTileAffectedByFog(w),X=t.getOrCreateProgram(\"raster\",{defines:_.defines,overrideFog:$});if(t.uploadCommonUniforms(h,X,r),d instanceof e.ap){const i=d.elevatedGlobeVertexBuffer,r=d.elevatedGlobeIndexBuffer;if(m||!a)d.boundsBuffer&&d.boundsSegments&&X.draw(t,u.TRIANGLES,A,Rt.disabled,f,Ft.disabled,q,o.id,d.boundsBuffer,t.quadTriangleIndexBuffer,d.boundsSegments);else if(i&&r){const n=k.zoom<=e.bG?d.elevatedGlobeSegments:d.getSegmentsForLongitude(k.center.lng);n&&X.draw(t,u.TRIANGLES,A,Rt.disabled,f,s,q,o.id,i,r,n);}}else if(c){A=new Lt(u.LEQUAL,Lt.ReadOnly,t.depthRangeFor3D);const e=t.globeSharedBuffers;if(e){const[i,r,n]=e.getGridBuffers(W,!1);X.draw(t,u.TRIANGLES,A,y||P,t.colorModeForRenderPass(),s,q,o.id,i,r,n);}}else {const{tileBoundsBuffer:e,tileBoundsIndexBuffer:i,tileBoundsSegments:r}=t.getTileBoundsBuffers(T);X.draw(t,u.TRIANGLES,A,P,f,Ft.disabled,q,o.id,e,i,r);}}if(!(d instanceof e.ap)&&c)for(const e of r){const r=e.canonical.y===(1<<e.canonical.z)-1;0===e.canonical.y&&fs(!0,e,t,i,o,p,_,s,y||Rt.disabled),r&&fs(!1,e,t,i,o,p,_,s===Ft.frontCW?Ft.backCW:Ft.frontCW,y||Rt.disabled);}};c?w(y,t.renderElevatedRasterBackface?Ft.backCW:Ft.frontCW,t.stencilModeFor3D()):w(y,Ft.disabled,void 0),t.resetStencilClippingMasks();},\"raster-particle\":function(t,i,o,r,s,n){\"offscreen\"===t.renderPass&&function(t,i,o,r){if(!r.length)return;const s=t.context,n=s.gl,a=i.getSource();if(!(a instanceof ze))return;const l=[];for(const e of r){const t=i.getTile(e);if(!(t instanceof $t))continue;const r=vs(t,a,o);if(!r)continue;const n=[r.tileSize,r.tileSize];let c=o.tileFramebuffer;c||(c=o.tileFramebuffer=s.createFramebuffer(n[0],n[1],!0,null));let h=t.rasterParticleState;const u=o.paint.get(\"raster-particle-count\");h||(h=t.rasterParticleState=new Nt(s,e,n,u));const d=h.update(o.lastInvalidatedAt);h.numParticles!==u&&h.setNumParticles(e,u);const _=h.targetColorTexture;h.targetColorTexture=h.backgroundColorTexture,h.backgroundColorTexture=_;const p=h.particleVertices0;h.particleVertices0=h.particleVertices1,h.particleVertices1=p,l.push([e,r,h,d]);}if(0===l.length)return;const c=e.f.now(),h=o.previousDrawTimestamp?.001*(c-o.previousDrawTimestamp):.0167;if(o.previousDrawTimestamp=c,o.hasColorMap()){s.activeTexture.set(n.TEXTURE0+2);let t=o.colorRampTexture;t||(t=o.colorRampTexture=new e.T(s,o.colorRamp,n.RGBA)),t.bind(n.LINEAR,n.CLAMP_TO_EDGE);}s.bindFramebuffer.set(o.tileFramebuffer.framebuffer),s.activeTexture.set(n.TEXTURE0),function(t,i,o){const r=t.context,s=r.gl,n=i.tileFramebuffer;r.activeTexture.set(s.TEXTURE0);const a={u_texture:0,u_opacity:1.05*(c=i.paint.get(\"raster-particle-fade-opacity-factor\"))/(c+.05)},l=t.getOrCreateProgram(\"rasterParticleTexture\",{defines:[],overrideFog:!1});var c;for(const c of o){const[,,o,h]=c;n.colorAttachment.set(o.targetColorTexture.texture),r.viewport.set([0,0,n.width,n.height]),r.clear({color:e.ax.transparent}),h&&(o.backgroundColorTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE),l.draw(t,s.TRIANGLES,Lt.disabled,Rt.disabled,Mt.alphaBlended,Ft.disabled,a,i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments));}}(t,o,l),function(t,i,o,r){const s=t.context.gl,n=o.tileFramebuffer,a=\"globe\"===t.transform.projection.name,l=o.paint.get(\"raster-particle-max-speed\");for(const c of r){const[r,h,u]=c;h.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE),n.colorAttachment.set(u.targetColorTexture.texture);const d=t.getOrCreateProgram(\"rasterParticleDraw\",{defines:h.defines,overrideFog:!1}),_=h.scalarData?[]:[0,1,2,3].map((t=>e.cG[t](r)));_.push(r);const p=r.canonical.x,f=r.canonical.y;for(const e of _){const n=i.getTile(a?e.wrapped():e);if(!n)continue;const c=n.rasterParticleState;if(!c)continue;const u=Ur([e.canonical.x+(1<<e.canonical.z)*(e.wrap-r.wrap)-p,e.canonical.y-f],0,h.texture.size,2,l,h.textureOffset,h.scale,h.offset);d.draw(t,s.POINTS,Lt.disabled,Rt.disabled,Mt.alphaBlended,Ft.disabled,u,o.id,c.particleVertices0,void 0,c.particleSegment);}}}(t,i,o,l),function(e,t,i,o){const r=e.context.gl;let s=t.transformFeedbackObject;s||(s=t.transformFeedbackObject=r.createTransformFeedback()),r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,t.transformFeedbackObject);const n=t.paint.get(\"raster-particle-max-speed\"),a=o*t.paint.get(\"raster-particle-speed-factor\")*.3,l=(c=t.paint.get(\"raster-particle-reset-rate-factor\"),Math.pow(c,6));var c;for(const o of i){const[,i,s]=o;i.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE);const c=Gr(0,i.texture.size,n,a,l,i.textureOffset,i.scale,i.offset);e.getOrCreateProgram(\"rasterParticleUpdate\",{defines:i.defines,transformFeedback:{bufferMode:r.SEPARATE_ATTRIBS,shaderVaryings:[\"v_new_particle\"]}}).draw(e,r.POINTS,Lt.disabled,Rt.disabled,Mt.disabled,Ft.disabled,c,t.id,s.particleVertices0,void 0,s.particleSegment,{},void 0,void 0,void 0,void 0,[{buffer:s.particleVertices1,targetIndex:0}]);}r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null);}(t,o,l,h);}(t,i,o,r),\"translucent\"===t.renderPass&&(function(t,i,o,r,s){const n=t.context,a=n.gl,l=!t.options.moving,c=\"globe\"===t.transform.projection.name;if(!r.length)return;const[h,u]=t.stencilConfigForOverlap(r),d=[];c&&d.push(\"PROJECTION_GLOBE_VIEW\");for(const r of u){const s=r.toUnwrapped(),u=i.getTile(r);if(!u.rasterParticleState)continue;const _=u.rasterParticleState,p=100;u.registerFadeDuration(p);const f=i.findLoadedParent(r,0),m=_r(u,f,i,t.transform,p);let g,v;t.terrain&&t.terrain.prepareDrawTile(),n.activeTexture.set(a.TEXTURE0),_.targetColorTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),n.activeTexture.set(a.TEXTURE1),f&&f.rasterParticleState?(f.rasterParticleState.targetColorTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),g=Math.pow(2,f.tileID.overscaledZ-u.tileID.overscaledZ),v=[u.tileID.canonical.x*g%1,u.tileID.canonical.y*g%1]):_.targetColorTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE);const x=c?Float32Array.from(t.transform.expandedFarZProjMatrix):t.transform.calculateProjMatrix(s,l),y=t.transform,b=xs(y),w=e.cf(r.canonical),T=e.cg(w.getCenter().lat);let E,S,C,I,D;c?(E=Float32Array.from(e.aT(e.ci(r.canonical))),S=Float32Array.from(y.globeMatrix),C=Float32Array.from(e.ce(y)),I=[e.a5(y.center.lng),e.ae(y.center.lat)],D=Float32Array.from(e.ch(r.canonical,w,T,y.worldSize/y._pixelsPerMercatorPixel))):(E=new Float32Array(16),S=new Float32Array(9),C=new Float32Array(16),I=[0,0],D=new Float32Array(9));const L=Nr(x,E,S,C,D,v||[0,0],e.S(t.transform.zoom),I,b,g||1,m,250),A=t.isTileAffectedByFog(r),R=t.getOrCreateProgram(\"rasterParticle\",{defines:d,overrideFog:A});if(t.uploadCommonUniforms(n,R,s),c){const e=new Lt(a.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D),i=0,r=t.globeSharedBuffers;if(r){const[s,n,l]=r.getGridBuffers(T,0!==i);R.draw(t,a.TRIANGLES,e,Rt.disabled,Mt.alphaBlended,Ft.backCCW,L,o.id,s,n,l);}}else {const e=t.depthModeForSublayer(0,Lt.ReadOnly),i=h[r.overscaledZ],{tileBoundsBuffer:s,tileBoundsIndexBuffer:n,tileBoundsSegments:l}=t.getTileBoundsBuffers(u);R.draw(t,a.TRIANGLES,e,i,Mt.alphaBlended,Ft.disabled,L,o.id,s,n,l);}}t.resetStencilClippingMasks();}(t,i,o,r),t.style.map.triggerRepaint());},background:function(e,t,i,o){const r=i.paint.get(\"background-color\"),s=i.paint.get(\"background-opacity\"),n=i.paint.get(\"background-emissive-strength\");if(0===s)return;const a=e.context,l=a.gl,c=e.transform,h=c.tileSize,u=i.paint.get(\"background-pattern\");if(e.isPatternMissing(u,i.scope))return;const d=!u&&1===r.a&&1===s&&e.opaquePassEnabledForLayer()?\"opaque\":\"translucent\";if(e.renderPass!==d)return;const _=Rt.disabled,p=e.depthModeForSublayer(0,\"opaque\"===d?Lt.ReadWrite:Lt.ReadOnly),f=e.colorModeForDrapableLayerRenderPass(n),m=u?\"backgroundPattern\":\"background\";let g,v=o;v||(g=e.getBackgroundTiles(),v=Object.values(g).map((e=>e.tileID))),u&&(a.activeTexture.set(l.TEXTURE0),e.imageManager.bind(e.context,i.scope));for(const d of v){const v=e.isTileAffectedByFog(d),x=e.getOrCreateProgram(m,{overrideFog:v}),y=d.toUnwrapped(),b=o?d.projMatrix:e.transform.calculateProjMatrix(y);e.prepareDrawTile();const w=t?t.getTile(d):g?g[d.key]:new Gt(d,h,c.zoom,e),T=u?qr(b,n,s,e,u,i.scope,{tileID:d,tileSize:h}):Wr(b,n,s,r);e.uploadCommonUniforms(a,x,y);const{tileBoundsBuffer:E,tileBoundsIndexBuffer:S,tileBoundsSegments:C}=e.getTileBoundsBuffers(w);x.draw(e,l.TRIANGLES,p,_,f,Ft.disabled,T,i.id,E,S,C);}},sky:function(t,i,o){const r=t._atmosphere?e.S(t.transform.zoom):1,s=o.paint.get(\"sky-opacity\")*r;if(0===s)return;const n=t.context,a=o.paint.get(\"sky-type\"),l=new Lt(n.gl.LEQUAL,Lt.ReadOnly,[0,1]),c=t.frameCounter/1e3%1;\"atmosphere\"===a?\"offscreen\"===t.renderPass?o.needsSkyboxCapture(t)&&(function(t,i,o,r){const s=t.context,n=s.gl;let a=i.skyboxFbo;if(!a){a=i.skyboxFbo=s.createFramebuffer(32,32,!0,null),i.skyboxGeometry=new Ps(s),i.skyboxTexture=s.gl.createTexture(),n.bindTexture(n.TEXTURE_CUBE_MAP,i.skyboxTexture),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,n.LINEAR);for(let e=0;e<6;++e)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,n.RGBA,32,32,0,n.RGBA,n.UNSIGNED_BYTE,null);}s.bindFramebuffer.set(a.framebuffer),s.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.getOrCreateProgram(\"skyboxCapture\"),h=new Float64Array(16);e.a6.identity(h),e.a6.rotateY(h,h,.5*-Math.PI),Ms(t,i,c,h,l,0),e.a6.identity(h),e.a6.rotateY(h,h,.5*Math.PI),Ms(t,i,c,h,l,1),e.a6.identity(h),e.a6.rotateX(h,h,.5*-Math.PI),Ms(t,i,c,h,l,2),e.a6.identity(h),e.a6.rotateX(h,h,.5*Math.PI),Ms(t,i,c,h,l,3),e.a6.identity(h),Ms(t,i,c,h,l,4),e.a6.identity(h),e.a6.rotateY(h,h,Math.PI),Ms(t,i,c,h,l,5),s.viewport.set([0,0,t.width,t.height]);}(t,o),o.markSkyboxValid(t)):\"sky\"===t.renderPass&&function(e,t,i,o,r){const s=e.context,n=s.gl,a=e.transform,l=e.getOrCreateProgram(\"skybox\");s.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_CUBE_MAP,t.skyboxTexture);const c=((e,t,i,o,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:o,u_temporal_offset:r}))(a.skyboxMatrix,t.getCenter(e,!1),0,o,r);e.uploadCommonUniforms(s,l),l.draw(e,n.TRIANGLES,i,Rt.disabled,e.colorModeForRenderPass(),Ft.backCW,c,\"skybox\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}(t,o,l,s,c):\"gradient\"===a&&\"sky\"===t.renderPass&&function(t,i,o,r,s){const n=t.context,a=n.gl,l=t.transform,c=t.getOrCreateProgram(\"skyboxGradient\");i.skyboxGeometry||(i.skyboxGeometry=new Ps(n)),n.activeTexture.set(a.TEXTURE0);let h=i.colorRampTexture;h||(h=i.colorRampTexture=new e.T(n,i.colorRamp,a.RGBA)),h.bind(a.LINEAR,a.CLAMP_TO_EDGE);const u=((t,i,o,r,s)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.bj(o),u_opacity:r,u_temporal_offset:s}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get(\"sky-gradient-radius\"),r,s);t.uploadCommonUniforms(n,c),c.draw(t,a.TRIANGLES,o,Rt.disabled,t.colorModeForRenderPass(),Ft.backCW,u,\"skyboxGradient\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}(t,o,l,s,c);},debug:function(t,i,o,r,s,n){for(let a=0;a<o.length;a++)if(s){const s=1,l=.8,c=new e.ax(r.r*l,r.g*l,r.b*l,1);Ss(t,i,o[a],r,-s,-s,n),Ss(t,i,o[a],r,-s,s,n),Ss(t,i,o[a],r,s,s,n),Ss(t,i,o[a],r,s,-s,n),Ss(t,i,o[a],c,0,0,n);}else Ss(t,i,o[a],r,0,0,n);},custom:function(t,i,o,r){const s=t.context,n=o.implementation;if(!t.transform.projection.unsupportedLayers||!t.transform.projection.unsupportedLayers.includes(\"custom\")||t.terrain&&(t.terrain.renderingToTexture||\"offscreen\"===t.renderPass)&&o.isLayerDraped(i)){if(\"offscreen\"===t.renderPass){const i=n.prerender;if(i){if(t.setCustomLayerDefaults(),s.setColorMode(t.colorModeForRenderPass()),\"globe\"===t.transform.projection.name){const o=t.transform.pointMerc;i.call(n,s.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.S(t.transform.zoom),[o.x,o.y],t.transform.pixelsPerMeterRatio);}else i.call(n,s.gl,t.transform.customLayerMatrix());s.setDirty(),t.setBaseState();}}else if(\"translucent\"===t.renderPass){if(t.terrain&&t.terrain.renderingToTexture){const i=n.renderToTile;if(i){const o=r[0].canonical,a=new e.L(o.x+r[0].wrap*(1<<o.z),o.y,o.z);s.setDepthMode(Lt.disabled),s.setStencilMode(Rt.disabled),s.setColorMode(t.colorModeForRenderPass()),t.setCustomLayerDefaults(),i.call(n,s.gl,a),s.setDirty(),t.setBaseState();}return}t.setCustomLayerDefaults(),s.setColorMode(t.colorModeForRenderPass()),s.setStencilMode(Rt.disabled);const i=\"3d\"===n.renderingMode?new Lt(t.context.gl.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Lt.ReadOnly);if(s.setDepthMode(i),\"globe\"===t.transform.projection.name){const i=t.transform.pointMerc;n.render(s.gl,t.transform.customLayerMatrix(),t.transform.getProjection(),t.transform.globeToMercatorMatrix(),e.S(t.transform.zoom),[i.x,i.y],t.transform.pixelsPerMeterRatio);}else n.render(s.gl,t.transform.customLayerMatrix());s.setDirty(),t.setBaseState(),s.bindFramebuffer.set(null);}}else e.w(\"Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.\");},model:function(t,i,o,r){if(\"opaque\"===t.renderPass)return;const s=o.paint.get(\"model-opacity\");if(0===s)return;const n=o.paint.get(\"model-cast-shadows\");if(\"shadow\"===t.renderPass){if(!n)return;if(t.terrain&&s<.65&&o._transitionablePaint._values[\"model-opacity\"].value.expression instanceof e.Z)return}const a=t.shadowRenderer,l=o.paint.get(\"model-receive-shadows\");a&&(a.useNormalOffset=!0,l||(a.enabled=!1));const c=()=>{a&&(a.useNormalOffset=!0,l||(a.enabled=!0));},h=i.getSource();if(\"light-beam\"===t.renderPass&&\"batched-model\"!==h.type)return;if(\"vector\"===h.type||\"geojson\"===h.type)return function(t,i,o,r){const s=t.transform;if(\"mercator\"!==s.projection.name)return void e.w(`Drawing 3D models for ${s.projection.name} projection is not yet implemented`);const n=s.getFreeCameraOptions().position;if(!t.modelManager)return;const a=t.modelManager;o.modelManager=a;const l=t.shadowRenderer;if(!o._unevaluatedLayout._values.hasOwnProperty(\"model-id\"))return;const c=o._unevaluatedLayout._values[\"model-id\"],h={...o.layout.get(\"model-id\").parameters};for(const u of r){const r=i.getTile(u).getBucket(o);if(!r||r.projection.name!==s.projection.name)continue;const d=Ws(u,s);h.zoom=d;const _=c.possiblyEvaluate(h);if(Zs(t,r,u),Hs.shadowUniformsInitialized=!1,Hs.useSingleShadowCascade=!!l&&0===l.getMaxCascadeForTile(u.toUnwrapped()),\"shadow\"===t.renderPass&&l){if(1===t.currentShadowCascade&&r.isInsideFirstShadowMapFrustum)continue;const i=s.calculatePosMatrix(u.toUnwrapped(),s.worldSize);if(Hs.tileMatrix.set(i),Hs.shadowTileMatrix=Float32Array.from(l.calculateShadowPassMatrixFromMatrix(i)),Hs.aabb.min.fill(0),Hs.aabb.max[0]=Hs.aabb.max[1]=e.V,Hs.aabb.max[2]=0,Xs(r,Hs,t,o.scope))continue}const p=1<<u.canonical.z,f=[((n.x-u.wrap)*p-u.canonical.x)*e.V,(n.y*p-u.canonical.y)*e.V,n.z*p*e.V];for(let e in r.instancesPerModel){const i=r.instancesPerModel[e];i.features.length>0&&(e=_.evaluate(i.features[0].feature,{}));const s=a.getModel(e,o.scope);if(s&&s.uploaded)for(const e of s.nodes)qs(t,o,e,i,f,u,Hs);}}}(t,i,o,r),void c();if(!h.loaded())return;if(\"batched-model\"===h.type)return function(t,i,o,r){o.resetLayerRenderingStats(t);const s=t.context,n=t.transform,a=t.style.fog,l=t.shadowRenderer;if(\"mercator\"!==n.projection.name)return void e.w(`Drawing 3D landmark models for ${n.projection.name} projection is not yet implemented`);const c=t.transform.getFreeCameraOptions().position,h=e.N.scale([],[c.x,c.y,c.z],t.transform.worldSize);e.N.negate(h,h);const u=e.a6.identity([]),d=e.cR(n.center.lat,n.zoom),_=e.a6.fromScaling([],[1,1,1/d]);e.a6.translate(u,u,h);const p=o.paint.get(\"model-opacity\"),f=new Lt(s.gl.LEQUAL,Lt.ReadWrite,t.depthRangeFor3D),m=new Lt(s.gl.LEQUAL,Lt.ReadOnly,t.depthRangeFor3D),g=new e.bS([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),v=\"shadow\"===t.renderPass,x=v&&l?l.getCurrentCascadeFrustum():n.getFrustum(n.scaleZoom(n.worldSize)),y=o.getLayerRenderingStats(),b=function(c,h){for(const d of r){const r=i.getTile(d).getBucket(o);if(!r||!r.uploaded)continue;let b=!1;l&&(b=0===l.getMaxCascadeForTile(d.toUnwrapped()));const w=n.calculatePosMatrix(d.toUnwrapped(),n.worldSize),T=r.modelTraits;for(const i of r.getNodesInfo()){if(i.hiddenByReplacement)continue;if(!i.node.meshes)continue;const r=i.evaluatedScale,E=i.node;let S=0;if(t.terrain&&E.elevation&&(S=E.elevation*t.terrain.exaggeration()),r[0]<=1&&r[1]<=1&&r[2]<=1&&0===(()=>{const t=i.getLocalBounds();return g.min=[...t.min],g.max=[...t.max],g.min[2]+=S,g.max[2]+=S,e.N.transformMat4(g.min,g.min,w),e.N.transformMat4(g.max,g.max,w),g})().intersects(x))continue;const C=\"light-beam\"===t.renderPass,I=[...w];e.a6.translate(I,I,[(E.anchor?E.anchor[0]:0)*(r[0]-1),(E.anchor?E.anchor[1]:0)*(r[1]-1),S]),e.N.exactEquals(r,e.cT)||e.a6.scale(I,I,r),e.a6.multiply(I,I,E.matrix);const D=e.a6.multiply([],_,I);e.a6.multiply(D,u,D);const L=e.a6.invert([],D);e.a6.transpose(L,L),e.a6.scale(L,L,$s);const A=e.a6.multiply([],n.expandedFarZProjMatrix,I),R=T&e.cV.HasMapboxMeshFeatures,P=R?0:i.evaluatedRMEA[0][2];for(let e=0;e<E.meshes.length;++e){const r=E.meshes[e],u=e===E.lightMeshIndex;if(u){if(!C&&!t.terrain&&t.shadowRenderer){t.currentLayer<t.firstLightBeamLayer&&(t.firstLightBeamLayer=t.currentLayer);continue}}else if(C)continue;const _={defines:[]},g=[];if(Us(_.defines,g,r,t),R||_.defines.push(\"DIFFUSE_SHADED\"),b&&_.defines.push(\"SHADOWS_SINGLE_CASCADE\"),y&&(v?y.numRenderedVerticesInShadowPass+=r.vertexArray.length:y.numRenderedVerticesInTransparentPass+=r.vertexArray.length),v){Vs(r,I,t,o);continue}let x=null;if(a){const e=Ns(I,t.transform);if(x=new Float32Array(e),\"globe\"!==n.projection.name){const t=r.aabb.min,i=r.aabb.max,[o,s]=a.getOpacityForBounds(e,t[0],t[1],i[0],i[1]);_.overrideFog=o>=me||s>=me;}}const w=r.material;let T;w.occlusionTexture&&w.occlusionTexture.offsetScale&&(T=w.occlusionTexture.offsetScale,_.defines.push(\"OCCLUSION_TEXTURE_TRANSFORM\")),!v&&l&&(l.useNormalOffset=!!r.normalBuffer);const S=t.getOrCreateProgram(\"model\",_);!v&&l&&l.setupShadowsFromMatrix(I,S,l.useNormalOffset),t.uploadCommonUniforms(s,S,d.toUnwrapped(),x);const M=w.pbrMetallicRoughness;M.metallicFactor=.9,M.roughnessFactor=.5;const z=$r(new Float32Array(A),new Float32Array(D),new Float32Array(L),t,p,M.baseColorFactor,w.emissiveFactor,M.metallicFactor,M.roughnessFactor,w,P,o,[0,0,0],T);S.draw(t,s.gl.TRIANGLES,h&&!u?f:m,Rt.disabled,c?u||p<1||i.hasTranslucentParts?Mt.alphaBlended:Mt.unblended:Mt.disabled,Ft.backCCW,z,o.id,r.vertexBuffer,r.indexBuffer,r.segments,o.paint,t.transform.zoom,void 0,g);}}}};((function(e,t,i,o){const r=e.terrain?e.terrain.exaggeration():0,s=e.transform.zoom;for(const n of o){const o=t.getTile(n).getBucket(i);o&&(e.conflationActive&&o.updateReplacement(n,e.replacementSource),o.evaluateScale(e,i),e.terrain&&r>0&&o.elevationUpdate(e.terrain,r,n,i.source),o.needsReEvaluation(e,s,i)&&o.evaluate(i));}}))(t,i,o,r),1===p?b(!0,!0):(b(!1,!0),b(!0,!1));}(t,i,o,r),void c();const u=h.getModels(),d=[],_=t.transform.getFreeCameraOptions().position,p=e.N.scale([],[_.x,_.y,_.z],t.transform.worldSize);e.N.negate(p,p);const f=[],m=[];let g=0;for(const i of u){const r=o.paint.get(\"model-rotation\").constantOr(null),s=o.paint.get(\"model-scale\").constantOr(null),n=o.paint.get(\"model-translation\").constantOr(null);i.computeModelMatrix(t,r,s,n,!0,!0,!1);const a=e.a6.identity([]),l=e.cR(i.position.lat,t.transform.zoom),c=e.a6.fromScaling([],[1,1,1/l]);e.a6.translate(a,a,p),d.push({zScaleMatrix:c,negCameraPosMatrix:a});for(const e of i.nodes)js(t.transform,e,i.matrix,t.transform.expandedFarZProjMatrix,g,f,m);g++;}if(f.sort(((e,t)=>t.depth-e.depth)),\"shadow\"!==t.renderPass){if(1===s)for(const e of m)Gs(e,t,o,d[e.modelIndex],Rt.disabled,t.colorModeForRenderPass());else {for(const e of m)Gs(e,t,o,d[e.modelIndex],Rt.disabled,Mt.disabled);for(const e of m)Gs(e,t,o,d[e.modelIndex],t.stencilModeFor3D(),t.colorModeForRenderPass());t.resetStencilClippingMasks();}for(const e of f)Gs(e,t,o,d[e.modelIndex],Rt.disabled,t.colorModeForRenderPass());c();}else {for(const e of m)Vs(e.mesh,e.nodeModelMatrix,t,o);for(const e of f)Vs(e.mesh,e.nodeModelMatrix,t,o);c();}}},en={model:function(e,t,i){const o=e.scope,r=t.getSource();if(!r.loaded())return;if(\"vector\"===r.type||\"geojson\"===r.type)return void(i.modelManager&&i.modelManager.upload(i,o));if(\"batched-model\"===r.type)return;const s=r.getModels();for(const e of s)e.upload(i.context);},raster:function(e,t,i){const o=t.getSource();if(!(o instanceof ze&&o.loaded()))return;const r=e.sourceLayer||o.rasterLayerIds&&o.rasterLayerIds[0];if(!r)return;const s=e.paint.get(\"raster-array-band\")||o.getInitialBand(r);if(null==s)return;const n=t.getIds().map((e=>t.getTileByID(e)));for(const e of n)e.updateNeeded(r,s)&&o.prepareTile(e,r,s);},\"raster-particle\":function(e,t,i){const o=t.getSource();if(!(o instanceof ze&&o.loaded()))return;const r=e.sourceLayer||o.rasterLayerIds&&o.rasterLayerIds[0];if(!r)return;const s=e.paint.get(\"raster-particle-array-band\")||o.getInitialBand(r);if(null==s)return;const n=t.getIds().map((e=>t.getTileByID(e)));for(const e of n)e.updateNeeded(r,s)&&o.prepareTile(e,r,s);}};class tn{constructor(t,i,o,r){this.context=new Bt(t,i),this.transform=o,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=r,this._debugParams={showTerrainProxyTiles:!1},r.registerParameter(this._debugParams,[\"Terrain\"],\"showTerrainProxyTiles\",{},(()=>{this.style.map.triggerRepaint();})),this.setup(),this.numSublayers=Kt.maxUnderzooming+Kt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new e.cX,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new wo(this),this._wireframeDebugCache=new Ys,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0;}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new gr(this,e));const o=this._terrain;this.transform.elevation=i?o:null,o.update(e,this.transform,t),this.transform.elevation&&!o.enabled&&(this.transform.elevation=null);}_updateFog(e){const t=e.fog;if(!t||\"globe\"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get(\"horizon-blend\")<.03)return void(this.transform.fogCullDistSq=null);const[i,o]=t.getFovAdjustedRange(this.transform._fov);if(i>o)return void(this.transform.fogCullDistSq=null);const r=i+.78*(o-i);this.transform.fogCullDistSq=r*r;}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(t,i){if(this.width=t*e.f.devicePixelRatio,this.height=i*e.f.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._mergedLayers[e].resize();}setup(){const t=this.context,i=new e.aN;i.emplaceBack(0,0),i.emplaceBack(e.V,0),i.emplaceBack(0,e.V),i.emplaceBack(e.V,e.V),this.tileExtentBuffer=t.createVertexBuffer(i,e.aP.members),this.tileExtentSegments=e.aB.simpleSegment(0,0,4,2);const o=new e.aN;o.emplaceBack(0,0),o.emplaceBack(e.V,0),o.emplaceBack(0,e.V),o.emplaceBack(e.V,e.V),this.debugBuffer=t.createVertexBuffer(o,e.aP.members),this.debugSegments=e.aB.simpleSegment(0,0,4,5);const r=new e.aN;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.aP.members),this.viewportSegments=e.aB.simpleSegment(0,0,4,2);const s=new e.av;s.emplaceBack(0,0,0,0),s.emplaceBack(e.V,0,e.V,0),s.emplaceBack(0,e.V,0,e.V),s.emplaceBack(e.V,e.V,e.V,e.V),this.mercatorBoundsBuffer=t.createVertexBuffer(s,e.aR.members),this.mercatorBoundsSegments=e.aB.simpleSegment(0,0,4,2);const n=new e.aw;n.emplaceBack(0,1,2),n.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(n);const a=new e.aO;for(const e of [0,1,3,2,0])a.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(a),this.emptyTexture=new e.T(t,new e.h({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.a6.create();const l=this.context.gl;this.stencilClearMode=new Rt({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(performance.now());}getMercatorTileBoundsBuffers(){return {tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const e=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram(\"clippingMask\").draw(this,e.TRIANGLES,Lt.disabled,this.stencilClearMode,Mt.disabled,Ft.disabled,dr(this.identityMat),\"$clipping\",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={});}_renderTileClippingMasks(e,t,i){if(!t||this.currentStencilSource===t.id||!e.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=t.id;const o=this.context,r=o.gl;this.nextStencilID+i.length>256&&this.clearStencil(),o.setColorMode(Mt.disabled),o.setDepthMode(Lt.disabled);const s=this.getOrCreateProgram(\"clippingMask\");this._tileClippingMaskIDs={};for(const e of i){const i=t.getTile(e),o=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,{tileBoundsBuffer:n,tileBoundsIndexBuffer:a,tileBoundsSegments:l}=this.getTileBoundsBuffers(i);s.draw(this,r.TRIANGLES,Lt.disabled,new Rt({func:r.ALWAYS,mask:0},o,255,r.KEEP,r.KEEP,r.REPLACE),Mt.disabled,Ft.disabled,dr(e.projMatrix),\"$clipping\",n,a,l);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Rt({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const t=this.context.gl;return new Rt({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,i=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),o=i[i.length-1].overscaledZ,r=i[0].overscaledZ-o+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();const e={};for(let i=0;i<r;i++)e[i+o]=new Rt({func:t.GEQUAL,mask:255},i+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=r,[e,i]}return [{[o]:Rt.disabled},i]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new Mt([t.CONSTANT_COLOR,t.ONE,t.CONSTANT_COLOR,t.ONE],new e.ax(i,i,i,0),[!0,!0,!0,!0])}return \"opaque\"===this.renderPass?Mt.unblended:Mt.alphaBlended}colorModeForDrapableLayerRenderPass(t){const i=this.context.gl;return (()=>this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture)()&&\"translucent\"===this.renderPass?new Mt([i.ONE,i.ONE_MINUS_SRC_ALPHA,i.CONSTANT_ALPHA,i.ONE_MINUS_SRC_ALPHA],new e.ax(0,0,0,void 0===t?0:t),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(e,t,i,o=!1){if(!this.opaquePassEnabledForLayer()&&!o)return Lt.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Lt(i||this.context.gl.LEQUAL,t,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this._wireframeDebugCache.update(this.frameCounter),this.style=t,this.options=i;const o=this.style._mergedLayers,r=this.style.order,s=r.map((e=>o[e])),n=this.style._mergedSourceCaches;this.imageManager=t.imageManager,this.modelManager=t.modelManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.f.now()),this.imageManager.beginFrame();let a=0,l=!1;for(const e in n){const t=n[e];t.used&&(t.prepare(this.context),t.getSource().usedInConflation&&++a);}for(const e of s)e.isHidden(this.transform.zoom)||this.prepareLayer(e);const c={},h={},u={},d={},_={};for(const e in n){const t=n[e];c[e]=t.getVisibleCoordinates(),h[e]=c[e].slice().reverse(),u[e]=t.getVisibleCoordinates(!0).reverse(),d[e]=t.getShadowCasterCoordinates(),_[e]=t.sortCoordinatesByDistance(c[e]);}const p=e=>{const t=this.style.getLayerSourceCache(e);return t&&t.used?t.getSource():null};if(a){const e=[];for(const t of s)this.layerUsedInConflation(t,p(t))&&e.push(t);if(e&&e.length>1){const t=[];for(const i of e){const e=this.style.getLayerSourceCache(i);e&&e.used&&e.getSource().usedInConflation&&t.push({layer:i.fqid,cache:e});}this.replacementSource.setSources(t),l=!0;}}l||this.replacementSource.clear(),this.conflationActive=l,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const e of s){const t=e.cutoffRange();if(this.longestCutoffRange=Math.max(t,this.longestCutoffRange),t>0){const t=p(e);t&&(this.minCutoffZoom=Math.max(t.minzoom,this.minCutoffZoom)),e.minzoom&&(this.minCutoffZoom=Math.max(e.minzoom,this.minCutoffZoom));}}this.opaquePassCutoff=1/0;for(let e=0;e<s.length;e++)if(s[e].is3D()){this.opaquePassCutoff=e;break}const f=this.style&&this.style.fog;f?(this._fogVisible=0!==f.getOpacity(this.transform.pitch),this._fogVisible&&\"globe\"!==this.transform.projection.name&&(this._fogVisible=f.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(u),this.opaquePassCutoff=0);const m=this._shadowRenderer;if(m){m.updateShadowParameters(this.transform,this.style.directionalLight);for(const e in n)for(const t of c[e]){let e={min:0,max:0};this.terrain&&(e=this.terrain.getMinMaxForTile(t)||e),m.addShadowReceiver(t.toUnwrapped(),e.min,e.max);}}if(\"globe\"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.cY(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new ks(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!e.cZ(this.context.gl))return;this.renderPass=\"offscreen\";for(const e of s){const i=t.getLayerSourceCache(e);if(!e.hasOffscreenPass()||e.isHidden(this.transform.zoom))continue;const o=i?h[i.id]:void 0;(\"custom\"===e.type||\"raster\"===e.type||\"raster-particle\"===e.type||e.isSky()||o&&o.length)&&this.renderLayer(this,i,e,o);}this.depthRangeFor3D=[0,1-(s.length+2)*this.numSublayers*this.depthEpsilon];const g=this.terrain;g&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&g.drawDepth(),this._shadowRenderer&&(this.renderPass=\"shadow\",this._shadowRenderer.drawShadowPass(this.style,d)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const v=\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible(),x=(()=>{if(i.showOverdrawInspector)return e.ax.black;if(this.style.fog&&this.transform.projection.supportsFog&&!v){const t=this.style.fog.properties.get(\"color\").toArray01();return new e.ax(...t)}if(this.style.fog&&this.transform.projection.supportsFog&&v){const t=this.style.fog.properties.get(\"space-color\").toArray01();return new e.ax(...t)}return e.ax.transparent})();if(this.context.clear({color:x,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass=\"opaque\",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&v&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){const e=s[this.currentLayer],i=t.getLayerSourceCache(e);if(e.isSky())continue;const o=i?(e.is3D()?_:h)[i.id]:void 0;this._renderTileClippingMasks(e,i,o),this.renderLayer(this,i,e,o);}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&v&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass=\"sky\",(!this._atmosphere||e.S(this.transform.zoom)>0)&&(\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){const e=s[this.currentLayer],i=t.getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?h[i.id]:void 0);}function y(e,t){let i;return t&&(i=(\"symbol\"===e.type?u:e.is3D()?_:h)[t.id]),i}if(this.renderPass=\"translucent\",\"globe\"===this.transform.projection.name){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<r.length;){const e=s[this.currentLayer];if(\"raster\"===e.type){const i=t.getLayerSourceCache(e);this.renderLayer(this,i,e,y(e,i));}++this.currentLayer;}this.renderElevatedRasterBackface=!1;}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let b=0;for(m&&(b=m.getShadowCastingLayerCount());this.currentLayer<r.length;){const e=s[this.currentLayer],i=t.getLayerSourceCache(e);if(e.isSky())++this.currentLayer;else if(g&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=g.renderBatch(this.currentLayer);}else {if(this._renderTileClippingMasks(e,i,i?c[i.id]:void 0),this.renderLayer(this,i,e,y(e,i)),!g&&m&&b>0&&e.hasShadowPass()&&0==--b&&(m.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const e=this.currentLayer;for(this.renderPass=\"light-beam\",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=e;this.currentLayer++){const e=s[this.currentLayer];if(!e.hasLightBeamPass())continue;const i=t.getLayerSourceCache(e);this.renderLayer(this,i,e,i?h[i.id]:void 0);}this.currentLayer=e,this.renderPass=\"translucent\";}++this.currentLayer;}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let i=null;s.forEach((e=>{const o=t.getLayerSourceCache(e);o&&!e.isHidden(this.transform.zoom)&&o.getVisibleCoordinates().length&&(!i||i.getSource().maxzoom<o.getSource().maxzoom)&&(i=o);})),i&&this.options.showTileBoundaries&&Qs.debug(this,i,i.getVisibleCoordinates(),e.ax.red,!1,this.options.showParseStatus);}this.terrain&&this._debugParams.showTerrainProxyTiles&&Qs.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new e.ax(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(e){const t=e.transform.padding;Cs(e,e.transform.height-(t.top||0),3,ys),Cs(e,t.bottom||0,3,bs),Is(e,t.left||0,3,ws),Is(e,e.transform.width-(t.right||0),3,Ts);const i=e.transform.centerPoint;!function(e,t,i,o){Ds(e,t-1,i-10,2,20,o),Ds(e,t-10,i-1,20,2,o);}(e,i.x,e.transform.height-i.y,Es);}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),l||(this.conflationActive=!1);}prepareLayer(e){this.gpuTimingStart(e);const{unsupportedLayers:t}=this.transform.projection,i=!t||!t.includes(e.type);if(en[e.type]&&(i||this.terrain&&\"custom\"===e.type)){const t=this.style.getLayerSourceCache(e);en[e.type](e,t,this);}this.gpuTimingEnd();}renderLayer(e,t,i,o){i.isHidden(this.transform.zoom)||(\"background\"===i.type||\"sky\"===i.type||\"custom\"===i.type||\"model\"===i.type||\"raster\"===i.type||\"raster-particle\"===i.type||o&&o.length)&&(this.id=i.id,this.gpuTimingStart(i),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(i.type)||e.terrain&&\"custom\"===i.type)&&Qs[i.type](e,t,i,o,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd());}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery,i=this.context.gl;let o=this.gpuTimers[e.id];o||(o=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:i.createQuery()}),o.calls++,i.beginQuery(t.TIME_ELAPSED_EXT,o.query);}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=this.context.gl,i=t.createQuery();this.deferredRenderGpuTimeQueries.push(i),t.beginQuery(e.TIME_ELAPSED_EXT,i);}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const o=e[i],r=this.context.extTimerQuery,s=r.getQueryParameter(o.query,this.context.gl.QUERY_RESULT)/1e6;r.deleteQueryEXT(o.query),t[i]=s;}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery,i=this.context.gl;let o=0;for(const r of e)o+=t.getQueryParameter(r,i.QUERY_RESULT)/1e6,t.deleteQueryEXT(r);return o}translatePosMatrix(t,i,o,r,s){if(!o[0]&&!o[1])return t;const n=s?\"map\"===r?this.transform.angle:0:\"viewport\"===r?-this.transform.angle:0;if(n){const e=Math.sin(n),t=Math.cos(n);o=[o[0]*t-o[1]*e,o[0]*e+o[1]*t];}const a=[s?o[0]:e.a3(i,o[0],this.transform.zoom),s?o[1]:e.a3(i,o[1],this.transform.zoom),0],l=new Float32Array(16);return e.a6.translate(l,t,a),l}saveTileTexture(e){const t=e.size[0],i=this._tileTextures[t];i?i.push(e):this._tileTextures[t]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e,t){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString(),t)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}linearFloatFilteringSupported(){return null!=this.context.extTextureFloatLinear}currentGlobalDefines(e,t,i){const o=void 0===i?this.terrain&&this.terrain.renderingToTexture:i,r=this.terrain&&0===this.terrain.exaggeration(),s=[];return this.style&&this.style.enable3dLights()&&(\"globeRaster\"===e||\"terrainRaster\"===e?(s.push(\"LIGHTING_3D_MODE\"),s.push(\"LIGHTING_3D_ALPHA_EMISSIVENESS\")):o||s.push(\"LIGHTING_3D_MODE\")),\"shadow\"===this.renderPass?this._shadowMapDebug||s.push(\"DEPTH_TEXTURE\"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?s.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\",\"NORMAL_OFFSET\"):s.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\")),this.terrainRenderModeElevated()&&(s.push(\"TERRAIN\"),this.linearFloatFilteringSupported()&&s.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),r&&s.push(\"ZERO_EXAGGERATION\")),\"globe\"===this.transform.projection.name&&s.push(\"GLOBE\"),!this._fogVisible||o||void 0!==t&&!t||s.push(\"FOG\",\"FOG_DITHERING\"),o&&s.push(\"RENDER_TO_TEXTURE\"),this._showOverdrawInspector&&s.push(\"OVERDRAW_INSPECTOR\"),s}getOrCreateProgram(e,t){this.cache=this.cache||{};const i=t&&t.defines||[],o=t&&t.config,r=t&&t.transformFeedback,s=this.currentGlobalDefines(e,t&&t.overrideFog,t&&t.overrideRtt).concat(i),n=br.cacheKey(Ko[e],e,s,o);return this.cache[n]||(this.cache[n]=new br(this.context,e,Ko[e],o,Yr[e],s,r)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement(\"canvas\"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy();}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile();}uploadCommonLightUniforms(t,i){if(this.style.enable3dLights()){const o=this.style.directionalLight,r=this.style.ambientLight;if(o&&r){const s=((t,i)=>{const o=t.properties.get(\"direction\"),r=t.properties.get(\"color\").toArray01(),s=t.properties.get(\"intensity\"),n=i.properties.get(\"color\").toArray01(),a=i.properties.get(\"intensity\"),l=[o.x,o.y,o.z],c=e.cn(n,a),h=e.cn(r,s);return {u_lighting_ambient_color:c,u_lighting_directional_dir:l,u_lighting_directional_color:h,u_ground_radiance:vr(l,h,c)}})(o,r);i.setLightsUniformValues(t,s);}}}uploadCommonUniforms(t,i,o,r,s){if(this.uploadCommonLightUniforms(t,i),this.terrain&&this.terrain.renderingToTexture)return;const n=this.style.fog;if(n){const s=n.getOpacity(this.transform.pitch),a=((t,i,o,r,s,n,a,l,c,h,u,d)=>{const _=t.transform,p=i.properties.get(\"color\").toArray01();p[3]=r;const f=t.frameCounter/1e3%1,[m,g]=i.properties.get(\"vertical-range\");return {u_fog_matrix:o?_.calculateFogTileMatrix(o):d||t.identityMat,u_fog_range:i.getFovAdjustedRange(_._fov),u_fog_color:p,u_fog_horizon_blend:i.properties.get(\"horizon-blend\"),u_fog_vertical_limit:[Math.min(m,g),g],u_fog_temporal_offset:f,u_frustum_tl:s,u_frustum_tr:n,u_frustum_br:a,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:h,u_viewport:u,u_globe_transition:e.S(_.zoom),u_is_globe:+(\"globe\"===_.projection.name)}})(this,n,o,s,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.f.devicePixelRatio,this.transform.height*e.f.devicePixelRatio],r);i.setFogUniformValues(t,a);}s&&i.setCutoffUniformValues(t,s.uniformValues);}setTileLoadedFlag(e){this.tileLoaded=e;}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1);}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return {canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return !1;const e=this.style&&this.style.fog;return !!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const e=this._backgroundTiles,t=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const o of i)t[o.key]=e[o.key]||new Gt(o,512,this.transform.tileZoom,this);return t}clearBackgroundTiles(){this._backgroundTiles={};}layerUsedInConflation(e,t){return !(!e.is3D()||e.minzoom&&e.minzoom>this.transform.zoom||\"building\"!==e.sourceLayer&&(!t||\"batched-model\"!==t.type))}isTileAffectedByFog(e){if(!this.style||!this.style.fog)return !1;if(\"globe\"===this.transform.projection.name)return !0;let t=this._cachedTileFogOpacities[e.key];return t||(this._cachedTileFogOpacities[e.key]=t=this.style.fog.getOpacityForTile(e)),t[0]>=me||t[1]>=me}}function on(e,t){let i=!1,o=null;const r=()=>{o=null,i&&(e(),o=setTimeout(r,t),i=!1);};return ()=>(i=!0,o||r(),o)}class rn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.aY([\"_getCurrentHash\",\"_onHashChange\",\"_updateHash\"],this),this._updateHash=on(this._updateHashUnthrottled.bind(this),300);}addTo(e){return this._map=e,window.addEventListener(\"hashchange\",this._onHashChange,!1),e.on(\"moveend\",this._updateHash),this}remove(){return this._map?(this._map.off(\"moveend\",this._updateHash),window.removeEventListener(\"hashchange\",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const e=this._map;if(!e)return \"\";const t=sn(e);if(this._hashName){const e=this._hashName;let i=!1;const o=location.hash.slice(1).split(\"&\").map((o=>{const r=o.split(\"=\")[0];return r===e?(i=!0,`${r}=${t}`):o})).filter((e=>e));return i||o.push(`${e}=${t}`),`#${o.join(\"&\")}`}return `#${t}`}_getCurrentHash(){const e=location.hash.replace(\"#\",\"\");if(this._hashName){let t;return e.split(\"&\").map((e=>e.split(\"=\"))).forEach((e=>{e[0]===this._hashName&&(t=e);})),(t&&t[1]||\"\").split(\"/\")}return e.split(\"/\")}_onHashChange(){const e=this._map;if(!e)return !1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return !1}_updateHashUnthrottled(){history.replaceState(history.state,\"\",location.href.replace(/(#.+)?$/,this.getHashString()));}}function sn(e,t){const i=e.getCenter(),o=Math.round(100*e.getZoom())/100,r=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),s=Math.pow(10,r),n=Math.round(i.lng*s)/s,a=Math.round(i.lat*s)/s,l=e.getBearing(),c=e.getPitch();let h=t?`/${n}/${a}/${o}`:`${o}/${a}/${n}`;return (l||c)&&(h+=\"/\"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const nn={linearity:.3,easing:e.c_(0,0,.3,1)},an=e.e({deceleration:2500,maxSpeed:1400},nn),ln=e.e({deceleration:20,maxSpeed:1400},nn),cn=e.e({deceleration:1e3,maxSpeed:360},nn),hn=e.e({deceleration:1e3,maxSpeed:90},nn);class un{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.f.now(),settings:t});}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.f.now();for(;t.length>0&&i-t[0].time>160;)t.shift();}_onMoveEnd(t){if(this._map._prefersReducedMotion())return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const s=_n(i.pan.mag(),o,e.e({},an,t||{}));r.offset=i.pan.mult(s.amount/i.pan.mag()),r.center=this._map.transform.center,dn(r,s);}if(i.zoom){const e=_n(i.zoom,o,ln);r.zoom=this._map.transform.zoom+e.amount,dn(r,e);}if(i.bearing){const t=_n(i.bearing,o,cn);r.bearing=this._map.transform.bearing+e.aa(t.amount,-179,179),dn(r,t);}if(i.pitch){const e=_n(i.pitch,o,hn);r.pitch=this._map.transform.pitch+e.amount,dn(r,e);}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),r.noMoveStart=!0,r}}function dn(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function _n(t,i,o){const{maxSpeed:r,linearity:s,deceleration:n}=o,a=e.aa(t*s/(i/1e3),-r,r),l=Math.abs(a)/(n*s);return {easing:o.easing,duration:1e3*l,amount:a*(l/2)}}class pn extends e.b{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o,r={}){const s=p(i.getCanvasContainer(),o),n=i.unproject(s);super(t,e.e({point:s,lngLat:n,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i;}}class fn extends e.b{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o){const r=\"touchend\"===t?o.changedTouches:o.touches,s=f(i.getCanvasContainer(),r),n=s.map((e=>i.unproject(e))),a=s.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new e.P(0,0));super(t,{points:s,point:a,lngLats:n,lngLat:i.unproject(a),originalEvent:o}),this._defaultPrevented=!1;}}class mn extends e.b{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class gn{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){this._mousedownPos=void 0;}wheel(e){return this._firePreventable(new mn(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new pn(e.type,this._map,e))}mouseup(e){this._map.fire(new pn(e.type,this._map,e));}preclick(t){const i=e.e({},t);i.type=\"preclick\",this._map.fire(new pn(i.type,this._map,i));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new pn(e.type,this._map,e)));}dblclick(e){return this._firePreventable(new pn(e.type,this._map,e))}mouseover(e){this._map.fire(new pn(e.type,this._map,e));}mouseout(e){this._map.fire(new pn(e.type,this._map,e));}touchstart(e){return this._firePreventable(new fn(e.type,this._map,e))}touchmove(e){this._map.fire(new fn(e.type,this._map,e));}touchend(e){this._map.fire(new fn(e.type,this._map,e));}touchcancel(e){this._map.fire(new fn(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class vn{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0;}mousemove(e){this._map.fire(new pn(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new pn(\"contextmenu\",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new pn(e.type,this._map,e)),this._map.listens(\"contextmenu\")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class xn{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(h(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t,o=this._startPos,r=this._lastPos;if(!o||!r||r.equals(i)||!this._box&&i.dist(o)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=s(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",e));const n=Math.min(o.x,i.x),a=Math.max(o.x,i.x),l=Math.min(o.y,i.y),c=Math.max(o.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${n}px,${l}px)`,this._box.style.width=a-n+\"px\",this._box.style.height=c-l+\"px\");}));}mouseupWindow(t,i){if(!this._active)return;const o=this._startPos,r=i;if(o&&0===t.button){if(this.reset(),_(),o.x!==r.x||o.y!==r.y)return this._map.fire(new e.b(\"boxzoomend\",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._map.getBearing(),{linear:!1})};this._fireEvent(\"boxzoomcancel\",t);}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent(\"boxzoomcancel\",e));}blur(){this.reset();}reset(){this._active=!1,this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.remove(),this._box=null),u(),delete this._startPos,delete this._lastPos;}_fireEvent(t,i){return this._map.fire(new e.b(t,{originalEvent:i}))}}function yn(e,t){const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class bn{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1;}touchstart(t,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),o.length===this.numTouches&&(this.centroid=function(t){const i=new e.P(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=yn(o,i)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=yn(i,t);for(const e in this.touches){const t=o[e];(!t||t.dist(this.touches[e])>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class wn{constructor(e){this.singleTap=new bn(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class Tn{constructor(){this._zoomIn=new wn({numTouches:1,numTaps:2}),this._zoomOut=new wn({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}const En={0:1,2:2};class Sn{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1;}blur(){this.reset();}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0;}_correctButton(e,t){return !1}_move(e,t){return {}}mousedown(e,t){if(this._lastPoint)return;const i=m(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i);}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=En[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&m(e)===this._eventButton&&(this._moved&&_(),this.reset());}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Cn extends Sn{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0);}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return {around:t,panDelta:t.sub(e)}}}class In extends Sn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault();}}class Dn extends Sn{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault();}}class Ln{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=i.clickTolerance||1,this.reset(),e.aY([\"_addTouchPanBlocker\",\"_showTouchPanBlockerAlert\"],this);}reset(){this._active=!1,this._touches={},this._sum=new e.P(0,0);}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(t,i,o){if(this._active&&!(o.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===o.length&&!e.c$())return void this._showTouchPanBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,i,o)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset();}touchcancel(){this.reset();}_calculateTransform(t,i,o){o.length>0&&(this._active=!0);const r=yn(o,i),s=new e.P(0,0),n=new e.P(0,0);let a=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(s._add(t),n._add(t.sub(i)),a++,r[e]=t);}if(this._touches=r,a<this._minTouches||!n.mag())return;const l=n.div(a);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:s.div(a),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\"));}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\")),this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=s(\"div\",\"mapboxgl-touch-pan-blocker\",this._map._container),this._alertContainer.textContent=this._map._getUIString(\"TouchPanBlocker.Message\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.removeAttribute(\"role\");}),500);}}class An{constructor(){this.reset();}reset(){this._active=!1,this._firstTwoTouches=void 0;}_start(e){}_move(e,t,i){return {}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){const o=this._firstTwoTouches;if(!o)return;e.preventDefault();const[r,s]=o,n=Rn(i,t,r),a=Rn(i,t,s);if(!n||!a)return;const l=this._aroundCenter?null:n.add(a).div(2);return this._move([n,a],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,s=Rn(i,t,o),n=Rn(i,t,r);s&&n||(this._active&&_(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}function Rn(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function Pn(e,t){return Math.log(e/t)/Math.LN2}class Mn extends An{reset(){super.reset(),this._distance=0,this._startDistance=0;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Pn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Pn(this._distance,i),pinchAround:t}}}function zn(e,t){return 180*e.angleWith(t)/Math.PI}class On extends An{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:zn(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return !1;const o=zn(e,i);return Math.abs(o)<t}}function Fn(e){return Math.abs(e.y)>Math.abs(e.x)}class Bn extends An{constructor(e){super(),this._map=e;}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0;}_start(e){this._lastPoints=e,Fn(e[0].sub(e[1]))&&(this._valid=!1);}_move(t,i,o){const r=this._lastPoints;if(!r)return;const s=t[0].sub(r[0]),n=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.c$()&&o.touches.length<3||(this._valid=this.gestureBeginsVertically(s,n,o.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(s.y+n.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const s=e.y>0==t.y>0;return Fn(e)&&Fn(t)&&s}}const kn={panStep:100,bearingStep:15,pitchStep:10};class Nn{constructor(){const e=kn;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1;}blur(){this.reset();}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,s=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),s=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),s=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:n=>{const a=n.getZoom();n.easeTo({duration:300,easeId:\"keyboardHandler\",easing:Un,zoom:t?Math.round(a)+t*(e.shiftKey?2:1):a,bearing:n.getBearing()+i*this._bearingStep,pitch:n.getPitch()+o*this._pitchStep,offset:[-r*this._panStep,-s*this._panStep],center:n.getCenter()},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function Un(e){return e*(2-e)}const Gn=4.000244140625,jn=1/450;class Vn{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=jn,e.aY([\"_onTimeout\",\"_addScrollZoomBlocker\",\"_showBlockerAlert\"],this);}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker());}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()));}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.c$()))return void this._showBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}let i=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const o=e.f.now(),r=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==i&&i%Gn==0?this._type=\"wheel\":0!==i&&Math.abs(i)<4?this._type=\"trackpad\":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault();}_onTimeout(e){this._type=\"wheel\",this._delta-=this._lastValue,this._active||this._start(e);}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=p(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;\"wheel\"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const i=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e=\"wheel\"===this._type&&Math.abs(this._delta)>Gn?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==o&&(o=1/o);const r=i(),s=Math.pow(2,r),n=\"number\"==typeof this._targetZoom?t.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(n*o))),\"wheel\"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0;}const o=\"number\"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,s=this._easing;let n,a=!1;if(\"wheel\"===this._type&&r&&s){const t=Math.min((e.f.now()-this._lastWheelEventTime)/200,1),i=s(t);n=e.U(r,o,i),t<1?this._frameId||(this._frameId=!0):a=!0;}else n=o,a=!0;this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout;}),200));let l=n-i();return l*this._lastDelta<0&&(l=0),{noInertia:!0,needsRenderFrame:!a,zoomDelta:l,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.d0;if(this._prevEase){const t=this._prevEase,o=(e.f.now()-t.start)/t.duration,r=t.easing(o+.01)-t.easing(o),s=.27/Math.sqrt(r*r+1e-4)*.01,n=Math.sqrt(.0729-s*s);i=e.c_(s,n,.25,1);}return this._prevEase={start:e.f.now(),duration:t,easing:i},i}blur(){this.reset();}reset(){this._active=!1;}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=s(\"div\",\"mapboxgl-scroll-zoom-blocker\",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString(\"ScrollZoomBlocker.CmdMessage\"):this._map._getUIString(\"ScrollZoomBlocker.CtrlMessage\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.removeAttribute(\"role\");}),200);}}class Zn{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Hn{constructor(){this.reset();}reset(){this._active=!1;}blur(){this.reset();}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Wn{constructor(){this._tap=new wn({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset();}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i));}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp);}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class qn{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(\"mapboxgl-touch-drag-pan\");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(\"mapboxgl-touch-drag-pan\");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class $n{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Xn{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(\"mapboxgl-touch-zoom-rotate\");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(\"mapboxgl-touch-zoom-rotate\");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}const Kn=e=>e.zoom||e.drag||e.pitch||e.rotate;class Yn extends e.b{}class Jn{constructor(){this.constants=[1,1,.01],this.radius=0;}setup(t,i){const o=e.N.sub([],i,t);this.radius=e.N.length(o[2]<0?e.N.div([],o,this.constants):[o[0],o[1],0]);}projectRay(t){e.N.div(t,t,this.constants),e.N.normalize(t,t),e.N.mul(t,t,this.constants);const i=e.N.scale([],t,this.radius);if(i[2]>0){const t=e.N.scale([],[0,0,1],e.N.dot(i,[0,0,1])),o=e.N.scale([],e.N.normalize([],[i[0],i[1],0]),this.radius),r=e.N.add([],i,e.N.scale([],e.N.sub([],e.N.add([],o,t),i),2));i[0]=r[0],i[1]=r[1];}return i}}function Qn(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class ea{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new un(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Jn,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.aY([\"handleEvent\",\"handleWindowEvent\"],this);const o=this._el;this._listeners=[[o,\"touchstart\",{passive:!0}],[o,\"touchmove\",{passive:!1}],[o,\"touchend\",void 0],[o,\"touchcancel\",void 0],[o,\"mousedown\",void 0],[o,\"mousemove\",void 0],[o,\"mouseup\",void 0],[document,\"mousemove\",{capture:!0}],[document,\"mouseup\",void 0],[o,\"mouseover\",void 0],[o,\"mouseout\",void 0],[o,\"dblclick\",void 0],[o,\"click\",void 0],[o,\"keydown\",{capture:!1}],[o,\"keyup\",void 0],[o,\"wheel\",{passive:!1}],[o,\"contextmenu\",void 0],[window,\"blur\",void 0]];for(const[e,t,i]of this._listeners){const o=e===document?this.handleWindowEvent:this.handleEvent;e.addEventListener(t,o,i);}}destroy(){for(const[e,t,i]of this._listeners){const o=e===document?this.handleWindowEvent:this.handleEvent;e.removeEventListener(t,o,i);}}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add(\"mapEvent\",new gn(t,e));const o=t.boxZoom=new xn(t,e);this._add(\"boxZoom\",o);const r=new Tn,s=new Hn;t.doubleClickZoom=new Zn(s,r),this._add(\"tapZoom\",r),this._add(\"clickZoom\",s);const n=new Wn;this._add(\"tapDragZoom\",n);const a=t.touchPitch=new Bn(t);this._add(\"touchPitch\",a);const l=new In(e),c=new Dn(e);t.dragRotate=new $n(e,l,c),this._add(\"mouseRotate\",l,[\"mousePitch\"]),this._add(\"mousePitch\",c,[\"mouseRotate\"]);const h=new Cn(e),u=new Ln(t,e);t.dragPan=new qn(i,h,u),this._add(\"mousePan\",h),this._add(\"touchPan\",u,[\"touchZoom\",\"touchRotate\"]);const d=new On,_=new Mn;t.touchZoomRotate=new Xn(i,_,d,n),this._add(\"touchRotate\",d,[\"touchPan\",\"touchZoom\"]),this._add(\"touchZoom\",_,[\"touchPan\",\"touchRotate\"]),this._add(\"blockableMapEvent\",new vn(t));const p=t.scrollZoom=new Vn(t,this);this._add(\"scrollZoom\",p,[\"mousePan\"]);const f=t.keyboard=new Nn;this._add(\"keyboard\",f);for(const i of [\"boxZoom\",\"doubleClickZoom\",\"tapDragZoom\",\"touchPitch\",\"dragRotate\",\"dragPan\",\"touchZoomRotate\",\"scrollZoom\",\"keyboard\"])e.interactive&&e[i]&&t[i].enable(e[i]);}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[],this._originalZoom=void 0;}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return !!Kn(this._eventsInProgress)||this.isZooming()}_isDragging(){return !!this._eventsInProgress.drag}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return !0;return !1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`);}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i=\"renderFrame\"===e.type,o=i?void 0:e,r={needsRenderFrame:!1},s={},n={},a=e.touches?this._getMapTouches(e.touches):void 0,l=a?f(this._el,a):i?void 0:p(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(n,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,a),this.mergeHandlerResult(r,s,u,i,o),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(n[i]=c);}const c={};for(const e in this._previousActiveHandlers)n[e]||(c[e]=o);this._previousActiveHandlers=n,(Object.keys(c).length||Qn(r))&&(this._changes.push([r,s,c]),this._triggerRenderFrame()),(Object.keys(n).length||Qn(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map));}mergeHandlerResult(t,i,o,r,s){if(!o)return;e.e(t,o);const n={handlerName:r,originalEvent:o.originalEvent||s};void 0!==o.zoomDelta&&(i.zoom=n),void 0!==o.panDelta&&(i.drag=n),void 0!==o.pitchDelta&&(i.pitch=n),void 0!==o.bearingDelta&&(i.rotate=n);}_applyChanges(){const t={},i={},o={};for(const[r,s,n]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.P(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.e(i,s),e.e(o,n);this._updateMapTransform(t,i,o),this._changes=[];}_updateMapTransform(t,i,o){const r=this._map,s=r.transform,n=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Qn(t)){const e=s.zoom;s.cameraElevationReference=\"sea\",null!=this._originalZoom&&s._orthographicProjectionAtLowPitch&&\"globe\"!==s.projection.name&&0===s.pitch?(s.cameraElevationReference=\"ground\",s.zoom=this._originalZoom):(s.recenterOnTerrain(),s.cameraElevationReference=\"ground\"),e!==s.zoom&&this._map._update(!0);}if(s._isCameraConstrained&&r._stop(!0),!Qn(t))return void this._fireEvents(i,o,!0);let{panDelta:a,zoomDelta:l,bearingDelta:c,pitchDelta:h,around:u,aroundCoord:d,pinchAround:_}=t;s._isCameraConstrained&&(l>0&&(l=0),s._isCameraConstrained=!1),void 0!==_&&(u=_),(l||(e=>i[e]&&!this._eventsInProgress[e])(\"drag\"))&&u&&(this._dragOrigin=n(s.pointCoordinate3D(u)),this._originalZoom=s.zoom,this._trackingEllipsoid.setup(s._camera.position,this._dragOrigin)),s.cameraElevationReference=\"sea\",r._stop(!0),u=u||r.transform.centerPoint,c&&(s.bearing+=c),h&&(s.pitch+=h),s._updateCameraState();const p=[0,0,0];if(a)if(\"mercator\"===s.projection.name){const e=this._trackingEllipsoid.projectRay(s.screenPointToMercatorRay(u).dir),t=this._trackingEllipsoid.projectRay(s.screenPointToMercatorRay(u.sub(a)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1];}else {const t=s.pointCoordinate(u);if(\"globe\"===s.projection.name){a=a.rotate(-s.angle);const i=s._pixelsPerMercatorPixel/s.worldSize;p[0]=-a.x*e.d1(e.au(t.y))*i,p[1]=-a.y*e.d1(s.center.lat)*i;}else {const e=s.pointCoordinate(u.sub(a));t&&e&&(p[0]=e.x-t.x,p[1]=e.y-t.y);}}const f=s.zoom,m=[0,0,0];if(l){const t=n(d||s.pointCoordinate3D(u)),i={dir:e.N.normalize([],e.N.sub([],t,s._camera.position))};if(i.dir[2]<0){const o=s.zoomDeltaToMovement(t,l);e.N.scale(m,i.dir,o);}}const g=e.N.add(p,p,m);s._translateCameraConstrained(g),l&&Math.abs(s.zoom-f)>1e-4&&s.recenterOnTerrain(),s.cameraElevationReference=\"ground\",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,o,!0);}_fireEvents(t,i,o){const r=Kn(this._eventsInProgress),s=Kn(t),n={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(n[`${e}start`]=i),this._eventsInProgress[e]=t[e];}!r&&s&&this._fireEvent(\"movestart\",s.originalEvent);for(const e in n)this._fireEvent(e,n[e]);s&&this._fireEvent(\"move\",s.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i);}const a={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||o,a[`${e}end`]=l);}for(const e in a)this._fireEvent(e,a[e]);const c=Kn(this._eventsInProgress);if(o&&(r||s)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.b(\"moveend\",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1;}}_fireEvent(t,i){this._map.fire(new e.b(t,i?{originalEvent:i}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Yn(\"renderFrame\",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}const ta=\"map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.\";class ia extends e.E{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,this._respectPrefersReducedMotion=!1!==i.respectPrefersReducedMotion,e.aY([\"_renderFrameCallback\"],this);}getCenter(){return new e.bn(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,o){return t=e.P.convert(t).mult(-1),this.panTo(this.transform.center,e.e({offset:t},i),o)}panTo(t,i,o){return this.easeTo(e.e({center:t},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,o){return this.easeTo(e.e({zoom:t},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,o){return this.easeTo(e.e({bearing:t},i),o)}resetNorth(t,i){return this.rotateTo(0,e.e({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.e({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){t=e.ad.convert(t);const o=i&&i.bearing||0,r=i&&i.pitch||0,s=t.getNorthWest(),n=t.getSouthEast();return this._cameraForBounds(this.transform,s,n,o,r,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if(\"number\"==typeof(t=e.e({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e};}return t.padding=e.e(i,t.padding),t}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],o=t.max[1]-t.min[1];return i/o>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):o/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,i,o,r,s,n){const a=t.clone(),l=this._extendCameraOptions(n);a.bearing=r,a.pitch=s;const c=e.bn.convert(i),h=e.bn.convert(o),u=.5*(c.lat+h.lat),d=.5*(c.lng+h.lng),_=e.d2(u,d),p=e.N.normalize([],_),f=e.N.normalize([],e.N.cross([],p,[0,1,0])),m=e.N.cross([],f,p),g=[f[0],f[1],f[2],0,m[0],m[1],m[2],0,p[0],p[1],p[2],0,0,0,0,1],v=[_,e.d2(c.lat,c.lng),e.d2(h.lat,c.lng),e.d2(h.lat,h.lng),e.d2(c.lat,h.lng),e.d2(u,c.lng),e.d2(u,h.lng),e.d2(c.lat,d),e.d2(h.lat,d)];let x=e.bS.fromPoints(v.map((t=>[e.N.dot(f,t),e.N.dot(m,t),e.N.dot(p,t)])));const y=e.N.transformMat4([],x.center,g);0===e.N.squaredLength(y)&&e.N.set(y,0,0,1),e.N.normalize(y,y),e.N.scale(y,y,e.ab),a.center=e.d3(y);const b=a.getWorldToCameraMatrix(),w=e.a6.invert(new Float64Array(16),b);x=e.bS.applyTransform(x,e.a6.multiply([],b,g)),e.N.transformMat4(y,y,b);const T=.5*(x.max[2]-x.min[2]),E=this._minimumAABBFrustumDistance(a,x),S=e.N.scale([],[0,0,1],T),C=e.N.add(S,y,S),I=E+(0===a.pitch?0:e.N.distance(y,C)),D=a.globeCenterInViewSpace,L=e.N.sub([],y,[D[0],D[1],D[2]]);e.N.normalize(L,L),e.N.scale(L,L,I);const A=e.N.add([],y,L);e.N.transformMat4(A,A,w);const R=e.d4/e.ab,P=e.N.length(A),M=e.bl(Math.max(P*R-e.d4,Number.EPSILON),0),z=Math.min(a.zoomFromMercatorZAdjusted(M),l.maxZoom);return z>.5*(e.bG+e.bx)?(a.setProjection({name:\"mercator\"}),a.zoom=z,this._cameraForBounds(a,i,o,r,s,n)):{center:a.center,zoom:z,bearing:r,pitch:s}}queryTerrainElevation(t,i){const o=this.transform.elevation;return o?(i=e.e({},{exaggerated:!0},i),o.getAtPoint(e.L.fromLngLat(t),null,i.exaggerated)):null}_cameraForBounds(t,i,o,r,s,n){if(\"globe\"===t.projection.name)return this._cameraForBoundsOnGlobe(t,i,o,r,s,n);const a=t.clone(),l=this._extendCameraOptions(n),c=a.padding;a.bearing=r,a.pitch=s;const h=e.bn.convert(i),u=e.bn.convert(o),d=new e.bn(h.lng,u.lat),_=new e.bn(u.lng,h.lat),p=a.project(h),f=a.project(u),m=this.queryTerrainElevation(h),g=this.queryTerrainElevation(u),v=this.queryTerrainElevation(d),x=this.queryTerrainElevation(_),y=[[p.x,p.y,Math.min(m||0,g||0,v||0,x||0)],[f.x,f.y,Math.max(m||0,g||0,v||0,x||0)]];let b=e.bS.fromPoints(y);const w=a.getWorldToCameraMatrix(),T=e.a6.invert(new Float64Array(16),w);b=e.bS.applyTransform(b,w);const E=e.N.sub([],b.max,b.min),S=c.left||0,C=c.right||0,I=c.bottom||0,D=c.top||0,{left:L,right:A,top:R,bottom:P}=l.padding,M=.5*(S+C),z=.5*(D+I),O=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(S+C+L+A))/E[0],(a.height-(I+D+P+R))/E[1])),l.maxZoom),F=a.scale/a.zoomScale(O);b=new e.bS([b.min[0]-(L+M)*F,b.min[1]-(P+z)*F,b.min[2]],[b.max[0]+(A+M)*F,b.max[1]+(R+z)*F,b.max[2]]);const B=.5*E[2],k=this._minimumAABBFrustumDistance(a,b),N=[0,0,1,0];e.a7.transformMat4(N,N,w),e.a7.normalize(N,N);const U=e.N.scale([],N,k+B),G=e.N.add([],b.center,U),j=(\"number\"==typeof l.offset.x&&\"number\"==typeof l.offset.y?new e.P(l.offset.x,l.offset.y):e.P.convert(l.offset)).rotate(-e.bj(r));b.center[0]-=j.x*F,b.center[1]+=j.y*F,e.N.transformMat4(b.center,b.center,T),e.N.transformMat4(G,G,T);const V=[b.center[0],b.center[1],G[2]*a.pixelsPerMeter];e.N.scale(V,V,1/a.worldSize);const Z=e.at(V[0]),H=e.au(V[1]),W=Math.min(a._zoomFromMercatorZ(V[2]),l.maxZoom),q=new e.bn(Z,H);return a.mercatorFromTransition&&W<.5*(e.bG+e.bx)?(a.setProjection({name:\"globe\"}),a.zoom=W,this._cameraForBounds(a,i,o,r,s,n)):{center:q,zoom:W,bearing:r,pitch:s}}fitBounds(e,t,i){const o=this.cameraForBounds(e,t);return this._fitInternal(o,t,i)}fitScreenCoordinates(t,i,o,r,s){const n=e.P.convert(t),a=e.P.convert(i),l=new e.P(Math.min(n.x,a.x),Math.min(n.y,a.y)),c=new e.P(Math.max(n.x,a.x),Math.max(n.y,a.y));if(\"mercator\"===this.transform.projection.name&&this.transform.anyCornerOffEdge(n,a))return this;const h=this.transform.pointLocation3D(l),u=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.P(l.x,c.y)),_=this.transform.pointLocation3D(new e.P(c.x,l.y)),p=[Math.min(h.lng,u.lng,d.lng,_.lng),Math.min(h.lat,u.lat,d.lat,_.lat)],f=[Math.max(h.lng,u.lng,d.lng,_.lng),Math.max(h.lat,u.lat,d.lat,_.lat)],m=r&&r.pitch?r.pitch:this.getPitch(),g=this._cameraForBounds(this.transform,p,f,o,m,r);return this._fitInternal(g,r,s)}_fitInternal(t,i,o){return t?(delete(i=e.e(t,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(t,i){this.stop();const o=t.preloadOnly?this.transform.clone():this.transform;let r=!1,s=!1,n=!1;return \"zoom\"in t&&o.zoom!==+t.zoom&&(r=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=e.bn.convert(t.center)),\"bearing\"in t&&o.bearing!==+t.bearing&&(s=!0,o.bearing=+t.bearing),\"pitch\"in t&&o.pitch!==+t.pitch&&(n=!0,o.pitch=+t.pitch),null==t.padding||o.isPaddingEqual(t.padding)||(o.padding=t.padding),t.preloadOnly?(this._preloadTiles(o),this):(this.fire(new e.b(\"movestart\",i)).fire(new e.b(\"move\",i)),r&&this.fire(new e.b(\"zoomstart\",i)).fire(new e.b(\"zoom\",i)).fire(new e.b(\"zoomend\",i)),s&&this.fire(new e.b(\"rotatestart\",i)).fire(new e.b(\"rotate\",i)).fire(new e.b(\"rotateend\",i)),n&&this.fire(new e.b(\"pitchstart\",i)).fire(new e.b(\"pitch\",i)).fire(new e.b(\"pitchend\",i)),this.fire(new e.b(\"moveend\",i)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.w(ta),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){const o=this.transform;if(!o.projection.supportsFreeCamera)return e.w(ta),this;this.stop();const r=o.zoom,s=o.pitch,n=o.bearing;o.setFreeCameraOptions(t);const a=r!==o.zoom,l=s!==o.pitch,c=n!==o.bearing;return this.fire(new e.b(\"movestart\",i)).fire(new e.b(\"move\",i)),a&&this.fire(new e.b(\"zoomstart\",i)).fire(new e.b(\"zoom\",i)).fire(new e.b(\"zoomend\",i)),c&&this.fire(new e.b(\"rotatestart\",i)).fire(new e.b(\"rotate\",i)).fire(new e.b(\"rotateend\",i)),l&&this.fire(new e.b(\"pitchstart\",i)).fire(new e.b(\"pitch\",i)).fire(new e.b(\"pitchend\",i)),this.fire(new e.b(\"moveend\",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.e({offset:[0,0],duration:500,easing:e.d0},t)).animate||this._prefersReducedMotion(t))&&(t.duration=0);const o=this.transform,r=this.getZoom(),s=this.getBearing(),n=this.getPitch(),a=this.getPadding(),l=\"zoom\"in t?+t.zoom:r,c=\"bearing\"in t?this._normalizeBearing(t.bearing,s):s,h=\"pitch\"in t?+t.pitch:n,u=\"padding\"in t?t.padding:o.padding,d=e.P.convert(t.offset);let _,p,f;if(\"globe\"===o.projection.name){const i=e.L.fromLngLat(o.center),r=d.rotate(-o.angle);i.x+=r.x/o.worldSize,i.y+=r.y/o.worldSize;const s=i.toLngLat(),n=e.bn.convert(t.center||s);this._normalizeCenter(n),_=o.centerPoint.add(r),p=new e.P(i.x,i.y).mult(o.worldSize),f=new e.P(e.a5(n.lng),e.ae(n.lat)).mult(o.worldSize).sub(p);}else {_=o.centerPoint.add(d);const i=o.pointLocation(_),r=e.bn.convert(t.center||i);this._normalizeCenter(r),p=o.project(i),f=o.project(r).sub(p);}const m=o.zoomScale(l-r);let g,v;t.around&&(g=e.bn.convert(t.around),v=o.locationPoint(g));const x=this._zooming||l!==r,y=this._rotating||s!==c,b=this._pitching||h!==n,w=!o.isPaddingEqual(u),T=o=>T=>{if(x&&(o.zoom=e.U(r,l,T)),y&&(o.bearing=e.U(s,c,T)),b&&(o.pitch=e.U(n,h,T)),w&&(o.interpolatePadding(a,u,T),_=o.centerPoint.add(d)),g)o.setLocationAtPoint(g,v);else {const e=o.zoomScale(o.zoom-r),t=l>r?Math.min(2,m):Math.max(.5,m),i=Math.pow(t,1-T),s=o.unproject(p.add(f.mult(T*i)).mult(e));o.setLocationAtPoint(o.renderWorldCopies?s.wrap():s,_);}return t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(T,t.duration,o);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=y,this._pitching=b,this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,E),this._ease(T(o),(e=>{\"sea\"===o.cameraElevationReference&&o.recenterOnTerrain(),this._afterEase(i,e);}),t),this}_prepareEase(t,i,o={}){this._moving=!0,this.transform.cameraElevationReference=\"sea\",this.transform._orthographicProjectionAtLowPitch&&0===this.transform.pitch&&\"globe\"!==this.transform.projection.name&&(this.transform.cameraElevationReference=\"ground\"),i||o.moving||this.fire(new e.b(\"movestart\",t)),this._zooming&&!o.zooming&&this.fire(new e.b(\"zoomstart\",t)),this._rotating&&!o.rotating&&this.fire(new e.b(\"rotatestart\",t)),this._pitching&&!o.pitching&&this.fire(new e.b(\"pitchstart\",t));}_fireMoveEvents(t){this.fire(new e.b(\"move\",t)),this._zooming&&this.fire(new e.b(\"zoom\",t)),this._rotating&&this.fire(new e.b(\"rotate\",t)),this._pitching&&this.fire(new e.b(\"pitch\",t));}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;this._easeId=void 0,this.transform.cameraElevationReference=\"ground\";const o=this._zooming,r=this._rotating,s=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,o&&this.fire(new e.b(\"zoomend\",t)),r&&this.fire(new e.b(\"rotateend\",t)),s&&this.fire(new e.b(\"pitchend\",t)),this.fire(new e.b(\"moveend\",t));}flyTo(t,i){if(this._prefersReducedMotion(t)){const o=e.ac(t,[\"center\",\"zoom\",\"bearing\",\"pitch\",\"around\"]);return this.jumpTo(o,i)}this.stop(),t=e.e({offset:[0,0],speed:1.2,curve:1.42,easing:e.d0},t);const o=this.transform,r=this.getZoom(),s=this.getBearing(),n=this.getPitch(),a=\"zoom\"in t?e.aa(+t.zoom,o.minZoom,o.maxZoom):r,l=\"bearing\"in t?this._normalizeBearing(t.bearing,s):s,c=\"pitch\"in t?+t.pitch:n,h=o.zoomScale(a-r),u=e.P.convert(t.offset),d=o.centerPoint.add(u),_=o.pointLocation(d);let p=t.center;if(p&&t.padding){const e=this._cameraForBounds(this.transform,p,p,l,c,t);e&&(p=e.center);}p=e.bn.convert(p||_),this._normalizeCenter(p);const f=o.project(_),m=o.project(p).sub(f);let g=t.curve;const v=Math.max(o.width,o.height),x=v/h,y=m.mag();if(\"minZoom\"in t){const i=e.aa(Math.min(t.minZoom,r,a),o.minZoom,o.maxZoom),s=v/o.zoomScale(i-r);g=Math.sqrt(s/y*2);}const b=g*g;function w(e){const t=(x*x-v*v+(e?-1:1)*b*b*y*y)/(2*(e?x:v)*b*y);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return (Math.exp(e)-Math.exp(-e))/2}function E(e){return (Math.exp(e)+Math.exp(-e))/2}const S=w(0);let C=function(e){return E(S)/E(S+g*e)},I=function(e){return v*((E(S)*(T(t=S+g*e)/E(t))-T(S))/b)/y;var t;},D=(w(1)-S)/g;if(Math.abs(y)<1e-6||!isFinite(D)){if(Math.abs(v-x)<1e-6)return this.easeTo(t,i);const e=x<v?-1:1;D=Math.abs(Math.log(x/v))/g,I=function(){return 0},C=function(t){return Math.exp(e*g*t)};}t.duration=\"duration\"in t?+t.duration:1e3*D/(\"screenSpeed\"in t?+t.screenSpeed/g:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const L=s!==l,A=c!==n,R=o=>h=>{const u=h*D,_=1/C(u);o.zoom=1===h?a:r+o.scaleZoom(_),L&&(o.bearing=e.U(s,l,h)),A&&(o.pitch=e.U(n,c,h));const g=1===h?p:o.unproject(f.add(m.mult(I(u))).mult(_));return o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,d),o._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(R,t.duration,o);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=L,this._pitching=A,this._prepareEase(i,!1),this._ease(R(o),(()=>this._afterEase(i)),t),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t);}if(!e){const e=this.handlers;e&&e.stop(!1);}return this}_ease(t,i,o){!1===o.animate||0===o.duration?(t(1),i()):(this._easeStart=e.f.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_renderFrameCallback(){const t=Math.min((e.f.now()-this._easeStart)/this._easeOptions.duration,1),i=this._onEaseFrame;i&&i(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();}_normalizeBearing(t,i){t=e.bh(t,-180,180);const o=Math.abs(t-i);return Math.abs(t-360-i)<o&&(t-=360),Math.abs(t+360-i)<o&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(t.maxBounds)return;if(\"globe\"!==t.projection.name&&!t.renderWorldCopies)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0;}_prefersReducedMotion(t){return this._respectPrefersReducedMotion&&e.f.prefersReducedMotion&&!(t&&t.essential)}_emulate(e,t,i){const o=Math.ceil(15*t/1e3),r=[],s=e(i.clone());for(let e=0;e<=o;e++){const t=s(e/o);r.push(t.clone());}return r}}class oa{constructor(t={}){this.options=t,e.aY([\"_toggleAttribution\",\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this);}getDefaultPosition(){return \"bottom-right\"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=s(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),this._compactButton=s(\"button\",\"mapboxgl-ctrl-attrib-button\",this._container),s(\"span\",\"mapboxgl-ctrl-icon\",this._compactButton).setAttribute(\"aria-hidden\",\"true\"),this._compactButton.type=\"button\",this._compactButton.addEventListener(\"click\",this._toggleAttribution),this._setElementTitle(this._compactButton,\"ToggleAttribution\"),this._innerContainer=s(\"div\",\"mapboxgl-ctrl-attrib-inner\",this._container),t&&this._container.classList.add(\"mapboxgl-compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"styledata\",this._updateData),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===t&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off(\"styledata\",this._updateData),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.removeAttribute(\"title\"),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}_toggleAttribution(){this._container.classList.contains(\"mapboxgl-compact-show\")?(this._container.classList.remove(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"false\")):(this._container.classList.add(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"true\"));}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(\".mapbox-improve-map\"));const i=[{key:\"owner\",value:this.styleOwner},{key:\"id\",value:this.styleId},{key:\"access_token\",value:this._map._requestManager._customAccessToken||e.d5.ACCESS_TOKEN}];if(t){const o=i.reduce(((e,t,o)=>(t.value&&(e+=`${t.key}=${t.value}${o<i.length-1?\"&\":\"\"}`),e)),\"?\");t.href=`${e.d5.FEEDBACK_URL}/${o}#${sn(this._map,!0)}`,t.rel=\"noopener nofollow\",this._setElementTitle(t,\"MapFeedback\");}}_updateData(e){!e||\"metadata\"!==e.sourceDataType&&\"visibility\"!==e.sourceDataType&&\"style\"!==e.dataType||(this._updateAttributions(),this._updateEditLink());}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style._mergedSourceCaches;for(const i in t){const o=t[i];if(o.used){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return !1;return !0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(\" | \");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove(\"mapboxgl-attrib-empty\")):this._container.classList.add(\"mapboxgl-attrib-empty\"),this._editLink=null);}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(\"mapboxgl-compact\"):this._container.classList.remove(\"mapboxgl-compact\",\"mapboxgl-compact-show\");}}class ra{constructor(){e.aY([\"_updateLogo\",\"_updateCompact\"],this);}onAdd(e){this._map=e,this._container=s(\"div\",\"mapboxgl-ctrl\");const t=s(\"a\",\"mapboxgl-ctrl-logo\");return t.target=\"_blank\",t.rel=\"noopener nofollow\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",this._map._getUIString(\"LogoControl.Title\")),t.setAttribute(\"rel\",\"noopener nofollow\"),this._container.appendChild(t),this._container.style.display=\"none\",this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._map.on(\"resize\",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off(\"sourcedata\",this._updateLogo),this._map.off(\"resize\",this._updateCompact);}getDefaultPosition(){return \"bottom-left\"}_updateLogo(e){e&&\"metadata\"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?\"block\":\"none\");}_logoRequired(){if(!this._map.style)return !0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return !0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty(\"mapbox_logo\")&&!i.mapbox_logo)return !1}return !0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(\"mapboxgl-compact\"):t.classList.remove(\"mapboxgl-compact\");}}}class sa{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}function na(t,i,o){if(t=new e.bn(t.lng,t.lat),i){const r=new e.bn(t.lng-360,t.lat),s=new e.bn(t.lng+360,t.lat),n=360*Math.ceil(Math.abs(t.lng-o.center.lng)/360),a=o.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>o.width||i.y>o.height;o.locationPoint(r).distSqr(i)<a&&(l||Math.abs(r.lng-o.center.lng)<n)?t=r:o.locationPoint(s).distSqr(i)<a&&(l||Math.abs(s.lng-o.center.lng)<n)&&(t=s);}for(;Math.abs(t.lng-o.center.lng)>180;){const e=o.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=o.width&&e.y<=o.height)break;t.lng>o.center.lng?t.lng-=360:t.lng+=360;}return t}const aa={center:\"translate(-50%,-50%)\",top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"};class la extends e.E{constructor(t,i){if(super(),(t instanceof HTMLElement||i)&&(t=e.e({element:t},i)),e.aY([\"_update\",\"_onMove\",\"_onUp\",\"_addDragHandler\",\"_onMapClick\",\"_onKeyPress\",\"_clearFadeTimer\"],this),this._anchor=t&&t.anchor||\"center\",this._color=t&&t.color||\"#3FB1CE\",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state=\"inactive\",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||\"auto\",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||\"auto\",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.P.convert(t&&t.offset||[0,0]);else {this._defaultMarker=!0,this._element=s(\"div\");const i=41,o=27,r=n(\"svg\",{display:\"block\",height:i*this._scale+\"px\",width:o*this._scale+\"px\",viewBox:`0 0 ${o} ${i}`},this._element),a=n(\"radialGradient\",{id:\"shadowGradient\"},n(\"defs\",{},r));n(\"stop\",{offset:\"10%\",\"stop-opacity\":.4},a),n(\"stop\",{offset:\"100%\",\"stop-opacity\":.05},a),n(\"ellipse\",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:\"url(#shadowGradient)\"},r),n(\"path\",{fill:this._color,d:\"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z\"},r),n(\"path\",{opacity:.25,d:\"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z\"},r),n(\"circle\",{fill:\"white\",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.P.convert(t&&t.offset||[0,-14]);}this._element.hasAttribute(\"aria-label\")||this._element.setAttribute(\"aria-label\",\"Map marker\"),this._element.hasAttribute(\"role\")||this._element.setAttribute(\"role\",\"img\"),this._element.classList.add(\"mapboxgl-marker\"),this._element.addEventListener(\"dragstart\",(e=>{e.preventDefault();})),this._element.addEventListener(\"mousedown\",(e=>{e.preventDefault();}));const o=this._element.classList;for(const e in aa)o.remove(`mapboxgl-marker-anchor-${e}`);o.add(`mapboxgl-marker-anchor-${this._anchor}`);const r=t&&t.className?t.className.trim().split(/\\s+/):[];o.add(...r),this._popup=null;}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(\"move\",this._updateMoving),e.on(\"moveend\",this._update),e.on(\"remove\",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on(\"click\",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off(\"click\",this._onMapClick),e.off(\"move\",this._updateMoving),e.off(\"moveend\",this._update),e.off(\"mousedown\",this._addDragHandler),e.off(\"touchstart\",this._addDragHandler),e.off(\"mouseup\",this._onUp),e.off(\"touchend\",this._onUp),e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove),e.off(\"remove\",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.bn.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute(\"role\"),this._element.removeEventListener(\"keypress\",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(\"tabindex\")),e){if(!(\"offset\"in e.options)){const t=38.1,i=13.5,o=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],\"top-left\":[0,0],\"top-right\":[0,0],bottom:[0,-t],\"bottom-left\":[o,-1*(t-i+o)],\"bottom-right\":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset;}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute(\"role\",\"button\"),this._originalTabIndex=this._element.getAttribute(\"tabindex\"),this._originalTabIndex||this._element.setAttribute(\"tabindex\",\"0\"),this._element.addEventListener(\"keypress\",this._onKeyPress),this._element.setAttribute(\"aria-expanded\",\"false\");}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;\"Space\"!==t&&\"Enter\"!==t&&32!==i&&13!==i||this.togglePopup();}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute(\"aria-expanded\",\"false\")):this._map&&(e.addTo(this._map),this._element.setAttribute(\"aria-expanded\",\"true\")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return !1;const i=e.unproject(t),o=e.getFreeCameraOptions();if(!o.position)return !1;const r=o.position.toLngLat();return r.distanceTo(i)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const i=this._pos;if(!i||i.x<0||i.x>t.transform.width||i.y<0||i.y>t.transform.height)return void this._clearFadeTimer();const o=t.unproject(i);let r;t._showingGlobe()&&e.d6(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(o),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?\"auto\":\"none\",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null;}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null);}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\\n            translate(${e.x}px,${e.y}px)\\n            ${aa[this._anchor]}\\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\\n            translate(${t.x}px,${t.y}px)\\n        `;}_calculateXYTransform(){const t=this._pos,i=this._map,o=this.getPitchAlignment();if(!i||!t||\"map\"!==o)return \"\";if(!i._showingGlobe()){const e=i.getPitch();return e?`rotateX(${e}deg)`:\"\"}const r=e.bF(e.d7(i.transform,this._lngLat)),s=t.sub(e.d8(i.transform)),n=Math.abs(s.x)+Math.abs(s.y);if(0===n)return \"\";const a=r/n;return `rotateX(${-s.y*a}deg) rotateY(${s.x*a}deg)`}_calculateZTransform(){const t=this._pos,i=this._map;if(!i||!t)return \"\";let o=0;const r=this.getRotationAlignment();if(\"map\"===r)if(i._showingGlobe()){const t=i.project(new e.bn(this._lngLat.lng,this._lngLat.lat+.001)),r=i.project(new e.bn(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);o=e.bF(Math.atan2(r.y,r.x))-90;}else o=-i.getBearing();else if(\"horizon\"===r){const r=e.O(4,6,i.getZoom()),s=e.d8(i.transform);s.y+=r*i.transform.height;const n=t.sub(s),a=e.bF(Math.atan2(n.y,n.x));o=(a>90?a-270:a+90)*(1-r);}return o+=this._rotation,o?`rotateZ(${o}deg)`:\"\"}_update(e){cancelAnimationFrame(this._updateFrameId);const t=this._map;t&&(t.transform.renderWorldCopies&&(this._lngLat=na(this._lngLat,this._pos,t.transform)),this._pos=t.project(this._lngLat),!0===e?this._updateFrameId=requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM());})):this._pos=this._pos.round(),t._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(t._showingGlobe()||t.getTerrain()||t.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)));})));}getOffset(){return this._offset}setOffset(t){return this._offset=e.P.convert(t),this._update(),this}addClassName(e){return this._element.classList.add(e),this}removeClassName(e){return this._element.classList.remove(e),this}toggleClassName(e){return this._element.classList.toggle(e)}_onMove(t){const i=this._map;if(!i)return;const o=this._pointerdownPos,r=this._positionDelta;if(o&&r){if(!this._isDragging){const e=this._clickTolerance||i._clickTolerance;if(t.point.dist(o)<e)return;this._isDragging=!0;}this._pos=t.point.sub(r),this._lngLat=i.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=\"none\",\"pending\"===this._state&&(this._state=\"active\",this.fire(new e.b(\"dragstart\"))),this.fire(new e.b(\"drag\"));}}_onUp(){this._element.style.pointerEvents=\"auto\",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off(\"mousemove\",this._onMove),t.off(\"touchmove\",this._onMove)),\"active\"===this._state&&this.fire(new e.b(\"dragend\")),this._state=\"inactive\";}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state=\"pending\",t.on(\"mousemove\",this._onMove),t.on(\"touchmove\",this._onMove),t.once(\"mouseup\",this._onUp),t.once(\"touchend\",this._onUp));}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on(\"mousedown\",this._addDragHandler),t.on(\"touchstart\",this._addDragHandler)):(t.off(\"mousedown\",this._addDragHandler),t.off(\"touchstart\",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||\"auto\",this._update(),this}getRotationAlignment(){return \"auto\"===this._rotationAlignment||\"horizon\"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?\"viewport\":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||\"auto\",this._update(),this}getPitchAlignment(){return \"auto\"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const ca={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:\"\",maxWidth:\"240px\"},ha=[\"a[href]\",\"[tabindex]:not([tabindex='-1'])\",\"[contenteditable]:not([contenteditable='false'])\",\"button:not([disabled])\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].join(\", \");function ua(t=new e.P(0,0),i=\"bottom\"){if(\"number\"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(i){case\"top\":return new e.P(0,t);case\"top-left\":return new e.P(o,o);case\"top-right\":return new e.P(-o,o);case\"bottom\":return new e.P(0,-t);case\"bottom-left\":return new e.P(o,-o);case\"bottom-right\":return new e.P(-o,-o);case\"left\":return new e.P(t,0);case\"right\":return new e.P(-t,0)}return new e.P(0,0)}return t instanceof e.P||Array.isArray(t)?e.P.convert(t):e.P.convert(t[i]||[0,0])}class da{constructor(e){this.jumpTo(e);}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const i=e.cc((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e;}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i;}}const _a={\"AttributionControl.ToggleAttribution\":\"Toggle attribution\",\"AttributionControl.MapFeedback\":\"Map feedback\",\"FullscreenControl.Enter\":\"Enter fullscreen\",\"FullscreenControl.Exit\":\"Exit fullscreen\",\"GeolocateControl.FindMyLocation\":\"Find my location\",\"GeolocateControl.LocationNotAvailable\":\"Location not available\",\"LogoControl.Title\":\"Mapbox logo\",\"Map.Title\":\"Map\",\"NavigationControl.ResetBearing\":\"Reset bearing to north\",\"NavigationControl.ZoomIn\":\"Zoom in\",\"NavigationControl.ZoomOut\":\"Zoom out\",\"ScrollZoomBlocker.CtrlMessage\":\"Use ctrl + scroll to zoom the map\",\"ScrollZoomBlocker.CmdMessage\":\"Use â + scroll to zoom the map\",\"TouchPanBlocker.Message\":\"Use two fingers to move the map\"},pa={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:\"sans-serif\",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1};class fa{constructor(){this.showOverdrawInspector=!1,this.showTileBoundaries=!1,this.showParseStatus=!1,this.continuousRedraw=!1,this.showTileAABBs=!1,this.showPadding=!1,this.showTerrainWireframe=!1,this.showLayers2DWireframe=!1,this.showLayers3DWireframe=!1;}}const ma={showCompass:!0,showZoom:!0,visualizePitch:!1};class ga{constructor(t,i,o=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new In({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,o&&(this.mousePitch=new Dn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.aY([\"mousedown\",\"mousemove\",\"mouseup\",\"touchstart\",\"touchmove\",\"touchend\",\"reset\"],this),i.addEventListener(\"mousedown\",this.mousedown),i.addEventListener(\"touchstart\",this.touchstart,{passive:!1}),i.addEventListener(\"touchmove\",this.touchmove),i.addEventListener(\"touchend\",this.touchend),i.addEventListener(\"touchcancel\",this.reset);}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),h();}move(e,t){const i=this.map,o=this.mouseRotate.mousemoveWindow(e,t),r=o&&o.bearingDelta;if(r&&i.setBearing(i.getBearing()+r),this.mousePitch){const o=this.mousePitch.mousemoveWindow(e,t),r=o&&o.pitchDelta;r&&i.setPitch(i.getPitch()+r);}}off(){const e=this.element;e.removeEventListener(\"mousedown\",this.mousedown),e.removeEventListener(\"touchstart\",this.touchstart,{passive:!1}),e.removeEventListener(\"touchmove\",this.touchmove),e.removeEventListener(\"touchend\",this.touchend),e.removeEventListener(\"touchcancel\",this.reset),this.offTemp();}offTemp(){u(),window.removeEventListener(\"mousemove\",this.mousemove),window.removeEventListener(\"mouseup\",this.mouseup);}mousedown(t){this.down(e.e({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),p(this.element,t)),window.addEventListener(\"mousemove\",this.mousemove),window.addEventListener(\"mouseup\",this.mouseup);}mousemove(e){this.move(e,p(this.element,e));}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp();}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=f(this.element,e.targetTouches)[0],this.down({type:\"mousedown\",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos));}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=f(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos));}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset();}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp();}}const va={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},xa={maxWidth:100,unit:\"metric\"},ya={kilometer:\"km\",meter:\"m\",mile:\"mi\",foot:\"ft\",\"nautical-mile\":\"nm\"},ba={version:e.dk,supported:i,setRTLTextPlugin:e.dm,getRTLTextPluginStatus:e.dn,Map:class extends ia{constructor(t){const i=t;if(null!=(t=e.e({},pa,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error(\"maxZoom must be greater than or equal to minZoom\");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error(\"maxPitch must be greater than or equal to minPitch\");if(null!=t.minPitch&&t.minPitch<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t.antialias&&e.d9(window)&&(t.antialias=!1,e.w(\"Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609\")),super(new mo(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._repaint=!1,this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new sa,this._domRenderTaskQueue=new sa,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.aC(),this._locale=e.e({},_a,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new da(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.da(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,this._contextCreateOptions=t.contextCreateOptions?{...t.contextCreateOptions}:{},\"string\"==typeof t.container){const e=document.getElementById(t.container);if(!e)throw new Error(`Container '${t.container.toString()}' not found.`);this._container=e;}else {if(!(t.container instanceof HTMLElement))throw new Error(\"Invalid type: 'container' must be a String or HTMLElement.\");this._container=t.container;}if(this._container.childNodes.length>0&&e.w(\"The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead.\"),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.aY([\"_onWindowOnline\",\"_onWindowResize\",\"_onVisibilityChange\",\"_onMapScroll\",\"_contextLost\",\"_contextRestored\"],this),this._setupContainer(),this._debugParams=new fa,this._tp=t.devtools?new Js(this):new Js,this._tp.registerParameter(this._debugParams,[\"Debug\"],\"showOverdrawInspector\",void 0,(()=>{this._update();})),this._tp.registerParameter(this._debugParams,[\"Debug\"],\"showTileBoundaries\",void 0,(()=>{this._update();})),this._tp.registerParameter(this._debugParams,[\"Debug\"],\"showParseStatus\",void 0,(()=>{this._update();})),this._tp.registerParameter(this._debugParams,[\"Debug\"],\"continuousRedraw\",void 0,(e=>{this.repaint=e;})),this._tp.registerParameter(this._debugParams,[\"Debug\"],\"showTileAABBs\",void 0,(e=>{this.showTileAABBs=e;})),this._tp.registerParameter(this._debugParams,[\"Debug\"],\"showPadding\",void 0,(e=>{this.showPadding=e;})),this._tp.registerParameter(this._debugParams,[\"Debug\",\"Wireframe\"],\"showTerrainWireframe\",void 0,(()=>{this._update();})),this._tp.registerParameter(this._debugParams,[\"Debug\",\"Wireframe\"],\"showLayers2DWireframe\",void 0,(()=>{this._update();})),this._tp.registerParameter(this._debugParams,[\"Debug\",\"Wireframe\"],\"showLayers3DWireframe\",void 0,(()=>{this._update();})),this._setupPainter(),void 0===this.painter)throw new Error(\"Failed to initialize WebGL.\");if(this.on(\"move\",(()=>this._update(!1))),this.on(\"moveend\",(()=>this._update(!1))),this.on(\"zoom\",(()=>this._update(!0))),this._fullscreenchangeEvent=\"onfullscreenchange\"in document?\"fullscreenchange\":\"webkitfullscreenchange\",window.addEventListener(\"online\",this._onWindowOnline,!1),window.addEventListener(\"resize\",this._onWindowResize,!1),window.addEventListener(\"orientationchange\",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener(\"visibilitychange\",this._onVisibilityChange,!1),this.handlers=new ea(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,(t.style||!t.testMode)&&this.setStyle(t.style||e.d5.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),t.hash&&(this._hash=new rn(\"string\"==typeof t.hash&&t.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){null==i.center&&null==i.zoom||(this.transform._unmodified=!1),this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch});const o=t.bounds;o&&(this.resize(),this.fitBounds(o,e.e({},t.fitBoundsOptions,{duration:0})));}this.resize(),t.attributionControl&&this.addControl(new oa({customAttribution:t.customAttribution})),this._logoControl=new ra,this.addControl(this._logoControl,t.logoPosition),this.on(\"style.load\",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet);})),this.on(\"data\",(t=>{this._update(\"style\"===t.dataType),this.fire(new e.b(`${t.dataType}data`,t));})),this.on(\"dataloading\",(t=>{this.fire(new e.b(`${t.dataType}dataloading`,t));}));}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():\"top-right\"),!t||!t.onAdd)return this.fire(new e.a(new Error(\"Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.\")));const o=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return -1!==i.indexOf(\"bottom\")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.a(new Error(\"Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.\")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new e.b(\"movestart\",t)).fire(new e.b(\"move\",t)),this.fire(new e.b(\"resize\",t)),i&&this.fire(new e.b(\"moveend\",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.ad.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.b(\"zoomstart\")).fire(new e.b(\"zoom\")).fire(new e.b(\"zoomend\")),this;throw new Error(\"minZoom must be between -2 and the current maxZoom, inclusive\")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.b(\"zoomstart\")).fire(new e.b(\"zoom\")).fire(new e.b(\"zoomend\")),this;throw new Error(\"maxZoom must be greater than the current minZoom\")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.b(\"pitchstart\")).fire(new e.b(\"pitch\")).fire(new e.b(\"pitchend\")),this;throw new Error(\"minPitch must be between 0 and the current maxPitch, inclusive\")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.b(\"pitchstart\")).fire(new e.b(\"pitch\")).fire(new e.b(\"pitchend\")),this;throw new Error(\"maxPitch must be greater than or equal to minPitch\")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(e){return \"auto\"===e?navigator.language:Array.isArray(e)?0===e.length?void 0:e.map((e=>\"auto\"===e?navigator.language:e)):e}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style.reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:\"globe\",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return \"globe\"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?\"string\"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.projection)}_updateProjectionTransition(){if(\"globe\"!==this.getProjection().name)return;const t=this.transform,i=t.projection.name;let o;\"globe\"===i&&t.zoom>=e.bx?(t.setMercatorFromTransition(),o=!0):\"mercator\"===i&&t.zoom<e.bx&&(t.setProjection({name:\"globe\"}),o=!0),o&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate());}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:\"mercator\"})}_updateProjection(t){let i;return i=\"globe\"===t.name&&this.transform.zoom>=e.bx?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),i&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(t){return this.transform.locationPoint3D(e.bn.convert(t))}unproject(t){return this.transform.pointLocation3D(e.P.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,i){if(\"mouseenter\"===e||\"mouseover\"===e){let o=!1;const r=r=>{const s=t.filter((e=>this.getLayer(e))),n=s.length?this.queryRenderedFeatures(r.point,{layers:s}):[];n.length?o||(o=!0,i.call(this,new pn(e,this,r.originalEvent,{features:n}))):o=!1;},s=()=>{o=!1;};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:s}}}if(\"mouseleave\"===e||\"mouseout\"===e){let o=!1;const r=r=>{const s=t.filter((e=>this.getLayer(e)));(s.length?this.queryRenderedFeatures(r.point,{layers:s}):[]).length?o=!0:o&&(o=!1,i.call(this,new pn(e,this,r.originalEvent)));},s=t=>{o&&(o=!1,i.call(this,new pn(e,this,t.originalEvent)));};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:s}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features);};return {layers:new Set(t),listener:i,delegates:{[e]:o}}}}on(e,t,i){if(void 0===i)return super.on(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const o=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o);for(const e in o.delegates)this.on(e,o.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const o=this._createDelegatedListener(e,t,i);for(const e in o.delegates)this.once(e,o.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);for(const e of t)if(!this._isValidId(e))return this;const o=(e,t)=>{if(e.size!==t.size)return !1;for(const i of e)if(!t.has(i))return !1;return !0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const s=e[r];if(s.listener===i&&o(s.layers,t)){for(const e in s.delegates)this.off(e,s.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,i){if(!this.style)return [];if(void 0!==i||void 0===t||t instanceof e.P||Array.isArray(t)||(i=t,t=void 0),t=t||[[0,0],[this.transform.width,this.transform.height]],(i=i||{}).layers&&Array.isArray(i.layers))for(const e of i.layers)if(!this._isValidId(e))return [];return this.style.queryRenderedFeatures(t,i,this.transform)}querySourceFeatures(e,t){return this._isValidId(e)?this.style.querySourceFeatures(e,t):[]}isPointOnSurface(t){const{name:i}=this.transform.projection;return \"globe\"!==i&&\"mercator\"!==i&&e.w(`${i} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(e.P.convert(t))}setStyle(t,i){return !1!==(i=e.e({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Mo(this,t||{}),this.style.setEventedParent(this,{style:this.style}),\"string\"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Mo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(t,i){if(\"string\"==typeof t){const o=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(o,e.R.Style);e.g(r,((t,o)=>{t?this.fire(new e.a(t)):o&&this._updateDiff(o,i);}));}else \"object\"==typeof t&&this._updateDiff(t,i);}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0);}catch(o){e.w(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(t,i);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.w(\"There is no style added to the map.\"),!1)}_isValidId(t){return null==t?(this.fire(new e.a(new Error(\"IDs can't be empty.\"))),!1):!e.c4(t)||(this.fire(new e.a(new Error(`IDs can't contain special symbols: \"${t}\".`))),!1)}addSource(e,t){return this._isValidId(e)?(this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)):this}isSourceLoaded(e){return !!this._isValidId(e)&&!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i);}removeSource(e){return this._isValidId(e)?(this.style.removeSource(e),this._updateTerrain(),this._update(!0)):this}getSource(e){return this._isValidId(e)?this.style.getOwnSource(e):null}addImage(t,i,{pixelRatio:o=1,sdf:r=!1,stretchX:s,stretchY:n,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof HTMLImageElement||ImageBitmap&&i instanceof ImageBitmap){const{width:l,height:c,data:h}=e.f.getImageData(i);this.style.addImage(t,{data:new e.h({width:l,height:c},h),pixelRatio:o,stretchX:s,stretchY:n,content:a,sdf:r,version:0});}else if(void 0===i.width||void 0===i.height)this.fire(new e.a(new Error(\"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));else {const{width:l,height:c}=i,h=i;this.style.addImage(t,{data:new e.h({width:l,height:c},new Uint8Array(h.data)),pixelRatio:o,stretchX:s,stretchY:n,content:a,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t);}}updateImage(t,i){this._lazyInitEmptyStyle();const o=this.style.getImage(t);if(!o)return void this.fire(new e.a(new Error(\"The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.\")));const r=i instanceof HTMLImageElement||ImageBitmap&&i instanceof ImageBitmap?e.f.getImageData(i):i,{width:s,height:n}=r,a=r.data;if(void 0===s||void 0===n)return void this.fire(new e.a(new Error(\"Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));if(s!==o.data.width||n!==o.data.height)return void this.fire(new e.a(new Error(`The width and height of the updated image (${s}, ${n})\\n                must be that same as the previous version of the image\\n                (${o.data.width}, ${o.data.height})`)));const l=!(i instanceof HTMLImageElement||ImageBitmap&&i instanceof ImageBitmap);o.data.replace(a,l),this.style.updateImage(t,o);}hasImage(t){return t?!!this.style&&!!this.style.getImage(t):(this.fire(new e.a(new Error(\"Missing required image id\"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(t,i){e.d(this._requestManager.transformRequest(t,e.R.Image),((t,o)=>{i(t,o instanceof HTMLImageElement?e.f.getImageData(o):o);}));}listImages(){return this.style.listImages()}addModel(e,t){this._lazyInitEmptyStyle(),this.style.addModel(e,t);}hasModel(t){return t?this.style.hasModel(t):(this.fire(new e.a(new Error(\"Missing required model id\"))),!1)}removeModel(e){this.style.removeModel(e);}listModels(){return this.style.listModels()}addLayer(e,t){return this._isValidId(e.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)):this}getSlot(e){const t=this.getLayer(e);return t&&t.slot||null}setSlot(e,t){return this.style.setSlot(e,t),this.style.mergeLayers(),this._update(!0)}addImport(e,t){return this.style.addImport(e,t),this}updateImport(e,t){return \"string\"!=typeof t&&t.id!==e?(this.removeImport(e),this.addImport(t)):(this.style.updateImport(e,t),this._update(!0))}removeImport(e){return this.style.removeImport(e),this}moveImport(e,t){return this.style.moveImport(e,t),this._update(!0)}moveLayer(e,t){return this._isValidId(e)?(this.style.moveLayer(e,t),this._update(!0)):this}removeLayer(e){return this._isValidId(e)?(this.style.removeLayer(e),this._update(!0)):this}getLayer(e){return this._isValidId(e)?this.style.getOwnLayer(e):null}setLayerZoomRange(e,t,i){return this._isValidId(e)?(this.style.setLayerZoomRange(e,t,i),this._update(!0)):this}setFilter(e,t,i={}){return this._isValidId(e)?(this.style.setFilter(e,t,i),this._update(!0)):this}getFilter(e){return this._isValidId(e)?this.style.getFilter(e):null}setPaintProperty(e,t,i,o={}){return this._isValidId(e)?(this.style.setPaintProperty(e,t,i,o),this._update(!0)):this}getPaintProperty(e,t){return this._isValidId(e)?this.style.getPaintProperty(e,t):null}setLayoutProperty(e,t,i,o={}){return this._isValidId(e)?(this.style.setLayoutProperty(e,t,i,o),this._update(!0)):this}getLayoutProperty(e,t){return this._isValidId(e)?this.style.getLayoutProperty(e,t):null}getConfigProperty(e,t){return this.style.getConfigProperty(e,t)}setConfigProperty(e,t,i){return this.style.setConfigProperty(e,t,i),this._update(!0)}setLights(e){if(this._lazyInitEmptyStyle(),e&&1===e.length&&\"flat\"===e[0].type){const t=e[0];t.properties?this.style.setFlatLight(t.properties,t.id,{}):this.style.setFlatLight({},\"flat\");}else this.style.setLights(e),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const e=this.style.getLights()||[];return 0===e.length&&e.push({id:this.style.light.id,type:\"flat\",properties:this.style.getFlatLight()}),e}setLight(e,t={}){return console.log(\"The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead.\"),this.setLights([{id:\"flat\",type:\"flat\",properties:e}])}getLight(){return console.log(\"The `map.getLight` function is deprecated, prefer using `map.getLights` instead.\"),this.style.getFlatLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(e){return this.style.setCamera(e),this._triggerCameraUpdate(e)}_triggerCameraUpdate(e){return this._update(this.transform.setOrthographicProjectionAtLowPitch(\"orthographic\"===e[\"camera-projection\"]))}getCamera(){return this.style.camera}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.bn.convert(t),this.transform):0}setFeatureState(e,t){return this._isValidId(e.source)?(this.style.setFeatureState(e,t),this._update()):this}removeFeatureState(e,t){return this._isValidId(e.source)?(this.style.removeFeatureState(e,t),this._update()):this}getFeatureState(e){return this._isValidId(e.source)?this.style.getFeatureState(e):null}_updateContainerDimensions(){if(!this._container)return;const e=this._container.getBoundingClientRect().width||400,t=this._container.getBoundingClientRect().height||300;let i,o,r,s=this._container;for(;s&&(!o||!r);){const e=window.getComputedStyle(s).transform;e&&\"none\"!==e&&(i=e.match(/matrix.*\\((.+)\\)/)[1].split(\", \"),i[0]&&\"0\"!==i[0]&&\"1\"!==i[0]&&(o=i[0]),i[3]&&\"0\"!==i[3]&&\"1\"!==i[3]&&(r=i[3])),s=s.parentElement;}this._containerWidth=o?Math.abs(e/o):e,this._containerHeight=r?Math.abs(t/r):t;}_detectMissingCSS(){\"rgb(250, 128, 114)\"!==window.getComputedStyle(this._missingCSSCanary).getPropertyValue(\"background-color\")&&e.w(\"This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.\");}_setupContainer(){const e=this._container;e.classList.add(\"mapboxgl-map\"),(this._missingCSSCanary=s(\"div\",\"mapboxgl-canary\",e)).style.visibility=\"hidden\",this._detectMissingCSS();const t=this._canvasContainer=s(\"div\",\"mapboxgl-canvas-container\",e);this._canvas=s(\"canvas\",\"mapboxgl-canvas\",t),this._interactive&&(t.classList.add(\"mapboxgl-interactive\"),this._canvas.setAttribute(\"tabindex\",\"0\")),this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"aria-label\",this._getUIString(\"Map.Title\")),this._canvas.setAttribute(\"role\",\"region\"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=s(\"div\",\"mapboxgl-control-container\",e),o=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach((e=>{o[e]=s(\"div\",`mapboxgl-ctrl-${e}`,i);})),this._container.addEventListener(\"scroll\",this._onMapScroll,!1);}_resizeCanvas(t,i){const o=e.f.devicePixelRatio||1;this._canvas.width=o*Math.ceil(t),this._canvas.height=o*Math.ceil(i),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${i}px`;}_addMarker(e){this._markers.push(e);}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1);}_addPopup(e){this._popups.push(e);}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1);}_setupPainter(){const t=e.e({},i.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._canvas.getContext(\"webgl2\",t);o?(e.db(o,!0),this.painter=new tn(o,this._contextCreateOptions,this.transform,this._tp),this.on(\"data\",(e=>{\"source\"===e.dataType&&this.painter.setTileLoadedFlag(!0);})),e.dc.testSupport(o)):this.fire(new e.a(new Error(\"Failed to initialize WebGL\")));}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.b(\"webglcontextlost\",{originalEvent:t}));}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.b(\"webglcontextrestored\",{originalEvent:t}));}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e);}_render(t){let i;this.fire(new e.b(\"renderstart\"));const o=this.painter.context.extTimerQuery,r=e.f.now(),s=this.painter.context.gl;if(this.listens(\"gpu-timing-frame\")&&(i=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const n=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=this.transform.pitch,o=e.f.now(),r=new e.K(t,{now:o,fadeDuration:n,pitch:i,transition:this.style.transition});this.style.update(r);}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(r),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries||this._debugParams.showTileBoundaries,showParseStatus:this.showParseStatus||this._debugParams.showParseStatus,wireframe:{terrain:this.showTerrainWireframe||this._debugParams.showTerrainWireframe,layers2D:this.showLayers2DWireframe||this._debugParams.showLayers2DWireframe,layers3D:this.showLayers3DWireframe||this._debugParams.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector||this._debugParams.showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs||this._debugParams.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding||this._debugParams.showPadding,gpuTiming:!!this.listens(\"gpu-timing-layer\"),gpuTimingDeferredRender:!!this.listens(\"gpu-timing-deferred-render\"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.b(\"render\")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.b(\"load\"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const t=e.f.now()-r;s.endQuery(o.TIME_ELAPSED_EXT),setTimeout((()=>{const o=s.getQueryParameter(i,s.QUERY_RESULT)/1e6;s.deleteQuery(i),this.fire(new e.b(\"gpu-timing-frame\",{cpuTime:t,gpuTime:o}));}),50);}if(this.listens(\"gpu-timing-layer\")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.b(\"gpu-timing-layer\",{layerTimes:i}));}),50);}if(this.listens(\"gpu-timing-deferred-render\")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const i=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.b(\"gpu-timing-deferred-render\",{gpuTime:i}));}),50);}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(l||this._repaint)this.triggerRepaint();else {const t=!this.isMoving()&&this.loaded();if(t&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.b(\"idle\")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.b(\"speedindexcompleted\",{speedIndex:t})),this.speedIndexTiming=!1;}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,this._performanceMetricsCollection&&e.dd(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate());}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update();}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);const o=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(o||(t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let r=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(r)?r=0:this._averageElevationLastSampledAt=e;const s=Math.abs(t-r);if(s>1){if(this._isInitialLoad||o)return this._averageElevation.jumpTo(r),i(r);this._averageElevation.easeTo(r,e,300);}else if(s>1e-4)return this._averageElevation.jumpTo(r),i(r)}return !!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){e.de(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.df||401===t.status)){const t=this.painter.context.gl;e.db(t,!1),this._logoControl instanceof ra&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.a(new Error(\"A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/\")));}})),e.dg(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}));}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e);}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,o=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,o),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let o=i[1]-i[0];const r=e.length/4;for(let s=0;s<t.length;s++){const n=t[s];let a=0;for(let t=0;t<n.length;t+=4)n[t]===e[t]&&n[t+1]===e[t+1]&&n[t+2]===e[t+2]&&n[t+3]===e[t+3]&&(a+=1);o+=(i[s+2]-i[s+1])*(1-a/r);}return o}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener(\"resize\",this._onWindowResize,!1),window.removeEventListener(\"orientationchange\",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener(\"online\",this._onWindowOnline,!1),window.removeEventListener(\"visibilitychange\",this._onVisibilityChange,!1);const t=this.painter.context.gl.getExtension(\"WEBGL_lose_context\");t&&t.loseContext(),this._canvas.removeEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.removeEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove(\"mapboxgl-map\"),this._container.removeEventListener(\"scroll\",this._onMapScroll,!1),e.dh(this.painter.context.gl),e.di.remove(),e.dj.remove(),this._removed=!0,this.fire(new e.b(\"remove\"));}triggerRepaint(){this._triggerFrame(!0);}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.f.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e);})));}_preloadTiles(t){const i=this.style?Object.values(this.style._sourceCaches):[];return e.b1(i,((e,i)=>e._preloadTiles(t,i)),(()=>{this.triggerRepaint();})),this}_onWindowOnline(){this._update();}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update();}_onVisibilityChange(){\"hidden\"===document.visibilityState&&this._visibilityHidden++;}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showParseStatus(){return !!this._showParseStatus}set showParseStatus(e){this._showParseStatus!==e&&(this._showParseStatus=e,this._update());}get showTerrainWireframe(){return !!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update());}get showLayers2DWireframe(){return !!this._showLayers2DWireframe}set showLayers2DWireframe(e){this._showLayers2DWireframe!==e&&(this._showLayers2DWireframe=e,this._update());}get showLayers3DWireframe(){return !!this._showLayers3DWireframe}set showLayers3DWireframe(e){this._showLayers3DWireframe!==e&&(this._showLayers3DWireframe=e,this._update());}get speedIndexTiming(){return !!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}get showTileAABBs(){return !!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update());}_setCacheLimits(t,i){e.dl(t,i);}get version(){return e.dk}},NavigationControl:class{constructor(t){this.options=e.e({},ma,t),this._container=s(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this.options.showZoom&&(e.aY([\"_setButtonTitle\",\"_updateZoomButtons\"],this),this._zoomInButton=this._createButton(\"mapboxgl-ctrl-zoom-in\",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e});})),s(\"span\",\"mapboxgl-ctrl-icon\",this._zoomInButton).setAttribute(\"aria-hidden\",\"true\"),this._zoomOutButton=this._createButton(\"mapboxgl-ctrl-zoom-out\",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e});})),s(\"span\",\"mapboxgl-ctrl-icon\",this._zoomOutButton).setAttribute(\"aria-hidden\",\"true\")),this.options.showCompass&&(e.aY([\"_rotateCompassArrow\"],this),this._compass=this._createButton(\"mapboxgl-ctrl-compass\",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}));})),this._compassIcon=s(\"span\",\"mapboxgl-ctrl-icon\",this._compass),this._compassIcon.setAttribute(\"aria-hidden\",\"true\"));}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),o=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute(\"aria-disabled\",i.toString()),this._zoomOutButton.setAttribute(\"aria-disabled\",o.toString());}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t);}));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,\"ZoomIn\"),this._setButtonTitle(this._zoomOutButton,\"ZoomOut\"),e.on(\"zoom\",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,\"ResetBearing\"),this.options.visualizePitch&&e.on(\"pitch\",this._rotateCompassArrow),e.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ga(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off(\"zoom\",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off(\"pitch\",this._rotateCompassArrow),e.off(\"rotate\",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0);}_createButton(e,t){const i=s(\"button\",e,this._container);return i.type=\"button\",i.addEventListener(\"click\",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute(\"aria-label\",i),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}},GeolocateControl:class extends e.E{constructor(t){super();const i=navigator.geolocation;this.options=e.e({geolocation:i},va,t),e.aY([\"_onSuccess\",\"_onError\",\"_onZoom\",\"_finish\",\"_setupUI\",\"_updateCamera\",\"_updateMarker\",\"_updateMarkerRotation\",\"_onDeviceOrientation\"],this),this._updateMarkerRotationThrottled=on(this._updateMarkerRotation,20),this._numberOfWatches=0;}onAdd(e){return this._map=e,this._container=s(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off(\"zoom\",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1;}_checkGeolocationSupport(e){const t=(t=!!this.options.geolocation)=>{this._supportsGeolocation=t,e(t);};void 0!==this._supportsGeolocation?e(this._supportsGeolocation):void 0!==navigator.permissions?navigator.permissions.query({name:\"geolocation\"}).then((e=>t(\"denied\"!==e.state))).catch((()=>t())):t();}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return !!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case\"WAITING_ACTIVE\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"ACTIVE_LOCK\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");break;case\"BACKGROUND\":this._watchState=\"BACKGROUND_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.b(\"outofmaxbounds\",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"BACKGROUND\":case\"BACKGROUND_ERROR\":this._watchState=\"BACKGROUND\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");}this.options.showUserLocation&&\"OFF\"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&\"ACTIVE_LOCK\"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.b(\"geolocate\",t)),this._finish();}}_updateCamera(t){const i=new e.bn(t.coords.longitude,t.coords.latitude),o=t.coords.accuracy,r=this._map.getBearing(),s=e.e({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),s,{geolocateSource:!0});}_updateMarker(t){if(t){const i=new e.bn(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();}_updateCircleRadius(){const t=this._map.transform,i=e.bl(1,t._center.lat)*t.worldSize,o=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`;}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}_updateMarkerRotation(){this._userLocationDotMarker&&\"number\"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-show-heading\")):(this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-show-heading\"),this._userLocationDotMarker.setRotation(0));}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.disabled=!0;const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===t.code&&this._noTimeout)return;this._setErrorState();}\"OFF\"!==this._watchState&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.b(\"error\",t)),this._finish();}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this._geolocateButton=s(\"button\",\"mapboxgl-ctrl-geolocate\",this._container),s(\"span\",\"mapboxgl-ctrl-icon\",this._geolocateButton).setAttribute(\"aria-hidden\",\"true\"),this._geolocateButton.type=\"button\",!1===t){e.w(\"Geolocation support is not available so the GeolocateControl will be disabled.\");const t=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute(\"aria-label\",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",t);}else {const e=this._map._getUIString(\"GeolocateControl.FindMyLocation\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this._watchState=\"OFF\"),this.options.showUserLocation&&(this._dotElement=s(\"div\",\"mapboxgl-user-location\"),this._dotElement.appendChild(s(\"div\",\"mapboxgl-user-location-dot\")),this._dotElement.appendChild(s(\"div\",\"mapboxgl-user-location-heading\")),this._userLocationDotMarker=new la({element:this._dotElement,rotationAlignment:\"map\",pitchAlignment:\"map\"}),this._circleElement=s(\"div\",\"mapboxgl-user-location-accuracy-circle\"),this._accuracyCircleMarker=new la({element:this._circleElement,pitchAlignment:\"map\"}),this.options.trackUserLocation&&(this._watchState=\"OFF\"),this._map.on(\"zoom\",this._onZoom)),this._geolocateButton.addEventListener(\"click\",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(\"movestart\",(t=>{t.geolocateSource||\"ACTIVE_LOCK\"!==this._watchState||t.originalEvent&&\"resize\"===t.originalEvent.type||(this._watchState=\"BACKGROUND\",this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this.fire(new e.b(\"trackuserlocationend\")));}));}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled());}trigger(){if(!this._setup)return e.w(\"Geolocate control triggered before added to a map\"),!1;if(this.options.trackUserLocation){switch(this._watchState){case\"OFF\":this._watchState=\"WAITING_ACTIVE\",this.fire(new e.b(\"trackuserlocationstart\"));break;case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":case\"BACKGROUND_ERROR\":this._numberOfWatches--,this._noTimeout=!1,this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this.fire(new e.b(\"trackuserlocationend\"));break;case\"BACKGROUND\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.b(\"trackuserlocationstart\"));}switch(this._watchState){case\"WAITING_ACTIVE\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_LOCK\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"BACKGROUND\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");break;case\"BACKGROUND_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\");}if(\"OFF\"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"true\"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener();}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_addDeviceOrientationListener(){const e=()=>{\"ondeviceorientationabsolute\"in window?window.addEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation):window.addEventListener(\"deviceorientation\",this._onDeviceOrientation);};\"undefined\"!=typeof DeviceMotionEvent&&\"function\"==typeof DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{\"granted\"===t&&e();})).catch(console.error):e();}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener(\"deviceorientation\",this._onDeviceOrientation),window.removeEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this.options.showUserLocation&&this._updateMarker(null);}},AttributionControl:oa,ScaleControl:class{constructor(t){this.options=e.e({},xa,t),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat(\"en\",{style:\"unit\",unitDisplay:\"short\",unit:\"meter\"}),!0}catch(e){return !1}}(),e.aY([\"_update\",\"_setScale\",\"setUnit\"],this);}getDefaultPosition(){return \"bottom-left\"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,o=t._containerWidth/2-e/2,r=t.unproject([o,i]),s=t.unproject([o+e,i]),n=r.distanceTo(s);if(\"imperial\"===this.options.unit){const t=3.2808*n;t>5280?this._setScale(e,t/5280,\"mile\"):this._setScale(e,t,\"foot\");}else \"nautical\"===this.options.unit?this._setScale(e,n/1852,\"nautical-mile\"):n>=1e3?this._setScale(e,n/1e3,\"kilometer\"):this._setScale(e,n,\"meter\");}_setScale(e,t,i){this._map._requestDomTask((()=>{const o=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(t),r=o/t;this._container.innerHTML=this._isNumberFormatSupported&&\"nautical-mile\"!==i?new Intl.NumberFormat(this._language,{style:\"unit\",unitDisplay:\"short\",unit:i}).format(o):`${o}&nbsp;${ya[i]}`,this._container.style.width=e*r+\"px\";}));}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=s(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",e.getContainer()),this._container.dir=\"auto\",this._map.on(\"move\",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off(\"move\",this._update),this._map=void 0;}_setLanguage(e){this._language=e,this._update();}setUnit(e){this.options.unit=e,this._update();}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.w(\"Full screen control 'container' must be a DOM element.\")),e.aY([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in document?this._fullscreenchange=\"fullscreenchange\":\"onwebkitfullscreenchange\"in document&&(this._fullscreenchange=\"webkitfullscreenchange\");}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=s(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=\"none\",e.w(\"This device does not support fullscreen mode.\")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon);}_checkFullscreenSupport(){return !(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=s(\"button\",\"mapboxgl-ctrl-fullscreen\",this._controlContainer);s(\"span\",\"mapboxgl-ctrl-icon\",e).setAttribute(\"aria-hidden\",\"true\"),e.type=\"button\",this._updateTitle(),this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute(\"aria-label\",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute(\"title\",e);}_getTitle(){return this._map._getUIString(this._isFullscreen()?\"FullscreenControl.Exit\":\"FullscreenControl.Enter\")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-shrink\"),this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-fullscreen\"),this._updateTitle());}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen();}},Popup:class extends e.E{constructor(t){super(),this.options=e.e(Object.create(ca),t),e.aY([\"_update\",\"_onClose\",\"remove\",\"_onMouseEvent\"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\\s+/):[]);}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on(\"preclick\",this._onClose),this.options.closeOnMove&&t.on(\"move\",this._onClose),t.on(\"remove\",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on(\"mousemove\",this._onMouseEvent),t.on(\"mouseup\",this._onMouseEvent),t._canvasContainer.classList.add(\"mapboxgl-track-pointer\")):t.on(\"move\",this._update),this.fire(new e.b(\"open\")),this}isOpen(){return !!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off(\"move\",this._update),t.off(\"move\",this._onClose),t.off(\"preclick\",this._onClose),t.off(\"click\",this._onClose),t.off(\"remove\",this.remove),t.off(\"mousemove\",this._onMouseEvent),t.off(\"mouseup\",this._onMouseEvent),t.off(\"drag\",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove(\"mapboxgl-track-pointer\"),t._removePopup(this),this._map=void 0),this.fire(new e.b(\"close\")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.bn.convert(t),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on(\"move\",this._update),i.off(\"mousemove\",this._onMouseEvent),i._canvasContainer.classList.remove(\"mapboxgl-track-pointer\")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off(\"move\",this._update),e.on(\"mousemove\",this._onMouseEvent),e.on(\"drag\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),i=document.createElement(\"body\");let o;for(i.innerHTML=e;o=i.firstChild,o;)t.appendChild(o);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=s(\"div\",\"mapboxgl-popup-content\",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=s(\"button\",\"mapboxgl-popup-close-button\",t);e.type=\"button\",e.setAttribute(\"aria-label\",\"Close popup\"),e.setAttribute(\"aria-hidden\",\"true\"),e.innerHTML=\"&#215;\",e.addEventListener(\"click\",this._onClose);}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point);}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,o=this._pos;if(!t||!i||!o)return \"bottom\";const r=i.offsetWidth,s=i.offsetHeight,n=o.x<r/2,a=o.x>t.transform.width-r/2;if(o.y+e<s)return n?\"top-left\":a?\"top-right\":\"top\";if(o.y>t.transform.height-s){if(n)return \"bottom-left\";if(a)return \"bottom-right\"}return n?\"left\":a?\"right\":\"bottom\"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push(\"mapboxgl-popup\"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push(\"mapboxgl-popup-track-pointer\"),e.className=t.join(\" \");}_update(t){const i=this._map,o=this._content;if(!i||!this._lngLat&&!this._trackPointer||!o)return;let r=this._container;if(r||(r=this._container=s(\"div\",\"mapboxgl-popup\",i.getContainer()),this._tip=s(\"div\",\"mapboxgl-popup-tip\",r),r.appendChild(o)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=na(this._lngLat,this._pos,i.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:i.project(this._lngLat),o=ua(this.options.offset),r=this._anchor=this._getAnchor(o.y),s=ua(this.options.offset,r),n=e.add(s).round();i._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${aa[r]} translate(${n.x}px,${n.y}px)`);}));}if(!this._marker&&i._showingGlobe()){const t=e.d6(i.transform,this._lngLat)?0:1;this._setOpacity(t);}this._updateClassList();}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(ha);e&&e.focus();}_onClose(){this.remove();}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?\"auto\":\"none\");}},Marker:la,Style:Mo,LngLat:e.bn,LngLatBounds:e.ad,Point:e.P,MercatorCoordinate:e.L,FreeCameraOptions:uo,Evented:e.E,config:e.d5,prewarm:e.dp,clearPrewarmedResources:e.dq,get accessToken(){return e.d5.ACCESS_TOKEN},set accessToken(t){e.d5.ACCESS_TOKEN=t;},get baseApiUrl(){return e.d5.API_URL},set baseApiUrl(t){e.d5.API_URL=t;},get workerCount(){return e.dr.workerCount},set workerCount(t){e.dr.workerCount=t;},get maxParallelImageRequests(){return e.d5.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.d5.MAX_PARALLEL_IMAGE_REQUESTS=t;},clearStorage(t){e.ds(t);},get workerUrl(){return e.dt.workerUrl},set workerUrl(t){e.dt.workerUrl=t;},get workerClass(){return e.dt.workerClass},set workerClass(t){e.dt.workerClass=t;},get workerParams(){return e.dt.workerParams},set workerParams(t){e.dt.workerParams=t;},get dracoUrl(){return e.du()},set dracoUrl(t){e.dv(t);},get meshoptUrl(){return e.dw()},set meshoptUrl(t){e.dx(t);},setNow:e.f.setNow,restoreNow:e.f.restoreNow};return ba}));\n\n//\n// Our custom intro provides a specialized \"define()\" function, called by the\n// AMD modules below, that sets up the worker blob URL and then executes the\n// main module, storing its exported value as 'mapboxgl'\n\n\nvar mapboxgl$1 = mapboxgl;\n\nreturn mapboxgl$1;\n\n}));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0EsS0FBNEQ7QUFDNUQsQ0FDdUc7QUFDdkcsQ0FBQyx1QkFBdUI7O0FBRXhCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRiwwREFBMEQsaUlBQWlJLGtGQUFrRixzQkFBc0IsK0JBQStCLCtCQUErQixvQkFBb0I7O0FBRXJYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLHlCQUF5QjtBQUNsSDtBQUNBO0FBQ0E7OztBQUdBLGdDQUFnQyxhQUFhLGNBQWMsTUFBTSxTQUFTLHFEQUFxRCxZQUFZLGlFQUFpRSxJQUFJLFFBQVEsT0FBTyw4QkFBOEIsT0FBTyx1QkFBdUIsU0FBUyxNQUFNLFNBQVMsMEJBQTBCLCtFQUErRSx3QkFBd0IsK0ZBQStGLHVCQUF1Qix1RkFBdUYsdUJBQXVCLGlGQUFpRix5QkFBeUIsd0VBQXdFLGtCQUFrQiwwQkFBMEIsSUFBSSwyQkFBMkIsa0pBQWtKLFNBQVMsYUFBYSxtakJBQW1qQixVQUFVLEVBQUUsTUFBTSxPQUFPLGNBQWMsK0JBQStCLGNBQWMsZ0NBQWdDLGNBQWMsbUNBQW1DLGNBQWMsa0NBQWtDLGNBQWMsd0NBQXdDLFNBQVMsaURBQWlELGNBQWMsNkJBQTZCLHlHQUF5RyxpQ0FBaUMsdURBQXVELG9DQUFvQyx1QkFBdUIsY0FBYyxzRkFBc0YsUUFBUSxvQkFBb0IseUtBQXlLLGFBQWEseUJBQXlCLHlDQUF5QywwQkFBMEIseUNBQXlDLG9DQUFvQyx5Q0FBeUMsMkJBQTJCLHFDQUFxQyxnQkFBZ0IsZ0JBQWdCLElBQUksS0FBSyw2QkFBNkIsMEJBQTBCLHFDQUFxQywwQkFBMEIsUUFBUSxZQUFZLFlBQVksa0RBQWtELDZCQUE2QixTQUFTLHFCQUFxQixrREFBa0QsZUFBZSxnQkFBZ0IsbUJBQW1C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LHFCQUFxQix5QkFBeUIscUJBQXFCLHlEQUF5RCwwQ0FBMEMsY0FBYyxXQUFXLGVBQWUsZUFBZSxtREFBbUQsRUFBRSx3RUFBd0UsNExBQTRMLHlCQUF5QixvQkFBb0IscUJBQXFCLGtCQUFrQixvQkFBb0IsbUJBQW1CLGdCQUFnQixtQkFBbUIsd0JBQXdCLG9CQUFvQixvQkFBb0IsZ0NBQWdDLHdDQUF3QyxpQ0FBaUMsb0NBQW9DLGlCQUFpQixTQUFTLGlCQUFpQixzQkFBc0Isa0JBQWtCLGtCQUFrQixtQkFBbUIsd0JBQXdCLG9CQUFvQixvQkFBb0Isb0JBQW9CLHlCQUF5QixxQkFBcUIscUJBQXFCLGdCQUFnQixjQUFjLGlCQUFpQixTQUFTLGtCQUFrQixjQUFjLG1CQUFtQixTQUFTLDhDQUE4QyxVQUFVOztBQUVyZzNyQjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzPzNkYzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogTWFwYm94IEdMIEpTIGlzIENvcHlyaWdodCDCqSAyMDIwIE1hcGJveCBhbmQgc3ViamVjdCB0byB0aGUgTWFwYm94IFRlcm1zIG9mIFNlcnZpY2UgKChodHRwczovL3d3dy5tYXBib3guY29tL2xlZ2FsL3Rvcy8pLiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbnR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbnR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4oZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFwYm94Z2wgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG52YXIgc2hhcmVkLCB3b3JrZXIsIG1hcGJveGdsO1xuLy8gZGVmaW5lIGdldHMgY2FsbGVkIHRocmVlIHRpbWVzOiBvbmUgZm9yIGVhY2ggY2h1bmsuIHdlIHJlbHkgb24gdGhlIG9yZGVyXG4vLyB0aGV5J3JlIGltcG9ydGVkIHRvIGtub3cgd2hpY2ggaXMgd2hpY2hcbmZ1bmN0aW9uIGRlZmluZShfLCBjaHVuaykge1xuaWYgKCFzaGFyZWQpIHtcbiAgICBzaGFyZWQgPSBjaHVuaztcbn0gZWxzZSBpZiAoIXdvcmtlcikge1xuICAgIHdvcmtlciA9IGNodW5rO1xufSBlbHNlIHtcbiAgICB2YXIgd29ya2VyQnVuZGxlU3RyaW5nID0gXCJzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgV2ViV29ya2VyIGJ1bmRsZS4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gaW1wcm9wZXIgdHJhbnNwaWxhdGlvbiBieSBCYWJlbDsgcGxlYXNlIHNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZ3VpZGVzL2luc3RhbGwvI3RyYW5zcGlsaW5nJyk7IH07IHZhciBzaGFyZWRDaHVuayA9IHt9OyAoXCIgKyBzaGFyZWQgKyBcIikoc2hhcmVkQ2h1bmspOyAoXCIgKyB3b3JrZXIgKyBcIikoc2hhcmVkQ2h1bmspOyBzZWxmLm9uZXJyb3IgPSBudWxsO1wiXG5cbiAgICB2YXIgc2hhcmVkQ2h1bmsgPSB7fTtcbiAgICBzaGFyZWQoc2hhcmVkQ2h1bmspO1xuICAgIG1hcGJveGdsID0gY2h1bmsoc2hhcmVkQ2h1bmspO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgJiYgd2luZG93LlVSTCAmJiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xuICAgICAgICBtYXBib3hnbC53b3JrZXJVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbd29ya2VyQnVuZGxlU3RyaW5nXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KSk7XG4gICAgfVxufVxufVxuXG5cbmRlZmluZShbXCJleHBvcnRzXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cIjMuMy4wXCI7bGV0IHI7Y29uc3Qgbj17QVBJX1VSTDpcImh0dHBzOi8vYXBpLm1hcGJveC5jb21cIixnZXQgQVBJX1VSTF9SRUdFWCgpe2lmKG51bGw9PXIpe2NvbnN0IHQ9L14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvfFxcP3wkKS9pO3RyeXtyPW51bGwhPXByb2Nlc3MuZW52LkFQSV9VUkxfUkVHRVg/bmV3IFJlZ0V4cChwcm9jZXNzLmVudi5BUElfVVJMX1JFR0VYKTp0O31jYXRjaChlKXtyPXQ7fX1yZXR1cm4gcn0sZ2V0IEFQSV9USUxFSlNPTl9SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC92WzAtOV0qXFwvLipcXC5qc29uLiokKS9pfSxnZXQgQVBJX1NQUklURV9SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKlxcL3Nwcml0ZS4qXFwuLiokKS9pfSxnZXQgQVBJX0ZPTlRTX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL2ZvbnRzXFwvdlswLTldKlxcLykoLipcXC5wYmYuKiQpL2l9LGdldCBBUElfU1RZTEVfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvc3R5bGVzXFwvdlswLTldKlxcLykoLiokKS9pfSxnZXQgQVBJX0NETl9VUkxfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/YXBpXFwubWFwYm94XFwuYyhufG9tKShcXC9tYXBib3gtZ2wtanNcXC8pKC4qJCkvaX0sZ2V0IEVWRU5UU19VUkwoKXtpZighbi5BUElfVVJMKXJldHVybiBudWxsO3RyeXtjb25zdCB0PW5ldyBVUkwobi5BUElfVVJMKTtyZXR1cm4gXCJhcGkubWFwYm94LmNuXCI9PT10Lmhvc3RuYW1lP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92MlwiOlwiYXBpLm1hcGJveC5jb21cIj09PXQuaG9zdG5hbWU/XCJodHRwczovL2V2ZW50cy5tYXBib3guY29tL2V2ZW50cy92MlwiOm51bGx9Y2F0Y2godCl7cmV0dXJuIG51bGx9fSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJBU1RFUkFSUkFZU19VUkxfUFJFRklYOlwicmFzdGVyYXJyYXlzL3YxXCIsUkVRVUlSRV9BQ0NFU1NfVE9LRU46ITAsQUNDRVNTX1RPS0VOOm51bGwsREVGQVVMVF9TVFlMRTpcIm1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RhbmRhcmRcIixNQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM6MTYsRFJBQ09fVVJMOlwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZHJhY29fZGVjb2Rlcl9nbHRmX3YxLjUuNi53YXNtXCIsTUVTSE9QVF9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy9tZXNob3B0X2Jhc2VfdjAuMjAud2FzbVwiLE1FU0hPUFRfU0lNRF9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy9tZXNob3B0X3NpbWRfdjAuMjAud2FzbVwiLEdMWVBIU19VUkw6XCJtYXBib3g6Ly9mb250cy9tYXBib3gve2ZvbnRzdGFja30ve3JhbmdlfS5wYmZcIn07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbi5BUElfVVJMX1JFR0VYLnRlc3QodCl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihcIm1hcGJveDpcIil9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gbi5BUElfQ0ROX1VSTF9SRUdFWC50ZXN0KHQpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIG4uQVBJX1NQUklURV9SRUdFWC50ZXN0KHQpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIG4uQVBJX1NUWUxFX1JFR0VYLnRlc3QodCkmJiFvKHQpfWNvbnN0IHU9e2NyZWF0ZTpcImNyZWF0ZVwiLGxvYWQ6XCJsb2FkXCIsZnVsbExvYWQ6XCJmdWxsTG9hZFwifTtmdW5jdGlvbiBjKHQpe2NvbnN0IGU9dC5uYW1lLnNwbGl0KFwiP1wiKVswXTtyZXR1cm4gcyhlKSYmZS5pbmNsdWRlcyhcIm1hcGJveC1nbC5qc1wiKT9cImphdmFzY3JpcHRcIjpzKGUpJiZlLmluY2x1ZGVzKFwibWFwYm94LWdsLmNzc1wiKT9cImNzc1wiOmZ1bmN0aW9uKHQpe3JldHVybiBuLkFQSV9GT05UU19SRUdFWC50ZXN0KHQpfShlKT9cImZvbnRSYW5nZVwiOm8oZSk/XCJzcHJpdGVcIjpsKGUpP1wic3R5bGVcIjpmdW5jdGlvbih0KXtyZXR1cm4gbi5BUElfVElMRUpTT05fUkVHRVgudGVzdCh0KX0oZSk/XCJ0aWxlanNvblwiOlwib3RoZXJcIn1mdW5jdGlvbiBoKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiZGVmYXVsdFwiKT90LmRlZmF1bHQ6dH12YXIgcD1mO2Z1bmN0aW9uIGYodCxlLHIsbil7dGhpcy5jeD0zKnQsdGhpcy5ieD0zKihyLXQpLXRoaXMuY3gsdGhpcy5heD0xLXRoaXMuY3gtdGhpcy5ieCx0aGlzLmN5PTMqZSx0aGlzLmJ5PTMqKG4tZSktdGhpcy5jeSx0aGlzLmF5PTEtdGhpcy5jeS10aGlzLmJ5LHRoaXMucDF4PXQsdGhpcy5wMXk9ZSx0aGlzLnAyeD1yLHRoaXMucDJ5PW47fWYucHJvdG90eXBlPXtzYW1wbGVDdXJ2ZVg6ZnVuY3Rpb24odCl7cmV0dXJuICgodGhpcy5heCp0K3RoaXMuYngpKnQrdGhpcy5jeCkqdH0sc2FtcGxlQ3VydmVZOmZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXkqdCt0aGlzLmJ5KSp0K3RoaXMuY3kpKnR9LHNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg6ZnVuY3Rpb24odCl7cmV0dXJuICgzKnRoaXMuYXgqdCsyKnRoaXMuYngpKnQrdGhpcy5jeH0sc29sdmVDdXJ2ZVg6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0xZS02KSx0PDApcmV0dXJuIDA7aWYodD4xKXJldHVybiAxO2Zvcih2YXIgcj10LG49MDtuPDg7bisrKXt2YXIgaT10aGlzLnNhbXBsZUN1cnZlWChyKS10O2lmKE1hdGguYWJzKGkpPGUpcmV0dXJuIHI7dmFyIGE9dGhpcy5zYW1wbGVDdXJ2ZURlcml2YXRpdmVYKHIpO2lmKE1hdGguYWJzKGEpPDFlLTYpYnJlYWs7ci09aS9hO312YXIgcz0wLG89MTtmb3Iocj10LG49MDtuPDIwJiYoaT10aGlzLnNhbXBsZUN1cnZlWChyKSwhKE1hdGguYWJzKGktdCk8ZSkpO24rKyl0Pmk/cz1yOm89cixyPS41KihvLXMpK3M7cmV0dXJuIHJ9LHNvbHZlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgodCxlKSl9fTt2YXIgZD1oKHApLG09eTtmdW5jdGlvbiB5KHQsZSl7dGhpcy54PXQsdGhpcy55PWU7fXkucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgeSh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZCh0KX0sc3ViOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3N1Yih0KX0sbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdEJ5UG9pbnQodCl9LGRpdkJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2QnlQb2ludCh0KX0sbXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0KHQpfSxkaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2KHQpfSxyb3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlKHQpfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGVBcm91bmQodCxlKX0sbWF0TXVsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tYXRNdWx0KHQpfSx1bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fdW5pdCgpfSxwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcGVycCgpfSxyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCl9LG1hZzpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX0sZGlzdDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdFNxcih0KSl9LGRpc3RTcXI6ZnVuY3Rpb24odCl7dmFyIGU9dC54LXRoaXMueCxyPXQueS10aGlzLnk7cmV0dXJuIGUqZStyKnJ9LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LGFuZ2xlVG86ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LXQueSx0aGlzLngtdC54KX0sYW5nbGVXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFuZ2xlV2l0aFNlcCh0LngsdC55KX0sYW5nbGVXaXRoU2VwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy54KmUtdGhpcy55KnQsdGhpcy54KnQrdGhpcy55KmUpfSxfbWF0TXVsdDpmdW5jdGlvbih0KXt2YXIgZT10WzJdKnRoaXMueCt0WzNdKnRoaXMueTtyZXR1cm4gdGhpcy54PXRbMF0qdGhpcy54K3RbMV0qdGhpcy55LHRoaXMueT1lLHRoaXN9LF9hZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXN9LF9zdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXN9LF9tdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LF9kaXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPXQsdGhpc30sX211bHRCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxfZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc30sX3VuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGl2KHRoaXMubWFnKCkpLHRoaXN9LF9wZXJwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55O3JldHVybiB0aGlzLnk9dGhpcy54LHRoaXMueD0tdCx0aGlzfSxfcm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLHI9TWF0aC5zaW4odCksbj1yKnRoaXMueCtlKnRoaXMueTtyZXR1cm4gdGhpcy54PWUqdGhpcy54LXIqdGhpcy55LHRoaXMueT1uLHRoaXN9LF9yb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlKXt2YXIgcj1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpLGk9ZS55K24qKHRoaXMueC1lLngpK3IqKHRoaXMueS1lLnkpO3JldHVybiB0aGlzLng9ZS54K3IqKHRoaXMueC1lLngpLW4qKHRoaXMueS1lLnkpLHRoaXMueT1pLHRoaXN9LF9yb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc319LHkuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHk/dDpBcnJheS5pc0FycmF5KHQpP25ldyB5KHRbMF0sdFsxXSk6dH07dmFyIGc9aChtKTtjb25zdCB4PU1hdGguUEkvMTgwLHY9MTgwL01hdGguUEk7ZnVuY3Rpb24gYih0KXtyZXR1cm4gdCp4fWZ1bmN0aW9uIF8odCl7cmV0dXJuIHQqdn1jb25zdCB3PVtbMCwwXSxbMSwwXSxbMSwxXSxbMCwxXV07ZnVuY3Rpb24gTSh0KXtpZih0PD0wKXJldHVybiAwO2lmKHQ+PTEpcmV0dXJuIDE7Y29uc3QgZT10KnQscj1lKnQ7cmV0dXJuIDQqKHQ8LjU/cjozKih0LWUpK3ItLjc1KX1mdW5jdGlvbiBBKHQsZSxyLG4pe2NvbnN0IGk9bmV3IGQodCxlLHIsbik7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBpLnNvbHZlKHQpfX1jb25zdCBTPUEoLjI1LC4xLC4yNSwxKTtmdW5jdGlvbiBJKHQsZSxyKXtyZXR1cm4gTWF0aC5taW4ocixNYXRoLm1heChlLHQpKX1mdW5jdGlvbiBrKHQsZSxyKXtyZXR1cm4gKHI9SSgoci10KS8oZS10KSwwLDEpKSpyKigzLTIqcil9ZnVuY3Rpb24gUCh0LGUscil7Y29uc3Qgbj1yLWUsaT0oKHQtZSklbituKSVuK2U7cmV0dXJuIGk9PT1lP3I6aX1mdW5jdGlvbiBFKHQsZSxyKXtpZighdC5sZW5ndGgpcmV0dXJuIHIobnVsbCxbXSk7bGV0IG49dC5sZW5ndGg7Y29uc3QgaT1uZXcgQXJyYXkodC5sZW5ndGgpO2xldCBhPW51bGw7dC5mb3JFYWNoKCgodCxzKT0+e2UodCwoKHQsZSk9Pnt0JiYoYT10KSxpW3NdPWUsMD09LS1uJiZyKGEsaSk7fSkpO30pKTt9ZnVuY3Rpb24geih0LC4uLmUpe2Zvcihjb25zdCByIG9mIGUpZm9yKGNvbnN0IGUgaW4gcil0W2VdPXJbZV07cmV0dXJuIHR9bGV0IFQ9MTtmdW5jdGlvbiBCKCl7cmV0dXJuIFQrK31mdW5jdGlvbiBDKCl7cmV0dXJuIGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU/KGVeTWF0aC5yYW5kb20oKSooMTY+PmUvNCkpLnRvU3RyaW5nKDE2KTooWzFlN10rLVsxZTNdKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyx0KX0oKX1mdW5jdGlvbiBSKHQpe3JldHVybiB0PD0xPzE6TWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2codCkvTWF0aC5MTjIpKX1mdW5jdGlvbiBEKHQpe3JldHVybiAhIXQmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QodCl9ZnVuY3Rpb24gVih0LGUpe3QuZm9yRWFjaCgodD0+e2VbdF0mJihlW3RdPWVbdF0uYmluZChlKSk7fSkpO31mdW5jdGlvbiBMKHQsZSl7cmV0dXJuIC0xIT09dC5pbmRleE9mKGUsdC5sZW5ndGgtZS5sZW5ndGgpfWZ1bmN0aW9uIEYodCxlLHIpe2NvbnN0IG49e307Zm9yKGNvbnN0IGkgaW4gdCluW2ldPWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KTtyZXR1cm4gbn1mdW5jdGlvbiBOKHQsZSxyKXtjb25zdCBuPXt9O2Zvcihjb25zdCBpIGluIHQpZS5jYWxsKHJ8fHRoaXMsdFtpXSxpLHQpJiYobltpXT10W2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBPKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKE8pOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P0YodCxPKTp0fWNvbnN0IFU9e307ZnVuY3Rpb24gaih0KXtVW3RdfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0KSxVW3RdPSEwKTt9ZnVuY3Rpb24gcSh0LGUscil7cmV0dXJuIChyLnktdC55KSooZS54LXQueCk+KGUueS10LnkpKihyLngtdC54KX1mdW5jdGlvbiAkKHQpe2xldCBlPTA7Zm9yKGxldCByLG4saT0wLGE9dC5sZW5ndGgscz1hLTE7aTxhO3M9aSsrKXI9dFtpXSxuPXRbc10sZSs9KG4ueC1yLngpKihyLnkrbi55KTtyZXR1cm4gZX1mdW5jdGlvbiBHKFt0LGUscl0pe2NvbnN0IG49YihlKzkwKSxpPWIocik7cmV0dXJuIHt4OnQqTWF0aC5jb3MobikqTWF0aC5zaW4oaSkseTp0Kk1hdGguc2luKG4pKk1hdGguc2luKGkpLHo6dCpNYXRoLmNvcyhpKSxhemltdXRoYWw6ZSxwb2xhcjpyfX1mdW5jdGlvbiBZKCl7cmV0dXJuIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1mdW5jdGlvbiBYKHQpe2NvbnN0IGU9e307aWYodC5yZXBsYWNlKC8oPzpefCg/OlxccypcXCxcXHMqKSkoW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKSg/OlxcPSg/OihbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspfCg/OlxcXCIoKD86W15cIlxcXFxdfFxcXFwuKSopXFxcIikpKT8vZywoKHQscixuLGkpPT57Y29uc3QgYT1ufHxpO3JldHVybiBlW3JdPSFhfHxhLnRvTG93ZXJDYXNlKCksXCJcIn0pKSxlW1wibWF4LWFnZVwiXSl7Y29uc3QgdD1wYXJzZUludChlW1wibWF4LWFnZVwiXSwxMCk7aXNOYU4odCk/ZGVsZXRlIGVbXCJtYXgtYWdlXCJdOmVbXCJtYXgtYWdlXCJdPXQ7fXJldHVybiBlfWxldCBaLEssSCxXLEosUSx0dD1udWxsO2Z1bmN0aW9uIGV0KHQpe3RyeXtjb25zdCBlPXNlbGZbdF07cmV0dXJuIGUuc2V0SXRlbShcIl9tYXBib3hfdGVzdF9cIiwxKSxlLnJlbW92ZUl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIpLCEwfWNhdGNoKHQpe3JldHVybiAhMX19ZnVuY3Rpb24gcnQodCxlKXtyZXR1cm4gW3RbNCplXSx0WzQqZSsxXSx0WzQqZSsyXSx0WzQqZSszXV19ZnVuY3Rpb24gbnQodCxlLHIsbil7Zm9yKDtlPHI7KXtjb25zdCBpPWUrcj4+MTt0W2ldPG4/ZT1pKzE6cj1pO31yZXR1cm4gZX1mdW5jdGlvbiBpdCh0LGUscixuKXtmb3IoO2U8cjspe2NvbnN0IGk9ZStyPj4xO3RbaV08PW4/ZT1pKzE6cj1pO31yZXR1cm4gZX1mdW5jdGlvbiBhdCgpe3JldHVybiBudWxsPT1aJiYoWj1zZWxmLk9mZnNjcmVlbkNhbnZhcyYmbmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoXCIyZFwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5jcmVhdGVJbWFnZUJpdG1hcCksWn1jb25zdCBzdD17bm93OigpPT52b2lkIDAhPT1XP1c6cGVyZm9ybWFuY2Uubm93KCksc2V0Tm93KHQpe1c9dDt9LHJlc3RvcmVOb3coKXtXPXZvaWQgMDt9LGZyYW1lKHQpe2NvbnN0IGU9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpO3JldHVybiB7Y2FuY2VsOigpPT5jYW5jZWxBbmltYXRpb25GcmFtZShlKX19LGdldEltYWdlRGF0YSh0LGU9MCl7Y29uc3R7d2lkdGg6cixoZWlnaHQ6bn09dDtKfHwoSj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKTtjb25zdCBpPUouZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2lmKCFpKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHRcIik7cmV0dXJuIChyPkoud2lkdGh8fG4+Si5oZWlnaHQpJiYoSi53aWR0aD1yLEouaGVpZ2h0PW4pLGkuY2xlYXJSZWN0KC1lLC1lLHIrMiplLG4rMiplKSxpLmRyYXdJbWFnZSh0LDAsMCxyLG4pLGkuZ2V0SW1hZ2VEYXRhKC1lLC1lLHIrMiplLG4rMiplKX0scmVzb2x2ZVVSTDp0PT4oS3x8KEs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLEsuaHJlZj10LEsuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW99LGdldCBwcmVmZXJzUmVkdWNlZE1vdGlvbigpe3JldHVybiAhIXdpbmRvdy5tYXRjaE1lZGlhJiYobnVsbD09SCYmKEg9d2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKSksSC5tYXRjaGVzKX0saGFzQ2FudmFzRmluZ2VycHJpbnROb2lzZSgpe2lmKHZvaWQgMCE9PVEpcmV0dXJuIFE7aWYoIWF0KCkpcmV0dXJuIFE9ITEsITE7Y29uc3QgdD1uZXcgT2Zmc2NyZWVuQ2FudmFzKDg1LDEpLGU9dC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7bGV0IHI9MDtmb3IobGV0IG49MDtuPHQud2lkdGg7KytuKWUuZmlsbFN0eWxlPWByZ2JhKCR7cisrfSwke3IrK30sJHtyKyt9LCAyNTUpYCxlLmZpbGxSZWN0KG4sMCwxLDEpO2NvbnN0IG49ZS5nZXRJbWFnZURhdGEoMCwwLHQud2lkdGgsdC5oZWlnaHQpO3I9MDtmb3IobGV0IHQ9MDt0PG4uZGF0YS5sZW5ndGg7Kyt0KWlmKHQlNCE9MyYmcisrIT09bi5kYXRhW3RdKXJldHVybiBRPSEwLCEwO3JldHVybiBRPSExLCExfX0sb3Q9XCJtYXBib3gtdGlsZXNcIjtsZXQgbHQ9NTAwLHV0PTUwO2xldCBjdCxodDtmdW5jdGlvbiBwdCgpe3RyeXtyZXR1cm4gY2FjaGVzfWNhdGNoKHQpe319ZnVuY3Rpb24gZnQoKXtjb25zdCB0PXB0KCk7dCYmIWN0JiYoY3Q9dC5vcGVuKG90KSk7fWZ1bmN0aW9uIGR0KHQpe2NvbnN0IGU9dC5pbmRleE9mKFwiP1wiKTtpZihlPDApcmV0dXJuIHQ7Y29uc3Qgcj1bXCJsYW5ndWFnZVwiLFwid29ybGR2aWV3XCJdLG49bmV3IFVSTFNlYXJjaFBhcmFtcyxpPW5ldyBVUkxTZWFyY2hQYXJhbXModC5zbGljZShlKSk7Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3QgZT1pLmdldCh0KTtlJiZuLnNldCh0LGUpO31yZXR1cm4gYCR7dC5zbGljZSgwLGUpfT8ke24udG9TdHJpbmcoKX1gfWZ1bmN0aW9uIG10KHQsZSl7Y29uc3Qgcj10LmluZGV4T2YoXCI/XCIpO2lmKHI8MClyZXR1cm4gYCR7dH0/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKGUpLnRvU3RyaW5nKCl9YDtjb25zdCBuPW5ldyBVUkxTZWFyY2hQYXJhbXModC5zbGljZShyKSk7Zm9yKGNvbnN0IHQgaW4gZSluLnNldCh0LGVbdF0pO3JldHVybiBgJHt0LnNsaWNlKDAscil9PyR7bi50b1N0cmluZygpfWB9bGV0IHl0PTEvMDtjb25zdCBndD17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKHQpeyFidCYmdnQmJihfdD9NdCh0KTp4dD10KTt9fTtsZXQgeHQsdnQsYnQ9ITEsX3Q9ITE7Y29uc3Qgd3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBNdCh0KXtjb25zdCBlPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUpO3RyeXtpZih0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdnQpLHQuaXNDb250ZXh0TG9zdCgpKXJldHVybjtndC5zdXBwb3J0ZWQ9ITA7fWNhdGNoKHQpe310LmRlbGV0ZVRleHR1cmUoZSksYnQ9ITA7fXd0LmRvY3VtZW50JiYodnQ9d3QuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSx2dC5vbmxvYWQ9ZnVuY3Rpb24oKXt4dCYmTXQoeHQpLHh0PW51bGwsX3Q9ITA7fSx2dC5vbmVycm9yPWZ1bmN0aW9uKCl7YnQ9ITAseHQ9bnVsbDt9LHZ0LnNyYz1cImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFRQUFBQWZRLy83M3YvK0JpT2gvQUFBPVwiKTtjb25zdCBBdD17VW5rbm93bjpcIlVua25vd25cIixTdHlsZTpcIlN0eWxlXCIsU291cmNlOlwiU291cmNlXCIsVGlsZTpcIlRpbGVcIixHbHlwaHM6XCJHbHlwaHNcIixTcHJpdGVJbWFnZTpcIlNwcml0ZUltYWdlXCIsU3ByaXRlSlNPTjpcIlNwcml0ZUpTT05cIixJbWFnZTpcIkltYWdlXCIsTW9kZWw6XCJNb2RlbFwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKEF0KTtjbGFzcyBTdCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSxyKXs0MDE9PT1lJiZpKHIpJiYodCs9XCI6IHlvdSBtYXkgaGF2ZSBwcm92aWRlZCBhbiBpbnZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4uIFNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9hcGkvb3ZlcnZpZXcvI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3Blc1wiKSxzdXBlcih0KSx0aGlzLnN0YXR1cz1lLHRoaXMudXJsPXI7fXRvU3RyaW5nKCl7cmV0dXJuIGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfSAoJHt0aGlzLnN0YXR1c30pOiAke3RoaXMudXJsfWB9fWNvbnN0IEl0PVkoKT8oKT0+c2VsZi53b3JrZXImJnNlbGYud29ya2VyLnJlZmVycmVyOigpPT4oXCJibG9iOlwiPT09bG9jYXRpb24ucHJvdG9jb2w/cGFyZW50OnNlbGYpLmxvY2F0aW9uLmhyZWY7Y29uc3Qga3Q9ZnVuY3Rpb24odCxlKXtpZighKC9eZmlsZTovLnRlc3Qocj10LnVybCl8fC9eZmlsZTovLnRlc3QoSXQoKSkmJiEvXlxcdys6Ly50ZXN0KHIpKSl7aWYoc2VsZi5mZXRjaCYmc2VsZi5SZXF1ZXN0JiZzZWxmLkFib3J0Q29udHJvbGxlciYmUmVxdWVzdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJzaWduYWxcIikpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1uZXcgQWJvcnRDb250cm9sbGVyLG49bmV3IFJlcXVlc3QodC51cmwse21ldGhvZDp0Lm1ldGhvZHx8XCJHRVRcIixib2R5OnQuYm9keSxjcmVkZW50aWFsczp0LmNyZWRlbnRpYWxzLGhlYWRlcnM6dC5oZWFkZXJzLHJlZmVycmVyOkl0KCkscmVmZXJyZXJQb2xpY3k6dC5yZWZlcnJlclBvbGljeSxzaWduYWw6ci5zaWduYWx9KTtsZXQgYT0hMSxzPSExO2NvbnN0IG89KGw9bi51cmwpLmluZGV4T2YoXCJza3U9XCIpPjAmJmkobCk7dmFyIGw7XCJqc29uXCI9PT10LnR5cGUmJm4uaGVhZGVycy5zZXQoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIik7Y29uc3QgdT0ocixpLGEpPT57aWYocylyZXR1cm47aWYociYmXCJTZWN1cml0eUVycm9yXCIhPT1yLm1lc3NhZ2UmJmooci50b1N0cmluZygpKSxpJiZhKXJldHVybiBjKGkpO2NvbnN0IGw9RGF0ZS5ub3coKTtmZXRjaChuKS50aGVuKChyPT57aWYoci5vayl7Y29uc3QgdD1vP3IuY2xvbmUoKTpudWxsO3JldHVybiBjKHIsdCxsKX1yZXR1cm4gZShuZXcgU3Qoci5zdGF0dXNUZXh0LHIuc3RhdHVzLHQudXJsKSl9KSkuY2F0Y2goKHI9PntcIkFib3J0RXJyb3JcIiE9PXIubmFtZSYmZShuZXcgRXJyb3IoYCR7ci5tZXNzYWdlfSAke3QudXJsfWApKTt9KSk7fSxjPShyLGksbyk9PnsoXCJhcnJheUJ1ZmZlclwiPT09dC50eXBlP3IuYXJyYXlCdWZmZXIoKTpcImpzb25cIj09PXQudHlwZT9yLmpzb24oKTpyLnRleHQoKSkudGhlbigodD0+e3N8fChpJiZvJiZmdW5jdGlvbih0LGUscil7aWYoZnQoKSwhY3QpcmV0dXJuO2NvbnN0IG49WChlLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7aWYobltcIm5vLXN0b3JlXCJdKXJldHVybjtjb25zdCBpPXtzdGF0dXM6ZS5zdGF0dXMsc3RhdHVzVGV4dDplLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgSGVhZGVyc307ZS5oZWFkZXJzLmZvckVhY2goKCh0LGUpPT5pLmhlYWRlcnMuc2V0KGUsdCkpKSxuW1wibWF4LWFnZVwiXSYmaS5oZWFkZXJzLnNldChcIkV4cGlyZXNcIixuZXcgRGF0ZShyKzFlMypuW1wibWF4LWFnZVwiXSkudG9VVENTdHJpbmcoKSk7Y29uc3QgYT1pLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKTtpZighYSlyZXR1cm47aWYobmV3IERhdGUoYSkuZ2V0VGltZSgpLXI8NDJlNClyZXR1cm47bGV0IHM9ZHQodC51cmwpO2lmKDIwNj09PWUuc3RhdHVzKXtjb25zdCBlPXQuaGVhZGVycy5nZXQoXCJSYW5nZVwiKTtpZighZSlyZXR1cm47aS5zdGF0dXM9MjAwLHM9bXQocyx7cmFuZ2U6ZX0pO30hZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1odCl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksaHQ9ITA7fWNhdGNoKHQpe2h0PSExO31odD9lKHQuYm9keSk6dC5ibG9iKCkudGhlbihlKTt9KGUsKHQ9Pntjb25zdCBlPW5ldyBSZXNwb25zZSh0LGkpO2Z0KCksY3QmJmN0LnRoZW4oKHQ9PnQucHV0KHMsZSkpKS5jYXRjaCgodD0+aih0Lm1lc3NhZ2UpKSk7fSkpO30obixpLG8pLGE9ITAsZShudWxsLHQsci5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIiksci5oZWFkZXJzLmdldChcIkV4cGlyZXNcIikpKTt9KSkuY2F0Y2goKHQ9PntzfHxlKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fTtyZXR1cm4gbz9mdW5jdGlvbih0LGUpe2lmKGZ0KCksIWN0KXJldHVybiBlKG51bGwpO2N0LnRoZW4oKHI9PntsZXQgbj1kdCh0LnVybCk7Y29uc3QgaT10LmhlYWRlcnMuZ2V0KFwiUmFuZ2VcIik7aSYmKG49bXQobix7cmFuZ2U6aX0pKSxyLm1hdGNoKG4pLnRoZW4oKHQ9Pntjb25zdCBpPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiAhMTtjb25zdCBlPW5ldyBEYXRlKHQuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpfHwwKSxyPVgodC5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO3JldHVybiBlPkRhdGUubm93KCkmJiFyW1wibm8tY2FjaGVcIl19KHQpO3IuZGVsZXRlKG4pLGkmJnIucHV0KG4sdC5jbG9uZSgpKSxlKG51bGwsdCxpKTt9KSkuY2F0Y2goZSk7fSkpLmNhdGNoKGUpO30obix1KTp1KG51bGwsbnVsbCkse2NhbmNlbDooKT0+e3M9ITAsYXx8ci5hYm9ydCgpO319fSh0LGUpO2lmKFkoKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKFwiZ2V0UmVzb3VyY2VcIix0LGUsdm9pZCAwLCEwKX12YXIgcjtyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCByPW5ldyBYTUxIdHRwUmVxdWVzdDtyLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApLFwiYXJyYXlCdWZmZXJcIj09PXQudHlwZSYmKHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIik7Zm9yKGNvbnN0IGUgaW4gdC5oZWFkZXJzKXIuc2V0UmVxdWVzdEhlYWRlcihlLHQuaGVhZGVyc1tlXSk7cmV0dXJuIFwianNvblwiPT09dC50eXBlJiYoci5yZXNwb25zZVR5cGU9XCJ0ZXh0XCIsci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpKSxyLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09PXQuY3JlZGVudGlhbHMsci5vbmVycm9yPSgpPT57ZShuZXcgRXJyb3Ioci5zdGF0dXNUZXh0KSk7fSxyLm9ubG9hZD0oKT0+e2lmKChyLnN0YXR1cz49MjAwJiZyLnN0YXR1czwzMDB8fDA9PT1yLnN0YXR1cykmJm51bGwhPT1yLnJlc3BvbnNlKXtsZXQgbj1yLnJlc3BvbnNlO2lmKFwianNvblwiPT09dC50eXBlKXRyeXtuPUpTT04ucGFyc2Uoci5yZXNwb25zZSk7fWNhdGNoKHQpe3JldHVybiBlKHQpfWUobnVsbCxuLHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDYWNoZS1Db250cm9sXCIpLHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJFeHBpcmVzXCIpKTt9ZWxzZSBlKG5ldyBTdChyLnN0YXR1c1RleHQsci5zdGF0dXMsdC51cmwpKTt9LHIuc2VuZCh0LmJvZHkpLHtjYW5jZWw6KCk9PnIuYWJvcnQoKX19KHQsZSl9LFB0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGt0KHoodCx7dHlwZTpcImFycmF5QnVmZmVyXCJ9KSxlKX07ZnVuY3Rpb24gRXQodCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gZS5ocmVmPXQsZS5wcm90b2NvbD09PWxvY2F0aW9uLnByb3RvY29sJiZlLmhvc3Q9PT1sb2NhdGlvbi5ob3N0fWNvbnN0IHp0PVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9XCI7bGV0IFR0LEJ0O1R0PVtdLEJ0PTA7Y29uc3QgQ3Q9ZnVuY3Rpb24odCxlKXtpZihndC5zdXBwb3J0ZWQmJih0LmhlYWRlcnN8fCh0LmhlYWRlcnM9e30pLHQuaGVhZGVycy5hY2NlcHQ9XCJpbWFnZS93ZWJwLCovKlwiKSxCdD49bi5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMpe2NvbnN0IHI9e3JlcXVlc3RQYXJhbWV0ZXJzOnQsY2FsbGJhY2s6ZSxjYW5jZWxsZWQ6ITEsY2FuY2VsKCl7dGhpcy5jYW5jZWxsZWQ9ITA7fX07cmV0dXJuIFR0LnB1c2gocikscn1CdCsrO2xldCByPSExO2NvbnN0IGk9KCk9PntpZighcilmb3Iocj0hMCxCdC0tO1R0Lmxlbmd0aCYmQnQ8bi5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM7KXtjb25zdCB0PVR0LnNoaWZ0KCkse3JlcXVlc3RQYXJhbWV0ZXJzOmUsY2FsbGJhY2s6cixjYW5jZWxsZWQ6bn09dDtufHwodC5jYW5jZWw9Q3QoZSxyKS5jYW5jZWwpO319LGE9UHQodCwoKHQscixuLGEpPT57aSgpLHQ/ZSh0KTpyJiYoc2VsZi5jcmVhdGVJbWFnZUJpdG1hcD9mdW5jdGlvbih0LGUpe2NvbnN0IHI9bmV3IEJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7Y3JlYXRlSW1hZ2VCaXRtYXAocikudGhlbigodD0+e2UobnVsbCx0KTt9KSkuY2F0Y2goKHQ9PntlKG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgaW1hZ2UgYmVjYXVzZSBvZiAke3QubWVzc2FnZX0uIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuYCkpO30pKTt9KHIsKCh0LHIpPT5lKHQscixuLGEpKSk6ZnVuY3Rpb24odCxlKXtjb25zdCByPW5ldyBJbWFnZTtyLm9ubG9hZD0oKT0+e2UobnVsbCxyKSxVUkwucmV2b2tlT2JqZWN0VVJMKHIuc3JjKSxyLm9ubG9hZD1udWxsLHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntyLnNyYz16dDt9KSk7fSxyLm9uZXJyb3I9KCk9PmUobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2UuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpKTtjb25zdCBuPW5ldyBCbG9iKFtuZXcgVWludDhBcnJheSh0KV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO3Iuc3JjPXQuYnl0ZUxlbmd0aD9VUkwuY3JlYXRlT2JqZWN0VVJMKG4pOnp0O30ociwoKHQscik9PmUodCxyLG4sYSkpKSk7fSkpO3JldHVybiB7Y2FuY2VsOigpPT57YS5jYW5jZWwoKSxpKCk7fX19LFJ0PVwiMDFcIixEdD1cIk5PX0FDQ0VTU19UT0tFTlwiLFZ0PS9eKFxcdyspOlxcL1xcLyhbXi8/XSopKFxcL1teP10rKT9cXD8/KC4rKT8vO2Z1bmN0aW9uIEx0KHQpe2NvbnN0IGU9dC5tYXRjaChWdCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIFVSTCBvYmplY3RcIik7cmV0dXJuIHtwcm90b2NvbDplWzFdLGF1dGhvcml0eTplWzJdLHBhdGg6ZVszXXx8XCIvXCIscGFyYW1zOmVbNF0/ZVs0XS5zcGxpdChcIiZcIik6W119fWZ1bmN0aW9uIEZ0KHQpe2NvbnN0IGU9dC5wYXJhbXMubGVuZ3RoP2A/JHt0LnBhcmFtcy5qb2luKFwiJlwiKX1gOlwiXCI7cmV0dXJuIGAke3QucHJvdG9jb2x9Oi8vJHt0LmF1dGhvcml0eX0ke3QucGF0aH0ke2V9YH1jb25zdCBOdD1cIm1hcGJveC5ldmVudERhdGFcIjtmdW5jdGlvbiBPdCh0KXtpZighdClyZXR1cm4gbnVsbDtjb25zdCBlPXQuc3BsaXQoXCIuXCIpO2lmKCFlfHwzIT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChhdG9iKGVbMV0pLnNwbGl0KFwiXCIpLm1hcCgodD0+XCIlXCIrKFwiMDBcIit0LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpKS5qb2luKFwiXCIpKSl9Y2F0Y2godCl7cmV0dXJuIG51bGx9fWNsYXNzIFV0e2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT10LHRoaXMuYW5vbklkPW51bGwsdGhpcy5ldmVudERhdGE9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGw7fWdldFN0b3JhZ2VLZXkodCl7Y29uc3QgZT1PdChuLkFDQ0VTU19UT0tFTik7bGV0IHI9XCJcIjtyZXR1cm4gcj1lJiZlLnU/YnRvYShlbmNvZGVVUklDb21wb25lbnQoZS51KS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLCgodCxlKT0+U3RyaW5nLmZyb21DaGFyQ29kZShOdW1iZXIoXCIweFwiK2UpKSkpKTpuLkFDQ0VTU19UT0tFTnx8XCJcIix0P2Ake050fS4ke3R9OiR7cn1gOmAke050fToke3J9YH1mZXRjaEV2ZW50RGF0YSgpe2NvbnN0IHQ9ZXQoXCJsb2NhbFN0b3JhZ2VcIiksZT10aGlzLmdldFN0b3JhZ2VLZXkoKSxyPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYodCl0cnl7Y29uc3QgdD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTt0JiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZSh0KSk7Y29uc3Qgbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShyKTtuJiYodGhpcy5hbm9uSWQ9bik7fWNhdGNoKHQpe2ooXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKTt9fXNhdmVFdmVudERhdGEoKXtjb25zdCB0PWV0KFwibG9jYWxTdG9yYWdlXCIpLGU9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpLG49dGhpcy5hbm9uSWQ7aWYodCYmbil0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0ocixuKSxPYmplY3Qua2V5cyh0aGlzLmV2ZW50RGF0YSkubGVuZ3RoPj0xJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnREYXRhKSk7fWNhdGNoKHQpe2ooXCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlXCIpO319cHJvY2Vzc1JlcXVlc3RzKHQpe31wb3N0RXZlbnQodCxlLHIsaSl7aWYoIW4uRVZFTlRTX1VSTClyZXR1cm47Y29uc3QgYT1MdChuLkVWRU5UU19VUkwpO2EucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke2l8fG4uQUNDRVNTX1RPS0VOfHxcIlwifWApO2NvbnN0IHM9e2V2ZW50OnRoaXMudHlwZSxjcmVhdGVkOm5ldyBEYXRlKHQpLnRvSVNPU3RyaW5nKCl9LG89ZT96KHMsZSk6cyxsPXt1cmw6RnQoYSksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn0sYm9keTpKU09OLnN0cmluZ2lmeShbb10pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGt0KHoodCx7bWV0aG9kOlwiUE9TVFwifSksZSl9KGwsKHQ9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwscih0KSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhpKTt9KSk7fXF1ZXVlUmVxdWVzdCh0LGUpe3RoaXMucXVldWUucHVzaCh0KSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhlKTt9fWNvbnN0IGp0PW5ldyBjbGFzcyBleHRlbmRzIFV0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKFwiYXBwVXNlclR1cm5zdGlsZVwiKSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj10O31wb3N0VHVybnN0aWxlRXZlbnQodCxlKXtuLkVWRU5UU19VUkwmJm4uQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KHQpJiZ0LnNvbWUoKHQ9PmEodCl8fGkodCkpKSYmdGhpcy5xdWV1ZVJlcXVlc3QoRGF0ZS5ub3coKSxlKTt9cHJvY2Vzc1JlcXVlc3RzKHQpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47dGhpcy5hbm9uSWQmJnRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzJiZ0aGlzLmV2ZW50RGF0YS50b2tlblV8fHRoaXMuZmV0Y2hFdmVudERhdGEoKTtjb25zdCByPU90KG4uQUNDRVNTX1RPS0VOKSxpPXI/ci51Om4uQUNDRVNTX1RPS0VOO2xldCBhPWkhPT10aGlzLmV2ZW50RGF0YS50b2tlblU7RCh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1DKCksYT0hMCk7Y29uc3Qgcz10aGlzLnF1ZXVlLnNoaWZ0KCk7aWYodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3Mpe2NvbnN0IHQ9bmV3IERhdGUodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLGU9bmV3IERhdGUocykscj0ocy10aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcykvODY0ZTU7YT1hfHxyPj0xfHxyPC0xfHx0LmdldERhdGUoKSE9PWUuZ2V0RGF0ZSgpO31lbHNlIGE9ITA7YT90aGlzLnBvc3RFdmVudChzLHtzZGtJZGVudGlmaWVyOlwibWFwYm94LWdsLWpzXCIsc2RrVmVyc2lvbjplLHNrdUlkOlJ0LFwiZW5hYmxlZC50ZWxlbWV0cnlcIjohMSx1c2VySWQ6dGhpcy5hbm9uSWR9LCh0PT57dHx8KHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPXMsdGhpcy5ldmVudERhdGEudG9rZW5VPWkpO30pLHQpOnRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7fX0scXQ9anQucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoanQpLCR0PW5ldyBjbGFzcyBleHRlbmRzIFV0e2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAubG9hZFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwiO31wb3N0TWFwTG9hZEV2ZW50KHQsZSxyLGkpe3RoaXMuc2t1VG9rZW49ZSx0aGlzLmVycm9yQ2I9aSxuLkVWRU5UU19VUkwmJihyfHxuLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6dCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0scik6dGhpcy5lcnJvckNiKG5ldyBFcnJvcihEdCkpKTt9cHJvY2Vzc1JlcXVlc3RzKHQpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6cix0aW1lc3RhbXA6bn09dGhpcy5xdWV1ZS5zaGlmdCgpO3ImJnRoaXMuc3VjY2Vzc1tyXXx8KHRoaXMuYW5vbklkfHx0aGlzLmZldGNoRXZlbnREYXRhKCksRCh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1DKCkpLHRoaXMucG9zdEV2ZW50KG4se3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOmUsc2t1SWQ6UnQsc2t1VG9rZW46dGhpcy5za3VUb2tlbix1c2VySWQ6dGhpcy5hbm9uSWR9LCh0PT57dD90aGlzLmVycm9yQ2IodCk6ciYmKHRoaXMuc3VjY2Vzc1tyXT0hMCk7fSksdCkpO31yZW1vdmUoKXt0aGlzLmVycm9yQ2I9bnVsbDt9fSxHdD0kdC5wb3N0TWFwTG9hZEV2ZW50LmJpbmQoJHQpLFl0PW5ldyBjbGFzcyBleHRlbmRzIFV0e2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJnbGpzLnBlcmZvcm1hbmNlXCIpO31wb3N0UGVyZm9ybWFuY2VFdmVudCh0LGUpe24uRVZFTlRTX1VSTCYmKHR8fG4uQUNDRVNTX1RPS0VOKSYmdGhpcy5xdWV1ZVJlcXVlc3Qoe3RpbWVzdGFtcDpEYXRlLm5vdygpLHBlcmZvcm1hbmNlRGF0YTplfSx0KTt9cHJvY2Vzc1JlcXVlc3RzKHQpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7dGltZXN0YW1wOnIscGVyZm9ybWFuY2VEYXRhOm59PXRoaXMucXVldWUuc2hpZnQoKSxpPWZ1bmN0aW9uKHQpe2NvbnN0IHI9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpLG49cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1hcmtcIiksaT1mdW5jdGlvbih0KXtjb25zdCBlPXt9O2lmKHQpZm9yKGNvbnN0IHIgaW4gdClpZihcIm90aGVyXCIhPT1yKWZvcihjb25zdCBuIG9mIHRbcl0pe2NvbnN0IHQ9YCR7cn1SZXNvbHZlUmFuZ2VNaW5gLGk9YCR7cn1SZXNvbHZlUmFuZ2VNYXhgLGE9YCR7cn1SZXF1ZXN0Q291bnRgLHM9YCR7cn1SZXF1ZXN0Q2FjaGVkQ291bnRgO2VbdF09TWF0aC5taW4oZVt0XXx8MS8wLG4uc3RhcnRUaW1lKSxlW2ldPU1hdGgubWF4KGVbaV18fC0xLzAsbi5yZXNwb25zZUVuZCk7Y29uc3Qgbz10PT57dm9pZCAwPT09ZVt0XSYmKGVbdF09MCksKytlW3RdO307dm9pZCAwIT09bi50cmFuc2ZlclNpemUmJjA9PT1uLnRyYW5zZmVyU2l6ZSYmbyhzKSxvKGEpO31yZXR1cm4gZX0oZnVuY3Rpb24odCxlKXtjb25zdCByPXt9O2lmKHQpZm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1lKG4pO3ZvaWQgMD09PXJbdF0mJihyW3RdPVtdKSxyW3RdLnB1c2gobik7fXJldHVybiByfShyLGMpKSxhPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLHM9bmF2aWdhdG9yLmNvbm5lY3Rpb258fG5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHxuYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbixvPXM/cy5lZmZlY3RpdmVUeXBlOnZvaWQgMCxoPXtjb3VudGVyczpbXSxtZXRhZGF0YTpbXSxhdHRyaWJ1dGVzOltdfSxwPSh0LGUscik9PntudWxsIT1yJiZ0LnB1c2goe25hbWU6ZSx2YWx1ZTpyLnRvU3RyaW5nKCl9KTt9O2Zvcihjb25zdCB0IGluIGkpcChoLmNvdW50ZXJzLHQsaVt0XSk7aWYodC5pbnRlcmFjdGlvblJhbmdlWzBdIT09MS8wJiZ0LmludGVyYWN0aW9uUmFuZ2VbMV0hPT0tMS8wJiYocChoLmNvdW50ZXJzLFwiaW50ZXJhY3Rpb25SYW5nZU1pblwiLHQuaW50ZXJhY3Rpb25SYW5nZVswXSkscChoLmNvdW50ZXJzLFwiaW50ZXJhY3Rpb25SYW5nZU1heFwiLHQuaW50ZXJhY3Rpb25SYW5nZVsxXSkpLG4pZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModSkpe2NvbnN0IGU9dVt0XSxyPW4uZmluZCgodD0+dC5uYW1lPT09ZSkpO3ImJnAoaC5jb3VudGVycyxlLHIuc3RhcnRUaW1lKTt9cmV0dXJuIHAoaC5jb3VudGVycyxcInZpc2liaWxpdHlIaWRkZW5cIix0LnZpc2liaWxpdHlIaWRkZW4pLHAoaC5hdHRyaWJ1dGVzLFwic3R5bGVcIixmdW5jdGlvbih0KXtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5uYW1lLnNwbGl0KFwiP1wiKVswXTtpZihsKHQpKXtjb25zdCBlPXQuc3BsaXQoXCIvXCIpLnNsaWNlKC0yKTtpZigyPT09ZS5sZW5ndGgpcmV0dXJuIGBtYXBib3g6Ly9zdHlsZXMvJHtlWzBdfS8ke2VbMV19YH19fShyKSkscChoLmF0dHJpYnV0ZXMsXCJ0ZXJyYWluRW5hYmxlZFwiLHQudGVycmFpbkVuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxwKGguYXR0cmlidXRlcyxcImZvZ0VuYWJsZWRcIix0LmZvZ0VuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxwKGguYXR0cmlidXRlcyxcInByb2plY3Rpb25cIix0LnByb2plY3Rpb24pLHAoaC5hdHRyaWJ1dGVzLFwiem9vbVwiLHQuem9vbSkscChoLm1ldGFkYXRhLFwiZGV2aWNlUGl4ZWxSYXRpb1wiLGEpLHAoaC5tZXRhZGF0YSxcImNvbm5lY3Rpb25FZmZlY3RpdmVUeXBlXCIsbykscChoLm1ldGFkYXRhLFwibmF2aWdhdG9yVXNlckFnZW50XCIsbmF2aWdhdG9yLnVzZXJBZ2VudCkscChoLm1ldGFkYXRhLFwic2NyZWVuV2lkdGhcIix3aW5kb3cuc2NyZWVuLndpZHRoKSxwKGgubWV0YWRhdGEsXCJzY3JlZW5IZWlnaHRcIix3aW5kb3cuc2NyZWVuLmhlaWdodCkscChoLm1ldGFkYXRhLFwid2luZG93V2lkdGhcIix3aW5kb3cuaW5uZXJXaWR0aCkscChoLm1ldGFkYXRhLFwid2luZG93SGVpZ2h0XCIsd2luZG93LmlubmVySGVpZ2h0KSxwKGgubWV0YWRhdGEsXCJtYXBXaWR0aFwiLHQud2lkdGgvYSkscChoLm1ldGFkYXRhLFwibWFwSGVpZ2h0XCIsdC5oZWlnaHQvYSkscChoLm1ldGFkYXRhLFwid2ViZ2xSZW5kZXJlclwiLHQucmVuZGVyZXIpLHAoaC5tZXRhZGF0YSxcIndlYmdsVmVuZG9yXCIsdC52ZW5kb3IpLHAoaC5tZXRhZGF0YSxcInNka1ZlcnNpb25cIixlKSxwKGgubWV0YWRhdGEsXCJzZGtJZGVudGlmaWVyXCIsXCJtYXBib3gtZ2wtanNcIiksaH0obik7Zm9yKGNvbnN0IHQgb2YgaS5tZXRhZGF0YSk7Zm9yKGNvbnN0IHQgb2YgaS5jb3VudGVycyk7Zm9yKGNvbnN0IHQgb2YgaS5hdHRyaWJ1dGVzKTt0aGlzLnBvc3RFdmVudChyLGksKCgpPT57fSksdCk7fX0sWHQ9WXQucG9zdFBlcmZvcm1hbmNlRXZlbnQuYmluZChZdCksWnQ9bmV3IGNsYXNzIGV4dGVuZHMgVXR7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1hcC5hdXRoXCIpLHRoaXMuc3VjY2Vzcz17fSx0aGlzLnNrdVRva2VuPVwiXCI7fWdldFNlc3Npb24odCxlLHIsaSl7aWYoIW4uQVBJX1VSTHx8IW4uU0VTU0lPTl9QQVRIKXJldHVybjtjb25zdCBhPUx0KG4uQVBJX1VSTCtuLlNFU1NJT05fUEFUSCk7YS5wYXJhbXMucHVzaChgc2t1PSR7ZXx8XCJcIn1gKSxhLnBhcmFtcy5wdXNoKGBhY2Nlc3NfdG9rZW49JHtpfHxuLkFDQ0VTU19UT0tFTnx8XCJcIn1gKTtjb25zdCBzPXt1cmw6RnQoYSksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn19O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4ga3Qoeih0LHttZXRob2Q6XCJHRVRcIn0pLGUpfShzLCh0PT57dGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsLHIodCksdGhpcy5zYXZlRXZlbnREYXRhKCksdGhpcy5wcm9jZXNzUmVxdWVzdHMoaSk7fSkpO31nZXRTZXNzaW9uQVBJKHQsZSxyLGkpe3RoaXMuc2t1VG9rZW49ZSx0aGlzLmVycm9yQ2I9aSxuLlNFU1NJT05fUEFUSCYmbi5BUElfVVJMJiYocnx8bi5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOnQsdGltZXN0YW1wOkRhdGUubm93KCl9LHIpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IoRHQpKSk7fXByb2Nlc3NSZXF1ZXN0cyh0KXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOmUsdGltZXN0YW1wOnJ9PXRoaXMucXVldWUuc2hpZnQoKTtlJiZ0aGlzLnN1Y2Nlc3NbZV18fHRoaXMuZ2V0U2Vzc2lvbihyLHRoaXMuc2t1VG9rZW4sKHQ9Pnt0P3RoaXMuZXJyb3JDYih0KTplJiYodGhpcy5zdWNjZXNzW2VdPSEwKTt9KSx0KTt9cmVtb3ZlKCl7dGhpcy5lcnJvckNiPW51bGw7fX0sS3Q9WnQuZ2V0U2Vzc2lvbkFQSS5iaW5kKFp0KSxIdD1uZXcgU2V0O2Z1bmN0aW9uIFd0KHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gSnQodCxlLHIpe2lmKHImJnJbdF0pe2NvbnN0IG49clt0XS5pbmRleE9mKGUpOy0xIT09biYmclt0XS5zcGxpY2UobiwxKTt9fWNsYXNzIFF0e2NvbnN0cnVjdG9yKHQsZT17fSl7eih0aGlzLGUpLHRoaXMudHlwZT10O319Y2xhc3MgdGUgZXh0ZW5kcyBRdHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKFwiZXJyb3JcIix6KHtlcnJvcjp0fSxlKSk7fX1jbGFzcyBlZXtvbih0LGUpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxXdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZih0LGUpe3JldHVybiBKdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSxKdCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKHQsZSl7cmV0dXJuIGU/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sV3QodCxlLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKChlPT50aGlzLm9uY2UodCxlKSkpfWZpcmUodCxlKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9bmV3IFF0KHQsZXx8e30pKTtjb25zdCByPXQudHlwZTtpZih0aGlzLmxpc3RlbnMocikpe3QudGFyZ2V0PXRoaXM7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tyXT90aGlzLl9saXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTtmb3IoY29uc3QgciBvZiBlKXIuY2FsbCh0aGlzLHQpO2NvbnN0IG49dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3JdLnNsaWNlKCk6W107Zm9yKGNvbnN0IGUgb2YgbilKdChyLGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksZS5jYWxsKHRoaXMsdCk7Y29uc3QgaT10aGlzLl9ldmVudGVkUGFyZW50O2kmJih6KHQsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksaS5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgdGUmJmNvbnNvbGUuZXJyb3IodC5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyh0KXtyZXR1cm4gISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0mJnRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKHQpKX1zZXRFdmVudGVkUGFyZW50KHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9fXQueT12b2lkIDA7dmFyIHJlPXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIG5lKHQpe3JldHVybiAodD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gaWUodCl7cmV0dXJuIG5lKFwiJVwiPT09dFt0Lmxlbmd0aC0xXT9wYXJzZUZsb2F0KHQpLzEwMCoyNTU6cGFyc2VJbnQodCkpfWZ1bmN0aW9uIGFlKHQpe3JldHVybiAoZT1cIiVcIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDA6cGFyc2VGbG9hdCh0KSk8MD8wOmU+MT8xOmU7dmFyIGU7fWZ1bmN0aW9uIHNlKHQsZSxyKXtyZXR1cm4gcjwwP3IrPTE6cj4xJiYoci09MSksNipyPDE/dCsoZS10KSpyKjY6MipyPDE/ZTozKnI8Mj90KyhlLXQpKigyLzMtcikqNjp0fXRyeXt0Lnk9e30ucGFyc2VDU1NDb2xvcj1mdW5jdGlvbih0KXt2YXIgZSxyPXQucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYociBpbiByZSlyZXR1cm4gcmVbcl0uc2xpY2UoKTtpZihcIiNcIj09PXJbMF0pcmV0dXJuIDQ9PT1yLmxlbmd0aD8oZT1wYXJzZUludChyLnN1YnN0cigxKSwxNikpPj0wJiZlPD00MDk1P1soMzg0MCZlKT4+NHwoMzg0MCZlKT4+OCwyNDAmZXwoMjQwJmUpPj40LDE1JmV8KDE1JmUpPDw0LDFdOm51bGw6Nz09PXIubGVuZ3RoJiYoZT1wYXJzZUludChyLnN1YnN0cigxKSwxNikpPj0wJiZlPD0xNjc3NzIxNT9bKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmUsMV06bnVsbDt2YXIgbj1yLmluZGV4T2YoXCIoXCIpLGk9ci5pbmRleE9mKFwiKVwiKTtpZigtMSE9PW4mJmkrMT09PXIubGVuZ3RoKXt2YXIgYT1yLnN1YnN0cigwLG4pLHM9ci5zdWJzdHIobisxLGktKG4rMSkpLnNwbGl0KFwiLFwiKSxvPTE7c3dpdGNoKGEpe2Nhc2VcInJnYmFcIjppZig0IT09cy5sZW5ndGgpcmV0dXJuIG51bGw7bz1hZShzLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PXMubGVuZ3RoP251bGw6W2llKHNbMF0pLGllKHNbMV0pLGllKHNbMl0pLG9dO2Nhc2VcImhzbGFcIjppZig0IT09cy5sZW5ndGgpcmV0dXJuIG51bGw7bz1hZShzLnBvcCgpKTtjYXNlXCJoc2xcIjppZigzIT09cy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGw9KHBhcnNlRmxvYXQoc1swXSklMzYwKzM2MCklMzYwLzM2MCx1PWFlKHNbMV0pLGM9YWUoc1syXSksaD1jPD0uNT9jKih1KzEpOmMrdS1jKnUscD0yKmMtaDtyZXR1cm4gW25lKDI1NSpzZShwLGgsbCsxLzMpKSxuZSgyNTUqc2UocCxoLGwpKSxuZSgyNTUqc2UocCxoLGwtMS8zKSksb107ZGVmYXVsdDpyZXR1cm4gbnVsbH19cmV0dXJuIG51bGx9O31jYXRjaCh0KXt9Y2xhc3Mgb2V7Y29uc3RydWN0b3IodCxlLHIsbj0xKXt0aGlzLnI9dCx0aGlzLmc9ZSx0aGlzLmI9cix0aGlzLmE9bjt9c3RhdGljIHBhcnNlKGUpe2lmKCFlKXJldHVybjtpZihlIGluc3RhbmNlb2Ygb2UpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuO2NvbnN0IHI9dC55KGUpO3JldHVybiByP25ldyBvZShyWzBdLzI1NSpyWzNdLHJbMV0vMjU1KnJbM10sclsyXS8yNTUqclszXSxyWzNdKTp2b2lkIDB9dG9TdHJpbmcoKXtjb25zdFt0LGUscixuXT10aGlzLnRvQXJyYXkoKTtyZXR1cm4gYHJnYmEoJHtNYXRoLnJvdW5kKHQpfSwke01hdGgucm91bmQoZSl9LCR7TWF0aC5yb3VuZChyKX0sJHtufSlgfXRvQXJyYXkoKXtjb25zdHtyOnQsZzplLGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbMjU1KnQvbiwyNTUqZS9uLDI1NSpyL24sbl19dG9BcnJheTAxKCl7Y29uc3R7cjp0LGc6ZSxiOnIsYTpufT10aGlzO3JldHVybiAwPT09bj9bMCwwLDAsMF06W3QvbixlL24sci9uLG5dfXRvQXJyYXkwMVNjYWxlZCh0KXtjb25zdHtyOmUsZzpyLGI6bixhOml9PXRoaXM7cmV0dXJuIDA9PT1pP1swLDAsMF06W2UvaSp0LHIvaSp0LG4vaSp0XX10b0FycmF5MDFQcmVtdWx0aXBsaWVkQWxwaGEoKXtjb25zdHtyOnQsZzplLGI6cixhOm59PXRoaXM7cmV0dXJuIFt0LGUscixuXX10b0FycmF5MDFMaW5lYXIoKXtjb25zdHtyOnQsZzplLGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbTWF0aC5wb3codC9uLDIuMiksTWF0aC5wb3coZS9uLDIuMiksTWF0aC5wb3coci9uLDIuMiksbl19fW9lLmJsYWNrPW5ldyBvZSgwLDAsMCwxKSxvZS53aGl0ZT1uZXcgb2UoMSwxLDEsMSksb2UudHJhbnNwYXJlbnQ9bmV3IG9lKDAsMCwwLDApLG9lLnJlZD1uZXcgb2UoMSwwLDAsMSksb2UuYmx1ZT1uZXcgb2UoMCwwLDEsMSk7dmFyIGxlPW9lO2Z1bmN0aW9uIHVlKHQsZSxyKXtyZXR1cm4gdCooMS1yKStlKnJ9ZnVuY3Rpb24gY2UodCxlLHIpe3JldHVybiB0Lm1hcCgoKHQsbik9PnVlKHQsZVtuXSxyKSkpfXZhciBoZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxhcnJheTpjZSxjb2xvcjpmdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyBsZSh1ZSh0LnIsZS5yLHIpLHVlKHQuZyxlLmcsciksdWUodC5iLGUuYixyKSx1ZSh0LmEsZS5hLHIpKX0sbnVtYmVyOnVlfSk7ZnVuY3Rpb24gcGUodCwuLi5lKXtmb3IoY29uc3QgciBvZiBlKWZvcihjb25zdCBlIGluIHIpdFtlXT1yW2VdO3JldHVybiB0fWNsYXNzIGZlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLm1lc3NhZ2U9ZSx0aGlzLmtleT10O319dmFyIGRlPWZlO2NsYXNzIG1le2NvbnN0cnVjdG9yKHQsZT1bXSl7dGhpcy5wYXJlbnQ9dCx0aGlzLmJpbmRpbmdzPXt9O2Zvcihjb25zdFt0LHJdb2YgZSl0aGlzLmJpbmRpbmdzW3RdPXI7fWNvbmNhdCh0KXtyZXR1cm4gbmV3IG1lKHRoaXMsdCl9Z2V0KHQpe2lmKHRoaXMuYmluZGluZ3NbdF0pcmV0dXJuIHRoaXMuYmluZGluZ3NbdF07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldCh0KTt0aHJvdyBuZXcgRXJyb3IoYCR7dH0gbm90IGZvdW5kIGluIHNjb3BlLmApfWhhcyh0KXtyZXR1cm4gISF0aGlzLmJpbmRpbmdzW3RdfHwhIXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXModCl9fXZhciB5ZT1tZTtjb25zdCBnZT17a2luZDpcIm51bGxcIn0seGU9e2tpbmQ6XCJudW1iZXJcIn0sdmU9e2tpbmQ6XCJzdHJpbmdcIn0sYmU9e2tpbmQ6XCJib29sZWFuXCJ9LF9lPXtraW5kOlwiY29sb3JcIn0sd2U9e2tpbmQ6XCJvYmplY3RcIn0sTWU9e2tpbmQ6XCJ2YWx1ZVwifSxBZT17a2luZDpcImNvbGxhdG9yXCJ9LFNlPXtraW5kOlwiZm9ybWF0dGVkXCJ9LEllPXtraW5kOlwicmVzb2x2ZWRJbWFnZVwifTtmdW5jdGlvbiBrZSh0LGUpe3JldHVybiB7a2luZDpcImFycmF5XCIsaXRlbVR5cGU6dCxOOmV9fWZ1bmN0aW9uIFBlKHQpe2lmKFwiYXJyYXlcIj09PXQua2luZCl7Y29uc3QgZT1QZSh0Lml0ZW1UeXBlKTtyZXR1cm4gXCJudW1iZXJcIj09dHlwZW9mIHQuTj9gYXJyYXk8JHtlfSwgJHt0Lk59PmA6XCJ2YWx1ZVwiPT09dC5pdGVtVHlwZS5raW5kP1wiYXJyYXlcIjpgYXJyYXk8JHtlfT5gfXJldHVybiB0LmtpbmR9Y29uc3QgRWU9W2dlLHhlLHZlLGJlLF9lLFNlLHdlLGtlKE1lKSxJZV07ZnVuY3Rpb24gemUodCxlKXtpZihcImVycm9yXCI9PT1lLmtpbmQpcmV0dXJuIG51bGw7aWYoXCJhcnJheVwiPT09dC5raW5kKXtpZihcImFycmF5XCI9PT1lLmtpbmQmJigwPT09ZS5OJiZcInZhbHVlXCI9PT1lLml0ZW1UeXBlLmtpbmR8fCF6ZSh0Lml0ZW1UeXBlLGUuaXRlbVR5cGUpKSYmKFwibnVtYmVyXCIhPXR5cGVvZiB0Lk58fHQuTj09PWUuTikpcmV0dXJuIG51bGx9ZWxzZSB7aWYodC5raW5kPT09ZS5raW5kKXJldHVybiBudWxsO2lmKFwidmFsdWVcIj09PXQua2luZClmb3IoY29uc3QgdCBvZiBFZSlpZighemUodCxlKSlyZXR1cm4gbnVsbH1yZXR1cm4gYEV4cGVjdGVkICR7UGUodCl9IGJ1dCBmb3VuZCAke1BlKGUpfSBpbnN0ZWFkLmB9ZnVuY3Rpb24gVGUodCxlKXtyZXR1cm4gZS5zb21lKChlPT5lLmtpbmQ9PT10LmtpbmQpKX1mdW5jdGlvbiBCZSh0LGUpe3JldHVybiBlLnNvbWUoKGU9PlwibnVsbFwiPT09ZT9udWxsPT09dDpcImFycmF5XCI9PT1lP0FycmF5LmlzQXJyYXkodCk6XCJvYmplY3RcIj09PWU/dCYmIUFycmF5LmlzQXJyYXkodCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0OmU9PT10eXBlb2YgdCkpfWNsYXNzIENle2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnNlbnNpdGl2aXR5PXQ/ZT9cInZhcmlhbnRcIjpcImNhc2VcIjplP1wiYWNjZW50XCI6XCJiYXNlXCIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOlwic2VhcmNoXCJ9KTt9Y29tcGFyZSh0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX1yZXNvbHZlZExvY2FsZSgpe3JldHVybiBuZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlfX1jbGFzcyBSZXtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMudGV4dD10Lm5vcm1hbGl6ZT90Lm5vcm1hbGl6ZSgpOnQsdGhpcy5pbWFnZT1lLHRoaXMuc2NhbGU9cix0aGlzLmZvbnRTdGFjaz1uLHRoaXMudGV4dENvbG9yPWk7fX1jbGFzcyBEZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlY3Rpb25zPXQ7fXN0YXRpYyBmcm9tU3RyaW5nKHQpe3JldHVybiBuZXcgRGUoW25ldyBSZSh0LG51bGwsbnVsbCxudWxsLG51bGwpXSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKHQ9PjAhPT10LnRleHQubGVuZ3RofHx0LmltYWdlJiYwIT09dC5pbWFnZS5uYW1lUHJpbWFyeS5sZW5ndGgpKX1zdGF0aWMgZmFjdG9yeSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERlP3Q6RGUuZnJvbVN0cmluZyh0KX10b1N0cmluZygpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/XCJcIjp0aGlzLnNlY3Rpb25zLm1hcCgodD0+dC50ZXh0KSkuam9pbihcIlwiKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImZvcm1hdFwiXTtmb3IoY29uc3QgZSBvZiB0aGlzLnNlY3Rpb25zKXtpZihlLmltYWdlKXt0LnB1c2goW1wiaW1hZ2VcIixlLmltYWdlLm5hbWVQcmltYXJ5XSk7Y29udGludWV9dC5wdXNoKGUudGV4dCk7Y29uc3Qgcj17fTtlLmZvbnRTdGFjayYmKHJbXCJ0ZXh0LWZvbnRcIl09W1wibGl0ZXJhbFwiLGUuZm9udFN0YWNrLnNwbGl0KFwiLFwiKV0pLGUuc2NhbGUmJihyW1wiZm9udC1zY2FsZVwiXT1lLnNjYWxlKSxlLnRleHRDb2xvciYmKHJbXCJ0ZXh0LWNvbG9yXCJdPVtcInJnYmFcIl0uY29uY2F0KGUudGV4dENvbG9yLnRvQXJyYXkoKSkpLHQucHVzaChyKTt9cmV0dXJuIHR9fWNsYXNzIFZle2NvbnN0cnVjdG9yKHQpe3RoaXMubmFtZVByaW1hcnk9dC5uYW1lUHJpbWFyeSx0Lm5hbWVTZWNvbmRhcnkmJih0aGlzLm5hbWVTZWNvbmRhcnk9dC5uYW1lU2Vjb25kYXJ5KSx0aGlzLmF2YWlsYWJsZT10LmF2YWlsYWJsZTt9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lU2Vjb25kYXJ5P2BbJHt0aGlzLm5hbWVQcmltYXJ5fSwke3RoaXMubmFtZVNlY29uZGFyeX1dYDp0aGlzLm5hbWVQcmltYXJ5fXN0YXRpYyBmcm9tU3RyaW5nKHQsZSl7cmV0dXJuIHQ/bmV3IFZlKHtuYW1lUHJpbWFyeTp0LG5hbWVTZWNvbmRhcnk6ZSxhdmFpbGFibGU6ITF9KTpudWxsfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLm5hbWVTZWNvbmRhcnk/W1wiaW1hZ2VcIix0aGlzLm5hbWVQcmltYXJ5LHRoaXMubmFtZVNlY29uZGFyeV06W1wiaW1hZ2VcIix0aGlzLm5hbWVQcmltYXJ5XX19ZnVuY3Rpb24gTGUodCxlLHIsbil7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0yNTU/dm9pZCAwPT09bnx8XCJudW1iZXJcIj09dHlwZW9mIG4mJm4+PTAmJm48PTE/bnVsbDpgSW52YWxpZCByZ2JhIHZhbHVlIFske1t0LGUscixuXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIG4/W3QsZSxyLG5dOlt0LGUscl0pLmpvaW4oXCIsIFwiKX1dOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LmB9ZnVuY3Rpb24gRmUodCl7aWYobnVsbD09PXQpcmV0dXJuICEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiAhMDtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgbGUpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiBDZSlyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIERlKXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgVmUpcmV0dXJuICEwO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcihjb25zdCBlIG9mIHQpaWYoIUZlKGUpKXJldHVybiAhMTtyZXR1cm4gITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2Zvcihjb25zdCBlIGluIHQpaWYoIUZlKHRbZV0pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIE5lKHQpe2lmKG51bGw9PT10KXJldHVybiBnZTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdmU7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVybiBiZTtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4geGU7aWYodCBpbnN0YW5jZW9mIGxlKXJldHVybiBfZTtpZih0IGluc3RhbmNlb2YgQ2UpcmV0dXJuIEFlO2lmKHQgaW5zdGFuY2VvZiBEZSlyZXR1cm4gU2U7aWYodCBpbnN0YW5jZW9mIFZlKXJldHVybiBJZTtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPXQubGVuZ3RoO2xldCByO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9TmUoZSk7aWYocil7aWYocj09PXQpY29udGludWU7cj1NZTticmVha31yPXQ7fXJldHVybiBrZShyfHxNZSxlKX1yZXR1cm4gd2V9ZnVuY3Rpb24gT2UodCl7Y29uc3QgZT10eXBlb2YgdDtyZXR1cm4gbnVsbD09PXQ/XCJcIjpcInN0cmluZ1wiPT09ZXx8XCJudW1iZXJcIj09PWV8fFwiYm9vbGVhblwiPT09ZT9TdHJpbmcodCk6dCBpbnN0YW5jZW9mIGxlfHx0IGluc3RhbmNlb2YgRGV8fHQgaW5zdGFuY2VvZiBWZT90LnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkodCl9Y2xhc3MgVWV7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLnZhbHVlPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoIUZlKHRbMV0pKXJldHVybiBlLmVycm9yKFwiaW52YWxpZCB2YWx1ZVwiKTtjb25zdCByPXRbMV07bGV0IG49TmUocik7Y29uc3QgaT1lLmV4cGVjdGVkVHlwZTtyZXR1cm4gXCJhcnJheVwiIT09bi5raW5kfHwwIT09bi5OfHwhaXx8XCJhcnJheVwiIT09aS5raW5kfHxcIm51bWJlclwiPT10eXBlb2YgaS5OJiYwIT09aS5OfHwobj1pKSxuZXcgVWUobixyKX1ldmFsdWF0ZSgpe3JldHVybiB0aGlzLnZhbHVlfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBcImFycmF5XCI9PT10aGlzLnR5cGUua2luZHx8XCJvYmplY3RcIj09PXRoaXMudHlwZS5raW5kP1tcImxpdGVyYWxcIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgbGU/W1wicmdiYVwiXS5jb25jYXQodGhpcy52YWx1ZS50b0FycmF5KCkpOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBEZT90aGlzLnZhbHVlLnNlcmlhbGl6ZSgpOnRoaXMudmFsdWV9fXZhciBqZT1VZSxxZT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hbWU9XCJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yXCIsdGhpcy5tZXNzYWdlPXQ7fXRvSlNPTigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTtjb25zdCAkZT17c3RyaW5nOnZlLG51bWJlcjp4ZSxib29sZWFuOmJlLG9iamVjdDp3ZX07Y2xhc3MgR2V7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IHIsbj0xO2NvbnN0IGk9dFswXTtpZihcImFycmF5XCI9PT1pKXtsZXQgaSxhO2lmKHQubGVuZ3RoPjIpe2NvbnN0IHI9dFsxXTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcnx8IShyIGluICRlKXx8XCJvYmplY3RcIj09PXIpcmV0dXJuIGUuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgXCJhcnJheVwiIG11c3QgYmUgb25lIG9mIHN0cmluZywgbnVtYmVyLCBib29sZWFuJywxKTtpPSRlW3JdLG4rKzt9ZWxzZSBpPU1lO2lmKHQubGVuZ3RoPjMpe2lmKG51bGwhPT10WzJdJiYoXCJudW1iZXJcIiE9dHlwZW9mIHRbMl18fHRbMl08MHx8dFsyXSE9PU1hdGguZmxvb3IodFsyXSkpKXJldHVybiBlLmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvIFwiYXJyYXlcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTthPXRbMl0sbisrO31yPWtlKGksYSk7fWVsc2Ugcj0kZVtpXTtjb25zdCBhPVtdO2Zvcig7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHI9ZS5wYXJzZSh0W25dLG4sTWUpO2lmKCFyKXJldHVybiBudWxsO2EucHVzaChyKTt9cmV0dXJuIG5ldyBHZShyLGEpfWV2YWx1YXRlKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5hcmdzLmxlbmd0aDtlKyspe2NvbnN0IHI9dGhpcy5hcmdzW2VdLmV2YWx1YXRlKHQpO2lmKCF6ZSh0aGlzLnR5cGUsTmUocikpKXJldHVybiByO2lmKGU9PT10aGlzLmFyZ3MubGVuZ3RoLTEpdGhyb3cgbmV3IHFlKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlICR7UGUodGhpcy50eXBlKX0sIGJ1dCBmb3VuZCAke1BlKE5lKHIpKX0gaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1lYWNoQ2hpbGQodCl7dGhpcy5hcmdzLmZvckVhY2godCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9dGhpcy50eXBlLGU9W3Qua2luZF07aWYoXCJhcnJheVwiPT09dC5raW5kKXtjb25zdCByPXQuaXRlbVR5cGU7aWYoXCJzdHJpbmdcIj09PXIua2luZHx8XCJudW1iZXJcIj09PXIua2luZHx8XCJib29sZWFuXCI9PT1yLmtpbmQpe2UucHVzaChyLmtpbmQpO2NvbnN0IG49dC5OOyhcIm51bWJlclwiPT10eXBlb2Ygbnx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmZS5wdXNoKG4pO319cmV0dXJuIGUuY29uY2F0KHRoaXMuYXJncy5tYXAoKHQ9PnQuc2VyaWFsaXplKCkpKSl9fXZhciBZZT1HZTtjbGFzcyBYZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9U2UsdGhpcy5zZWN0aW9ucz10O31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPXRbMV07aWYoIUFycmF5LmlzQXJyYXkocikmJlwib2JqZWN0XCI9PXR5cGVvZiByKXJldHVybiBlLmVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uXCIpO2NvbnN0IG49W107bGV0IGk9ITE7Zm9yKGxldCByPTE7cjw9dC5sZW5ndGgtMTsrK3Ipe2NvbnN0IGE9dFtyXTtpZihpJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmIUFycmF5LmlzQXJyYXkoYSkpe2k9ITE7bGV0IHQ9bnVsbDtpZihhW1wiZm9udC1zY2FsZVwiXSYmKHQ9ZS5wYXJzZShhW1wiZm9udC1zY2FsZVwiXSwxLHhlKSwhdCkpcmV0dXJuIG51bGw7bGV0IHI9bnVsbDtpZihhW1widGV4dC1mb250XCJdJiYocj1lLnBhcnNlKGFbXCJ0ZXh0LWZvbnRcIl0sMSxrZSh2ZSkpLCFyKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKGFbXCJ0ZXh0LWNvbG9yXCJdJiYocz1lLnBhcnNlKGFbXCJ0ZXh0LWNvbG9yXCJdLDEsX2UpLCFzKSlyZXR1cm4gbnVsbDtjb25zdCBvPW5bbi5sZW5ndGgtMV07by5zY2FsZT10LG8uZm9udD1yLG8udGV4dENvbG9yPXM7fWVsc2Uge2NvbnN0IGE9ZS5wYXJzZSh0W3JdLDEsTWUpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IHM9YS50eXBlLmtpbmQ7aWYoXCJzdHJpbmdcIiE9PXMmJlwidmFsdWVcIiE9PXMmJlwibnVsbFwiIT09cyYmXCJyZXNvbHZlZEltYWdlXCIhPT1zKXJldHVybiBlLmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy5cIik7aT0hMCxuLnB1c2goe2NvbnRlbnQ6YSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pO319cmV0dXJuIG5ldyBYZShuKX1ldmFsdWF0ZSh0KXtyZXR1cm4gbmV3IERlKHRoaXMuc2VjdGlvbnMubWFwKChlPT57Y29uc3Qgcj1lLmNvbnRlbnQuZXZhbHVhdGUodCk7cmV0dXJuIE5lKHIpPT09SWU/bmV3IFJlKFwiXCIscixudWxsLG51bGwsbnVsbCk6bmV3IFJlKE9lKHIpLG51bGwsZS5zY2FsZT9lLnNjYWxlLmV2YWx1YXRlKHQpOm51bGwsZS5mb250P2UuZm9udC5ldmFsdWF0ZSh0KS5qb2luKFwiLFwiKTpudWxsLGUudGV4dENvbG9yP2UudGV4dENvbG9yLmV2YWx1YXRlKHQpOm51bGwpfSkpKX1lYWNoQ2hpbGQodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWN0aW9ucyl0KGUuY29udGVudCksZS5zY2FsZSYmdChlLnNjYWxlKSxlLmZvbnQmJnQoZS5mb250KSxlLnRleHRDb2xvciYmdChlLnRleHRDb2xvcik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWN0aW9ucyl7dC5wdXNoKGUuY29udGVudC5zZXJpYWxpemUoKSk7Y29uc3Qgcj17fTtlLnNjYWxlJiYocltcImZvbnQtc2NhbGVcIl09ZS5zY2FsZS5zZXJpYWxpemUoKSksZS5mb250JiYocltcInRleHQtZm9udFwiXT1lLmZvbnQuc2VyaWFsaXplKCkpLGUudGV4dENvbG9yJiYocltcInRleHQtY29sb3JcIl09ZS50ZXh0Q29sb3Iuc2VyaWFsaXplKCkpLHQucHVzaChyKTt9cmV0dXJuIHR9fWNsYXNzIFple2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPUllLHRoaXMuaW5wdXRQcmltYXJ5PXQsdGhpcy5pbnB1dFNlY29uZGFyeT1lO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIG1vcmUgYXJndW1lbnRzLlwiKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHZlKTtpZighcilyZXR1cm4gZS5lcnJvcihcIk5vIGltYWdlIG5hbWUgcHJvdmlkZWQuXCIpO2lmKDI9PT10Lmxlbmd0aClyZXR1cm4gbmV3IFplKHIpO2NvbnN0IG49ZS5wYXJzZSh0WzJdLDEsdmUpO3JldHVybiBuP25ldyBaZShyLG4pOmUuZXJyb3IoXCJTZWNvbmRhcnkgaW1hZ2UgdmFyaWFudCBpcyBub3QgYSBzdHJpbmcuXCIpfWV2YWx1YXRlKHQpe2NvbnN0IGU9VmUuZnJvbVN0cmluZyh0aGlzLmlucHV0UHJpbWFyeS5ldmFsdWF0ZSh0KSx0aGlzLmlucHV0U2Vjb25kYXJ5P3RoaXMuaW5wdXRTZWNvbmRhcnkuZXZhbHVhdGUodCk6dm9pZCAwKTtyZXR1cm4gZSYmdC5hdmFpbGFibGVJbWFnZXMmJihlLmF2YWlsYWJsZT10LmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKGUubmFtZVByaW1hcnkpPi0xLGUubmFtZVNlY29uZGFyeSYmZS5hdmFpbGFibGUmJnQuYXZhaWxhYmxlSW1hZ2VzJiYoZS5hdmFpbGFibGU9dC5hdmFpbGFibGVJbWFnZXMuaW5kZXhPZihlLm5hbWVTZWNvbmRhcnkpPi0xKSksZX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0UHJpbWFyeSksdGhpcy5pbnB1dFNlY29uZGFyeSYmdCh0aGlzLmlucHV0U2Vjb25kYXJ5KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5pbnB1dFNlY29uZGFyeT9bXCJpbWFnZVwiLHRoaXMuaW5wdXRQcmltYXJ5LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXRTZWNvbmRhcnkuc2VyaWFsaXplKCldOltcImltYWdlXCIsdGhpcy5pbnB1dFByaW1hcnkuc2VyaWFsaXplKCldfX1mdW5jdGlvbiBLZSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOnQgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjp0IGluc3RhbmNlb2YgQm9vbGVhbj9cImJvb2xlYW5cIjpBcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjpudWxsPT09dD9cIm51bGxcIjp0eXBlb2YgdH1jb25zdCBIZT17XCJ0by1ib29sZWFuXCI6YmUsXCJ0by1jb2xvclwiOl9lLFwidG8tbnVtYmVyXCI6eGUsXCJ0by1zdHJpbmdcIjp2ZX07Y2xhc3MgV2V7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgcj10WzBdLG49W107bGV0IGk9Z2U7aWYoXCJ0by1hcnJheVwiPT09cil7aWYoIUFycmF5LmlzQXJyYXkodFsxXSkpcmV0dXJuIG51bGw7Y29uc3Qgcj10WzFdLmxlbmd0aDtpZihlLmV4cGVjdGVkVHlwZSl7aWYoXCJhcnJheVwiIT09ZS5leHBlY3RlZFR5cGUua2luZClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgJHtlLmV4cGVjdGVkVHlwZS5raW5kfSBidXQgZm91bmQgYXJyYXkuYCk7aT1rZShlLmV4cGVjdGVkVHlwZS5pdGVtVHlwZSxyKTt9ZWxzZSB7aWYoIShyPjAmJkZlKHRbMV1bMF0pKSlyZXR1cm4gbnVsbDtpPWtlKE5lKHRbMV1bMF0pLHIpO31mb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCByPXRbMV1bYV07bGV0IHM7aWYoXCJhcnJheVwiPT09S2Uocikpcz1lLnBhcnNlKHIsdm9pZCAwLGkuaXRlbVR5cGUpO2Vsc2Uge2NvbnN0IHQ9S2Uocik7aWYodCE9PWkuaXRlbVR5cGUua2luZClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgJHtpLml0ZW1UeXBlLmtpbmR9IGJ1dCBmb3VuZCAke3R9LmApO3M9ZS5yZWdpc3RyeS5saXRlcmFsLnBhcnNlKFtcImxpdGVyYWxcIix2b2lkIDA9PT1yP251bGw6cl0sZSk7fWlmKCFzKXJldHVybiBudWxsO24ucHVzaChzKTt9fWVsc2Uge2lmKChcInRvLWJvb2xlYW5cIj09PXJ8fFwidG8tc3RyaW5nXCI9PT1yKSYmMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtpPUhlW3JdO2ZvcihsZXQgcj0xO3I8dC5sZW5ndGg7cisrKXtjb25zdCBpPWUucGFyc2UodFtyXSxyLE1lKTtpZighaSlyZXR1cm4gbnVsbDtuLnB1c2goaSk7fX1yZXR1cm4gbmV3IFdlKGksbil9ZXZhbHVhdGUodCl7aWYoXCJib29sZWFuXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gQm9vbGVhbih0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgZSxyO2Zvcihjb25zdCBuIG9mIHRoaXMuYXJncyl7aWYoZT1uLmV2YWx1YXRlKHQpLHI9bnVsbCxlIGluc3RhbmNlb2YgbGUpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHI9dC5wYXJzZUNvbG9yKGUpO2lmKHIpcmV0dXJuIHJ9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiYocj1lLmxlbmd0aDwzfHxlLmxlbmd0aD40P2BJbnZhbGlkIHJiZ2EgdmFsdWUgJHtKU09OLnN0cmluZ2lmeShlKX06IGV4cGVjdGVkIGFuIGFycmF5IGNvbnRhaW5pbmcgZWl0aGVyIHRocmVlIG9yIGZvdXIgbnVtZXJpYyB2YWx1ZXMuYDpMZShlWzBdLGVbMV0sZVsyXSxlWzNdKSwhcikpcmV0dXJuIG5ldyBsZShlWzBdLzI1NSxlWzFdLzI1NSxlWzJdLzI1NSxlWzNdKX10aHJvdyBuZXcgcWUocnx8YENvdWxkIG5vdCBwYXJzZSBjb2xvciBmcm9tIHZhbHVlICcke1wic3RyaW5nXCI9PXR5cGVvZiBlP2U6U3RyaW5nKEpTT04uc3RyaW5naWZ5KGUpKX0nYCl9aWYoXCJudW1iZXJcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgZT1udWxsO2Zvcihjb25zdCByIG9mIHRoaXMuYXJncyl7aWYoZT1yLmV2YWx1YXRlKHQpLG51bGw9PT1lKXJldHVybiAwO2NvbnN0IG49TnVtYmVyKGUpO2lmKCFpc05hTihuKSlyZXR1cm4gbn10aHJvdyBuZXcgcWUoYENvdWxkIG5vdCBjb252ZXJ0ICR7SlNPTi5zdHJpbmdpZnkoZSl9IHRvIG51bWJlci5gKX1yZXR1cm4gXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kP0RlLmZyb21TdHJpbmcoT2UodGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZD9WZS5mcm9tU3RyaW5nKE9lKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSkpOlwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kP3RoaXMuYXJncy5tYXAoKGU9PmUuZXZhbHVhdGUodCkpKTpPZSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpfWVhY2hDaGlsZCh0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7aWYoXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgWGUoW3tjb250ZW50OnRoaXMuYXJnc1swXSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH1dKS5zZXJpYWxpemUoKTtpZihcInJlc29sdmVkSW1hZ2VcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgWmUodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTtjb25zdCB0PVwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kP1tdOltgdG8tJHt0aGlzLnR5cGUua2luZH1gXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fXZhciBKZT1XZTtjb25zdCBRZT1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXTt2YXIgdHI9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLmdsb2JhbHM9bnVsbCx0aGlzLmZlYXR1cmU9bnVsbCx0aGlzLmZlYXR1cmVTdGF0ZT1udWxsLHRoaXMuZm9ybWF0dGVkU2VjdGlvbj1udWxsLHRoaXMuX3BhcnNlQ29sb3JDYWNoZT17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz1udWxsLHRoaXMuY2Fub25pY2FsPW51bGwsdGhpcy5mZWF0dXJlVGlsZUNvb3JkPW51bGwsdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhPW51bGwsdGhpcy5zY29wZT10LHRoaXMub3B0aW9ucz1lO31pZCgpe3JldHVybiB0aGlzLmZlYXR1cmUmJnZvaWQgMCE9PXRoaXMuZmVhdHVyZS5pZD90aGlzLmZlYXR1cmUuaWQ6bnVsbH1nZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5mZWF0dXJlP1wibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT9RZVt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH1nZW9tZXRyeSgpe3JldHVybiB0aGlzLmZlYXR1cmUmJlwiZ2VvbWV0cnlcImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH1jYW5vbmljYWxJRCgpe3JldHVybiB0aGlzLmNhbm9uaWNhbH1wcm9wZXJ0aWVzKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLnByb3BlcnRpZXN8fHt9fW1lYXN1cmVMaWdodCh0KXtyZXR1cm4gdGhpcy5nbG9iYWxzLmJyaWdodG5lc3N8fDB9ZGlzdGFuY2VGcm9tQ2VudGVyKCl7aWYodGhpcy5mZWF0dXJlVGlsZUNvb3JkJiZ0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmNlbnRlcixlPXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5zY2FsZSx7eDpyLHk6bn09dGhpcy5mZWF0dXJlVGlsZUNvb3JkO3JldHVybiB0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1swXSoociplLXRbMF0pK3RoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzFdKihuKmUtdFsxXSl9cmV0dXJuIDB9cGFyc2VDb2xvcih0KXtsZXQgZT10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbdF07cmV0dXJuIGV8fChlPXRoaXMuX3BhcnNlQ29sb3JDYWNoZVt0XT1sZS5wYXJzZSh0KSksZX1nZXRDb25maWcodCl7cmV0dXJuIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMuZ2V0KHQpOm51bGx9fTtjbGFzcyBlcntjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMubmFtZT10LHRoaXMudHlwZT1lLHRoaXMuX2V2YWx1YXRlPXIsdGhpcy5hcmdzPW4sdGhpcy5fb3ZlcmxvYWRJbmRleD1pO31ldmFsdWF0ZSh0KXtpZighdGhpcy5fZXZhbHVhdGUpe2NvbnN0IHQ9ZXIuZGVmaW5pdGlvbnNbdGhpcy5uYW1lXTt0aGlzLl9ldmFsdWF0ZT1BcnJheS5pc0FycmF5KHQpP3RbMl06dC5vdmVybG9hZHNbdGhpcy5fb3ZlcmxvYWRJbmRleF1bMV07fXJldHVybiB0aGlzLl9ldmFsdWF0ZSh0LHRoaXMuYXJncyl9ZWFjaENoaWxkKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcCgodD0+dC5zZXJpYWxpemUoKSkpKX1zdGF0aWMgcGFyc2UodCxlKXtjb25zdCByPXRbMF0sbj1lci5kZWZpbml0aW9uc1tyXTtpZighbilyZXR1cm4gZS5lcnJvcihgVW5rbm93biBleHByZXNzaW9uIFwiJHtyfVwiLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCk7Y29uc3QgaT1BcnJheS5pc0FycmF5KG4pP25bMF06bi50eXBlLGE9QXJyYXkuaXNBcnJheShuKT9bW25bMV0sblsyXV1dOm4ub3ZlcmxvYWRzLHM9W107bGV0IG89bnVsbCxsPS0xO2Zvcihjb25zdFtuLHVdb2YgYSl7aWYoQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGghPT10Lmxlbmd0aC0xKWNvbnRpbnVlO3MucHVzaChuKSxsKyssbz1uZXcgX24oZS5yZWdpc3RyeSxlLnBhdGgsbnVsbCxlLnNjb3BlLHZvaWQgMCxlLl9zY29wZSxlLm9wdGlvbnMpO2NvbnN0IGE9W107bGV0IGM9ITE7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHI9dFtlXSxpPUFycmF5LmlzQXJyYXkobik/bltlLTFdOm4udHlwZSxzPW8ucGFyc2UociwxK2EubGVuZ3RoLGkpO2lmKCFzKXtjPSEwO2JyZWFrfWEucHVzaChzKTt9aWYoIWMpaWYoQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGghPT1hLmxlbmd0aClvLmVycm9yKGBFeHBlY3RlZCAke24ubGVuZ3RofSBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2EubGVuZ3RofSBpbnN0ZWFkLmApO2Vsc2Uge2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCsrKXtjb25zdCBlPUFycmF5LmlzQXJyYXkobik/blt0XTpuLnR5cGUscj1hW3RdO28uY29uY2F0KHQrMSkuY2hlY2tTdWJ0eXBlKGUsci50eXBlKTt9aWYoMD09PW8uZXJyb3JzLmxlbmd0aClyZXR1cm4gbmV3IGVyKHIsaSx1LGEsbCl9fWlmKDE9PT1zLmxlbmd0aCllLmVycm9ycy5wdXNoKC4uLm8uZXJyb3JzKTtlbHNlIHtjb25zdCByPShzLmxlbmd0aD9zOmEubWFwKCgoW3RdKT0+dCkpKS5tYXAocnIpLmpvaW4oXCIgfCBcIiksbj1bXTtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgaT1lLnBhcnNlKHRbcl0sMStuLmxlbmd0aCk7aWYoIWkpcmV0dXJuIG51bGw7bi5wdXNoKFBlKGkudHlwZSkpO31lLmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudHMgb2YgdHlwZSAke3J9LCBidXQgZm91bmQgKCR7bi5qb2luKFwiLCBcIil9KSBpbnN0ZWFkLmApO31yZXR1cm4gbnVsbH1zdGF0aWMgcmVnaXN0ZXIodCxlKXtlci5kZWZpbml0aW9ucz1lO2Zvcihjb25zdCByIGluIGUpdFtyXT1lcjt9fWZ1bmN0aW9uIHJyKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP2AoJHt0Lm1hcChQZSkuam9pbihcIiwgXCIpfSlgOmAoJHtQZSh0LnR5cGUpfS4uLilgfXZhciBucj1lcjtjbGFzcyBpcntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPUFlLHRoaXMubG9jYWxlPXIsdGhpcy5jYXNlU2Vuc2l0aXZlPXQsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPXRbMV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIHJ8fEFycmF5LmlzQXJyYXkocikpcmV0dXJuIGUuZXJyb3IoXCJDb2xsYXRvciBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtjb25zdCBuPWUucGFyc2Uodm9pZCAwIT09cltcImNhc2Utc2Vuc2l0aXZlXCJdJiZyW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxiZSk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT1lLnBhcnNlKHZvaWQgMCE9PXJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZyW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLGJlKTtpZighaSlyZXR1cm4gbnVsbDtsZXQgYT1udWxsO3JldHVybiByLmxvY2FsZSYmKGE9ZS5wYXJzZShyLmxvY2FsZSwxLHZlKSwhYSk/bnVsbDpuZXcgaXIobixpLGEpfWV2YWx1YXRlKHQpe3JldHVybiBuZXcgQ2UodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKHQpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOm51bGwpfWVhY2hDaGlsZCh0KXt0KHRoaXMuY2FzZVNlbnNpdGl2ZSksdCh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJnQodGhpcy5sb2NhbGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307cmV0dXJuIHRbXCJjYXNlLXNlbnNpdGl2ZVwiXT10aGlzLmNhc2VTZW5zaXRpdmUuc2VyaWFsaXplKCksdFtcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJih0LmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksW1wiY29sbGF0b3JcIix0XX19dmFyIGFyPXtleHBvcnRzOnt9fTthci5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyLG4saSxhLHMpe2Zvcig7YT5pOyl7aWYoYS1pPjYwMCl7dmFyIG89YS1pKzEsbD1uLWkrMSx1PU1hdGgubG9nKG8pLGM9LjUqTWF0aC5leHAoMip1LzMpLGg9LjUqTWF0aC5zcXJ0KHUqYyooby1jKS9vKSoobC1vLzI8MD8tMToxKTt0KHIsbixNYXRoLm1heChpLE1hdGguZmxvb3Iobi1sKmMvbytoKSksTWF0aC5taW4oYSxNYXRoLmZsb29yKG4rKG8tbCkqYy9vK2gpKSxzKTt9dmFyIHA9cltuXSxmPWksZD1hO2ZvcihlKHIsaSxuKSxzKHJbYV0scCk+MCYmZShyLGksYSk7ZjxkOyl7Zm9yKGUocixmLGQpLGYrKyxkLS07cyhyW2ZdLHApPDA7KWYrKztmb3IoO3MocltkXSxwKT4wOylkLS07fTA9PT1zKHJbaV0scCk/ZShyLGksZCk6ZShyLCsrZCxhKSxkPD1uJiYoaT1kKzEpLG48PWQmJihhPWQtMSk7fX1mdW5jdGlvbiBlKHQsZSxyKXt2YXIgbj10W2VdO3RbZV09dFtyXSx0W3JdPW47fWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9cmV0dXJuIGZ1bmN0aW9uKGUsbixpLGEscyl7dChlLG4saXx8MCxhfHxlLmxlbmd0aC0xLHN8fHIpO319KCk7dmFyIHNyPWgoYXIuZXhwb3J0cyk7ZnVuY3Rpb24gb3IodCl7bGV0IGU9MDtmb3IobGV0IHIsbixpPTAsYT10Lmxlbmd0aCxzPWEtMTtpPGE7cz1pKyspcj10W2ldLG49dFtzXSxlKz0obi54LXIueCkqKHIueStuLnkpO3JldHVybiBlfWZ1bmN0aW9uIGxyKHQsZSl7dFswXT1NYXRoLm1pbih0WzBdLGVbMF0pLHRbMV09TWF0aC5taW4odFsxXSxlWzFdKSx0WzJdPU1hdGgubWF4KHRbMl0sZVswXSksdFszXT1NYXRoLm1heCh0WzNdLGVbMV0pO31mdW5jdGlvbiB1cih0LGUpe3JldHVybiAhKHRbMF08PWVbMF18fHRbMl0+PWVbMl18fHRbMV08PWVbMV18fHRbM10+PWVbM10pfWZ1bmN0aW9uIGNyKHQsZSxyKXtjb25zdCBuPXRbMF0tZVswXSxpPXRbMV0tZVsxXSxhPXRbMF0tclswXSxzPXRbMV0tclsxXTtyZXR1cm4gbipzLWEqaT09MCYmbiphPD0wJiZpKnM8PTB9ZnVuY3Rpb24gaHIodCxlLHI9ITEpe2xldCBuPSExO2ZvcihsZXQgbz0wLGw9ZS5sZW5ndGg7bzxsO28rKyl7Y29uc3QgbD1lW29dO2ZvcihsZXQgZT0wLG89bC5sZW5ndGgsdT1vLTE7ZTxvO3U9ZSsrKXtjb25zdCBvPWxbdV0sYz1sW2VdO2lmKGNyKHQsbyxjKSlyZXR1cm4gcjsoYT1vKVsxXT4oaT10KVsxXSE9KHM9YylbMV0+aVsxXSYmaVswXTwoc1swXS1hWzBdKSooaVsxXS1hWzFdKS8oc1sxXS1hWzFdKSthWzBdJiYobj0hbik7fX12YXIgaSxhLHM7cmV0dXJuIG59ZnVuY3Rpb24gcHIodCxlLHIsbil7Y29uc3QgaT1uWzBdLXJbMF0sYT1uWzFdLXJbMV0scz0odFswXS1yWzBdKSphLWkqKHRbMV0tclsxXSksbz0oZVswXS1yWzBdKSphLWkqKGVbMV0tclsxXSk7cmV0dXJuIHM+MCYmbzwwfHxzPDAmJm8+MH1mdW5jdGlvbiBmcih0LGUscixuKXtyZXR1cm4gMCE9KGk9W25bMF0tclswXSxuWzFdLXJbMV1dKVswXSooYT1bZVswXS10WzBdLGVbMV0tdFsxXV0pWzFdLWlbMV0qYVswXSYmISghcHIodCxlLHIsbil8fCFwcihyLG4sdCxlKSk7dmFyIGksYTt9Y29uc3QgZHI9ODE5MjtmdW5jdGlvbiBtcih0LGUpe2NvbnN0IHI9KDE4MCt0WzBdKS8zNjAsbj0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCt0WzFdKk1hdGguUEkvMzYwKSkpLzM2MCxpPU1hdGgucG93KDIsZS56KTtyZXR1cm4gW01hdGgucm91bmQocippKmRyKSxNYXRoLnJvdW5kKG4qaSpkcildfWZ1bmN0aW9uIHlyKHQsZSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoaHIodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGdyKHQsZSxyKXtmb3IoY29uc3QgbiBvZiByKWZvcihsZXQgcj0wLGk9bi5sZW5ndGgsYT1pLTE7cjxpO2E9cisrKWlmKGZyKHQsZSxuW2FdLG5bcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24geHIodCxlKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoOysrcilpZighaHIodFtyXSxlKSlyZXR1cm4gITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC0xOysrcilpZihncih0W3JdLHRbcisxXSxlKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIHZyKHQsZSl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoeHIodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGJyKHQsZSxyKXtjb25zdCBuPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBhPVtdO2ZvcihsZXQgbj0wO248dFtpXS5sZW5ndGg7bisrKXtjb25zdCBzPW1yKHRbaV1bbl0scik7bHIoZSxzKSxhLnB1c2gocyk7fW4ucHVzaChhKTt9cmV0dXJuIG59ZnVuY3Rpb24gX3IodCxlLHIpe2NvbnN0IG49W107Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IGE9YnIodFtpXSxlLHIpO24ucHVzaChhKTt9cmV0dXJuIG59ZnVuY3Rpb24gd3IodCxlLHIsbil7aWYodFswXTxyWzBdfHx0WzBdPnJbMl0pe2NvbnN0IGU9LjUqbjtsZXQgaT10WzBdLXJbMF0+ZT8tbjpyWzBdLXRbMF0+ZT9uOjA7MD09PWkmJihpPXRbMF0tclsyXT5lPy1uOnJbMl0tdFswXT5lP246MCksdFswXSs9aTt9bHIoZSx0KTt9ZnVuY3Rpb24gTXIodCxlLHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4ueikqZHIsYT1bbi54KmRyLG4ueSpkcl0scz1bXTtpZighdClyZXR1cm4gcztmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IG9mIG4pe2NvbnN0IG49W3QueCthWzBdLHQueSthWzFdXTt3cihuLGUscixpKSxzLnB1c2gobik7fXJldHVybiBzfWZ1bmN0aW9uIEFyKHQsZSxyLG4pe2NvbnN0IGk9TWF0aC5wb3coMixuLnopKmRyLGE9W24ueCpkcixuLnkqZHJdLHM9W107aWYoIXQpcmV0dXJuIHM7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPVtuLngrYVswXSxuLnkrYVsxXV07bHIoZSxyKSx0LnB1c2gocik7fXMucHVzaCh0KTt9aWYoZVsyXS1lWzBdPD1pLzIpeyhvPWUpWzBdPW9bMV09MS8wLG9bMl09b1szXT0tMS8wO2Zvcihjb25zdCB0IG9mIHMpZm9yKGNvbnN0IG4gb2YgdCl3cihuLGUscixpKTt9dmFyIG87cmV0dXJuIHN9Y2xhc3MgU3J7Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9YmUsdGhpcy5nZW9qc29uPXQsdGhpcy5nZW9tZXRyaWVzPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDIhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZihGZSh0WzFdKSl7Y29uc3QgZT10WzFdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IobGV0IHQ9MDt0PGUuZmVhdHVyZXMubGVuZ3RoOysrdCl7Y29uc3Qgcj1lLmZlYXR1cmVzW3RdLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpUG9seWdvblwiPT09cilyZXR1cm4gbmV3IFNyKGUsZS5mZWF0dXJlc1t0XS5nZW9tZXRyeSl9ZWxzZSBpZihcIkZlYXR1cmVcIj09PWUudHlwZSl7Y29uc3QgdD1lLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT10fHxcIk11bHRpUG9seWdvblwiPT09dClyZXR1cm4gbmV3IFNyKGUsZS5nZW9tZXRyeSl9ZWxzZSBpZihcIlBvbHlnb25cIj09PWUudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PWUudHlwZSlyZXR1cm4gbmV3IFNyKGUsZSl9cmV0dXJuIGUuZXJyb3IoXCInd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIHZhbGlkIGdlb2pzb24gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9seWdvbiBnZW9tZXRyeSB0eXBlLlwiKX1ldmFsdWF0ZSh0KXtpZihudWxsIT10Lmdlb21ldHJ5KCkmJm51bGwhPXQuY2Fub25pY2FsSUQoKSl7aWYoXCJQb2ludFwiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9dC5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PWUudHlwZSl7Y29uc3QgYT1icihlLmNvb3JkaW5hdGVzLG4saSkscz1Ncih0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF1cihyLG4pKXJldHVybiAhMTtmb3IoY29uc3QgdCBvZiBzKWlmKCFocih0LGEpKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBhPV9yKGUuY29vcmRpbmF0ZXMsbixpKSxzPU1yKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIXVyKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIHMpaWYoIXlyKHQsYSkpcmV0dXJuICExfXJldHVybiAhMH0odCx0aGlzLmdlb21ldHJpZXMpO2lmKFwiTGluZVN0cmluZ1wiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCByPVsxLzAsMS8wLC0xLzAsLTEvMF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9dC5jYW5vbmljYWxJRCgpO2lmKCFpKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PWUudHlwZSl7Y29uc3QgYT1icihlLmNvb3JkaW5hdGVzLG4saSkscz1Bcih0Lmdlb21ldHJ5KCkscixuLGkpO2lmKCF1cihyLG4pKXJldHVybiAhMTtmb3IoY29uc3QgdCBvZiBzKWlmKCF4cih0LGEpKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBhPV9yKGUuY29vcmRpbmF0ZXMsbixpKSxzPUFyKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIXVyKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIHMpaWYoIXZyKHQsYSkpcmV0dXJuICExfXJldHVybiAhMH0odCx0aGlzLmdlb21ldHJpZXMpfXJldHVybiAhMX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gW1wid2l0aGluXCIsdGhpcy5nZW9qc29uXX19dmFyIElyPVNyLGtyPXtleHBvcnRzOnt9fTtrci5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9e2tpbG9tZXRlcnM6MSxtaWxlczoxZTMvMTYwOS4zNDQsbmF1dGljYWxtaWxlczoxZTMvMTg1MixtZXRlcnM6MWUzLG1ldHJlczoxZTMseWFyZHM6MWUzLy45MTQ0LGZlZXQ6MWUzLy4zMDQ4LGluY2hlczoxZTMvLjAyNTR9LGU9MS8yOTguMjU3MjIzNTYzLHI9ZSooMi1lKSxuPU1hdGguUEkvMTgwLGk9ZnVuY3Rpb24oZSxpKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIk5vIGxhdGl0dWRlIGdpdmVuLlwiKTtpZihpJiYhdFtpXSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHVuaXQgXCIraStcIi4gVXNlIG9uZSBvZjogXCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpKTt2YXIgYT02Mzc4LjEzNypuKihpP3RbaV06MSkscz1NYXRoLmNvcyhlKm4pLG89MS8oMS1yKigxLXMqcykpLGw9TWF0aC5zcXJ0KG8pO3RoaXMua3g9YSpsKnMsdGhpcy5reT1hKmwqbyooMS1yKTt9LGE9e3VuaXRzOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBzKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBvKHQsZSxyKXt2YXIgbj1sKGVbMF0tdFswXSk7cmV0dXJuIFt0WzBdK24qcix0WzFdKyhlWzFdLXRbMV0pKnJdfWZ1bmN0aW9uIGwodCl7Zm9yKDt0PC0xODA7KXQrPTM2MDtmb3IoO3Q+MTgwOyl0LT0zNjA7cmV0dXJuIHR9cmV0dXJuIGkuZnJvbVRpbGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBhPU1hdGguUEkqKDEtMioodCsuNSkvTWF0aC5wb3coMixlKSkscz1NYXRoLmF0YW4oLjUqKE1hdGguZXhwKGEpLU1hdGguZXhwKC1hKSkpL247cmV0dXJuIG5ldyBpKHMscil9LGEudW5pdHMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGkucHJvdG90eXBlLmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bCh0WzBdLWVbMF0pKnRoaXMua3gsbj0odFsxXS1lWzFdKSp0aGlzLmt5O3JldHVybiBNYXRoLnNxcnQocipyK24qbil9LGkucHJvdG90eXBlLmJlYXJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgcj1sKGVbMF0tdFswXSkqdGhpcy5reDtyZXR1cm4gTWF0aC5hdGFuMihyLChlWzFdLXRbMV0pKnRoaXMua3kpL259LGkucHJvdG90eXBlLmRlc3RpbmF0aW9uPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1yKm47cmV0dXJuIHRoaXMub2Zmc2V0KHQsTWF0aC5zaW4oaSkqZSxNYXRoLmNvcyhpKSplKX0saS5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gW3RbMF0rZS90aGlzLmt4LHRbMV0rci90aGlzLmt5XX0saS5wcm90b3R5cGUubGluZURpc3RhbmNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9MDtyPHQubGVuZ3RoLTE7cisrKWUrPXRoaXMuZGlzdGFuY2UodFtyXSx0W3IrMV0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9MDtyPHQubGVuZ3RoO3IrKylmb3IodmFyIG49dFtyXSxpPTAsYT1uLmxlbmd0aCxzPWEtMTtpPGE7cz1pKyspZSs9bChuW2ldWzBdLW5bc11bMF0pKihuW2ldWzFdK25bc11bMV0pKihyPy0xOjEpO3JldHVybiBNYXRoLmFicyhlKS8yKnRoaXMua3gqdGhpcy5reX0saS5wcm90b3R5cGUuYWxvbmc9ZnVuY3Rpb24odCxlKXt2YXIgcj0wO2lmKGU8PTApcmV0dXJuIHRbMF07Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aC0xO24rKyl7dmFyIGk9dFtuXSxhPXRbbisxXSxzPXRoaXMuZGlzdGFuY2UoaSxhKTtpZigocis9cyk+ZSlyZXR1cm4gbyhpLGEsKGUtKHItcykpL3MpfXJldHVybiB0W3QubGVuZ3RoLTFdfSxpLnByb3RvdHlwZS5wb2ludFRvU2VnbWVudERpc3RhbmNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWwoclswXS1uKSp0aGlzLmt4LHM9KHJbMV0taSkqdGhpcy5reSxvPTA7cmV0dXJuIDA9PT1hJiYwPT09c3x8KChvPShsKHRbMF0tbikqdGhpcy5reCphKyh0WzFdLWkpKnRoaXMua3kqcykvKGEqYStzKnMpKT4xPyhuPXJbMF0saT1yWzFdKTpvPjAmJihuKz1hL3RoaXMua3gqbyxpKz1zL3RoaXMua3kqbykpLGE9bCh0WzBdLW4pKnRoaXMua3gscz0odFsxXS1pKSp0aGlzLmt5LE1hdGguc3FydChhKmErcypzKX0saS5wcm90b3R5cGUucG9pbnRPbkxpbmU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsbixpLGEscz0xLzAsbz0wO288dC5sZW5ndGgtMTtvKyspe3ZhciB1PXRbb11bMF0sYz10W29dWzFdLGg9bCh0W28rMV1bMF0tdSkqdGhpcy5reCxwPSh0W28rMV1bMV0tYykqdGhpcy5reSxmPTA7MD09PWgmJjA9PT1wfHwoKGY9KGwoZVswXS11KSp0aGlzLmt4KmgrKGVbMV0tYykqdGhpcy5reSpwKS8oaCpoK3AqcCkpPjE/KHU9dFtvKzFdWzBdLGM9dFtvKzFdWzFdKTpmPjAmJih1Kz1oL3RoaXMua3gqZixjKz1wL3RoaXMua3kqZikpO3ZhciBkPShoPWwoZVswXS11KSp0aGlzLmt4KSpoKyhwPShlWzFdLWMpKnRoaXMua3kpKnA7ZDxzJiYocz1kLHI9dSxuPWMsaT1vLGE9Zik7fXJldHVybiB7cG9pbnQ6W3Isbl0saW5kZXg6aSx0Ok1hdGgubWF4KDAsTWF0aC5taW4oMSxhKSl9fSxpLnByb3RvdHlwZS5saW5lU2xpY2U9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMucG9pbnRPbkxpbmUocix0KSxpPXRoaXMucG9pbnRPbkxpbmUocixlKTtpZihuLmluZGV4PmkuaW5kZXh8fG4uaW5kZXg9PT1pLmluZGV4JiZuLnQ+aS50KXt2YXIgYT1uO249aSxpPWE7fXZhciBvPVtuLnBvaW50XSxsPW4uaW5kZXgrMSx1PWkuaW5kZXg7IXMocltsXSxvWzBdKSYmbDw9dSYmby5wdXNoKHJbbF0pO2Zvcih2YXIgYz1sKzE7Yzw9dTtjKyspby5wdXNoKHJbY10pO3JldHVybiBzKHJbdV0saS5wb2ludCl8fG8ucHVzaChpLnBvaW50KSxvfSxpLnByb3RvdHlwZS5saW5lU2xpY2VBbG9uZz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPTAsaT1bXSxhPTA7YTxyLmxlbmd0aC0xO2ErKyl7dmFyIHM9clthXSxsPXJbYSsxXSx1PXRoaXMuZGlzdGFuY2UocyxsKTtpZigobis9dSk+dCYmMD09PWkubGVuZ3RoJiZpLnB1c2gobyhzLGwsKHQtKG4tdSkpL3UpKSxuPj1lKXJldHVybiBpLnB1c2gobyhzLGwsKGUtKG4tdSkpL3UpKSxpO24+dCYmaS5wdXNoKGwpO31yZXR1cm4gaX0saS5wcm90b3R5cGUuYnVmZmVyUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lL3RoaXMua3ksbj1lL3RoaXMua3g7cmV0dXJuIFt0WzBdLW4sdFsxXS1yLHRbMF0rbix0WzFdK3JdfSxpLnByb3RvdHlwZS5idWZmZXJCQm94PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS90aGlzLmt5LG49ZS90aGlzLmt4O3JldHVybiBbdFswXS1uLHRbMV0tcix0WzJdK24sdFszXStyXX0saS5wcm90b3R5cGUuaW5zaWRlQkJveD1mdW5jdGlvbih0LGUpe3JldHVybiBsKHRbMF0tZVswXSk+PTAmJmwodFswXS1lWzJdKTw9MCYmdFsxXT49ZVsxXSYmdFsxXTw9ZVszXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxhKSxpfSgpO3ZhciBQcj1oKGtyLmV4cG9ydHMpLEVyPXtleHBvcnRzOnt9fTtFci5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxyKXtpZih2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09ciYmKHI9ZSksdGhpcy5kYXRhPXQsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9cix0aGlzLmxlbmd0aD4wKWZvcih2YXIgbj0odGhpcy5sZW5ndGg+PjEpLTE7bj49MDtuLS0pdGhpcy5fZG93bihuKTt9O2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKTt9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIHQ9dGhpcy5kYXRhWzBdLGU9dGhpcy5kYXRhLnBvcCgpO3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMubGVuZ3RoPjAmJih0aGlzLmRhdGFbMF09ZSx0aGlzLl9kb3duKDApKSx0fX0sdC5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LHQucHJvdG90eXBlLl91cD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kYXRhLHI9dGhpcy5jb21wYXJlLG49ZVt0XTt0PjA7KXt2YXIgaT10LTE+PjEsYT1lW2ldO2lmKHIobixhKT49MClicmVhaztlW3RdPWEsdD1pO31lW3RdPW47fSx0LnByb3RvdHlwZS5fZG93bj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kYXRhLHI9dGhpcy5jb21wYXJlLG49dGhpcy5sZW5ndGg+PjEsaT1lW3RdO3Q8bjspe3ZhciBhPTErKHQ8PDEpLHM9ZVthXSxvPWErMTtpZihvPHRoaXMubGVuZ3RoJiZyKGVbb10scyk8MCYmKGE9byxzPWVbb10pLHIocyxpKT49MClicmVhaztlW3RdPXMsdD1hO31lW3RdPWk7fSx0fSgpO3ZhciB6cj1oKEVyLmV4cG9ydHMpLFRyPTgxOTI7ZnVuY3Rpb24gQnIodCxlKXtyZXR1cm4gZS5kaXN0LXQuZGlzdH1jb25zdCBDcj0xMDAsUnI9NTA7ZnVuY3Rpb24gRHIodCl7Y29uc3QgZT1bMS8wLDEvMCwtMS8wLC0xLzBdO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0hPT10W3JdKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gVnIodCl7cmV0dXJuIHRbMV0tdFswXSsxfWZ1bmN0aW9uIExyKHQsZSl7Y29uc3Qgcj10WzFdPj10WzBdJiZ0WzFdPGU7cmV0dXJuIHJ8fGNvbnNvbGUud2FybihcIkRpc3RhbmNlIEV4cHJlc3Npb246IEluZGV4IGlzIG91dCBvZiByYW5nZVwiKSxyfWZ1bmN0aW9uIEZyKHQsZSl7aWYodFswXT50WzFdKXJldHVybiBbbnVsbCxudWxsXTtjb25zdCByPVZyKHQpO2lmKGUpe2lmKDI9PT1yKXJldHVybiBbdCxudWxsXTtjb25zdCBlPU1hdGguZmxvb3Ioci8yKTtyZXR1cm4gW1t0WzBdLHRbMF0rZV0sW3RbMF0rZSx0WzFdXV19e2lmKDE9PT1yKXJldHVybiBbdCxudWxsXTtjb25zdCBlPU1hdGguZmxvb3Ioci8yKS0xO3JldHVybiBbW3RbMF0sdFswXStlXSxbdFswXStlKzEsdFsxXV1dfX1mdW5jdGlvbiBOcih0LGUpe2NvbnN0IHI9WzEvMCwxLzAsLTEvMCwtMS8wXTtpZighTHIoZSx0Lmxlbmd0aCkpcmV0dXJuIHI7Zm9yKGxldCBuPWVbMF07bjw9ZVsxXTsrK24pbHIocix0W25dKTtyZXR1cm4gcn1mdW5jdGlvbiBPcih0KXtjb25zdCBlPVsxLzAsMS8wLC0xLzAsLTEvMF07Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3IpZm9yKGxldCBuPTA7bjx0W3JdLmxlbmd0aDsrK24pbHIoZSx0W3JdW25dKTtyZXR1cm4gZX1mdW5jdGlvbiBVcih0LGUscil7aWYoRHIodCl8fERyKGUpKXJldHVybiBOYU47bGV0IG49MCxpPTA7cmV0dXJuIHRbMl08ZVswXSYmKG49ZVswXS10WzJdKSx0WzBdPmVbMl0mJihuPXRbMF0tZVsyXSksdFsxXT5lWzNdJiYoaT10WzFdLWVbM10pLHRbM108ZVsxXSYmKGk9ZVsxXS10WzNdKSxyLmRpc3RhbmNlKFswLDBdLFtuLGldKX1mdW5jdGlvbiBqcih0KXtyZXR1cm4gMzYwKnQtMTgwfWZ1bmN0aW9uIHFyKHQpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqdCkqTWF0aC5QSS8xODApKS05MH1mdW5jdGlvbiAkcih0LGUpe2NvbnN0IHI9TWF0aC5wb3coMixlLnopLG49KHQueS9UcitlLnkpL3I7cmV0dXJuIFtqcigodC54L1RyK2UueCkvcikscXIobildfWZ1bmN0aW9uIEdyKHQsZSl7Y29uc3Qgcj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbilyLnB1c2goJHIodFtuXSxlKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gWXIodCxlLHIpe2NvbnN0IG49ci5wb2ludE9uTGluZShlLHQpLnBvaW50O3JldHVybiByLmRpc3RhbmNlKHQsbil9ZnVuY3Rpb24gWHIodCxlLHIsbixpKXtjb25zdCBhPXIuc2xpY2UoblswXSxuWzFdKzEpO2xldCBzPTEvMDtmb3IobGV0IHI9ZVswXTtyPD1lWzFdOysrcilpZigwPT09KHM9TWF0aC5taW4ocyxZcih0W3JdLGEsaSkpKSlyZXR1cm4gMDtyZXR1cm4gc31mdW5jdGlvbiBacih0LGUscixuLGkpe2NvbnN0IGE9TWF0aC5taW4oaS5wb2ludFRvU2VnbWVudERpc3RhbmNlKHQscixuKSxpLnBvaW50VG9TZWdtZW50RGlzdGFuY2UoZSxyLG4pKSxzPU1hdGgubWluKGkucG9pbnRUb1NlZ21lbnREaXN0YW5jZShyLHQsZSksaS5wb2ludFRvU2VnbWVudERpc3RhbmNlKG4sdCxlKSk7cmV0dXJuIE1hdGgubWluKGEscyl9ZnVuY3Rpb24gS3IodCxlLHIsbixpKXtpZighTHIoZSx0Lmxlbmd0aCl8fCFMcihuLHIubGVuZ3RoKSlyZXR1cm4gTmFOO2xldCBhPTEvMDtmb3IobGV0IHM9ZVswXTtzPGVbMV07KytzKWZvcihsZXQgZT1uWzBdO2U8blsxXTsrK2Upe2lmKGZyKHRbc10sdFtzKzFdLHJbZV0scltlKzFdKSlyZXR1cm4gMDthPU1hdGgubWluKGEsWnIodFtzXSx0W3MrMV0scltlXSxyW2UrMV0saSkpO31yZXR1cm4gYX1mdW5jdGlvbiBIcih0LGUscixuLGkpe2lmKCFMcihlLHQubGVuZ3RoKXx8IUxyKG4sci5sZW5ndGgpKXJldHVybiBOYU47bGV0IGE9MS8wO2ZvcihsZXQgcz1lWzBdO3M8PWVbMV07KytzKWZvcihsZXQgZT1uWzBdO2U8PW5bMV07KytlKWlmKDA9PT0oYT1NYXRoLm1pbihhLGkuZGlzdGFuY2UodFtzXSxyW2VdKSkpKXJldHVybiBhO3JldHVybiBhfWZ1bmN0aW9uIFdyKHQsZSxyKXtpZihocih0LGUsITApKXJldHVybiAwO2xldCBuPTEvMDtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkubGVuZ3RoO2lmKGU8MilyZXR1cm4gY29uc29sZS53YXJuKFwiRGlzdGFuY2UgRXhwcmVzc2lvbjogSW52YWxpZCBwb2x5Z29uIVwiKSxOYU47aWYoaVswXSE9PWlbZS0xXSYmMD09PShuPU1hdGgubWluKG4sci5wb2ludFRvU2VnbWVudERpc3RhbmNlKHQsaVtlLTFdLGlbMF0pKSkpcmV0dXJuIG47aWYoMD09PShuPU1hdGgubWluKG4sWXIodCxpLHIpKSkpcmV0dXJuIG59cmV0dXJuIG59ZnVuY3Rpb24gSnIodCxlLHIsbil7aWYoIUxyKGUsdC5sZW5ndGgpKXJldHVybiBOYU47Zm9yKGxldCBuPWVbMF07bjw9ZVsxXTsrK24paWYoaHIodFtuXSxyLCEwKSlyZXR1cm4gMDtsZXQgaT0xLzA7Zm9yKGxldCBhPWVbMF07YTxlWzFdOysrYSlmb3IoY29uc3QgZSBvZiByKWZvcihsZXQgcj0wLHM9ZS5sZW5ndGgsbz1zLTE7cjxzO289cisrKXtpZihmcih0W2FdLHRbYSsxXSxlW29dLGVbcl0pKXJldHVybiAwO2k9TWF0aC5taW4oaSxacih0W2FdLHRbYSsxXSxlW29dLGVbcl0sbikpO31yZXR1cm4gaX1mdW5jdGlvbiBRcih0LGUpe2Zvcihjb25zdCByIG9mIHQpZm9yKGxldCB0PTA7dDw9ci5sZW5ndGgtMTsrK3QpaWYoaHIoclt0XSxlLCEwKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIHRuKHQsZSxyLG49MS8wKXtjb25zdCBpPU9yKHQpLGE9T3IoZSk7aWYobiE9PTEvMCYmVXIoaSxhLHIpPj1uKXJldHVybiBuO2lmKHVyKGksYSkpe2lmKFFyKHQsZSkpcmV0dXJuIDB9ZWxzZSBpZihRcihlLHQpKXJldHVybiAwO2xldCBzPW47Zm9yKGNvbnN0IG4gb2YgdClmb3IobGV0IHQ9MCxpPW4ubGVuZ3RoLGE9aS0xO3Q8aTthPXQrKylmb3IoY29uc3QgaSBvZiBlKWZvcihsZXQgZT0wLG89aS5sZW5ndGgsbD1vLTE7ZTxvO2w9ZSsrKXtpZihmcihuW2FdLG5bdF0saVtsXSxpW2VdKSlyZXR1cm4gMDtzPU1hdGgubWluKHMsWnIoblthXSxuW3RdLGlbbF0saVtlXSxyKSk7fXJldHVybiBzfWZ1bmN0aW9uIGVuKHQsZSxyLG4saSxhLHMpe2lmKG51bGw9PT1hfHxudWxsPT09cylyZXR1cm47Y29uc3Qgbz1VcihOcihuLGEpLE5yKGkscykscik7bzxlJiZ0LnB1c2goe2Rpc3Q6byxyYW5nZTE6YSxyYW5nZTI6c30pO31mdW5jdGlvbiBybih0LGUscixuLGk9MS8wKXtsZXQgYT1NYXRoLm1pbihuLmRpc3RhbmNlKHRbMF0sclswXVswXSksaSk7aWYoMD09PWEpcmV0dXJuIGE7Y29uc3Qgcz1uZXcgenIoW3tkaXN0OjAscmFuZ2UxOlswLHQubGVuZ3RoLTFdLHJhbmdlMjpbMCwwXX1dLEJyKSxvPWU/UnI6Q3IsbD1PcihyKTtmb3IoO3MubGVuZ3RoOyl7Y29uc3QgaT1zLnBvcCgpO2lmKGkuZGlzdD49YSljb250aW51ZTtjb25zdCB1PWkucmFuZ2UxO2lmKFZyKHUpPD1vKXtpZighTHIodSx0Lmxlbmd0aCkpcmV0dXJuIE5hTjtpZihlKXtjb25zdCBlPUpyKHQsdSxyLG4pO2lmKDA9PT0oYT1NYXRoLm1pbihhLGUpKSlyZXR1cm4gYX1lbHNlIGZvcihsZXQgZT11WzBdO2U8PXVbMV07KytlKXtjb25zdCBpPVdyKHRbZV0scixuKTtpZigwPT09KGE9TWF0aC5taW4oYSxpKSkpcmV0dXJuIGF9fWVsc2Uge2NvbnN0IHI9RnIodSxlKTtpZihudWxsIT09clswXSl7Y29uc3QgZT1VcihOcih0LHJbMF0pLGwsbik7ZTxhJiZzLnB1c2goe2Rpc3Q6ZSxyYW5nZTE6clswXSxyYW5nZTI6WzAsMF19KTt9aWYobnVsbCE9PXJbMV0pe2NvbnN0IGU9VXIoTnIodCxyWzFdKSxsLG4pO2U8YSYmcy5wdXNoKHtkaXN0OmUscmFuZ2UxOnJbMV0scmFuZ2UyOlswLDBdfSk7fX19cmV0dXJuIGF9ZnVuY3Rpb24gbm4odCxlLHIsbixpLGE9MS8wKXtsZXQgcz1NYXRoLm1pbihhLGkuZGlzdGFuY2UodFswXSxyWzBdKSk7aWYoMD09PXMpcmV0dXJuIHM7Y29uc3Qgbz1uZXcgenIoW3tkaXN0OjAscmFuZ2UxOlswLHQubGVuZ3RoLTFdLHJhbmdlMjpbMCxyLmxlbmd0aC0xXX1dLEJyKSxsPWU/UnI6Q3IsdT1uP1JyOkNyO2Zvcig7by5sZW5ndGg7KXtjb25zdCBhPW8ucG9wKCk7aWYoYS5kaXN0Pj1zKWNvbnRpbnVlO2NvbnN0IGM9YS5yYW5nZTEsaD1hLnJhbmdlMjtpZihWcihjKTw9bCYmVnIoaCk8PXUpe2lmKCFMcihjLHQubGVuZ3RoKXx8IUxyKGgsci5sZW5ndGgpKXJldHVybiBOYU47aWYoZSYmbj9zPU1hdGgubWluKHMsS3IodCxjLHIsaCxpKSk6ZXx8bj9lJiYhbj9zPU1hdGgubWluKHMsWHIocixoLHQsYyxpKSk6IWUmJm4mJihzPU1hdGgubWluKHMsWHIodCxjLHIsaCxpKSkpOnM9TWF0aC5taW4ocyxIcih0LGMscixoLGkpKSwwPT09cylyZXR1cm4gc31lbHNlIHtjb25zdCBhPUZyKGMsZSksbD1GcihoLG4pO2VuKG8scyxpLHQscixhWzBdLGxbMF0pLGVuKG8scyxpLHQscixhWzBdLGxbMV0pLGVuKG8scyxpLHQscixhWzFdLGxbMF0pLGVuKG8scyxpLHQscixhWzFdLGxbMV0pO319cmV0dXJuIHN9ZnVuY3Rpb24gYW4odCxlLHIsbixpPTEvMCl7bGV0IGE9aTtjb25zdCBzPU5yKHQsWzAsdC5sZW5ndGgtMV0pO2Zvcihjb25zdCBpIG9mIHIpaWYoIShhIT09MS8wJiZVcihzLE5yKGksWzAsaS5sZW5ndGgtMV0pLG4pPj1hKSYmKGE9TWF0aC5taW4oYSxubih0LGUsaSwhMCxuLGEpKSwwPT09YSkpcmV0dXJuIGE7cmV0dXJuIGF9ZnVuY3Rpb24gc24odCxlLHIsbixpPTEvMCl7bGV0IGE9aTtjb25zdCBzPU5yKHQsWzAsdC5sZW5ndGgtMV0pO2Zvcihjb25zdCBpIG9mIHIpe2lmKGEhPT0xLzAmJlVyKHMsT3IoaSksbik+PWEpY29udGludWU7Y29uc3Qgcj1ybih0LGUsaSxuLGEpO2lmKGlzTmFOKHIpKXJldHVybiByO2lmKDA9PT0oYT1NYXRoLm1pbihhLHIpKSlyZXR1cm4gYX1yZXR1cm4gYX1mdW5jdGlvbiBvbih0KXtyZXR1cm4gXCJQb2ludFwiPT09dHx8XCJNdWx0aVBvaW50XCI9PT10fHxcIkxpbmVTdHJpbmdcIj09PXR8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT10fHxcIlBvbHlnb25cIj09PXR8fFwiTXVsdGlQb2x5Z29uXCI9PT10fWNsYXNzIGxue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPXhlLHRoaXMuZ2VvanNvbj10LHRoaXMuZ2VvbWV0cmllcz1lO31zdGF0aWMgcGFyc2UodCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoYCdkaXN0YW5jZScgZXhwcmVzc2lvbiByZXF1aXJlcyBlaXRoZXIgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJyAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoRmUodFsxXSkpe2NvbnN0IGU9dFsxXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1lLnR5cGUpe2ZvcihsZXQgdD0wO3Q8ZS5mZWF0dXJlcy5sZW5ndGg7Kyt0KWlmKG9uKGUuZmVhdHVyZXNbdF0uZ2VvbWV0cnkudHlwZSkpcmV0dXJuIG5ldyBsbihlLGUuZmVhdHVyZXNbdF0uZ2VvbWV0cnkpfWVsc2UgaWYoXCJGZWF0dXJlXCI9PT1lLnR5cGUpe2lmKG9uKGUuZ2VvbWV0cnkudHlwZSkpcmV0dXJuIG5ldyBsbihlLGUuZ2VvbWV0cnkpfWVsc2UgaWYob24oZS50eXBlKSlyZXR1cm4gbmV3IGxuKGUsZSl9cmV0dXJuIGUuZXJyb3IoXCInZGlzdGFuY2UnIGV4cHJlc3Npb24gbmVlZHMgdG8gYmUgYW4gYXJyYXkgd2l0aCBmb3JtYXQgWydEaXN0YW5jZScsIEdlb0pTT05PYmpdLlwiKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXQuZ2VvbWV0cnkoKSxyPXQuY2Fub25pY2FsSUQoKTtpZihudWxsIT1lJiZudWxsIT1yKXtpZihcIlBvaW50XCI9PT10Lmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbih0LGUscil7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiB0KWZvcihjb25zdCB0IG9mIHIpbi5wdXNoKCRyKHQsZSkpO2NvbnN0IGk9bmV3IFByKG5bMF1bMV0sXCJtZXRlcnNcIik7cmV0dXJuIFwiUG9pbnRcIj09PXIudHlwZXx8XCJNdWx0aVBvaW50XCI9PT1yLnR5cGV8fFwiTGluZVN0cmluZ1wiPT09ci50eXBlP25uKG4sITEsXCJQb2ludFwiPT09ci50eXBlP1tyLmNvb3JkaW5hdGVzXTpyLmNvb3JkaW5hdGVzLFwiTGluZVN0cmluZ1wiPT09ci50eXBlLGkpOlwiTXVsdGlMaW5lU3RyaW5nXCI9PT1yLnR5cGU/YW4obiwhMSxyLmNvb3JkaW5hdGVzLGkpOlwiUG9seWdvblwiPT09ci50eXBlfHxcIk11bHRpUG9seWdvblwiPT09ci50eXBlP3NuKG4sITEsXCJQb2x5Z29uXCI9PT1yLnR5cGU/W3IuY29vcmRpbmF0ZXNdOnIuY29vcmRpbmF0ZXMsaSk6bnVsbH0oZSxyLHRoaXMuZ2VvbWV0cmllcyk7aWYoXCJMaW5lU3RyaW5nXCI9PT10Lmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbih0LGUscil7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIHIpdC5wdXNoKCRyKG4sZSkpO24ucHVzaCh0KTt9Y29uc3QgaT1uZXcgUHIoblswXVswXVsxXSxcIm1ldGVyc1wiKTtpZihcIlBvaW50XCI9PT1yLnR5cGV8fFwiTXVsdGlQb2ludFwiPT09ci50eXBlfHxcIkxpbmVTdHJpbmdcIj09PXIudHlwZSlyZXR1cm4gYW4oXCJQb2ludFwiPT09ci50eXBlP1tyLmNvb3JkaW5hdGVzXTpyLmNvb3JkaW5hdGVzLFwiTGluZVN0cmluZ1wiPT09ci50eXBlLG4saSk7aWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PXIudHlwZSl7bGV0IHQ9MS8wO2ZvcihsZXQgZT0wO2U8ci5jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXtjb25zdCBhPWFuKHIuY29vcmRpbmF0ZXNbZV0sITAsbixpLHQpO2lmKGlzTmFOKGEpKXJldHVybiBhO2lmKDA9PT0odD1NYXRoLm1pbih0LGEpKSlyZXR1cm4gdH1yZXR1cm4gdH1pZihcIlBvbHlnb25cIj09PXIudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PXIudHlwZSl7bGV0IHQ9MS8wO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXtjb25zdCBhPXNuKG5bZV0sITAsXCJQb2x5Z29uXCI9PT1yLnR5cGU/W3IuY29vcmRpbmF0ZXNdOnIuY29vcmRpbmF0ZXMsaSx0KTtpZihpc05hTihhKSlyZXR1cm4gYTtpZigwPT09KHQ9TWF0aC5taW4odCxhKSkpcmV0dXJuIHR9cmV0dXJuIHR9cmV0dXJuIG51bGx9KGUscix0aGlzLmdlb21ldHJpZXMpO2lmKFwiUG9seWdvblwiPT09dC5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2NvbnN0IG49W107Zm9yKGNvbnN0IHIgb2YgZnVuY3Rpb24odCxlKXtjb25zdCByPXQubGVuZ3RoO2lmKHI8PTEpcmV0dXJuIFt0XTtjb25zdCBuPVtdO2xldCBpLGE7Zm9yKGxldCBlPTA7ZTxyO2UrKyl7Y29uc3Qgcj1vcih0W2VdKTswIT09ciYmKHRbZV0uYXJlYT1NYXRoLmFicyhyKSx2b2lkIDA9PT1hJiYoYT1yPDApLGE9PT1yPDA/KGkmJm4ucHVzaChpKSxpPVt0W2VdXSk6aS5wdXNoKHRbZV0pKTt9cmV0dXJuIGkmJm4ucHVzaChpKSxufSh0KSl7Y29uc3QgdD1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoOysrbil0LnB1c2goR3IocltuXSxlKSk7bi5wdXNoKHQpO31jb25zdCBpPW5ldyBQcihuWzBdWzBdWzBdWzFdLFwibWV0ZXJzXCIpO2lmKFwiUG9pbnRcIj09PXIudHlwZXx8XCJNdWx0aVBvaW50XCI9PT1yLnR5cGV8fFwiTGluZVN0cmluZ1wiPT09ci50eXBlKXJldHVybiBzbihcIlBvaW50XCI9PT1yLnR5cGU/W3IuY29vcmRpbmF0ZXNdOnIuY29vcmRpbmF0ZXMsXCJMaW5lU3RyaW5nXCI9PT1yLnR5cGUsbixpKTtpZihcIk11bHRpTGluZVN0cmluZ1wiPT09ci50eXBlKXtsZXQgdD0xLzA7Zm9yKGxldCBlPTA7ZTxyLmNvb3JkaW5hdGVzLmxlbmd0aDtlKyspe2NvbnN0IGE9c24oci5jb29yZGluYXRlc1tlXSwhMCxuLGksdCk7aWYoaXNOYU4oYSkpcmV0dXJuIGE7aWYoMD09PSh0PU1hdGgubWluKHQsYSkpKXJldHVybiB0fXJldHVybiB0fXJldHVybiBcIlBvbHlnb25cIj09PXIudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PXIudHlwZT9mdW5jdGlvbih0LGUscil7bGV0IG49MS8wO2Zvcihjb25zdCBpIG9mIHQpZm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10bihpLHQscixuKTtpZihpc05hTihlKSlyZXR1cm4gZTtpZigwPT09KG49TWF0aC5taW4obixlKSkpcmV0dXJuIG59cmV0dXJuIG59KFwiUG9seWdvblwiPT09ci50eXBlP1tyLmNvb3JkaW5hdGVzXTpyLmNvb3JkaW5hdGVzLG4saSk6bnVsbH0oZSxyLHRoaXMuZ2VvbWV0cmllcyk7Y29uc29sZS53YXJuKFwiRGlzdGFuY2UgRXhwcmVzc2lvbjogY3VycmVudGx5IG9ubHkgZXZhbHVhdGVzIHZhbGlkIFBvaW50L0xpbmVTdHJpbmcvUG9seWdvbiBnZW9tZXRyaWVzLlwiKTt9ZWxzZSBjb25zb2xlLndhcm4oXCJEaXN0YW5jZSBFeHByZXNzaW9uOiByZXF1aXJzIHZhbGlkIGZlYXR1cmUgYW5kIGNhbm9uaWNhbCBpbmZvcm1hdGlvbi5cIik7cmV0dXJuIG51bGx9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7cmV0dXJuIFtcImRpc3RhbmNlXCIsdGhpcy5nZW9qc29uXX19dmFyIHVuPWxuO2Z1bmN0aW9uIGNuKHQsZSl7c3dpdGNoKHQpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBPZShlKTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gK2U7Y2FzZVwiYm9vbGVhblwiOnJldHVybiAhIWU7Y2FzZVwiY29sb3JcIjpyZXR1cm4gbGUucGFyc2UoZSk7Y2FzZVwiZm9ybWF0dGVkXCI6cmV0dXJuIERlLmZyb21TdHJpbmcoT2UoZSkpO2Nhc2VcInJlc29sdmVkSW1hZ2VcIjpyZXR1cm4gVmUuZnJvbVN0cmluZyhPZShlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gaG4odCxlLHIsbil7cmV0dXJuIHZvaWQgMCE9PW4mJih0PW4qTWF0aC5yb3VuZCh0L24pKSx2b2lkIDAhPT1lJiZ0PGUmJih0PWUpLHZvaWQgMCE9PXImJnQ+ciYmKHQ9ciksdH1jbGFzcyBwbntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5rZXk9ZSx0aGlzLnNjb3BlPXI7fXN0YXRpYyBwYXJzZSh0LGUpe2xldCByPWUuZXhwZWN0ZWRUeXBlO2lmKG51bGw9PXImJihyPU1lKSx0Lmxlbmd0aDwyfHx0Lmxlbmd0aD4zKXJldHVybiBlLmVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzIGZvciAnY29uZmlnJyBleHByZXNzaW9uLlwiKTtjb25zdCBuPWUucGFyc2UodFsxXSwxKTtpZighKG4gaW5zdGFuY2VvZiBqZSkpcmV0dXJuIGUuZXJyb3IoXCJLZXkgbmFtZSBvZiAnY29uZmlnJyBleHByZXNzaW9uIG11c3QgYmUgYSBzdHJpbmcgbGl0ZXJhbC5cIik7aWYodC5sZW5ndGg+PTMpe2NvbnN0IGk9ZS5wYXJzZSh0WzJdLDIpO3JldHVybiBpIGluc3RhbmNlb2YgamU/bmV3IHBuKHIsT2Uobi52YWx1ZSksT2UoaS52YWx1ZSkpOmUuZXJyb3IoXCJTY29wZSBvZiAnY29uZmlnJyBleHByZXNzaW9uIG11c3QgYmUgYSBzdHJpbmcgbGl0ZXJhbC5cIil9cmV0dXJuIG5ldyBwbihyLE9lKG4udmFsdWUpKX1ldmFsdWF0ZSh0KXtjb25zdCBlPVt0aGlzLmtleSx0aGlzLnNjb3BlLHQuc2NvcGVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXHUwMDFmXCIpLHI9dC5nZXRDb25maWcoZSk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3R7dHlwZTpuLHZhbHVlOmksdmFsdWVzOmEsbWluVmFsdWU6cyxtYXhWYWx1ZTpvLHN0ZXBWYWx1ZTpsfT1yLHU9ci5kZWZhdWx0LmV2YWx1YXRlKHQpO2xldCBjPXU7aWYoaSl7Y29uc3QgZT10LnNjb3BlO3Quc2NvcGU9KGV8fFwiXCIpLnNwbGl0KFwiXHUwMDFmXCIpLnNsaWNlKDEpLmpvaW4oXCJcdTAwMWZcIiksYz1pLmV2YWx1YXRlKHQpLHQuc2NvcGU9ZTt9cmV0dXJuIG4mJihjPWNuKG4sYykpLHZvaWQgMD09PWN8fHZvaWQgMD09PXMmJnZvaWQgMD09PW8mJnZvaWQgMD09PWx8fChcIm51bWJlclwiPT10eXBlb2YgYz9jPWhuKGMscyxvLGwpOkFycmF5LmlzQXJyYXkoYykmJihjPWMubWFwKCh0PT5cIm51bWJlclwiPT10eXBlb2YgdD9obih0LHMsbyxsKTp0KSkpKSx2b2lkIDAhPT1pJiZ2b2lkIDAhPT1jJiZhJiYhYS5pbmNsdWRlcyhjKSYmKGM9dSxuJiYoYz1jbihuLGMpKSksKG4mJm4hPT10aGlzLnR5cGV8fHZvaWQgMCE9PWMmJk5lKGMpIT09dGhpcy50eXBlKSYmKGM9Y24odGhpcy50eXBlLmtpbmQsYykpLGN9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJjb25maWdcIix0aGlzLmtleV07cmV0dXJuIHRoaXMuc2NvcGUmJnQuY29uY2F0KHRoaXMua2V5KSx0fX12YXIgZm49cG47ZnVuY3Rpb24gZG4odCl7aWYodCBpbnN0YW5jZW9mIG5yKXtpZihcImdldFwiPT09dC5uYW1lJiYxPT09dC5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoXCJmZWF0dXJlLXN0YXRlXCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKFwiaGFzXCI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZihcInByb3BlcnRpZXNcIj09PXQubmFtZXx8XCJnZW9tZXRyeS10eXBlXCI9PT10Lm5hbWV8fFwiaWRcIj09PXQubmFtZSlyZXR1cm4gITE7aWYoL15maWx0ZXItLy50ZXN0KHQubmFtZSkpcmV0dXJuICExfWlmKHQgaW5zdGFuY2VvZiBJcilyZXR1cm4gITE7aWYodCBpbnN0YW5jZW9mIHVuKXJldHVybiAhMTtsZXQgZT0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoKHQ9PntlJiYhZG4odCkmJihlPSExKTt9KSksZX1mdW5jdGlvbiBtbih0KXtpZih0IGluc3RhbmNlb2YgbnImJlwiZmVhdHVyZS1zdGF0ZVwiPT09dC5uYW1lKXJldHVybiAhMTtsZXQgZT0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoKHQ9PntlJiYhbW4odCkmJihlPSExKTt9KSksZX1mdW5jdGlvbiB5bih0KXtpZih0IGluc3RhbmNlb2YgZm4pcmV0dXJuICExO2xldCBlPSEwO3JldHVybiB0LmVhY2hDaGlsZCgodD0+e2UmJiF5bih0KSYmKGU9ITEpO30pKSxlfWZ1bmN0aW9uIGduKHQsZSl7aWYodCBpbnN0YW5jZW9mIG5yJiZlLmluZGV4T2YodC5uYW1lKT49MClyZXR1cm4gITE7bGV0IHI9ITA7cmV0dXJuIHQuZWFjaENoaWxkKCh0PT57ciYmIWduKHQsZSkmJihyPSExKTt9KSkscn1jbGFzcyB4bntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy5uYW1lPXQsdGhpcy5ib3VuZEV4cHJlc3Npb249ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RofHxcInN0cmluZ1wiIT10eXBlb2YgdFsxXSlyZXR1cm4gZS5lcnJvcihcIid2YXInIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgc3RyaW5nIGxpdGVyYWwgYXJndW1lbnQuXCIpO2NvbnN0IHI9dFsxXTtyZXR1cm4gZS5zY29wZS5oYXMocik/bmV3IHhuKHIsZS5zY29wZS5nZXQocikpOmUuZXJyb3IoYFVua25vd24gdmFyaWFibGUgXCIke3J9XCIuIE1ha2Ugc3VyZSBcIiR7cn1cIiBoYXMgYmVlbiBib3VuZCBpbiBhbiBlbmNsb3NpbmcgXCJsZXRcIiBleHByZXNzaW9uIGJlZm9yZSB1c2luZyBpdC5gLDEpfWV2YWx1YXRlKHQpe3JldHVybiB0aGlzLmJvdW5kRXhwcmVzc2lvbi5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gW1widmFyXCIsdGhpcy5uYW1lXX19dmFyIHZuPXhuO2NsYXNzIGJue2NvbnN0cnVjdG9yKHQsZT1bXSxyLG49bmV3IHllLGk9W10sYSxzKXt0aGlzLnJlZ2lzdHJ5PXQsdGhpcy5wYXRoPWUsdGhpcy5rZXk9ZS5tYXAoKHQ9PmBbJHt0fV1gKSkuam9pbihcIlwiKSx0aGlzLnNjb3BlPW4sdGhpcy5lcnJvcnM9aSx0aGlzLmV4cGVjdGVkVHlwZT1yLHRoaXMuX3Njb3BlPWEsdGhpcy5vcHRpb25zPXM7fXBhcnNlKHQsZSxyLG4saT17fSl7cmV0dXJuIGV8fHI/dGhpcy5jb25jYXQoZSxyLG4pLl9wYXJzZSh0LGkpOnRoaXMuX3BhcnNlKHQsaSl9X3BhcnNlKHQsZSl7ZnVuY3Rpb24gcih0LGUscil7cmV0dXJuIFwiYXNzZXJ0XCI9PT1yP25ldyBZZShlLFt0XSk6XCJjb2VyY2VcIj09PXI/bmV3IEplKGUsW3RdKTp0fWlmKG51bGwhPT10JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmXCJib29sZWFuXCIhPXR5cGVvZiB0JiZcIm51bWJlclwiIT10eXBlb2YgdHx8KHQ9W1wibGl0ZXJhbFwiLHRdKSxBcnJheS5pc0FycmF5KHQpKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXMuZXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGVsZW1lbnQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbXV0uJyk7Y29uc3Qgbj1cInN0cmluZ1wiPT10eXBlb2YgdFswXT90aGlzLnJlZ2lzdHJ5W3RbMF1dOnZvaWQgMDtpZihuKXtsZXQgaT1uLnBhcnNlKHQsdGhpcyk7aWYoIWkpcmV0dXJuIG51bGw7aWYodGhpcy5leHBlY3RlZFR5cGUpe2NvbnN0IHQ9dGhpcy5leHBlY3RlZFR5cGUsbj1pLnR5cGU7aWYoXCJzdHJpbmdcIiE9PXQua2luZCYmXCJudW1iZXJcIiE9PXQua2luZCYmXCJib29sZWFuXCIhPT10LmtpbmQmJlwib2JqZWN0XCIhPT10LmtpbmQmJlwiYXJyYXlcIiE9PXQua2luZHx8XCJ2YWx1ZVwiIT09bi5raW5kKWlmKFwiY29sb3JcIiE9PXQua2luZCYmXCJmb3JtYXR0ZWRcIiE9PXQua2luZCYmXCJyZXNvbHZlZEltYWdlXCIhPT10LmtpbmR8fFwidmFsdWVcIiE9PW4ua2luZCYmXCJzdHJpbmdcIiE9PW4ua2luZCl7aWYodGhpcy5jaGVja1N1YnR5cGUodCxuKSlyZXR1cm4gbnVsbH1lbHNlIGk9cihpLHQsZS50eXBlQW5ub3RhdGlvbnx8XCJjb2VyY2VcIik7ZWxzZSBpPXIoaSx0LGUudHlwZUFubm90YXRpb258fFwiYXNzZXJ0XCIpO31pZighKGkgaW5zdGFuY2VvZiBqZSkmJlwicmVzb2x2ZWRJbWFnZVwiIT09aS50eXBlLmtpbmQmJnduKGkpKXtjb25zdCB0PW5ldyB0cih0aGlzLl9zY29wZSx0aGlzLm9wdGlvbnMpO3RyeXtpPW5ldyBqZShpLnR5cGUsaS5ldmFsdWF0ZSh0KSk7fWNhdGNoKHQpe3JldHVybiB0aGlzLmVycm9yKHQubWVzc2FnZSksbnVsbH19cmV0dXJuIGl9cmV0dXJuIEplLnBhcnNlKFtcInRvLWFycmF5XCIsdF0sdGhpcyl9cmV0dXJuIHRoaXMuZXJyb3Iodm9pZCAwPT09dD9cIid1bmRlZmluZWQnIHZhbHVlIGludmFsaWQuIFVzZSBudWxsIGluc3RlYWQuXCI6XCJvYmplY3RcIj09dHlwZW9mIHQ/J0JhcmUgb2JqZWN0cyBpbnZhbGlkLiBVc2UgW1wibGl0ZXJhbFwiLCB7Li4ufV0gaW5zdGVhZC4nOmBFeHBlY3RlZCBhbiBhcnJheSwgYnV0IGZvdW5kICR7dHlwZW9mIHR9IGluc3RlYWQuYCl9Y29uY2F0KHQsZSxyKXtjb25zdCBuPVwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMucGF0aC5jb25jYXQodCk6dGhpcy5wYXRoLGk9cj90aGlzLnNjb3BlLmNvbmNhdChyKTp0aGlzLnNjb3BlO3JldHVybiBuZXcgYm4odGhpcy5yZWdpc3RyeSxuLGV8fG51bGwsaSx0aGlzLmVycm9ycyx0aGlzLl9zY29wZSx0aGlzLm9wdGlvbnMpfWVycm9yKHQsLi4uZSl7Y29uc3Qgcj1gJHt0aGlzLmtleX0ke2UubWFwKCh0PT5gWyR7dH1dYCkpLmpvaW4oXCJcIil9YDt0aGlzLmVycm9ycy5wdXNoKG5ldyBkZShyLHQpKTt9Y2hlY2tTdWJ0eXBlKHQsZSl7Y29uc3Qgcj16ZSh0LGUpO3JldHVybiByJiZ0aGlzLmVycm9yKHIpLHJ9fXZhciBfbj1ibjtmdW5jdGlvbiB3bih0KXtpZih0IGluc3RhbmNlb2Ygdm4pcmV0dXJuIHduKHQuYm91bmRFeHByZXNzaW9uKTtpZih0IGluc3RhbmNlb2YgbnImJlwiZXJyb3JcIj09PXQubmFtZSlyZXR1cm4gITE7aWYodCBpbnN0YW5jZW9mIGlyKXJldHVybiAhMTtpZih0IGluc3RhbmNlb2YgSXIpcmV0dXJuICExO2lmKHQgaW5zdGFuY2VvZiB1bilyZXR1cm4gITE7aWYodCBpbnN0YW5jZW9mIGZuKXJldHVybiAhMTtjb25zdCBlPXQgaW5zdGFuY2VvZiBKZXx8dCBpbnN0YW5jZW9mIFllO2xldCByPSEwO3JldHVybiB0LmVhY2hDaGlsZCgodD0+e3I9ZT9yJiZ3bih0KTpyJiZ0IGluc3RhbmNlb2YgamU7fSkpLCEhciYmZG4odCkmJmduKHQsW1wiem9vbVwiLFwiaGVhdG1hcC1kZW5zaXR5XCIsXCJsaW5lLXByb2dyZXNzXCIsXCJyYXN0ZXItdmFsdWVcIixcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIixcImFjY3VtdWxhdGVkXCIsXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIixcIm1lYXN1cmUtbGlnaHRcIixcInJhc3Rlci1wYXJ0aWNsZS1zcGVlZFwiXSl9ZnVuY3Rpb24gTW4odCxlKXtjb25zdCByPXQubGVuZ3RoLTE7bGV0IG4saSxhPTAscz1yLG89MDtmb3IoO2E8PXM7KWlmKG89TWF0aC5mbG9vcigoYStzKS8yKSxuPXRbb10saT10W28rMV0sbjw9ZSl7aWYobz09PXJ8fGU8aSlyZXR1cm4gbzthPW8rMTt9ZWxzZSB7aWYoIShuPmUpKXRocm93IG5ldyBxZShcIklucHV0IGlzIG5vdCBhIG51bWJlci5cIik7cz1vLTE7fXJldHVybiAwfWNsYXNzIEFue2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmlucHV0PWUsdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFt0LGVdb2Ygcil0aGlzLmxhYmVscy5wdXNoKHQpLHRoaXMub3V0cHV0cy5wdXNoKGUpO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke3QubGVuZ3RoLTF9LmApO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHhlKTtpZighcilyZXR1cm4gbnVsbDtjb25zdCBuPVtdO2xldCBpPW51bGw7ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPWUuZXhwZWN0ZWRUeXBlKTtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrPTIpe2NvbnN0IGE9MT09PXI/LTEvMDp0W3JdLHM9dFtyKzFdLG89cixsPXIrMTtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGRlZmluZWQgdXNpbmcgbGl0ZXJhbCBudW1lcmljIHZhbHVlcyAobm90IGNvbXB1dGVkIGV4cHJlc3Npb25zKSBmb3IgdGhlIGlucHV0IHZhbHVlcy4nLG8pO2lmKG4ubGVuZ3RoJiZuW24ubGVuZ3RoLTFdWzBdPj1hKXJldHVybiBlLmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicsbyk7Y29uc3QgdT1lLnBhcnNlKHMsbCxpKTtpZighdSlyZXR1cm4gbnVsbDtpPWl8fHUudHlwZSxuLnB1c2goW2EsdV0pO31yZXR1cm4gbmV3IEFuKGkscixuKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTtjb25zdCBuPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYobjw9ZVswXSlyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTtjb25zdCBpPWUubGVuZ3RoO3JldHVybiBuPj1lW2ktMV0/cltpLTFdLmV2YWx1YXRlKHQpOnJbTW4oZSxuKV0uZXZhbHVhdGUodCl9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5vdXRwdXRzKXQoZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wic3RlcFwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKyllPjAmJnQucHVzaCh0aGlzLmxhYmVsc1tlXSksdC5wdXNoKHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHR9fXZhciBTbj1Bbjtjb25zdCBJbj0uOTUwNDcsa249MS4wODg4MyxQbj00LzI5LEVuPTYvMjksem49MypFbipFbixUbj1FbipFbipFbixCbj1NYXRoLlBJLzE4MCxDbj0xODAvTWF0aC5QSTtmdW5jdGlvbiBSbih0KXtyZXR1cm4gdD5Ubj9NYXRoLnBvdyh0LDEvMyk6dC96bitQbn1mdW5jdGlvbiBEbih0KXtyZXR1cm4gdD5Fbj90KnQqdDp6bioodC1Qbil9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIDI1NSoodDw9LjAwMzEzMDg/MTIuOTIqdDoxLjA1NSpNYXRoLnBvdyh0LDEvMi40KS0uMDU1KX1mdW5jdGlvbiBMbih0KXtyZXR1cm4gKHQvPTI1NSk8PS4wNDA0NT90LzEyLjkyOk1hdGgucG93KCh0Ky4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gRm4odCl7Y29uc3QgZT1Mbih0LnIpLHI9TG4odC5nKSxuPUxuKHQuYiksaT1SbigoLjQxMjQ1NjQqZSsuMzU3NTc2MSpyKy4xODA0Mzc1Km4pL0luKSxhPVJuKCguMjEyNjcyOSplKy43MTUxNTIyKnIrLjA3MjE3NSpuKS8xKTtyZXR1cm4ge2w6MTE2KmEtMTYsYTo1MDAqKGktYSksYjoyMDAqKGEtUm4oKC4wMTkzMzM5KmUrLjExOTE5MipyKy45NTAzMDQxKm4pL2tuKSksYWxwaGE6dC5hfX1mdW5jdGlvbiBObih0KXtsZXQgZT0odC5sKzE2KS8xMTYscj1pc05hTih0LmEpP2U6ZSt0LmEvNTAwLG49aXNOYU4odC5iKT9lOmUtdC5iLzIwMDtyZXR1cm4gZT0xKkRuKGUpLHI9SW4qRG4ociksbj1rbipEbihuKSxuZXcgbGUoVm4oMy4yNDA0NTQyKnItMS41MzcxMzg1KmUtLjQ5ODUzMTQqbiksVm4oLS45NjkyNjYqcisxLjg3NjAxMDgqZSsuMDQxNTU2Km4pLFZuKC4wNTU2NDM0KnItLjIwNDAyNTkqZSsxLjA1NzIyNTIqbiksdC5hbHBoYSl9ZnVuY3Rpb24gT24odCxlLHIpe2NvbnN0IG49ZS10O3JldHVybiB0K3IqKG4+MTgwfHxuPC0xODA/bi0zNjAqTWF0aC5yb3VuZChuLzM2MCk6bil9Y29uc3QgVW49e2ZvcndhcmQ6Rm4scmV2ZXJzZTpObixpbnRlcnBvbGF0ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHtsOnVlKHQubCxlLmwsciksYTp1ZSh0LmEsZS5hLHIpLGI6dWUodC5iLGUuYixyKSxhbHBoYTp1ZSh0LmFscGhhLGUuYWxwaGEscil9fX0sam49e2ZvcndhcmQ6ZnVuY3Rpb24odCl7Y29uc3R7bDplLGE6cixiOm59PUZuKHQpLGk9TWF0aC5hdGFuMihuLHIpKkNuO3JldHVybiB7aDppPDA/aSszNjA6aSxjOk1hdGguc3FydChyKnIrbipuKSxsOmUsYWxwaGE6dC5hfX0scmV2ZXJzZTpmdW5jdGlvbih0KXtjb25zdCBlPXQuaCpCbixyPXQuYztyZXR1cm4gTm4oe2w6dC5sLGE6TWF0aC5jb3MoZSkqcixiOk1hdGguc2luKGUpKnIsYWxwaGE6dC5hbHBoYX0pfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHtoOk9uKHQuaCxlLmgsciksYzp1ZSh0LmMsZS5jLHIpLGw6dWUodC5sLGUubCxyKSxhbHBoYTp1ZSh0LmFscGhhLGUuYWxwaGEscil9fX07dmFyIHFuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGhjbDpqbixsYWI6VW59KTtjbGFzcyAkbntjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMudHlwZT10LHRoaXMub3BlcmF0b3I9ZSx0aGlzLmludGVycG9sYXRpb249cix0aGlzLmlucHV0PW4sdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFt0LGVdb2YgaSl0aGlzLmxhYmVscy5wdXNoKHQpLHRoaXMub3V0cHV0cy5wdXNoKGUpO31zdGF0aWMgaW50ZXJwb2xhdGlvbkZhY3Rvcih0LGUscixuKXtsZXQgaT0wO2lmKFwiZXhwb25lbnRpYWxcIj09PXQubmFtZSlpPUduKGUsdC5iYXNlLHIsbik7ZWxzZSBpZihcImxpbmVhclwiPT09dC5uYW1lKWk9R24oZSwxLHIsbik7ZWxzZSBpZihcImN1YmljLWJlemllclwiPT09dC5uYW1lKXtjb25zdCBhPXQuY29udHJvbFBvaW50cztpPW5ldyBkKGFbMF0sYVsxXSxhWzJdLGFbM10pLnNvbHZlKEduKGUsMSxyLG4pKTt9cmV0dXJuIGl9c3RhdGljIHBhcnNlKHQsZSl7bGV0W3IsbixpLC4uLmFdPXQ7aWYoIUFycmF5LmlzQXJyYXkobil8fDA9PT1uLmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIGludGVycG9sYXRpb24gdHlwZSBleHByZXNzaW9uLlwiLDEpO2lmKFwibGluZWFyXCI9PT1uWzBdKW49e25hbWU6XCJsaW5lYXJcIn07ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT1uWzBdKXtjb25zdCB0PW5bMV07aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuIGUuZXJyb3IoXCJFeHBvbmVudGlhbCBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGEgbnVtZXJpYyBiYXNlLlwiLDEsMSk7bj17bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTp0fTt9ZWxzZSB7aWYoXCJjdWJpYy1iZXppZXJcIiE9PW5bMF0pcmV0dXJuIGUuZXJyb3IoYFVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlICR7U3RyaW5nKG5bMF0pfWAsMSwwKTt7Y29uc3QgdD1uLnNsaWNlKDEpO2lmKDQhPT10Lmxlbmd0aHx8dC5zb21lKCh0PT5cIm51bWJlclwiIT10eXBlb2YgdHx8dDwwfHx0PjEpKSlyZXR1cm4gZS5lcnJvcihcIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLlwiLDEpO249e25hbWU6XCJjdWJpYy1iZXppZXJcIixjb250cm9sUG9pbnRzOnR9O319aWYodC5sZW5ndGgtMTw0KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHt0Lmxlbmd0aC0xfS5gKTtpZigodC5sZW5ndGgtMSklMiE9MClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7aWYoaT1lLnBhcnNlKGksMix4ZSksIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1bXTtsZXQgbz1udWxsO1wiaW50ZXJwb2xhdGUtaGNsXCI9PT1yfHxcImludGVycG9sYXRlLWxhYlwiPT09cj9vPV9lOmUuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYobz1lLmV4cGVjdGVkVHlwZSk7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz0yKXtjb25zdCByPWFbdF0sbj1hW3QrMV0saT10KzMsbD10KzQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHIpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsaSk7aWYocy5sZW5ndGgmJnNbcy5sZW5ndGgtMV1bMF0+PXIpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicsaSk7Y29uc3QgdT1lLnBhcnNlKG4sbCxvKTtpZighdSlyZXR1cm4gbnVsbDtvPW98fHUudHlwZSxzLnB1c2goW3IsdV0pO31yZXR1cm4gXCJudW1iZXJcIj09PW8ua2luZHx8XCJjb2xvclwiPT09by5raW5kfHxcImFycmF5XCI9PT1vLmtpbmQmJlwibnVtYmVyXCI9PT1vLml0ZW1UeXBlLmtpbmQmJlwibnVtYmVyXCI9PXR5cGVvZiBvLk4/bmV3ICRuKG8scixuLGkscyk6ZS5lcnJvcihgVHlwZSAke1BlKG8pfSBpcyBub3QgaW50ZXJwb2xhdGFibGUuYCl9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmxhYmVscyxyPXRoaXMub3V0cHV0cztpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7Y29uc3Qgbj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKG48PWVbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7Y29uc3QgaT1lLmxlbmd0aDtpZihuPj1lW2ktMV0pcmV0dXJuIHJbaS0xXS5ldmFsdWF0ZSh0KTtjb25zdCBhPU1uKGUsbikscz0kbi5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvbixuLGVbYV0sZVthKzFdKSxvPXJbYV0uZXZhbHVhdGUodCksbD1yW2ErMV0uZXZhbHVhdGUodCk7cmV0dXJuIFwiaW50ZXJwb2xhdGVcIj09PXRoaXMub3BlcmF0b3I/aGVbdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0obyxsLHMpOlwiaW50ZXJwb2xhdGUtaGNsXCI9PT10aGlzLm9wZXJhdG9yP2puLnJldmVyc2Uoam4uaW50ZXJwb2xhdGUoam4uZm9yd2FyZChvKSxqbi5mb3J3YXJkKGwpLHMpKTpVbi5yZXZlcnNlKFVuLmludGVycG9sYXRlKFVuLmZvcndhcmQobyksVW4uZm9yd2FyZChsKSxzKSl9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5vdXRwdXRzKXQoZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2xldCB0O3Q9XCJsaW5lYXJcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lP1tcImxpbmVhclwiXTpcImV4cG9uZW50aWFsXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT8xPT09dGhpcy5pbnRlcnBvbGF0aW9uLmJhc2U/W1wibGluZWFyXCJdOltcImV4cG9uZW50aWFsXCIsdGhpcy5pbnRlcnBvbGF0aW9uLmJhc2VdOltcImN1YmljLWJlemllclwiXS5jb25jYXQodGhpcy5pbnRlcnBvbGF0aW9uLmNvbnRyb2xQb2ludHMpO2NvbnN0IGU9W3RoaXMub3BlcmF0b3IsdCx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IHQ9MDt0PHRoaXMubGFiZWxzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMubGFiZWxzW3RdLHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGV9fWZ1bmN0aW9uIEduKHQsZSxyLG4pe2NvbnN0IGk9bi1yLGE9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP2EvaTooTWF0aC5wb3coZSxhKS0xKS8oTWF0aC5wb3coZSxpKS0xKX12YXIgWW49JG47Y2xhc3MgWG57Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmFyZ3M9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8MilyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IHI9bnVsbDtjb25zdCBuPWUuZXhwZWN0ZWRUeXBlO24mJlwidmFsdWVcIiE9PW4ua2luZCYmKHI9bik7Y29uc3QgaT1bXTtmb3IoY29uc3QgbiBvZiB0LnNsaWNlKDEpKXtjb25zdCB0PWUucGFyc2UobiwxK2kubGVuZ3RoLHIsdm9pZCAwLHt0eXBlQW5ub3RhdGlvbjpcIm9taXRcIn0pO2lmKCF0KXJldHVybiBudWxsO3I9cnx8dC50eXBlLGkucHVzaCh0KTt9Y29uc3QgYT1uJiZpLnNvbWUoKHQ9PnplKG4sdC50eXBlKSkpO3JldHVybiBuZXcgWG4oYT9NZTpyLGkpfWV2YWx1YXRlKHQpe2xldCBlLHI9bnVsbCxuPTA7Zm9yKGNvbnN0IGkgb2YgdGhpcy5hcmdzKXtpZihuKysscj1pLmV2YWx1YXRlKHQpLHImJnIgaW5zdGFuY2VvZiBWZSYmIXIuYXZhaWxhYmxlJiYoZXx8KGU9cikscj1udWxsLG49PT10aGlzLmFyZ3MubGVuZ3RoKSlyZXR1cm4gZTtpZihudWxsIT09cilicmVha31yZXR1cm4gcn1lYWNoQ2hpbGQodCl7dGhpcy5hcmdzLmZvckVhY2godCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wiY29hbGVzY2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChlPT57dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fX12YXIgWm49WG47Y2xhc3MgS257Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9ZS50eXBlLHRoaXMuYmluZGluZ3M9W10uY29uY2F0KHQpLHRoaXMucmVzdWx0PWU7fWV2YWx1YXRlKHQpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5iaW5kaW5ncyl0KGVbMV0pO3QodGhpcy5yZXN1bHQpO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPVtdO2ZvcihsZXQgbj0xO248dC5sZW5ndGgtMTtuKz0yKXtjb25zdCBpPXRbbl07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGkpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIHN0cmluZywgYnV0IGZvdW5kICR7dHlwZW9mIGl9IGluc3RlYWQuYCxuKTtpZigvW15hLXpBLVowLTlfXS8udGVzdChpKSlyZXR1cm4gZS5lcnJvcihcIlZhcmlhYmxlIG5hbWVzIG11c3QgY29udGFpbiBvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIG9yICdfJy5cIixuKTtjb25zdCBhPWUucGFyc2UodFtuKzFdLG4rMSk7aWYoIWEpcmV0dXJuIG51bGw7ci5wdXNoKFtpLGFdKTt9Y29uc3Qgbj1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxlLmV4cGVjdGVkVHlwZSxyKTtyZXR1cm4gbj9uZXcgS24ocixuKTpudWxsfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5yZXN1bHQub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wibGV0XCJdO2Zvcihjb25zdFtlLHJdb2YgdGhpcy5iaW5kaW5ncyl0LnB1c2goZSxyLnNlcmlhbGl6ZSgpKTtyZXR1cm4gdC5wdXNoKHRoaXMucmVzdWx0LnNlcmlhbGl6ZSgpKSx0fX12YXIgSG49S247Y2xhc3MgV257Y29uc3RydWN0b3IodCxlLHIpe3RoaXMudHlwZT10LHRoaXMuaW5kZXg9ZSx0aGlzLmlucHV0PXI7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSx4ZSksbj1lLnBhcnNlKHRbMl0sMixrZShlLmV4cGVjdGVkVHlwZXx8TWUpKTtyZXR1cm4gciYmbj9uZXcgV24obi50eXBlLml0ZW1UeXBlLHIsbik6bnVsbH1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMuaW5kZXguZXZhbHVhdGUodCkscj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKGU8MCl0aHJvdyBuZXcgcWUoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7ZX0gPCAwLmApO2lmKGU+PXIubGVuZ3RoKXRocm93IG5ldyBxZShgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHtlfSA+ICR7ci5sZW5ndGgtMX0uYCk7aWYoZSE9PU1hdGguZmxvb3IoZSkpdGhyb3cgbmV3IHFlKGBBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAke2V9IGluc3RlYWQuYCk7cmV0dXJuIHJbZV19ZWFjaENoaWxkKHQpe3QodGhpcy5pbmRleCksdCh0aGlzLmlucHV0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gW1wiYXRcIix0aGlzLmluZGV4LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX12YXIgSm49V247Y2xhc3MgUW57Y29uc3RydWN0b3IodCxlKXt0aGlzLnR5cGU9YmUsdGhpcy5uZWVkbGU9dCx0aGlzLmhheXN0YWNrPWU7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSxNZSksbj1lLnBhcnNlKHRbMl0sMixNZSk7cmV0dXJuIHImJm4/VGUoci50eXBlLFtiZSx2ZSx4ZSxnZSxNZV0pP25ldyBRbihyLG4pOmUuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7UGUoci50eXBlKX0gaW5zdGVhZGApOm51bGx9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLm5lZWRsZS5ldmFsdWF0ZSh0KSxyPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUodCk7aWYobnVsbD09cilyZXR1cm4gITE7aWYoIUJlKGUsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyBxZShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtQZShOZShlKSl9IGluc3RlYWQuYCk7aWYoIUJlKHIsW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IHFlKGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke1BlKE5lKHIpKX0gaW5zdGVhZC5gKTtyZXR1cm4gci5pbmRleE9mKGUpPj0wfWVhY2hDaGlsZCh0KXt0KHRoaXMubmVlZGxlKSx0KHRoaXMuaGF5c3RhY2spO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJpblwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgdGk9UW47Y2xhc3MgZWl7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMudHlwZT14ZSx0aGlzLm5lZWRsZT10LHRoaXMuaGF5c3RhY2s9ZSx0aGlzLmZyb21JbmRleD1yO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDw9Mnx8dC5sZW5ndGg+PTUpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSxNZSksbj1lLnBhcnNlKHRbMl0sMixNZSk7aWYoIXJ8fCFuKXJldHVybiBudWxsO2lmKCFUZShyLnR5cGUsW2JlLHZlLHhlLGdlLE1lXSkpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7UGUoci50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT10Lmxlbmd0aCl7Y29uc3QgaT1lLnBhcnNlKHRbM10sMyx4ZSk7cmV0dXJuIGk/bmV3IGVpKHIsbixpKTpudWxsfXJldHVybiBuZXcgZWkocixuKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMubmVlZGxlLmV2YWx1YXRlKHQpLHI9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZSh0KTtpZighQmUoZSxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IHFlKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke1BlKE5lKGUpKX0gaW5zdGVhZC5gKTtpZighQmUocixbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgcWUoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7UGUoTmUocikpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZnJvbUluZGV4KXtjb25zdCBuPXRoaXMuZnJvbUluZGV4LmV2YWx1YXRlKHQpO3JldHVybiByLmluZGV4T2YoZSxuKX1yZXR1cm4gci5pbmRleE9mKGUpfWVhY2hDaGlsZCh0KXt0KHRoaXMubmVlZGxlKSx0KHRoaXMuaGF5c3RhY2spLHRoaXMuZnJvbUluZGV4JiZ0KHRoaXMuZnJvbUluZGV4KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmZyb21JbmRleCYmdm9pZCAwIT09dGhpcy5mcm9tSW5kZXgpe2NvbnN0IHQ9dGhpcy5mcm9tSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFtcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKSx0XX1yZXR1cm4gW1wiaW5kZXgtb2ZcIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIHJpPWVpO2NsYXNzIG5pe2NvbnN0cnVjdG9yKHQsZSxyLG4saSxhKXt0aGlzLmlucHV0VHlwZT10LHRoaXMudHlwZT1lLHRoaXMuaW5wdXQ9cix0aGlzLmNhc2VzPW4sdGhpcy5vdXRwdXRzPWksdGhpcy5vdGhlcndpc2U9YTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8NSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7dC5sZW5ndGgtMX0uYCk7aWYodC5sZW5ndGglMiE9MSlyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IHIsbjtlLmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKG49ZS5leHBlY3RlZFR5cGUpO2NvbnN0IGk9e30sYT1bXTtmb3IobGV0IHM9MjtzPHQubGVuZ3RoLTE7cys9Mil7bGV0IG89dFtzXTtjb25zdCBsPXRbcysxXTtBcnJheS5pc0FycmF5KG8pfHwobz1bb10pO2NvbnN0IHU9ZS5jb25jYXQocyk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiB1LmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGJyYW5jaCBsYWJlbC5cIik7Zm9yKGNvbnN0IHQgb2Ygbyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB1LmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy5cIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJk1hdGguYWJzKHQpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiB1LmVycm9yKGBCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0uYCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQmJk1hdGguZmxvb3IodCkhPT10KXJldHVybiB1LmVycm9yKFwiTnVtZXJpYyBicmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlciB2YWx1ZXMuXCIpO2lmKHIpe2lmKHUuY2hlY2tTdWJ0eXBlKHIsTmUodCkpKXJldHVybiBudWxsfWVsc2Ugcj1OZSh0KTtpZih2b2lkIDAhPT1pW1N0cmluZyh0KV0pcmV0dXJuIHUuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgdW5pcXVlLlwiKTtpW1N0cmluZyh0KV09YS5sZW5ndGg7fWNvbnN0IGM9ZS5wYXJzZShsLHMsbik7aWYoIWMpcmV0dXJuIG51bGw7bj1ufHxjLnR5cGUsYS5wdXNoKGMpO31jb25zdCBzPWUucGFyc2UodFsxXSwxLE1lKTtpZighcylyZXR1cm4gbnVsbDtjb25zdCBvPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLG4pO3JldHVybiBvP1widmFsdWVcIiE9PXMudHlwZS5raW5kJiZlLmNvbmNhdCgxKS5jaGVja1N1YnR5cGUocixzLnR5cGUpP251bGw6bmV3IG5pKHIsbixzLGksYSxvKTpudWxsfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtyZXR1cm4gKE5lKGUpPT09dGhpcy5pbnB1dFR5cGUmJnRoaXMub3V0cHV0c1t0aGlzLmNhc2VzW2VdXXx8dGhpcy5vdGhlcndpc2UpLmV2YWx1YXRlKHQpfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpLHRoaXMub3V0cHV0cy5mb3JFYWNoKHQpLHQodGhpcy5vdGhlcndpc2UpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgodD0+dC5vdXRwdXREZWZpbmVkKCkpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wibWF0Y2hcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXSxlPU9iamVjdC5rZXlzKHRoaXMuY2FzZXMpLnNvcnQoKSxyPVtdLG49e307Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1uW3RoaXMuY2FzZXNbdF1dO3ZvaWQgMD09PWU/KG5bdGhpcy5jYXNlc1t0XV09ci5sZW5ndGgsci5wdXNoKFt0aGlzLmNhc2VzW3RdLFt0XV0pKTpyW2VdWzFdLnB1c2godCk7fWNvbnN0IGk9dD0+XCJudW1iZXJcIj09PXRoaXMuaW5wdXRUeXBlLmtpbmQ/TnVtYmVyKHQpOnQ7Zm9yKGNvbnN0W2Usbl1vZiByKXQucHVzaCgxPT09bi5sZW5ndGg/aShuWzBdKTpuLm1hcChpKSksdC5wdXNoKHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHQucHVzaCh0aGlzLm90aGVyd2lzZS5zZXJpYWxpemUoKSksdH19dmFyIGlpPW5pO2NsYXNzIGFpe2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9dCx0aGlzLmJyYW5jaGVzPWUsdGhpcy5vdGhlcndpc2U9cjt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8NClyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7dC5sZW5ndGgtMX0uYCk7aWYodC5sZW5ndGglMiE9MClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIG9kZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtsZXQgcjtlLmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09ZS5leHBlY3RlZFR5cGUua2luZCYmKHI9ZS5leHBlY3RlZFR5cGUpO2NvbnN0IG49W107Zm9yKGxldCBpPTE7aTx0Lmxlbmd0aC0xO2krPTIpe2NvbnN0IGE9ZS5wYXJzZSh0W2ldLGksYmUpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IHM9ZS5wYXJzZSh0W2krMV0saSsxLHIpO2lmKCFzKXJldHVybiBudWxsO24ucHVzaChbYSxzXSkscj1yfHxzLnR5cGU7fWNvbnN0IGk9ZS5wYXJzZSh0W3QubGVuZ3RoLTFdLHQubGVuZ3RoLTEscik7cmV0dXJuIGk/bmV3IGFpKHIsbixpKTpudWxsfWV2YWx1YXRlKHQpe2Zvcihjb25zdFtlLHJdb2YgdGhpcy5icmFuY2hlcylpZihlLmV2YWx1YXRlKHQpKXJldHVybiByLmV2YWx1YXRlKHQpO3JldHVybiB0aGlzLm90aGVyd2lzZS5ldmFsdWF0ZSh0KX1lYWNoQ2hpbGQodCl7Zm9yKGNvbnN0W2Uscl1vZiB0aGlzLmJyYW5jaGVzKXQoZSksdChyKTt0KHRoaXMub3RoZXJ3aXNlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KCgoW3QsZV0pPT5lLm91dHB1dERlZmluZWQoKSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJjYXNlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZT0+e3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH19dmFyIHNpPWFpO2NsYXNzIG9pe2NvbnN0cnVjdG9yKHQsZSxyLG4pe3RoaXMudHlwZT10LHRoaXMuaW5wdXQ9ZSx0aGlzLmJlZ2luSW5kZXg9cix0aGlzLmVuZEluZGV4PW47fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPD0yfHx0Lmxlbmd0aD49NSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPWUucGFyc2UodFsxXSwxLE1lKSxuPWUucGFyc2UodFsyXSwyLHhlKTtpZighcnx8IW4pcmV0dXJuIG51bGw7aWYoIVRlKHIudHlwZSxba2UoTWUpLHZlLE1lXSkpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtQZShyLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PXQubGVuZ3RoKXtjb25zdCBpPWUucGFyc2UodFszXSwzLHhlKTtyZXR1cm4gaT9uZXcgb2koci50eXBlLHIsbixpKTpudWxsfXJldHVybiBuZXcgb2koci50eXBlLHIsbil9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpLHI9dGhpcy5iZWdpbkluZGV4LmV2YWx1YXRlKHQpO2lmKCFCZShlLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBxZShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke1BlKE5lKGUpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmVuZEluZGV4KXtjb25zdCBuPXRoaXMuZW5kSW5kZXguZXZhbHVhdGUodCk7cmV0dXJuIGUuc2xpY2UocixuKX1yZXR1cm4gZS5zbGljZShyKX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0KSx0KHRoaXMuYmVnaW5JbmRleCksdGhpcy5lbmRJbmRleCYmdCh0aGlzLmVuZEluZGV4KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmVuZEluZGV4JiZ2b2lkIDAhPT10aGlzLmVuZEluZGV4KXtjb25zdCB0PXRoaXMuZW5kSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFtcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCksdF19cmV0dXJuIFtcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCldfX12YXIgbGk9b2k7ZnVuY3Rpb24gdWkodCxlKXtyZXR1cm4gXCI9PVwiPT09dHx8XCIhPVwiPT09dD9cImJvb2xlYW5cIj09PWUua2luZHx8XCJzdHJpbmdcIj09PWUua2luZHx8XCJudW1iZXJcIj09PWUua2luZHx8XCJudWxsXCI9PT1lLmtpbmR8fFwidmFsdWVcIj09PWUua2luZDpcInN0cmluZ1wiPT09ZS5raW5kfHxcIm51bWJlclwiPT09ZS5raW5kfHxcInZhbHVlXCI9PT1lLmtpbmR9ZnVuY3Rpb24gY2kodCxlLHIsbil7cmV0dXJuIDA9PT1uLmNvbXBhcmUoZSxyKX1mdW5jdGlvbiBoaSh0LGUscil7Y29uc3Qgbj1cIj09XCIhPT10JiZcIiE9XCIhPT10O3JldHVybiBjbGFzcyBpe2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9YmUsdGhpcy5saHM9dCx0aGlzLnJocz1lLHRoaXMuY29sbGF0b3I9cix0aGlzLmhhc1VudHlwZWRBcmd1bWVudD1cInZhbHVlXCI9PT10LnR5cGUua2luZHx8XCJ2YWx1ZVwiPT09ZS50eXBlLmtpbmQ7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDMhPT10Lmxlbmd0aCYmNCE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj10WzBdO2xldCBhPWUucGFyc2UodFsxXSwxLE1lKTtpZighYSlyZXR1cm4gbnVsbDtpZighdWkocixhLnR5cGUpKXJldHVybiBlLmNvbmNhdCgxKS5lcnJvcihgXCIke3J9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7UGUoYS50eXBlKX0nLmApO2xldCBzPWUucGFyc2UodFsyXSwyLE1lKTtpZighcylyZXR1cm4gbnVsbDtpZighdWkocixzLnR5cGUpKXJldHVybiBlLmNvbmNhdCgyKS5lcnJvcihgXCIke3J9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7UGUocy50eXBlKX0nLmApO2lmKGEudHlwZS5raW5kIT09cy50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZClyZXR1cm4gZS5lcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZXMgJyR7UGUoYS50eXBlKX0nIGFuZCAnJHtQZShzLnR5cGUpfScuYCk7biYmKFwidmFsdWVcIj09PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZD9hPW5ldyBZZShzLnR5cGUsW2FdKTpcInZhbHVlXCIhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiPT09cy50eXBlLmtpbmQmJihzPW5ldyBZZShhLnR5cGUsW3NdKSkpO2xldCBvPW51bGw7aWYoND09PXQubGVuZ3RoKXtpZihcInN0cmluZ1wiIT09YS50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1zLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PXMudHlwZS5raW5kKXJldHVybiBlLmVycm9yKFwiQ2Fubm90IHVzZSBjb2xsYXRvciB0byBjb21wYXJlIG5vbi1zdHJpbmcgdHlwZXMuXCIpO2lmKG89ZS5wYXJzZSh0WzNdLDMsQWUpLCFvKXJldHVybiBudWxsfXJldHVybiBuZXcgaShhLHMsbyl9ZXZhbHVhdGUoaSl7Y29uc3QgYT10aGlzLmxocy5ldmFsdWF0ZShpKSxzPXRoaXMucmhzLmV2YWx1YXRlKGkpO2lmKG4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCBlPU5lKGEpLHI9TmUocyk7aWYoZS5raW5kIT09ci5raW5kfHxcInN0cmluZ1wiIT09ZS5raW5kJiZcIm51bWJlclwiIT09ZS5raW5kKXRocm93IG5ldyBxZShgRXhwZWN0ZWQgYXJndW1lbnRzIGZvciBcIiR7dH1cIiB0byBiZSAoc3RyaW5nLCBzdHJpbmcpIG9yIChudW1iZXIsIG51bWJlciksIGJ1dCBmb3VuZCAoJHtlLmtpbmR9LCAke3Iua2luZH0pIGluc3RlYWQuYCl9aWYodGhpcy5jb2xsYXRvciYmIW4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCB0PU5lKGEpLHI9TmUocyk7aWYoXCJzdHJpbmdcIiE9PXQua2luZHx8XCJzdHJpbmdcIiE9PXIua2luZClyZXR1cm4gZShpLGEscyl9cmV0dXJuIHRoaXMuY29sbGF0b3I/cihpLGEscyx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKGkpKTplKGksYSxzKX1lYWNoQ2hpbGQodCl7dCh0aGlzLmxocyksdCh0aGlzLnJocyksdGhpcy5jb2xsYXRvciYmdCh0aGlzLmNvbGxhdG9yKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtjb25zdCBlPVt0XTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9fX1jb25zdCBwaT1oaShcIj09XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZT09PXJ9KSxjaSksZmk9aGkoXCIhPVwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGUhPT1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiAhY2koMCxlLHIsbil9KSksZGk9aGkoXCI8XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZTxyfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTwwfSkpLG1pPWhpKFwiPlwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+cn0pLChmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik+MH0pKSx5aT1oaShcIjw9XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZTw9cn0pLChmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik8PTB9KSksZ2k9aGkoXCI+PVwiLChmdW5jdGlvbih0LGUscil7cmV0dXJuIGU+PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPj0wfSkpO2NsYXNzIHhpe2NvbnN0cnVjdG9yKHQsZSxyLG4saSxhKXt0aGlzLnR5cGU9dmUsdGhpcy5udW1iZXI9dCx0aGlzLmxvY2FsZT1lLHRoaXMuY3VycmVuY3k9cix0aGlzLnVuaXQ9bix0aGlzLm1pbkZyYWN0aW9uRGlnaXRzPWksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz1hO31zdGF0aWMgcGFyc2UodCxlKXtpZigzIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLlwiKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHhlKTtpZighcilyZXR1cm4gbnVsbDtjb25zdCBuPXRbMl07aWYoXCJvYmplY3RcIiE9dHlwZW9mIG58fEFycmF5LmlzQXJyYXkobikpcmV0dXJuIGUuZXJyb3IoXCJOdW1iZXJGb3JtYXQgb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC5cIik7bGV0IGk9bnVsbDtpZihuLmxvY2FsZSYmKGk9ZS5wYXJzZShuLmxvY2FsZSwxLHZlKSwhaSkpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihuLmN1cnJlbmN5JiYoYT1lLnBhcnNlKG4uY3VycmVuY3ksMSx2ZSksIWEpKXJldHVybiBudWxsO2xldCBzPW51bGw7aWYobi51bml0JiYocz1lLnBhcnNlKG4udW5pdCwxLHZlKSwhcykpcmV0dXJuIG51bGw7bGV0IG89bnVsbDtpZihuW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSYmKG89ZS5wYXJzZShuW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSwxLHhlKSwhbykpcmV0dXJuIG51bGw7bGV0IGw9bnVsbDtyZXR1cm4gbltcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0mJihsPWUucGFyc2UobltcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0sMSx4ZSksIWwpP251bGw6bmV3IHhpKHIsaSxhLHMsbyxsKX1ldmFsdWF0ZSh0KXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKHQpOltdLHtzdHlsZToodGhpcy5jdXJyZW5jeT9cImN1cnJlbmN5XCI6dGhpcy51bml0JiZcInVuaXRcIil8fFwiZGVjaW1hbFwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZSh0KTp2b2lkIDAsdW5pdDp0aGlzLnVuaXQ/dGhpcy51bml0LmV2YWx1YXRlKHQpOnZvaWQgMCxtaW5pbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5taW5GcmFjdGlvbkRpZ2l0cz90aGlzLm1pbkZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKHQpOnZvaWQgMCxtYXhpbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz90aGlzLm1heEZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKHQpOnZvaWQgMH0pLmZvcm1hdCh0aGlzLm51bWJlci5ldmFsdWF0ZSh0KSl9ZWFjaENoaWxkKHQpe3QodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZ0KHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZ0KHRoaXMuY3VycmVuY3kpLHRoaXMudW5pdCYmdCh0aGlzLnVuaXQpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJnQodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmdCh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLmxvY2FsZSYmKHQubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSx0aGlzLmN1cnJlbmN5JiYodC5jdXJyZW5jeT10aGlzLmN1cnJlbmN5LnNlcmlhbGl6ZSgpKSx0aGlzLnVuaXQmJih0LnVuaXQ9dGhpcy51bml0LnNlcmlhbGl6ZSgpKSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiYodFtcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKHRbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWF4RnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLFtcIm51bWJlci1mb3JtYXRcIix0aGlzLm51bWJlci5zZXJpYWxpemUoKSx0XX19Y2xhc3Mgdml7Y29uc3RydWN0b3IodCl7dGhpcy50eXBlPXhlLHRoaXMuaW5wdXQ9dDt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEpO3JldHVybiByP1wiYXJyYXlcIiE9PXIudHlwZS5raW5kJiZcInN0cmluZ1wiIT09ci50eXBlLmtpbmQmJlwidmFsdWVcIiE9PXIudHlwZS5raW5kP2UuZXJyb3IoYEV4cGVjdGVkIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHtQZShyLnR5cGUpfSBpbnN0ZWFkLmApOm5ldyB2aShyKTpudWxsfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5pbnB1dC5ldmFsdWF0ZSh0KTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZS5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5sZW5ndGg7dGhyb3cgbmV3IHFlKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7UGUoTmUoZSkpfSBpbnN0ZWFkLmApfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wibGVuZ3RoXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZT0+e3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH19ZnVuY3Rpb24gYmkodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dD0xODMxNTY1ODEzKyh0fD0wKXwwO2xldCBlPU1hdGguaW11bCh0XnQ+Pj4xNSwxfHQpO3JldHVybiBlPWUrTWF0aC5pbXVsKGVeZT4+PjcsNjF8ZSleZSwoKGVeZT4+PjE0KT4+PjApLzQyOTQ5NjcyOTZ9fWNvbnN0IF9pPXtcIj09XCI6cGksXCIhPVwiOmZpLFwiPlwiOm1pLFwiPFwiOmRpLFwiPj1cIjpnaSxcIjw9XCI6eWksYXJyYXk6WWUsYXQ6Sm4sYm9vbGVhbjpZZSxjYXNlOnNpLGNvYWxlc2NlOlpuLGNvbGxhdG9yOmlyLGZvcm1hdDpYZSxpbWFnZTpaZSxpbjp0aSxcImluZGV4LW9mXCI6cmksaW50ZXJwb2xhdGU6WW4sXCJpbnRlcnBvbGF0ZS1oY2xcIjpZbixcImludGVycG9sYXRlLWxhYlwiOlluLGxlbmd0aDp2aSxsZXQ6SG4sbGl0ZXJhbDpqZSxtYXRjaDppaSxudW1iZXI6WWUsXCJudW1iZXItZm9ybWF0XCI6eGksb2JqZWN0OlllLHNsaWNlOmxpLHN0ZXA6U24sc3RyaW5nOlllLFwidG8tYm9vbGVhblwiOkplLFwidG8tY29sb3JcIjpKZSxcInRvLW51bWJlclwiOkplLFwidG8tc3RyaW5nXCI6SmUsdmFyOnZuLHdpdGhpbjpJcixkaXN0YW5jZTp1bixjb25maWc6Zm59O2Z1bmN0aW9uIHdpKHQsW2UscixuLGldKXtlPWUuZXZhbHVhdGUodCkscj1yLmV2YWx1YXRlKHQpLG49bi5ldmFsdWF0ZSh0KTtjb25zdCBhPWk/aS5ldmFsdWF0ZSh0KToxLHM9TGUoZSxyLG4sYSk7aWYocyl0aHJvdyBuZXcgcWUocyk7cmV0dXJuIG5ldyBsZShlLzI1NSphLHIvMjU1KmEsbi8yNTUqYSxhKX1mdW5jdGlvbiBNaSh0LFtlLHIsbixpXSl7ZT1lLmV2YWx1YXRlKHQpLHI9ci5ldmFsdWF0ZSh0KSxuPW4uZXZhbHVhdGUodCk7Y29uc3QgYT1pP2kuZXZhbHVhdGUodCk6MSxzPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBcIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCYmdDw9MzYwP1wibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0xMDAmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0xMDA/dm9pZCAwPT09bnx8XCJudW1iZXJcIj09dHlwZW9mIG4mJm4+PTAmJm48PTE/bnVsbDpgSW52YWxpZCBoc2xhIHZhbHVlIFske1t0LGUscixuXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgaHNsYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIG4/W3QsZSxyLG5dOlt0LGUscl0pLmpvaW4oXCIsIFwiKX1dOiAncycsIGFuZCAnbCcgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5gOmBJbnZhbGlkIGhzbGEgdmFsdWUgWyR7KFwibnVtYmVyXCI9PXR5cGVvZiBuP1t0LGUscixuXTpbdCxlLHJdKS5qb2luKFwiLCBcIil9XTogJ2gnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAzNjAuYH0oZSxyLG4sYSk7aWYocyl0aHJvdyBuZXcgcWUocyk7Y29uc3Qgbz1gaHNsYSgke2V9LCAke3J9JSwgJHtufSUsICR7YX0pYCxsPWxlLnBhcnNlKG8pO2lmKCFsKXRocm93IG5ldyBxZShgRmFpbGVkIHRvIHBhcnNlIEhTTEEgY29sb3I6ICR7b31gKTtyZXR1cm4gbH1mdW5jdGlvbiBBaSh0LGUpe3JldHVybiB0IGluIGV9ZnVuY3Rpb24gU2kodCxlKXtjb25zdCByPWVbdF07cmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyfWZ1bmN0aW9uIElpKHQpe3JldHVybiB7dHlwZTp0fX1uci5yZWdpc3RlcihfaSx7ZXJyb3I6W3traW5kOlwiZXJyb3JcIn0sW3ZlXSwodCxbZV0pPT57dGhyb3cgbmV3IHFlKGUuZXZhbHVhdGUodCkpfV0sdHlwZW9mOlt2ZSxbTWVdLCh0LFtlXSk9PlBlKE5lKGUuZXZhbHVhdGUodCkpKV0sXCJ0by1yZ2JhXCI6W2tlKHhlLDQpLFtfZV0sKHQsW2VdKT0+ZS5ldmFsdWF0ZSh0KS50b0FycmF5KCldLHJnYjpbX2UsW3hlLHhlLHhlXSx3aV0scmdiYTpbX2UsW3hlLHhlLHhlLHhlXSx3aV0saHNsOltfZSxbeGUseGUseGVdLE1pXSxoc2xhOltfZSxbeGUseGUseGUseGVdLE1pXSxoYXM6e3R5cGU6YmUsb3ZlcmxvYWRzOltbW3ZlXSwodCxbZV0pPT5BaShlLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKV0sW1t2ZSx3ZV0sKHQsW2Uscl0pPT5BaShlLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpXV19LGdldDp7dHlwZTpNZSxvdmVybG9hZHM6W1tbdmVdLCh0LFtlXSk9PlNpKGUuZXZhbHVhdGUodCksdC5wcm9wZXJ0aWVzKCkpXSxbW3ZlLHdlXSwodCxbZSxyXSk9PlNpKGUuZXZhbHVhdGUodCksci5ldmFsdWF0ZSh0KSldXX0sXCJmZWF0dXJlLXN0YXRlXCI6W01lLFt2ZV0sKHQsW2VdKT0+U2koZS5ldmFsdWF0ZSh0KSx0LmZlYXR1cmVTdGF0ZXx8e30pXSxwcm9wZXJ0aWVzOlt3ZSxbXSx0PT50LnByb3BlcnRpZXMoKV0sXCJnZW9tZXRyeS10eXBlXCI6W3ZlLFtdLHQ9PnQuZ2VvbWV0cnlUeXBlKCldLGlkOltNZSxbXSx0PT50LmlkKCldLHpvb206W3hlLFtdLHQ9PnQuZ2xvYmFscy56b29tXSxwaXRjaDpbeGUsW10sdD0+dC5nbG9iYWxzLnBpdGNofHwwXSxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI6W3hlLFtdLHQ9PnQuZGlzdGFuY2VGcm9tQ2VudGVyKCldLFwibWVhc3VyZS1saWdodFwiOlt4ZSxbdmVdLCh0LFtlXSk9PnQubWVhc3VyZUxpZ2h0KGUuZXZhbHVhdGUodCkpXSxcImhlYXRtYXAtZGVuc2l0eVwiOlt4ZSxbXSx0PT50Lmdsb2JhbHMuaGVhdG1hcERlbnNpdHl8fDBdLFwibGluZS1wcm9ncmVzc1wiOlt4ZSxbXSx0PT50Lmdsb2JhbHMubGluZVByb2dyZXNzfHwwXSxcInJhc3Rlci12YWx1ZVwiOlt4ZSxbXSx0PT50Lmdsb2JhbHMucmFzdGVyVmFsdWV8fDBdLFwicmFzdGVyLXBhcnRpY2xlLXNwZWVkXCI6W3hlLFtdLHQ9PnQuZ2xvYmFscy5yYXN0ZXJQYXJ0aWNsZVNwZWVkfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbeGUsW10sdD0+dC5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbTWUsW10sdD0+dm9pZCAwPT09dC5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6dC5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbeGUsSWkoeGUpLCh0LGUpPT57bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXIrPW4uZXZhbHVhdGUodCk7cmV0dXJuIHJ9XSxcIipcIjpbeGUsSWkoeGUpLCh0LGUpPT57bGV0IHI9MTtmb3IoY29uc3QgbiBvZiBlKXIqPW4uZXZhbHVhdGUodCk7cmV0dXJuIHJ9XSxcIi1cIjp7dHlwZTp4ZSxvdmVybG9hZHM6W1tbeGUseGVdLCh0LFtlLHJdKT0+ZS5ldmFsdWF0ZSh0KS1yLmV2YWx1YXRlKHQpXSxbW3hlXSwodCxbZV0pPT4tZS5ldmFsdWF0ZSh0KV1dfSxcIi9cIjpbeGUsW3hlLHhlXSwodCxbZSxyXSk9PmUuZXZhbHVhdGUodCkvci5ldmFsdWF0ZSh0KV0sXCIlXCI6W3hlLFt4ZSx4ZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpJXIuZXZhbHVhdGUodCldLGxuMjpbeGUsW10sKCk9Pk1hdGguTE4yXSxwaTpbeGUsW10sKCk9Pk1hdGguUEldLGU6W3hlLFtdLCgpPT5NYXRoLkVdLFwiXlwiOlt4ZSxbeGUseGVdLCh0LFtlLHJdKT0+TWF0aC5wb3coZS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKV0sc3FydDpbeGUsW3hlXSwodCxbZV0pPT5NYXRoLnNxcnQoZS5ldmFsdWF0ZSh0KSldLGxvZzEwOlt4ZSxbeGVdLCh0LFtlXSk9Pk1hdGgubG9nKGUuZXZhbHVhdGUodCkpL01hdGguTE4xMF0sbG46W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC5sb2coZS5ldmFsdWF0ZSh0KSldLGxvZzI6W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC5sb2coZS5ldmFsdWF0ZSh0KSkvTWF0aC5MTjJdLHNpbjpbeGUsW3hlXSwodCxbZV0pPT5NYXRoLnNpbihlLmV2YWx1YXRlKHQpKV0sY29zOlt4ZSxbeGVdLCh0LFtlXSk9Pk1hdGguY29zKGUuZXZhbHVhdGUodCkpXSx0YW46W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC50YW4oZS5ldmFsdWF0ZSh0KSldLGFzaW46W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC5hc2luKGUuZXZhbHVhdGUodCkpXSxhY29zOlt4ZSxbeGVdLCh0LFtlXSk9Pk1hdGguYWNvcyhlLmV2YWx1YXRlKHQpKV0sYXRhbjpbeGUsW3hlXSwodCxbZV0pPT5NYXRoLmF0YW4oZS5ldmFsdWF0ZSh0KSldLG1pbjpbeGUsSWkoeGUpLCh0LGUpPT5NYXRoLm1pbiguLi5lLm1hcCgoZT0+ZS5ldmFsdWF0ZSh0KSkpKV0sbWF4Olt4ZSxJaSh4ZSksKHQsZSk9Pk1hdGgubWF4KC4uLmUubWFwKChlPT5lLmV2YWx1YXRlKHQpKSkpXSxhYnM6W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC5hYnMoZS5ldmFsdWF0ZSh0KSldLHJvdW5kOlt4ZSxbeGVdLCh0LFtlXSk9Pntjb25zdCByPWUuZXZhbHVhdGUodCk7cmV0dXJuIHI8MD8tTWF0aC5yb3VuZCgtcik6TWF0aC5yb3VuZChyKX1dLGZsb29yOlt4ZSxbeGVdLCh0LFtlXSk9Pk1hdGguZmxvb3IoZS5ldmFsdWF0ZSh0KSldLGNlaWw6W3hlLFt4ZV0sKHQsW2VdKT0+TWF0aC5jZWlsKGUuZXZhbHVhdGUodCkpXSxcImZpbHRlci09PVwiOltiZSxbdmUsTWVdLCh0LFtlLHJdKT0+dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV09PT1yLnZhbHVlXSxcImZpbHRlci1pZC09PVwiOltiZSxbTWVdLCh0LFtlXSk9PnQuaWQoKT09PWUudmFsdWVdLFwiZmlsdGVyLXR5cGUtPT1cIjpbYmUsW3ZlXSwodCxbZV0pPT50Lmdlb21ldHJ5VHlwZSgpPT09ZS52YWx1ZV0sXCJmaWx0ZXItPFwiOltiZSxbdmUsTWVdLCh0LFtlLHJdKT0+e2NvbnN0IG49dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48aX1dLFwiZmlsdGVyLWlkLTxcIjpbYmUsW01lXSwodCxbZV0pPT57Y29uc3Qgcj10LmlkKCksbj1lLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8bn1dLFwiZmlsdGVyLT5cIjpbYmUsW3ZlLE1lXSwodCxbZSxyXSk9Pntjb25zdCBuPXQucHJvcGVydGllcygpW2UudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPml9XSxcImZpbHRlci1pZC0+XCI6W2JlLFtNZV0sKHQsW2VdKT0+e2NvbnN0IHI9dC5pZCgpLG49ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPm59XSxcImZpbHRlci08PVwiOltiZSxbdmUsTWVdLCh0LFtlLHJdKT0+e2NvbnN0IG49dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48PWl9XSxcImZpbHRlci1pZC08PVwiOltiZSxbTWVdLCh0LFtlXSk9Pntjb25zdCByPXQuaWQoKSxuPWUudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcjw9bn1dLFwiZmlsdGVyLT49XCI6W2JlLFt2ZSxNZV0sKHQsW2Uscl0pPT57Y29uc3Qgbj10LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj49aX1dLFwiZmlsdGVyLWlkLT49XCI6W2JlLFtNZV0sKHQsW2VdKT0+e2NvbnN0IHI9dC5pZCgpLG49ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPj1ufV0sXCJmaWx0ZXItaGFzXCI6W2JlLFtNZV0sKHQsW2VdKT0+ZS52YWx1ZSBpbiB0LnByb3BlcnRpZXMoKV0sXCJmaWx0ZXItaGFzLWlkXCI6W2JlLFtdLHQ9Pm51bGwhPT10LmlkKCkmJnZvaWQgMCE9PXQuaWQoKV0sXCJmaWx0ZXItdHlwZS1pblwiOltiZSxba2UodmUpXSwodCxbZV0pPT5lLnZhbHVlLmluZGV4T2YodC5nZW9tZXRyeVR5cGUoKSk+PTBdLFwiZmlsdGVyLWlkLWluXCI6W2JlLFtrZShNZSldLCh0LFtlXSk9PmUudmFsdWUuaW5kZXhPZih0LmlkKCkpPj0wXSxcImZpbHRlci1pbi1zbWFsbFwiOltiZSxbdmUsa2UoTWUpXSwodCxbZSxyXSk9PnIudmFsdWUuaW5kZXhPZih0LnByb3BlcnRpZXMoKVtlLnZhbHVlXSk+PTBdLFwiZmlsdGVyLWluLWxhcmdlXCI6W2JlLFt2ZSxrZShNZSldLCh0LFtlLHJdKT0+ZnVuY3Rpb24odCxlLHIsbil7Zm9yKDtyPD1uOyl7Y29uc3QgaT1yK24+PjE7aWYoZVtpXT09PXQpcmV0dXJuICEwO2VbaV0+dD9uPWktMTpyPWkrMTt9cmV0dXJuICExfSh0LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxyLnZhbHVlLDAsci52YWx1ZS5sZW5ndGgtMSldLGFsbDp7dHlwZTpiZSxvdmVybG9hZHM6W1tbYmUsYmVdLCh0LFtlLHJdKT0+ZS5ldmFsdWF0ZSh0KSYmci5ldmFsdWF0ZSh0KV0sW0lpKGJlKSwodCxlKT0+e2Zvcihjb25zdCByIG9mIGUpaWYoIXIuZXZhbHVhdGUodCkpcmV0dXJuICExO3JldHVybiAhMH1dXX0sYW55Ont0eXBlOmJlLG92ZXJsb2FkczpbW1tiZSxiZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpfHxyLmV2YWx1YXRlKHQpXSxbSWkoYmUpLCh0LGUpPT57Zm9yKGNvbnN0IHIgb2YgZSlpZihyLmV2YWx1YXRlKHQpKXJldHVybiAhMDtyZXR1cm4gITF9XV19LFwiIVwiOltiZSxbYmVdLCh0LFtlXSk9PiFlLmV2YWx1YXRlKHQpXSxcImlzLXN1cHBvcnRlZC1zY3JpcHRcIjpbYmUsW3ZlXSwodCxbZV0pPT57Y29uc3Qgcj10Lmdsb2JhbHMmJnQuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4gIXJ8fHIoZS5ldmFsdWF0ZSh0KSl9XSx1cGNhc2U6W3ZlLFt2ZV0sKHQsW2VdKT0+ZS5ldmFsdWF0ZSh0KS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbdmUsW3ZlXSwodCxbZV0pPT5lLmV2YWx1YXRlKHQpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbdmUsSWkoTWUpLCh0LGUpPT5lLm1hcCgoZT0+T2UoZS5ldmFsdWF0ZSh0KSkpKS5qb2luKFwiXCIpXSxcInJlc29sdmVkLWxvY2FsZVwiOlt2ZSxbQWVdLCh0LFtlXSk9PmUuZXZhbHVhdGUodCkucmVzb2x2ZWRMb2NhbGUoKV0scmFuZG9tOlt4ZSxbeGUseGUsTWVdLCh0LGUpPT57Y29uc3RbcixuLGldPWUubWFwKChlPT5lLmV2YWx1YXRlKHQpKSk7aWYocj5uKXJldHVybiByO2lmKHI9PT1uKXJldHVybiByO2xldCBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpKWE9ZnVuY3Rpb24odCl7bGV0IGU9MDtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspZT0oZTw8NSktZSt0LmNoYXJDb2RlQXQociksZXw9MDtyZXR1cm4gZX0oaSk7ZWxzZSB7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IHFlKGBJbnZhbGlkIHNlZWQgaW5wdXQ6ICR7aX1gKTthPWk7fXJldHVybiByK2JpKGEpKCkqKG4tcil9XX0pO3ZhciBraT1faTtmdW5jdGlvbiBQaSh0KXtyZXR1cm4ge3Jlc3VsdDpcInN1Y2Nlc3NcIix2YWx1ZTp0fX1mdW5jdGlvbiBFaSh0KXtyZXR1cm4ge3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6dH19ZnVuY3Rpb24gemkodCxlKXtyZXR1cm4gISF0JiYhIXQucGFyYW1ldGVycyYmdC5wYXJhbWV0ZXJzLmluZGV4T2YoZSk+LTF9ZnVuY3Rpb24gVGkodCl7cmV0dXJuIFwiZGF0YS1kcml2ZW5cIj09PXRbXCJwcm9wZXJ0eS10eXBlXCJdfWZ1bmN0aW9uIEJpKHQpe3JldHVybiB6aSh0LmV4cHJlc3Npb24sXCJtZWFzdXJlLWxpZ2h0XCIpfWZ1bmN0aW9uIENpKHQpe3JldHVybiB6aSh0LmV4cHJlc3Npb24sXCJ6b29tXCIpfWZ1bmN0aW9uIFJpKHQpe3JldHVybiAhIXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBEaSh0KXtyZXR1cm4gXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10JiYhQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBWaSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBMaSh0LGUpe2NvbnN0IHI9XCJjb2xvclwiPT09ZS50eXBlLG49dC5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIHQuc3RvcHNbMF1bMF0saT1ufHwhKG58fHZvaWQgMCE9PXQucHJvcGVydHkpLGE9dC50eXBlfHwoUmkoZSk/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYociYmKCh0PXBlKHt9LHQpKS5zdG9wcyYmKHQuc3RvcHM9dC5zdG9wcy5tYXAoKHQ9Plt0WzBdLGxlLnBhcnNlKHRbMV0pXSkpKSx0LmRlZmF1bHQ9bGUucGFyc2UodC5kZWZhdWx0P3QuZGVmYXVsdDplLmRlZmF1bHQpKSx0LmNvbG9yU3BhY2UmJlwicmdiXCIhPT10LmNvbG9yU3BhY2UmJiFxblt0LmNvbG9yU3BhY2VdKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb2xvciBzcGFjZTogJHt0LmNvbG9yU3BhY2V9YCk7bGV0IHMsbyxsO2lmKFwiZXhwb25lbnRpYWxcIj09PWEpcz1VaTtlbHNlIGlmKFwiaW50ZXJ2YWxcIj09PWEpcz1PaTtlbHNlIGlmKFwiY2F0ZWdvcmljYWxcIj09PWEpe3M9Tmksbz1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBlIG9mIHQuc3RvcHMpb1tlWzBdXT1lWzFdO2w9dHlwZW9mIHQuc3RvcHNbMF1bMF07fWVsc2Uge2lmKFwiaWRlbnRpdHlcIiE9PWEpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke2F9XCJgKTtzPWppO31pZihuKXtjb25zdCByPXt9LG49W107Zm9yKGxldCBlPTA7ZTx0LnN0b3BzLmxlbmd0aDtlKyspe2NvbnN0IGk9dC5zdG9wc1tlXSxhPWlbMF0uem9vbTt2b2lkIDA9PT1yW2FdJiYoclthXT17em9vbTphLHR5cGU6dC50eXBlLHByb3BlcnR5OnQucHJvcGVydHksZGVmYXVsdDp0LmRlZmF1bHQsc3RvcHM6W119LG4ucHVzaChhKSksclthXS5zdG9wcy5wdXNoKFtpWzBdLnZhbHVlLGlbMV1dKTt9Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBuKWkucHVzaChbclt0XS56b29tLExpKHJbdF0sZSldKTtjb25zdCBhPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybiB7a2luZDpcImNvbXBvc2l0ZVwiLGludGVycG9sYXRpb25UeXBlOmEsaW50ZXJwb2xhdGlvbkZhY3RvcjpZbi5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLGEpLHpvb21TdG9wczppLm1hcCgodD0+dFswXSkpLGV2YWx1YXRlOih7em9vbTpyfSxuKT0+VWkoe3N0b3BzOmksYmFzZTp0LmJhc2V9LGUscikuZXZhbHVhdGUocixuKX19aWYoaSl7Y29uc3Qgcj1cImV4cG9uZW50aWFsXCI9PT1hP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PXQuYmFzZT90LmJhc2U6MX06bnVsbDtyZXR1cm4ge2tpbmQ6XCJjYW1lcmFcIixpbnRlcnBvbGF0aW9uVHlwZTpyLGludGVycG9sYXRpb25GYWN0b3I6WW4uaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxyKSx6b29tU3RvcHM6dC5zdG9wcy5tYXAoKHQ9PnRbMF0pKSxldmFsdWF0ZTooe3pvb206cn0pPT5zKHQsZSxyLG8sbCl9fXJldHVybiB7a2luZDpcInNvdXJjZVwiLGV2YWx1YXRlKHIsbil7Y29uc3QgaT1uJiZuLnByb3BlcnRpZXM/bi5wcm9wZXJ0aWVzW3QucHJvcGVydHldOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09aT9GaSh0LmRlZmF1bHQsZS5kZWZhdWx0KTpzKHQsZSxpLG8sbCl9fX1mdW5jdGlvbiBGaSh0LGUscil7cmV0dXJuIHZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1lP2U6dm9pZCAwIT09cj9yOnZvaWQgMH1mdW5jdGlvbiBOaSh0LGUscixuLGkpe3JldHVybiBGaSh0eXBlb2Ygcj09PWk/bltyXTp2b2lkIDAsdC5kZWZhdWx0LGUuZGVmYXVsdCl9ZnVuY3Rpb24gT2kodCxlLHIpe2lmKFwibnVtYmVyXCIhPT1LZShyKSlyZXR1cm4gRmkodC5kZWZhdWx0LGUuZGVmYXVsdCk7Y29uc3Qgbj10LnN0b3BzLmxlbmd0aDtpZigxPT09bilyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPD10LnN0b3BzWzBdWzBdKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI+PXQuc3RvcHNbbi0xXVswXSlyZXR1cm4gdC5zdG9wc1tuLTFdWzFdO2NvbnN0IGk9TW4odC5zdG9wcy5tYXAoKHQ9PnRbMF0pKSxyKTtyZXR1cm4gdC5zdG9wc1tpXVsxXX1mdW5jdGlvbiBVaSh0LGUscil7Y29uc3Qgbj12b2lkIDAhPT10LmJhc2U/dC5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PUtlKHIpKXJldHVybiBGaSh0LmRlZmF1bHQsZS5kZWZhdWx0KTtjb25zdCBpPXQuc3RvcHMubGVuZ3RoO2lmKDE9PT1pKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI8PXQuc3RvcHNbMF1bMF0pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocj49dC5zdG9wc1tpLTFdWzBdKXJldHVybiB0LnN0b3BzW2ktMV1bMV07Y29uc3QgYT1Nbih0LnN0b3BzLm1hcCgodD0+dFswXSkpLHIpLHM9ZnVuY3Rpb24odCxlLHIsbil7Y29uc3QgaT1uLXIsYT10LXI7cmV0dXJuIDA9PT1pPzA6MT09PWU/YS9pOihNYXRoLnBvdyhlLGEpLTEpLyhNYXRoLnBvdyhlLGkpLTEpfShyLG4sdC5zdG9wc1thXVswXSx0LnN0b3BzW2ErMV1bMF0pLG89dC5zdG9wc1thXVsxXSxsPXQuc3RvcHNbYSsxXVsxXTtsZXQgdT1oZVtlLnR5cGVdfHxWaTtpZih0LmNvbG9yU3BhY2UmJlwicmdiXCIhPT10LmNvbG9yU3BhY2Upe2NvbnN0IGU9cW5bdC5jb2xvclNwYWNlXTt1PSh0LHIpPT5lLnJldmVyc2UoZS5pbnRlcnBvbGF0ZShlLmZvcndhcmQodCksZS5mb3J3YXJkKHIpLHMpKTt9cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIG8uZXZhbHVhdGU/e2V2YWx1YXRlKC4uLnQpe2NvbnN0IGU9by5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCkscj1sLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCx0KTtpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1yKXJldHVybiB1KGUscixzKX19OnUobyxsLHMpfWZ1bmN0aW9uIGppKHQsZSxyKXtyZXR1cm4gXCJjb2xvclwiPT09ZS50eXBlP3I9bGUucGFyc2Uocik6XCJmb3JtYXR0ZWRcIj09PWUudHlwZT9yPURlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PWUudHlwZT9yPVZlLmZyb21TdHJpbmcoci50b1N0cmluZygpKTpLZShyKT09PWUudHlwZXx8XCJlbnVtXCI9PT1lLnR5cGUmJmUudmFsdWVzW3JdfHwocj12b2lkIDApLEZpKHIsdC5kZWZhdWx0LGUuZGVmYXVsdCl9Y2xhc3MgcWl7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5leHByZXNzaW9uPXQsdGhpcy5fd2FybmluZ0hpc3Rvcnk9e30sdGhpcy5fZXZhbHVhdG9yPW5ldyB0cihyLG4pLHRoaXMuX2RlZmF1bHRWYWx1ZT1lP2Z1bmN0aW9uKHQpe3JldHVybiBcImNvbG9yXCI9PT10LnR5cGUmJihEaSh0LmRlZmF1bHQpfHxBcnJheS5pc0FycmF5KHQuZGVmYXVsdCkpP25ldyBsZSgwLDAsMCwwKTpcImNvbG9yXCI9PT10LnR5cGU/bGUucGFyc2UodC5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT10LmRlZmF1bHQ/bnVsbDp0LmRlZmF1bHR9KGUpOm51bGwsdGhpcy5fZW51bVZhbHVlcz1lJiZcImVudW1cIj09PWUudHlwZT9lLnZhbHVlczpudWxsO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxhLHMsbyl7cmV0dXJuIHRoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXIsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlVGlsZUNvb3JkPXN8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVEaXN0YW5jZURhdGE9b3x8bnVsbCx0aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKX1ldmFsdWF0ZSh0LGUscixuLGksYSxzLG8pe3RoaXMuX2V2YWx1YXRvci5nbG9iYWxzPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmU9ZXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVN0YXRlPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmNhbm9uaWNhbD1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5hdmFpbGFibGVJbWFnZXM9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZm9ybWF0dGVkU2VjdGlvbj1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlVGlsZUNvb3JkPXN8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVEaXN0YW5jZURhdGE9b3x8bnVsbDt0cnl7Y29uc3QgdD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUodGhpcy5fZXZhbHVhdG9yKTtpZihudWxsPT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmdCE9dClyZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlO2lmKHRoaXMuX2VudW1WYWx1ZXMmJiEodCBpbiB0aGlzLl9lbnVtVmFsdWVzKSl0aHJvdyBuZXcgcWUoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9uZSBvZiAke09iamVjdC5rZXlzKHRoaXMuX2VudW1WYWx1ZXMpLm1hcCgodD0+SlNPTi5zdHJpbmdpZnkodCkpKS5qb2luKFwiLCBcIil9LCBidXQgZm91bmQgJHtKU09OLnN0cmluZ2lmeSh0KX0gaW5zdGVhZC5gKTtyZXR1cm4gdH1jYXRjaCh0KXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbdC5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV09ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2Fybih0Lm1lc3NhZ2UpKSx0aGlzLl9kZWZhdWx0VmFsdWV9fX1mdW5jdGlvbiAkaSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF0mJnRbMF1pbiBraX1mdW5jdGlvbiBHaSh0LGUscixuKXtjb25zdCBpPW5ldyBfbihraSxbXSxlP2Z1bmN0aW9uKHQpe2NvbnN0IGU9e2NvbG9yOl9lLHN0cmluZzp2ZSxudW1iZXI6eGUsZW51bTp2ZSxib29sZWFuOmJlLGZvcm1hdHRlZDpTZSxyZXNvbHZlZEltYWdlOkllfTtyZXR1cm4gXCJhcnJheVwiPT09dC50eXBlP2tlKGVbdC52YWx1ZV18fE1lLHQubGVuZ3RoKTplW3QudHlwZV19KGUpOnZvaWQgMCx2b2lkIDAsdm9pZCAwLHIsbiksYT1pLnBhcnNlKHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZSYmXCJzdHJpbmdcIj09PWUudHlwZT97dHlwZUFubm90YXRpb246XCJjb2VyY2VcIn06dm9pZCAwKTtyZXR1cm4gYT9QaShuZXcgcWkoYSxlLHIsbikpOkVpKGkuZXJyb3JzKX1jbGFzcyBZaXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5raW5kPXQsdGhpcy5fc3R5bGVFeHByZXNzaW9uPWUsdGhpcy5pc0xpZ2h0Q29uc3RhbnQ9cix0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjb25zdGFudFwiIT09dCYmIW1uKGUuZXhwcmVzc2lvbiksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD0heW4oZS5leHByZXNzaW9uKTt9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxhKX1ldmFsdWF0ZSh0LGUscixuLGksYSl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZSh0LGUscixuLGksYSl9fWNsYXNzIFhpe2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7dGhpcy5raW5kPXQsdGhpcy56b29tU3RvcHM9cix0aGlzLl9zdHlsZUV4cHJlc3Npb249ZSx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjYW1lcmFcIiE9PXQmJiFtbihlLmV4cHJlc3Npb24pLHRoaXMuaXNMaWdodENvbnN0YW50PWksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD0heW4oZS5leHByZXNzaW9uKSx0aGlzLmludGVycG9sYXRpb25UeXBlPW47fWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGksYSl9ZXZhbHVhdGUodCxlLHIsbixpLGEpe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUodCxlLHIsbixpLGEpfWludGVycG9sYXRpb25GYWN0b3IodCxlLHIpe3JldHVybiB0aGlzLmludGVycG9sYXRpb25UeXBlP1luLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSx0LGUscik6MH19ZnVuY3Rpb24gWmkodCxlLHIsbil7aWYoXCJlcnJvclwiPT09KHQ9R2kodCxlLHIsbikpLnJlc3VsdClyZXR1cm4gdDtjb25zdCBpPXQudmFsdWUuZXhwcmVzc2lvbixhPWRuKGkpO2lmKCFhJiYhVGkoZSkpcmV0dXJuIEVpKFtuZXcgZGUoXCJcIixcImRhdGEgZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZFwiKV0pO2NvbnN0IHM9Z24oaSxbXCJ6b29tXCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl0pO2lmKCFzJiYhQ2koZSkpcmV0dXJuIEVpKFtuZXcgZGUoXCJcIixcInpvb20gZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZFwiKV0pO2NvbnN0IG89Z24oaSxbXCJtZWFzdXJlLWxpZ2h0XCJdKTtpZighbyYmIUJpKGUpKXJldHVybiBFaShbbmV3IGRlKFwiXCIsXCJtZWFzdXJlLWxpZ2h0IGV4cHJlc3Npb24gbm90IHN1cHBvcnRlZFwiKV0pO2NvbnN0IGw9ZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24ucmVsYXhab29tUmVzdHJpY3Rpb24sdT1IaShpKTtyZXR1cm4gdXx8c3x8bD91IGluc3RhbmNlb2YgZGU/RWkoW3VdKTp1IGluc3RhbmNlb2YgWW4mJiFSaShlKT9FaShbbmV3IGRlKFwiXCIsJ1wiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOlBpKHU/bmV3IFhpKGE/XCJjYW1lcmFcIjpcImNvbXBvc2l0ZVwiLHQudmFsdWUsdS5sYWJlbHMsdSBpbnN0YW5jZW9mIFluP3UuaW50ZXJwb2xhdGlvbjp2b2lkIDAsbyk6bmV3IFlpKGE/XCJjb25zdGFudFwiOlwic291cmNlXCIsdC52YWx1ZSxvKSk6RWkoW25ldyBkZShcIlwiLCdcInpvb21cIiBleHByZXNzaW9uIG1heSBvbmx5IGJlIHVzZWQgYXMgaW5wdXQgdG8gYSB0b3AtbGV2ZWwgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb24sIG9yIGluIHRoZSBwcm9wZXJ0aWVzIG9mIGF0bW9zcGhlcmUuJyldKX1jbGFzcyBLaXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUscGUodGhpcyxMaSh0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKTt9c3RhdGljIGRlc2VyaWFsaXplKHQpe3JldHVybiBuZXcgS2kodC5fcGFyYW1ldGVycyx0Ll9zcGVjaWZpY2F0aW9uKX1zdGF0aWMgc2VyaWFsaXplKHQpe3JldHVybiB7X3BhcmFtZXRlcnM6dC5fcGFyYW1ldGVycyxfc3BlY2lmaWNhdGlvbjp0Ll9zcGVjaWZpY2F0aW9ufX19ZnVuY3Rpb24gSGkodCl7bGV0IGU9bnVsbDtpZih0IGluc3RhbmNlb2YgSG4pZT1IaSh0LnJlc3VsdCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgWm4pe2Zvcihjb25zdCByIG9mIHQuYXJncylpZihlPUhpKHIpLGUpYnJlYWt9ZWxzZSAodCBpbnN0YW5jZW9mIFNufHx0IGluc3RhbmNlb2YgWW4pJiZ0LmlucHV0IGluc3RhbmNlb2YgbnImJlwiem9vbVwiPT09dC5pbnB1dC5uYW1lJiYoZT10KTtyZXR1cm4gZSBpbnN0YW5jZW9mIGRlfHx0LmVhY2hDaGlsZCgodD0+e2NvbnN0IHI9SGkodCk7ciBpbnN0YW5jZW9mIGRlP2U9cjplJiZyJiZlIT09ciYmKGU9bmV3IGRlKFwiXCIsJ09ubHkgb25lIHpvb20tYmFzZWQgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIHN1YmV4cHJlc3Npb24gbWF5IGJlIHVzZWQgaW4gYW4gZXhwcmVzc2lvbi4nKSk7fSkpLGV9dmFyIFdpPVFpLEppPTM7ZnVuY3Rpb24gUWkodCxlLHIpe3ZhciBuPXRoaXMuY2VsbHM9W107aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt0aGlzLmFycmF5QnVmZmVyPXQ7dmFyIGk9bmV3IEludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7dD1pWzBdLHRoaXMuZD0oZT1pWzFdKSsyKihyPWlbMl0pO2Zvcih2YXIgYT0wO2E8dGhpcy5kKnRoaXMuZDthKyspe3ZhciBzPWlbSmkrYV0sbz1pW0ppK2ErMV07bi5wdXNoKHM9PT1vP251bGw6aS5zdWJhcnJheShzLG8pKTt9dmFyIGw9aVtKaStuLmxlbmd0aCsxXTt0aGlzLmtleXM9aS5zdWJhcnJheShpW0ppK24ubGVuZ3RoXSxsKSx0aGlzLmJib3hlcz1pLnN1YmFycmF5KGwpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5O31lbHNlIHt0aGlzLmQ9ZSsyKnI7Zm9yKHZhciB1PTA7dTx0aGlzLmQqdGhpcy5kO3UrKyluLnB1c2goW10pO3RoaXMua2V5cz1bXSx0aGlzLmJib3hlcz1bXTt9dGhpcy5uPWUsdGhpcy5leHRlbnQ9dCx0aGlzLnBhZGRpbmc9cix0aGlzLnNjYWxlPWUvdCx0aGlzLnVpZD0wO3ZhciBjPXIvZSp0O3RoaXMubWluPS1jLHRoaXMubWF4PXQrYzt9UWkucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKGUscixuLGksdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpO30sUWkucHJvdG90eXBlLl9pbnNlcnRSZWFkb25seT1mdW5jdGlvbigpe3Rocm93IFwiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci5cIn0sUWkucHJvdG90eXBlLl9pbnNlcnRDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt0aGlzLmNlbGxzW2ldLnB1c2goYSk7fSxRaS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odCxlLHIsbixpKXt2YXIgYT10aGlzLm1pbixzPXRoaXMubWF4O2lmKHQ8PWEmJmU8PWEmJnM8PXImJnM8PW4mJiFpKXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmtleXMpO3ZhciBvPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbCh0LGUscixuLHRoaXMuX3F1ZXJ5Q2VsbCxvLHt9LGkpLG99LFFpLnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxhLHMsbyl7dmFyIGw9dGhpcy5jZWxsc1tpXTtpZihudWxsIT09bClmb3IodmFyIHU9dGhpcy5rZXlzLGM9dGhpcy5iYm94ZXMsaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgcD1sW2hdO2lmKHZvaWQgMD09PXNbcF0pe3ZhciBmPTQqcDsobz9vKGNbZiswXSxjW2YrMV0sY1tmKzJdLGNbZiszXSk6dDw9Y1tmKzJdJiZlPD1jW2YrM10mJnI+PWNbZiswXSYmbj49Y1tmKzFdKT8oc1twXT0hMCxhLnB1c2godVtwXSkpOnNbcF09ITE7fX19LFFpLnByb3RvdHlwZS5fZm9yRWFjaENlbGw9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvKXtmb3IodmFyIGw9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHQpLHU9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKHIpLGg9dGhpcy5fY29udmVydFRvQ2VsbENvb3JkKG4pLHA9bDtwPD1jO3ArKylmb3IodmFyIGY9dTtmPD1oO2YrKyl7dmFyIGQ9dGhpcy5kKmYrcDtpZigoIW98fG8odGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZiksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCsxKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChmKzEpKSkmJmkuY2FsbCh0aGlzLHQsZSxyLG4sZCxhLHMsbykpcmV0dXJufX0sUWkucHJvdG90eXBlLl9jb252ZXJ0RnJvbUNlbGxDb29yZD1mdW5jdGlvbih0KXtyZXR1cm4gKHQtdGhpcy5wYWRkaW5nKS90aGlzLnNjYWxlfSxRaS5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKHQqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LFFpLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5hcnJheUJ1ZmZlcilyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlcjtmb3IodmFyIHQ9dGhpcy5jZWxscyxlPUppK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxyPTAsbj0wO248dGhpcy5jZWxscy5sZW5ndGg7bisrKXIrPXRoaXMuY2VsbHNbbl0ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KGUrcit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIGE9ZSxzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciBvPXRbc107aVtKaStzXT1hLGkuc2V0KG8sYSksYSs9by5sZW5ndGg7fXJldHVybiBpW0ppK3QubGVuZ3RoXT1hLGkuc2V0KHRoaXMua2V5cyxhKSxpW0ppK3QubGVuZ3RoKzFdPWErPXRoaXMua2V5cy5sZW5ndGgsaS5zZXQodGhpcy5iYm94ZXMsYSksYSs9dGhpcy5iYm94ZXMubGVuZ3RoLGkuYnVmZmVyfTt2YXIgdGE9aChXaSk7Y29uc3QgZWE9e307ZnVuY3Rpb24gcmEodCxlLHI9e30pe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX2NsYXNzUmVnaXN0cnlLZXlcIix7dmFsdWU6ZSx3cml0ZWFibGU6ITF9KSxlYVtlXT17a2xhc3M6dCxvbWl0OnIub21pdHx8W119O31yYShPYmplY3QsXCJPYmplY3RcIiksdGEuc2VyaWFsaXplPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj10LnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gZSYmZS5hZGQocikse2J1ZmZlcjpyfX0sdGEuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0YSh0LmJ1ZmZlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YSxcIm5hbWVcIix7dmFsdWU6XCJHcmlkXCJ9KSxyYSh0YSxcIkdyaWRcIikscmEobGUsXCJDb2xvclwiKSxyYShFcnJvcixcIkVycm9yXCIpLHJhKERlLFwiRm9ybWF0dGVkXCIpLHJhKFJlLFwiRm9ybWF0dGVkU2VjdGlvblwiKSxyYShTdCxcIkFKQVhFcnJvclwiKSxyYShWZSxcIlJlc29sdmVkSW1hZ2VcIikscmEoS2ksXCJTdHlsZVByb3BlcnR5RnVuY3Rpb25cIikscmEocWksXCJTdHlsZUV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdG9yXCJdfSkscmEoWGksXCJab29tRGVwZW5kZW50RXhwcmVzc2lvblwiKSxyYShZaSxcIlpvb21Db25zdGFudEV4cHJlc3Npb25cIikscmEobnIsXCJDb21wb3VuZEV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdGVcIl19KTtmb3IoY29uc3QgdCBpbiBraSllYVtraVt0XS5fY2xhc3NSZWdpc3RyeUtleV18fHJhKGtpW3RdLGBFeHByZXNzaW9uJHt0fWApO2Z1bmN0aW9uIG5hKHQpe3JldHVybiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQuY29uc3RydWN0b3ImJlwiQXJyYXlCdWZmZXJcIj09PXQuY29uc3RydWN0b3IubmFtZSl9ZnVuY3Rpb24gaWEodCl7cmV0dXJuIHNlbGYuSW1hZ2VCaXRtYXAmJnQgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcH1mdW5jdGlvbiBhYSh0LGUpe2lmKG51bGw9PXR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgQm9vbGVhbnx8dCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIERhdGV8fHQgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIHQ7aWYobmEodCl8fGlhKHQpKXJldHVybiBlJiZlLmFkZCh0KSx0O2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSl7Y29uc3Qgcj10O3JldHVybiBlJiZlLmFkZChyLmJ1ZmZlcikscn1pZih0IGluc3RhbmNlb2YgSW1hZ2VEYXRhKXJldHVybiBlJiZlLmFkZCh0LmRhdGEuYnVmZmVyKSx0O2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgdClyLnB1c2goYWEobixlKSk7cmV0dXJuIHJ9aWYodCBpbnN0YW5jZW9mIE1hcCl7Y29uc3QgZT17JG5hbWU6XCJNYXBcIn07Zm9yKGNvbnN0W3Isbl1vZiB0LmVudHJpZXMoKSllW3JdPWFhKG4pO3JldHVybiBlfWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtjb25zdCByPXQuY29uc3RydWN0b3Isbj1yLl9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFuKXRocm93IG5ldyBFcnJvcihgY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MgJHtufWApO2NvbnN0IGk9ci5zZXJpYWxpemU/ci5zZXJpYWxpemUodCxlKTp7fTtpZighci5zZXJpYWxpemUpe2Zvcihjb25zdCByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKGVhW25dLm9taXQuaW5kZXhPZihyKT49MHx8KGlbcl09YWEodFtyXSxlKSkpO3QgaW5zdGFuY2VvZiBFcnJvciYmKGkubWVzc2FnZT10Lm1lc3NhZ2UpO31pZihpLiRuYW1lKXRocm93IG5ldyBFcnJvcihcIiRuYW1lIHByb3BlcnR5IGlzIHJlc2VydmVkIGZvciB3b3JrZXIgc2VyaWFsaXphdGlvbiBsb2dpYy5cIik7cmV0dXJuIFwiT2JqZWN0XCIhPT1uJiYoaS4kbmFtZT1uKSxpfXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgdCl9ZnVuY3Rpb24gc2EodCl7aWYobnVsbD09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBCb29sZWFufHx0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgRGF0ZXx8dCBpbnN0YW5jZW9mIFJlZ0V4cHx8bmEodCl8fGlhKHQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fHQgaW5zdGFuY2VvZiBJbWFnZURhdGEpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoc2EpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtjb25zdCBlPXQuJG5hbWV8fFwiT2JqZWN0XCI7aWYoXCJNYXBcIj09PWUpe2NvbnN0IGU9bmV3IE1hcDtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0KSlcIiRuYW1lXCIhPT1yJiZlLnNldChyLHNhKHRbcl0pKTtyZXR1cm4gZX1jb25zdHtrbGFzczpyfT1lYVtlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoYGNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyAke2V9YCk7aWYoci5kZXNlcmlhbGl6ZSlyZXR1cm4gci5kZXNlcmlhbGl6ZSh0KTtjb25zdCBuPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHQpKVwiJG5hbWVcIiE9PWUmJihuW2VdPXNhKHRbZV0pKTtyZXR1cm4gbn10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBkZXNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgdCl9Y29uc3Qgb2E9e1wiTGF0aW4tMSBTdXBwbGVtZW50XCI6dD0+dD49MTI4JiZ0PD0yNTUsQXJhYmljOnQ9PnQ+PTE1MzYmJnQ8PTE3OTEsXCJBcmFiaWMgU3VwcGxlbWVudFwiOnQ9PnQ+PTE4NzImJnQ8PTE5MTksXCJBcmFiaWMgRXh0ZW5kZWQtQVwiOnQ9PnQ+PTIyMDgmJnQ8PTIzMDMsXCJIYW5ndWwgSmFtb1wiOnQ9PnQ+PTQzNTImJnQ8PTQ2MDcsXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzXCI6dD0+dD49NTEyMCYmdDw9NTc1OSxLaG1lcjp0PT50Pj02MDE2JiZ0PD02MTQzLFwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiOnQ9PnQ+PTYzMjAmJnQ8PTYzOTksXCJHZW5lcmFsIFB1bmN0dWF0aW9uXCI6dD0+dD49ODE5MiYmdDw9ODMwMyxcIkxldHRlcmxpa2UgU3ltYm9sc1wiOnQ9PnQ+PTg0NDgmJnQ8PTg1MjcsXCJOdW1iZXIgRm9ybXNcIjp0PT50Pj04NTI4JiZ0PD04NTkxLFwiTWlzY2VsbGFuZW91cyBUZWNobmljYWxcIjp0PT50Pj04OTYwJiZ0PD05MjE1LFwiQ29udHJvbCBQaWN0dXJlc1wiOnQ9PnQ+PTkyMTYmJnQ8PTkyNzksXCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvblwiOnQ9PnQ+PTkyODAmJnQ8PTkzMTEsXCJFbmNsb3NlZCBBbHBoYW51bWVyaWNzXCI6dD0+dD49OTMxMiYmdDw9OTQ3MSxcIkdlb21ldHJpYyBTaGFwZXNcIjp0PT50Pj05NjMyJiZ0PD05NzI3LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzXCI6dD0+dD49OTcyOCYmdDw9OTk4MyxcIk1pc2NlbGxhbmVvdXMgU3ltYm9scyBhbmQgQXJyb3dzXCI6dD0+dD49MTEwMDgmJnQ8PTExMjYzLFwiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIjp0PT50Pj0xMTkwNCYmdDw9MTIwMzEsXCJLYW5neGkgUmFkaWNhbHNcIjp0PT50Pj0xMjAzMiYmdDw9MTIyNTUsXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCI6dD0+dD49MTIyNzImJnQ8PTEyMjg3LFwiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCI6dD0+dD49MTIyODgmJnQ8PTEyMzUxLEhpcmFnYW5hOnQ9PnQ+PTEyMzUyJiZ0PD0xMjQ0NyxLYXRha2FuYTp0PT50Pj0xMjQ0OCYmdDw9MTI1NDMsQm9wb21vZm86dD0+dD49MTI1NDQmJnQ8PTEyNTkxLFwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1wiOnQ9PnQ+PTEyNTkyJiZ0PD0xMjY4NyxLYW5idW46dD0+dD49MTI2ODgmJnQ8PTEyNzAzLFwiQm9wb21vZm8gRXh0ZW5kZWRcIjp0PT50Pj0xMjcwNCYmdDw9MTI3MzUsXCJDSksgU3Ryb2tlc1wiOnQ9PnQ+PTEyNzM2JiZ0PD0xMjc4MyxcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIjp0PT50Pj0xMjc4NCYmdDw9MTI3OTksXCJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXCI6dD0+dD49MTI4MDAmJnQ8PTEzMDU1LFwiQ0pLIENvbXBhdGliaWxpdHlcIjp0PT50Pj0xMzA1NiYmdDw9MTMzMTEsXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCI6dD0+dD49MTMzMTImJnQ8PTE5OTAzLFwiWWlqaW5nIEhleGFncmFtIFN5bWJvbHNcIjp0PT50Pj0xOTkwNCYmdDw9MTk5NjcsXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCI6dD0+dD49MTk5NjgmJnQ8PTQwOTU5LFwiWWkgU3lsbGFibGVzXCI6dD0+dD49NDA5NjAmJnQ8PTQyMTI3LFwiWWkgUmFkaWNhbHNcIjp0PT50Pj00MjEyOCYmdDw9NDIxOTEsXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCI6dD0+dD49NDMzNjAmJnQ8PTQzMzkxLFwiSGFuZ3VsIFN5bGxhYmxlc1wiOnQ9PnQ+PTQ0MDMyJiZ0PD01NTIxNSxcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUJcIjp0PT50Pj01NTIxNiYmdDw9NTUyOTUsXCJQcml2YXRlIFVzZSBBcmVhXCI6dD0+dD49NTczNDQmJnQ8PTYzNzQzLFwiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1wiOnQ9PnQ+PTYzNzQ0JiZ0PD02NDI1NSxcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQVwiOnQ9PnQ+PTY0MzM2JiZ0PD02NTAyMyxcIlZlcnRpY2FsIEZvcm1zXCI6dD0+dD49NjUwNDAmJnQ8PTY1MDU1LFwiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIjp0PT50Pj02NTA3MiYmdDw9NjUxMDMsXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCI6dD0+dD49NjUxMDQmJnQ8PTY1MTM1LFwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CXCI6dD0+dD49NjUxMzYmJnQ8PTY1Mjc5LFwiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIjp0PT50Pj02NTI4MCYmdDw9NjU1MTksXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBCXCI6dD0+dD49MTMxMDcyJiZ0PD0xNzM3OTF9O2Z1bmN0aW9uIGxhKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoaGEoZS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIHVhKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoIWNhKGUuY2hhckNvZGVBdCgwKSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBjYSh0KXtyZXR1cm4gIShvYS5BcmFiaWModCl8fG9hW1wiQXJhYmljIFN1cHBsZW1lbnRcIl0odCl8fG9hW1wiQXJhYmljIEV4dGVuZGVkLUFcIl0odCl8fG9hW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHQpfHxvYVtcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXSh0KSl9ZnVuY3Rpb24gaGEodCl7cmV0dXJuICEoNzQ2IT09dCYmNzQ3IT09dCYmKHQ8NDM1Mnx8IShvYVtcIkJvcG9tb2ZvIEV4dGVuZGVkXCJdKHQpfHxvYS5Cb3BvbW9mbyh0KXx8b2FbXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiXSh0KSYmISh0Pj02NTA5NyYmdDw9NjUxMDMpfHxvYVtcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0odCl8fG9hW1wiQ0pLIENvbXBhdGliaWxpdHlcIl0odCl8fG9hW1wiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIl0odCl8fG9hW1wiQ0pLIFN0cm9rZXNcIl0odCl8fCEoIW9hW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKHQpfHx0Pj0xMjI5NiYmdDw9MTIzMDV8fHQ+PTEyMzA4JiZ0PD0xMjMxOXx8MTIzMzY9PT10KXx8b2FbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCJdKHQpfHxvYVtcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHNcIl0odCl8fG9hW1wiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiXSh0KXx8b2FbXCJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vXCJdKHQpfHxvYVtcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUFcIl0odCl8fG9hW1wiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQlwiXSh0KXx8b2FbXCJIYW5ndWwgSmFtb1wiXSh0KXx8b2FbXCJIYW5ndWwgU3lsbGFibGVzXCJdKHQpfHxvYS5IaXJhZ2FuYSh0KXx8b2FbXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCJdKHQpfHxvYS5LYW5idW4odCl8fG9hW1wiS2FuZ3hpIFJhZGljYWxzXCJdKHQpfHxvYVtcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIl0odCl8fG9hLkthdGFrYW5hKHQpJiYxMjU0MCE9PXR8fCEoIW9hW1wiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIl0odCl8fDY1Mjg4PT09dHx8NjUyODk9PT10fHw2NTI5Mz09PXR8fHQ+PTY1MzA2JiZ0PD02NTMxMHx8NjUzMzk9PT10fHw2NTM0MT09PXR8fDY1MzQzPT09dHx8dD49NjUzNzEmJnQ8PTY1NTAzfHw2NTUwNz09PXR8fHQ+PTY1NTEyJiZ0PD02NTUxOSl8fCEoIW9hW1wiU21hbGwgRm9ybSBWYXJpYW50c1wiXSh0KXx8dD49NjUxMTImJnQ8PTY1MTE4fHx0Pj02NTEyMyYmdDw9NjUxMjYpfHxvYVtcIlVuaWZpZWQgQ2FuYWRpYW4gQWJvcmlnaW5hbCBTeWxsYWJpY3NcIl0odCl8fG9hW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiXSh0KXx8b2FbXCJWZXJ0aWNhbCBGb3Jtc1wiXSh0KXx8b2FbXCJZaWppbmcgSGV4YWdyYW0gU3ltYm9sc1wiXSh0KXx8b2FbXCJZaSBTeWxsYWJsZXNcIl0odCl8fG9hW1wiWWkgUmFkaWNhbHNcIl0odCkpKSl9ZnVuY3Rpb24gcGEodCl7cmV0dXJuICEoaGEodCl8fGZ1bmN0aW9uKHQpe3JldHVybiAhIShvYVtcIkxhdGluLTEgU3VwcGxlbWVudFwiXSh0KSYmKDE2Nz09PXR8fDE2OT09PXR8fDE3ND09PXR8fDE3Nz09PXR8fDE4OD09PXR8fDE4OT09PXR8fDE5MD09PXR8fDIxNT09PXR8fDI0Nz09PXQpfHxvYVtcIkdlbmVyYWwgUHVuY3R1YXRpb25cIl0odCkmJig4MjE0PT09dHx8ODIyND09PXR8fDgyMjU9PT10fHw4MjQwPT09dHx8ODI0MT09PXR8fDgyNTE9PT10fHw4MjUyPT09dHx8ODI1OD09PXR8fDgyNjM9PT10fHw4MjY0PT09dHx8ODI2NT09PXR8fDgyNzM9PT10KXx8b2FbXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIl0odCl8fG9hW1wiTnVtYmVyIEZvcm1zXCJdKHQpfHxvYVtcIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsXCJdKHQpJiYodD49ODk2MCYmdDw9ODk2N3x8dD49ODk3MiYmdDw9ODk5MXx8dD49ODk5NiYmdDw9OWUzfHw5MDAzPT09dHx8dD49OTA4NSYmdDw9OTExNHx8dD49OTE1MCYmdDw9OTE2NXx8OTE2Nz09PXR8fHQ+PTkxNjkmJnQ8PTkxNzl8fHQ+PTkxODYmJnQ8PTkyMTUpfHxvYVtcIkNvbnRyb2wgUGljdHVyZXNcIl0odCkmJjkyNTEhPT10fHxvYVtcIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uXCJdKHQpfHxvYVtcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIl0odCl8fG9hW1wiR2VvbWV0cmljIFNoYXBlc1wiXSh0KXx8b2FbXCJNaXNjZWxsYW5lb3VzIFN5bWJvbHNcIl0odCkmJiEodD49OTc1NCYmdDw9OTc1OSl8fG9hW1wiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIl0odCkmJih0Pj0xMTAyNiYmdDw9MTEwNTV8fHQ+PTExMDg4JiZ0PD0xMTA5N3x8dD49MTExOTImJnQ8PTExMjQzKXx8b2FbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0odCl8fG9hLkthdGFrYW5hKHQpfHxvYVtcIlByaXZhdGUgVXNlIEFyZWFcIl0odCl8fG9hW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0odCl8fG9hW1wiU21hbGwgRm9ybSBWYXJpYW50c1wiXSh0KXx8b2FbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXSh0KXx8ODczND09PXR8fDg3NTY9PT10fHw4NzU3PT09dHx8dD49OTk4NCYmdDw9MTAwODd8fHQ+PTEwMTAyJiZ0PD0xMDEzMXx8NjU1MzI9PT10fHw2NTUzMz09PXQpfSh0KSl9ZnVuY3Rpb24gZmEodCl7cmV0dXJuIHQ+PTE0MjQmJnQ8PTIzMDN8fG9hW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHQpfHxvYVtcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXSh0KX1mdW5jdGlvbiBkYSh0LGUpe3JldHVybiAhKCFlJiZmYSh0KXx8dD49MjMwNCYmdDw9MzU4M3x8dD49Mzg0MCYmdDw9NDI1NXx8b2EuS2htZXIodCkpfWZ1bmN0aW9uIG1hKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoZmEoZS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0IHlhPVwiZGVmZXJyZWRcIixnYT1cImxvYWRpbmdcIix4YT1cImxvYWRlZFwiO2xldCB2YT1udWxsLGJhPVwidW5hdmFpbGFibGVcIixfYT1udWxsO2NvbnN0IHdhPWZ1bmN0aW9uKHQpe3QmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0LmluZGV4T2YoXCJOZXR3b3JrRXJyb3JcIik+LTEmJihiYT1cImVycm9yXCIpLHZhJiZ2YSh0KTt9O2Z1bmN0aW9uIE1hKCl7QWEuZmlyZShuZXcgUXQoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHtwbHVnaW5TdGF0dXM6YmEscGx1Z2luVVJMOl9hfSkpO31jb25zdCBBYT1uZXcgZWUsU2E9ZnVuY3Rpb24oKXtyZXR1cm4gYmF9LElhPWZ1bmN0aW9uKCl7aWYoYmEhPT15YXx8IV9hKXRocm93IG5ldyBFcnJvcihcInJ0bC10ZXh0LXBsdWdpbiBjYW5ub3QgYmUgZG93bmxvYWRlZCB1bmxlc3MgYSBwbHVnaW5VUkwgaXMgc3BlY2lmaWVkXCIpO2JhPWdhLE1hKCksX2EmJlB0KHt1cmw6X2F9LCh0PT57dD93YSh0KTooYmE9eGEsTWEoKSk7fSkpO30sa2E9e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOigpPT5iYT09PXhhfHxudWxsIT1rYS5hcHBseUFyYWJpY1NoYXBpbmcsaXNMb2FkaW5nOigpPT5iYT09PWdhLHNldFN0YXRlKHQpe2JhPXQucGx1Z2luU3RhdHVzLF9hPXQucGx1Z2luVVJMO30saXNQYXJzZWQ6KCk9Pm51bGwhPWthLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9a2EucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1rYS5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQsZ2V0UGx1Z2luVVJMOigpPT5fYX07Y2xhc3MgUGF7Y29uc3RydWN0b3IodCxlKXt0aGlzLnpvb209dCxlPyh0aGlzLm5vdz1lLm5vdyx0aGlzLmZhZGVEdXJhdGlvbj1lLmZhZGVEdXJhdGlvbix0aGlzLnRyYW5zaXRpb249ZS50cmFuc2l0aW9uLHRoaXMucGl0Y2g9ZS5waXRjaCx0aGlzLmJyaWdodG5lc3M9ZS5icmlnaHRuZXNzKToodGhpcy5ub3c9MCx0aGlzLmZhZGVEdXJhdGlvbj0wLHRoaXMudHJhbnNpdGlvbj17fSx0aGlzLnBpdGNoPTAsdGhpcy5icmlnaHRuZXNzPTApO31pc1N1cHBvcnRlZFNjcmlwdCh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgciBvZiB0KWlmKCFkYShyLmNoYXJDb2RlQXQoMCksZSkpcmV0dXJuICExO3JldHVybiAhMH0odCxrYS5pc0xvYWRlZCgpKX19Y2xhc3MgRWF7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLmV4cHJlc3Npb249ZnVuY3Rpb24odCxlLHIsbil7aWYoRGkodCkpcmV0dXJuIG5ldyBLaSh0LGUpO2lmKCRpKHQpfHxBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wKXtjb25zdCBpPVppKHQsZSxyLG4pO2lmKFwiZXJyb3JcIj09PWkucmVzdWx0KXRocm93IG5ldyBFcnJvcihpLnZhbHVlLm1hcCgodD0+YCR7dC5rZXl9OiAke3QubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtyZXR1cm4gaS52YWx1ZX17bGV0IHI9dDtyZXR1cm4gXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiY29sb3JcIj09PWUudHlwZSYmKHI9bGUucGFyc2UodCkpLHtraW5kOlwiY29uc3RhbnRcIixpc0NvbmZpZ0RlcGVuZGVudDohMSxldmFsdWF0ZTooKT0+cn19fSh2b2lkIDA9PT1lP3Quc3BlY2lmaWNhdGlvbi5kZWZhdWx0OmUsdC5zcGVjaWZpY2F0aW9uLHIsbik7fWlzRGF0YURyaXZlbigpe3JldHVybiBcInNvdXJjZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZH1wb3NzaWJseUV2YWx1YXRlKHQsZSxyKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsdCxlLHIpfX1jbGFzcyB6YXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9bmV3IEVhKHQsdm9pZCAwLGUscik7fXRyYW5zaXRpb25lZCh0LGUpe3JldHVybiBuZXcgQmEodGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLGUseih7fSx0LnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSx0Lm5vdyl9dW50cmFuc2l0aW9uZWQoKXtyZXR1cm4gbmV3IEJhKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfX1jbGFzcyBUYXtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpLHRoaXMuX3Njb3BlPWUsdGhpcy5fb3B0aW9ucz1yLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9ITE7fWdldFZhbHVlKHQpe3JldHVybiBPKHRoaXMuX3ZhbHVlc1t0XS52YWx1ZS52YWx1ZSl9c2V0VmFsdWUodCxlKXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLl92YWx1ZXNbdF09bmV3IHphKHRoaXMuX3ZhbHVlc1t0XS5wcm9wZXJ0eSx0aGlzLl9zY29wZSx0aGlzLl9vcHRpb25zKSksdGhpcy5fdmFsdWVzW3RdLnZhbHVlPW5ldyBFYSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHksbnVsbD09PWU/dm9pZCAwOk8oZSksdGhpcy5fc2NvcGUsdGhpcy5fb3B0aW9ucyksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD10aGlzLmlzQ29uZmlnRGVwZW5kZW50fHx0aGlzLl92YWx1ZXNbdF0udmFsdWUuZXhwcmVzc2lvbi5pc0NvbmZpZ0RlcGVuZGVudDt9c2V0VHJhbnNpdGlvbk9yVmFsdWUodCxlKXtlJiYodGhpcy5fb3B0aW9ucz1lKTtjb25zdCByPXRoaXMuX3Byb3BlcnRpZXMucHJvcGVydGllcztpZih0KWZvcihjb25zdCBlIGluIHQpe2NvbnN0IG49dFtlXTtpZihMKGUsXCItdHJhbnNpdGlvblwiKSl7Y29uc3QgdD1lLnNsaWNlKDAsLTExKTtyW3RdJiZ0aGlzLnNldFRyYW5zaXRpb24odCxuKTt9ZWxzZSByW2VdJiZ0aGlzLnNldFZhbHVlKGUsbik7fX1nZXRUcmFuc2l0aW9uKHQpe3JldHVybiBPKHRoaXMuX3ZhbHVlc1t0XS50cmFuc2l0aW9uKX1zZXRUcmFuc2l0aW9uKHQsZSl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KHQpfHwodGhpcy5fdmFsdWVzW3RdPW5ldyB6YSh0aGlzLl92YWx1ZXNbdF0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbdF0udHJhbnNpdGlvbj1PKGUpfHx2b2lkIDA7fXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgcj10aGlzLmdldFZhbHVlKGUpO3ZvaWQgMCE9PXImJih0W2VdPXIpO2NvbnN0IG49dGhpcy5nZXRUcmFuc2l0aW9uKGUpO3ZvaWQgMCE9PW4mJih0W2Ake2V9LXRyYW5zaXRpb25gXT1uKTt9cmV0dXJuIHR9dHJhbnNpdGlvbmVkKHQsZSl7Y29uc3Qgcj1uZXcgQ2EodGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlyLl92YWx1ZXNbbl09dGhpcy5fdmFsdWVzW25dLnRyYW5zaXRpb25lZCh0LGUuX3ZhbHVlc1tuXSk7cmV0dXJuIHJ9dW50cmFuc2l0aW9uZWQoKXtjb25zdCB0PW5ldyBDYSh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXQuX3ZhbHVlc1tlXT10aGlzLl92YWx1ZXNbZV0udW50cmFuc2l0aW9uZWQoKTtyZXR1cm4gdH19Y2xhc3MgQmF7Y29uc3RydWN0b3IodCxlLHIsbixpKXtjb25zdCBhPW4uZGVsYXl8fDAscz1uLmR1cmF0aW9ufHwwO2k9aXx8MCx0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1lLHRoaXMuYmVnaW49aSthLHRoaXMuZW5kPXRoaXMuYmVnaW4rcyx0LnNwZWNpZmljYXRpb24udHJhbnNpdGlvbiYmKG4uZGVsYXl8fG4uZHVyYXRpb24pJiYodGhpcy5wcmlvcj1yKTt9cG9zc2libHlFdmFsdWF0ZSh0LGUscil7Y29uc3Qgbj10Lm5vd3x8MCxpPXRoaXMudmFsdWUucG9zc2libHlFdmFsdWF0ZSh0LGUsciksYT10aGlzLnByaW9yO2lmKGEpe2lmKG4+dGhpcy5lbmQpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKHRoaXMudmFsdWUuaXNEYXRhRHJpdmVuKCkpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKG48dGhpcy5iZWdpbilyZXR1cm4gYS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKTt7Y29uc3Qgcz0obi10aGlzLmJlZ2luKS8odGhpcy5lbmQtdGhpcy5iZWdpbik7cmV0dXJuIHRoaXMucHJvcGVydHkuaW50ZXJwb2xhdGUoYS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKSxpLE0ocykpfX1yZXR1cm4gaX19Y2xhc3MgQ2F7Y29uc3RydWN0b3IodCl7dGhpcy5fcHJvcGVydGllcz10LHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKHQuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcyk7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIpe2NvbnN0IG49bmV3IFZhKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpbi5fdmFsdWVzW2ldPXRoaXMuX3ZhbHVlc1tpXS5wb3NzaWJseUV2YWx1YXRlKHQsZSxyKTtyZXR1cm4gbn1oYXNUcmFuc2l0aW9uKCl7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlpZih0aGlzLl92YWx1ZXNbdF0ucHJpb3IpcmV0dXJuICEwO3JldHVybiAhMX19Y2xhc3MgUmF7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyksdGhpcy5fc2NvcGU9ZSx0aGlzLl9vcHRpb25zPXIsdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD0hMTt9Z2V0VmFsdWUodCl7cmV0dXJuIE8odGhpcy5fdmFsdWVzW3RdLnZhbHVlKX1zZXRWYWx1ZSh0LGUpe3RoaXMuX3ZhbHVlc1t0XT1uZXcgRWEodGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5LG51bGw9PT1lP3ZvaWQgMDpPKGUpLHRoaXMuX3Njb3BlLHRoaXMuX29wdGlvbnMpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8dGhpcy5fdmFsdWVzW3RdLmV4cHJlc3Npb24uaXNDb25maWdEZXBlbmRlbnQ7fXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgcj10aGlzLmdldFZhbHVlKGUpO3ZvaWQgMCE9PXImJih0W2VdPXIpO31yZXR1cm4gdH1wb3NzaWJseUV2YWx1YXRlKHQsZSxyKXtjb25zdCBuPW5ldyBWYSh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKW4uX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZSh0LGUscik7cmV0dXJuIG59fWNsYXNzIERhe2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1lLHRoaXMucGFyYW1ldGVycz1yO31pc0NvbnN0YW50KCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH1jb25zdGFudE9yKHQpe3JldHVybiBcImNvbnN0YW50XCI9PT10aGlzLnZhbHVlLmtpbmQ/dGhpcy52YWx1ZS52YWx1ZTp0fWV2YWx1YXRlKHQsZSxyLG4pe3JldHVybiB0aGlzLnByb3BlcnR5LmV2YWx1YXRlKHRoaXMudmFsdWUsdGhpcy5wYXJhbWV0ZXJzLHQsZSxyLG4pfX1jbGFzcyBWYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXMpO31nZXQodCl7cmV0dXJuIHRoaXMuX3ZhbHVlc1t0XX19Y2xhc3MgTGF7Y29uc3RydWN0b3IodCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fXBvc3NpYmx5RXZhbHVhdGUodCxlKXtyZXR1cm4gdC5leHByZXNzaW9uLmV2YWx1YXRlKGUpfWludGVycG9sYXRlKHQsZSxyKXtjb25zdCBuPWhlW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uKHQsZSxyKTp0fX1jbGFzcyBGYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuc3BlY2lmaWNhdGlvbj10LHRoaXMub3ZlcnJpZGVzPWU7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIsbil7cmV0dXJuIG5ldyBEYSh0aGlzLFwiY29uc3RhbnRcIj09PXQuZXhwcmVzc2lvbi5raW5kfHxcImNhbWVyYVwiPT09dC5leHByZXNzaW9uLmtpbmQ/e2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlLG51bGwse30scixuKX06dC5leHByZXNzaW9uLGUpfWludGVycG9sYXRlKHQsZSxyKXtpZihcImNvbnN0YW50XCIhPT10LnZhbHVlLmtpbmR8fFwiY29uc3RhbnRcIiE9PWUudmFsdWUua2luZClyZXR1cm4gdDtpZih2b2lkIDA9PT10LnZhbHVlLnZhbHVlfHx2b2lkIDA9PT1lLnZhbHVlLnZhbHVlKXJldHVybiBuZXcgRGEodGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6dm9pZCAwfSx0LnBhcmFtZXRlcnMpO2NvbnN0IG49aGVbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP25ldyBEYSh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpuKHQudmFsdWUudmFsdWUsZS52YWx1ZS52YWx1ZSxyKX0sdC5wYXJhbWV0ZXJzKTp0fWV2YWx1YXRlKHQsZSxyLG4saSxhKXtyZXR1cm4gXCJjb25zdGFudFwiPT09dC5raW5kP3QudmFsdWU6dC5ldmFsdWF0ZShlLHIsbixpLGEpfX1jbGFzcyBOYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9cG9zc2libHlFdmFsdWF0ZSh0LGUscixuKXtyZXR1cm4gISF0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbil9aW50ZXJwb2xhdGUoKXtyZXR1cm4gITF9fWNsYXNzIE9he2NvbnN0cnVjdG9yKHQpe3RoaXMucHJvcGVydGllcz10LHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdO2NvbnN0IGU9bmV3IFBhKDAse30pO2Zvcihjb25zdCByIGluIHQpe2NvbnN0IG49dFtyXTtuLnNwZWNpZmljYXRpb24ub3ZlcnJpZGFibGUmJnRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzLnB1c2gocik7Y29uc3QgaT10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tyXT1uZXcgRWEobix2b2lkIDApLGE9dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tyXT1uZXcgemEobik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW3JdPWEudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tyXT1pLnBvc3NpYmx5RXZhbHVhdGUoZSk7fX19ZnVuY3Rpb24gVWEodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBCb29sZWFuP3QudmFsdWVPZigpOnR9ZnVuY3Rpb24gamEodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoamEpO2lmKHQgaW5zdGFuY2VvZiBPYmplY3QmJiEodCBpbnN0YW5jZW9mIE51bWJlcnx8dCBpbnN0YW5jZW9mIFN0cmluZ3x8dCBpbnN0YW5jZW9mIEJvb2xlYW4pKXtjb25zdCBlPXt9O2Zvcihjb25zdCByIGluIHQpZVtyXT1qYSh0W3JdKTtyZXR1cm4gZX1yZXR1cm4gVWEodCl9cmEoRmEsXCJEYXRhRHJpdmVuUHJvcGVydHlcIikscmEoTGEsXCJEYXRhQ29uc3RhbnRQcm9wZXJ0eVwiKSxyYShOYSxcIkNvbG9yUmFtcFByb3BlcnR5XCIpO3ZhciBxYT1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwiZnJhZ21lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwfSxcInBpdGNoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJsaWdodFwiOntcInR5cGVcIjpcImxpZ2h0XCJ9LFwibGlnaHRzXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGlnaHQtM2RcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwiLFwib3B0aW9uYWxcIjp0cnVlfSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcImNhbWVyYVwiOntcInR5cGVcIjpcImNhbWVyYVwifSxcImltcG9ydHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImltcG9ydFwifSxcInNjaGVtYVwiOntcInR5cGVcIjpcInNjaGVtYVwifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6XCJtYXBib3g6Ly9mb250cy9tYXBib3gve2ZvbnRzdGFja30ve3JhbmdlfS5wYmZcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcInByb2plY3Rpb25cIjp7XCJ0eXBlXCI6XCJwcm9qZWN0aW9uXCJ9LFwibGF5ZXJzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJsYXllclwifSxcIm1vZGVsc1wiOntcInR5cGVcIjpcIm1vZGVsc1wifX0sXCJtb2RlbFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImltcG9ydFwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY29uZmlnXCI6e1widHlwZVwiOlwiY29uZmlnXCJ9LFwiZGF0YVwiOntcInR5cGVcIjpcIiRyb290XCJ9fSxcImNvbmZpZ1wiOntcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNjaGVtYVwiOntcIipcIjp7XCJ0eXBlXCI6XCJvcHRpb25cIn19LFwib3B0aW9uXCI6e1wiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wic3RyaW5nXCI6MSxcIm51bWJlclwiOjEsXCJib29sZWFuXCI6MSxcImNvbG9yXCI6MX19LFwiYXJyYXlcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibWluVmFsdWVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJtYXhWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInN0ZXBWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInZhbHVlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifX0sXCJtb2RlbHNcIjp7XCIqXCI6e1widHlwZVwiOlwibW9kZWxcIn19LFwibGlnaHQtM2RcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0aWVzXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFtYmllbnRcIjp7fSxcImRpcmVjdGlvbmFsXCI6e30sXCJmbGF0XCI6e319fX0sXCJwcm9wZXJ0aWVzXCI6W1wicHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbFwiLFwicHJvcGVydGllc19saWdodF9hbWJpZW50XCIsXCJwcm9wZXJ0aWVzX2xpZ2h0X2ZsYXRcIl0sXCJwcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsXCI6e1wiZGlyZWN0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMjEwLDMwXSxcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDkwXSxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiY2FzdC1zaGFkb3dzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNoYWRvdy1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfYW1iaWVudFwiOntcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfZmxhdFwiOntcImFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJzb3VyY2VzXCI6e1wiKlwiOntcInR5cGVcIjpcInNvdXJjZVwifX0sXCJzb3VyY2VcIjpbXCJzb3VyY2VfdmVjdG9yXCIsXCJzb3VyY2VfcmFzdGVyXCIsXCJzb3VyY2VfcmFzdGVyX2RlbVwiLFwic291cmNlX3Jhc3Rlcl9hcnJheVwiLFwic291cmNlX2dlb2pzb25cIixcInNvdXJjZV92aWRlb1wiLFwic291cmNlX2ltYWdlXCIsXCJzb3VyY2VfbW9kZWxcIl0sXCJzb3VyY2VfdmVjdG9yXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZlY3RvclwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInByb21vdGVJZFwiOntcInR5cGVcIjpcInByb21vdGVJZFwifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9yYXN0ZXJcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyXCI6MX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3Rlcl9kZW1cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyLWRlbVwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6MSxcIm1hcGJveFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwYm94XCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3Rlcl9hcnJheVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItYXJyYXlcIjoxfX0sXCJ1cmxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0aWxlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCJ9LFwiYm91bmRzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwidGlsZVNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJyYXN0ZXJMYXllcnNcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX2dlb2pzb25cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZ2VvanNvblwiOjF9fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOjF9fSxcInVybHNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX2ltYWdlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImltYWdlXCI6MX19LFwidXJsXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX21vZGVsXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1vZGVsXCI6MSxcImJhdGNoZWQtbW9kZWxcIjoxfX0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTh9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifX0sXCJsYXllclwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImZpbGxcIjp7fSxcImxpbmVcIjp7fSxcInN5bWJvbFwiOnt9LFwiY2lyY2xlXCI6e30sXCJoZWF0bWFwXCI6e30sXCJmaWxsLWV4dHJ1c2lvblwiOnt9LFwicmFzdGVyXCI6e30sXCJyYXN0ZXItcGFydGljbGVcIjp7fSxcImhpbGxzaGFkZVwiOnt9LFwibW9kZWxcIjp7fSxcImJhY2tncm91bmRcIjp7fSxcInNreVwiOnt9LFwic2xvdFwiOnt9fSxcInJlcXVpcmVkXCI6dHJ1ZX0sXCJtZXRhZGF0YVwiOntcInR5cGVcIjpcIipcIn0sXCJzb3VyY2VcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJzb3VyY2UtbGF5ZXJcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJzbG90XCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiZmlsdGVyXCJ9LFwibGF5b3V0XCI6e1widHlwZVwiOlwibGF5b3V0XCJ9LFwicGFpbnRcIjp7XCJ0eXBlXCI6XCJwYWludFwifX0sXCJsYXlvdXRcIjpbXCJsYXlvdXRfZmlsbFwiLFwibGF5b3V0X2xpbmVcIixcImxheW91dF9jaXJjbGVcIixcImxheW91dF9oZWF0bWFwXCIsXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIixcImxheW91dF9zeW1ib2xcIixcImxheW91dF9yYXN0ZXJcIixcImxheW91dF9yYXN0ZXItcGFydGljbGVcIixcImxheW91dF9oaWxsc2hhZGVcIixcImxheW91dF9iYWNrZ3JvdW5kXCIsXCJsYXlvdXRfc2t5XCIsXCJsYXlvdXRfbW9kZWxcIl0sXCJsYXlvdXRfYmFja2dyb3VuZFwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9za3lcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbW9kZWxcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifSxcIm1vZGVsLWlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6XCJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fX0sXCJsYXlvdXRfZmlsbFwiOntcImZpbGwtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9jaXJjbGVcIjp7XCJjaXJjbGUtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9oZWF0bWFwXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbGluZVwiOntcImxpbmUtY2FwXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYnV0dFwiOjEsXCJyb3VuZFwiOjEsXCJzcXVhcmVcIjoxfSxcImRlZmF1bHRcIjpcImJ1dHRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtam9pblwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImJldmVsXCI6MSxcInJvdW5kXCI6MSxcIm1pdGVyXCI6MX0sXCJkZWZhdWx0XCI6XCJtaXRlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1taXRlci1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXJvdW5kLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4wNSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9zeW1ib2xcIjp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicG9pbnRcIjoxLFwibGluZVwiOjEsXCJsaW5lLWNlbnRlclwiOjF9LFwiZGVmYXVsdFwiOlwicG9pbnRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNwYWNpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyNTAsXCJtaW5pbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJzeW1ib2wtei1vcmRlclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImF1dG9cIjoxLFwidmlld3BvcnQteVwiOjEsXCJzb3VyY2VcIjoxfSxcImRlZmF1bHRcIjpcImF1dG9cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXotZWxldmF0ZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tb3B0aW9uYWxcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MSxcImF1dG9cIjoxfSxcImRlZmF1bHRcIjpcImF1dG9cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tdGV4dC1maXRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJub25lXCI6MSxcIndpZHRoXCI6MSxcImhlaWdodFwiOjEsXCJib3RoXCI6MX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbMCwwLDAsMF0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1pbWFnZVwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRva2Vuc1wiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjoxLFwibGVmdFwiOjEsXCJyaWdodFwiOjEsXCJ0b3BcIjoxLFwiYm90dG9tXCI6MSxcInRvcC1sZWZ0XCI6MSxcInRvcC1yaWdodFwiOjEsXCJib3R0b20tbGVmdFwiOjEsXCJib3R0b20tcmlnaHRcIjoxfSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxLFwiYXV0b1wiOjF9LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjEsXCJhdXRvXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MSxcImF1dG9cIjoxfSxcImRlZmF1bHRcIjpcImF1dG9cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOntcInR5cGVcIjpcImZvcm1hdHRlZFwiLFwiZGVmYXVsdFwiOlwiXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1mb250XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIixcImRlZmF1bHRcIjpbXCJPcGVuIFNhbnMgUmVndWxhclwiLFwiQXJpYWwgVW5pY29kZSBNUyBSZWd1bGFyXCJdLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTYsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWp1c3RpZnlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6MSxcImxlZnRcIjoxLFwiY2VudGVyXCI6MSxcInJpZ2h0XCI6MX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcmFkaWFsLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOjEsXCJsZWZ0XCI6MSxcInJpZ2h0XCI6MSxcInRvcFwiOjEsXCJib3R0b21cIjoxLFwidG9wLWxlZnRcIjoxLFwidG9wLXJpZ2h0XCI6MSxcImJvdHRvbS1sZWZ0XCI6MSxcImJvdHRvbS1yaWdodFwiOjF9LFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOjEsXCJsZWZ0XCI6MSxcInJpZ2h0XCI6MSxcInRvcFwiOjEsXCJib3R0b21cIjoxLFwidG9wLWxlZnRcIjoxLFwidG9wLXJpZ2h0XCI6MSxcImJvdHRvbS1sZWZ0XCI6MSxcImJvdHRvbS1yaWdodFwiOjF9LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC1hbmdsZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjQ1LFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC13cml0aW5nLW1vZGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImhvcml6b250YWxcIjoxLFwidmVydGljYWxcIjoxfSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtdHJhbnNmb3JtXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibm9uZVwiOjEsXCJ1cHBlcmNhc2VcIjoxLFwibG93ZXJjYXNlXCI6MX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfcmFzdGVyXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3Rlci1wYXJ0aWNsZVwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9oaWxsc2hhZGVcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIn0sXCJmaWx0ZXJfc3ltYm9sXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9saW5lXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2NpcmNsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9oZWF0bWFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX29wZXJhdG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiPT1cIjoxLFwiIT1cIjoxLFwiPlwiOjEsXCI+PVwiOjEsXCI8XCI6MSxcIjw9XCI6MSxcImluXCI6MSxcIiFpblwiOjEsXCJhbGxcIjoxLFwiYW55XCI6MSxcIm5vbmVcIjoxLFwiaGFzXCI6MSxcIiFoYXNcIjoxfX0sXCJnZW9tZXRyeV90eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiUG9pbnRcIjoxLFwiTGluZVN0cmluZ1wiOjEsXCJQb2x5Z29uXCI6MX19LFwiZnVuY3Rpb25cIjp7XCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiZXhwcmVzc2lvblwifSxcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjoxLFwiZXhwb25lbnRpYWxcIjoxLFwiaW50ZXJ2YWxcIjoxLFwiY2F0ZWdvcmljYWxcIjoxfSxcImRlZmF1bHRcIjpcImV4cG9uZW50aWFsXCJ9LFwiY29sb3JTcGFjZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJnYlwiOjEsXCJsYWJcIjoxLFwiaGNsXCI6MX0sXCJkZWZhdWx0XCI6XCJyZ2JcIn0sXCJkZWZhdWx0XCI6e1widHlwZVwiOlwiKlwiLFwicmVxdWlyZWRcIjpmYWxzZX19LFwiZnVuY3Rpb25fc3RvcFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoyNCxcInZhbHVlXCI6W1wibnVtYmVyXCIsXCJjb2xvclwiXSxcImxlbmd0aFwiOjJ9LFwiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwiLFwibWluaW11bVwiOjF9LFwiZm9nXCI6e1wicmFuZ2VcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlswLjUsMTBdLFwibWluaW11bVwiOi0yMCxcIm1heGltdW1cIjoyMCxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaGlnaC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjMjQ1Y2RmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInNwYWNlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsXCIjMDEwYjE5XCIsNyxcIiMzNjdhYjlcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImhvcml6b24tYmxlbmRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsMC4yLDcsMC4xXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInN0YXItaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw1LDAuMzUsNiwwXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInZlcnRpY2FsLXJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMCwwXSxcIm1pbmltdW1cIjowLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXSxcInJlbGF4Wm9vbVJlc3RyaWN0aW9uXCI6dHJ1ZX19fSxcImNhbWVyYVwiOntcImNhbWVyYS1wcm9qZWN0aW9uXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicGVyc3BlY3RpdmVcIjoxLFwib3J0aG9ncmFwaGljXCI6MX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwiZGVmYXVsdFwiOlwicGVyc3BlY3RpdmVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwibGlnaHRcIjp7XCJhbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInBvc2l0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMS4xNSwyMTAsMzBdLFwibGVuZ3RoXCI6MyxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJpbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicHJvamVjdGlvblwiOntcIm5hbWVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhbGJlcnNcIjoxLFwiZXF1YWxFYXJ0aFwiOjEsXCJlcXVpcmVjdGFuZ3VsYXJcIjoxLFwibGFtYmVydENvbmZvcm1hbENvbmljXCI6MSxcIm1lcmNhdG9yXCI6MSxcIm5hdHVyYWxFYXJ0aFwiOjEsXCJ3aW5rZWxUcmlwZWxcIjoxLFwiZ2xvYmVcIjoxfSxcImRlZmF1bHRcIjpcIm1lcmNhdG9yXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJtaW5pbXVtXCI6Wy0xODAsLTkwXSxcIm1heGltdW1cIjpbMTgwLDkwXX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXX19LFwidGVycmFpblwiOntcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImV4YWdnZXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxMDAwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicGFpbnRcIjpbXCJwYWludF9maWxsXCIsXCJwYWludF9saW5lXCIsXCJwYWludF9jaXJjbGVcIixcInBhaW50X2hlYXRtYXBcIixcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCIsXCJwYWludF9zeW1ib2xcIixcInBhaW50X3Jhc3RlclwiLFwicGFpbnRfaGlsbHNoYWRlXCIsXCJwYWludF9iYWNrZ3JvdW5kXCIsXCJwYWludF9za3lcIixcInBhaW50X21vZGVsXCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjozLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtYXR0ZW51YXRpb25cIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjY5LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtd2FsbC1yYWRpdXNcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19fSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1hdHRlbnVhdGlvblwiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuNjksXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1zY2FsZVwiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tcm91bmRlZC1yb29mXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9saW5lXCI6e1wibGluZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWdhcC13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtb2Zmc2V0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZGFzaGFycmF5XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ncmFkaWVudFwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJsaW5lLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJsaW5lLXRyaW0tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzEsMV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifSxcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtYm9yZGVyLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWJvcmRlci1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifX0sXCJwYWludF9jaXJjbGVcIjp7XCJjaXJjbGUtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9oZWF0bWFwXCI6e1wiaGVhdG1hcC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMCxcIm1pbmltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC13ZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhlYXRtYXAtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcImhlYXRtYXAtZGVuc2l0eVwiXSwwLFwicmdiYSgwLCAwLCAyNTUsIDApXCIsMC4xLFwicm95YWxibHVlXCIsMC4zLFwiY3lhblwiLDAuNSxcImxpbWVcIiwwLjcsXCJ5ZWxsb3dcIiwxLFwicmVkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiaGVhdG1hcC1kZW5zaXR5XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJoZWF0bWFwLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3N5bWJvbFwiOntcImljb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8td2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taW1hZ2UtY3Jvc3MtZmFkZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwidGV4dC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwib3ZlcnJpZGFibGVcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8td2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tY29sb3Itc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3Jhc3RlclwiOntcInJhc3Rlci1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJyYXN0ZXItdmFsdWVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcInJhc3Rlci1jb2xvci1taXhcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlswLjIxMjYsMC43MTUyLDAuMDcyMiwwXSxcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInJhc3Rlci1jb2xvci1yYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXNhdHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOi0xLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1jb250cmFzdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXJlc2FtcGxpbmdcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJsaW5lYXJcIjoxLFwibmVhcmVzdFwiOjF9LFwiZGVmYXVsdFwiOlwibGluZWFyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1hcnJheS1iYW5kXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1lbGV2YXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9yYXN0ZXItcGFydGljbGVcIjp7XCJyYXN0ZXItcGFydGljbGUtYXJyYXktYmFuZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcGFydGljbGUtY291bnRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTIsXCJtaW5pbXVtXCI6MSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcGFydGljbGUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wicmFzdGVyLXBhcnRpY2xlLXNwZWVkXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJyYXN0ZXItcGFydGljbGUtbWF4LXNwZWVkXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjoxLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1wYXJ0aWNsZS1zcGVlZC1mYWN0b3JcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcGFydGljbGUtZmFkZS1vcGFjaXR5LWZhY3RvclwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuOTgsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcGFydGljbGUtcmVzZXQtcmF0ZS1mYWN0b3JcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjgsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9oaWxsc2hhZGVcIjp7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMzNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjM1OSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI0ZGRkZGRlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc2t5XCI6e1wic2t5LXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJncmFkaWVudFwiOjEsXCJhdG1vc3BoZXJlXCI6MX0sXCJkZWZhdWx0XCI6XCJhdG1vc3BoZXJlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1blwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOlswLDBdLFwibGVuZ3RoXCI6MixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo5MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjE4MCxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50XCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdLDAuOCxcIiM4N2NlZWJcIiwxLFwid2hpdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfbW9kZWxcIjp7XCJtb2RlbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcIm1vZGVsLXJvdGF0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzAsMCwwXSxcInBlcmlvZFwiOjM2MCxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXNjYWxlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzEsMSwxXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXRyYW5zbGF0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjMsXCJkZWZhdWx0XCI6WzAsMCwwXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCIsXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjb21tb24tM2RcIjoxLFwibG9jYXRpb24taW5kaWNhdG9yXCI6MX0sXCJkZWZhdWx0XCI6XCJjb21tb24tM2RcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1jYXN0LXNoYWRvd3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJtb2RlbC1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLXJvdWdobmVzc1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtaGVpZ2h0LWJhc2VkLWVtaXNzaXZlLXN0cmVuZ3RoLW11bHRpcGxpZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLDEsMSwxLDBdLFwibGVuZ3RoXCI6NSxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInRyYW5zaXRpb25cIjp7XCJkdXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwMCxcIm1pbmltdW1cIjowfSxcImRlbGF5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowfX0sXCJwcm9wZXJ0eS10eXBlXCI6e1wiZGF0YS1kcml2ZW5cIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29sb3ItcmFtcFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJkYXRhLWNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifX0sXCJwcm9tb3RlSWRcIjp7XCIqXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9fX0nKTtmdW5jdGlvbiAkYSh0KXtpZighMD09PXR8fCExPT09dClyZXR1cm4gITA7aWYoIUFycmF5LmlzQXJyYXkodCl8fDA9PT10Lmxlbmd0aClyZXR1cm4gITE7c3dpdGNoKHRbMF0pe2Nhc2VcImhhc1wiOnJldHVybiB0Lmxlbmd0aD49MiYmXCIkaWRcIiE9PXRbMV0mJlwiJHR5cGVcIiE9PXRbMV07Y2FzZVwiaW5cIjpyZXR1cm4gdC5sZW5ndGg+PTMmJihcInN0cmluZ1wiIT10eXBlb2YgdFsxXXx8QXJyYXkuaXNBcnJheSh0WzJdKSk7Y2FzZVwiIWluXCI6Y2FzZVwiIWhhc1wiOmNhc2VcIm5vbmVcIjpyZXR1cm4gITE7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjxcIjpjYXNlXCI8PVwiOnJldHVybiAzIT09dC5sZW5ndGh8fEFycmF5LmlzQXJyYXkodFsxXSl8fEFycmF5LmlzQXJyYXkodFsyXSk7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Zm9yKGNvbnN0IGUgb2YgdC5zbGljZSgxKSlpZighJGEoZSkmJlwiYm9vbGVhblwiIT10eXBlb2YgZSlyZXR1cm4gITE7cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICEwfX1mdW5jdGlvbiBHYSh0LGU9XCJmaWxsXCIpe2lmKG51bGw9PXQpcmV0dXJuIHtmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX07JGEodCl8fCh0PUphKHQpKTtjb25zdCByPXQ7bGV0IG49ITA7dHJ5e249ZnVuY3Rpb24odCl7aWYoIVphKHQpKXJldHVybiB0O2xldCBlPWphKHQpO3JldHVybiBYYShlKSxlPVlhKGUpLGV9KHIpO31jYXRjaCh0KXtjb25zb2xlLndhcm4oYEZhaWxlZCB0byBleHRyYWN0IHN0YXRpYyBmaWx0ZXIuIEZpbHRlciB3aWxsIGNvbnRpbnVlIHdvcmtpbmcsIGJ1dCBhdCBoaWdoZXIgbWVtb3J5IHVzYWdlIGFuZCBzbG93ZXIgZnJhbWVyYXRlLlxcblRoaXMgaXMgbW9zdCBsaWtlbHkgYSBidWcsIHBsZWFzZSByZXBvcnQgdGhpcyB2aWEgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzL25ldz9hc3NpZ25lZXM9JmxhYmVscz0mdGVtcGxhdGU9QnVnX3JlcG9ydC5tZFxcbmFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGhpcyBtZXNzYWdlIGluIHRoZSByZXBvcnQuXFxuVGhhbmsgeW91IVxcbkZpbHRlciBFeHByZXNzaW9uOlxcbiR7SlNPTi5zdHJpbmdpZnkocixudWxsLDIpfVxcbiAgICAgICAgYCk7fWNvbnN0IGk9cWFbYGZpbHRlcl8ke2V9YF0sYT1HaShuLGkpO2xldCBzPW51bGw7aWYoXCJlcnJvclwiPT09YS5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKGEudmFsdWUubWFwKCh0PT5gJHt0LmtleX06ICR7dC5tZXNzYWdlfWApKS5qb2luKFwiLCBcIikpO3M9KHQsZSxyKT0+YS52YWx1ZS5ldmFsdWF0ZSh0LGUse30scik7bGV0IG89bnVsbCxsPW51bGw7aWYobiE9PXIpe2NvbnN0IHQ9R2kocixpKTtpZihcImVycm9yXCI9PT10LnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IodC52YWx1ZS5tYXAoKHQ9PmAke3Qua2V5fTogJHt0Lm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7bz0oZSxyLG4saSxhKT0+dC52YWx1ZS5ldmFsdWF0ZShlLHIse30sbix2b2lkIDAsdm9pZCAwLGksYSksbD0hZG4odC52YWx1ZS5leHByZXNzaW9uKTt9cmV0dXJuIHtmaWx0ZXI6cyxkeW5hbWljRmlsdGVyOm98fHZvaWQgMCxuZWVkR2VvbWV0cnk6V2EobiksbmVlZEZlYXR1cmU6ISFsfX1mdW5jdGlvbiBZYSh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtjb25zdCBlPWZ1bmN0aW9uKHQpe2lmKEthLmhhcyh0WzBdKSlmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylpZihaYSh0W2VdKSlyZXR1cm4gITA7cmV0dXJuIHR9KHQpO3JldHVybiAhMD09PWU/ZTplLm1hcCgodD0+WWEodCkpKX1mdW5jdGlvbiBYYSh0KXtsZXQgZT0hMTtjb25zdCByPVtdO2lmKFwiY2FzZVwiPT09dFswXSl7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aC0xO24rPTIpZT1lfHxaYSh0W25dKSxyLnB1c2godFtuKzFdKTtyLnB1c2godFt0Lmxlbmd0aC0xXSk7fWVsc2UgaWYoXCJtYXRjaFwiPT09dFswXSl7ZT1lfHxaYSh0WzFdKTtmb3IobGV0IGU9MjtlPHQubGVuZ3RoLTE7ZSs9MilyLnB1c2godFtlKzFdKTtyLnB1c2godFt0Lmxlbmd0aC0xXSk7fWVsc2UgaWYoXCJzdGVwXCI9PT10WzBdKXtlPWV8fFphKHRbMV0pO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGgtMTtlKz0yKXIucHVzaCh0W2UrMV0pO31lJiYodC5sZW5ndGg9MCx0LnB1c2goXCJhbnlcIiwuLi5yKSk7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspWGEodFtlXSk7fWZ1bmN0aW9uIFphKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiAhMTtpZihcInBpdGNoXCI9PT0oZT10WzBdKXx8XCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiPT09ZSlyZXR1cm4gITA7dmFyIGU7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspaWYoWmEodFtlXSkpcmV0dXJuICEwO3JldHVybiAhMX1jb25zdCBLYT1uZXcgU2V0KFtcImluXCIsXCI9PVwiLFwiIT1cIixcIj5cIixcIj49XCIsXCI8XCIsXCI8PVwiLFwidG8tYm9vbGVhblwiXSk7ZnVuY3Rpb24gSGEodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9ZnVuY3Rpb24gV2EodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuICExO2lmKFwid2l0aGluXCI9PT10WzBdfHxcImRpc3RhbmNlXCI9PT10WzBdKXJldHVybiAhMDtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKylpZihXYSh0W2VdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEphKHQpe2lmKCF0KXJldHVybiAhMDtjb25zdCBlPXRbMF07cmV0dXJuIHQubGVuZ3RoPD0xP1wiYW55XCIhPT1lOlwiPT1cIj09PWU/UWEodFsxXSx0WzJdLFwiPT1cIik6XCIhPVwiPT09ZT9ycyhRYSh0WzFdLHRbMl0sXCI9PVwiKSk6XCI8XCI9PT1lfHxcIj5cIj09PWV8fFwiPD1cIj09PWV8fFwiPj1cIj09PWU/UWEodFsxXSx0WzJdLGUpOlwiYW55XCI9PT1lPyhyPXQuc2xpY2UoMSksW1wiYW55XCJdLmNvbmNhdChyLm1hcChKYSkpKTpcImFsbFwiPT09ZT9bXCJhbGxcIl0uY29uY2F0KHQuc2xpY2UoMSkubWFwKEphKSk6XCJub25lXCI9PT1lP1tcImFsbFwiXS5jb25jYXQodC5zbGljZSgxKS5tYXAoSmEpLm1hcChycykpOlwiaW5cIj09PWU/dHModFsxXSx0LnNsaWNlKDIpKTpcIiFpblwiPT09ZT9ycyh0cyh0WzFdLHQuc2xpY2UoMikpKTpcImhhc1wiPT09ZT9lcyh0WzFdKTpcIiFoYXNcIiE9PWV8fHJzKGVzKHRbMV0pKTt2YXIgcjt9ZnVuY3Rpb24gUWEodCxlLHIpe3N3aXRjaCh0KXtjYXNlXCIkdHlwZVwiOnJldHVybiBbYGZpbHRlci10eXBlLSR7cn1gLGVdO2Nhc2VcIiRpZFwiOnJldHVybiBbYGZpbHRlci1pZC0ke3J9YCxlXTtkZWZhdWx0OnJldHVybiBbYGZpbHRlci0ke3J9YCx0LGVdfX1mdW5jdGlvbiB0cyh0LGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gITE7c3dpdGNoKHQpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuIFtcImZpbHRlci10eXBlLWluXCIsW1wibGl0ZXJhbFwiLGVdXTtjYXNlXCIkaWRcIjpyZXR1cm4gW1wiZmlsdGVyLWlkLWluXCIsW1wibGl0ZXJhbFwiLGVdXTtkZWZhdWx0OnJldHVybiBlLmxlbmd0aD4yMDAmJiFlLnNvbWUoKHQ9PnR5cGVvZiB0IT10eXBlb2YgZVswXSkpP1tcImZpbHRlci1pbi1sYXJnZVwiLHQsW1wibGl0ZXJhbFwiLGUuc29ydChIYSldXTpbXCJmaWx0ZXItaW4tc21hbGxcIix0LFtcImxpdGVyYWxcIixlXV19fWZ1bmN0aW9uIGVzKHQpe3N3aXRjaCh0KXtjYXNlXCIkdHlwZVwiOnJldHVybiAhMDtjYXNlXCIkaWRcIjpyZXR1cm4gW1wiZmlsdGVyLWhhcy1pZFwiXTtkZWZhdWx0OnJldHVybiBbXCJmaWx0ZXItaGFzXCIsdF19fWZ1bmN0aW9uIHJzKHQpe3JldHVybiBbXCIhXCIsdF19Y29uc3QgbnM9XCJcdTAwMWZcIjtmdW5jdGlvbiBpcyh0LGUpe3JldHVybiBlP2Ake3R9JHtuc30ke2V9YDp0fWNvbnN0IGFzPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBzcyBleHRlbmRzIGVle2NvbnN0cnVjdG9yKHQsZSxyLG4pe2lmKHN1cGVyKCksdGhpcy5pZD10LmlkLHRoaXMuZnFpZD1pcyh0aGlzLmlkLHIpLHRoaXMudHlwZT10LnR5cGUsdGhpcy5zY29wZT1yLHRoaXMub3B0aW9ucz1uLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSExLFwiY3VzdG9tXCIhPT10LnR5cGUmJih0aGlzLm1ldGFkYXRhPXQubWV0YWRhdGEsdGhpcy5taW56b29tPXQubWluem9vbSx0aGlzLm1heHpvb209dC5tYXh6b29tLFwiYmFja2dyb3VuZFwiIT09dC50eXBlJiZcInNreVwiIT09dC50eXBlJiZcInNsb3RcIiE9PXQudHlwZSYmKHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9dFtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj10LmZpbHRlciksdC5zbG90JiYodGhpcy5zbG90PXQuc2xvdCksZS5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgUmEoZS5sYXlvdXQsdGhpcy5zY29wZSxuKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmlzQ29uZmlnRGVwZW5kZW50KSxlLnBhaW50KSl7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgVGEoZS5wYWludCx0aGlzLnNjb3BlLG4pO2Zvcihjb25zdCBlIGluIHQucGFpbnQpdGhpcy5zZXRQYWludFByb3BlcnR5KGUsdC5wYWludFtlXSk7Zm9yKGNvbnN0IGUgaW4gdC5sYXlvdXQpdGhpcy5zZXRMYXlvdXRQcm9wZXJ0eShlLHQubGF5b3V0W2VdKTt0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuaXNDb25maWdEZXBlbmRlbnQsdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBWYShlLnBhaW50KTt9fWdldExheW91dFByb3BlcnR5KHQpe3JldHVybiBcInZpc2liaWxpdHlcIj09PXQ/dGhpcy52aXNpYmlsaXR5OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKHQpfXNldExheW91dFByb3BlcnR5KHQsZSl7aWYoXCJjdXN0b21cIj09PXRoaXMudHlwZSYmXCJ2aXNpYmlsaXR5XCI9PT10KXJldHVybiB2b2lkKHRoaXMudmlzaWJpbGl0eT1lKTtjb25zdCByPXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0O3IuX3Byb3BlcnRpZXMucHJvcGVydGllc1t0XSYmKHIuc2V0VmFsdWUodCxlKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHIuaXNDb25maWdEZXBlbmRlbnQsXCJ2aXNpYmlsaXR5XCI9PT10JiZ0aGlzLnBvc3NpYmx5RXZhbHVhdGVWaXNpYmlsaXR5KCkpO31wb3NzaWJseUV2YWx1YXRlVmlzaWJpbGl0eSgpe3RoaXMudmlzaWJpbGl0eT10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLnZpc2liaWxpdHkucG9zc2libHlFdmFsdWF0ZSh7em9vbTowfSk7fWdldFBhaW50UHJvcGVydHkodCl7cmV0dXJuIEwodCxhcyk/dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRUcmFuc2l0aW9uKHQuc2xpY2UoMCwtMTEpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKHQpfXNldFBhaW50UHJvcGVydHkodCxlKXtjb25zdCByPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQsbj1yLl9wcm9wZXJ0aWVzLnByb3BlcnRpZXM7aWYoTCh0LGFzKSl7Y29uc3QgaT10LnNsaWNlKDAsLTExKTtyZXR1cm4gbltpXSYmci5zZXRUcmFuc2l0aW9uKGksZXx8dm9pZCAwKSwhMX1pZighblt0XSlyZXR1cm4gITE7Y29uc3QgaT1yLl92YWx1ZXNbdF0sYT1pLnZhbHVlLmlzRGF0YURyaXZlbigpLHM9aS52YWx1ZTtyLnNldFZhbHVlKHQsZSksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD10aGlzLmlzQ29uZmlnRGVwZW5kZW50fHxyLmlzQ29uZmlnRGVwZW5kZW50LHRoaXMuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpO2NvbnN0IG89ci5fdmFsdWVzW3RdLnZhbHVlLGw9by5pc0RhdGFEcml2ZW4oKSx1PUwodCxcInBhdHRlcm5cIil8fFwibGluZS1kYXNoYXJyYXlcIj09PXQ7cmV0dXJuIGx8fGF8fHV8fHRoaXMuX2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0LHMsbyl9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpe31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIG51bGx9Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXModCxlKXtyZXR1cm4gbnVsbH1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKHQsZSxyKXtyZXR1cm4gITF9aXNIaWRkZW4odCl7cmV0dXJuICEhKHRoaXMubWluem9vbSYmdDx0aGlzLm1pbnpvb20pfHwhISh0aGlzLm1heHpvb20mJnQ+PXRoaXMubWF4em9vbSl8fFwibm9uZVwiPT09dGhpcy52aXNpYmlsaXR5fXVwZGF0ZVRyYW5zaXRpb25zKHQpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZCh0LHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Lmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZSh0LGUpe3RoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiYodGhpcy5sYXlvdXQ9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQucG9zc2libHlFdmFsdWF0ZSh0LHZvaWQgMCxlKSksdGhpcy5wYWludD10aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQucG9zc2libHlFdmFsdWF0ZSh0LHZvaWQgMCxlKTt9c2VyaWFsaXplKCl7cmV0dXJuIE4oe2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc2xvdDp0aGlzLnNsb3Qsc291cmNlOnRoaXMuc291cmNlLFwic291cmNlLWxheWVyXCI6dGhpcy5zb3VyY2VMYXllcixtZXRhZGF0YTp0aGlzLm1ldGFkYXRhLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLGZpbHRlcjp0aGlzLmZpbHRlcixsYXlvdXQ6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNlcmlhbGl6ZSgpLHBhaW50OnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQmJnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2VyaWFsaXplKCl9LCgodCxlKT0+ISh2b2lkIDA9PT10fHxcImxheW91dFwiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aHx8XCJwYWludFwiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aCkpKX1pczNEKCl7cmV0dXJuICExfWlzU2t5KCl7cmV0dXJuICExfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4gITF9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAhMX1oYXNTaGFkb3dQYXNzKCl7cmV0dXJuICExfWNhbkNhc3RTaGFkb3dzKCl7cmV0dXJuICExfWhhc0xpZ2h0QmVhbVBhc3MoKXtyZXR1cm4gITF9Y3V0b2ZmUmFuZ2UoKXtyZXR1cm4gMH10aWxlQ292ZXJMaWZ0KCl7cmV0dXJuIDB9cmVzaXplKCl7fWlzU3RhdGVEZXBlbmRlbnQoKXtmb3IoY29uc3QgdCBpbiB0aGlzLnBhaW50Ll92YWx1ZXMpe2NvbnN0IGU9dGhpcy5wYWludC5nZXQodCk7aWYoZSBpbnN0YW5jZW9mIERhJiZUaShlLnByb3BlcnR5LnNwZWNpZmljYXRpb24pJiYoXCJzb3VyY2VcIj09PWUudmFsdWUua2luZHx8XCJjb21wb3NpdGVcIj09PWUudmFsdWUua2luZCkmJmUudmFsdWUuaXNTdGF0ZURlcGVuZGVudClyZXR1cm4gITB9cmV0dXJuICExfWNvbXBpbGVGaWx0ZXIoKXt0aGlzLl9maWx0ZXJDb21waWxlZHx8KHRoaXMuX2ZlYXR1cmVGaWx0ZXI9R2EodGhpcy5maWx0ZXIpLHRoaXMuX2ZpbHRlckNvbXBpbGVkPSEwKTt9aW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITE7fWR5bmFtaWNGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5keW5hbWljRmlsdGVyfWR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5uZWVkRmVhdHVyZX1nZXRMYXllclJlbmRlcmluZ1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzfXJlc2V0TGF5ZXJSZW5kZXJpbmdTdGF0cyh0KXt0aGlzLl9zdGF0cyYmKFwic2hhZG93XCI9PT10LnJlbmRlclBhc3M/dGhpcy5fc3RhdHMubnVtUmVuZGVyZWRWZXJ0aWNlc0luU2hhZG93UGFzcz0wOnRoaXMuX3N0YXRzLm51bVJlbmRlcmVkVmVydGljZXNJblRyYW5zcGFyZW50UGFzcz0wKTt9fWNvbnN0IG9zPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fTtjbGFzcyBsc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3N0cnVjdEFycmF5PXQsdGhpcy5fcG9zMT1lKnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvODt9fWNsYXNzIHVze2NvbnN0cnVjdG9yKCl7dGhpcy5pc1RyYW5zZmVycmVkPSExLHRoaXMuY2FwYWNpdHk9LTEsdGhpcy5yZXNpemUoMCk7fXN0YXRpYyBzZXJpYWxpemUodCxlKXtyZXR1cm4gdC5fdHJpbSgpLGUmJih0LmlzVHJhbnNmZXJyZWQ9ITAsZS5hZGQodC5hcnJheUJ1ZmZlcikpLHtsZW5ndGg6dC5sZW5ndGgsYXJyYXlCdWZmZXI6dC5hcnJheUJ1ZmZlcn19c3RhdGljIGRlc2VyaWFsaXplKHQpe2NvbnN0IGU9T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGUuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcixlLmxlbmd0aD10Lmxlbmd0aCxlLmNhcGFjaXR5PXQuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC9lLmJ5dGVzUGVyRWxlbWVudCxlLl9yZWZyZXNoVmlld3MoKSxlfV90cmltKCl7dGhpcy5sZW5ndGghPT10aGlzLmNhcGFjaXR5JiYodGhpcy5jYXBhY2l0eT10aGlzLmxlbmd0aCx0aGlzLmFycmF5QnVmZmVyPXRoaXMuYXJyYXlCdWZmZXIuc2xpY2UoMCx0aGlzLmxlbmd0aCp0aGlzLmJ5dGVzUGVyRWxlbWVudCksdGhpcy5fcmVmcmVzaFZpZXdzKCkpO31jbGVhcigpe3RoaXMubGVuZ3RoPTA7fXJlc2l6ZSh0KXt0aGlzLnJlc2VydmUodCksdGhpcy5sZW5ndGg9dDt9cmVzZXJ2ZSh0KXtpZih0PnRoaXMuY2FwYWNpdHkpe3RoaXMuY2FwYWNpdHk9TWF0aC5tYXgodCxNYXRoLmZsb29yKDUqdGhpcy5jYXBhY2l0eSksMTI4KSx0aGlzLmFycmF5QnVmZmVyPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmNhcGFjaXR5KnRoaXMuYnl0ZXNQZXJFbGVtZW50KTtjb25zdCBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSk7fX1fcmVmcmVzaFZpZXdzKCl7dGhyb3cgbmV3IEVycm9yKFwiU3RydWN0QXJyYXkjX3JlZnJlc2hWaWV3cygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXRcIil9ZW1wbGFjZSguLi50KXt0aHJvdyBuZXcgRXJyb3IoXCJTdHJ1Y3RBcnJheSNlbXBsYWNlKCkgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIGNvbmNyZXRlIFN0cnVjdEFycmF5IGxheW91dFwiKX1lbXBsYWNlQmFjayguLi50KXt0aHJvdyBuZXcgRXJyb3IoXCJTdHJ1Y3RBcnJheSNlbXBsYWNlQmFjaygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXRcIil9ZGVzdHJveSgpe3RoaXMuaW50OD10aGlzLnVpbnQ4PXRoaXMuaW50MTY9dGhpcy51aW50MTY9dGhpcy5pbnQzMj10aGlzLnVpbnQzMj10aGlzLmZsb2F0MzI9bnVsbCx0aGlzLmFycmF5QnVmZmVyPW51bGw7fX1mdW5jdGlvbiBjcyh0LGU9MSl7bGV0IHI9MCxuPTA7cmV0dXJuIHttZW1iZXJzOnQubWFwKCh0PT57Y29uc3QgaT1vc1t0LnR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULGE9cj1ocyhyLE1hdGgubWF4KGUsaSkpLHM9dC5jb21wb25lbnRzfHwxO3JldHVybiBuPU1hdGgubWF4KG4saSkscis9aSpzLHtuYW1lOnQubmFtZSx0eXBlOnQudHlwZSxjb21wb25lbnRzOnMsb2Zmc2V0OmF9fSkpLHNpemU6aHMocixNYXRoLm1heChuLGUpKSxhbGlnbm1lbnQ6ZX19ZnVuY3Rpb24gaHModCxlKXtyZXR1cm4gTWF0aC5jZWlsKHQvZSkqZX1jbGFzcyBwcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfWVtcGxhY2UodCxlLHIpe2NvbnN0IG49Mip0O3JldHVybiB0aGlzLmludDE2W24rMF09ZSx0aGlzLmludDE2W24rMV09cix0fX1wcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQscmEocHMsXCJTdHJ1Y3RBcnJheUxheW91dDJpNFwiKTtjbGFzcyBmcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX1lbXBsYWNlKHQsZSxyLG4pe2NvbnN0IGk9Myp0O3JldHVybiB0aGlzLmludDE2W2krMF09ZSx0aGlzLmludDE2W2krMV09cix0aGlzLmludDE2W2krMl09bix0fX1mcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYscmEoZnMsXCJTdHJ1Y3RBcnJheUxheW91dDNpNlwiKTtjbGFzcyBkcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksdCxlLHIsbil9ZW1wbGFjZSh0LGUscixuLGkpe2NvbnN0IGE9NCp0O3JldHVybiB0aGlzLmludDE2W2ErMF09ZSx0aGlzLmludDE2W2ErMV09cix0aGlzLmludDE2W2ErMl09bix0aGlzLmludDE2W2ErM109aSx0fX1kcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgscmEoZHMsXCJTdHJ1Y3RBcnJheUxheW91dDRpOFwiKTtjbGFzcyBtcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSx0LGUscixuLGkpfWVtcGxhY2UodCxlLHIsbixpLGEpe2NvbnN0IHM9NSp0O3JldHVybiB0aGlzLmludDE2W3MrMF09ZSx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0aGlzLmludDE2W3MrNF09YSx0fX1tcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEwLHJhKG1zLFwiU3RydWN0QXJyYXlMYXlvdXQ1aTEwXCIpO2NsYXNzIHlzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLGEscyl7Y29uc3Qgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2Uobyx0LGUscixuLGksYSxzKX1lbXBsYWNlKHQsZSxyLG4saSxhLHMsbyl7Y29uc3QgbD02KnQsdT0xMip0LGM9Myp0O3JldHVybiB0aGlzLmludDE2W2wrMF09ZSx0aGlzLmludDE2W2wrMV09cix0aGlzLnVpbnQ4W3UrNF09bix0aGlzLnVpbnQ4W3UrNV09aSx0aGlzLnVpbnQ4W3UrNl09YSx0aGlzLnVpbnQ4W3UrN109cyx0aGlzLmZsb2F0MzJbYysyXT1vLHR9fXlzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIscmEoeXMsXCJTdHJ1Y3RBcnJheUxheW91dDJpNHViMWYxMlwiKTtjbGFzcyBncyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLHQsZSxyLG4pfWVtcGxhY2UodCxlLHIsbixpKXtjb25zdCBhPTQqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0fX1ncy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LHJhKGdzLFwiU3RydWN0QXJyYXlMYXlvdXQ0ZjE2XCIpO2NsYXNzIHhzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsdCxlLHIsbixpKX1lbXBsYWNlKHQsZSxyLG4saSxhKXtjb25zdCBzPTYqdCxvPTMqdDtyZXR1cm4gdGhpcy51aW50MTZbcyswXT1lLHRoaXMudWludDE2W3MrMV09cix0aGlzLnVpbnQxNltzKzJdPW4sdGhpcy51aW50MTZbcyszXT1pLHRoaXMuZmxvYXQzMltvKzJdPWEsdH19eHMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixyYSh4cyxcIlN0cnVjdEFycmF5TGF5b3V0NHVpMWYxMlwiKTtjbGFzcyB2cyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3QgYT00KnQ7cmV0dXJuIHRoaXMudWludDE2W2ErMF09ZSx0aGlzLnVpbnQxNlthKzFdPXIsdGhpcy51aW50MTZbYSsyXT1uLHRoaXMudWludDE2W2ErM109aSx0fX12cy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgscmEodnMsXCJTdHJ1Y3RBcnJheUxheW91dDR1aThcIik7Y2xhc3MgYnMgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2Uocyx0LGUscixuLGksYSl9ZW1wbGFjZSh0LGUscixuLGksYSxzKXtjb25zdCBvPTYqdDtyZXR1cm4gdGhpcy5pbnQxNltvKzBdPWUsdGhpcy5pbnQxNltvKzFdPXIsdGhpcy5pbnQxNltvKzJdPW4sdGhpcy5pbnQxNltvKzNdPWksdGhpcy5pbnQxNltvKzRdPWEsdGhpcy5pbnQxNltvKzVdPXMsdH19YnMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixyYShicyxcIlN0cnVjdEFycmF5TGF5b3V0NmkxMlwiKTtjbGFzcyBfcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSxzLG8sbCx1LGMsaCl7Y29uc3QgcD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocCsxKSx0aGlzLmVtcGxhY2UocCx0LGUscixuLGksYSxzLG8sbCx1LGMsaCl9ZW1wbGFjZSh0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwKXtjb25zdCBmPTEyKnQ7cmV0dXJuIHRoaXMuaW50MTZbZiswXT1lLHRoaXMuaW50MTZbZisxXT1yLHRoaXMuaW50MTZbZisyXT1uLHRoaXMuaW50MTZbZiszXT1pLHRoaXMudWludDE2W2YrNF09YSx0aGlzLnVpbnQxNltmKzVdPXMsdGhpcy51aW50MTZbZis2XT1vLHRoaXMudWludDE2W2YrN109bCx0aGlzLmludDE2W2YrOF09dSx0aGlzLmludDE2W2YrOV09Yyx0aGlzLmludDE2W2YrMTBdPWgsdGhpcy5pbnQxNltmKzExXT1wLHR9fV9zLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjQscmEoX3MsXCJTdHJ1Y3RBcnJheUxheW91dDRpNHVpNGkyNFwiKTtjbGFzcyB3cyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxhKXtjb25zdCBzPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShzKzEpLHRoaXMuZW1wbGFjZShzLHQsZSxyLG4saSxhKX1lbXBsYWNlKHQsZSxyLG4saSxhLHMpe2NvbnN0IG89MTAqdCxsPTUqdDtyZXR1cm4gdGhpcy5pbnQxNltvKzBdPWUsdGhpcy5pbnQxNltvKzFdPXIsdGhpcy5pbnQxNltvKzJdPW4sdGhpcy5mbG9hdDMyW2wrMl09aSx0aGlzLmZsb2F0MzJbbCszXT1hLHRoaXMuZmxvYXQzMltsKzRdPXMsdH19d3MucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxyYSh3cyxcIlN0cnVjdEFycmF5TGF5b3V0M2kzZjIwXCIpO2NsYXNzIE1zIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0KXtjb25zdCBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfWVtcGxhY2UodCxlKXtyZXR1cm4gdGhpcy51aW50MzJbMSp0KzBdPWUsdH19TXMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LHJhKE1zLFwiU3RydWN0QXJyYXlMYXlvdXQxdWw0XCIpO2NsYXNzIEFzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsdCxlKX1lbXBsYWNlKHQsZSxyKXtjb25zdCBuPTIqdDtyZXR1cm4gdGhpcy51aW50MTZbbiswXT1lLHRoaXMudWludDE2W24rMV09cix0fX1Bcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQscmEoQXMsXCJTdHJ1Y3RBcnJheUxheW91dDJ1aTRcIik7Y2xhc3MgU3MgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxhLHMsbyxsLHUsYyxoLHApe2NvbnN0IGY9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGYrMSksdGhpcy5lbXBsYWNlKGYsdCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCl9ZW1wbGFjZSh0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwLGYpe2NvbnN0IGQ9MjAqdCxtPTEwKnQ7cmV0dXJuIHRoaXMuaW50MTZbZCswXT1lLHRoaXMuaW50MTZbZCsxXT1yLHRoaXMuaW50MTZbZCsyXT1uLHRoaXMuaW50MTZbZCszXT1pLHRoaXMuaW50MTZbZCs0XT1hLHRoaXMuZmxvYXQzMlttKzNdPXMsdGhpcy5mbG9hdDMyW20rNF09byx0aGlzLmZsb2F0MzJbbSs1XT1sLHRoaXMuZmxvYXQzMlttKzZdPXUsdGhpcy5pbnQxNltkKzE0XT1jLHRoaXMudWludDMyW20rOF09aCx0aGlzLnVpbnQxNltkKzE4XT1wLHRoaXMudWludDE2W2QrMTldPWYsdH19U3MucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00MCxyYShTcyxcIlN0cnVjdEFycmF5TGF5b3V0NWk0ZjFpMXVsMnVpNDBcIik7Y2xhc3MgSXMgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSxzKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhLHMpfWVtcGxhY2UodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPTgqdDtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPWUsdGhpcy5pbnQxNltsKzFdPXIsdGhpcy5pbnQxNltsKzJdPW4sdGhpcy5pbnQxNltsKzRdPWksdGhpcy5pbnQxNltsKzVdPWEsdGhpcy5pbnQxNltsKzZdPXMsdGhpcy5pbnQxNltsKzddPW8sdH19SXMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixyYShJcyxcIlN0cnVjdEFycmF5TGF5b3V0M2kyaTJpMTZcIik7Y2xhc3Mga3MgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsdCxlLHIsbixpKX1lbXBsYWNlKHQsZSxyLG4saSxhKXtjb25zdCBzPTQqdCxvPTgqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW3MrMF09ZSx0aGlzLmZsb2F0MzJbcysxXT1yLHRoaXMuZmxvYXQzMltzKzJdPW4sdGhpcy5pbnQxNltvKzZdPWksdGhpcy5pbnQxNltvKzddPWEsdH19a3MucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixyYShrcyxcIlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTZcIik7Y2xhc3MgUHMgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3QgYT0xMip0LHM9Myp0O3JldHVybiB0aGlzLnVpbnQ4W2ErMF09ZSx0aGlzLnVpbnQ4W2ErMV09cix0aGlzLmZsb2F0MzJbcysxXT1uLHRoaXMuZmxvYXQzMltzKzJdPWksdH19UHMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixyYShQcyxcIlN0cnVjdEFycmF5TGF5b3V0MnViMmYxMlwiKTtjbGFzcyBFcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfWVtcGxhY2UodCxlLHIsbil7Y29uc3QgaT0zKnQ7cmV0dXJuIHRoaXMudWludDE2W2krMF09ZSx0aGlzLnVpbnQxNltpKzFdPXIsdGhpcy51aW50MTZbaSsyXT1uLHR9fUVzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixyYShFcyxcIlN0cnVjdEFycmF5TGF5b3V0M3VpNlwiKTtjbGFzcyB6cyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LGcseCx2LGIpe2NvbnN0IF89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKF8rMSksdGhpcy5lbXBsYWNlKF8sdCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LGcseCx2LGIpfWVtcGxhY2UodCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LGcseCx2LGIsXyl7Y29uc3Qgdz0zMCp0LE09MTUqdCxBPTYwKnQ7cmV0dXJuIHRoaXMuaW50MTZbdyswXT1lLHRoaXMuaW50MTZbdysxXT1yLHRoaXMuaW50MTZbdysyXT1uLHRoaXMuZmxvYXQzMltNKzJdPWksdGhpcy5mbG9hdDMyW00rM109YSx0aGlzLnVpbnQxNlt3KzhdPXMsdGhpcy51aW50MTZbdys5XT1vLHRoaXMudWludDMyW00rNV09bCx0aGlzLnVpbnQzMltNKzZdPXUsdGhpcy51aW50MzJbTSs3XT1jLHRoaXMudWludDE2W3crMTZdPWgsdGhpcy51aW50MTZbdysxN109cCx0aGlzLnVpbnQxNlt3KzE4XT1mLHRoaXMuZmxvYXQzMltNKzEwXT1kLHRoaXMuZmxvYXQzMltNKzExXT1tLHRoaXMudWludDhbQSs0OF09eSx0aGlzLnVpbnQ4W0ErNDldPWcsdGhpcy51aW50OFtBKzUwXT14LHRoaXMudWludDMyW00rMTNdPXYsdGhpcy5pbnQxNlt3KzI4XT1iLHRoaXMudWludDhbQSs1OF09Xyx0fX16cy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYwLHJhKHpzLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJmMnVpM3VsM3VpMmYzdWIxdWwxaTF1YjYwXCIpO2NsYXNzIFRzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwLGYsZCxtLHksZyx4LHYsYixfLHcsTSxBLFMsSSxrLFAsRSx6LFQpe2NvbnN0IEI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKEIrMSksdGhpcy5lbXBsYWNlKEIsdCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LGcseCx2LGIsXyx3LE0sQSxTLEksayxQLEUseixUKX1lbXBsYWNlKHQsZSxyLG4saSxhLHMsbyxsLHUsYyxoLHAsZixkLG0seSxnLHgsdixiLF8sdyxNLEEsUyxJLGssUCxFLHosVCxCKXtjb25zdCBDPTIwKnQsUj00MCp0LEQ9ODAqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW0MrMF09ZSx0aGlzLmZsb2F0MzJbQysxXT1yLHRoaXMuaW50MTZbUis0XT1uLHRoaXMuaW50MTZbUis1XT1pLHRoaXMuaW50MTZbUis2XT1hLHRoaXMuaW50MTZbUis3XT1zLHRoaXMuaW50MTZbUis4XT1vLHRoaXMuaW50MTZbUis5XT1sLHRoaXMuaW50MTZbUisxMF09dSx0aGlzLmludDE2W1IrMTFdPWMsdGhpcy5pbnQxNltSKzEyXT1oLHRoaXMudWludDE2W1IrMTNdPXAsdGhpcy51aW50MTZbUisxNF09Zix0aGlzLnVpbnQxNltSKzE1XT1kLHRoaXMudWludDE2W1IrMTZdPW0sdGhpcy51aW50MTZbUisxN109eSx0aGlzLnVpbnQxNltSKzE4XT1nLHRoaXMudWludDE2W1IrMTldPXgsdGhpcy51aW50MTZbUisyMF09dix0aGlzLnVpbnQxNltSKzIxXT1iLHRoaXMudWludDE2W1IrMjJdPV8sdGhpcy51aW50MTZbUisyM109dyx0aGlzLnVpbnQxNltSKzI0XT1NLHRoaXMudWludDE2W1IrMjVdPUEsdGhpcy51aW50MTZbUisyNl09Uyx0aGlzLnVpbnQxNltSKzI3XT1JLHRoaXMudWludDMyW0MrMTRdPWssdGhpcy5mbG9hdDMyW0MrMTVdPVAsdGhpcy5mbG9hdDMyW0MrMTZdPUUsdGhpcy5mbG9hdDMyW0MrMTddPXosdGhpcy5mbG9hdDMyW0MrMThdPVQsdGhpcy51aW50OFtEKzc2XT1CLHR9fVRzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9ODAscmEoVHMsXCJTdHJ1Y3RBcnJheUxheW91dDJmOWkxNXVpMXVsNGYxdWI4MFwiKTtjbGFzcyBCcyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0KXtjb25zdCBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfWVtcGxhY2UodCxlKXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqdCswXT1lLHR9fUJzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxyYShCcyxcIlN0cnVjdEFycmF5TGF5b3V0MWY0XCIpO2NsYXNzIENzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSx0LGUscixuLGkpfWVtcGxhY2UodCxlLHIsbixpLGEpe2NvbnN0IHM9NSp0O3JldHVybiB0aGlzLmZsb2F0MzJbcyswXT1lLHRoaXMuZmxvYXQzMltzKzFdPXIsdGhpcy5mbG9hdDMyW3MrMl09bix0aGlzLmZsb2F0MzJbcyszXT1pLHRoaXMuZmxvYXQzMltzKzRdPWEsdH19Q3MucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxyYShDcyxcIlN0cnVjdEFycmF5TGF5b3V0NWYyMFwiKTtjbGFzcyBScyBleHRlbmRzIHVze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSxzKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhLHMpfWVtcGxhY2UodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPTcqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2wrMF09ZSx0aGlzLmZsb2F0MzJbbCsxXT1yLHRoaXMuZmxvYXQzMltsKzJdPW4sdGhpcy5mbG9hdDMyW2wrM109aSx0aGlzLmZsb2F0MzJbbCs0XT1hLHRoaXMuZmxvYXQzMltsKzVdPXMsdGhpcy5mbG9hdDMyW2wrNl09byx0fX1Scy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI4LHJhKFJzLFwiU3RydWN0QXJyYXlMYXlvdXQ3ZjI4XCIpO2NsYXNzIERzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3QgYT02KnQ7cmV0dXJuIHRoaXMudWludDMyWzMqdCswXT1lLHRoaXMudWludDE2W2ErMl09cix0aGlzLnVpbnQxNlthKzNdPW4sdGhpcy51aW50MTZbYSs0XT1pLHR9fURzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIscmEoRHMsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDN1aTEyXCIpO2NsYXNzIFZzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0KXtjb25zdCBlPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShlKzEpLHRoaXMuZW1wbGFjZShlLHQpfWVtcGxhY2UodCxlKXtyZXR1cm4gdGhpcy51aW50MTZbMSp0KzBdPWUsdH19VnMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yLHJhKFZzLFwiU3RydWN0QXJyYXlMYXlvdXQxdWkyXCIpO2NsYXNzIExzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX1lbXBsYWNlKHQsZSxyLG4pe2NvbnN0IGk9Myp0O3JldHVybiB0aGlzLmZsb2F0MzJbaSswXT1lLHRoaXMuZmxvYXQzMltpKzFdPXIsdGhpcy5mbG9hdDMyW2krMl09bix0fX1Mcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLHJhKExzLFwiU3RydWN0QXJyYXlMYXlvdXQzZjEyXCIpO2NsYXNzIEZzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfWVtcGxhY2UodCxlLHIpe2NvbnN0IG49Mip0O3JldHVybiB0aGlzLmZsb2F0MzJbbiswXT1lLHRoaXMuZmxvYXQzMltuKzFdPXIsdH19RnMucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LHJhKEZzLFwiU3RydWN0QXJyYXlMYXlvdXQyZjhcIik7Y2xhc3MgTnMgZXh0ZW5kcyB1c3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSl7Y29uc3QgeT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoeSsxKSx0aGlzLmVtcGxhY2UoeSx0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwLGYsZCxtKX1lbXBsYWNlKHQsZSxyLG4saSxhLHMsbyxsLHUsYyxoLHAsZixkLG0seSl7Y29uc3QgZz0xNip0O3JldHVybiB0aGlzLmZsb2F0MzJbZyswXT1lLHRoaXMuZmxvYXQzMltnKzFdPXIsdGhpcy5mbG9hdDMyW2crMl09bix0aGlzLmZsb2F0MzJbZyszXT1pLHRoaXMuZmxvYXQzMltnKzRdPWEsdGhpcy5mbG9hdDMyW2crNV09cyx0aGlzLmZsb2F0MzJbZys2XT1vLHRoaXMuZmxvYXQzMltnKzddPWwsdGhpcy5mbG9hdDMyW2crOF09dSx0aGlzLmZsb2F0MzJbZys5XT1jLHRoaXMuZmxvYXQzMltnKzEwXT1oLHRoaXMuZmxvYXQzMltnKzExXT1wLHRoaXMuZmxvYXQzMltnKzEyXT1mLHRoaXMuZmxvYXQzMltnKzEzXT1kLHRoaXMuZmxvYXQzMltnKzE0XT1tLHRoaXMuZmxvYXQzMltnKzE1XT15LHR9fU5zLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NjQscmEoTnMsXCJTdHJ1Y3RBcnJheUxheW91dDE2ZjY0XCIpO2NsYXNzIE9zIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGksYSxzKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxhLHMpfWVtcGxhY2UodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPTEwKnQsdT01KnQ7cmV0dXJuIHRoaXMudWludDE2W2wrMF09ZSx0aGlzLnVpbnQxNltsKzFdPXIsdGhpcy51aW50MTZbbCsyXT1uLHRoaXMudWludDE2W2wrM109aSx0aGlzLmZsb2F0MzJbdSsyXT1hLHRoaXMuZmxvYXQzMlt1KzNdPXMsdGhpcy5mbG9hdDMyW3UrNF09byx0fX1Pcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLHJhKE9zLFwiU3RydWN0QXJyYXlMYXlvdXQ0dWkzZjIwXCIpO2NsYXNzIFVzIGV4dGVuZHMgdXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQpe2NvbnN0IGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9ZW1wbGFjZSh0LGUpe3JldHVybiB0aGlzLnVpbnQ4WzEqdCswXT1lLHR9fVVzLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MSxyYShVcyxcIlN0cnVjdEFycmF5TGF5b3V0MXViMVwiKTtjbGFzcyBqcyBleHRlbmRzIGxze2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCB4MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IHkxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs0XX1nZXQgeDIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzVdfWdldCB5Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNl19Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs4XX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGJ1Y2tldEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX19anMucHJvdG90eXBlLnNpemU9NDA7Y2xhc3MgcXMgZXh0ZW5kcyBTc3tnZXQodCl7cmV0dXJuIG5ldyBqcyh0aGlzLHQpfX1yYShxcyxcIkNvbGxpc2lvbkJveEFycmF5XCIpO2NsYXNzICRzIGV4dGVuZHMgbHN7Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCBnbHlwaFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF19Z2V0IG51bUdseXBocygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX1nZXQgdmVydGV4U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs1XX1nZXQgbGluZVN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNl19Z2V0IGxpbmVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrN119Z2V0IHNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCBsb3dlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB1cHBlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBsaW5lT2Zmc2V0WCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTBdfWdldCBsaW5lT2Zmc2V0WSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTFdfWdldCB3cml0aW5nTW9kZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ4XX1nZXQgcGxhY2VkT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV19c2V0IHBsYWNlZE9yaWVudGF0aW9uKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldPXQ7fWdldCBoaWRkZW4oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF19c2V0IGhpZGRlbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzUwXT10O31nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdfXNldCBjcm9zc1RpbGVJRCh0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxM109dDt9Z2V0IGFzc29jaWF0ZWRJY29uSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyOF19Z2V0IGZsaXBTdGF0ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XX1zZXQgZmxpcFN0YXRlKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdPXQ7fX0kcy5wcm90b3R5cGUuc2l6ZT02MDtjbGFzcyBHcyBleHRlbmRzIHpze2dldCh0KXtyZXR1cm4gbmV3ICRzKHRoaXMsdCl9fXJhKEdzLFwiUGxhY2VkU3ltYm9sQXJyYXlcIik7Y2xhc3MgWXMgZXh0ZW5kcyBsc3tnZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzBdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMV19Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzVdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNl19Z2V0IHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrN119Z2V0IGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrOV19Z2V0IHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTBdfWdldCBwbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMV19Z2V0IHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTJdfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTNdfWdldCB0ZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IHRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19Z2V0IHZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCB2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IGljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgaWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX1nZXQgdmVydGljYWxJY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMF19Z2V0IHZlcnRpY2FsSWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIxXX1nZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIyXX1nZXQgbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjNdfWdldCBudW1WZXJ0aWNhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjRdfWdldCBudW1JY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjVdfWdldCBudW1WZXJ0aWNhbEljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNl19Z2V0IHVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI3XX1nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTRdfXNldCBjcm9zc1RpbGVJRCh0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNF09dDt9Z2V0IHRleHRPZmZzZXQwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxNV19Z2V0IHRleHRPZmZzZXQxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxNl19Z2V0IGNvbGxpc2lvbkNpcmNsZURpYW1ldGVyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxN119Z2V0IHpPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XX1zZXQgek9mZnNldCh0KXt0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMThdPXQ7fWdldCBoYXNJY29uVGV4dEZpdCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzc2XX19WXMucHJvdG90eXBlLnNpemU9ODA7Y2xhc3MgWHMgZXh0ZW5kcyBUc3tnZXQodCl7cmV0dXJuIG5ldyBZcyh0aGlzLHQpfX1yYShYcyxcIlN5bWJvbEluc3RhbmNlQXJyYXlcIik7Y2xhc3MgWnMgZXh0ZW5kcyBCc3tnZXRvZmZzZXRYKHQpe3JldHVybiB0aGlzLmZsb2F0MzJbMSp0KzBdfX1yYShacyxcIkdseXBoT2Zmc2V0QXJyYXlcIik7Y2xhc3MgS3MgZXh0ZW5kcyBwc3tnZXR4KHQpe3JldHVybiB0aGlzLmludDE2WzIqdCswXX1nZXR5KHQpe3JldHVybiB0aGlzLmludDE2WzIqdCsxXX19cmEoS3MsXCJTeW1ib2xMaW5lVmVydGV4QXJyYXlcIik7Y2xhc3MgSHMgZXh0ZW5kcyBsc3tnZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzBdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX1nZXQgbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNF19fUhzLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIFdzIGV4dGVuZHMgRHN7Z2V0KHQpe3JldHVybiBuZXcgSHModGhpcyx0KX19cmEoV3MsXCJGZWF0dXJlSW5kZXhBcnJheVwiKTtjbGFzcyBKcyBleHRlbmRzIEFze2dldGFfY2VudHJvaWRfcG9zMCh0KXtyZXR1cm4gdGhpcy51aW50MTZbMip0KzBdfWdldGFfY2VudHJvaWRfcG9zMSh0KXtyZXR1cm4gdGhpcy51aW50MTZbMip0KzFdfX1yYShKcyxcIkZpbGxFeHRydXNpb25DZW50cm9pZEFycmF5XCIpO2NvbnN0IFFzPWNzKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksdG89Y3MoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTtjbGFzcyBlb3tjb25zdHJ1Y3Rvcih0PVtdKXt0aGlzLnNlZ21lbnRzPXQ7fV9wcmVwYXJlU2VnbWVudCh0LGUscixuKXtsZXQgaT10aGlzLnNlZ21lbnRzW3RoaXMuc2VnbWVudHMubGVuZ3RoLTFdO3JldHVybiB0PmVvLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIJiZqKGBNYXggdmVydGljZXMgcGVyIHNlZ21lbnQgaXMgJHtlby5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSH06IGJ1Y2tldCByZXF1ZXN0ZWQgJHt0fWApLCghaXx8aS52ZXJ0ZXhMZW5ndGgrdD5lby5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSHx8aS5zb3J0S2V5IT09bikmJihpPXt2ZXJ0ZXhPZmZzZXQ6ZSxwcmltaXRpdmVPZmZzZXQ6cix2ZXJ0ZXhMZW5ndGg6MCxwcmltaXRpdmVMZW5ndGg6MH0sdm9pZCAwIT09biYmKGkuc29ydEtleT1uKSx0aGlzLnNlZ21lbnRzLnB1c2goaSkpLGl9cHJlcGFyZVNlZ21lbnQodCxlLHIsbil7cmV0dXJuIHRoaXMuX3ByZXBhcmVTZWdtZW50KHQsZS5sZW5ndGgsci5sZW5ndGgsbil9Z2V0KCl7cmV0dXJuIHRoaXMuc2VnbWVudHN9ZGVzdHJveSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2VnbWVudHMpZm9yKGNvbnN0IGUgaW4gdC52YW9zKXQudmFvc1tlXS5kZXN0cm95KCk7fXN0YXRpYyBzaW1wbGVTZWdtZW50KHQsZSxyLG4pe3JldHVybiBuZXcgZW8oW3t2ZXJ0ZXhPZmZzZXQ6dCxwcmltaXRpdmVPZmZzZXQ6ZSx2ZXJ0ZXhMZW5ndGg6cixwcmltaXRpdmVMZW5ndGg6bix2YW9zOnt9LHNvcnRLZXk6MH1dKX19ZnVuY3Rpb24gcm8odCxlKXtyZXR1cm4gMjU2Kih0PUkoTWF0aC5mbG9vcih0KSwwLDI1NSkpK0koTWF0aC5mbG9vcihlKSwwLDI1NSl9ZW8uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEg9TWF0aC5wb3coMiwxNiktMSxyYShlbyxcIlNlZ21lbnRWZWN0b3JcIik7Y29uc3Qgbm89Y3MoW3tuYW1lOlwiYV9wYXR0ZXJuXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BpeGVsX3JhdGlvXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSksaW89Y3MoW3tuYW1lOlwiYV9kYXNoXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn1dKTt2YXIgYW89e2V4cG9ydHM6e319LHNvPXtleHBvcnRzOnt9fTshZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLGEscyxvLGwsdTtmb3Iobj10Lmxlbmd0aC0ocj0zJnQubGVuZ3RoKSxpPWUscz0zNDMyOTE4MzUzLG89NDYxODQ1OTA3LHU9MDt1PG47KWw9MjU1JnQuY2hhckNvZGVBdCh1KXwoMjU1JnQuY2hhckNvZGVBdCgrK3UpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK3UpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKyt1KSk8PDI0LCsrdSxpPTI3NDkyKyg2NTUzNSYoYT01Kig2NTUzNSYoaT0oaV49bD0oNjU1MzUmKGw9KGw9KDY1NTM1JmwpKnMrKCgobD4+PjE2KSpzJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpvKygoKGw+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8aT4+PjE5KSkrKCg1KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhhPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChsPTAscil7Y2FzZSAzOmxePSgyNTUmdC5jaGFyQ29kZUF0KHUrMikpPDwxNjtjYXNlIDI6bF49KDI1NSZ0LmNoYXJDb2RlQXQodSsxKSk8PDg7Y2FzZSAxOmlePWw9KDY1NTM1JihsPShsPSg2NTUzNSYobF49MjU1JnQuY2hhckNvZGVBdCh1KSkpKnMrKCgobD4+PjE2KSpzJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpvKygoKGw+Pj4xNikqbyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1O31yZXR1cm4gaV49dC5sZW5ndGgsaT0yMjQ2ODIyNTA3Kig2NTUzNSYoaV49aT4+PjE2KSkrKCgyMjQ2ODIyNTA3KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsaT0zMjY2NDg5OTA5Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgzMjY2NDg5OTA5KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGlePWk+Pj4xNik+Pj4wfTt9KHNvKTt2YXIgb289c28uZXhwb3J0cyxsbz17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcixuPXQubGVuZ3RoLGk9ZV5uLGE9MDtuPj00OylyPTE1NDA0ODM0NzcqKDY1NTM1JihyPTI1NSZ0LmNoYXJDb2RlQXQoYSl8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDh8KDI1NSZ0LmNoYXJDb2RlQXQoKythKSk8PDE2fCgyNTUmdC5jaGFyQ29kZUF0KCsrYSkpPDwyNCkpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSxpPTE1NDA0ODM0NzcqKDY1NTM1JmkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KV4ocj0xNTQwNDgzNDc3Kig2NTUzNSYocl49cj4+PjI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpKSxuLT00LCsrYTtzd2l0Y2gobil7Y2FzZSAzOmlePSgyNTUmdC5jaGFyQ29kZUF0KGErMikpPDwxNjtjYXNlIDI6aV49KDI1NSZ0LmNoYXJDb2RlQXQoYSsxKSk8PDg7Y2FzZSAxOmk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePTI1NSZ0LmNoYXJDb2RlQXQoYSkpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNik7fXJldHVybiBpPTE1NDA0ODM0NzcqKDY1NTM1JihpXj1pPj4+MTMpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNiksKGlePWk+Pj4xNSk+Pj4wfTt9KGxvKTt2YXIgdW89b28sY289bG8uZXhwb3J0czthby5leHBvcnRzPXVvLGFvLmV4cG9ydHMubXVybXVyMz11byxhby5leHBvcnRzLm11cm11cjI9Y287dmFyIGhvPWgoYW8uZXhwb3J0cyk7Y2xhc3MgcG97Y29uc3RydWN0b3IoKXt0aGlzLmlkcz1bXSx0aGlzLnVuaXF1ZUlkcz1bXSx0aGlzLnBvc2l0aW9ucz1bXSx0aGlzLmluZGV4ZWQ9ITE7fWFkZCh0LGUscixuKXt0aGlzLmlkcy5wdXNoKGZvKHQpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKGUscixuKTt9ZWFjaFBvc2l0aW9uKHQsZSl7Y29uc3Qgcj1mbyh0KTtsZXQgbj0wLGk9dGhpcy5pZHMubGVuZ3RoLTE7Zm9yKDtuPGk7KXtjb25zdCB0PW4raT4+MTt0aGlzLmlkc1t0XT49cj9pPXQ6bj10KzE7fWZvcig7dGhpcy5pZHNbbl09PT1yOyllKHRoaXMucG9zaXRpb25zWzMqbl0sdGhpcy5wb3NpdGlvbnNbMypuKzFdLHRoaXMucG9zaXRpb25zWzMqbisyXSksbisrO31zdGF0aWMgc2VyaWFsaXplKHQsZSl7Y29uc3Qgcj1uZXcgRmxvYXQ2NEFycmF5KHQuaWRzKSxuPW5ldyBVaW50MzJBcnJheSh0LnBvc2l0aW9ucyk7cmV0dXJuIG1vKHIsbiwwLHIubGVuZ3RoLTEpLGUmJihlLmFkZChyLmJ1ZmZlciksZS5hZGQobi5idWZmZXIpKSx7aWRzOnIscG9zaXRpb25zOm59fXN0YXRpYyBkZXNlcmlhbGl6ZSh0KXtjb25zdCBlPW5ldyBwbztsZXQgcjtlLmlkcz10LmlkcyxlLnBvc2l0aW9ucz10LnBvc2l0aW9ucztmb3IoY29uc3QgdCBvZiBlLmlkcyl0IT09ciYmZS51bmlxdWVJZHMucHVzaCh0KSxyPXQ7cmV0dXJuIGUuaW5kZXhlZD0hMCxlfX1mdW5jdGlvbiBmbyh0KXtjb25zdCBlPSt0O3JldHVybiAhaXNOYU4oZSkmJk51bWJlci5NSU5fU0FGRV9JTlRFR0VSPD1lJiZlPD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9lOmhvKFN0cmluZyh0KSl9ZnVuY3Rpb24gbW8odCxlLHIsbil7Zm9yKDtyPG47KXtjb25zdCBpPXRbcituPj4xXTtsZXQgYT1yLTEscz1uKzE7Zm9yKDs7KXtkb3thKys7fXdoaWxlKHRbYV08aSk7ZG97cy0tO313aGlsZSh0W3NdPmkpO2lmKGE+PXMpYnJlYWs7eW8odCxhLHMpLHlvKGUsMyphLDMqcykseW8oZSwzKmErMSwzKnMrMSkseW8oZSwzKmErMiwzKnMrMik7fXMtcjxuLXM/KG1vKHQsZSxyLHMpLHI9cysxKToobW8odCxlLHMrMSxuKSxuPXMpO319ZnVuY3Rpb24geW8odCxlLHIpe2NvbnN0IG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31yYShwbyxcIkZlYXR1cmVQb3NpdGlvbk1hcFwiKTtjbGFzcyBnb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmdsPXQuZ2wsdGhpcy5pbml0aWFsaXplZD0hMTt9ZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKXtyZXR1cm4gdGhpcy5sb2NhdGlvbnx8dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9jYXRpb249dGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odCxlKSx0aGlzLmluaXRpYWxpemVkPSEwKSwhIXRoaXMubG9jYXRpb259fWNsYXNzIHhvIGV4dGVuZHMgZ297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jdXJyZW50PTA7fXNldCh0LGUscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbih0LGUpJiZ0aGlzLmN1cnJlbnQhPT1yJiYodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMWkodGhpcy5sb2NhdGlvbixyKSk7fX1jbGFzcyB2byBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD0wO31zZXQodCxlLHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKSYmdGhpcy5jdXJyZW50IT09ciYmKHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24scikpO319Y2xhc3MgYm8gZXh0ZW5kcyBnb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9WzAsMF07fXNldCh0LGUscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbih0LGUpJiYoclswXT09PXRoaXMuY3VycmVudFswXSYmclsxXT09PXRoaXMuY3VycmVudFsxXXx8KHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTJmKHRoaXMubG9jYXRpb24sclswXSxyWzFdKSkpO319Y2xhc3MgX28gZXh0ZW5kcyBnb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9WzAsMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtM2YodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSkpKTt9fWNsYXNzIHdvIGV4dGVuZHMgZ297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jdXJyZW50PVswLDAsMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdJiZyWzNdPT09dGhpcy5jdXJyZW50WzNdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSxyWzNdKSkpO319Y2xhc3MgTW8gZXh0ZW5kcyBnb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9bGUudHJhbnNwYXJlbnQ7fXNldCh0LGUscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbih0LGUpJiYoci5yPT09dGhpcy5jdXJyZW50LnImJnIuZz09PXRoaXMuY3VycmVudC5nJiZyLmI9PT10aGlzLmN1cnJlbnQuYiYmci5hPT09dGhpcy5jdXJyZW50LmF8fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLHIucixyLmcsci5iLHIuYSkpKTt9fWNvbnN0IEFvPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2NsYXNzIFNvIGV4dGVuZHMgZ297Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jdXJyZW50PUFvO31zZXQodCxlLHIpe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKSl7aWYoclsxMl0hPT10aGlzLmN1cnJlbnRbMTJdfHxyWzBdIT09dGhpcy5jdXJyZW50WzBdKXJldHVybiB0aGlzLmN1cnJlbnQ9cix2b2lkIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHIpO2ZvcihsZXQgdD0xO3Q8MTY7dCsrKWlmKHJbdF0hPT10aGlzLmN1cnJlbnRbdF0pe3RoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHIpO2JyZWFrfX19fWNvbnN0IElvPW5ldyBGbG9hdDMyQXJyYXkoOSksa289bmV3IEZsb2F0MzJBcnJheSg0KTtjbGFzcyBQbyBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1rbzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw0O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fWZ1bmN0aW9uIEVvKHQpe3JldHVybiBbcm8oMjU1KnQuciwyNTUqdC5nKSxybygyNTUqdC5iLDI1NSp0LmEpXX1jbGFzcyB6b3tjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy52YWx1ZT10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKCh0PT5gdV8ke3R9YCkpLHRoaXMudHlwZT1yO31zZXRVbmlmb3JtKHQsZSxyLG4saSl7ZS5zZXQodCxpLG4uY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fWdldEJpbmRpbmcodCxlKXtyZXR1cm4gXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBNbyh0KTpuZXcgdm8odCl9fWNsYXNzIFRve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy51bmlmb3JtTmFtZXM9ZS5tYXAoKHQ9PmB1XyR7dH1gKSksdGhpcy5wYXR0ZXJuPW51bGwsdGhpcy5waXhlbFJhdGlvPTE7fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0KXt0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvfHwxLHRoaXMucGF0dGVybj10LnRsLmNvbmNhdCh0LmJyKTt9c2V0VW5pZm9ybSh0LGUscixuLGkpe2NvbnN0IGE9XCJ1X3BhdHRlcm5cIj09PWl8fFwidV9kYXNoXCI9PT1pP3RoaXMucGF0dGVybjpcInVfcGl4ZWxfcmF0aW9cIj09PWk/dGhpcy5waXhlbFJhdGlvOm51bGw7YSYmZS5zZXQodCxpLGEpO31nZXRCaW5kaW5nKHQsZSl7cmV0dXJuIFwidV9wYXR0ZXJuXCI9PT1lfHxcInVfZGFzaFwiPT09ZT9uZXcgd28odCk6bmV3IHZvKHQpfX1jbGFzcyBCb3tjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLnR5cGU9cix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9ZS5tYXAoKHQ9Pih7bmFtZTpgYV8ke3R9YCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj8yOjEsb2Zmc2V0OjB9KSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgbjt9cG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSxhLHMpe2NvbnN0IG89dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aCxsPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgUGEoMCx7YnJpZ2h0bmVzczphfSksZSx7fSxpLG4scyk7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlKG8sdCxsKTt9dXBkYXRlUGFpbnRBcnJheSh0LGUscixuLGksYSxzKXtjb25zdCBvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowLGJyaWdodG5lc3M6c30scixuLHZvaWQgMCxpKTt0aGlzLl9zZXRQYWludFZhbHVlKHQsZSxvKTt9X3NldFBhaW50VmFsdWUodCxlLHIpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgbj1FbyhyKTtmb3IobGV0IHI9dDtyPGU7cisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsblswXSxuWzFdKTt9ZWxzZSB7Zm9yKGxldCBuPXQ7bjxlO24rKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShuLHIpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhyKSk7fX11cGxvYWQodCl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgQ297Y29uc3RydWN0b3IodCxlLHIsbixpLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKCh0PT5gdV8ke3R9X3RgKSksdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz1lLm1hcCgodD0+KHtuYW1lOmBhXyR7dH1gLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1yPzQ6MixvZmZzZXQ6MH0pKSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBhO31wb3B1bGF0ZVBhaW50QXJyYXkodCxlLHIsbixpLGEscyl7Y29uc3Qgbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IFBhKHRoaXMuem9vbSx7YnJpZ2h0bmVzczphfSksZSx7fSxpLG4scyksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IFBhKHRoaXMuem9vbSsxLHticmlnaHRuZXNzOmF9KSxlLHt9LGksbixzKSx1PXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZSh0KSx0aGlzLl9zZXRQYWludFZhbHVlKHUsdCxvLGwpO311cGRhdGVQYWludEFycmF5KHQsZSxyLG4saSxhLHMpe2NvbnN0IG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbSxicmlnaHRuZXNzOnN9LHIsbix2b2lkIDAsaSksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzEsYnJpZ2h0bmVzczpzfSxyLG4sdm9pZCAwLGkpO3RoaXMuX3NldFBhaW50VmFsdWUodCxlLG8sbCk7fV9zZXRQYWludFZhbHVlKHQsZSxyLG4pe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3QgaT1FbyhyKSxhPUVvKG4pO2ZvcihsZXQgcj10O3I8ZTtyKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UocixpWzBdLGlbMV0sYVswXSxhWzFdKTt9ZWxzZSB7Zm9yKGxldCBpPXQ7aTxlO2krKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShpLHIsbik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpLE1hdGguYWJzKG4pKTt9fXVwbG9hZCh0KXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50fHwhdGhpcy5leHByZXNzaW9uLmlzTGlnaHRDb25zdGFudCkpO31kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fXNldFVuaWZvcm0odCxlLHIsbixpKXtjb25zdCBhPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihyLnpvb20pOnIuem9vbSxzPUkodGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3IoYSx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7ZS5zZXQodCxpLHMpO31nZXRCaW5kaW5nKHQsZSl7cmV0dXJuIG5ldyB2byh0KX19Y2xhc3MgUm97Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLmxheWVySWQ9aSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz0oXCJhcnJheVwiPT09cj9pbzpubykubWVtYmVycztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoOysrdCk7dGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBuO31wb3B1bGF0ZVBhaW50QXJyYXkodCxlLHIpe2NvbnN0IG49dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuX3NldFBhaW50VmFsdWVzKG4sdCxlLnBhdHRlcm5zJiZlLnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0scik7fXVwZGF0ZVBhaW50QXJyYXkodCxlLHIsbixpLGEscyl7dGhpcy5fc2V0UGFpbnRWYWx1ZXModCxlLHIucGF0dGVybnMmJnIucGF0dGVybnNbdGhpcy5sYXllcklkXSxhKTt9X3NldFBhaW50VmFsdWVzKHQsZSxyLG4pe2lmKCFufHwhcilyZXR1cm47Y29uc3QgaT1uW3JdO2lmKCFpKXJldHVybjtjb25zdHt0bDphLGJyOnMscGl4ZWxSYXRpbzpvfT1pO2ZvcihsZXQgcj10O3I8ZTtyKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UocixhWzBdLGFbMV0sc1swXSxzWzFdLG8pO311cGxvYWQodCl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgRG97Y29uc3RydWN0b3IodCxlLHI9KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IG49W107Zm9yKGNvbnN0IGkgaW4gdC5wYWludC5fdmFsdWVzKXtjb25zdCBhPXQucGFpbnQuZ2V0KGkpO2lmKCFyKGkpKWNvbnRpbnVlO2lmKCEoYSBpbnN0YW5jZW9mIERhJiZUaShhLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBzPUZvKGksdC50eXBlKSxvPWEudmFsdWUsbD1hLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSx1PSEhYS5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSxjPVwibGluZS1kYXNoYXJyYXlcIj09PWl8fGkuZW5kc1dpdGgoXCJwYXR0ZXJuXCIpLGg9XCJsaW5lLWRhc2hhcnJheVwiPT09aSYmXCJjb25zdGFudFwiIT09dC5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1vLmtpbmR8fGgpaWYoXCJzb3VyY2VcIj09PW8ua2luZHx8aHx8Yyl7Y29uc3QgZT1VbyhpLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW2ldPWM/bmV3IFJvKG8scyxsLGUsdC5pZCk6bmV3IEJvKG8scyxsLGUpLG4ucHVzaChgL2FfJHtpfWApO31lbHNlIHtjb25zdCB0PVVvKGksbCxcImNvbXBvc2l0ZVwiKTt0aGlzLmJpbmRlcnNbaV09bmV3IENvKG8scyxsLHUsZSx0KSxuLnB1c2goYC96XyR7aX1gKTt9ZWxzZSB0aGlzLmJpbmRlcnNbaV09Yz9uZXcgVG8oby52YWx1ZSxzKTpuZXcgem8oby52YWx1ZSxzLGwpLG4ucHVzaChgL3VfJHtpfWApO310aGlzLmNhY2hlS2V5PW4uc29ydCgpLmpvaW4oXCJcIik7fWdldE1heFZhbHVlKHQpe2NvbnN0IGU9dGhpcy5iaW5kZXJzW3RdO3JldHVybiBlIGluc3RhbmNlb2YgQm98fGUgaW5zdGFuY2VvZiBDbz9lLm1heFZhbHVlOjB9cG9wdWxhdGVQYWludEFycmF5cyh0LGUscixuLGksYSxzKXtmb3IoY29uc3QgbyBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGw9dGhpcy5iaW5kZXJzW29dOyhsIGluc3RhbmNlb2YgQm98fGwgaW5zdGFuY2VvZiBDb3x8bCBpbnN0YW5jZW9mIFJvKSYmbC5wb3B1bGF0ZVBhaW50QXJyYXkodCxlLHIsbixpLGEscyk7fX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTtyIGluc3RhbmNlb2YgVG8mJnIuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQpO319dXBkYXRlUGFpbnRBcnJheXModCxlLHIsbixpLGEscyxvKXtsZXQgbD0hMTtjb25zdCB1PU9iamVjdC5rZXlzKHQpLGM9MCE9PXUubGVuZ3RoLGg9Yz91OmUudW5pcXVlSWRzO2Zvcihjb25zdCB1IGluIHRoaXMuYmluZGVycyl7Y29uc3QgcD10aGlzLmJpbmRlcnNbdV07aWYoKHAgaW5zdGFuY2VvZiBCb3x8cCBpbnN0YW5jZW9mIENvfHxwIGluc3RhbmNlb2YgUm8pJiYoITA9PT1wLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8ITE9PT1wLmV4cHJlc3Npb24uaXNMaWdodENvbnN0YW50KSl7Y29uc3QgZj1pLnBhaW50LmdldCh1KTtwLmV4cHJlc3Npb249Zi52YWx1ZTtmb3IoY29uc3QgciBvZiBoKXtjb25zdCBpPXRbci50b1N0cmluZygpXTtlLmVhY2hQb3NpdGlvbihyLCgodCxlLHIpPT57Y29uc3QgbD1uLmZlYXR1cmUodCk7cC51cGRhdGVQYWludEFycmF5KGUscixsLGksYSxzLG8pO30pKTt9aWYoIWMpZm9yKGNvbnN0IGUgb2Ygci51bmlxdWVJZHMpe2NvbnN0IGk9dFtlLnRvU3RyaW5nKCldO3IuZWFjaFBvc2l0aW9uKGUsKCh0LGUscik9Pntjb25zdCBsPW4uZmVhdHVyZSh0KTtwLnVwZGF0ZVBhaW50QXJyYXkoZSxyLGwsaSxhLHMsbyk7fSkpO31sPSEwO319cmV0dXJuIGx9ZGVmaW5lcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTsociBpbnN0YW5jZW9mIHpvfHxyIGluc3RhbmNlb2YgVG8pJiZ0LnB1c2goLi4uci51bmlmb3JtTmFtZXMubWFwKCh0PT5gI2RlZmluZSBIQVNfVU5JRk9STV8ke3R9YCkpKTt9cmV0dXJuIHR9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTtpZihyIGluc3RhbmNlb2YgQm98fHIgaW5zdGFuY2VvZiBDb3x8ciBpbnN0YW5jZW9mIFJvKWZvcihsZXQgZT0wO2U8ci5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl0LnB1c2goci5wYWludFZlcnRleEF0dHJpYnV0ZXNbZV0ubmFtZSk7fXJldHVybiB0fWdldEJpbmRlclVuaWZvcm1zKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW2VdO2lmKHIgaW5zdGFuY2VvZiB6b3x8ciBpbnN0YW5jZW9mIFRvfHxyIGluc3RhbmNlb2YgQ28pZm9yKGNvbnN0IGUgb2Ygci51bmlmb3JtTmFtZXMpdC5wdXNoKGUpO31yZXR1cm4gdH1nZXRQYWludFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyc31nZXRVbmlmb3Jtcyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbcl07aWYobiBpbnN0YW5jZW9mIHpvfHxuIGluc3RhbmNlb2YgVG98fG4gaW5zdGFuY2VvZiBDbylmb3IoY29uc3QgaSBvZiBuLnVuaWZvcm1OYW1lcyllLnB1c2goe25hbWU6aSxwcm9wZXJ0eTpyLGJpbmRpbmc6bi5nZXRCaW5kaW5nKHQsaSl9KTt9cmV0dXJuIGV9c2V0VW5pZm9ybXModCxlLHIsbixpKXtmb3IoY29uc3R7bmFtZTplLHByb3BlcnR5OmEsYmluZGluZzpzfW9mIHIpdGhpcy5iaW5kZXJzW2FdLnNldFVuaWZvcm0odCxzLGksbi5nZXQoYSksZSk7fXVwZGF0ZVBhaW50QnVmZmVycygpe3RoaXMuX2J1ZmZlcnM9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBlPXRoaXMuYmluZGVyc1t0XTsoZSBpbnN0YW5jZW9mIEJvfHxlIGluc3RhbmNlb2YgQ298fGUgaW5zdGFuY2VvZiBSbykmJmUucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuX2J1ZmZlcnMucHVzaChlLnBhaW50VmVydGV4QnVmZmVyKTt9fXVwbG9hZCh0KXtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW2VdOyhyIGluc3RhbmNlb2YgQm98fHIgaW5zdGFuY2VvZiBDb3x8ciBpbnN0YW5jZW9mIFJvKSYmci51cGxvYWQodCk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fWRlc3Ryb3koKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGU9dGhpcy5iaW5kZXJzW3RdOyhlIGluc3RhbmNlb2YgQm98fGUgaW5zdGFuY2VvZiBDb3x8ZSBpbnN0YW5jZW9mIFJvKSYmZS5kZXN0cm95KCk7fX19Y2xhc3MgVm97Y29uc3RydWN0b3IodCxlLHI9KCgpPT4hMCkpe3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcihjb25zdCBuIG9mIHQpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbbi5pZF09bmV3IERvKG4sZSxyKTt0aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IHBvLHRoaXMuX2ZlYXR1cmVNYXBXaXRob3V0SWRzPW5ldyBwbyx0aGlzLl9idWZmZXJPZmZzZXQ9MCx0aGlzLl9pZGxlc3NDb3VudGVyPTA7fXBvcHVsYXRlUGFpbnRBcnJheXModCxlLHIsbixpLGEscyxvKXtmb3IoY29uc3QgciBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tyXS5wb3B1bGF0ZVBhaW50QXJyYXlzKHQsZSxuLGksYSxzLG8pO3ZvaWQgMCE9PWUuaWQ/dGhpcy5fZmVhdHVyZU1hcC5hZGQoZS5pZCxyLHRoaXMuX2J1ZmZlck9mZnNldCx0KToodGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMuYWRkKHRoaXMuX2lkbGVzc0NvdW50ZXIscix0aGlzLl9idWZmZXJPZmZzZXQsdCksdGhpcy5faWRsZXNzQ291bnRlcis9MSksdGhpcy5fYnVmZmVyT2Zmc2V0PXQsdGhpcy5uZWVkc1VwbG9hZD0hMDt9dXBkYXRlUGFpbnRBcnJheXModCxlLHIsbixpLGEpe2Zvcihjb25zdCBzIG9mIHIpdGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tzLmlkXS51cGRhdGVQYWludEFycmF5cyh0LHRoaXMuX2ZlYXR1cmVNYXAsdGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMsZSxzLG4saSxhfHwwKXx8dGhpcy5uZWVkc1VwbG9hZDt9Z2V0KHQpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XX11cGxvYWQodCl7aWYodGhpcy5uZWVkc1VwbG9hZCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0udXBsb2FkKHQpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0uZGVzdHJveSgpO319Y29uc3QgTG89e1widGV4dC1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcImljb24tb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJ0ZXh0LWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcImljb24tY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwidGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwidGV4dC1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcImljb24taGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJ0ZXh0LWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcImljb24taGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwidGV4dC1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImljb24taGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJsaW5lLWdhcC13aWR0aFwiOltcImdhcHdpZHRoXCJdLFwibGluZS1wYXR0ZXJuXCI6W1wicGF0dGVyblwiLFwicGl4ZWxfcmF0aW9cIl0sXCJmaWxsLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImxpbmUtZGFzaGFycmF5XCI6W1wiZGFzaFwiXX07ZnVuY3Rpb24gRm8odCxlKXtyZXR1cm4gTG9bdF18fFt0LnJlcGxhY2UoYCR7ZX0tYCxcIlwiKS5yZXBsYWNlKC8tL2csXCJfXCIpXX1jb25zdCBObz17XCJsaW5lLXBhdHRlcm5cIjp7c291cmNlOnhzLGNvbXBvc2l0ZTp4c30sXCJmaWxsLXBhdHRlcm5cIjp7c291cmNlOnhzLGNvbXBvc2l0ZTp4c30sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6e3NvdXJjZTp4cyxjb21wb3NpdGU6eHN9LFwibGluZS1kYXNoYXJyYXlcIjp7c291cmNlOnZzLGNvbXBvc2l0ZTp2c319LE9vPXtjb2xvcjp7c291cmNlOkZzLGNvbXBvc2l0ZTpnc30sbnVtYmVyOntzb3VyY2U6QnMsY29tcG9zaXRlOkZzfX07ZnVuY3Rpb24gVW8odCxlLHIpe2NvbnN0IG49Tm9bdF07cmV0dXJuIG4mJm5bcl18fE9vW2VdW3JdfXJhKHpvLFwiQ29uc3RhbnRCaW5kZXJcIikscmEoVG8sXCJQYXR0ZXJuQ29uc3RhbnRCaW5kZXJcIikscmEoQm8sXCJTb3VyY2VFeHByZXNzaW9uQmluZGVyXCIpLHJhKFJvLFwiUGF0dGVybkNvbXBvc2l0ZUJpbmRlclwiKSxyYShDbyxcIkNvbXBvc2l0ZUV4cHJlc3Npb25CaW5kZXJcIikscmEoRG8sXCJQcm9ncmFtQ29uZmlndXJhdGlvblwiLHtvbWl0OltcIl9idWZmZXJzXCJdfSkscmEoVm8sXCJQcm9ncmFtQ29uZmlndXJhdGlvblNldFwiKTtjb25zdCBqbz1Uci9NYXRoLlBJLzIscW89NSwkbz02LEdvPTE2MzgzLFlvPTY0LFhvPVtZbywzMiwxNl0sWm89LWpvLEtvPWpvO2Z1bmN0aW9uIEhvKHQsZSxyLG49am8pe3JldHVybiByPWIociksW3QqTWF0aC5zaW4ocikqbiwtZSpuLHQqTWF0aC5jb3Mocikqbl19ZnVuY3Rpb24gV28odCxlLHIpe3JldHVybiBIbyhNYXRoLmNvcyhiKHQpKSxNYXRoLnNpbihiKHQpKSxlLHIpfWNvbnN0IEpvPTYzNzEwMDguOCxRbz0yKk1hdGguUEkqSm87Y2xhc3MgdGx7Y29uc3RydWN0b3IodCxlKXtpZihpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIExuZ0xhdCBvYmplY3Q6ICgke3R9LCAke2V9KWApO2lmKHRoaXMubG5nPSt0LHRoaXMubGF0PStlLHRoaXMubGF0PjkwfHx0aGlzLmxhdDwtOTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBMbmdMYXQgbGF0aXR1ZGUgdmFsdWU6IG11c3QgYmUgYmV0d2VlbiAtOTAgYW5kIDkwXCIpfXdyYXAoKXtyZXR1cm4gbmV3IHRsKFAodGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX10b0FycmF5KCl7cmV0dXJuIFt0aGlzLmxuZyx0aGlzLmxhdF19dG9TdHJpbmcoKXtyZXR1cm4gYExuZ0xhdCgke3RoaXMubG5nfSwgJHt0aGlzLmxhdH0pYH1kaXN0YW5jZVRvKHQpe2NvbnN0IGU9TWF0aC5QSS8xODAscj10aGlzLmxhdCplLG49dC5sYXQqZSxpPU1hdGguc2luKHIpKk1hdGguc2luKG4pK01hdGguY29zKHIpKk1hdGguY29zKG4pKk1hdGguY29zKCh0LmxuZy10aGlzLmxuZykqZSk7cmV0dXJuIEpvKk1hdGguYWNvcyhNYXRoLm1pbihpLDEpKX10b0JvdW5kcyh0PTApe2NvbnN0IGU9MzYwKnQvNDAwNzUwMTcscj1lL01hdGguY29zKE1hdGguUEkvMTgwKnRoaXMubGF0KTtyZXR1cm4gbmV3IGVsKHtsbmc6dGhpcy5sbmctcixsYXQ6dGhpcy5sYXQtZX0se2xuZzp0aGlzLmxuZytyLGxhdDp0aGlzLmxhdCtlfSl9dG9FY2VmKHQpe3JldHVybiBXbyh0aGlzLmxhdCx0aGlzLmxuZyxqbyt0KmpvL0pvKX1zdGF0aWMgY29udmVydCh0KXtpZih0IGluc3RhbmNlb2YgdGwpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSYmKDI9PT10Lmxlbmd0aHx8Mz09PXQubGVuZ3RoKSlyZXR1cm4gbmV3IHRsKE51bWJlcih0WzBdKSxOdW1iZXIodFsxXSkpO2lmKCFBcnJheS5pc0FycmF5KHQpJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQpcmV0dXJuIG5ldyB0bChOdW1iZXIoXCJsbmdcImluIHQ/dC5sbmc6dC5sb24pLE51bWJlcih0LmxhdCkpO3Rocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgYW4gb2JqZWN0IHtsb246IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIil9fWNsYXNzIGVse2NvbnN0cnVjdG9yKHQsZSl7dCYmKGU/dGhpcy5zZXRTb3V0aFdlc3QodCkuc2V0Tm9ydGhFYXN0KGUpOjQ9PT10Lmxlbmd0aD90aGlzLnNldFNvdXRoV2VzdChbdFswXSx0WzFdXSkuc2V0Tm9ydGhFYXN0KFt0WzJdLHRbM11dKTp0aGlzLnNldFNvdXRoV2VzdCh0WzBdKS5zZXROb3J0aEVhc3QodFsxXSkpO31zZXROb3J0aEVhc3QodCl7cmV0dXJuIHRoaXMuX25lPXQgaW5zdGFuY2VvZiB0bD9uZXcgdGwodC5sbmcsdC5sYXQpOnRsLmNvbnZlcnQodCksdGhpc31zZXRTb3V0aFdlc3QodCl7cmV0dXJuIHRoaXMuX3N3PXQgaW5zdGFuY2VvZiB0bD9uZXcgdGwodC5sbmcsdC5sYXQpOnRsLmNvbnZlcnQodCksdGhpc31leHRlbmQodCl7Y29uc3QgZT10aGlzLl9zdyxyPXRoaXMuX25lO2xldCBuLGk7aWYodCBpbnN0YW5jZW9mIHRsKW49dCxpPXQ7ZWxzZSB7aWYoISh0IGluc3RhbmNlb2YgZWwpKXJldHVybiBBcnJheS5pc0FycmF5KHQpPzQ9PT10Lmxlbmd0aHx8dC5ldmVyeShBcnJheS5pc0FycmF5KT90aGlzLmV4dGVuZChlbC5jb252ZXJ0KHQpKTp0aGlzLmV4dGVuZCh0bC5jb252ZXJ0KHQpKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJnQuaGFzT3duUHJvcGVydHkoXCJsYXRcIikmJih0Lmhhc093blByb3BlcnR5KFwibG9uXCIpfHx0Lmhhc093blByb3BlcnR5KFwibG5nXCIpKT90aGlzLmV4dGVuZCh0bC5jb252ZXJ0KHQpKTp0aGlzO2lmKG49dC5fc3csaT10Ll9uZSwhbnx8IWkpcmV0dXJuIHRoaXN9cmV0dXJuIGV8fHI/KGUubG5nPU1hdGgubWluKG4ubG5nLGUubG5nKSxlLmxhdD1NYXRoLm1pbihuLmxhdCxlLmxhdCksci5sbmc9TWF0aC5tYXgoaS5sbmcsci5sbmcpLHIubGF0PU1hdGgubWF4KGkubGF0LHIubGF0KSk6KHRoaXMuX3N3PW5ldyB0bChuLmxuZyxuLmxhdCksdGhpcy5fbmU9bmV3IHRsKGkubG5nLGkubGF0KSksdGhpc31nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IHRsKCh0aGlzLl9zdy5sbmcrdGhpcy5fbmUubG5nKS8yLCh0aGlzLl9zdy5sYXQrdGhpcy5fbmUubGF0KS8yKX1nZXRTb3V0aFdlc3QoKXtyZXR1cm4gdGhpcy5fc3d9Z2V0Tm9ydGhFYXN0KCl7cmV0dXJuIHRoaXMuX25lfWdldE5vcnRoV2VzdCgpe3JldHVybiBuZXcgdGwodGhpcy5nZXRXZXN0KCksdGhpcy5nZXROb3J0aCgpKX1nZXRTb3V0aEVhc3QoKXtyZXR1cm4gbmV3IHRsKHRoaXMuZ2V0RWFzdCgpLHRoaXMuZ2V0U291dGgoKSl9Z2V0V2VzdCgpe3JldHVybiB0aGlzLl9zdy5sbmd9Z2V0U291dGgoKXtyZXR1cm4gdGhpcy5fc3cubGF0fWdldEVhc3QoKXtyZXR1cm4gdGhpcy5fbmUubG5nfWdldE5vcnRoKCl7cmV0dXJuIHRoaXMuX25lLmxhdH10b0FycmF5KCl7cmV0dXJuIFt0aGlzLl9zdy50b0FycmF5KCksdGhpcy5fbmUudG9BcnJheSgpXX10b1N0cmluZygpe3JldHVybiBgTG5nTGF0Qm91bmRzKCR7dGhpcy5fc3cudG9TdHJpbmcoKX0sICR7dGhpcy5fbmUudG9TdHJpbmcoKX0pYH1pc0VtcHR5KCl7cmV0dXJuICEodGhpcy5fc3cmJnRoaXMuX25lKX1jb250YWlucyh0KXtjb25zdHtsbmc6ZSxsYXQ6cn09dGwuY29udmVydCh0KTtsZXQgbj10aGlzLl9zdy5sbmc8PWUmJmU8PXRoaXMuX25lLmxuZztyZXR1cm4gdGhpcy5fc3cubG5nPnRoaXMuX25lLmxuZyYmKG49dGhpcy5fc3cubG5nPj1lJiZlPj10aGlzLl9uZS5sbmcpLHRoaXMuX3N3LmxhdDw9ciYmcjw9dGhpcy5fbmUubGF0JiZufXN0YXRpYyBjb252ZXJ0KHQpe3JldHVybiAhdHx8dCBpbnN0YW5jZW9mIGVsP3Q6bmV3IGVsKHQpfX12YXIgcmw9e307IWZ1bmN0aW9uKHQsZSl7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4pe3ZhciBpPXIoMjU2KnQsMjU2KihlPU1hdGgucG93KDIsbiktZS0xKSxuKSxhPXIoMjU2Kih0KzEpLDI1NiooZSsxKSxuKTtyZXR1cm4gaVswXStcIixcIitpWzFdK1wiLFwiK2FbMF0rXCIsXCIrYVsxXX1mdW5jdGlvbiByKHQsZSxyKXt2YXIgbj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixyKTtyZXR1cm4gW3Qqbi0yKk1hdGguUEkqNjM3ODEzNy8yLGUqbi0yKk1hdGguUEkqNjM3ODEzNy8yXX10LmdldFVSTD1mdW5jdGlvbih0LHIsbixpLGEscyl7cmV0dXJuIHM9c3x8e30sdCtcIj9cIitbXCJiYm94PVwiK2UobixpLGEpLFwiZm9ybWF0PVwiKyhzLmZvcm1hdHx8XCJpbWFnZS9wbmdcIiksXCJzZXJ2aWNlPVwiKyhzLnNlcnZpY2V8fFwiV01TXCIpLFwidmVyc2lvbj1cIisocy52ZXJzaW9ufHxcIjEuMS4xXCIpLFwicmVxdWVzdD1cIisocy5yZXF1ZXN0fHxcIkdldE1hcFwiKSxcInNycz1cIisocy5zcnN8fFwiRVBTRzozODU3XCIpLFwid2lkdGg9XCIrKHMud2lkdGh8fDI1NiksXCJoZWlnaHQ9XCIrKHMuaGVpZ2h0fHwyNTYpLFwibGF5ZXJzPVwiK3JdLmpvaW4oXCImXCIpfSx0LmdldFRpbGVCQm94PWUsdC5nZXRNZXJjQ29vcmRzPXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7fShlKTt9KDAscmwpO3ZhciBubD1ybDtjbGFzcyBpbHtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy56PXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy5rZXk9b2woMCx0LHQsZSxyKTt9ZXF1YWxzKHQpe3JldHVybiB0aGlzLno9PT10LnomJnRoaXMueD09PXQueCYmdGhpcy55PT09dC55fXVybCh0LGUpe2NvbnN0IHI9bmwuZ2V0VGlsZUJCb3godGhpcy54LHRoaXMueSx0aGlzLnopLG49ZnVuY3Rpb24odCxlLHIpe2xldCBuLGk9XCJcIjtmb3IobGV0IGE9dDthPjA7YS0tKW49MTw8YS0xLGkrPShlJm4/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoL3t6fS9nLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKC97eH0vZyxTdHJpbmcodGhpcy54KSkucmVwbGFjZSgve3l9L2csU3RyaW5nKFwidG1zXCI9PT1lP01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIsbikucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixyKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyBhbHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMud3JhcD10LHRoaXMuY2Fub25pY2FsPWUsdGhpcy5rZXk9b2wodCxlLnosZS56LGUueCxlLnkpO319Y2xhc3Mgc2x7Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLm92ZXJzY2FsZWRaPXQsdGhpcy53cmFwPWUsdGhpcy5jYW5vbmljYWw9bmV3IGlsKHIsK24sK2kpLHRoaXMua2V5PTA9PT1lJiZ0PT09cj90aGlzLmNhbm9uaWNhbC5rZXk6b2woZSx0LHIsbixpKTt9ZXF1YWxzKHQpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09dC5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09dC53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHModC5jYW5vbmljYWwpfXNjYWxlZFRvKHQpe2NvbnN0IGU9dGhpcy5jYW5vbmljYWwuei10O3JldHVybiB0PnRoaXMuY2Fub25pY2FsLno/bmV3IHNsKHQsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcgc2wodCx0aGlzLndyYXAsdCx0aGlzLmNhbm9uaWNhbC54Pj5lLHRoaXMuY2Fub25pY2FsLnk+PmUpfWNhbGN1bGF0ZVNjYWxlZEtleSh0LGU9ITApe2lmKHRoaXMub3ZlcnNjYWxlZFo9PT10JiZlKXJldHVybiB0aGlzLmtleTtpZih0PnRoaXMuY2Fub25pY2FsLnopcmV0dXJuIG9sKHRoaXMud3JhcCorZSx0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTt7Y29uc3Qgcj10aGlzLmNhbm9uaWNhbC56LXQ7cmV0dXJuIG9sKHRoaXMud3JhcCorZSx0LHQsdGhpcy5jYW5vbmljYWwueD4+cix0aGlzLmNhbm9uaWNhbC55Pj5yKX19aXNDaGlsZE9mKHQpe2lmKHQud3JhcCE9PXRoaXMud3JhcClyZXR1cm4gITE7Y29uc3QgZT10aGlzLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLno7cmV0dXJuIDA9PT10Lm92ZXJzY2FsZWRafHx0Lm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJnQuY2Fub25pY2FsLno8dGhpcy5jYW5vbmljYWwueiYmdC5jYW5vbmljYWwueD09PXRoaXMuY2Fub25pY2FsLng+PmUmJnQuY2Fub25pY2FsLnk9PT10aGlzLmNhbm9uaWNhbC55Pj5lfWNoaWxkcmVuKHQpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PXQpcmV0dXJuIFtuZXcgc2wodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO2NvbnN0IGU9dGhpcy5jYW5vbmljYWwueisxLHI9Mip0aGlzLmNhbm9uaWNhbC54LG49Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IHNsKGUsdGhpcy53cmFwLGUscixuKSxuZXcgc2woZSx0aGlzLndyYXAsZSxyKzEsbiksbmV3IHNsKGUsdGhpcy53cmFwLGUscixuKzEpLG5ldyBzbChlLHRoaXMud3JhcCxlLHIrMSxuKzEpXX1pc0xlc3NUaGFuKHQpe3JldHVybiB0aGlzLndyYXA8dC53cmFwfHwhKHRoaXMud3JhcD50LndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjx0Lm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+dC5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PHQuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD50LmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTx0LmNhbm9uaWNhbC55KSl9d3JhcHBlZCgpe3JldHVybiBuZXcgc2wodGhpcy5vdmVyc2NhbGVkWiwwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX11bndyYXBUbyh0KXtyZXR1cm4gbmV3IHNsKHRoaXMub3ZlcnNjYWxlZFosdCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9b3ZlcnNjYWxlRmFjdG9yKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX10b1Vud3JhcHBlZCgpe3JldHVybiBuZXcgYWwodGhpcy53cmFwLHRoaXMuY2Fub25pY2FsKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm92ZXJzY2FsZWRafS8ke3RoaXMuY2Fub25pY2FsLnh9LyR7dGhpcy5jYW5vbmljYWwueX1gfX1mdW5jdGlvbiBvbCh0LGUscixuLGkpe2NvbnN0IGE9MTw8TWF0aC5taW4ociwyMik7bGV0IHM9YSooaSVhKStuJWE7cmV0dXJuIHQmJnI8MjImJihzKz1hKmEqKCh0PDA/LTIqdC0xOjIqdCklKDE8PDIqKDIyLXIpKSkpLDE2KigzMipzK3IpKyhlLXIpfWNvbnN0IGxsPVt0PT57bGV0IGU9dC5jYW5vbmljYWwueC0xLHI9dC53cmFwO3JldHVybiBlPDAmJihlPSgxPDx0LmNhbm9uaWNhbC56KS0xLHItLSksbmV3IHNsKHQub3ZlcnNjYWxlZFoscix0LmNhbm9uaWNhbC56LGUsdC5jYW5vbmljYWwueSl9LHQ9PntsZXQgZT10LmNhbm9uaWNhbC54KzEscj10LndyYXA7cmV0dXJuIGU9PT0xPDx0LmNhbm9uaWNhbC56JiYoZT0wLHIrKyksbmV3IHNsKHQub3ZlcnNjYWxlZFoscix0LmNhbm9uaWNhbC56LGUsdC5jYW5vbmljYWwueSl9LHQ9Pm5ldyBzbCh0Lm92ZXJzY2FsZWRaLHQud3JhcCx0LmNhbm9uaWNhbC56LHQuY2Fub25pY2FsLngsKDA9PT10LmNhbm9uaWNhbC55PzE8PHQuY2Fub25pY2FsLno6dC5jYW5vbmljYWwueSktMSksdD0+bmV3IHNsKHQub3ZlcnNjYWxlZFosdC53cmFwLHQuY2Fub25pY2FsLnosdC5jYW5vbmljYWwueCx0LmNhbm9uaWNhbC55PT09KDE8PHQuY2Fub25pY2FsLnopLTE/MDp0LmNhbm9uaWNhbC55KzEpXTtyYShpbCxcIkNhbm9uaWNhbFRpbGVJRFwiKSxyYShzbCxcIk92ZXJzY2FsZWRUaWxlSURcIix7b21pdDpbXCJwcm9qTWF0cml4XCIsXCJleHBhbmRlZFByb2pNYXRyaXhcIl19KTtjb25zdCB1bD0wLGNsPTI1LjU7ZnVuY3Rpb24gaGwodCl7cmV0dXJuIFFvKk1hdGguY29zKHQqTWF0aC5QSS8xODApfWZ1bmN0aW9uIHBsKHQpe3JldHVybiAoMTgwK3QpLzM2MH1mdW5jdGlvbiBmbCh0KXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrdCpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gZGwodCxlKXtyZXR1cm4gdC9obChlKX1mdW5jdGlvbiBtbCh0KXtyZXR1cm4gMzYwKnQtMTgwfWZ1bmN0aW9uIHlsKHQpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqdCkqTWF0aC5QSS8xODApKS05MH1mdW5jdGlvbiBnbCh0LGUpe3JldHVybiB0KmhsKHlsKGUpKX1jb25zdCB4bD04NS4wNTExMjk7ZnVuY3Rpb24gdmwodCl7cmV0dXJuIE1hdGguY29zKGIoSSh0LC14bCx4bCkpKX1mdW5jdGlvbiBibCh0LGUpe2NvbnN0IHI9SShlLHVsLGNsKSxuPU1hdGgucG93KDIscik7cmV0dXJuIHZsKHQpKlFvLyg1MTIqbil9ZnVuY3Rpb24gX2wodCl7cmV0dXJuIDEvTWF0aC5jb3ModCpNYXRoLlBJLzE4MCl9ZnVuY3Rpb24gd2wodCxlPTApe2NvbnN0IHI9TWF0aC5leHAoTWF0aC5QSSooMS0odC55K2UvVHIpLygxPDx0LnopKjIpKTtyZXR1cm4gODAxNTAwMzQqci8ocipyKzEpL1RyLygxPDx0LnopfWNsYXNzIE1se2NvbnN0cnVjdG9yKHQsZSxyPTApe3RoaXMueD0rdCx0aGlzLnk9K2UsdGhpcy56PStyO31zdGF0aWMgZnJvbUxuZ0xhdCh0LGU9MCl7Y29uc3Qgcj10bC5jb252ZXJ0KHQpO3JldHVybiBuZXcgTWwocGwoci5sbmcpLGZsKHIubGF0KSxkbChlLHIubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IHRsKG1sKHRoaXMueCkseWwodGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBnbCh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS9RbypfbCh5bCh0aGlzLnkpKX19ZnVuY3Rpb24gQWwodCxlLHIsbixpLGEscyxvLGwpe2NvbnN0IHU9KGUrbikvMixjPShyK2kpLzIsaD1uZXcgZyh1LGMpO28oaCksZnVuY3Rpb24odCxlLHIsbixpLGEpe2NvbnN0IHM9ci1pLG89bi1hO3JldHVybiBNYXRoLmFicygobi1lKSpzLShyLXQpKm8pL01hdGguaHlwb3QocyxvKX0oaC54LGgueSxhLngsYS55LHMueCxzLnkpPj1sPyhBbCh0LGUscix1LGMsYSxoLG8sbCksQWwodCx1LGMsbixpLGgscyxvLGwpKTp0LnB1c2gocyk7fWZ1bmN0aW9uIFNsKHQsZSxyKXtsZXQgbj10WzBdLGk9bi54LGE9bi55O2Uobik7Y29uc3Qgcz1bbl07Zm9yKGxldCBvPTE7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IGw9dFtvXSx7eDp1LHk6Y309bDtlKGwpLEFsKHMsaSxhLHUsYyxuLGwsZSxyKSxpPXUsYT1jLG49bDt9cmV0dXJuIHN9ZnVuY3Rpb24gSWwodCxlLHIsbil7aWYobihlLHIpKXtjb25zdCBpPWUuYWRkKHIpLl9tdWx0KC41KTtJbCh0LGUsaSxuKSxJbCh0LGkscixuKTt9ZWxzZSB0LnB1c2gocik7fWZ1bmN0aW9uIGtsKHQsZSl7bGV0IHI9dFswXTtjb25zdCBuPVtyXTtmb3IobGV0IGk9MTtpPHQubGVuZ3RoO2krKyl7Y29uc3QgYT10W2ldO0lsKG4scixhLGUpLHI9YTt9cmV0dXJuIG59Y29uc3QgUGw9TWF0aC5wb3coMiwxNCktMSxFbD0tUGwtMTtmdW5jdGlvbiB6bCh0LGUpe2NvbnN0IHI9TWF0aC5yb3VuZCh0LngqZSksbj1NYXRoLnJvdW5kKHQueSplKTtyZXR1cm4gdC54PUkocixFbCxQbCksdC55PUkobixFbCxQbCksKHI8dC54fHxyPnQueCsxfHxuPHQueXx8bj50LnkrMSkmJmooXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSx0fWZ1bmN0aW9uIFRsKHQsZSxyKXtjb25zdCBuPXQubG9hZEdlb21ldHJ5KCksaT10LmV4dGVudCxhPVRyL2k7aWYoZSYmciYmci5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3QgYT0xPDxlLnose3NjYWxlOnMseDpvLHk6bCxwcm9qZWN0aW9uOnV9PXIsYz10PT57Y29uc3Qgcj1tbCgoZS54K3QueC9pKS9hKSxuPXlsKChlLnkrdC55L2kpL2EpLGM9dS5wcm9qZWN0KHIsbik7dC54PShjLngqcy1vKSppLHQueT0oYy55KnMtbCkqaTt9O2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKDEhPT10LnR5cGUpbltlXT1TbChuW2VdLGMsMSk7ZWxzZSB7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiBuW2VdKXIueDwwfHxyLng+PWl8fHIueTwwfHxyLnk+PWl8fChjKHIpLHQucHVzaChyKSk7bltlXT10O319Zm9yKGNvbnN0IHQgb2Ygbilmb3IoY29uc3QgZSBvZiB0KXpsKGUsYSk7cmV0dXJuIG59ZnVuY3Rpb24gQmwodCxlKXtyZXR1cm4ge3R5cGU6dC50eXBlLGlkOnQuaWQscHJvcGVydGllczp0LnByb3BlcnRpZXMsZ2VvbWV0cnk6ZT9UbCh0KTpbXX19ZnVuY3Rpb24gQ2wodCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKDIqZSsobisxKS8yLDIqcisoaSsxKS8yKTt9ZnVuY3Rpb24gUmwodCxlLHIpe2NvbnN0IG49MTYzODQ7dC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyWzBdKm4sclsxXSpuLHJbMl0qbik7fWNsYXNzIERse2NvbnN0cnVjdG9yKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKCh0PT50LmZxaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgcHMsdGhpcy5pbmRleEFycmF5PW5ldyBFcyx0aGlzLnNlZ21lbnRzPW5ldyBlbyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVm8odC5sYXllcnMsdC56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpO31wb3B1bGF0ZSh0LGUscixuKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLGE9W107bGV0IHM9bnVsbDtcImNpcmNsZVwiPT09aS50eXBlJiYocz1pLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOmUsaWQ6aSxpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6bH1vZiB0KXtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx1PUJsKGUsdCk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgUGEodGhpcy56b29tKSx1LHIpKWNvbnRpbnVlO2NvbnN0IGM9cz9zLmV2YWx1YXRlKHUse30scik6dm9pZCAwLGg9e2lkOmkscHJvcGVydGllczplLnByb3BlcnRpZXMsdHlwZTplLnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4Om8sZ2VvbWV0cnk6dD91Lmdlb21ldHJ5OlRsKGUscixuKSxwYXR0ZXJuczp7fSxzb3J0S2V5OmN9O2EucHVzaChoKTt9cyYmYS5zb3J0KCgodCxlKT0+dC5zb3J0S2V5LWUuc29ydEtleSkpO2xldCBvPW51bGw7XCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IGJzLG89bi5wcm9qZWN0aW9uKTtmb3IoY29uc3QgbiBvZiBhKXtjb25zdHtnZW9tZXRyeTppLGluZGV4OmEsc291cmNlTGF5ZXJJbmRleDpzfT1uLGw9dFthXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShuLGksYSxlLmF2YWlsYWJsZUltYWdlcyxyLG8sZS5icmlnaHRuZXNzKSxlLmZlYXR1cmVJbmRleC5pbnNlcnQobCxpLGEscyx0aGlzLmluZGV4KTt9fXVwZGF0ZSh0LGUscixuLGkpe2NvbnN0IGE9MCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aDthJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSxhP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMscixuLGkpO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksUXMubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksdG8ubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUodCxlLHIsbixpLGEscyl7Zm9yKGNvbnN0IHIgb2YgZSlmb3IoY29uc3QgZSBvZiByKXtjb25zdCByPWUueCxuPWUueTtpZihyPDB8fHI+PVRyfHxuPDB8fG4+PVRyKWNvbnRpbnVlO2lmKGEpe2NvbnN0IHQ9YS5wcm9qZWN0VGlsZVBvaW50KHIsbixpKSxlPWEudXBWZWN0b3IoaSxyLG4pLHM9dGhpcy5nbG9iZUV4dFZlcnRleEFycmF5O1JsKHMsdCxlKSxSbChzLHQsZSksUmwocyx0LGUpLFJsKHMsdCxlKTt9Y29uc3Qgcz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXksdC5zb3J0S2V5KSxvPXMudmVydGV4TGVuZ3RoO0NsKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLC0xLC0xKSxDbCh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwxLC0xKSxDbCh0aGlzLmxheW91dFZlcnRleEFycmF5LHIsbiwxLDEpLENsKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLC0xLDEpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhvLG8rMSxvKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhvLG8rMixvKzMpLHMudmVydGV4TGVuZ3RoKz00LHMucHJpbWl0aXZlTGVuZ3RoKz0yO310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLHQscix7fSxuLGkscyk7fX1mdW5jdGlvbiBWbCh0LGUpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKEdsKGUsdFtyXSkpcmV0dXJuICEwO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKEdsKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhIU9sKHQsZSl9ZnVuY3Rpb24gTGwodCxlLHIpe3JldHVybiAhIUdsKHQsZSl8fCEhamwoZSx0LHIpfWZ1bmN0aW9uIEZsKHQsZSl7aWYoMT09PXQubGVuZ3RoKXJldHVybiAkbChlLHRbMF0pO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPWVbcl07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaWYoR2wodCxuW2VdKSlyZXR1cm4gITB9Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYoJGwoZSx0W3JdKSlyZXR1cm4gITA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoT2wodCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIE5sKHQsZSxyKXtpZih0Lmxlbmd0aD4xKXtpZihPbCh0LGUpKXJldHVybiAhMDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZihqbChlW25dLHQscikpcmV0dXJuICEwfWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKGpsKHRbbl0sZSxyKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIE9sKHQsZSl7aWYoMD09PXQubGVuZ3RofHwwPT09ZS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspe2NvbnN0IG49dFtyXSxpPXRbcisxXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKWlmKFVsKG4saSxlW3RdLGVbdCsxXSkpcmV0dXJuICEwfXJldHVybiAhMX1mdW5jdGlvbiBVbCh0LGUscixuKXtyZXR1cm4gcSh0LHIsbikhPT1xKGUscixuKSYmcSh0LGUscikhPT1xKHQsZSxuKX1mdW5jdGlvbiBqbCh0LGUscil7Y29uc3Qgbj1yKnI7aWYoMT09PWUubGVuZ3RoKXJldHVybiB0LmRpc3RTcXIoZVswXSk8bjtmb3IobGV0IHI9MTtyPGUubGVuZ3RoO3IrKylpZihxbCh0LGVbci0xXSxlW3JdKTxuKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcWwodCxlLHIpe2NvbnN0IG49ZS5kaXN0U3FyKHIpO2lmKDA9PT1uKXJldHVybiB0LmRpc3RTcXIoZSk7Y29uc3QgaT0oKHQueC1lLngpKihyLngtZS54KSsodC55LWUueSkqKHIueS1lLnkpKS9uO3JldHVybiB0LmRpc3RTcXIoaTwwP2U6aT4xP3I6ci5zdWIoZSkuX211bHQoaSkuX2FkZChlKSl9ZnVuY3Rpb24gJGwodCxlKXtsZXQgcixuLGksYT0hMTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl7cj10W3NdO2ZvcihsZXQgdD0wLHM9ci5sZW5ndGgtMTt0PHIubGVuZ3RoO3M9dCsrKW49clt0XSxpPXJbc10sbi55PmUueSE9aS55PmUueSYmZS54PChpLngtbi54KSooZS55LW4ueSkvKGkueS1uLnkpK24ueCYmKGE9IWEpO31yZXR1cm4gYX1mdW5jdGlvbiBHbCh0LGUpe2xldCByPSExO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGgtMTtuPHQubGVuZ3RoO2k9bisrKXtjb25zdCBhPXRbbl0scz10W2ldO2EueT5lLnkhPXMueT5lLnkmJmUueDwocy54LWEueCkqKGUueS1hLnkpLyhzLnktYS55KSthLngmJihyPSFyKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gWWwodCxlLHIsbixpKXtmb3IoY29uc3QgYSBvZiB0KWlmKGU8PWEueCYmcjw9YS55JiZuPj1hLngmJmk+PWEueSlyZXR1cm4gITA7Y29uc3QgYT1bbmV3IGcoZSxyKSxuZXcgZyhlLGkpLG5ldyBnKG4saSksbmV3IGcobixyKV07aWYodC5sZW5ndGg+Milmb3IoY29uc3QgZSBvZiBhKWlmKEdsKHQsZSkpcmV0dXJuICEwO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspaWYoWGwodFtlXSx0W2UrMV0sYSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBYbCh0LGUscil7Y29uc3Qgbj1yWzBdLGk9clsyXTtpZih0Lng8bi54JiZlLng8bi54fHx0Lng+aS54JiZlLng+aS54fHx0Lnk8bi55JiZlLnk8bi55fHx0Lnk+aS55JiZlLnk+aS55KXJldHVybiAhMTtjb25zdCBhPXEodCxlLHJbMF0pO3JldHVybiBhIT09cSh0LGUsclsxXSl8fGEhPT1xKHQsZSxyWzJdKXx8YSE9PXEodCxlLHJbM10pfWZ1bmN0aW9uIFpsKHQsZSxyLG4saSxhKXtsZXQgcz1lLnktdC55LG89dC54LWUueDtpZihhPWF8fDApe2NvbnN0IHQ9cypzK28qbztpZigwPT09dClyZXR1cm4gITA7Y29uc3QgZT1NYXRoLnNxcnQodCk7cy89ZSxvLz1lO31yZXR1cm4gISgoci54LXQueCkqcysoci55LXQueSkqby1hPDB8fChuLngtdC54KSpzKyhuLnktdC55KSpvLWE8MHx8KGkueC10LngpKnMrKGkueS10LnkpKm8tYTwwKX1mdW5jdGlvbiBLbCh0LGUscixuLGksYSxzKXtyZXR1cm4gIShabCh0LGUsbixpLGEscyl8fFpsKGUscixuLGksYSxzKXx8Wmwocix0LG4saSxhLHMpfHxabChuLGksdCxlLHIscyl8fFpsKGksYSx0LGUscixzKXx8WmwoYSxuLHQsZSxyLHMpKX1mdW5jdGlvbiBIbCh0LGUscil7Y29uc3Qgbj1lLnBhaW50LmdldCh0KS52YWx1ZTtyZXR1cm4gXCJjb25zdGFudFwiPT09bi5raW5kP24udmFsdWU6ci5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGUuaWQpLmdldE1heFZhbHVlKHQpfWZ1bmN0aW9uIFdsKHQpe3JldHVybiBNYXRoLnNxcnQodFswXSp0WzBdK3RbMV0qdFsxXSl9ZnVuY3Rpb24gSmwodCxlLHIsbixpKXtpZighZVswXSYmIWVbMV0pcmV0dXJuIHQ7Y29uc3QgYT1nLmNvbnZlcnQoZSkuX211bHQoaSk7XCJ2aWV3cG9ydFwiPT09ciYmYS5fcm90YXRlKC1uKTtjb25zdCBzPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXMucHVzaCh0W2VdLnN1YihhKSk7cmV0dXJuIHN9ZnVuY3Rpb24gUWwodCxlLHIsbil7Y29uc3QgaT1nLmNvbnZlcnQodCkuX211bHQobik7cmV0dXJuIFwidmlld3BvcnRcIj09PWUmJmkuX3JvdGF0ZSgtciksaX1yYShEbCxcIkNpcmNsZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NvbnN0IHR1PW5ldyBPYSh7XCJjaXJjbGUtc29ydC1rZXlcIjpuZXcgRmEocWEubGF5b3V0X2NpcmNsZVtcImNpcmNsZS1zb3J0LWtleVwiXSksdmlzaWJpbGl0eTpuZXcgTGEocWEubGF5b3V0X2NpcmNsZS52aXNpYmlsaXR5KX0pO3ZhciBldT17cGFpbnQ6bmV3IE9hKHtcImNpcmNsZS1yYWRpdXNcIjpuZXcgRmEocWEucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXJhZGl1c1wiXSksXCJjaXJjbGUtY29sb3JcIjpuZXcgRmEocWEucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWNvbG9yXCJdKSxcImNpcmNsZS1ibHVyXCI6bmV3IEZhKHFhLnBhaW50X2NpcmNsZVtcImNpcmNsZS1ibHVyXCJdKSxcImNpcmNsZS1vcGFjaXR5XCI6bmV3IEZhKHFhLnBhaW50X2NpcmNsZVtcImNpcmNsZS1vcGFjaXR5XCJdKSxcImNpcmNsZS10cmFuc2xhdGVcIjpuZXcgTGEocWEucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjpuZXcgTGEocWEucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLXNjYWxlXCJdKSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjpuZXcgTGEocWEucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiXSksXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6bmV3IEZhKHFhLnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utd2lkdGhcIl0pLFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOm5ldyBGYShxYS5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCJdKSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOm5ldyBGYShxYS5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IExhKHFhLnBhaW50X2NpcmNsZVtcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6dHV9LHJ1PXt9LG51PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShudSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxudS5zZXRNYXRyaXhBcnJheVR5cGU9ZnVuY3Rpb24odCl7bnUuQVJSQVlfVFlQRT1hdT10O30sbnUudG9SYWRpYW49ZnVuY3Rpb24odCl7cmV0dXJuIHQqb3V9LG51LmVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpPD1pdSpNYXRoLm1heCgxLE1hdGguYWJzKHQpLE1hdGguYWJzKGUpKX0sbnUuUkFORE9NPW51LkFSUkFZX1RZUEU9bnUuRVBTSUxPTj12b2lkIDA7dmFyIGl1PTFlLTY7bnUuRVBTSUxPTj1pdTt2YXIgYXU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7bnUuQVJSQVlfVFlQRT1hdTt2YXIgc3U9TWF0aC5yYW5kb207bnUuUkFORE9NPXN1O3ZhciBvdT1NYXRoLlBJLzE4MDtNYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9YXJndW1lbnRzLmxlbmd0aDtlLS07KXQrPWFyZ3VtZW50c1tlXSphcmd1bWVudHNbZV07cmV0dXJuIE1hdGguc3FydCh0KX0pO3ZhciBsdT17fTtmdW5jdGlvbiB1dSh0KXtyZXR1cm4gdXU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdXUodCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGx1LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGx1LmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBjdS5BUlJBWV9UWVBFKDQpO3JldHVybiBjdS5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wKSx0WzBdPTEsdFszXT0xLHR9LGx1LmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjdS5BUlJBWV9UWVBFKDQpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZX0sbHUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH0sbHUuaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MSx0fSxsdS5mcm9tVmFsdWVzPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPW5ldyBjdS5BUlJBWV9UWVBFKDQpO3JldHVybiBpWzBdPXQsaVsxXT1lLGlbMl09cixpWzNdPW4saX0sbHUuc2V0PWZ1bmN0aW9uKHQsZSxyLG4saSl7cmV0dXJuIHRbMF09ZSx0WzFdPXIsdFsyXT1uLHRbM109aSx0fSxsdS50cmFuc3Bvc2U9ZnVuY3Rpb24odCxlKXtpZih0PT09ZSl7dmFyIHI9ZVsxXTt0WzFdPWVbMl0sdFsyXT1yO31lbHNlIHRbMF09ZVswXSx0WzFdPWVbMl0sdFsyXT1lWzFdLHRbM109ZVszXTtyZXR1cm4gdH0sbHUuaW52ZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxzPXIqYS1pKm47cmV0dXJuIHM/KHRbMF09YSoocz0xL3MpLHRbMV09LW4qcyx0WzJdPS1pKnMsdFszXT1yKnMsdCk6bnVsbH0sbHUuYWRqb2ludD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF07cmV0dXJuIHRbMF09ZVszXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT1yLHR9LGx1LmRldGVybWluYW50PWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdKnRbM10tdFsyXSp0WzFdfSxsdS5tdWx0aXBseT1wdSxsdS5yb3RhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiB0WzBdPW4qbCthKm8sdFsxXT1pKmwrcypvLHRbMl09biotbythKmwsdFszXT1pKi1vK3MqbCx0fSxsdS5zY2FsZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9clswXSxvPXJbMV07cmV0dXJuIHRbMF09ZVswXSpzLHRbMV09bipzLHRbMl09aSpvLHRbM109YSpvLHR9LGx1LmZyb21Sb3RhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7cmV0dXJuIHRbMF09bix0WzFdPXIsdFsyXT0tcix0WzNdPW4sdH0sbHUuZnJvbVNjYWxpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09MCx0WzJdPTAsdFszXT1lWzFdLHR9LGx1LnN0cj1mdW5jdGlvbih0KXtyZXR1cm4gXCJtYXQyKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIsIFwiK3RbM10rXCIpXCJ9LGx1LmZyb2I9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguaHlwb3QodFswXSx0WzFdLHRbMl0sdFszXSl9LGx1LkxEVT1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdFsyXT1uWzJdL25bMF0sclswXT1uWzBdLHJbMV09blsxXSxyWzNdPW5bM10tdFsyXSpyWzFdLFt0LGUscl19LGx1LmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHRbM109ZVszXStyWzNdLHR9LGx1LnN1YnRyYWN0PWZ1LGx1LmV4YWN0RXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXSYmdFsyXT09PWVbMl0mJnRbM109PT1lWzNdfSxsdS5lcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sYT10WzNdLHM9ZVswXSxvPWVbMV0sbD1lWzJdLHU9ZVszXTtyZXR1cm4gTWF0aC5hYnMoci1zKTw9Y3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMobi1vKTw9Y3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMoaS1sKTw9Y3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKGwpKSYmTWF0aC5hYnMoYS11KTw9Y3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEpLE1hdGguYWJzKHUpKX0sbHUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0fSxsdS5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0qbix0WzFdPWVbMV0rclsxXSpuLHRbMl09ZVsyXStyWzJdKm4sdFszXT1lWzNdK3JbM10qbix0fSxsdS5zdWI9bHUubXVsPXZvaWQgMDt2YXIgY3U9ZnVuY3Rpb24odCxlKXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPT11dSh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4ge2RlZmF1bHQ6dH07dmFyIHI9aHUodm9pZCAwKTtpZihyJiZyLmhhcyh0KSlyZXR1cm4gci5nZXQodCk7dmFyIG49e30saT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBhIGluIHQpaWYoXCJkZWZhdWx0XCIhPT1hJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSl7dmFyIHM9aT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYSk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixhLHMpOm5bYV09dFthXTt9cmV0dXJuIG4uZGVmYXVsdD10LHImJnIuc2V0KHQsbiksbn0obnUpO2Z1bmN0aW9uIGh1KHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcDtyZXR1cm4gKGh1PWZ1bmN0aW9uKHQpe3JldHVybiB0P3I6ZX0pKHQpfWZ1bmN0aW9uIHB1KHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89clswXSxsPXJbMV0sdT1yWzJdLGM9clszXTtyZXR1cm4gdFswXT1uKm8rYSpsLHRbMV09aSpvK3MqbCx0WzJdPW4qdSthKmMsdFszXT1pKnUrcypjLHR9ZnVuY3Rpb24gZnUodCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0WzNdPWVbM10tclszXSx0fWx1Lm11bD1wdSxsdS5zdWI9ZnU7dmFyIGR1PXt9O2Z1bmN0aW9uIG11KHQpe3JldHVybiBtdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxtdSh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZHUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZHUuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHl1LkFSUkFZX1RZUEUoNik7cmV0dXJuIHl1LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFs0XT0wLHRbNV09MCksdFswXT0xLHRbM109MSx0fSxkdS5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgeXUuQVJSQVlfVFlQRSg2KTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbNF09dFs0XSxlWzVdPXRbNV0sZX0sZHUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0fSxkdS5pZGVudGl0eT1mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0xLHRbNF09MCx0WzVdPTAsdH0sZHUuZnJvbVZhbHVlcz1mdW5jdGlvbih0LGUscixuLGksYSl7dmFyIHM9bmV3IHl1LkFSUkFZX1RZUEUoNik7cmV0dXJuIHNbMF09dCxzWzFdPWUsc1syXT1yLHNbM109bixzWzRdPWksc1s1XT1hLHN9LGR1LnNldD1mdW5jdGlvbih0LGUscixuLGksYSxzKXtyZXR1cm4gdFswXT1lLHRbMV09cix0WzJdPW4sdFszXT1pLHRbNF09YSx0WzVdPXMsdH0sZHUuaW52ZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxzPWVbNF0sbz1lWzVdLGw9ciphLW4qaTtyZXR1cm4gbD8odFswXT1hKihsPTEvbCksdFsxXT0tbipsLHRbMl09LWkqbCx0WzNdPXIqbCx0WzRdPShpKm8tYSpzKSpsLHRbNV09KG4qcy1yKm8pKmwsdCk6bnVsbH0sZHUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0qdFszXS10WzFdKnRbMl19LGR1Lm11bHRpcGx5PXh1LGR1LnJvdGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLHM9ZVszXSxvPWVbNF0sbD1lWzVdLHU9TWF0aC5zaW4ociksYz1NYXRoLmNvcyhyKTtyZXR1cm4gdFswXT1uKmMrYSp1LHRbMV09aSpjK3MqdSx0WzJdPW4qLXUrYSpjLHRbM109aSotdStzKmMsdFs0XT1vLHRbNV09bCx0fSxkdS5zY2FsZT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9ZVs0XSxvPWVbNV0sbD1yWzBdLHU9clsxXTtyZXR1cm4gdFswXT1lWzBdKmwsdFsxXT1uKmwsdFsyXT1pKnUsdFszXT1hKnUsdFs0XT1zLHRbNV09byx0fSxkdS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PXJbMF0sYz1yWzFdO3JldHVybiB0WzBdPW4sdFsxXT1pLHRbMl09YSx0WzNdPXMsdFs0XT1uKnUrYSpjK28sdFs1XT1pKnUrcypjK2wsdH0sZHUuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT1uLHRbMV09cix0WzJdPS1yLHRbM109bix0WzRdPTAsdFs1XT0wLHR9LGR1LmZyb21TY2FsaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPTAsdFsyXT0wLHRbM109ZVsxXSx0WzRdPTAsdFs1XT0wLHR9LGR1LmZyb21UcmFuc2xhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT1lWzBdLHRbNV09ZVsxXSx0fSxkdS5zdHI9ZnVuY3Rpb24odCl7cmV0dXJuIFwibWF0MmQoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIiwgXCIrdFs0XStcIiwgXCIrdFs1XStcIilcIn0sZHUuZnJvYj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XSwxKX0sZHUuYWRkPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0sdFsxXT1lWzFdK3JbMV0sdFsyXT1lWzJdK3JbMl0sdFszXT1lWzNdK3JbM10sdFs0XT1lWzRdK3JbNF0sdFs1XT1lWzVdK3JbNV0sdH0sZHUuc3VidHJhY3Q9dnUsZHUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qcix0WzVdPWVbNV0qcix0fSxkdS5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0qbix0WzFdPWVbMV0rclsxXSpuLHRbMl09ZVsyXStyWzJdKm4sdFszXT1lWzNdK3JbM10qbix0WzRdPWVbNF0rcls0XSpuLHRbNV09ZVs1XStyWzVdKm4sdH0sZHUuZXhhY3RFcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXSYmdFszXT09PWVbM10mJnRbNF09PT1lWzRdJiZ0WzVdPT09ZVs1XX0sZHUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLGE9dFszXSxzPXRbNF0sbz10WzVdLGw9ZVswXSx1PWVbMV0sYz1lWzJdLGg9ZVszXSxwPWVbNF0sZj1lWzVdO3JldHVybiBNYXRoLmFicyhyLWwpPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhuLXUpPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnModSkpJiZNYXRoLmFicyhpLWMpPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMoYykpJiZNYXRoLmFicyhhLWgpPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhzLXApPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMocCkpJiZNYXRoLmFicyhvLWYpPD15dS5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMoZikpfSxkdS5zdWI9ZHUubXVsPXZvaWQgMDt2YXIgeXU9ZnVuY3Rpb24odCxlKXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPT1tdSh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4ge2RlZmF1bHQ6dH07dmFyIHI9Z3Uodm9pZCAwKTtpZihyJiZyLmhhcyh0KSlyZXR1cm4gci5nZXQodCk7dmFyIG49e30saT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBhIGluIHQpaWYoXCJkZWZhdWx0XCIhPT1hJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSl7dmFyIHM9aT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYSk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixhLHMpOm5bYV09dFthXTt9cmV0dXJuIG4uZGVmYXVsdD10LHImJnIuc2V0KHQsbiksbn0obnUpO2Z1bmN0aW9uIGd1KHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcDtyZXR1cm4gKGd1PWZ1bmN0aW9uKHQpe3JldHVybiB0P3I6ZX0pKHQpfWZ1bmN0aW9uIHh1KHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89ZVs0XSxsPWVbNV0sdT1yWzBdLGM9clsxXSxoPXJbMl0scD1yWzNdLGY9cls0XSxkPXJbNV07cmV0dXJuIHRbMF09bip1K2EqYyx0WzFdPWkqdStzKmMsdFsyXT1uKmgrYSpwLHRbM109aSpoK3MqcCx0WzRdPW4qZithKmQrbyx0WzVdPWkqZitzKmQrbCx0fWZ1bmN0aW9uIHZ1KHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdLXJbMF0sdFsxXT1lWzFdLXJbMV0sdFsyXT1lWzJdLXJbMl0sdFszXT1lWzNdLXJbM10sdFs0XT1lWzRdLXJbNF0sdFs1XT1lWzVdLXJbNV0sdH1kdS5tdWw9eHUsZHUuc3ViPXZ1O3ZhciBidT17fTtmdW5jdGlvbiBfdSh0KXtyZXR1cm4gX3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sX3UodCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ1LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGJ1LmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB3dS5BUlJBWV9UWVBFKDkpO3JldHVybiB3dS5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzVdPTAsdFs2XT0wLHRbN109MCksdFswXT0xLHRbNF09MSx0WzhdPTEsdH0sYnUuZnJvbU1hdDQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzRdLHRbNF09ZVs1XSx0WzVdPWVbNl0sdFs2XT1lWzhdLHRbN109ZVs5XSx0WzhdPWVbMTBdLHR9LGJ1LmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3dS5BUlJBWV9UWVBFKDkpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlfSxidS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHR9LGJ1LmZyb21WYWx1ZXM9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvLGwpe3ZhciB1PW5ldyB3dS5BUlJBWV9UWVBFKDkpO3JldHVybiB1WzBdPXQsdVsxXT1lLHVbMl09cix1WzNdPW4sdVs0XT1pLHVbNV09YSx1WzZdPXMsdVs3XT1vLHVbOF09bCx1fSxidS5zZXQ9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvLGwsdSl7cmV0dXJuIHRbMF09ZSx0WzFdPXIsdFsyXT1uLHRbM109aSx0WzRdPWEsdFs1XT1zLHRbNl09byx0WzddPWwsdFs4XT11LHR9LGJ1LmlkZW50aXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0xLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fSxidS50cmFuc3Bvc2U9ZnVuY3Rpb24odCxlKXtpZih0PT09ZSl7dmFyIHI9ZVsxXSxuPWVbMl0saT1lWzVdO3RbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1yLHRbNV09ZVs3XSx0WzZdPW4sdFs3XT1pO31lbHNlIHRbMF09ZVswXSx0WzFdPWVbM10sdFsyXT1lWzZdLHRbM109ZVsxXSx0WzRdPWVbNF0sdFs1XT1lWzddLHRbNl09ZVsyXSx0WzddPWVbNV0sdFs4XT1lWzhdO3JldHVybiB0fSxidS5pbnZlcnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9ZVs0XSxvPWVbNV0sbD1lWzZdLHU9ZVs3XSxjPWVbOF0saD1jKnMtbyp1LHA9LWMqYStvKmwsZj11KmEtcypsLGQ9cipoK24qcCtpKmY7cmV0dXJuIGQ/KHRbMF09aCooZD0xL2QpLHRbMV09KC1jKm4raSp1KSpkLHRbMl09KG8qbi1pKnMpKmQsdFszXT1wKmQsdFs0XT0oYypyLWkqbCkqZCx0WzVdPSgtbypyK2kqYSkqZCx0WzZdPWYqZCx0WzddPSgtdSpyK24qbCkqZCx0WzhdPShzKnItbiphKSpkLHQpOm51bGx9LGJ1LmFkam9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9ZVs0XSxvPWVbNV0sbD1lWzZdLHU9ZVs3XSxjPWVbOF07cmV0dXJuIHRbMF09cypjLW8qdSx0WzFdPWkqdS1uKmMsdFsyXT1uKm8taSpzLHRbM109bypsLWEqYyx0WzRdPXIqYy1pKmwsdFs1XT1pKmEtcipvLHRbNl09YSp1LXMqbCx0WzddPW4qbC1yKnUsdFs4XT1yKnMtbiphLHR9LGJ1LmRldGVybWluYW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRbM10scj10WzRdLG49dFs1XSxpPXRbNl0sYT10WzddLHM9dFs4XTtyZXR1cm4gdFswXSoocypyLW4qYSkrdFsxXSooLXMqZStuKmkpK3RbMl0qKGEqZS1yKmkpfSxidS5tdWx0aXBseT1BdSxidS50cmFuc2xhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PWVbNl0sYz1lWzddLGg9ZVs4XSxwPXJbMF0sZj1yWzFdO3JldHVybiB0WzBdPW4sdFsxXT1pLHRbMl09YSx0WzNdPXMsdFs0XT1vLHRbNV09bCx0WzZdPXAqbitmKnMrdSx0WzddPXAqaStmKm8rYyx0WzhdPXAqYStmKmwraCx0fSxidS5yb3RhdGU9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PWVbNl0sYz1lWzddLGg9ZVs4XSxwPU1hdGguc2luKHIpLGY9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09ZipuK3Aqcyx0WzFdPWYqaStwKm8sdFsyXT1mKmErcCpsLHRbM109ZipzLXAqbix0WzRdPWYqby1wKmksdFs1XT1mKmwtcCphLHRbNl09dSx0WzddPWMsdFs4XT1oLHR9LGJ1LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXTtyZXR1cm4gdFswXT1uKmVbMF0sdFsxXT1uKmVbMV0sdFsyXT1uKmVbMl0sdFszXT1pKmVbM10sdFs0XT1pKmVbNF0sdFs1XT1pKmVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzhdPWVbOF0sdH0sYnUuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTEsdFs1XT0wLHRbNl09ZVswXSx0WzddPWVbMV0sdFs4XT0xLHR9LGJ1LmZyb21Sb3RhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7cmV0dXJuIHRbMF09bix0WzFdPXIsdFsyXT0wLHRbM109LXIsdFs0XT1uLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fSxidS5mcm9tU2NhbGluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT1lWzFdLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fSxidS5mcm9tTWF0MmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPTAsdFszXT1lWzJdLHRbNF09ZVszXSx0WzVdPTAsdFs2XT1lWzRdLHRbN109ZVs1XSx0WzhdPTEsdH0sYnUuZnJvbVF1YXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9cityLG89bituLGw9aStpLHU9cipzLGM9bipzLGg9bipvLHA9aSpzLGY9aSpvLGQ9aSpsLG09YSpzLHk9YSpvLGc9YSpsO3JldHVybiB0WzBdPTEtaC1kLHRbM109Yy1nLHRbNl09cCt5LHRbMV09YytnLHRbNF09MS11LWQsdFs3XT1mLW0sdFsyXT1wLXksdFs1XT1mK20sdFs4XT0xLXUtaCx0fSxidS5ub3JtYWxGcm9tTWF0ND1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1lWzRdLG89ZVs1XSxsPWVbNl0sdT1lWzddLGM9ZVs4XSxoPWVbOV0scD1lWzEwXSxmPWVbMTFdLGQ9ZVsxMl0sbT1lWzEzXSx5PWVbMTRdLGc9ZVsxNV0seD1yKm8tbipzLHY9cipsLWkqcyxiPXIqdS1hKnMsXz1uKmwtaSpvLHc9bip1LWEqbyxNPWkqdS1hKmwsQT1jKm0taCpkLFM9Yyp5LXAqZCxJPWMqZy1mKmQsaz1oKnktcCptLFA9aCpnLWYqbSxFPXAqZy1mKnksej14KkUtdipQK2IqaytfKkktdypTK00qQTtyZXR1cm4gej8odFswXT0obypFLWwqUCt1KmspKih6PTEveiksdFsxXT0obCpJLXMqRS11KlMpKnosdFsyXT0ocypQLW8qSSt1KkEpKnosdFszXT0oaSpQLW4qRS1hKmspKnosdFs0XT0ocipFLWkqSSthKlMpKnosdFs1XT0obipJLXIqUC1hKkEpKnosdFs2XT0obSpNLXkqdytnKl8pKnosdFs3XT0oeSpiLWQqTS1nKnYpKnosdFs4XT0oZCp3LW0qYitnKngpKnosdCk6bnVsbH0sYnUucHJvamVjdGlvbj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09Mi9lLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09LTIvcix0WzVdPTAsdFs2XT0tMSx0WzddPTEsdFs4XT0xLHR9LGJ1LnN0cj1mdW5jdGlvbih0KXtyZXR1cm4gXCJtYXQzKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIsIFwiK3RbM10rXCIsIFwiK3RbNF0rXCIsIFwiK3RbNV0rXCIsIFwiK3RbNl0rXCIsIFwiK3RbN10rXCIsIFwiK3RbOF0rXCIpXCJ9LGJ1LmZyb2I9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguaHlwb3QodFswXSx0WzFdLHRbMl0sdFszXSx0WzRdLHRbNV0sdFs2XSx0WzddLHRbOF0pfSxidS5hZGQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0rclswXSx0WzFdPWVbMV0rclsxXSx0WzJdPWVbMl0rclsyXSx0WzNdPWVbM10rclszXSx0WzRdPWVbNF0rcls0XSx0WzVdPWVbNV0rcls1XSx0WzZdPWVbNl0rcls2XSx0WzddPWVbN10rcls3XSx0WzhdPWVbOF0rcls4XSx0fSxidS5zdWJ0cmFjdD1TdSxidS5tdWx0aXBseVNjYWxhcj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXSpyLHRbMV09ZVsxXSpyLHRbMl09ZVsyXSpyLHRbM109ZVszXSpyLHRbNF09ZVs0XSpyLHRbNV09ZVs1XSpyLHRbNl09ZVs2XSpyLHRbN109ZVs3XSpyLHRbOF09ZVs4XSpyLHR9LGJ1Lm11bHRpcGx5U2NhbGFyQW5kQWRkPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiB0WzBdPWVbMF0rclswXSpuLHRbMV09ZVsxXStyWzFdKm4sdFsyXT1lWzJdK3JbMl0qbix0WzNdPWVbM10rclszXSpuLHRbNF09ZVs0XStyWzRdKm4sdFs1XT1lWzVdK3JbNV0qbix0WzZdPWVbNl0rcls2XSpuLHRbN109ZVs3XStyWzddKm4sdFs4XT1lWzhdK3JbOF0qbix0fSxidS5leGFjdEVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPT09ZVswXSYmdFsxXT09PWVbMV0mJnRbMl09PT1lWzJdJiZ0WzNdPT09ZVszXSYmdFs0XT09PWVbNF0mJnRbNV09PT1lWzVdJiZ0WzZdPT09ZVs2XSYmdFs3XT09PWVbN10mJnRbOF09PT1lWzhdfSxidS5lcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sYT10WzNdLHM9dFs0XSxvPXRbNV0sbD10WzZdLHU9dFs3XSxjPXRbOF0saD1lWzBdLHA9ZVsxXSxmPWVbMl0sZD1lWzNdLG09ZVs0XSx5PWVbNV0sZz1lWzZdLHg9ZVs3XSx2PWVbOF07cmV0dXJuIE1hdGguYWJzKHItaCk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhoKSkmJk1hdGguYWJzKG4tcCk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhwKSkmJk1hdGguYWJzKGktZik8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhmKSkmJk1hdGguYWJzKGEtZCk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhkKSkmJk1hdGguYWJzKHMtbSk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhtKSkmJk1hdGguYWJzKG8teSk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKGwtZyk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhnKSkmJk1hdGguYWJzKHUteCk8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyh4KSkmJk1hdGguYWJzKGMtdik8PXd1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyh2KSl9LGJ1LnN1Yj1idS5tdWw9dm9pZCAwO3ZhciB3dT1mdW5jdGlvbih0LGUpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PV91KHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiB7ZGVmYXVsdDp0fTt2YXIgcj1NdSh2b2lkIDApO2lmKHImJnIuaGFzKHQpKXJldHVybiByLmdldCh0KTt2YXIgbj17fSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGEgaW4gdClpZihcImRlZmF1bHRcIiE9PWEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxhKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGEscyk6blthXT10W2FdO31yZXR1cm4gbi5kZWZhdWx0PXQsciYmci5zZXQodCxuKSxufShudSk7ZnVuY3Rpb24gTXUodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwO3JldHVybiAoTXU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplfSkodCl9ZnVuY3Rpb24gQXUodCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PWVbNl0sYz1lWzddLGg9ZVs4XSxwPXJbMF0sZj1yWzFdLGQ9clsyXSxtPXJbM10seT1yWzRdLGc9cls1XSx4PXJbNl0sdj1yWzddLGI9cls4XTtyZXR1cm4gdFswXT1wKm4rZipzK2QqdSx0WzFdPXAqaStmKm8rZCpjLHRbMl09cCphK2YqbCtkKmgsdFszXT1tKm4reSpzK2cqdSx0WzRdPW0qaSt5Km8rZypjLHRbNV09bSphK3kqbCtnKmgsdFs2XT14Km4rdipzK2IqdSx0WzddPXgqaSt2Km8rYipjLHRbOF09eCphK3YqbCtiKmgsdH1mdW5jdGlvbiBTdSh0LGUscil7cmV0dXJuIHRbMF09ZVswXS1yWzBdLHRbMV09ZVsxXS1yWzFdLHRbMl09ZVsyXS1yWzJdLHRbM109ZVszXS1yWzNdLHRbNF09ZVs0XS1yWzRdLHRbNV09ZVs1XS1yWzVdLHRbNl09ZVs2XS1yWzZdLHRbN109ZVs3XS1yWzddLHRbOF09ZVs4XS1yWzhdLHR9YnUubXVsPUF1LGJ1LnN1Yj1TdTt2YXIgSXU9e307ZnVuY3Rpb24ga3UodCl7cmV0dXJuIGt1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGt1KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxJdS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgUHUuQVJSQVlfVFlQRSgxNik7cmV0dXJuIFB1LkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCksdFswXT0xLHRbNV09MSx0WzEwXT0xLHRbMTVdPTEsdH0sSXUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFB1LkFSUkFZX1RZUEUoMTYpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sSXUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH0sSXUuZnJvbVZhbHVlcz1mdW5jdGlvbih0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwLGYsZCxtKXt2YXIgeT1uZXcgUHUuQVJSQVlfVFlQRSgxNik7cmV0dXJuIHlbMF09dCx5WzFdPWUseVsyXT1yLHlbM109bix5WzRdPWkseVs1XT1hLHlbNl09cyx5WzddPW8seVs4XT1sLHlbOV09dSx5WzEwXT1jLHlbMTFdPWgseVsxMl09cCx5WzEzXT1mLHlbMTRdPWQseVsxNV09bSx5fSxJdS5zZXQ9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5KXtyZXR1cm4gdFswXT1lLHRbMV09cix0WzJdPW4sdFszXT1pLHRbNF09YSx0WzVdPXMsdFs2XT1vLHRbN109bCx0WzhdPXUsdFs5XT1jLHRbMTBdPWgsdFsxMV09cCx0WzEyXT1mLHRbMTNdPWQsdFsxNF09bSx0WzE1XT15LHR9LEl1LmlkZW50aXR5PXp1LEl1LnRyYW5zcG9zZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXt2YXIgcj1lWzFdLG49ZVsyXSxpPWVbM10sYT1lWzZdLHM9ZVs3XSxvPWVbMTFdO3RbMV09ZVs0XSx0WzJdPWVbOF0sdFszXT1lWzEyXSx0WzRdPXIsdFs2XT1lWzldLHRbN109ZVsxM10sdFs4XT1uLHRbOV09YSx0WzExXT1lWzE0XSx0WzEyXT1pLHRbMTNdPXMsdFsxNF09bzt9ZWxzZSB0WzBdPWVbMF0sdFsxXT1lWzRdLHRbMl09ZVs4XSx0WzNdPWVbMTJdLHRbNF09ZVsxXSx0WzVdPWVbNV0sdFs2XT1lWzldLHRbN109ZVsxM10sdFs4XT1lWzJdLHRbOV09ZVs2XSx0WzEwXT1lWzEwXSx0WzExXT1lWzE0XSx0WzEyXT1lWzNdLHRbMTNdPWVbN10sdFsxNF09ZVsxMV0sdFsxNV09ZVsxNV07cmV0dXJuIHR9LEl1LmludmVydD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1lWzRdLG89ZVs1XSxsPWVbNl0sdT1lWzddLGM9ZVs4XSxoPWVbOV0scD1lWzEwXSxmPWVbMTFdLGQ9ZVsxMl0sbT1lWzEzXSx5PWVbMTRdLGc9ZVsxNV0seD1yKm8tbipzLHY9cipsLWkqcyxiPXIqdS1hKnMsXz1uKmwtaSpvLHc9bip1LWEqbyxNPWkqdS1hKmwsQT1jKm0taCpkLFM9Yyp5LXAqZCxJPWMqZy1mKmQsaz1oKnktcCptLFA9aCpnLWYqbSxFPXAqZy1mKnksej14KkUtdipQK2IqaytfKkktdypTK00qQTtyZXR1cm4gej8odFswXT0obypFLWwqUCt1KmspKih6PTEveiksdFsxXT0oaSpQLW4qRS1hKmspKnosdFsyXT0obSpNLXkqdytnKl8pKnosdFszXT0ocCp3LWgqTS1mKl8pKnosdFs0XT0obCpJLXMqRS11KlMpKnosdFs1XT0ocipFLWkqSSthKlMpKnosdFs2XT0oeSpiLWQqTS1nKnYpKnosdFs3XT0oYypNLXAqYitmKnYpKnosdFs4XT0ocypQLW8qSSt1KkEpKnosdFs5XT0obipJLXIqUC1hKkEpKnosdFsxMF09KGQqdy1tKmIrZyp4KSp6LHRbMTFdPShoKmItYyp3LWYqeCkqeix0WzEyXT0obypTLXMqay1sKkEpKnosdFsxM109KHIqay1uKlMraSpBKSp6LHRbMTRdPShtKnYtZCpfLXkqeCkqeix0WzE1XT0oYypfLWgqditwKngpKnosdCk6bnVsbH0sSXUuYWRqb2ludD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1lWzRdLG89ZVs1XSxsPWVbNl0sdT1lWzddLGM9ZVs4XSxoPWVbOV0scD1lWzEwXSxmPWVbMTFdLGQ9ZVsxMl0sbT1lWzEzXSx5PWVbMTRdLGc9ZVsxNV07cmV0dXJuIHRbMF09byoocCpnLWYqeSktaCoobCpnLXUqeSkrbSoobCpmLXUqcCksdFsxXT0tKG4qKHAqZy1mKnkpLWgqKGkqZy1hKnkpK20qKGkqZi1hKnApKSx0WzJdPW4qKGwqZy11KnkpLW8qKGkqZy1hKnkpK20qKGkqdS1hKmwpLHRbM109LShuKihsKmYtdSpwKS1vKihpKmYtYSpwKStoKihpKnUtYSpsKSksdFs0XT0tKHMqKHAqZy1mKnkpLWMqKGwqZy11KnkpK2QqKGwqZi11KnApKSx0WzVdPXIqKHAqZy1mKnkpLWMqKGkqZy1hKnkpK2QqKGkqZi1hKnApLHRbNl09LShyKihsKmctdSp5KS1zKihpKmctYSp5KStkKihpKnUtYSpsKSksdFs3XT1yKihsKmYtdSpwKS1zKihpKmYtYSpwKStjKihpKnUtYSpsKSx0WzhdPXMqKGgqZy1mKm0pLWMqKG8qZy11Km0pK2QqKG8qZi11KmgpLHRbOV09LShyKihoKmctZiptKS1jKihuKmctYSptKStkKihuKmYtYSpoKSksdFsxMF09cioobypnLXUqbSktcyoobipnLWEqbSkrZCoobip1LWEqbyksdFsxMV09LShyKihvKmYtdSpoKS1zKihuKmYtYSpoKStjKihuKnUtYSpvKSksdFsxMl09LShzKihoKnktcCptKS1jKihvKnktbCptKStkKihvKnAtbCpoKSksdFsxM109ciooaCp5LXAqbSktYyoobip5LWkqbSkrZCoobipwLWkqaCksdFsxNF09LShyKihvKnktbCptKS1zKihuKnktaSptKStkKihuKmwtaSpvKSksdFsxNV09cioobypwLWwqaCktcyoobipwLWkqaCkrYyoobipsLWkqbyksdH0sSXUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdLGk9dFszXSxhPXRbNF0scz10WzVdLG89dFs2XSxsPXRbN10sdT10WzhdLGM9dFs5XSxoPXRbMTBdLHA9dFsxMV0sZj10WzEyXSxkPXRbMTNdLG09dFsxNF0seT10WzE1XTtyZXR1cm4gKGUqcy1yKmEpKihoKnktcCptKS0oZSpvLW4qYSkqKGMqeS1wKmQpKyhlKmwtaSphKSooYyptLWgqZCkrKHIqby1uKnMpKih1KnktcCpmKS0ocipsLWkqcykqKHUqbS1oKmYpKyhuKmwtaSpvKSoodSpkLWMqZil9LEl1Lm11bHRpcGx5PVR1LEl1LnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG4saSxhLHMsbyxsLHUsYyxoLHAsZixkLG09clswXSx5PXJbMV0sZz1yWzJdO3JldHVybiBlPT09dD8odFsxMl09ZVswXSptK2VbNF0qeStlWzhdKmcrZVsxMl0sdFsxM109ZVsxXSptK2VbNV0qeStlWzldKmcrZVsxM10sdFsxNF09ZVsyXSptK2VbNl0qeStlWzEwXSpnK2VbMTRdLHRbMTVdPWVbM10qbStlWzddKnkrZVsxMV0qZytlWzE1XSk6KGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPWVbOF0scD1lWzldLGY9ZVsxMF0sZD1lWzExXSx0WzBdPW49ZVswXSx0WzFdPWksdFsyXT1hLHRbM109cyx0WzRdPW8sdFs1XT1sLHRbNl09dSx0WzddPWMsdFs4XT1oLHRbOV09cCx0WzEwXT1mLHRbMTFdPWQsdFsxMl09biptK28qeStoKmcrZVsxMl0sdFsxM109aSptK2wqeStwKmcrZVsxM10sdFsxNF09YSptK3UqeStmKmcrZVsxNF0sdFsxNV09cyptK2MqeStkKmcrZVsxNV0pLHR9LEl1LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl07cmV0dXJuIHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuLHRbMl09ZVsyXSpuLHRbM109ZVszXSpuLHRbNF09ZVs0XSppLHRbNV09ZVs1XSppLHRbNl09ZVs2XSppLHRbN109ZVs3XSppLHRbOF09ZVs4XSphLHRbOV09ZVs5XSphLHRbMTBdPWVbMTBdKmEsdFsxMV09ZVsxMV0qYSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSxJdS5yb3RhdGU9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGksYSxzLG8sbCx1LGMsaCxwLGYsZCxtLHksZyx4LHYsYixfLHcsTSxBLFMsSSxrLFA9blswXSxFPW5bMV0sej1uWzJdLFQ9TWF0aC5oeXBvdChQLEUseik7cmV0dXJuIFQ8UHUuRVBTSUxPTj9udWxsOihQKj1UPTEvVCxFKj1ULHoqPVQsaT1NYXRoLnNpbihyKSxhPU1hdGguY29zKHIpLGw9ZVsxXSx1PWVbMl0sYz1lWzNdLHA9ZVs1XSxmPWVbNl0sZD1lWzddLHk9ZVs5XSxnPWVbMTBdLHg9ZVsxMV0sdj1QKlAqKHM9MS1hKSthLHc9UCpFKnMteippLE09RSpFKnMrYSxBPXoqRSpzK1AqaSxTPVAqeipzK0UqaSxJPUUqeipzLVAqaSxrPXoqeipzK2EsdFswXT0obz1lWzBdKSp2KyhoPWVbNF0pKihiPUUqUCpzK3oqaSkrKG09ZVs4XSkqKF89eipQKnMtRSppKSx0WzFdPWwqditwKmIreSpfLHRbMl09dSp2K2YqYitnKl8sdFszXT1jKnYrZCpiK3gqXyx0WzRdPW8qdytoKk0rbSpBLHRbNV09bCp3K3AqTSt5KkEsdFs2XT11KncrZipNK2cqQSx0WzddPWMqdytkKk0reCpBLHRbOF09bypTK2gqSSttKmssdFs5XT1sKlMrcCpJK3kqayx0WzEwXT11KlMrZipJK2cqayx0WzExXT1jKlMrZCpJK3gqayxlIT09dCYmKHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0KX0sSXUucm90YXRlWD1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbNF0scz1lWzVdLG89ZVs2XSxsPWVbN10sdT1lWzhdLGM9ZVs5XSxoPWVbMTBdLHA9ZVsxMV07cmV0dXJuIGUhPT10JiYodFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0WzRdPWEqaSt1Km4sdFs1XT1zKmkrYypuLHRbNl09byppK2gqbix0WzddPWwqaStwKm4sdFs4XT11KmktYSpuLHRbOV09YyppLXMqbix0WzEwXT1oKmktbypuLHRbMTFdPXAqaS1sKm4sdH0sSXUucm90YXRlWT1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbMF0scz1lWzFdLG89ZVsyXSxsPWVbM10sdT1lWzhdLGM9ZVs5XSxoPWVbMTBdLHA9ZVsxMV07cmV0dXJuIGUhPT10JiYodFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdKSx0WzBdPWEqaS11Km4sdFsxXT1zKmktYypuLHRbMl09byppLWgqbix0WzNdPWwqaS1wKm4sdFs4XT1hKm4rdSppLHRbOV09cypuK2MqaSx0WzEwXT1vKm4raCppLHRbMTFdPWwqbitwKmksdH0sSXUucm90YXRlWj1mdW5jdGlvbih0LGUscil7dmFyIG49TWF0aC5zaW4ociksaT1NYXRoLmNvcyhyKSxhPWVbMF0scz1lWzFdLG89ZVsyXSxsPWVbM10sdT1lWzRdLGM9ZVs1XSxoPWVbNl0scD1lWzddO3JldHVybiBlIT09dCYmKHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pLHRbMF09YSppK3Uqbix0WzFdPXMqaStjKm4sdFsyXT1vKmkraCpuLHRbM109bCppK3Aqbix0WzRdPXUqaS1hKm4sdFs1XT1jKmktcypuLHRbNl09aCppLW8qbix0WzddPXAqaS1sKm4sdH0sSXUuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09ZVswXSx0WzEzXT1lWzFdLHRbMTRdPWVbMl0sdFsxNV09MSx0fSxJdS5mcm9tU2NhbGluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09ZVsxXSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09ZVsyXSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH0sSXUuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLGEscz1yWzBdLG89clsxXSxsPXJbMl0sdT1NYXRoLmh5cG90KHMsbyxsKTtyZXR1cm4gdTxQdS5FUFNJTE9OP251bGw6KHMqPXU9MS91LG8qPXUsbCo9dSxuPU1hdGguc2luKGUpLGk9TWF0aC5jb3MoZSksdFswXT1zKnMqKGE9MS1pKStpLHRbMV09bypzKmErbCpuLHRbMl09bCpzKmEtbypuLHRbM109MCx0WzRdPXMqbyphLWwqbix0WzVdPW8qbyphK2ksdFs2XT1sKm8qYStzKm4sdFs3XT0wLHRbOF09cypsKmErbypuLHRbOV09bypsKmEtcypuLHRbMTBdPWwqbCphK2ksdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHQpfSxJdS5mcm9tWFJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT0xLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPW4sdFs2XT1yLHRbN109MCx0WzhdPTAsdFs5XT0tcix0WzEwXT1uLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSxJdS5mcm9tWVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT1uLHRbMV09MCx0WzJdPS1yLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT1yLHRbOV09MCx0WzEwXT1uLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSxJdS5mcm9tWlJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtyZXR1cm4gdFswXT1uLHRbMV09cix0WzJdPTAsdFszXT0wLHRbNF09LXIsdFs1XT1uLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSxJdS5mcm9tUm90YXRpb25UcmFuc2xhdGlvbj1CdSxJdS5mcm9tUXVhdDI9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgUHUuQVJSQVlfVFlQRSgzKSxuPS1lWzBdLGk9LWVbMV0sYT0tZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PWVbNl0sYz1lWzddLGg9bipuK2kqaSthKmErcypzO3JldHVybiBoPjA/KHJbMF09MioobypzK2MqbitsKmEtdSppKS9oLHJbMV09MioobCpzK2MqaSt1Km4tbyphKS9oLHJbMl09MioodSpzK2MqYStvKmktbCpuKS9oKTooclswXT0yKihvKnMrYypuK2wqYS11KmkpLHJbMV09MioobCpzK2MqaSt1Km4tbyphKSxyWzJdPTIqKHUqcytjKmErbyppLWwqbikpLEJ1KHQsZSxyKSx0fSxJdS5nZXRUcmFuc2xhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMTJdLHRbMV09ZVsxM10sdFsyXT1lWzE0XSx0fSxJdS5nZXRTY2FsaW5nPUN1LEl1LmdldFJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IFB1LkFSUkFZX1RZUEUoMyk7Q3UocixlKTt2YXIgbj0xL3JbMF0saT0xL3JbMV0sYT0xL3JbMl0scz1lWzBdKm4sbz1lWzFdKmksbD1lWzJdKmEsdT1lWzRdKm4sYz1lWzVdKmksaD1lWzZdKmEscD1lWzhdKm4sZj1lWzldKmksZD1lWzEwXSphLG09cytjK2QseT0wO3JldHVybiBtPjA/KHk9MipNYXRoLnNxcnQobSsxKSx0WzNdPS4yNSp5LHRbMF09KGgtZikveSx0WzFdPShwLWwpL3ksdFsyXT0oby11KS95KTpzPmMmJnM+ZD8oeT0yKk1hdGguc3FydCgxK3MtYy1kKSx0WzNdPShoLWYpL3ksdFswXT0uMjUqeSx0WzFdPShvK3UpL3ksdFsyXT0ocCtsKS95KTpjPmQ/KHk9MipNYXRoLnNxcnQoMStjLXMtZCksdFszXT0ocC1sKS95LHRbMF09KG8rdSkveSx0WzFdPS4yNSp5LHRbMl09KGgrZikveSk6KHk9MipNYXRoLnNxcnQoMStkLXMtYyksdFszXT0oby11KS95LHRbMF09KHArbCkveSx0WzFdPShoK2YpL3ksdFsyXT0uMjUqeSksdH0sSXUuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lWzBdLGE9ZVsxXSxzPWVbMl0sbz1lWzNdLGw9aStpLHU9YSthLGM9cytzLGg9aSpsLHA9aSp1LGY9aSpjLGQ9YSp1LG09YSpjLHk9cypjLGc9bypsLHg9byp1LHY9bypjLGI9blswXSxfPW5bMV0sdz1uWzJdO3JldHVybiB0WzBdPSgxLShkK3kpKSpiLHRbMV09KHArdikqYix0WzJdPShmLXgpKmIsdFszXT0wLHRbNF09KHAtdikqXyx0WzVdPSgxLShoK3kpKSpfLHRbNl09KG0rZykqXyx0WzddPTAsdFs4XT0oZit4KSp3LHRbOV09KG0tZykqdyx0WzEwXT0oMS0oaCtkKSkqdyx0WzExXT0wLHRbMTJdPXJbMF0sdFsxM109clsxXSx0WzE0XT1yWzJdLHRbMTVdPTEsdH0sSXUuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbj1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhPWVbMF0scz1lWzFdLG89ZVsyXSxsPWVbM10sdT1hK2EsYz1zK3MsaD1vK28scD1hKnUsZj1hKmMsZD1hKmgsbT1zKmMseT1zKmgsZz1vKmgseD1sKnUsdj1sKmMsYj1sKmgsXz1uWzBdLHc9blsxXSxNPW5bMl0sQT1pWzBdLFM9aVsxXSxJPWlbMl0saz0oMS0obStnKSkqXyxQPShmK2IpKl8sRT0oZC12KSpfLHo9KGYtYikqdyxUPSgxLShwK2cpKSp3LEI9KHkreCkqdyxDPShkK3YpKk0sUj0oeS14KSpNLEQ9KDEtKHArbSkpKk07cmV0dXJuIHRbMF09ayx0WzFdPVAsdFsyXT1FLHRbM109MCx0WzRdPXosdFs1XT1ULHRbNl09Qix0WzddPTAsdFs4XT1DLHRbOV09Uix0WzEwXT1ELHRbMTFdPTAsdFsxMl09clswXStBLShrKkEreipTK0MqSSksdFsxM109clsxXStTLShQKkErVCpTK1IqSSksdFsxNF09clsyXStJLShFKkErQipTK0QqSSksdFsxNV09MSx0fSxJdS5mcm9tUXVhdD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1yK3Isbz1uK24sbD1pK2ksdT1yKnMsYz1uKnMsaD1uKm8scD1pKnMsZj1pKm8sZD1pKmwsbT1hKnMseT1hKm8sZz1hKmw7cmV0dXJuIHRbMF09MS1oLWQsdFsxXT1jK2csdFsyXT1wLXksdFszXT0wLHRbNF09Yy1nLHRbNV09MS11LWQsdFs2XT1mK20sdFs3XT0wLHRbOF09cCt5LHRbOV09Zi1tLHRbMTBdPTEtdS1oLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSxJdS5mcnVzdHVtPWZ1bmN0aW9uKHQsZSxyLG4saSxhLHMpe3ZhciBvPTEvKHItZSksbD0xLyhpLW4pLHU9MS8oYS1zKTtyZXR1cm4gdFswXT0yKmEqbyx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0yKmEqbCx0WzZdPTAsdFs3XT0wLHRbOF09KHIrZSkqbyx0WzldPShpK24pKmwsdFsxMF09KHMrYSkqdSx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09cyphKjIqdSx0WzE1XT0wLHR9LEl1LnBlcnNwZWN0aXZlTk89UnUsSXUucGVyc3BlY3RpdmVaTz1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBhLHM9MS9NYXRoLnRhbihlLzIpO3JldHVybiB0WzBdPXMvcix0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT1zLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNV09MCxudWxsIT1pJiZpIT09MS8wPyh0WzEwXT1pKihhPTEvKG4taSkpLHRbMTRdPWkqbiphKToodFsxMF09LTEsdFsxNF09LW4pLHR9LEl1LnBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3PWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxhPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHM9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksbz1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksbD0yLyhzK28pLHU9Mi8oaSthKTtyZXR1cm4gdFswXT1sLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPXUsdFs2XT0wLHRbN109MCx0WzhdPS0ocy1vKSpsKi41LHRbOV09KGktYSkqdSouNSx0WzEwXT1uLyhyLW4pLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE0XT1uKnIvKHItbiksdFsxNV09MCx0fSxJdS5vcnRob05PPUR1LEl1Lm9ydGhvWk89ZnVuY3Rpb24odCxlLHIsbixpLGEscyl7dmFyIG89MS8oZS1yKSxsPTEvKG4taSksdT0xLyhhLXMpO3JldHVybiB0WzBdPS0yKm8sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09LTIqbCx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09dSx0WzExXT0wLHRbMTJdPShlK3IpKm8sdFsxM109KGkrbikqbCx0WzE0XT1hKnUsdFsxNV09MSx0fSxJdS5sb29rQXQ9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGksYSxzLG8sbCx1LGMsaCxwLGYsZD1lWzBdLG09ZVsxXSx5PWVbMl0sZz1uWzBdLHg9blsxXSx2PW5bMl0sYj1yWzBdLF89clsxXSx3PXJbMl07cmV0dXJuIE1hdGguYWJzKGQtYik8UHUuRVBTSUxPTiYmTWF0aC5hYnMobS1fKTxQdS5FUFNJTE9OJiZNYXRoLmFicyh5LXcpPFB1LkVQU0lMT04/enUodCk6KGM9ZC1iLGg9bS1fLHA9eS13LGk9eCoocCo9Zj0xL01hdGguaHlwb3QoYyxoLHApKS12KihoKj1mKSxhPXYqKGMqPWYpLWcqcCxzPWcqaC14KmMsKGY9TWF0aC5oeXBvdChpLGEscykpPyhpKj1mPTEvZixhKj1mLHMqPWYpOihpPTAsYT0wLHM9MCksbz1oKnMtcCphLGw9cCppLWMqcyx1PWMqYS1oKmksKGY9TWF0aC5oeXBvdChvLGwsdSkpPyhvKj1mPTEvZixsKj1mLHUqPWYpOihvPTAsbD0wLHU9MCksdFswXT1pLHRbMV09byx0WzJdPWMsdFszXT0wLHRbNF09YSx0WzVdPWwsdFs2XT1oLHRbN109MCx0WzhdPXMsdFs5XT11LHRbMTBdPXAsdFsxMV09MCx0WzEyXT0tKGkqZCthKm0rcyp5KSx0WzEzXT0tKG8qZCtsKm0rdSp5KSx0WzE0XT0tKGMqZCtoKm0rcCp5KSx0WzE1XT0xLHQpfSxJdS50YXJnZXRUbz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lWzBdLGE9ZVsxXSxzPWVbMl0sbz1uWzBdLGw9blsxXSx1PW5bMl0sYz1pLXJbMF0saD1hLXJbMV0scD1zLXJbMl0sZj1jKmMraCpoK3AqcDtmPjAmJihjKj1mPTEvTWF0aC5zcXJ0KGYpLGgqPWYscCo9Zik7dmFyIGQ9bCpwLXUqaCxtPXUqYy1vKnAseT1vKmgtbCpjO3JldHVybiAoZj1kKmQrbSptK3kqeSk+MCYmKGQqPWY9MS9NYXRoLnNxcnQoZiksbSo9Zix5Kj1mKSx0WzBdPWQsdFsxXT1tLHRbMl09eSx0WzNdPTAsdFs0XT1oKnktcCptLHRbNV09cCpkLWMqeSx0WzZdPWMqbS1oKmQsdFs3XT0wLHRbOF09Yyx0WzldPWgsdFsxMF09cCx0WzExXT0wLHRbMTJdPWksdFsxM109YSx0WzE0XT1zLHRbMTVdPTEsdH0sSXUuc3RyPWZ1bmN0aW9uKHQpe3JldHVybiBcIm1hdDQoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIiwgXCIrdFs0XStcIiwgXCIrdFs1XStcIiwgXCIrdFs2XStcIiwgXCIrdFs3XStcIiwgXCIrdFs4XStcIiwgXCIrdFs5XStcIiwgXCIrdFsxMF0rXCIsIFwiK3RbMTFdK1wiLCBcIit0WzEyXStcIiwgXCIrdFsxM10rXCIsIFwiK3RbMTRdK1wiLCBcIit0WzE1XStcIilcIn0sSXUuZnJvYj1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XSx0WzZdLHRbN10sdFs4XSx0WzldLHRbMTBdLHRbMTFdLHRbMTJdLHRbMTNdLHRbMTRdLHRbMTVdKX0sSXUuYWRkPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0sdFsxXT1lWzFdK3JbMV0sdFsyXT1lWzJdK3JbMl0sdFszXT1lWzNdK3JbM10sdFs0XT1lWzRdK3JbNF0sdFs1XT1lWzVdK3JbNV0sdFs2XT1lWzZdK3JbNl0sdFs3XT1lWzddK3JbN10sdFs4XT1lWzhdK3JbOF0sdFs5XT1lWzldK3JbOV0sdFsxMF09ZVsxMF0rclsxMF0sdFsxMV09ZVsxMV0rclsxMV0sdFsxMl09ZVsxMl0rclsxMl0sdFsxM109ZVsxM10rclsxM10sdFsxNF09ZVsxNF0rclsxNF0sdFsxNV09ZVsxNV0rclsxNV0sdH0sSXUuc3VidHJhY3Q9VnUsSXUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0WzRdPWVbNF0qcix0WzVdPWVbNV0qcix0WzZdPWVbNl0qcix0WzddPWVbN10qcix0WzhdPWVbOF0qcix0WzldPWVbOV0qcix0WzEwXT1lWzEwXSpyLHRbMTFdPWVbMTFdKnIsdFsxMl09ZVsxMl0qcix0WzEzXT1lWzEzXSpyLHRbMTRdPWVbMTRdKnIsdFsxNV09ZVsxNV0qcix0fSxJdS5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0qbix0WzFdPWVbMV0rclsxXSpuLHRbMl09ZVsyXStyWzJdKm4sdFszXT1lWzNdK3JbM10qbix0WzRdPWVbNF0rcls0XSpuLHRbNV09ZVs1XStyWzVdKm4sdFs2XT1lWzZdK3JbNl0qbix0WzddPWVbN10rcls3XSpuLHRbOF09ZVs4XStyWzhdKm4sdFs5XT1lWzldK3JbOV0qbix0WzEwXT1lWzEwXStyWzEwXSpuLHRbMTFdPWVbMTFdK3JbMTFdKm4sdFsxMl09ZVsxMl0rclsxMl0qbix0WzEzXT1lWzEzXStyWzEzXSpuLHRbMTRdPWVbMTRdK3JbMTRdKm4sdFsxNV09ZVsxNV0rclsxNV0qbix0fSxJdS5leGFjdEVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPT09ZVswXSYmdFsxXT09PWVbMV0mJnRbMl09PT1lWzJdJiZ0WzNdPT09ZVszXSYmdFs0XT09PWVbNF0mJnRbNV09PT1lWzVdJiZ0WzZdPT09ZVs2XSYmdFs3XT09PWVbN10mJnRbOF09PT1lWzhdJiZ0WzldPT09ZVs5XSYmdFsxMF09PT1lWzEwXSYmdFsxMV09PT1lWzExXSYmdFsxMl09PT1lWzEyXSYmdFsxM109PT1lWzEzXSYmdFsxNF09PT1lWzE0XSYmdFsxNV09PT1lWzE1XX0sSXUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0saT10WzJdLGE9dFszXSxzPXRbNF0sbz10WzVdLGw9dFs2XSx1PXRbN10sYz10WzhdLGg9dFs5XSxwPXRbMTBdLGY9dFsxMV0sZD10WzEyXSxtPXRbMTNdLHk9dFsxNF0sZz10WzE1XSx4PWVbMF0sdj1lWzFdLGI9ZVsyXSxfPWVbM10sdz1lWzRdLE09ZVs1XSxBPWVbNl0sUz1lWzddLEk9ZVs4XSxrPWVbOV0sUD1lWzEwXSxFPWVbMTFdLHo9ZVsxMl0sVD1lWzEzXSxCPWVbMTRdLEM9ZVsxNV07cmV0dXJuIE1hdGguYWJzKHIteCk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyh4KSkmJk1hdGguYWJzKG4tdik8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyh2KSkmJk1hdGguYWJzKGktYik8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKGEtXyk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhfKSkmJk1hdGguYWJzKHMtdyk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyh3KSkmJk1hdGguYWJzKG8tTSk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhNKSkmJk1hdGguYWJzKGwtQSk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHUtUyk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhTKSkmJk1hdGguYWJzKGMtSSk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyhJKSkmJk1hdGguYWJzKGgtayk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhrKSkmJk1hdGguYWJzKHAtUCk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhwKSxNYXRoLmFicyhQKSkmJk1hdGguYWJzKGYtRSk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhmKSxNYXRoLmFicyhFKSkmJk1hdGguYWJzKGQteik8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyh6KSkmJk1hdGguYWJzKG0tVCk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhtKSxNYXRoLmFicyhUKSkmJk1hdGguYWJzKHktQik8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyh5KSxNYXRoLmFicyhCKSkmJk1hdGguYWJzKGctQyk8PVB1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhnKSxNYXRoLmFicyhDKSl9LEl1LnN1Yj1JdS5tdWw9SXUub3J0aG89SXUucGVyc3BlY3RpdmU9dm9pZCAwO3ZhciBQdT1mdW5jdGlvbih0LGUpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PWt1KHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiB7ZGVmYXVsdDp0fTt2YXIgcj1FdSh2b2lkIDApO2lmKHImJnIuaGFzKHQpKXJldHVybiByLmdldCh0KTt2YXIgbj17fSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGEgaW4gdClpZihcImRlZmF1bHRcIiE9PWEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxhKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGEscyk6blthXT10W2FdO31yZXR1cm4gbi5kZWZhdWx0PXQsciYmci5zZXQodCxuKSxufShudSk7ZnVuY3Rpb24gRXUodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwO3JldHVybiAoRXU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplfSkodCl9ZnVuY3Rpb24genUodCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fWZ1bmN0aW9uIFR1KHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPWVbOF0scD1lWzldLGY9ZVsxMF0sZD1lWzExXSxtPWVbMTJdLHk9ZVsxM10sZz1lWzE0XSx4PWVbMTVdLHY9clswXSxiPXJbMV0sXz1yWzJdLHc9clszXTtyZXR1cm4gdFswXT12Km4rYipvK18qaCt3Km0sdFsxXT12KmkrYipsK18qcCt3KnksdFsyXT12KmErYip1K18qZit3KmcsdFszXT12KnMrYipjK18qZCt3KngsdFs0XT0odj1yWzRdKSpuKyhiPXJbNV0pKm8rKF89cls2XSkqaCsodz1yWzddKSptLHRbNV09dippK2IqbCtfKnArdyp5LHRbNl09diphK2IqdStfKmYrdypnLHRbN109dipzK2IqYytfKmQrdyp4LHRbOF09KHY9cls4XSkqbisoYj1yWzldKSpvKyhfPXJbMTBdKSpoKyh3PXJbMTFdKSptLHRbOV09dippK2IqbCtfKnArdyp5LHRbMTBdPXYqYStiKnUrXypmK3cqZyx0WzExXT12KnMrYipjK18qZCt3KngsdFsxMl09KHY9clsxMl0pKm4rKGI9clsxM10pKm8rKF89clsxNF0pKmgrKHc9clsxNV0pKm0sdFsxM109dippK2IqbCtfKnArdyp5LHRbMTRdPXYqYStiKnUrXypmK3cqZyx0WzE1XT12KnMrYipjK18qZCt3KngsdH1mdW5jdGlvbiBCdSh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLHM9ZVszXSxvPW4rbixsPWkraSx1PWErYSxjPW4qbyxoPW4qbCxwPW4qdSxmPWkqbCxkPWkqdSxtPWEqdSx5PXMqbyxnPXMqbCx4PXMqdTtyZXR1cm4gdFswXT0xLShmK20pLHRbMV09aCt4LHRbMl09cC1nLHRbM109MCx0WzRdPWgteCx0WzVdPTEtKGMrbSksdFs2XT1kK3ksdFs3XT0wLHRbOF09cCtnLHRbOV09ZC15LHRbMTBdPTEtKGMrZiksdFsxMV09MCx0WzEyXT1yWzBdLHRbMTNdPXJbMV0sdFsxNF09clsyXSx0WzE1XT0xLHR9ZnVuY3Rpb24gQ3UodCxlKXt2YXIgcj1lWzRdLG49ZVs1XSxpPWVbNl0sYT1lWzhdLHM9ZVs5XSxvPWVbMTBdO3JldHVybiB0WzBdPU1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0pLHRbMV09TWF0aC5oeXBvdChyLG4saSksdFsyXT1NYXRoLmh5cG90KGEscyxvKSx0fWZ1bmN0aW9uIFJ1KHQsZSxyLG4saSl7dmFyIGEscz0xL01hdGgudGFuKGUvMik7cmV0dXJuIHRbMF09cy9yLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPXMsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPS0xLHRbMTJdPTAsdFsxM109MCx0WzE1XT0wLG51bGwhPWkmJmkhPT0xLzA/KHRbMTBdPShpK24pKihhPTEvKG4taSkpLHRbMTRdPTIqaSpuKmEpOih0WzEwXT0tMSx0WzE0XT0tMipuKSx0fWZ1bmN0aW9uIER1KHQsZSxyLG4saSxhLHMpe3ZhciBvPTEvKGUtciksbD0xLyhuLWkpLHU9MS8oYS1zKTtyZXR1cm4gdFswXT0tMipvLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPS0yKmwsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTIqdSx0WzExXT0wLHRbMTJdPShlK3IpKm8sdFsxM109KGkrbikqbCx0WzE0XT0ocythKSp1LHRbMTVdPTEsdH1mdW5jdGlvbiBWdSh0LGUscil7cmV0dXJuIHRbMF09ZVswXS1yWzBdLHRbMV09ZVsxXS1yWzFdLHRbMl09ZVsyXS1yWzJdLHRbM109ZVszXS1yWzNdLHRbNF09ZVs0XS1yWzRdLHRbNV09ZVs1XS1yWzVdLHRbNl09ZVs2XS1yWzZdLHRbN109ZVs3XS1yWzddLHRbOF09ZVs4XS1yWzhdLHRbOV09ZVs5XS1yWzldLHRbMTBdPWVbMTBdLXJbMTBdLHRbMTFdPWVbMTFdLXJbMTFdLHRbMTJdPWVbMTJdLXJbMTJdLHRbMTNdPWVbMTNdLXJbMTNdLHRbMTRdPWVbMTRdLXJbMTRdLHRbMTVdPWVbMTVdLXJbMTVdLHR9SXUucGVyc3BlY3RpdmU9UnUsSXUub3J0aG89RHUsSXUubXVsPVR1LEl1LnN1Yj1WdTt2YXIgTHU9e30sRnU9e307ZnVuY3Rpb24gTnUodCl7cmV0dXJuIE51PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE51KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxGdS5jcmVhdGU9anUsRnUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE91LkFSUkFZX1RZUEUoMyk7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGV9LEZ1Lmxlbmd0aD1xdSxGdS5mcm9tVmFsdWVzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1uZXcgT3UuQVJSQVlfVFlQRSgzKTtyZXR1cm4gblswXT10LG5bMV09ZSxuWzJdPXIsbn0sRnUuY29weT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0fSxGdS5zZXQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIHRbMF09ZSx0WzFdPXIsdFsyXT1uLHR9LEZ1LmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHR9LEZ1LnN1YnRyYWN0PSR1LEZ1Lm11bHRpcGx5PUd1LEZ1LmRpdmlkZT1ZdSxGdS5jZWlsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5jZWlsKGVbMF0pLHRbMV09TWF0aC5jZWlsKGVbMV0pLHRbMl09TWF0aC5jZWlsKGVbMl0pLHR9LEZ1LmZsb29yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcihlWzBdKSx0WzFdPU1hdGguZmxvb3IoZVsxXSksdFsyXT1NYXRoLmZsb29yKGVbMl0pLHR9LEZ1Lm1pbj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09TWF0aC5taW4oZVswXSxyWzBdKSx0WzFdPU1hdGgubWluKGVbMV0sclsxXSksdFsyXT1NYXRoLm1pbihlWzJdLHJbMl0pLHR9LEZ1Lm1heD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09TWF0aC5tYXgoZVswXSxyWzBdKSx0WzFdPU1hdGgubWF4KGVbMV0sclsxXSksdFsyXT1NYXRoLm1heChlWzJdLHJbMl0pLHR9LEZ1LnJvdW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5yb3VuZChlWzBdKSx0WzFdPU1hdGgucm91bmQoZVsxXSksdFsyXT1NYXRoLnJvdW5kKGVbMl0pLHR9LEZ1LnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnIsdFsxXT1lWzFdKnIsdFsyXT1lWzJdKnIsdH0sRnUuc2NhbGVBbmRBZGQ9ZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIHRbMF09ZVswXStyWzBdKm4sdFsxXT1lWzFdK3JbMV0qbix0WzJdPWVbMl0rclsyXSpuLHR9LEZ1LmRpc3RhbmNlPVh1LEZ1LnNxdWFyZWREaXN0YW5jZT1adSxGdS5zcXVhcmVkTGVuZ3RoPUt1LEZ1Lm5lZ2F0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdFsyXT0tZVsyXSx0fSxGdS5pbnZlcnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09MS9lWzBdLHRbMV09MS9lWzFdLHRbMl09MS9lWzJdLHR9LEZ1Lm5vcm1hbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPXIqcituKm4raSppO3JldHVybiBhPjAmJihhPTEvTWF0aC5zcXJ0KGEpKSx0WzBdPWVbMF0qYSx0WzFdPWVbMV0qYSx0WzJdPWVbMl0qYSx0fSxGdS5kb3Q9SHUsRnUuY3Jvc3M9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPXJbMF0sbz1yWzFdLGw9clsyXTtyZXR1cm4gdFswXT1pKmwtYSpvLHRbMV09YSpzLW4qbCx0WzJdPW4qby1pKnMsdH0sRnUubGVycD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lWzBdLGE9ZVsxXSxzPWVbMl07cmV0dXJuIHRbMF09aStuKihyWzBdLWkpLHRbMV09YStuKihyWzFdLWEpLHRbMl09cytuKihyWzJdLXMpLHR9LEZ1Lmhlcm1pdGU9ZnVuY3Rpb24odCxlLHIsbixpLGEpe3ZhciBzPWEqYSxvPXMqKDIqYS0zKSsxLGw9cyooYS0yKSthLHU9cyooYS0xKSxjPXMqKDMtMiphKTtyZXR1cm4gdFswXT1lWzBdKm8rclswXSpsK25bMF0qdStpWzBdKmMsdFsxXT1lWzFdKm8rclsxXSpsK25bMV0qdStpWzFdKmMsdFsyXT1lWzJdKm8rclsyXSpsK25bMl0qdStpWzJdKmMsdH0sRnUuYmV6aWVyPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgcz0xLWEsbz1zKnMsbD1hKmEsdT1vKnMsYz0zKmEqbyxoPTMqbCpzLHA9bCphO3JldHVybiB0WzBdPWVbMF0qdStyWzBdKmMrblswXSpoK2lbMF0qcCx0WzFdPWVbMV0qdStyWzFdKmMrblsxXSpoK2lbMV0qcCx0WzJdPWVbMl0qdStyWzJdKmMrblsyXSpoK2lbMl0qcCx0fSxGdS5yYW5kb209ZnVuY3Rpb24odCxlKXtlPWV8fDE7dmFyIHI9MipPdS5SQU5ET00oKSpNYXRoLlBJLG49MipPdS5SQU5ET00oKS0xLGk9TWF0aC5zcXJ0KDEtbipuKSplO3JldHVybiB0WzBdPU1hdGguY29zKHIpKmksdFsxXT1NYXRoLnNpbihyKSppLHRbMl09biplLHR9LEZ1LnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPXJbM10qbityWzddKmkrclsxMV0qYStyWzE1XTtyZXR1cm4gdFswXT0oclswXSpuK3JbNF0qaStyWzhdKmErclsxMl0pLyhzPXN8fDEpLHRbMV09KHJbMV0qbityWzVdKmkrcls5XSphK3JbMTNdKS9zLHRbMl09KHJbMl0qbityWzZdKmkrclsxMF0qYStyWzE0XSkvcyx0fSxGdS50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl07cmV0dXJuIHRbMF09bipyWzBdK2kqclszXSthKnJbNl0sdFsxXT1uKnJbMV0raSpyWzRdK2Eqcls3XSx0WzJdPW4qclsyXStpKnJbNV0rYSpyWzhdLHR9LEZ1LnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXJbMF0saT1yWzFdLGE9clsyXSxzPWVbMF0sbz1lWzFdLGw9ZVsyXSx1PWkqbC1hKm8sYz1hKnMtbipsLGg9bipvLWkqcyxwPWkqaC1hKmMsZj1hKnUtbipoLGQ9bipjLWkqdSxtPTIqclszXTtyZXR1cm4gYyo9bSxoKj1tLGYqPTIsZCo9Mix0WzBdPXMrKHUqPW0pKyhwKj0yKSx0WzFdPW8rYytmLHRbMl09bCtoK2QsdH0sRnUucm90YXRlWD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tclswXSxpWzFdPWVbMV0tclsxXSxpWzJdPWVbMl0tclsyXSxhWzBdPWlbMF0sYVsxXT1pWzFdKk1hdGguY29zKG4pLWlbMl0qTWF0aC5zaW4obiksYVsyXT1pWzFdKk1hdGguc2luKG4pK2lbMl0qTWF0aC5jb3MobiksdFswXT1hWzBdK3JbMF0sdFsxXT1hWzFdK3JbMV0sdFsyXT1hWzJdK3JbMl0sdH0sRnUucm90YXRlWT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tclswXSxpWzFdPWVbMV0tclsxXSxpWzJdPWVbMl0tclsyXSxhWzBdPWlbMl0qTWF0aC5zaW4obikraVswXSpNYXRoLmNvcyhuKSxhWzFdPWlbMV0sYVsyXT1pWzJdKk1hdGguY29zKG4pLWlbMF0qTWF0aC5zaW4obiksdFswXT1hWzBdK3JbMF0sdFsxXT1hWzFdK3JbMV0sdFsyXT1hWzJdK3JbMl0sdH0sRnUucm90YXRlWj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1bXSxhPVtdO3JldHVybiBpWzBdPWVbMF0tclswXSxpWzFdPWVbMV0tclsxXSxpWzJdPWVbMl0tclsyXSxhWzBdPWlbMF0qTWF0aC5jb3MobiktaVsxXSpNYXRoLnNpbihuKSxhWzFdPWlbMF0qTWF0aC5zaW4obikraVsxXSpNYXRoLmNvcyhuKSxhWzJdPWlbMl0sdFswXT1hWzBdK3JbMF0sdFsxXT1hWzFdK3JbMV0sdFsyXT1hWzJdK3JbMl0sdH0sRnUuYW5nbGU9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sYT1lWzBdLHM9ZVsxXSxvPWVbMl0sbD1NYXRoLnNxcnQocipyK24qbitpKmkpKk1hdGguc3FydChhKmErcypzK28qbyksdT1sJiZIdSh0LGUpL2w7cmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heCh1LC0xKSwxKSl9LEZ1Lnplcm89ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHR9LEZ1LnN0cj1mdW5jdGlvbih0KXtyZXR1cm4gXCJ2ZWMzKFwiK3RbMF0rXCIsIFwiK3RbMV0rXCIsIFwiK3RbMl0rXCIpXCJ9LEZ1LmV4YWN0RXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXSYmdFsyXT09PWVbMl19LEZ1LmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxhPWVbMF0scz1lWzFdLG89ZVsyXTtyZXR1cm4gTWF0aC5hYnMoci1hKTw9T3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMobi1zKTw9T3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoaS1vKTw9T3UuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKG8pKX0sRnUuZm9yRWFjaD1GdS5zcXJMZW49RnUubGVuPUZ1LnNxckRpc3Q9RnUuZGlzdD1GdS5kaXY9RnUubXVsPUZ1LnN1Yj12b2lkIDA7dmFyIE91PWZ1bmN0aW9uKHQsZSl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O2lmKG51bGw9PT10fHxcIm9iamVjdFwiIT09TnUodCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIHtkZWZhdWx0OnR9O3ZhciByPVV1KHZvaWQgMCk7aWYociYmci5oYXModCkpcmV0dXJuIHIuZ2V0KHQpO3ZhciBuPXt9LGk9T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgYSBpbiB0KWlmKFwiZGVmYXVsdFwiIT09YSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkpe3ZhciBzPWk/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGEpOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sYSxzKTpuW2FdPXRbYV07fXJldHVybiBuLmRlZmF1bHQ9dCxyJiZyLnNldCh0LG4pLG59KG51KTtmdW5jdGlvbiBVdSh0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciBlPW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXA7cmV0dXJuIChVdT1mdW5jdGlvbih0KXtyZXR1cm4gdD9yOmV9KSh0KX1mdW5jdGlvbiBqdSgpe3ZhciB0PW5ldyBPdS5BUlJBWV9UWVBFKDMpO3JldHVybiBPdS5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCksdH1mdW5jdGlvbiBxdSh0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSl9ZnVuY3Rpb24gJHUodCxlLHIpe3JldHVybiB0WzBdPWVbMF0tclswXSx0WzFdPWVbMV0tclsxXSx0WzJdPWVbMl0tclsyXSx0fWZ1bmN0aW9uIEd1KHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnJbMF0sdFsxXT1lWzFdKnJbMV0sdFsyXT1lWzJdKnJbMl0sdH1mdW5jdGlvbiBZdSh0LGUscil7cmV0dXJuIHRbMF09ZVswXS9yWzBdLHRbMV09ZVsxXS9yWzFdLHRbMl09ZVsyXS9yWzJdLHR9ZnVuY3Rpb24gWHUodCxlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLXRbMF0sZVsxXS10WzFdLGVbMl0tdFsyXSl9ZnVuY3Rpb24gWnUodCxlKXt2YXIgcj1lWzBdLXRbMF0sbj1lWzFdLXRbMV0saT1lWzJdLXRbMl07cmV0dXJuIHIqcituKm4raSppfWZ1bmN0aW9uIEt1KHQpe3ZhciBlPXRbMF0scj10WzFdLG49dFsyXTtyZXR1cm4gZSplK3IqcituKm59ZnVuY3Rpb24gSHUodCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19RnUuc3ViPSR1LEZ1Lm11bD1HdSxGdS5kaXY9WXUsRnUuZGlzdD1YdSxGdS5zcXJEaXN0PVp1LEZ1Lmxlbj1xdSxGdS5zcXJMZW49S3U7dmFyIFd1LEp1PShXdT1qdSgpLGZ1bmN0aW9uKHQsZSxyLG4saSxhKXt2YXIgcyxvO2ZvcihlfHwoZT0zKSxyfHwocj0wKSxvPW4/TWF0aC5taW4obiplK3IsdC5sZW5ndGgpOnQubGVuZ3RoLHM9cjtzPG87cys9ZSlXdVswXT10W3NdLFd1WzFdPXRbcysxXSxXdVsyXT10W3MrMl0saShXdSxXdSxhKSx0W3NdPVd1WzBdLHRbcysxXT1XdVsxXSx0W3MrMl09V3VbMl07cmV0dXJuIHR9KTtGdS5mb3JFYWNoPUp1O3ZhciBRdT17fTtmdW5jdGlvbiB0Yyh0KXtyZXR1cm4gdGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdGModCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KFF1LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFF1LmNyZWF0ZT1uYyxRdS5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgZWMuQVJSQVlfVFlQRSg0KTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGV9LFF1LmZyb21WYWx1ZXM9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9bmV3IGVjLkFSUkFZX1RZUEUoNCk7cmV0dXJuIGlbMF09dCxpWzFdPWUsaVsyXT1yLGlbM109bixpfSxRdS5jb3B5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0fSxRdS5zZXQ9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gdFswXT1lLHRbMV09cix0WzJdPW4sdFszXT1pLHR9LFF1LmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHRbM109ZVszXStyWzNdLHR9LFF1LnN1YnRyYWN0PWljLFF1Lm11bHRpcGx5PWFjLFF1LmRpdmlkZT1zYyxRdS5jZWlsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5jZWlsKGVbMF0pLHRbMV09TWF0aC5jZWlsKGVbMV0pLHRbMl09TWF0aC5jZWlsKGVbMl0pLHRbM109TWF0aC5jZWlsKGVbM10pLHR9LFF1LmZsb29yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcihlWzBdKSx0WzFdPU1hdGguZmxvb3IoZVsxXSksdFsyXT1NYXRoLmZsb29yKGVbMl0pLHRbM109TWF0aC5mbG9vcihlWzNdKSx0fSxRdS5taW49ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPU1hdGgubWluKGVbMF0sclswXSksdFsxXT1NYXRoLm1pbihlWzFdLHJbMV0pLHRbMl09TWF0aC5taW4oZVsyXSxyWzJdKSx0WzNdPU1hdGgubWluKGVbM10sclszXSksdH0sUXUubWF4PWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1NYXRoLm1heChlWzBdLHJbMF0pLHRbMV09TWF0aC5tYXgoZVsxXSxyWzFdKSx0WzJdPU1hdGgubWF4KGVbMl0sclsyXSksdFszXT1NYXRoLm1heChlWzNdLHJbM10pLHR9LFF1LnJvdW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5yb3VuZChlWzBdKSx0WzFdPU1hdGgucm91bmQoZVsxXSksdFsyXT1NYXRoLnJvdW5kKGVbMl0pLHRbM109TWF0aC5yb3VuZChlWzNdKSx0fSxRdS5zY2FsZT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXSpyLHRbMV09ZVsxXSpyLHRbMl09ZVsyXSpyLHRbM109ZVszXSpyLHR9LFF1LnNjYWxlQW5kQWRkPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiB0WzBdPWVbMF0rclswXSpuLHRbMV09ZVsxXStyWzFdKm4sdFsyXT1lWzJdK3JbMl0qbix0WzNdPWVbM10rclszXSpuLHR9LFF1LmRpc3RhbmNlPW9jLFF1LnNxdWFyZWREaXN0YW5jZT1sYyxRdS5sZW5ndGg9dWMsUXUuc3F1YXJlZExlbmd0aD1jYyxRdS5uZWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT0tZVszXSx0fSxRdS5pbnZlcnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09MS9lWzBdLHRbMV09MS9lWzFdLHRbMl09MS9lWzJdLHRbM109MS9lWzNdLHR9LFF1Lm5vcm1hbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1yKnIrbipuK2kqaSthKmE7cmV0dXJuIHM+MCYmKHM9MS9NYXRoLnNxcnQocykpLHRbMF09cipzLHRbMV09bipzLHRbMl09aSpzLHRbM109YSpzLHR9LFF1LmRvdD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdK3RbMl0qZVsyXSt0WzNdKmVbM119LFF1LmNyb3NzPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXJbMF0qblsxXS1yWzFdKm5bMF0sYT1yWzBdKm5bMl0tclsyXSpuWzBdLHM9clswXSpuWzNdLXJbM10qblswXSxvPXJbMV0qblsyXS1yWzJdKm5bMV0sbD1yWzFdKm5bM10tclszXSpuWzFdLHU9clsyXSpuWzNdLXJbM10qblsyXSxjPWVbMF0saD1lWzFdLHA9ZVsyXSxmPWVbM107cmV0dXJuIHRbMF09aCp1LXAqbCtmKm8sdFsxXT0tYyp1K3Aqcy1mKmEsdFsyXT1jKmwtaCpzK2YqaSx0WzNdPS1jKm8raCphLXAqaSx0fSxRdS5sZXJwPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPWVbMF0sYT1lWzFdLHM9ZVsyXSxvPWVbM107cmV0dXJuIHRbMF09aStuKihyWzBdLWkpLHRbMV09YStuKihyWzFdLWEpLHRbMl09cytuKihyWzJdLXMpLHRbM109bytuKihyWzNdLW8pLHR9LFF1LnJhbmRvbT1mdW5jdGlvbih0LGUpe3ZhciByLG4saSxhLHMsbztlPWV8fDE7ZG97cz0ocj0yKmVjLlJBTkRPTSgpLTEpKnIrKG49MiplYy5SQU5ET00oKS0xKSpuO313aGlsZShzPj0xKTtkb3tvPShpPTIqZWMuUkFORE9NKCktMSkqaSsoYT0yKmVjLlJBTkRPTSgpLTEpKmE7fXdoaWxlKG8+PTEpO3ZhciBsPU1hdGguc3FydCgoMS1zKS9vKTtyZXR1cm4gdFswXT1lKnIsdFsxXT1lKm4sdFsyXT1lKmkqbCx0WzNdPWUqYSpsLHR9LFF1LnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM107cmV0dXJuIHRbMF09clswXSpuK3JbNF0qaStyWzhdKmErclsxMl0qcyx0WzFdPXJbMV0qbityWzVdKmkrcls5XSphK3JbMTNdKnMsdFsyXT1yWzJdKm4rcls2XSppK3JbMTBdKmErclsxNF0qcyx0WzNdPXJbM10qbityWzddKmkrclsxMV0qYStyWzE1XSpzLHR9LFF1LnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPXJbMF0sbz1yWzFdLGw9clsyXSx1PXJbM10sYz11Km4rbyphLWwqaSxoPXUqaStsKm4tcyphLHA9dSphK3MqaS1vKm4sZj0tcypuLW8qaS1sKmE7cmV0dXJuIHRbMF09Yyp1K2YqLXMraCotbC1wKi1vLHRbMV09aCp1K2YqLW8rcCotcy1jKi1sLHRbMl09cCp1K2YqLWwrYyotby1oKi1zLHRbM109ZVszXSx0fSxRdS56ZXJvPWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTAsdH0sUXUuc3RyPWZ1bmN0aW9uKHQpe3JldHVybiBcInZlYzQoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIilcIn0sUXUuZXhhY3RFcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXSYmdFszXT09PWVbM119LFF1LmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxhPXRbM10scz1lWzBdLG89ZVsxXSxsPWVbMl0sdT1lWzNdO3JldHVybiBNYXRoLmFicyhyLXMpPD1lYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMocykpJiZNYXRoLmFicyhuLW8pPD1lYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMobykpJiZNYXRoLmFicyhpLWwpPD1lYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhhLXUpPD1lYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnModSkpfSxRdS5mb3JFYWNoPVF1LnNxckxlbj1RdS5sZW49UXUuc3FyRGlzdD1RdS5kaXN0PVF1LmRpdj1RdS5tdWw9UXUuc3ViPXZvaWQgMDt2YXIgZWM9ZnVuY3Rpb24odCxlKXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPT10Yyh0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4ge2RlZmF1bHQ6dH07dmFyIHI9cmModm9pZCAwKTtpZihyJiZyLmhhcyh0KSlyZXR1cm4gci5nZXQodCk7dmFyIG49e30saT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBhIGluIHQpaWYoXCJkZWZhdWx0XCIhPT1hJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSl7dmFyIHM9aT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYSk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixhLHMpOm5bYV09dFthXTt9cmV0dXJuIG4uZGVmYXVsdD10LHImJnIuc2V0KHQsbiksbn0obnUpO2Z1bmN0aW9uIHJjKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcDtyZXR1cm4gKHJjPWZ1bmN0aW9uKHQpe3JldHVybiB0P3I6ZX0pKHQpfWZ1bmN0aW9uIG5jKCl7dmFyIHQ9bmV3IGVjLkFSUkFZX1RZUEUoNCk7cmV0dXJuIGVjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MCksdH1mdW5jdGlvbiBpYyh0LGUscil7cmV0dXJuIHRbMF09ZVswXS1yWzBdLHRbMV09ZVsxXS1yWzFdLHRbMl09ZVsyXS1yWzJdLHRbM109ZVszXS1yWzNdLHR9ZnVuY3Rpb24gYWModCxlLHIpe3JldHVybiB0WzBdPWVbMF0qclswXSx0WzFdPWVbMV0qclsxXSx0WzJdPWVbMl0qclsyXSx0WzNdPWVbM10qclszXSx0fWZ1bmN0aW9uIHNjKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdL3JbMF0sdFsxXT1lWzFdL3JbMV0sdFsyXT1lWzJdL3JbMl0sdFszXT1lWzNdL3JbM10sdH1mdW5jdGlvbiBvYyh0LGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0tdFswXSxlWzFdLXRbMV0sZVsyXS10WzJdLGVbM10tdFszXSl9ZnVuY3Rpb24gbGModCxlKXt2YXIgcj1lWzBdLXRbMF0sbj1lWzFdLXRbMV0saT1lWzJdLXRbMl0sYT1lWzNdLXRbM107cmV0dXJuIHIqcituKm4raSppK2EqYX1mdW5jdGlvbiB1Yyh0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLHRbMV0sdFsyXSx0WzNdKX1mdW5jdGlvbiBjYyh0KXt2YXIgZT10WzBdLHI9dFsxXSxuPXRbMl0saT10WzNdO3JldHVybiBlKmUrcipyK24qbitpKml9UXUuc3ViPWljLFF1Lm11bD1hYyxRdS5kaXY9c2MsUXUuZGlzdD1vYyxRdS5zcXJEaXN0PWxjLFF1Lmxlbj11YyxRdS5zcXJMZW49Y2M7dmFyIGhjPWZ1bmN0aW9uKCl7dmFyIHQ9bmMoKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4saSxhLHMpe3ZhciBvLGw7Zm9yKHJ8fChyPTQpLG58fChuPTApLGw9aT9NYXRoLm1pbihpKnIrbixlLmxlbmd0aCk6ZS5sZW5ndGgsbz1uO288bDtvKz1yKXRbMF09ZVtvXSx0WzFdPWVbbysxXSx0WzJdPWVbbysyXSx0WzNdPWVbbyszXSxhKHQsdCxzKSxlW29dPXRbMF0sZVtvKzFdPXRbMV0sZVtvKzJdPXRbMl0sZVtvKzNdPXRbM107cmV0dXJuIGV9fSgpO2Z1bmN0aW9uIHBjKHQpe3JldHVybiBwYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxwYyh0KX1RdS5mb3JFYWNoPWhjLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMdSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxMdS5jcmVhdGU9dmMsTHUuaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0fSxMdS5zZXRBeGlzQW5nbGU9YmMsTHUuZ2V0QXhpc0FuZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9MipNYXRoLmFjb3MoZVszXSksbj1NYXRoLnNpbihyLzIpO3JldHVybiBuPmZjLkVQU0lMT04/KHRbMF09ZVswXS9uLHRbMV09ZVsxXS9uLHRbMl09ZVsyXS9uKToodFswXT0xLHRbMV09MCx0WzJdPTApLHJ9LEx1LmdldEFuZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9a2ModCxlKTtyZXR1cm4gTWF0aC5hY29zKDIqcipyLTEpfSxMdS5tdWx0aXBseT1fYyxMdS5yb3RhdGVYPWZ1bmN0aW9uKHQsZSxyKXtyKj0uNTt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKTtyZXR1cm4gdFswXT1uKmwrcypvLHRbMV09aSpsK2Eqbyx0WzJdPWEqbC1pKm8sdFszXT1zKmwtbipvLHR9LEx1LnJvdGF0ZVk9ZnVuY3Rpb24odCxlLHIpe3IqPS41O3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiB0WzBdPW4qbC1hKm8sdFsxXT1pKmwrcypvLHRbMl09YSpsK24qbyx0WzNdPXMqbC1pKm8sdH0sTHUucm90YXRlWj1mdW5jdGlvbih0LGUscil7cio9LjU7dmFyIG49ZVswXSxpPWVbMV0sYT1lWzJdLHM9ZVszXSxvPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bipsK2kqbyx0WzFdPWkqbC1uKm8sdFsyXT1hKmwrcypvLHRbM109cypsLWEqbyx0fSxMdS5jYWxjdWxhdGVXPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdO3JldHVybiB0WzBdPXIsdFsxXT1uLHRbMl09aSx0WzNdPU1hdGguc3FydChNYXRoLmFicygxLXIqci1uKm4taSppKSksdH0sTHUuZXhwPXdjLEx1LmxuPU1jLEx1LnBvdz1mdW5jdGlvbih0LGUscil7cmV0dXJuIE1jKHQsZSksSWModCx0LHIpLHdjKHQsdCksdH0sTHUuc2xlcnA9QWMsTHUucmFuZG9tPWZ1bmN0aW9uKHQpe3ZhciBlPWZjLlJBTkRPTSgpLHI9ZmMuUkFORE9NKCksbj1mYy5SQU5ET00oKSxpPU1hdGguc3FydCgxLWUpLGE9TWF0aC5zcXJ0KGUpO3JldHVybiB0WzBdPWkqTWF0aC5zaW4oMipNYXRoLlBJKnIpLHRbMV09aSpNYXRoLmNvcygyKk1hdGguUEkqciksdFsyXT1hKk1hdGguc2luKDIqTWF0aC5QSSpuKSx0WzNdPWEqTWF0aC5jb3MoMipNYXRoLlBJKm4pLHR9LEx1LmludmVydD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxhPWVbM10scz1yKnIrbipuK2kqaSthKmEsbz1zPzEvczowO3JldHVybiB0WzBdPS1yKm8sdFsxXT0tbipvLHRbMl09LWkqbyx0WzNdPWEqbyx0fSxMdS5jb25qdWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT1lWzNdLHR9LEx1LmZyb21NYXQzPVNjLEx1LmZyb21FdWxlcj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0uNSpNYXRoLlBJLzE4MDtlKj1pLHIqPWksbio9aTt2YXIgYT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpLG89TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKSx1PU1hdGguc2luKG4pLGM9TWF0aC5jb3Mobik7cmV0dXJuIHRbMF09YSpsKmMtcypvKnUsdFsxXT1zKm8qYythKmwqdSx0WzJdPXMqbCp1LWEqbypjLHRbM109cypsKmMrYSpvKnUsdH0sTHUuc3RyPWZ1bmN0aW9uKHQpe3JldHVybiBcInF1YXQoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIilcIn0sTHUuc2V0QXhlcz1MdS5zcWxlcnA9THUucm90YXRpb25Ubz1MdS5lcXVhbHM9THUuZXhhY3RFcXVhbHM9THUubm9ybWFsaXplPUx1LnNxckxlbj1MdS5zcXVhcmVkTGVuZ3RoPUx1Lmxlbj1MdS5sZW5ndGg9THUubGVycD1MdS5kb3Q9THUuc2NhbGU9THUubXVsPUx1LmFkZD1MdS5zZXQ9THUuY29weT1MdS5mcm9tVmFsdWVzPUx1LmNsb25lPXZvaWQgMDt2YXIgZmM9eGMobnUpLGRjPXhjKGJ1KSxtYz14YyhGdSkseWM9eGMoUXUpO2Z1bmN0aW9uIGdjKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIGU9bmV3IFdlYWtNYXAscj1uZXcgV2Vha01hcDtyZXR1cm4gKGdjPWZ1bmN0aW9uKHQpe3JldHVybiB0P3I6ZX0pKHQpfWZ1bmN0aW9uIHhjKHQsZSl7aWYoIWUmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PXBjKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiB7ZGVmYXVsdDp0fTt2YXIgcj1nYyhlKTtpZihyJiZyLmhhcyh0KSlyZXR1cm4gci5nZXQodCk7dmFyIG49e30saT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBhIGluIHQpaWYoXCJkZWZhdWx0XCIhPT1hJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSl7dmFyIHM9aT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsYSk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobixhLHMpOm5bYV09dFthXTt9cmV0dXJuIG4uZGVmYXVsdD10LHImJnIuc2V0KHQsbiksbn1mdW5jdGlvbiB2Yygpe3ZhciB0PW5ldyBmYy5BUlJBWV9UWVBFKDQpO3JldHVybiBmYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCksdFszXT0xLHR9ZnVuY3Rpb24gYmModCxlLHIpe3IqPS41O3ZhciBuPU1hdGguc2luKHIpO3JldHVybiB0WzBdPW4qZVswXSx0WzFdPW4qZVsxXSx0WzJdPW4qZVsyXSx0WzNdPU1hdGguY29zKHIpLHR9ZnVuY3Rpb24gX2ModCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1yWzBdLGw9clsxXSx1PXJbMl0sYz1yWzNdO3JldHVybiB0WzBdPW4qYytzKm8raSp1LWEqbCx0WzFdPWkqYytzKmwrYSpvLW4qdSx0WzJdPWEqYytzKnUrbipsLWkqbyx0WzNdPXMqYy1uKm8taSpsLWEqdSx0fWZ1bmN0aW9uIHdjKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLGE9ZVszXSxzPU1hdGguc3FydChyKnIrbipuK2kqaSksbz1NYXRoLmV4cChhKSxsPXM+MD9vKk1hdGguc2luKHMpL3M6MDtyZXR1cm4gdFswXT1yKmwsdFsxXT1uKmwsdFsyXT1pKmwsdFszXT1vKk1hdGguY29zKHMpLHR9ZnVuY3Rpb24gTWModCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0sYT1lWzNdLHM9TWF0aC5zcXJ0KHIqcituKm4raSppKSxvPXM+MD9NYXRoLmF0YW4yKHMsYSkvczowO3JldHVybiB0WzBdPXIqbyx0WzFdPW4qbyx0WzJdPWkqbyx0WzNdPS41Kk1hdGgubG9nKHIqcituKm4raSppK2EqYSksdH1mdW5jdGlvbiBBYyh0LGUscixuKXt2YXIgaSxhLHMsbyxsLHU9ZVswXSxjPWVbMV0saD1lWzJdLHA9ZVszXSxmPXJbMF0sZD1yWzFdLG09clsyXSx5PXJbM107cmV0dXJuIChhPXUqZitjKmQraCptK3AqeSk8MCYmKGE9LWEsZj0tZixkPS1kLG09LW0seT0teSksMS1hPmZjLkVQU0lMT04/KGk9TWF0aC5hY29zKGEpLHM9TWF0aC5zaW4oaSksbz1NYXRoLnNpbigoMS1uKSppKS9zLGw9TWF0aC5zaW4obippKS9zKToobz0xLW4sbD1uKSx0WzBdPW8qdStsKmYsdFsxXT1vKmMrbCpkLHRbMl09bypoK2wqbSx0WzNdPW8qcCtsKnksdH1mdW5jdGlvbiBTYyh0LGUpe3ZhciByLG49ZVswXStlWzRdK2VbOF07aWYobj4wKXI9TWF0aC5zcXJ0KG4rMSksdFszXT0uNSpyLHRbMF09KGVbNV0tZVs3XSkqKHI9LjUvciksdFsxXT0oZVs2XS1lWzJdKSpyLHRbMl09KGVbMV0tZVszXSkqcjtlbHNlIHt2YXIgaT0wO2VbNF0+ZVswXSYmKGk9MSksZVs4XT5lWzMqaStpXSYmKGk9Mik7dmFyIGE9KGkrMSklMyxzPShpKzIpJTM7cj1NYXRoLnNxcnQoZVszKmkraV0tZVszKmErYV0tZVszKnMrc10rMSksdFtpXT0uNSpyLHRbM109KGVbMyphK3NdLWVbMypzK2FdKSoocj0uNS9yKSx0W2FdPShlWzMqYStpXStlWzMqaSthXSkqcix0W3NdPShlWzMqcytpXStlWzMqaStzXSkqcjt9cmV0dXJuIHR9THUuY2xvbmU9eWMuY2xvbmUsTHUuZnJvbVZhbHVlcz15Yy5mcm9tVmFsdWVzLEx1LmNvcHk9eWMuY29weSxMdS5zZXQ9eWMuc2V0LEx1LmFkZD15Yy5hZGQsTHUubXVsPV9jO3ZhciBJYz15Yy5zY2FsZTtMdS5zY2FsZT1JYzt2YXIga2M9eWMuZG90O0x1LmRvdD1rYyxMdS5sZXJwPXljLmxlcnA7dmFyIFBjPXljLmxlbmd0aDtMdS5sZW5ndGg9UGMsTHUubGVuPVBjO3ZhciBFYz15Yy5zcXVhcmVkTGVuZ3RoO0x1LnNxdWFyZWRMZW5ndGg9RWMsTHUuc3FyTGVuPUVjO3ZhciB6Yz15Yy5ub3JtYWxpemU7THUubm9ybWFsaXplPXpjLEx1LmV4YWN0RXF1YWxzPXljLmV4YWN0RXF1YWxzLEx1LmVxdWFscz15Yy5lcXVhbHM7dmFyIFRjLEJjLENjLFJjPShUYz1tYy5jcmVhdGUoKSxCYz1tYy5mcm9tVmFsdWVzKDEsMCwwKSxDYz1tYy5mcm9tVmFsdWVzKDAsMSwwKSxmdW5jdGlvbih0LGUscil7dmFyIG49bWMuZG90KGUscik7cmV0dXJuIG48LS45OTk5OTk/KG1jLmNyb3NzKFRjLEJjLGUpLG1jLmxlbihUYyk8MWUtNiYmbWMuY3Jvc3MoVGMsQ2MsZSksbWMubm9ybWFsaXplKFRjLFRjKSxiYyh0LFRjLE1hdGguUEkpLHQpOm4+Ljk5OTk5OT8odFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0xLHQpOihtYy5jcm9zcyhUYyxlLHIpLHRbMF09VGNbMF0sdFsxXT1UY1sxXSx0WzJdPVRjWzJdLHRbM109MStuLHpjKHQsdCkpfSk7THUucm90YXRpb25Ubz1SYzt2YXIgRGMsVmMsTGM9KERjPXZjKCksVmM9dmMoKSxmdW5jdGlvbih0LGUscixuLGksYSl7cmV0dXJuIEFjKERjLGUsaSxhKSxBYyhWYyxyLG4sYSksQWModCxEYyxWYywyKmEqKDEtYSkpLHR9KTtMdS5zcWxlcnA9TGM7dmFyIEZjLE5jPShGYz1kYy5jcmVhdGUoKSxmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gRmNbMF09clswXSxGY1szXT1yWzFdLEZjWzZdPXJbMl0sRmNbMV09blswXSxGY1s0XT1uWzFdLEZjWzddPW5bMl0sRmNbMl09LWVbMF0sRmNbNV09LWVbMV0sRmNbOF09LWVbMl0semModCxTYyh0LEZjKSl9KTtMdS5zZXRBeGVzPU5jO3ZhciBPYz17fTtmdW5jdGlvbiBVYyh0KXtyZXR1cm4gVWM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVWModCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KE9jLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9jLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBqYy5BUlJBWV9UWVBFKDgpO3JldHVybiBqYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzRdPTAsdFs1XT0wLHRbNl09MCx0WzddPTApLHRbM109MSx0fSxPYy5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgamMuQVJSQVlfVFlQRSg4KTtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlfSxPYy5mcm9tVmFsdWVzPWZ1bmN0aW9uKHQsZSxyLG4saSxhLHMsbyl7dmFyIGw9bmV3IGpjLkFSUkFZX1RZUEUoOCk7cmV0dXJuIGxbMF09dCxsWzFdPWUsbFsyXT1yLGxbM109bixsWzRdPWksbFs1XT1hLGxbNl09cyxsWzddPW8sbH0sT2MuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXM9ZnVuY3Rpb24odCxlLHIsbixpLGEscyl7dmFyIG89bmV3IGpjLkFSUkFZX1RZUEUoOCk7b1swXT10LG9bMV09ZSxvWzJdPXIsb1szXT1uO3ZhciBsPS41KmksdT0uNSphLGM9LjUqcztyZXR1cm4gb1s0XT1sKm4rdSpyLWMqZSxvWzVdPXUqbitjKnQtbCpyLG9bNl09YypuK2wqZS11KnQsb1s3XT0tbCp0LXUqZS1jKnIsb30sT2MuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249WGMsT2MuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MSx0WzRdPS41KmVbMF0sdFs1XT0uNSplWzFdLHRbNl09LjUqZVsyXSx0WzddPTAsdH0sT2MuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPTAsdFs1XT0wLHRbNl09MCx0WzddPTAsdH0sT2MuZnJvbU1hdDQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1xYy5jcmVhdGUoKTskYy5nZXRSb3RhdGlvbihyLGUpO3ZhciBuPW5ldyBqYy5BUlJBWV9UWVBFKDMpO3JldHVybiAkYy5nZXRUcmFuc2xhdGlvbihuLGUpLFhjKHQscixuKSx0fSxPYy5jb3B5PVpjLE9jLmlkZW50aXR5PWZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdFs0XT0wLHRbNV09MCx0WzZdPTAsdFs3XT0wLHR9LE9jLnNldD1mdW5jdGlvbih0LGUscixuLGksYSxzLG8sbCl7cmV0dXJuIHRbMF09ZSx0WzFdPXIsdFsyXT1uLHRbM109aSx0WzRdPWEsdFs1XT1zLHRbNl09byx0WzddPWwsdH0sT2MuZ2V0RHVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbNF0sdFsxXT1lWzVdLHRbMl09ZVs2XSx0WzNdPWVbN10sdH0sT2Muc2V0RHVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzRdPWVbMF0sdFs1XT1lWzFdLHRbNl09ZVsyXSx0WzddPWVbM10sdH0sT2MuZ2V0VHJhbnNsYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzRdLG49ZVs1XSxpPWVbNl0sYT1lWzddLHM9LWVbMF0sbz0tZVsxXSxsPS1lWzJdLHU9ZVszXTtyZXR1cm4gdFswXT0yKihyKnUrYSpzK24qbC1pKm8pLHRbMV09Mioobip1K2EqbytpKnMtcipsKSx0WzJdPTIqKGkqdSthKmwrcipvLW4qcyksdH0sT2MudHJhbnNsYXRlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxhPWVbMl0scz1lWzNdLG89LjUqclswXSxsPS41KnJbMV0sdT0uNSpyWzJdLGM9ZVs0XSxoPWVbNV0scD1lWzZdLGY9ZVs3XTtyZXR1cm4gdFswXT1uLHRbMV09aSx0WzJdPWEsdFszXT1zLHRbNF09cypvK2kqdS1hKmwrYyx0WzVdPXMqbCthKm8tbip1K2gsdFs2XT1zKnUrbipsLWkqbytwLHRbN109LW4qby1pKmwtYSp1K2YsdH0sT2Mucm90YXRlWD1mdW5jdGlvbih0LGUscil7dmFyIG49LWVbMF0saT0tZVsxXSxhPS1lWzJdLHM9ZVszXSxvPWVbNF0sbD1lWzVdLHU9ZVs2XSxjPWVbN10saD1vKnMrYypuK2wqYS11KmkscD1sKnMrYyppK3Uqbi1vKmEsZj11KnMrYyphK28qaS1sKm4sZD1jKnMtbypuLWwqaS11KmE7cmV0dXJuIHFjLnJvdGF0ZVgodCxlLHIpLHRbNF09aCoocz10WzNdKStkKihuPXRbMF0pK3AqKGE9dFsyXSktZiooaT10WzFdKSx0WzVdPXAqcytkKmkrZipuLWgqYSx0WzZdPWYqcytkKmEraCppLXAqbix0WzddPWQqcy1oKm4tcCppLWYqYSx0fSxPYy5yb3RhdGVZPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj0tZVswXSxpPS1lWzFdLGE9LWVbMl0scz1lWzNdLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPW8qcytjKm4rbCphLXUqaSxwPWwqcytjKmkrdSpuLW8qYSxmPXUqcytjKmErbyppLWwqbixkPWMqcy1vKm4tbCppLXUqYTtyZXR1cm4gcWMucm90YXRlWSh0LGUsciksdFs0XT1oKihzPXRbM10pK2QqKG49dFswXSkrcCooYT10WzJdKS1mKihpPXRbMV0pLHRbNV09cCpzK2QqaStmKm4taCphLHRbNl09ZipzK2QqYStoKmktcCpuLHRbN109ZCpzLWgqbi1wKmktZiphLHR9LE9jLnJvdGF0ZVo9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPS1lWzBdLGk9LWVbMV0sYT0tZVsyXSxzPWVbM10sbz1lWzRdLGw9ZVs1XSx1PWVbNl0sYz1lWzddLGg9bypzK2MqbitsKmEtdSppLHA9bCpzK2MqaSt1Km4tbyphLGY9dSpzK2MqYStvKmktbCpuLGQ9YypzLW8qbi1sKmktdSphO3JldHVybiBxYy5yb3RhdGVaKHQsZSxyKSx0WzRdPWgqKHM9dFszXSkrZCoobj10WzBdKStwKihhPXRbMl0pLWYqKGk9dFsxXSksdFs1XT1wKnMrZCppK2Yqbi1oKmEsdFs2XT1mKnMrZCphK2gqaS1wKm4sdFs3XT1kKnMtaCpuLXAqaS1mKmEsdH0sT2Mucm90YXRlQnlRdWF0QXBwZW5kPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yWzBdLGk9clsxXSxhPXJbMl0scz1yWzNdLG89ZVswXSxsPWVbMV0sdT1lWzJdLGM9ZVszXTtyZXR1cm4gdFswXT1vKnMrYypuK2wqYS11KmksdFsxXT1sKnMrYyppK3Uqbi1vKmEsdFsyXT11KnMrYyphK28qaS1sKm4sdFszXT1jKnMtbypuLWwqaS11KmEsdFs0XT0obz1lWzRdKSpzKyhjPWVbN10pKm4rKGw9ZVs1XSkqYS0odT1lWzZdKSppLHRbNV09bCpzK2MqaSt1Km4tbyphLHRbNl09dSpzK2MqYStvKmktbCpuLHRbN109YypzLW8qbi1sKmktdSphLHR9LE9jLnJvdGF0ZUJ5UXVhdFByZXBlbmQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1yWzBdLGw9clsxXSx1PXJbMl0sYz1yWzNdO3JldHVybiB0WzBdPW4qYytzKm8raSp1LWEqbCx0WzFdPWkqYytzKmwrYSpvLW4qdSx0WzJdPWEqYytzKnUrbipsLWkqbyx0WzNdPXMqYy1uKm8taSpsLWEqdSx0WzRdPW4qKGM9cls3XSkrcyoobz1yWzRdKStpKih1PXJbNl0pLWEqKGw9cls1XSksdFs1XT1pKmMrcypsK2Eqby1uKnUsdFs2XT1hKmMrcyp1K24qbC1pKm8sdFs3XT1zKmMtbipvLWkqbC1hKnUsdH0sT2Mucm90YXRlQXJvdW5kQXhpcz1mdW5jdGlvbih0LGUscixuKXtpZihNYXRoLmFicyhuKTxqYy5FUFNJTE9OKXJldHVybiBaYyh0LGUpO3ZhciBpPU1hdGguaHlwb3QoclswXSxyWzFdLHJbMl0pO24qPS41O3ZhciBhPU1hdGguc2luKG4pLHM9YSpyWzBdL2ksbz1hKnJbMV0vaSxsPWEqclsyXS9pLHU9TWF0aC5jb3MobiksYz1lWzBdLGg9ZVsxXSxwPWVbMl0sZj1lWzNdO3RbMF09Yyp1K2YqcytoKmwtcCpvLHRbMV09aCp1K2YqbytwKnMtYypsLHRbMl09cCp1K2YqbCtjKm8taCpzLHRbM109Zip1LWMqcy1oKm8tcCpsO3ZhciBkPWVbNF0sbT1lWzVdLHk9ZVs2XSxnPWVbN107cmV0dXJuIHRbNF09ZCp1K2cqcyttKmwteSpvLHRbNV09bSp1K2cqbyt5KnMtZCpsLHRbNl09eSp1K2cqbCtkKm8tbSpzLHRbN109Zyp1LWQqcy1tKm8teSpsLHR9LE9jLmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHRbMl09ZVsyXStyWzJdLHRbM109ZVszXStyWzNdLHRbNF09ZVs0XStyWzRdLHRbNV09ZVs1XStyWzVdLHRbNl09ZVs2XStyWzZdLHRbN109ZVs3XStyWzddLHR9LE9jLm11bHRpcGx5PUtjLE9jLnNjYWxlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdKnIsdFsxXT1lWzFdKnIsdFsyXT1lWzJdKnIsdFszXT1lWzNdKnIsdFs0XT1lWzRdKnIsdFs1XT1lWzVdKnIsdFs2XT1lWzZdKnIsdFs3XT1lWzddKnIsdH0sT2MubGVycD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT0xLW47cmV0dXJuIEhjKGUscik8MCYmKG49LW4pLHRbMF09ZVswXSppK3JbMF0qbix0WzFdPWVbMV0qaStyWzFdKm4sdFsyXT1lWzJdKmkrclsyXSpuLHRbM109ZVszXSppK3JbM10qbix0WzRdPWVbNF0qaStyWzRdKm4sdFs1XT1lWzVdKmkrcls1XSpuLHRbNl09ZVs2XSppK3JbNl0qbix0WzddPWVbN10qaStyWzddKm4sdH0sT2MuaW52ZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9SmMoZSk7cmV0dXJuIHRbMF09LWVbMF0vcix0WzFdPS1lWzFdL3IsdFsyXT0tZVsyXS9yLHRbM109ZVszXS9yLHRbNF09LWVbNF0vcix0WzVdPS1lWzVdL3IsdFs2XT0tZVs2XS9yLHRbN109ZVs3XS9yLHR9LE9jLmNvbmp1Z2F0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdFsyXT0tZVsyXSx0WzNdPWVbM10sdFs0XT0tZVs0XSx0WzVdPS1lWzVdLHRbNl09LWVbNl0sdFs3XT1lWzddLHR9LE9jLm5vcm1hbGl6ZT1mdW5jdGlvbih0LGUpe3ZhciByPUpjKGUpO2lmKHI+MCl7cj1NYXRoLnNxcnQocik7dmFyIG49ZVswXS9yLGk9ZVsxXS9yLGE9ZVsyXS9yLHM9ZVszXS9yLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPW4qbytpKmwrYSp1K3MqYzt0WzBdPW4sdFsxXT1pLHRbMl09YSx0WzNdPXMsdFs0XT0oby1uKmgpL3IsdFs1XT0obC1pKmgpL3IsdFs2XT0odS1hKmgpL3IsdFs3XT0oYy1zKmgpL3I7fXJldHVybiB0fSxPYy5zdHI9ZnVuY3Rpb24odCl7cmV0dXJuIFwicXVhdDIoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIiwgXCIrdFs0XStcIiwgXCIrdFs1XStcIiwgXCIrdFs2XStcIiwgXCIrdFs3XStcIilcIn0sT2MuZXhhY3RFcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXSYmdFszXT09PWVbM10mJnRbNF09PT1lWzRdJiZ0WzVdPT09ZVs1XSYmdFs2XT09PWVbNl0mJnRbN109PT1lWzddfSxPYy5lcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sYT10WzNdLHM9dFs0XSxvPXRbNV0sbD10WzZdLHU9dFs3XSxjPWVbMF0saD1lWzFdLHA9ZVsyXSxmPWVbM10sZD1lWzRdLG09ZVs1XSx5PWVbNl0sZz1lWzddO3JldHVybiBNYXRoLmFicyhyLWMpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoYykpJiZNYXRoLmFicyhuLWgpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhpLXApPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMocCkpJiZNYXRoLmFicyhhLWYpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMoZikpJiZNYXRoLmFicyhzLWQpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoZCkpJiZNYXRoLmFicyhvLW0pPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMobSkpJiZNYXRoLmFicyhsLXkpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobCksTWF0aC5hYnMoeSkpJiZNYXRoLmFicyh1LWcpPD1qYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnModSksTWF0aC5hYnMoZykpfSxPYy5zcXJMZW49T2Muc3F1YXJlZExlbmd0aD1PYy5sZW49T2MubGVuZ3RoPU9jLmRvdD1PYy5tdWw9T2Muc2V0UmVhbD1PYy5nZXRSZWFsPXZvaWQgMDt2YXIgamM9WWMobnUpLHFjPVljKEx1KSwkYz1ZYyhJdSk7ZnVuY3Rpb24gR2ModCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwO3JldHVybiAoR2M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplfSkodCl9ZnVuY3Rpb24gWWModCxlKXtpZighZSYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O2lmKG51bGw9PT10fHxcIm9iamVjdFwiIT09VWModCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIHtkZWZhdWx0OnR9O3ZhciByPUdjKGUpO2lmKHImJnIuaGFzKHQpKXJldHVybiByLmdldCh0KTt2YXIgbj17fSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGEgaW4gdClpZihcImRlZmF1bHRcIiE9PWEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxhKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGEscyk6blthXT10W2FdO31yZXR1cm4gbi5kZWZhdWx0PXQsciYmci5zZXQodCxuKSxufWZ1bmN0aW9uIFhjKHQsZSxyKXt2YXIgbj0uNSpyWzBdLGk9LjUqclsxXSxhPS41KnJbMl0scz1lWzBdLG89ZVsxXSxsPWVbMl0sdT1lWzNdO3JldHVybiB0WzBdPXMsdFsxXT1vLHRbMl09bCx0WzNdPXUsdFs0XT1uKnUraSpsLWEqbyx0WzVdPWkqdSthKnMtbipsLHRbNl09YSp1K24qby1pKnMsdFs3XT0tbipzLWkqby1hKmwsdH1mdW5jdGlvbiBaYyh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHR9ZnVuY3Rpb24gS2ModCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLGE9ZVsyXSxzPWVbM10sbz1yWzRdLGw9cls1XSx1PXJbNl0sYz1yWzddLGg9ZVs0XSxwPWVbNV0sZj1lWzZdLGQ9ZVs3XSxtPXJbMF0seT1yWzFdLGc9clsyXSx4PXJbM107cmV0dXJuIHRbMF09bip4K3MqbStpKmctYSp5LHRbMV09aSp4K3MqeSthKm0tbipnLHRbMl09YSp4K3MqZytuKnktaSptLHRbM109cyp4LW4qbS1pKnktYSpnLHRbNF09bipjK3MqbytpKnUtYSpsK2gqeCtkKm0rcCpnLWYqeSx0WzVdPWkqYytzKmwrYSpvLW4qdStwKngrZCp5K2YqbS1oKmcsdFs2XT1hKmMrcyp1K24qbC1pKm8rZip4K2QqZytoKnktcCptLHRbN109cypjLW4qby1pKmwtYSp1K2QqeC1oKm0tcCp5LWYqZyx0fU9jLmdldFJlYWw9cWMuY29weSxPYy5zZXRSZWFsPXFjLmNvcHksT2MubXVsPUtjO3ZhciBIYz1xYy5kb3Q7T2MuZG90PUhjO3ZhciBXYz1xYy5sZW5ndGg7T2MubGVuZ3RoPVdjLE9jLmxlbj1XYzt2YXIgSmM9cWMuc3F1YXJlZExlbmd0aDtPYy5zcXVhcmVkTGVuZ3RoPUpjLE9jLnNxckxlbj1KYzt2YXIgUWM9e307ZnVuY3Rpb24gdGgodCl7cmV0dXJuIHRoPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHRoKHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxRYy5jcmVhdGU9bmgsUWMuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGVoLkFSUkFZX1RZUEUoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX0sUWMuZnJvbVZhbHVlcz1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBlaC5BUlJBWV9UWVBFKDIpO3JldHVybiByWzBdPXQsclsxXT1lLHJ9LFFjLmNvcHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fSxRYy5zZXQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWUsdFsxXT1yLHR9LFFjLmFkZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXStyWzBdLHRbMV09ZVsxXStyWzFdLHR9LFFjLnN1YnRyYWN0PWloLFFjLm11bHRpcGx5PWFoLFFjLmRpdmlkZT1zaCxRYy5jZWlsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5jZWlsKGVbMF0pLHRbMV09TWF0aC5jZWlsKGVbMV0pLHR9LFFjLmZsb29yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5mbG9vcihlWzBdKSx0WzFdPU1hdGguZmxvb3IoZVsxXSksdH0sUWMubWluPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFswXT1NYXRoLm1pbihlWzBdLHJbMF0pLHRbMV09TWF0aC5taW4oZVsxXSxyWzFdKSx0fSxRYy5tYXg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPU1hdGgubWF4KGVbMF0sclswXSksdFsxXT1NYXRoLm1heChlWzFdLHJbMV0pLHR9LFFjLnJvdW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09TWF0aC5yb3VuZChlWzBdKSx0WzFdPU1hdGgucm91bmQoZVsxXSksdH0sUWMuc2NhbGU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0fSxRYy5zY2FsZUFuZEFkZD1mdW5jdGlvbih0LGUscixuKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0qbix0WzFdPWVbMV0rclsxXSpuLHR9LFFjLmRpc3RhbmNlPW9oLFFjLnNxdWFyZWREaXN0YW5jZT1saCxRYy5sZW5ndGg9dWgsUWMuc3F1YXJlZExlbmd0aD1jaCxRYy5uZWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LFFjLmludmVyc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0xL2VbMF0sdFsxXT0xL2VbMV0sdH0sUWMubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1yKnIrbipuO3JldHVybiBpPjAmJihpPTEvTWF0aC5zcXJ0KGkpKSx0WzBdPWVbMF0qaSx0WzFdPWVbMV0qaSx0fSxRYy5kb3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXX0sUWMuY3Jvc3M9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0qclsxXS1lWzFdKnJbMF07cmV0dXJuIHRbMF09dFsxXT0wLHRbMl09bix0fSxRYy5sZXJwPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPWVbMF0sYT1lWzFdO3JldHVybiB0WzBdPWkrbiooclswXS1pKSx0WzFdPWErbiooclsxXS1hKSx0fSxRYy5yYW5kb209ZnVuY3Rpb24odCxlKXtlPWV8fDE7dmFyIHI9MiplaC5SQU5ET00oKSpNYXRoLlBJO3JldHVybiB0WzBdPU1hdGguY29zKHIpKmUsdFsxXT1NYXRoLnNpbihyKSplLHR9LFFjLnRyYW5zZm9ybU1hdDI9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdO3JldHVybiB0WzBdPXJbMF0qbityWzJdKmksdFsxXT1yWzFdKm4rclszXSppLHR9LFFjLnRyYW5zZm9ybU1hdDJkPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXTtyZXR1cm4gdFswXT1yWzBdKm4rclsyXSppK3JbNF0sdFsxXT1yWzFdKm4rclszXSppK3JbNV0sdH0sUWMudHJhbnNmb3JtTWF0Mz1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV07cmV0dXJuIHRbMF09clswXSpuK3JbM10qaStyWzZdLHRbMV09clsxXSpuK3JbNF0qaStyWzddLHR9LFFjLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdO3JldHVybiB0WzBdPXJbMF0qbityWzRdKmkrclsxMl0sdFsxXT1yWzFdKm4rcls1XSppK3JbMTNdLHR9LFFjLnJvdGF0ZT1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lWzBdLXJbMF0sYT1lWzFdLXJbMV0scz1NYXRoLnNpbihuKSxvPU1hdGguY29zKG4pO3JldHVybiB0WzBdPWkqby1hKnMrclswXSx0WzFdPWkqcythKm8rclsxXSx0fSxRYy5hbmdsZT1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9ZVswXSxhPWVbMV0scz1NYXRoLnNxcnQocipyK24qbikqTWF0aC5zcXJ0KGkqaSthKmEpO3JldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgocyYmKHIqaStuKmEpL3MsLTEpLDEpKX0sUWMuemVybz1mdW5jdGlvbih0KXtyZXR1cm4gdFswXT0wLHRbMV09MCx0fSxRYy5zdHI9ZnVuY3Rpb24odCl7cmV0dXJuIFwidmVjMihcIit0WzBdK1wiLCBcIit0WzFdK1wiKVwifSxRYy5leGFjdEVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPT09ZVswXSYmdFsxXT09PWVbMV19LFFjLmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciByPXRbMF0sbj10WzFdLGk9ZVswXSxhPWVbMV07cmV0dXJuIE1hdGguYWJzKHItaSk8PWVoLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhpKSkmJk1hdGguYWJzKG4tYSk8PWVoLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhhKSl9LFFjLmZvckVhY2g9UWMuc3FyTGVuPVFjLnNxckRpc3Q9UWMuZGlzdD1RYy5kaXY9UWMubXVsPVFjLnN1Yj1RYy5sZW49dm9pZCAwO3ZhciBlaD1mdW5jdGlvbih0LGUpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PXRoKHQpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiB7ZGVmYXVsdDp0fTt2YXIgcj1yaCh2b2lkIDApO2lmKHImJnIuaGFzKHQpKXJldHVybiByLmdldCh0KTt2YXIgbj17fSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGEgaW4gdClpZihcImRlZmF1bHRcIiE9PWEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxhKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGEscyk6blthXT10W2FdO31yZXR1cm4gbi5kZWZhdWx0PXQsciYmci5zZXQodCxuKSxufShudSk7ZnVuY3Rpb24gcmgodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwO3JldHVybiAocmg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplfSkodCl9ZnVuY3Rpb24gbmgoKXt2YXIgdD1uZXcgZWguQVJSQVlfVFlQRSgyKTtyZXR1cm4gZWguQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCksdH1mdW5jdGlvbiBpaCh0LGUscil7cmV0dXJuIHRbMF09ZVswXS1yWzBdLHRbMV09ZVsxXS1yWzFdLHR9ZnVuY3Rpb24gYWgodCxlLHIpe3JldHVybiB0WzBdPWVbMF0qclswXSx0WzFdPWVbMV0qclsxXSx0fWZ1bmN0aW9uIHNoKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdL3JbMF0sdFsxXT1lWzFdL3JbMV0sdH1mdW5jdGlvbiBvaCh0LGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0tdFswXSxlWzFdLXRbMV0pfWZ1bmN0aW9uIGxoKHQsZSl7dmFyIHI9ZVswXS10WzBdLG49ZVsxXS10WzFdO3JldHVybiByKnIrbipufWZ1bmN0aW9uIHVoKHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0sdFsxXSl9ZnVuY3Rpb24gY2godCl7dmFyIGU9dFswXSxyPXRbMV07cmV0dXJuIGUqZStyKnJ9UWMubGVuPXVoLFFjLnN1Yj1paCxRYy5tdWw9YWgsUWMuZGl2PXNoLFFjLmRpc3Q9b2gsUWMuc3FyRGlzdD1saCxRYy5zcXJMZW49Y2g7dmFyIGhoPWZ1bmN0aW9uKCl7dmFyIHQ9bmgoKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4saSxhLHMpe3ZhciBvLGw7Zm9yKHJ8fChyPTIpLG58fChuPTApLGw9aT9NYXRoLm1pbihpKnIrbixlLmxlbmd0aCk6ZS5sZW5ndGgsbz1uO288bDtvKz1yKXRbMF09ZVtvXSx0WzFdPWVbbysxXSxhKHQsdCxzKSxlW29dPXRbMF0sZVtvKzFdPXRbMV07cmV0dXJuIGV9fSgpO2Z1bmN0aW9uIHBoKHQpe3JldHVybiBwaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxwaCh0KX1RYy5mb3JFYWNoPWhoLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShydSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmE3PXJ1LnZlYzQ9dC5OPXJ1LnZlYzM9cnUudmVjMj1ydS5xdWF0Mj10LmJpPXJ1LnF1YXQ9dC5hNj1ydS5tYXQ0PXQuY289cnUubWF0Mz1ydS5tYXQyZD10LmI0PXJ1Lm1hdDI9cnUuZ2xNYXRyaXg9dm9pZCAwO3ZhciBmaD1BaChudSk7cnUuZ2xNYXRyaXg9Zmg7dmFyIGRoPUFoKGx1KTt0LmI0PXJ1Lm1hdDI9ZGg7dmFyIG1oPUFoKGR1KTtydS5tYXQyZD1taDt2YXIgeWg9QWgoYnUpO3QuY289cnUubWF0Mz15aDt2YXIgZ2g9QWgoSXUpO3QuYTY9cnUubWF0ND1naDt2YXIgeGg9QWgoTHUpO3QuYmk9cnUucXVhdD14aDt2YXIgdmg9QWgoT2MpO3J1LnF1YXQyPXZoO3ZhciBiaD1BaChRYyk7cnUudmVjMj1iaDt2YXIgX2g9QWgoRnUpO3QuTj1ydS52ZWMzPV9oO3ZhciB3aD1BaChRdSk7ZnVuY3Rpb24gTWgodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgV2Vha01hcCxyPW5ldyBXZWFrTWFwO3JldHVybiAoTWg9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/cjplfSkodCl9ZnVuY3Rpb24gQWgodCxlKXtpZighZSYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O2lmKG51bGw9PT10fHxcIm9iamVjdFwiIT09cGgodCkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIHtkZWZhdWx0OnR9O3ZhciByPU1oKGUpO2lmKHImJnIuaGFzKHQpKXJldHVybiByLmdldCh0KTt2YXIgbj17fSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIGEgaW4gdClpZihcImRlZmF1bHRcIiE9PWEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpKXt2YXIgcz1pP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxhKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGEscyk6blthXT10W2FdO31yZXR1cm4gbi5kZWZhdWx0PXQsciYmci5zZXQodCxuKSxufXQuYTc9cnUudmVjND13aDtjbGFzcyBTaHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucG9zPXQsdGhpcy5kaXI9ZTt9aW50ZXJzZWN0c1BsYW5lKGUscixuKXtjb25zdCBpPXQuTi5kb3Qocix0aGlzLmRpcik7aWYoTWF0aC5hYnMoaSk8MWUtNilyZXR1cm4gITE7Y29uc3QgYT0oKGVbMF0tdGhpcy5wb3NbMF0pKnJbMF0rKGVbMV0tdGhpcy5wb3NbMV0pKnJbMV0rKGVbMl0tdGhpcy5wb3NbMl0pKnJbMl0pL2k7cmV0dXJuIG5bMF09dGhpcy5wb3NbMF0rdGhpcy5kaXJbMF0qYSxuWzFdPXRoaXMucG9zWzFdK3RoaXMuZGlyWzFdKmEsblsyXT10aGlzLnBvc1syXSt0aGlzLmRpclsyXSphLCEwfWNsb3Nlc3RQb2ludE9uU3BoZXJlKGUscixuKXtpZih0Lk4uZXF1YWxzKHRoaXMucG9zLGUpfHwwPT09cilyZXR1cm4gblswXT1uWzFdPW5bMl09MCwhMTtjb25zdFtpLGEsc109dGhpcy5kaXIsbz10aGlzLnBvc1swXS1lWzBdLGw9dGhpcy5wb3NbMV0tZVsxXSx1PXRoaXMucG9zWzJdLWVbMl0sYz1pKmkrYSphK3MqcyxoPTIqKG8qaStsKmErdSpzKSxwPWgqaC00KmMqKG8qbytsKmwrdSp1LXIqcik7aWYocDwwKXtjb25zdCB0PU1hdGgubWF4KC1oLzIsMCksZT1vK2kqdCxjPWwrYSp0LHA9dStzKnQsZj1NYXRoLmh5cG90KGUsYyxwKTtyZXR1cm4gblswXT1lKnIvZixuWzFdPWMqci9mLG5bMl09cCpyL2YsITF9e2NvbnN0IHQ9KC1oLU1hdGguc3FydChwKSkvKDIqYyk7aWYodDwwKXtjb25zdCB0PU1hdGguaHlwb3QobyxsLHUpO3JldHVybiBuWzBdPW8qci90LG5bMV09bCpyL3QsblsyXT11KnIvdCwhMX1yZXR1cm4gblswXT1vK2kqdCxuWzFdPWwrYSp0LG5bMl09dStzKnQsITB9fX1jbGFzcyBJaHtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMuVEw9dCx0aGlzLlRSPWUsdGhpcy5CUj1yLHRoaXMuQkw9bix0aGlzLmhvcml6b249aTt9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KGUscixuKXtjb25zdCBpPVstMSwxLDFdLGE9WzEsMSwxXSxzPVsxLC0xLDFdLG89Wy0xLC0xLDFdLGw9dC5OLnRyYW5zZm9ybU1hdDQoaSxpLGUpLHU9dC5OLnRyYW5zZm9ybU1hdDQoYSxhLGUpLGM9dC5OLnRyYW5zZm9ybU1hdDQocyxzLGUpLGg9dC5OLnRyYW5zZm9ybU1hdDQobyxvLGUpO3JldHVybiBuZXcgSWgobCx1LGMsaCxyL24pfX1mdW5jdGlvbiBraChlLHIsbil7bGV0IGk9MS8wLGE9LTEvMDtjb25zdCBzPVtdO2Zvcihjb25zdCBvIG9mIGUpe3QuTi5zdWIocyxvLHIpO2NvbnN0IGU9dC5OLmRvdChzLG4pO2k9TWF0aC5taW4oaSxlKSxhPU1hdGgubWF4KGEsZSk7fXJldHVybiBbaSxhXX1mdW5jdGlvbiBQaChlLHIpe2xldCBuPSEwO2ZvcihsZXQgaT0wO2k8ZS5wbGFuZXMubGVuZ3RoO2krKyl7Y29uc3QgYT1lLnBsYW5lc1tpXTtsZXQgcz0wO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXMrPXQuTi5kb3QoYSxyW2VdKSthWzNdPj0wO2lmKDA9PT1zKXJldHVybiAwO3MhPT1yLmxlbmd0aCYmKG49ITEpO31yZXR1cm4gbj8yOjF9ZnVuY3Rpb24gRWgodCxlKXtmb3IoY29uc3QgciBvZiB0LnByb2plY3Rpb25zKXtjb25zdCBuPWtoKGUsdC5wb2ludHNbMF0sci5heGlzKTtpZihyLnByb2plY3Rpb25bMV08blswXXx8ci5wcm9qZWN0aW9uWzBdPm5bMV0pcmV0dXJuIDB9cmV0dXJuIDF9ZnVuY3Rpb24gemgoZSxyKXtsZXQgbj0wO2NvbnN0IGk9WzAsMCwwLDBdO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKWlbMF09ZVthXVswXSxpWzFdPWVbYV1bMV0saVsyXT1lW2FdWzJdLGlbM109MSx0LmE3LmRvdChpLHIpPj0wJiZuKys7cmV0dXJuIG59Y2xhc3MgVGh7Y29uc3RydWN0b3IoZSxyKXt0aGlzLnBvaW50cz1lfHxuZXcgQXJyYXkoOCkuZmlsbChbMCwwLDBdKSx0aGlzLnBsYW5lcz1yfHxuZXcgQXJyYXkoNikuZmlsbChbMCwwLDAsMF0pLHRoaXMuYm91bmRzPUJoLmZyb21Qb2ludHModGhpcy5wb2ludHMpLHRoaXMucHJvamVjdGlvbnM9W10sdGhpcy5mcnVzdHVtRWRnZXM9W3QuTi5zdWIoW10sdGhpcy5wb2ludHNbMl0sdGhpcy5wb2ludHNbM10pLHQuTi5zdWIoW10sdGhpcy5wb2ludHNbMF0sdGhpcy5wb2ludHNbM10pLHQuTi5zdWIoW10sdGhpcy5wb2ludHNbNF0sdGhpcy5wb2ludHNbMF0pLHQuTi5zdWIoW10sdGhpcy5wb2ludHNbNV0sdGhpcy5wb2ludHNbMV0pLHQuTi5zdWIoW10sdGhpcy5wb2ludHNbNl0sdGhpcy5wb2ludHNbMl0pLHQuTi5zdWIoW10sdGhpcy5wb2ludHNbN10sdGhpcy5wb2ludHNbM10pXTtmb3IoY29uc3QgdCBvZiB0aGlzLmZydXN0dW1FZGdlcyl7Y29uc3QgZT1bMCwtdFsyXSx0WzFdXSxyPVt0WzJdLDAsLXRbMF1dO3RoaXMucHJvamVjdGlvbnMucHVzaCh7YXhpczplLHByb2plY3Rpb246a2godGhpcy5wb2ludHMsdGhpcy5wb2ludHNbMF0sZSl9KSx0aGlzLnByb2plY3Rpb25zLnB1c2goe2F4aXM6cixwcm9qZWN0aW9uOmtoKHRoaXMucG9pbnRzLHRoaXMucG9pbnRzWzBdLHIpfSk7fX1zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSxyLG4saSl7Y29uc3QgYT1NYXRoLnBvdygyLG4pLHM9W1stMSwxLC0xLDFdLFsxLDEsLTEsMV0sWzEsLTEsLTEsMV0sWy0xLC0xLC0xLDFdLFstMSwxLDEsMV0sWzEsMSwxLDFdLFsxLC0xLDEsMV0sWy0xLC0xLDEsMV1dLm1hcCgobj0+e2NvbnN0IHM9dC5hNy50cmFuc2Zvcm1NYXQ0KFtdLG4sZSksbz0xL3NbM10vciphO3JldHVybiB0LmE3Lm11bChzLHMsW28sbyxpPzEvc1szXTpvLG9dKX0pKSxvPVtbMCwxLDJdLFs2LDUsNF0sWzAsMyw3XSxbMiwxLDVdLFszLDIsNl0sWzAsNCw1XV0ubWFwKChlPT57Y29uc3Qgcj10Lk4uc3ViKFtdLHNbZVswXV0sc1tlWzFdXSksbj10Lk4uc3ViKFtdLHNbZVsyXV0sc1tlWzFdXSksaT10Lk4ubm9ybWFsaXplKFtdLHQuTi5jcm9zcyhbXSxyLG4pKSxhPS10Lk4uZG90KGksc1tlWzFdXSk7cmV0dXJuIGkuY29uY2F0KGEpfSkpLGw9W107Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0KyspbC5wdXNoKFtzW3RdWzBdLHNbdF1bMV0sc1t0XVsyXV0pO3JldHVybiBuZXcgVGgobCxvKX1pbnRlcnNlY3RzUHJlY2lzZShlLHIsbil7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspaWYoIXpoKGUsclt0XSkpcmV0dXJuIDA7Zm9yKGxldCB0PTA7dDx0aGlzLnBsYW5lcy5sZW5ndGg7dCsrKWlmKCF6aChlLHRoaXMucGxhbmVzW3RdKSlyZXR1cm4gMDtmb3IoY29uc3QgciBvZiBuKWZvcihjb25zdCBuIG9mIHRoaXMuZnJ1c3R1bUVkZ2VzKXtjb25zdCBpPXQuTi5jcm9zcyhbXSxyLG4pLGE9dC5OLmxlbmd0aChpKTtpZigwPT09YSljb250aW51ZTt0Lk4uc2NhbGUoaSxpLDEvYSk7Y29uc3Qgcz1raCh0aGlzLnBvaW50cyx0aGlzLnBvaW50c1swXSxpKSxvPWtoKGUsdGhpcy5wb2ludHNbMF0saSk7aWYoc1swXT5vWzFdfHxvWzBdPnNbMV0pcmV0dXJuIDB9cmV0dXJuIDF9fWNsYXNzIEJoe3N0YXRpYyBmcm9tUG9pbnRzKGUpe2NvbnN0IHI9WzEvMCwxLzAsMS8wXSxuPVstMS8wLC0xLzAsLTEvMF07Zm9yKGNvbnN0IGkgb2YgZSl0Lk4ubWluKHIscixpKSx0Lk4ubWF4KG4sbixpKTtyZXR1cm4gbmV3IEJoKHIsbil9c3RhdGljIGZyb21UaWxlSWRBbmRIZWlnaHQodCxlLHIpe2NvbnN0IG49MTw8dC5jYW5vbmljYWwueixpPXQuY2Fub25pY2FsLngsYT10LmNhbm9uaWNhbC55O3JldHVybiBuZXcgQmgoW2kvbixhL24sZV0sWyhpKzEpL24sKGErMSkvbixyXSl9c3RhdGljIGFwcGx5VHJhbnNmb3JtKGUscil7Y29uc3Qgbj1lLmdldENvcm5lcnMoKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoOysrZSl0Lk4udHJhbnNmb3JtTWF0NChuW2VdLG5bZV0scik7cmV0dXJuIEJoLmZyb21Qb2ludHMobil9c3RhdGljIHByb2plY3RBYWJiQ29ybmVycyhlLHIpe2NvbnN0IG49ZS5nZXRDb3JuZXJzKCk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDsrK2UpdC5OLnRyYW5zZm9ybU1hdDQobltlXSxuW2VdLHIpO3JldHVybiBufWNvbnN0cnVjdG9yKGUscil7dGhpcy5taW49ZSx0aGlzLm1heD1yLHRoaXMuY2VudGVyPXQuTi5zY2FsZShbXSx0Lk4uYWRkKFtdLHRoaXMubWluLHRoaXMubWF4KSwuNSk7fXF1YWRyYW50KGUpe2NvbnN0IHI9W2UlMj09MCxlPDJdLG49dC5OLmNsb25lKHRoaXMubWluKSxpPXQuTi5jbG9uZSh0aGlzLm1heCk7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspblt0XT1yW3RdP3RoaXMubWluW3RdOnRoaXMuY2VudGVyW3RdLGlbdF09clt0XT90aGlzLmNlbnRlclt0XTp0aGlzLm1heFt0XTtyZXR1cm4gaVsyXT10aGlzLm1heFsyXSxuZXcgQmgobixpKX1kaXN0YW5jZVgodCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLHRbMF0pLHRoaXMubWluWzBdKS10WzBdfWRpc3RhbmNlWSh0KXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMV0sdFsxXSksdGhpcy5taW5bMV0pLXRbMV19ZGlzdGFuY2VaKHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSx0WzJdKSx0aGlzLm1pblsyXSktdFsyXX1nZXRDb3JuZXJzKCl7Y29uc3QgdD10aGlzLm1pbixlPXRoaXMubWF4O3JldHVybiBbW3RbMF0sdFsxXSx0WzJdXSxbZVswXSx0WzFdLHRbMl1dLFtlWzBdLGVbMV0sdFsyXV0sW3RbMF0sZVsxXSx0WzJdXSxbdFswXSx0WzFdLGVbMl1dLFtlWzBdLHRbMV0sZVsyXV0sW2VbMF0sZVsxXSxlWzJdXSxbdFswXSxlWzFdLGVbMl1dXX1pbnRlcnNlY3RzKHQpe3JldHVybiB0aGlzLmludGVyc2VjdHNBYWJiKHQuYm91bmRzKT9QaCh0LHRoaXMuZ2V0Q29ybmVycygpKTowfWludGVyc2VjdHNGbGF0KHQpe3JldHVybiB0aGlzLmludGVyc2VjdHNBYWJiKHQuYm91bmRzKT9QaCh0LFtbdGhpcy5taW5bMF0sdGhpcy5taW5bMV0sMF0sW3RoaXMubWF4WzBdLHRoaXMubWluWzFdLDBdLFt0aGlzLm1heFswXSx0aGlzLm1heFsxXSwwXSxbdGhpcy5taW5bMF0sdGhpcy5tYXhbMV0sMF1dKTowfWludGVyc2VjdHNQcmVjaXNlKHQsZSl7cmV0dXJuIGV8fHRoaXMuaW50ZXJzZWN0cyh0KT9FaCh0LHRoaXMuZ2V0Q29ybmVycygpKTowfWludGVyc2VjdHNQcmVjaXNlRmxhdCh0LGUpe3JldHVybiBlfHx0aGlzLmludGVyc2VjdHNGbGF0KHQpP0VoKHQsW1t0aGlzLm1pblswXSx0aGlzLm1pblsxXSwwXSxbdGhpcy5tYXhbMF0sdGhpcy5taW5bMV0sMF0sW3RoaXMubWF4WzBdLHRoaXMubWF4WzFdLDBdLFt0aGlzLm1pblswXSx0aGlzLm1heFsxXSwwXV0pOjB9aW50ZXJzZWN0c0FhYmIodCl7Zm9yKGxldCBlPTA7ZTwzOysrZSlpZih0aGlzLm1pbltlXT50Lm1heFtlXXx8dC5taW5bZV0+dGhpcy5tYXhbZV0pcmV0dXJuICExO3JldHVybiAhMH1pbnRlcnNlY3RzQWFiYlhZKHQpe3JldHVybiAhKHRoaXMubWluWzBdPnQubWF4WzBdfHx0Lm1pblswXT50aGlzLm1heFswXXx8dGhpcy5taW5bMV0+dC5tYXhbMV18fHQubWluWzFdPnRoaXMubWF4WzFdKX1lbmNhcHN1bGF0ZSh0KXtmb3IobGV0IGU9MDtlPDM7ZSsrKXRoaXMubWluW2VdPU1hdGgubWluKHRoaXMubWluW2VdLHQubWluW2VdKSx0aGlzLm1heFtlXT1NYXRoLm1heCh0aGlzLm1heFtlXSx0Lm1heFtlXSk7fWVuY2Fwc3VsYXRlUG9pbnQodCl7Zm9yKGxldCBlPTA7ZTwzO2UrKyl0aGlzLm1pbltlXT1NYXRoLm1pbih0aGlzLm1pbltlXSx0W2VdKSx0aGlzLm1heFtlXT1NYXRoLm1heCh0aGlzLm1heFtlXSx0W2VdKTt9Y2xvc2VzdFBvaW50KHQpe3JldHVybiBbTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMF0sdFswXSksdGhpcy5taW5bMF0pLE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLHRbMV0pLHRoaXMubWluWzFdKSxNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSx0WzJdKSx0aGlzLm1pblsyXSldfX1yYShCaCxcIkFhYmJcIik7Y29uc3QgQ2g9Y3MoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX2dsb2JlX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSkse21lbWJlcnM6Umh9PUNoLERoPWNzKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7dmFyIFZoPWNzKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2Z1bmN0aW9uIExoKHQpe3JldHVybiB0KmpvL0pvfWNvbnN0IEZoPVtuZXcgQmgoW1pvLFpvLFpvXSxbS28sS28sS29dKSxuZXcgQmgoW1pvLFpvLFpvXSxbMCwwLEtvXSksbmV3IEJoKFswLFpvLFpvXSxbS28sMCxLb10pLG5ldyBCaChbWm8sMCxab10sWzAsS28sS29dKSxuZXcgQmgoWzAsMCxab10sW0tvLEtvLEtvXSldO2Z1bmN0aW9uIE5oKGUscixuLGk9ITApe2NvbnN0IGE9dC5OLnNjYWxlKFtdLGUuX2NhbWVyYS5wb3NpdGlvbixlLndvcmxkU2l6ZSkscz1bcixuLDEsMV07dC5hNy50cmFuc2Zvcm1NYXQ0KHMscyxlLnBpeGVsTWF0cml4SW52ZXJzZSksdC5hNy5zY2FsZShzLHMsMS9zWzNdKTtjb25zdCBvPXQuTi5zdWIoW10scyxhKSxsPXQuTi5ub3JtYWxpemUoW10sbyksdT1lLmdsb2JlTWF0cml4LGM9W3VbMTJdLHVbMTNdLHVbMTRdXSxoPXQuTi5zdWIoW10sYyxhKSxwPXQuTi5sZW5ndGgoaCksZj10Lk4ubm9ybWFsaXplKFtdLGgpLGQ9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbT10Lk4uZG90KGYsbCkseT1NYXRoLmFzaW4oZC9wKTtpZih5PE1hdGguYWNvcyhtKSl7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3QgZT1bXSxyPVtdO3QuTi5zY2FsZShlLGwscC9tKSx0Lk4ubm9ybWFsaXplKHIsdC5OLnN1YihyLGUsaCkpLHQuTi5ub3JtYWxpemUobCx0Lk4uYWRkKGwsaCx0Lk4uc2NhbGUobCxyLE1hdGgudGFuKHkpKnApKSk7fWNvbnN0IGc9W107bmV3IFNoKGEsbCkuY2xvc2VzdFBvaW50T25TcGhlcmUoYyxkLGcpO2NvbnN0IHg9dC5OLm5vcm1hbGl6ZShbXSxydCh1LDApKSx2PXQuTi5ub3JtYWxpemUoW10scnQodSwxKSksYj10Lk4ubm9ybWFsaXplKFtdLHJ0KHUsMikpLHc9dC5OLmRvdCh4LGcpLE09dC5OLmRvdCh2LGcpLEE9dC5OLmRvdChiLGcpLFM9XyhNYXRoLmFzaW4oLU0vZCkpO2xldCBrPV8oTWF0aC5hdGFuMih3LEEpKTtrPWUuY2VudGVyLmxuZytmdW5jdGlvbih0LGUpe2NvbnN0IHI9KGUtdCsxODApJTM2MC0xODA7cmV0dXJuIHI8LTE4MD9yKzM2MDpyfShlLmNlbnRlci5sbmcsayk7Y29uc3QgUD1wbChrKSxFPUkoZmwoUyksMCwxKTtyZXR1cm4gbmV3IE1sKFAsRSl9Y2xhc3MgT2h7Y29uc3RydWN0b3IoZSxyLG4pe3RoaXMuYT10Lk4uc3ViKFtdLGUsbiksdGhpcy5iPXQuTi5zdWIoW10scixuKSx0aGlzLmNlbnRlcj1uO2NvbnN0IGk9dC5OLm5vcm1hbGl6ZShbXSx0aGlzLmEpLGE9dC5OLm5vcm1hbGl6ZShbXSx0aGlzLmIpO3RoaXMuYW5nbGU9TWF0aC5hY29zKHQuTi5kb3QoaSxhKSk7fX1mdW5jdGlvbiBVaCh0LGUpe2lmKDA9PT10LmFuZ2xlKXJldHVybiBudWxsO2xldCByO3JldHVybiByPTA9PT10LmFbZV0/MS90LmFuZ2xlKi41Kk1hdGguUEk6MS90LmFuZ2xlKk1hdGguYXRhbih0LmJbZV0vdC5hW2VdL01hdGguc2luKHQuYW5nbGUpLTEvTWF0aC50YW4odC5hbmdsZSkpLHI8MHx8cj4xP251bGw6ZnVuY3Rpb24odCxlLHIsbil7Y29uc3QgaT1NYXRoLnNpbihyKTtyZXR1cm4gdCooTWF0aC5zaW4oKDEtbikqcikvaSkrZSooTWF0aC5zaW4obipyKS9pKX0odC5hW2VdLHQuYltlXSx0LmFuZ2xlLEkociwwLDEpKSt0LmNlbnRlcltlXX1mdW5jdGlvbiBqaCh0KXtpZih0Lno8PTEpcmV0dXJuIEZoW3QueisyKnQueSt0LnhdO2NvbnN0IGU9WGgoWWgodCkpO3JldHVybiBCaC5mcm9tUG9pbnRzKGUpfWZ1bmN0aW9uIHFoKGUscixuKXtyZXR1cm4gdC5OLnNjYWxlKGUsZSwxLW4pLHQuTi5zY2FsZUFuZEFkZChlLGUscixuKX1mdW5jdGlvbiAkaChlLHIsbil7Zm9yKGNvbnN0IGkgb2YgZSl0Lk4udHJhbnNmb3JtTWF0NChpLGksciksdC5OLnNjYWxlKGksaSxuKTt9ZnVuY3Rpb24gR2goZSxyLG4saSl7Y29uc3QgYT1yL2Uud29ybGRTaXplLHM9ZS5nbG9iZU1hdHJpeDtpZihuLno8PTEpe2NvbnN0IHQ9amgobikuZ2V0Q29ybmVycygpO3JldHVybiAkaCh0LHMsYSksQmguZnJvbVBvaW50cyh0KX1jb25zdCBvPVloKG4saSksbD1YaChvLGpvK0xoKGUuX3RpbGVDb3ZlckxpZnQpKTskaChsLHMsYSk7Y29uc3QgdT1OdW1iZXIuTUFYX1ZBTFVFLGM9Wy11LC11LC11XSxoPVt1LHUsdV07aWYoby5jb250YWlucyhlLmNlbnRlcikpe2Zvcihjb25zdCBlIG9mIGwpdC5OLm1pbihoLGgsZSksdC5OLm1heChjLGMsZSk7Y1syXT0wO2NvbnN0IHI9ZS5wb2ludCxuPVtyLngqYSxyLnkqYSwwXTtyZXR1cm4gdC5OLm1pbihoLGgsbiksdC5OLm1heChjLGMsbiksbmV3IEJoKGgsYyl9aWYoZS5fdGlsZUNvdmVyTGlmdD4wKXtmb3IoY29uc3QgZSBvZiBsKXQuTi5taW4oaCxoLGUpLHQuTi5tYXgoYyxjLGUpO3JldHVybiBuZXcgQmgoaCxjKX1jb25zdCBwPVtzWzEyXSphLHNbMTNdKmEsc1sxNF0qYV0sZj1vLmdldENlbnRlcigpLGQ9SShlLmNlbnRlci5sYXQsLXhsLHhsKSxtPUkoZi5sYXQsLXhsLHhsKSx5PXBsKGUuY2VudGVyLmxuZyksZz1mbChkKTtsZXQgeD15LXBsKGYubG5nKTtjb25zdCB2PWctZmwobSk7eD4uNT94LT0xOng8LS41JiYoeCs9MSk7bGV0IF89MDtpZihNYXRoLmFicyh4KT5NYXRoLmFicyh2KSlfPXg+PTA/MTozO2Vsc2Uge189dj49MD8wOjI7Y29uc3QgZT1bc1s0XSphLHNbNV0qYSxzWzZdKmFdLHI9LU1hdGguc2luKGIodj49MD9vLmdldFNvdXRoKCk6by5nZXROb3J0aCgpKSkqam87dC5OLnNjYWxlQW5kQWRkKHAscCxlLHIpO31jb25zdCB3PWxbX10sTT1sWyhfKzEpJTRdLEE9bmV3IE9oKHcsTSxwKSxTPVtVaChBLDApfHx3WzBdLFVoKEEsMSl8fHdbMV0sVWgoQSwyKXx8d1syXV0saz1ycChlLnpvb20pO2lmKGs+MCl7Y29uc3QgaT1mdW5jdGlvbih7eDp0LHk6ZSx6OnJ9LG4saSxhLHMpe2NvbnN0IG89MS8oMTw8cik7bGV0IGw9dCpvLHU9bCtvLGM9ZSpvLGg9YytvLHA9MDtjb25zdCBmPShsK3UpLzItYTtyZXR1cm4gZj4uNT9wPS0xOmY8LS41JiYocD0xKSxsPSgobCtwKSpuLShhKj1uKSkqaSthLHU9KCh1K3ApKm4tYSkqaSthLGM9KGMqbi0ocyo9bikpKmkrcyxoPShoKm4tcykqaStzLFtbbCxoLDBdLFt1LGgsMF0sW3UsYywwXSxbbCxjLDBdXX0obixyLGUuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwseSxnKTtmb3IobGV0IHQ9MDt0PGwubGVuZ3RoO3QrKylxaChsW3RdLGlbdF0sayk7Y29uc3QgYT10Lk4uYWRkKFtdLGlbX10saVsoXysxKSU0XSk7dC5OLnNjYWxlKGEsYSwuNSkscWgoUyxhLGspO31mb3IoY29uc3QgZSBvZiBsKXQuTi5taW4oaCxoLGUpLHQuTi5tYXgoYyxjLGUpO3JldHVybiBoWzJdPU1hdGgubWluKHdbMl0sTVsyXSksdC5OLm1pbihoLGgsUyksdC5OLm1heChjLGMsUyksbmV3IEJoKGgsYyl9ZnVuY3Rpb24gWWgoe3g6dCx5OmUsejpyfSxuPSExKXtjb25zdCBpPTEvKDE8PHIpLGE9bmV3IHRsKG1sKHQqaSksZT09PSgxPDxyKS0xJiZuPy05MDp5bCgoZSsxKSppKSkscz1uZXcgdGwobWwoKHQrMSkqaSksMD09PWUmJm4/OTA6eWwoZSppKSk7cmV0dXJuIG5ldyBlbChhLHMpfWZ1bmN0aW9uIFhoKHQsZT1qbyl7Y29uc3Qgcj1iKHQuZ2V0Tm9ydGgoKSksbj1iKHQuZ2V0U291dGgoKSksaT1NYXRoLmNvcyhyKSxhPU1hdGguY29zKG4pLHM9TWF0aC5zaW4ociksbz1NYXRoLnNpbihuKSxsPXQuZ2V0V2VzdCgpLHU9dC5nZXRFYXN0KCk7cmV0dXJuIFtIbyhhLG8sbCxlKSxIbyhhLG8sdSxlKSxIbyhpLHMsdSxlKSxIbyhpLHMsbCxlKV19ZnVuY3Rpb24gWmgodCxlLHIsbil7Y29uc3QgaT0xPDxyLnosYT0odC9UcityLngpL2k7cmV0dXJuIFdvKHlsKChlL1RyK3IueSkvaSksbWwoYSksbil9ZnVuY3Rpb24gS2goe21pbjp0LG1heDplfSl7cmV0dXJuIEdvL01hdGgubWF4KGVbMF0tdFswXSxlWzFdLXRbMV0sZVsyXS10WzJdKX1jb25zdCBIaD1uZXcgRmxvYXQ2NEFycmF5KDE2KTtmdW5jdGlvbiBXaChlKXtjb25zdCByPUtoKGUpLG49dC5hNi5mcm9tU2NhbGluZyhIaCxbcixyLHJdKTtyZXR1cm4gdC5hNi50cmFuc2xhdGUobixuLHQuTi5uZWdhdGUoW10sZS5taW4pKX1mdW5jdGlvbiBKaChlKXtjb25zdCByPXQuYTYuZnJvbVRyYW5zbGF0aW9uKEhoLGUubWluKSxuPTEvS2goZSk7cmV0dXJuIHQuYTYuc2NhbGUocixyLFtuLG4sbl0pfWZ1bmN0aW9uIFFoKHQpe2NvbnN0IGU9VHIvKDIqTWF0aC5QSSk7cmV0dXJuIHQvKDIqTWF0aC5QSSkvZX1mdW5jdGlvbiB0cCh0LGUpe3JldHVybiBUci8oNTEyKk1hdGgucG93KDIsdCkpKktoKGpoKGUpKX1mdW5jdGlvbiBlcChlLHIsbixpLGEpe2NvbnN0IHM9UWgobiksbz1bZSxyLC1uLygyKk1hdGguUEkpXSxsPXQuYTYuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB0LmE2LnRyYW5zbGF0ZShsLGwsbyksdC5hNi5zY2FsZShsLGwsW3MscyxzXSksdC5hNi5yb3RhdGVYKGwsbCxiKC1hKSksdC5hNi5yb3RhdGVZKGwsbCxiKC1pKSksbH1mdW5jdGlvbiBycCh0KXtyZXR1cm4gayhxbywkbyx0KX1mdW5jdGlvbiBucChlLHIpe2NvbnN0IG49V28oci5sYXQsci5sbmcpLGk9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1XbyhlLl9jZW50ZXIubGF0LGUuX2NlbnRlci5sbmcpLG49dC5OLmZyb21WYWx1ZXMoMCwxLDApO2xldCBpPXQuTi5jcm9zcyhbXSxuLHIpO2NvbnN0IGE9dC5hNi5mcm9tUm90YXRpb24oW10sLWUuYW5nbGUscik7aT10Lk4udHJhbnNmb3JtTWF0NChpLGksYSksdC5hNi5mcm9tUm90YXRpb24oYSwtZS5fcGl0Y2gsaSk7Y29uc3Qgcz10Lk4ubm9ybWFsaXplKFtdLHIpO3JldHVybiB0Lk4uc2NhbGUocyxzLExoKGUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS9lLnBpeGVsc1Blck1ldGVyKSksdC5OLnRyYW5zZm9ybU1hdDQocyxzLGEpLHQuTi5hZGQoW10scixzKX0oZSksYT10Lk4uc3VidHJhY3QoW10saSxuKTtyZXR1cm4gdC5OLmFuZ2xlKGEsbil9ZnVuY3Rpb24gaXAodCxlKXtyZXR1cm4gbnAodCxlKT5NYXRoLlBJLzIqMS4wMX1jb25zdCBhcD1iKDg1KSxzcD1NYXRoLmNvcyhhcCksb3A9TWF0aC5zaW4oYXApLGxwPXQuYTYuY3JlYXRlKCksdXA9dD0+e2NvbnN0IGU9W107cmV0dXJuIFwibWFwXCI9PT10LnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikmJmUucHVzaChcIlBJVENIX1dJVEhfTUFQXCIpLFwibWFwXCI9PT10LnBhaW50LmdldChcImNpcmNsZS1waXRjaC1zY2FsZVwiKSYmZS5wdXNoKFwiU0NBTEVfV0lUSF9NQVBcIiksZX07ZnVuY3Rpb24gY3AoZSxyLG4saSxhLHMsbyxsLHUpe2lmKHMmJmUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4gITE7cyYmKHUqPWUucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvcik7Y29uc3QgYz1lLnRpbGVJRC5jYW5vbmljYWwsaD1uLnByb2plY3Rpb24udXBWZWN0b3JTY2FsZShjLG4uY2VudGVyLmxhdCxuLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2Zvcihjb25zdCBwIG9mIHIpZm9yKGNvbnN0IHIgb2YgcCl7Y29uc3QgcD1yLmFkZChsKSxmPWEmJm4uZWxldmF0aW9uP24uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKmEuZ2V0RWxldmF0aW9uQXQocC54LHAueSwhMCk6MCxkPW4ucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHAueCxwLnksYyk7aWYoZj4wKXtjb25zdCB0PW4ucHJvamVjdGlvbi51cFZlY3RvcihjLHAueCxwLnkpO2QueCs9dFswXSpoKmYsZC55Kz10WzFdKmgqZixkLnorPXRbMl0qaCpmO31jb25zdCBtPXM/cDpocChkLngsZC55LGQueixpKSx5PXM/ZS50aWxlc3BhY2VSYXlzLm1hcCgodD0+ZHAodCxmKSkpOmUucXVlcnlHZW9tZXRyeS5zY3JlZW5HZW9tZXRyeSxnPXQuYTcudHJhbnNmb3JtTWF0NChbXSxbZC54LGQueSxkLnosMV0saSk7aWYoIW8mJnM/dSo9Z1szXS9uLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6byYmIXMmJih1Kj1uLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZ1szXSkscyl7Y29uc3QgdD15bCgoci55L1RyK2MueSkvKDE8PGMueikpO3UvPW4ucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0LDEpL2RsKDEsdCk7fWlmKExsKHksbSx1KSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGhwKGUscixuLGkpe2NvbnN0IGE9dC5hNy50cmFuc2Zvcm1NYXQ0KFtdLFtlLHIsbiwxXSxpKTtyZXR1cm4gbmV3IGcoYVswXS9hWzNdLGFbMV0vYVszXSl9Y29uc3QgcHA9dC5OLmZyb21WYWx1ZXMoMCwwLDApLGZwPXQuTi5mcm9tVmFsdWVzKDAsMCwxKTtmdW5jdGlvbiBkcChlLHIpe2NvbnN0IG49dC5OLmNyZWF0ZSgpO3JldHVybiBwcFsyXT1yLGUuaW50ZXJzZWN0c1BsYW5lKHBwLGZwLG4pLG5ldyBnKG5bMF0sblsxXSl9Y2xhc3MgbXAgZXh0ZW5kcyBEbHt9ZnVuY3Rpb24geXAodCx7d2lkdGg6ZSxoZWlnaHQ6cn0sbixpKXtpZihpKXtpZihpIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpaT1uZXcgVWludDhBcnJheShpLmJ1ZmZlcik7ZWxzZSBpZihpLmxlbmd0aCE9PWUqcipuKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWlzbWF0Y2hlZCBpbWFnZSBzaXplXCIpfWVsc2UgaT1uZXcgVWludDhBcnJheShlKnIqbik7cmV0dXJuIHQud2lkdGg9ZSx0LmhlaWdodD1yLHQuZGF0YT1pLHR9ZnVuY3Rpb24gZ3AodCxlLHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PWU7bj09PXQud2lkdGgmJmk9PT10LmhlaWdodHx8KHhwKHQsZSx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbih0LndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbih0LmhlaWdodCxpKX0sciksdC53aWR0aD1uLHQuaGVpZ2h0PWksdC5kYXRhPWUuZGF0YSk7fWZ1bmN0aW9uIHhwKHQsZSxyLG4saSxhLHMpe2lmKDA9PT1pLndpZHRofHwwPT09aS5oZWlnaHQpcmV0dXJuIGU7aWYoaS53aWR0aD50LndpZHRofHxpLmhlaWdodD50LmhlaWdodHx8ci54PnQud2lkdGgtaS53aWR0aHx8ci55PnQuaGVpZ2h0LWkuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtpZihpLndpZHRoPmUud2lkdGh8fGkuaGVpZ2h0PmUuaGVpZ2h0fHxuLng+ZS53aWR0aC1pLndpZHRofHxuLnk+ZS5oZWlnaHQtaS5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgZGVzdGluYXRpb24gY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7Y29uc3Qgbz10LmRhdGEsbD1lLmRhdGEsdT00PT09YSYmcztmb3IobGV0IHM9MDtzPGkuaGVpZ2h0O3MrKyl7Y29uc3QgYz0oKHIueStzKSp0LndpZHRoK3IueCkqYSxoPSgobi55K3MpKmUud2lkdGgrbi54KSphO2lmKHUpZm9yKGxldCB0PTA7dDxpLndpZHRoO3QrKyl7Y29uc3QgZT1jK3QqYSszLHI9aCt0KmE7bFtyKzBdPTI1NSxsW3IrMV09MjU1LGxbcisyXT0yNTUsbFtyKzNdPW9bZV07fWVsc2UgZm9yKGxldCB0PTA7dDxpLndpZHRoKmE7dCsrKWxbaCt0XT1vW2MrdF07fXJldHVybiBlfXJhKG1wLFwiSGVhdG1hcEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NsYXNzIHZwe2NvbnN0cnVjdG9yKHQsZSl7eXAodGhpcyx0LDEsZSk7fXJlc2l6ZSh0KXtncCh0aGlzLG5ldyB2cCh0KSwxKTt9Y2xvbmUoKXtyZXR1cm4gbmV3IHZwKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkodCxlLHIsbixpKXt4cCh0LGUscixuLGksMSk7fX1jbGFzcyBicHtjb25zdHJ1Y3Rvcih0LGUpe3lwKHRoaXMsdCw0LGUpO31yZXNpemUodCl7Z3AodGhpcyxuZXcgYnAodCksNCk7fXJlcGxhY2UodCxlKXtlP3RoaXMuZGF0YS5zZXQodCk6dGhpcy5kYXRhPXQgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheT9uZXcgVWludDhBcnJheSh0LmJ1ZmZlcik6dDt9Y2xvbmUoKXtyZXR1cm4gbmV3IGJwKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkodCxlLHIsbixpLGEpe3hwKHQsZSxyLG4saSw0LGEpO319Y2xhc3MgX3B7Y29uc3RydWN0b3IodCxlKXt0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy5kYXRhPWUgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyBGbG9hdDMyQXJyYXkoZS5idWZmZXIpOmU7fX1yYSh2cCxcIkFscGhhSW1hZ2VcIikscmEoYnAsXCJSR0JBSW1hZ2VcIik7Y29uc3Qgd3A9bmV3IE9hKHt2aXNpYmlsaXR5Om5ldyBMYShxYS5sYXlvdXRfaGVhdG1hcC52aXNpYmlsaXR5KX0pO3ZhciBNcD17cGFpbnQ6bmV3IE9hKHtcImhlYXRtYXAtcmFkaXVzXCI6bmV3IEZhKHFhLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXJhZGl1c1wiXSksXCJoZWF0bWFwLXdlaWdodFwiOm5ldyBGYShxYS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgTGEocWEucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtaW50ZW5zaXR5XCJdKSxcImhlYXRtYXAtY29sb3JcIjpuZXcgTmEocWEucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtY29sb3JcIl0pLFwiaGVhdG1hcC1vcGFjaXR5XCI6bmV3IExhKHFhLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSksbGF5b3V0OndwfTtmdW5jdGlvbiBBcCh0KXtjb25zdCBlPXt9LHI9dC5yZXNvbHV0aW9ufHwyNTYsbj10LmNsaXBzP3QuY2xpcHMubGVuZ3RoOjEsaT10LmltYWdlfHxuZXcgYnAoe3dpZHRoOnIsaGVpZ2h0Om59KSxhPShyLG4sYSk9PntlW3QuZXZhbHVhdGlvbktleV09YTtjb25zdCBzPXQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlKTtzJiYoaS5kYXRhW3IrbiswXT1NYXRoLmZsb29yKDI1NSpzLnIvcy5hKSxpLmRhdGFbcituKzFdPU1hdGguZmxvb3IoMjU1KnMuZy9zLmEpLGkuZGF0YVtyK24rMl09TWF0aC5mbG9vcigyNTUqcy5iL3MuYSksaS5kYXRhW3IrbiszXT1NYXRoLmZsb29yKDI1NSpzLmEpKTt9O2lmKHQuY2xpcHMpZm9yKGxldCBlPTAsaT0wO2U8bjsrK2UsaSs9NCpyKWZvcihsZXQgbj0wLHM9MDtuPHI7bisrLHMrPTQpe2NvbnN0IG89bi8oci0xKSx7c3RhcnQ6bCxlbmQ6dX09dC5jbGlwc1tlXTthKGkscyxsKigxLW8pK3Uqbyk7fWVsc2UgZm9yKGxldCB0PTAsZT0wO3Q8cjt0KyssZSs9NClhKDAsZSx0LyhyLTEpKTtyZXR1cm4gaX1jb25zdCBTcD1uZXcgT2Eoe3Zpc2liaWxpdHk6bmV3IExhKHFhLmxheW91dF9oaWxsc2hhZGUudmlzaWJpbGl0eSl9KTt2YXIgSXA9e3BhaW50Om5ldyBPYSh7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOm5ldyBMYShxYS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiXSksXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6bmV3IExhKHFhLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIl0pLFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOm5ldyBMYShxYS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgTGEocWEucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiXSksXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6bmV3IExhKHFhLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IExhKHFhLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6U3B9O2NvbnN0IGtwPWNzKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCkse21lbWJlcnM6UHB9PWtwO3ZhciBFcD17ZXhwb3J0czp7fX07ZnVuY3Rpb24genAodCxlLHIpe3I9cnx8Mjt2YXIgbixpLGEscyxvLGwsdSxjPWUmJmUubGVuZ3RoLGg9Yz9lWzBdKnI6dC5sZW5ndGgscD1UcCh0LDAsaCxyLCEwKSxmPVtdO2lmKCFwfHxwLm5leHQ9PT1wLnByZXYpcmV0dXJuIGY7aWYoYyYmKHA9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGksYSxzLG89W107Zm9yKGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspKHM9VHAodCxlW2ldKm4saTxhLTE/ZVtpKzFdKm46dC5sZW5ndGgsbiwhMSkpPT09cy5uZXh0JiYocy5zdGVpbmVyPSEwKSxvLnB1c2goanAocykpO2ZvcihvLnNvcnQoRnApLGk9MDtpPG8ubGVuZ3RoO2krKylyPU5wKG9baV0scik7cmV0dXJuIHJ9KHQsZSxwLHIpKSx0Lmxlbmd0aD44MCpyKXtuPWE9dFswXSxpPXM9dFsxXTtmb3IodmFyIGQ9cjtkPGg7ZCs9cikobz10W2RdKTxuJiYobj1vKSwobD10W2QrMV0pPGkmJihpPWwpLG8+YSYmKGE9byksbD5zJiYocz1sKTt1PTAhPT0odT1NYXRoLm1heChhLW4scy1pKSk/MzI3NjcvdTowO31yZXR1cm4gQ3AocCxmLHIsbixpLHUsMCksZn1mdW5jdGlvbiBUcCh0LGUscixuLGkpe3ZhciBhLHM7aWYoaT09PWVmKHQsZSxyLG4pPjApZm9yKGE9ZTthPHI7YSs9bilzPUpwKGEsdFthXSx0W2ErMV0scyk7ZWxzZSBmb3IoYT1yLW47YT49ZTthLT1uKXM9SnAoYSx0W2FdLHRbYSsxXSxzKTtyZXR1cm4gcyYmWXAocyxzLm5leHQpJiYoUXAocykscz1zLm5leHQpLHN9ZnVuY3Rpb24gQnAodCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgcixuPXQ7ZG97aWYocj0hMSxuLnN0ZWluZXJ8fCFZcChuLG4ubmV4dCkmJjAhPT1HcChuLnByZXYsbixuLm5leHQpKW49bi5uZXh0O2Vsc2Uge2lmKFFwKG4pLChuPWU9bi5wcmV2KT09PW4ubmV4dClicmVhaztyPSEwO319d2hpbGUocnx8biE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIENwKHQsZSxyLG4saSxhLHMpe2lmKHQpeyFzJiZhJiZmdW5jdGlvbih0LGUscixuKXt2YXIgaT10O2RvezA9PT1pLnomJihpLno9VXAoaS54LGkueSxlLHIsbikpLGkucHJldlo9aS5wcmV2LGkubmV4dFo9aS5uZXh0LGk9aS5uZXh0O313aGlsZShpIT09dCk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCxmdW5jdGlvbih0KXt2YXIgZSxyLG4saSxhLHMsbyxsLHU9MTtkb3tmb3Iocj10LHQ9bnVsbCxhPW51bGwscz0wO3I7KXtmb3IocysrLG49cixvPTAsZT0wO2U8dSYmKG8rKyxuPW4ubmV4dFopO2UrKyk7Zm9yKGw9dTtvPjB8fGw+MCYmbjspMCE9PW8mJigwPT09bHx8IW58fHIuejw9bi56KT8oaT1yLHI9ci5uZXh0WixvLS0pOihpPW4sbj1uLm5leHRaLGwtLSksYT9hLm5leHRaPWk6dD1pLGkucHJldlo9YSxhPWk7cj1uO31hLm5leHRaPW51bGwsdSo9Mjt9d2hpbGUocz4xKX0oaSk7fSh0LG4saSxhKTtmb3IodmFyIG8sbCx1PXQ7dC5wcmV2IT09dC5uZXh0OylpZihvPXQucHJldixsPXQubmV4dCxhP0RwKHQsbixpLGEpOlJwKHQpKWUucHVzaChvLmkvcnwwKSxlLnB1c2godC5pL3J8MCksZS5wdXNoKGwuaS9yfDApLFFwKHQpLHQ9bC5uZXh0LHU9bC5uZXh0O2Vsc2UgaWYoKHQ9bCk9PT11KXtzPzE9PT1zP0NwKHQ9VnAoQnAodCksZSxyKSxlLHIsbixpLGEsMik6Mj09PXMmJkxwKHQsZSxyLG4saSxhKTpDcChCcCh0KSxlLHIsbixpLGEsMSk7YnJlYWt9fX1mdW5jdGlvbiBScCh0KXt2YXIgZT10LnByZXYscj10LG49dC5uZXh0O2lmKEdwKGUscixuKT49MClyZXR1cm4gITE7Zm9yKHZhciBpPWUueCxhPXIueCxzPW4ueCxvPWUueSxsPXIueSx1PW4ueSxjPWk8YT9pPHM/aTpzOmE8cz9hOnMsaD1vPGw/bzx1P286dTpsPHU/bDp1LHA9aT5hP2k+cz9pOnM6YT5zP2E6cyxmPW8+bD9vPnU/bzp1Omw+dT9sOnUsZD1uLm5leHQ7ZCE9PWU7KXtpZihkLng+PWMmJmQueDw9cCYmZC55Pj1oJiZkLnk8PWYmJnFwKGksbyxhLGwscyx1LGQueCxkLnkpJiZHcChkLnByZXYsZCxkLm5leHQpPj0wKXJldHVybiAhMTtkPWQubmV4dDt9cmV0dXJuICEwfWZ1bmN0aW9uIERwKHQsZSxyLG4pe3ZhciBpPXQucHJldixhPXQscz10Lm5leHQ7aWYoR3AoaSxhLHMpPj0wKXJldHVybiAhMTtmb3IodmFyIG89aS54LGw9YS54LHU9cy54LGM9aS55LGg9YS55LHA9cy55LGY9bzxsP288dT9vOnU6bDx1P2w6dSxkPWM8aD9jPHA/YzpwOmg8cD9oOnAsbT1vPmw/bz51P286dTpsPnU/bDp1LHk9Yz5oP2M+cD9jOnA6aD5wP2g6cCxnPVVwKGYsZCxlLHIsbikseD1VcChtLHksZSxyLG4pLHY9dC5wcmV2WixiPXQubmV4dFo7diYmdi56Pj1nJiZiJiZiLno8PXg7KXtpZih2Lng+PWYmJnYueDw9bSYmdi55Pj1kJiZ2Lnk8PXkmJnYhPT1pJiZ2IT09cyYmcXAobyxjLGwsaCx1LHAsdi54LHYueSkmJkdwKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO2lmKHY9di5wcmV2WixiLng+PWYmJmIueDw9bSYmYi55Pj1kJiZiLnk8PXkmJmIhPT1pJiZiIT09cyYmcXAobyxjLGwsaCx1LHAsYi54LGIueSkmJkdwKGIucHJldixiLGIubmV4dCk+PTApcmV0dXJuICExO2I9Yi5uZXh0Wjt9Zm9yKDt2JiZ2Lno+PWc7KXtpZih2Lng+PWYmJnYueDw9bSYmdi55Pj1kJiZ2Lnk8PXkmJnYhPT1pJiZ2IT09cyYmcXAobyxjLGwsaCx1LHAsdi54LHYueSkmJkdwKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO3Y9di5wcmV2Wjt9Zm9yKDtiJiZiLno8PXg7KXtpZihiLng+PWYmJmIueDw9bSYmYi55Pj1kJiZiLnk8PXkmJmIhPT1pJiZiIT09cyYmcXAobyxjLGwsaCx1LHAsYi54LGIueSkmJkdwKGIucHJldixiLGIubmV4dCk+PTApcmV0dXJuICExO2I9Yi5uZXh0Wjt9cmV0dXJuICEwfWZ1bmN0aW9uIFZwKHQsZSxyKXt2YXIgbj10O2Rve3ZhciBpPW4ucHJldixhPW4ubmV4dC5uZXh0OyFZcChpLGEpJiZYcChpLG4sbi5uZXh0LGEpJiZIcChpLGEpJiZIcChhLGkpJiYoZS5wdXNoKGkuaS9yfDApLGUucHVzaChuLmkvcnwwKSxlLnB1c2goYS5pL3J8MCksUXAobiksUXAobi5uZXh0KSxuPXQ9YSksbj1uLm5leHQ7fXdoaWxlKG4hPT10KTtyZXR1cm4gQnAobil9ZnVuY3Rpb24gTHAodCxlLHIsbixpLGEpe3ZhciBzPXQ7ZG97Zm9yKHZhciBvPXMubmV4dC5uZXh0O28hPT1zLnByZXY7KXtpZihzLmkhPT1vLmkmJiRwKHMsbykpe3ZhciBsPVdwKHMsbyk7cmV0dXJuIHM9QnAocyxzLm5leHQpLGw9QnAobCxsLm5leHQpLENwKHMsZSxyLG4saSxhLDApLHZvaWQgQ3AobCxlLHIsbixpLGEsMCl9bz1vLm5leHQ7fXM9cy5uZXh0O313aGlsZShzIT09dCl9ZnVuY3Rpb24gRnAodCxlKXtyZXR1cm4gdC54LWUueH1mdW5jdGlvbiBOcCh0LGUpe3ZhciByPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1lLGk9dC54LGE9dC55LHM9LTEvMDtkb3tpZihhPD1uLnkmJmE+PW4ubmV4dC55JiZuLm5leHQueSE9PW4ueSl7dmFyIG89bi54KyhhLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aWYobzw9aSYmbz5zJiYocz1vLHI9bi54PG4ubmV4dC54P246bi5uZXh0LG89PT1pKSlyZXR1cm4gcn1uPW4ubmV4dDt9d2hpbGUobiE9PWUpO2lmKCFyKXJldHVybiBudWxsO3ZhciBsLHU9cixjPXIueCxoPXIueSxwPTEvMDtuPXI7ZG97aT49bi54JiZuLng+PWMmJmkhPT1uLngmJnFwKGE8aD9pOnMsYSxjLGgsYTxoP3M6aSxhLG4ueCxuLnkpJiYobD1NYXRoLmFicyhhLW4ueSkvKGktbi54KSxIcChuLHQpJiYobDxwfHxsPT09cCYmKG4ueD5yLnh8fG4ueD09PXIueCYmT3AocixuKSkpJiYocj1uLHA9bCkpLG49bi5uZXh0O313aGlsZShuIT09dSk7cmV0dXJuIHJ9KHQsZSk7aWYoIXIpcmV0dXJuIGU7dmFyIG49V3Aocix0KTtyZXR1cm4gQnAobixuLm5leHQpLEJwKHIsci5uZXh0KX1mdW5jdGlvbiBPcCh0LGUpe3JldHVybiBHcCh0LnByZXYsdCxlLnByZXYpPDAmJkdwKGUubmV4dCx0LHQubmV4dCk8MH1mdW5jdGlvbiBVcCh0LGUscixuLGkpe3JldHVybiAodD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PSh0LXIpKml8MCl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9KGUtbikqaXwwKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSk8PDF9ZnVuY3Rpb24ganAodCl7dmFyIGU9dCxyPXQ7ZG97KGUueDxyLnh8fGUueD09PXIueCYmZS55PHIueSkmJihyPWUpLGU9ZS5uZXh0O313aGlsZShlIT09dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gcXAodCxlLHIsbixpLGEscyxvKXtyZXR1cm4gKGktcykqKGUtbyk+PSh0LXMpKihhLW8pJiYodC1zKSoobi1vKT49KHItcykqKGUtbykmJihyLXMpKihhLW8pPj0oaS1zKSoobi1vKX1mdW5jdGlvbiAkcCh0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe3ZhciByPXQ7ZG97aWYoci5pIT09dC5pJiZyLm5leHQuaSE9PXQuaSYmci5pIT09ZS5pJiZyLm5leHQuaSE9PWUuaSYmWHAocixyLm5leHQsdCxlKSlyZXR1cm4gITA7cj1yLm5leHQ7fXdoaWxlKHIhPT10KTtyZXR1cm4gITF9KHQsZSkmJihIcCh0LGUpJiZIcChlLHQpJiZmdW5jdGlvbih0LGUpe3ZhciByPXQsbj0hMSxpPSh0LngrZS54KS8yLGE9KHQueStlLnkpLzI7ZG97ci55PmEhPXIubmV4dC55PmEmJnIubmV4dC55IT09ci55JiZpPChyLm5leHQueC1yLngpKihhLXIueSkvKHIubmV4dC55LXIueSkrci54JiYobj0hbikscj1yLm5leHQ7fXdoaWxlKHIhPT10KTtyZXR1cm4gbn0odCxlKSYmKEdwKHQucHJldix0LGUucHJldil8fEdwKHQsZS5wcmV2LGUpKXx8WXAodCxlKSYmR3AodC5wcmV2LHQsdC5uZXh0KT4wJiZHcChlLnByZXYsZSxlLm5leHQpPjApfWZ1bmN0aW9uIEdwKHQsZSxyKXtyZXR1cm4gKGUueS10LnkpKihyLngtZS54KS0oZS54LXQueCkqKHIueS1lLnkpfWZ1bmN0aW9uIFlwKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fWZ1bmN0aW9uIFhwKHQsZSxyLG4pe3ZhciBpPUtwKEdwKHQsZSxyKSksYT1LcChHcCh0LGUsbikpLHM9S3AoR3AocixuLHQpKSxvPUtwKEdwKHIsbixlKSk7cmV0dXJuIGkhPT1hJiZzIT09b3x8ISgwIT09aXx8IVpwKHQscixlKSl8fCEoMCE9PWF8fCFacCh0LG4sZSkpfHwhKDAhPT1zfHwhWnAocix0LG4pKXx8ISgwIT09b3x8IVpwKHIsZSxuKSl9ZnVuY3Rpb24gWnAodCxlLHIpe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxyLngpJiZlLng+PU1hdGgubWluKHQueCxyLngpJiZlLnk8PU1hdGgubWF4KHQueSxyLnkpJiZlLnk+PU1hdGgubWluKHQueSxyLnkpfWZ1bmN0aW9uIEtwKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH1mdW5jdGlvbiBIcCh0LGUpe3JldHVybiBHcCh0LnByZXYsdCx0Lm5leHQpPDA/R3AodCxlLHQubmV4dCk+PTAmJkdwKHQsdC5wcmV2LGUpPj0wOkdwKHQsZSx0LnByZXYpPDB8fEdwKHQsdC5uZXh0LGUpPDB9ZnVuY3Rpb24gV3AodCxlKXt2YXIgcj1uZXcgdGYodC5pLHQueCx0LnkpLG49bmV3IHRmKGUuaSxlLngsZS55KSxpPXQubmV4dCxhPWUucHJldjtyZXR1cm4gdC5uZXh0PWUsZS5wcmV2PXQsci5uZXh0PWksaS5wcmV2PXIsbi5uZXh0PXIsci5wcmV2PW4sYS5uZXh0PW4sbi5wcmV2PWEsbn1mdW5jdGlvbiBKcCh0LGUscixuKXt2YXIgaT1uZXcgdGYodCxlLHIpO3JldHVybiBuPyhpLm5leHQ9bi5uZXh0LGkucHJldj1uLG4ubmV4dC5wcmV2PWksbi5uZXh0PWkpOihpLnByZXY9aSxpLm5leHQ9aSksaX1mdW5jdGlvbiBRcCh0KXt0Lm5leHQucHJldj10LnByZXYsdC5wcmV2Lm5leHQ9dC5uZXh0LHQucHJldlomJih0LnByZXZaLm5leHRaPXQubmV4dFopLHQubmV4dFomJih0Lm5leHRaLnByZXZaPXQucHJldlopO31mdW5jdGlvbiB0Zih0LGUscil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PTAsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITE7fWZ1bmN0aW9uIGVmKHQsZSxyLG4pe2Zvcih2YXIgaT0wLGE9ZSxzPXItbjthPHI7YSs9bilpKz0odFtzXS10W2FdKSoodFthKzFdK3RbcysxXSkscz1hO3JldHVybiBpfUVwLmV4cG9ydHM9enAsRXAuZXhwb3J0cy5kZWZhdWx0PXpwLHpwLmRldmlhdGlvbj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lJiZlLmxlbmd0aCxhPU1hdGguYWJzKGVmKHQsMCxpP2VbMF0qcjp0Lmxlbmd0aCxyKSk7aWYoaSlmb3IodmFyIHM9MCxvPWUubGVuZ3RoO3M8bztzKyspYS09TWF0aC5hYnMoZWYodCxlW3NdKnIsczxvLTE/ZVtzKzFdKnI6dC5sZW5ndGgscikpO3ZhciBsPTA7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrPTMpe3ZhciB1PW5bc10qcixjPW5bcysxXSpyLGg9bltzKzJdKnI7bCs9TWF0aC5hYnMoKHRbdV0tdFtoXSkqKHRbYysxXS10W3UrMV0pLSh0W3VdLXRbY10pKih0W2grMV0tdFt1KzFdKSk7fXJldHVybiAwPT09YSYmMD09PWw/MDpNYXRoLmFicygobC1hKS9hKX0senAuZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgscj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxuPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIGE9MDthPHRbaV0ubGVuZ3RoO2ErKylmb3IodmFyIHM9MDtzPGU7cysrKXIudmVydGljZXMucHVzaCh0W2ldW2FdW3NdKTtpPjAmJnIuaG9sZXMucHVzaChuKz10W2ktMV0ubGVuZ3RoKTt9cmV0dXJuIHJ9O3ZhciByZj1oKEVwLmV4cG9ydHMpO2Z1bmN0aW9uIG5mKHQsZSl7Y29uc3Qgcj10Lmxlbmd0aDtpZihyPD0xKXJldHVybiBbdF07Y29uc3Qgbj1bXTtsZXQgaSxhO2ZvcihsZXQgZT0wO2U8cjtlKyspe2NvbnN0IHI9JCh0W2VdKTswIT09ciYmKHRbZV0uYXJlYT1NYXRoLmFicyhyKSx2b2lkIDA9PT1hJiYoYT1yPDApLGE9PT1yPDA/KGkmJm4ucHVzaChpKSxpPVt0W2VdXSk6aS5wdXNoKHRbZV0pKTt9aWYoaSYmbi5wdXNoKGkpLGU+MSlmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdLmxlbmd0aDw9ZXx8KHNyKG5bdF0sZSwxLG5bdF0ubGVuZ3RoLTEsYWYpLG5bdF09blt0XS5zbGljZSgwLGUpKTtyZXR1cm4gbn1mdW5jdGlvbiBhZih0LGUpe3JldHVybiBlLmFyZWEtdC5hcmVhfWZ1bmN0aW9uIHNmKHQsZSxyKXtjb25zdCBuPXIucGF0dGVybkRlcGVuZGVuY2llcztsZXQgaT0hMTtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXIucGFpbnQuZ2V0KGAke3R9LXBhdHRlcm5gKTtlLmlzQ29uc3RhbnQoKXx8KGk9ITApO2NvbnN0IGE9ZS5jb25zdGFudE9yKG51bGwpO2EmJihpPSEwLG5bYV09ITApO31yZXR1cm4gaX1mdW5jdGlvbiBvZih0LGUscixuLGkpe2NvbnN0IGE9aS5wYXR0ZXJuRGVwZW5kZW5jaWVzO2Zvcihjb25zdCBzIG9mIGUpe2NvbnN0IGU9cy5wYWludC5nZXQoYCR7dH0tcGF0dGVybmApLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PWUua2luZCl7bGV0IHQ9ZS5ldmFsdWF0ZSh7em9vbTpufSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKTt0PXQmJnQubmFtZT90Lm5hbWU6dCxhW3RdPSEwLHIucGF0dGVybnNbcy5pZF09dDt9fXJldHVybiByfWNsYXNzIGxme2NvbnN0cnVjdG9yKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKCh0PT50LmZxaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHBzLHRoaXMuaW5kZXhBcnJheT1uZXcgRXMsdGhpcy5pbmRleEFycmF5Mj1uZXcgQXMsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFZvKHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgZW8sdGhpcy5zZWdtZW50czI9bmV3IGVvLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbjt9cG9wdWxhdGUodCxlLHIsbil7dGhpcy5oYXNQYXR0ZXJuPXNmKFwiZmlsbFwiLHRoaXMubGF5ZXJzLGUpO2NvbnN0IGk9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtc29ydC1rZXlcIiksYT1bXTtmb3IoY29uc3R7ZmVhdHVyZTpzLGlkOm8saW5kZXg6bCxzb3VyY2VMYXllckluZGV4OnV9b2YgdCl7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksYz1CbChzLHQpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBhKHRoaXMuem9vbSksYyxyKSljb250aW51ZTtjb25zdCBoPWk/aS5ldmFsdWF0ZShjLHt9LHIsZS5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMCxwPXtpZDpvLHByb3BlcnRpZXM6cy5wcm9wZXJ0aWVzLHR5cGU6cy50eXBlLHNvdXJjZUxheWVySW5kZXg6dSxpbmRleDpsLGdlb21ldHJ5OnQ/Yy5nZW9tZXRyeTpUbChzLHIsbikscGF0dGVybnM6e30sc29ydEtleTpofTthLnB1c2gocCk7fWkmJmEuc29ydCgoKHQsZSk9PnQuc29ydEtleS1lLnNvcnRLZXkpKTtmb3IoY29uc3QgbiBvZiBhKXtjb25zdHtnZW9tZXRyeTppLGluZGV4OmEsc291cmNlTGF5ZXJJbmRleDpzfT1uO2lmKHRoaXMuaGFzUGF0dGVybil7Y29uc3QgdD1vZihcImZpbGxcIix0aGlzLmxheWVycyxuLHRoaXMuem9vbSxlKTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKHQpO31lbHNlIHRoaXMuYWRkRmVhdHVyZShuLGksYSxyLHt9LGUuYXZhaWxhYmxlSW1hZ2VzLGUuYnJpZ2h0bmVzcyk7ZS5mZWF0dXJlSW5kZXguaW5zZXJ0KHRbYV0uZmVhdHVyZSxpLGEscyx0aGlzLmluZGV4KTt9fXVwZGF0ZSh0LGUscixuLGkpe2NvbnN0IGE9MCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aDthJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSxhP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMscixuLGkpO31hZGRGZWF0dXJlcyh0LGUscixuLGksYSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKHQsdC5nZW9tZXRyeSx0LmluZGV4LGUscixuLGEpO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksUHApLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO31hZGRGZWF0dXJlKHQsZSxyLG4saSxhPVtdLHMpe2Zvcihjb25zdCB0IG9mIG5mKGUsNTAwKSl7bGV0IGU9MDtmb3IoY29uc3QgciBvZiB0KWUrPXIubGVuZ3RoO2NvbnN0IHI9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudChlLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxuPXIudmVydGV4TGVuZ3RoLGk9W10sYT1bXTtmb3IoY29uc3QgZSBvZiB0KXtpZigwPT09ZS5sZW5ndGgpY29udGludWU7ZSE9PXRbMF0mJmEucHVzaChpLmxlbmd0aC8yKTtjb25zdCByPXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KGUubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5Miksbj1yLnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGVbMF0ueCxlWzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2sobitlLmxlbmd0aC0xLG4pLGkucHVzaChlWzBdLngpLGkucHVzaChlWzBdLnkpO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZVt0XS54LGVbdF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhuK3QtMSxuK3QpLGkucHVzaChlW3RdLngpLGkucHVzaChlW3RdLnkpO3IudmVydGV4TGVuZ3RoKz1lLmxlbmd0aCxyLnByaW1pdGl2ZUxlbmd0aCs9ZS5sZW5ndGg7fWNvbnN0IHM9cmYoaSxhKTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4rc1t0XSxuK3NbdCsxXSxuK3NbdCsyXSk7ci52ZXJ0ZXhMZW5ndGgrPWUsci5wcmltaXRpdmVMZW5ndGgrPXMubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGksYSxuLHMpO319cmEobGYsXCJGaWxsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjb25zdCB1Zj1uZXcgT2Eoe1wiZmlsbC1zb3J0LWtleVwiOm5ldyBGYShxYS5sYXlvdXRfZmlsbFtcImZpbGwtc29ydC1rZXlcIl0pLHZpc2liaWxpdHk6bmV3IExhKHFhLmxheW91dF9maWxsLnZpc2liaWxpdHkpfSk7dmFyIGNmPXtwYWludDpuZXcgT2Eoe1wiZmlsbC1hbnRpYWxpYXNcIjpuZXcgTGEocWEucGFpbnRfZmlsbFtcImZpbGwtYW50aWFsaWFzXCJdKSxcImZpbGwtb3BhY2l0eVwiOm5ldyBGYShxYS5wYWludF9maWxsW1wiZmlsbC1vcGFjaXR5XCJdKSxcImZpbGwtY29sb3JcIjpuZXcgRmEocWEucGFpbnRfZmlsbFtcImZpbGwtY29sb3JcIl0pLFwiZmlsbC1vdXRsaW5lLWNvbG9yXCI6bmV3IEZhKHFhLnBhaW50X2ZpbGxbXCJmaWxsLW91dGxpbmUtY29sb3JcIl0pLFwiZmlsbC10cmFuc2xhdGVcIjpuZXcgTGEocWEucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlXCJdKSxcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9maWxsW1wiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtcGF0dGVyblwiOm5ldyBGYShxYS5wYWludF9maWxsW1wiZmlsbC1wYXR0ZXJuXCJdKSxcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgTGEocWEucGFpbnRfZmlsbFtcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0OnVmfTtjb25zdCBoZj1jcyhbe25hbWU6XCJhX3Bvc19ub3JtYWxfZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSkscGY9Y3MoW3tuYW1lOlwiYV9wb3NfZW5kXCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5ndWxhcl9vZmZzZXRfZmFjdG9yXCIsY29tcG9uZW50czoxLHR5cGU6XCJJbnQxNlwifV0pLGZmPWNzKFt7bmFtZTpcImFfY2VudHJvaWRfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn1dKSxkZj1jcyhbe25hbWU6XCJhX2hpZGRlbl9ieV9sYW5kbWFya1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDhcIn1dKSxtZj1jcyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pLHttZW1iZXJzOnlmfT1oZjt2YXIgZ2Y9e30seGY9bSx2Zj1iZjtmdW5jdGlvbiBiZih0LGUscixuLGkpe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1yLHRoaXMudHlwZT0wLHRoaXMuX3BiZj10LHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9bix0aGlzLl92YWx1ZXM9aSx0LnJlYWRGaWVsZHMoX2YsdGhpcyxlKTt9ZnVuY3Rpb24gX2YodCxlLHIpezE9PXQ/ZS5pZD1yLnJlYWRWYXJpbnQoKToyPT10P2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQucmVhZFZhcmludCgpK3QucG9zO3QucG9zPHI7KXt2YXIgbj1lLl9rZXlzW3QucmVhZFZhcmludCgpXSxpPWUuX3ZhbHVlc1t0LnJlYWRWYXJpbnQoKV07ZS5wcm9wZXJ0aWVzW25dPWk7fX0ocixlKTozPT10P2UudHlwZT1yLnJlYWRWYXJpbnQoKTo0PT10JiYoZS5fZ2VvbWV0cnk9ci5wb3MpO31mdW5jdGlvbiB3Zih0KXtmb3IodmFyIGUscixuPTAsaT0wLGE9dC5sZW5ndGgscz1hLTE7aTxhO3M9aSsrKW4rPSgocj10W3NdKS54LShlPXRbaV0pLngpKihlLnkrci55KTtyZXR1cm4gbn1iZi50eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXSxiZi5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZSxyPXQucmVhZFZhcmludCgpK3QucG9zLG49MSxpPTAsYT0wLHM9MCxvPVtdO3QucG9zPHI7KXtpZihpPD0wKXt2YXIgbD10LnJlYWRWYXJpbnQoKTtuPTcmbCxpPWw+PjM7fWlmKGktLSwxPT09bnx8Mj09PW4pYSs9dC5yZWFkU1ZhcmludCgpLHMrPXQucmVhZFNWYXJpbnQoKSwxPT09biYmKGUmJm8ucHVzaChlKSxlPVtdKSxlLnB1c2gobmV3IHhmKGEscykpO2Vsc2Uge2lmKDchPT1uKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIituKTtlJiZlLnB1c2goZVswXS5jbG9uZSgpKTt9fXJldHVybiBlJiZvLnB1c2goZSksb30sYmYucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYmY7dC5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciBlPXQucmVhZFZhcmludCgpK3QucG9zLHI9MSxuPTAsaT0wLGE9MCxzPTEvMCxvPS0xLzAsbD0xLzAsdT0tMS8wO3QucG9zPGU7KXtpZihuPD0wKXt2YXIgYz10LnJlYWRWYXJpbnQoKTtyPTcmYyxuPWM+PjM7fWlmKG4tLSwxPT09cnx8Mj09PXIpKGkrPXQucmVhZFNWYXJpbnQoKSk8cyYmKHM9aSksaT5vJiYobz1pKSwoYSs9dC5yZWFkU1ZhcmludCgpKTxsJiYobD1hKSxhPnUmJih1PWEpO2Vsc2UgaWYoNyE9PXIpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK3IpfXJldHVybiBbcyxsLG8sdV19LGJmLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24odCxlLHIpe3ZhciBuLGksYT10aGlzLmV4dGVudCpNYXRoLnBvdygyLHIpLHM9dGhpcy5leHRlbnQqdCxvPXRoaXMuZXh0ZW50KmUsbD10aGlzLmxvYWRHZW9tZXRyeSgpLHU9YmYudHlwZXNbdGhpcy50eXBlXTtmdW5jdGlvbiBjKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3RbZV09WzM2MCooci54K3MpL2EtMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCooci55K28pL2EpKk1hdGguUEkvMTgwKSktOTBdO319c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciBoPVtdO2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspaFtuXT1sW25dWzBdO2MobD1oKTticmVhaztjYXNlIDI6Zm9yKG49MDtuPGwubGVuZ3RoO24rKyljKGxbbl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD0xKXJldHVybiBbdF07Zm9yKHZhciByLG4saT1bXSxhPTA7YTxlO2ErKyl7dmFyIHM9d2YodFthXSk7MCE9PXMmJih2b2lkIDA9PT1uJiYobj1zPDApLG49PT1zPDA/KHImJmkucHVzaChyKSxyPVt0W2FdXSk6ci5wdXNoKHRbYV0pKTt9cmV0dXJuIHImJmkucHVzaChyKSxpfShsKSxuPTA7bjxsLmxlbmd0aDtuKyspZm9yKGk9MDtpPGxbbl0ubGVuZ3RoO2krKyljKGxbbl1baV0pO30xPT09bC5sZW5ndGg/bD1sWzBdOnU9XCJNdWx0aVwiK3U7dmFyIHA9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6dSxjb29yZGluYXRlczpsfSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuIFwiaWRcImluIHRoaXMmJihwLmlkPXRoaXMuaWQpLHB9O3ZhciBNZj12ZixBZj1TZjtmdW5jdGlvbiBTZih0LGUpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9dCx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSx0LnJlYWRGaWVsZHMoSWYsdGhpcyxlKSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGg7fWZ1bmN0aW9uIElmKHQsZSxyKXsxNT09PXQ/ZS52ZXJzaW9uPXIucmVhZFZhcmludCgpOjE9PT10P2UubmFtZT1yLnJlYWRTdHJpbmcoKTo1PT09dD9lLmV4dGVudD1yLnJlYWRWYXJpbnQoKToyPT09dD9lLl9mZWF0dXJlcy5wdXNoKHIucG9zKTozPT09dD9lLl9rZXlzLnB1c2goci5yZWFkU3RyaW5nKCkpOjQ9PT10JiZlLl92YWx1ZXMucHVzaChmdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxyPXQucmVhZFZhcmludCgpK3QucG9zO3QucG9zPHI7KXt2YXIgbj10LnJlYWRWYXJpbnQoKT4+MztlPTE9PT1uP3QucmVhZFN0cmluZygpOjI9PT1uP3QucmVhZEZsb2F0KCk6Mz09PW4/dC5yZWFkRG91YmxlKCk6ND09PW4/dC5yZWFkVmFyaW50NjQoKTo1PT09bj90LnJlYWRWYXJpbnQoKTo2PT09bj90LnJlYWRTVmFyaW50KCk6Nz09PW4/dC5yZWFkQm9vbGVhbigpOm51bGw7fXJldHVybiBlfShyKSk7fVNmLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW3RdO3ZhciBlPXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IE1mKHRoaXMuX3BiZixlLHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIGtmPUFmO2Z1bmN0aW9uIFBmKHQsZSxyKXtpZigzPT09dCl7dmFyIG49bmV3IGtmKHIsci5yZWFkVmFyaW50KCkrci5wb3MpO24ubGVuZ3RoJiYoZVtuLm5hbWVdPW4pO319dmFyIEVmPWdmLlZlY3RvclRpbGU9ZnVuY3Rpb24odCxlKXt0aGlzLmxheWVycz10LnJlYWRGaWVsZHMoUGYse30sZSk7fSx6Zj1nZi5WZWN0b3JUaWxlRmVhdHVyZT12ZjtmdW5jdGlvbiBUZih0LGUscixuKXtjb25zdCBpPVtdLGE9MD09PW4/KHQsZSxyLG4saSxhKT0+e3QucHVzaChuZXcgZyhhLHIrKGEtZSkvKG4tZSkqKGktcikpKTt9Oih0LGUscixuLGksYSk9Pnt0LnB1c2gobmV3IGcoZSsoYS1yKS8oaS1yKSoobi1lKSxhKSk7fTtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIHMpe2lmKGkubGVuZ3RoPD0yKWNvbnRpbnVlO2NvbnN0IHM9W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aC0xO3QrKyl7Y29uc3Qgbz1pW3RdLngsbD1pW3RdLnksdT1pW3QrMV0ueCxjPWlbdCsxXS55LGg9MD09PW4/bzpsLHA9MD09PW4/dTpjO2g8ZT9wPmUmJmEocyxvLGwsdSxjLGUpOmg+cj9wPHImJmEocyxvLGwsdSxjLHIpOnMucHVzaChpW3RdKSxwPGUmJmg+PWUmJmEocyxvLGwsdSxjLGUpLHA+ciYmaDw9ciYmYShzLG8sbCx1LGMscik7fWxldCBvPWlbaS5sZW5ndGgtMV07Y29uc3QgbD0wPT09bj9vLng6by55O2w+PWUmJmw8PXImJnMucHVzaChvKSxzLmxlbmd0aCYmKG89c1tzLmxlbmd0aC0xXSxzWzBdLng9PT1vLngmJnNbMF0ueT09PW8ueXx8cy5wdXNoKHNbMF0pLHQucHVzaChzKSk7fXQubGVuZ3RoJiZpLnB1c2godCk7fXJldHVybiBpfWZ1bmN0aW9uIEJmKHQsZSl7cmV0dXJuIHQueC1lLnh8fHQueS1lLnl9ZnVuY3Rpb24gQ2YodCxlKXtyZXR1cm4gMD09PUJmKHQubWluLGUubWluKSYmMD09PUJmKHQubWF4LGUubWF4KX1mdW5jdGlvbiBSZih0LGUpe3JldHVybiAhKHQubWluLng+ZS5tYXgueHx8dC5tYXgueDxlLm1pbi54fHx0Lm1pbi55PmUubWF4Lnl8fHQubWF4Lnk8ZS5taW4ueSl9ZnVuY3Rpb24gRGYodCxlLHIpe2NvbnN0IG49MS9UcixpPTEvKDE8PHIuY2Fub25pY2FsLnopLGE9KGUueCpuK3IuY2Fub25pY2FsLngpKmkrci53cmFwLHM9KGUueSpuK3IuY2Fub25pY2FsLnkpKmk7cmV0dXJuIHttaW46bmV3IGcoKHQueCpuK3IuY2Fub25pY2FsLngpKmkrci53cmFwLCh0LnkqbityLmNhbm9uaWNhbC55KSppKSxtYXg6bmV3IGcoYSxzKX19ZnVuY3Rpb24gVmYodCxlLHIpe2NvbnN0IG49MTw8ci5jYW5vbmljYWwueixpPSgoZS54LXIud3JhcCkqbi1yLmNhbm9uaWNhbC54KSpUcixhPShlLnkqbi1yLmNhbm9uaWNhbC55KSpUcjtyZXR1cm4ge21pbjpuZXcgZygoKHQueC1yLndyYXApKm4tci5jYW5vbmljYWwueCkqVHIsKHQueSpuLXIuY2Fub25pY2FsLnkpKlRyKSxtYXg6bmV3IGcoaSxhKX19ZnVuY3Rpb24gTGYodCxlLHIsbixpLGEscyl7Y29uc3Qgbz10LmluZGljZXMsbD10LnZlcnRpY2VzLHU9W107Zm9yKGxldCBjPW47YzxuK2k7Yys9Myl7Y29uc3Qgbj1lW3JbYyswXSthXSxpPWVbcltjKzFdK2FdLGg9ZVtyW2MrMl0rYV0scD1NYXRoLm1pbihuLngsaS54LGgueCksZj1NYXRoLm1heChuLngsaS54LGgueCksZD1NYXRoLm1pbihuLnksaS55LGgueSksbT1NYXRoLm1heChuLnksaS55LGgueSk7dS5sZW5ndGg9MCx0LmdyaWQucXVlcnkobmV3IGcocCxkKSxuZXcgZyhmLG0pLHUpO2ZvcihsZXQgdD0wO3Q8dS5sZW5ndGg7dCsrKXtjb25zdCBlPXVbdF07aWYoS2wobFtvWzMqZSswXV0sbFtvWzMqZSsxXV0sbFtvWzMqZSsyXV0sbixpLGgscykpcmV0dXJuICEwfX1yZXR1cm4gITF9ZnVuY3Rpb24gRmYodCxlLHIsbil7aWYoIXR8fCFyKXJldHVybiAhMTtsZXQgaT10LnZlcnRpY2VzO2lmKCFlLmNhbm9uaWNhbC5lcXVhbHMobi5jYW5vbmljYWwpfHxlLndyYXAhPT1uLndyYXApe2lmKHIudmVydGljZXMubGVuZ3RoPHQudmVydGljZXMubGVuZ3RoKXJldHVybiBGZihyLG4sdCxlKTtjb25zdCBhPWUuY2Fub25pY2FsLHM9bi5jYW5vbmljYWwsbz1NYXRoLnBvdygyLHMuei1hLnopO2k9dC52ZXJ0aWNlcy5tYXAoKHQ9Pm5ldyBnKHQueCphLngqVHIqby1zLngqVHIsdC55KmEueSpUcipvLXMueSpUcikpKTt9cmV0dXJuIExmKHIsaSx0LmluZGljZXMsMCx0LmluZGljZXMubGVuZ3RoLDAsMCl9Z2YuVmVjdG9yVGlsZUxheWVyPUFmO2NsYXNzIE5me2NvbnN0cnVjdG9yKHQpe3RoaXMuc2l6ZT10LHRoaXMubWluaW11bXM9W10sdGhpcy5tYXhpbXVtcz1bXSx0aGlzLmxlYXZlcz1bXTt9Z2V0RWxldmF0aW9uKHQsZSl7Y29uc3Qgcj10aGlzLnRvSWR4KHQsZSk7cmV0dXJuIHttaW46dGhpcy5taW5pbXVtc1tyXSxtYXg6dGhpcy5tYXhpbXVtc1tyXX19aXNMZWFmKHQsZSl7cmV0dXJuIHRoaXMubGVhdmVzW3RoaXMudG9JZHgodCxlKV19dG9JZHgodCxlKXtyZXR1cm4gZSp0aGlzLnNpemUrdH19ZnVuY3Rpb24gT2YodCxlLHIsbil7bGV0IGk9MCxhPU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBzPTA7czwzO3MrKylpZihNYXRoLmFicyhuW3NdKTwxZS0xNSl7aWYocltzXTx0W3NdfHxyW3NdPmVbc10pcmV0dXJuIG51bGx9ZWxzZSB7Y29uc3Qgbz0xL25bc107bGV0IGw9KHRbc10tcltzXSkqbyx1PShlW3NdLXJbc10pKm87aWYobD51KXtjb25zdCB0PWw7bD11LHU9dDt9aWYobD5pJiYoaT1sKSx1PGEmJihhPXUpLGk+YSlyZXR1cm4gbnVsbH1yZXR1cm4gaX1mdW5jdGlvbiBVZih0LGUscixuLGksYSxzLG8sbCx1LGMpe2NvbnN0IGg9bi10LHA9aS1lLGY9YS1yLGQ9cy10LG09by1lLHk9bC1yLGc9Y1sxXSp5LWNbMl0qbSx4PWNbMl0qZC1jWzBdKnksdj1jWzBdKm0tY1sxXSpkLGI9aCpnK3AqeCtmKnY7aWYoTWF0aC5hYnMoYik8MWUtMTUpcmV0dXJuIG51bGw7Y29uc3QgXz0xL2Isdz11WzBdLXQsTT11WzFdLWUsQT11WzJdLXIsUz0odypnK00qeCtBKnYpKl87aWYoUzwwfHxTPjEpcmV0dXJuIG51bGw7Y29uc3QgST1NKmYtQSpwLGs9QSpoLXcqZixQPXcqcC1NKmgsRT0oY1swXSpJK2NbMV0qaytjWzJdKlApKl87cmV0dXJuIEU8MHx8UytFPjE/bnVsbDooZCpJK20qayt5KlApKl99ZnVuY3Rpb24gamYodCxlLHIpe3JldHVybiAodC1lKS8oci1lKX1mdW5jdGlvbiBxZih0LGUscixuLGksYSxzLG8sbCl7Y29uc3QgdT0xPDxyLGM9YS1uLGg9cy1pLHA9KHQrMSkvdSpjK24sZj0oZSswKS91KmgraSxkPShlKzEpL3UqaCtpO29bMF09KHQrMCkvdSpjK24sb1sxXT1mLGxbMF09cCxsWzFdPWQ7fWNsYXNzICRme2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMubWF4aW11bXM9W10sdGhpcy5taW5pbXVtcz1bXSx0aGlzLmxlYXZlcz1bXSx0aGlzLmNoaWxkT2Zmc2V0cz1bXSx0aGlzLm5vZGVDb3VudD0wLHRoaXMuZGVtPXQsdGhpcy5fc2libGluZ09mZnNldD1bWzAsMF0sWzEsMF0sWzAsMV0sWzEsMV1dLCF0aGlzLmRlbSlyZXR1cm47Y29uc3QgZT1mdW5jdGlvbih0KXtjb25zdCBlPU1hdGguY2VpbChNYXRoLmxvZzIodC5kaW0vOCkpLHI9W107bGV0IG49TWF0aC5jZWlsKE1hdGgucG93KDIsZSkpO2NvbnN0IGk9MS9uLGE9KHQsZSxyLG4saSk9Pntjb25zdCBhPW4/MTowLHM9KHQrMSkqci1hLG89ZSpyLGw9KGUrMSkqci1hO2lbMF09dCpyLGlbMV09byxpWzJdPXMsaVszXT1sO307bGV0IHM9bmV3IE5mKG4pO2NvbnN0IG89W107Zm9yKGxldCBlPTA7ZTxuKm47ZSsrKXthKGUlbixNYXRoLmZsb29yKGUvbiksaSwhMSxvKTtjb25zdCByPVlmKG9bMF0sb1sxXSx0KSxsPVlmKG9bMl0sb1sxXSx0KSx1PVlmKG9bMl0sb1szXSx0KSxjPVlmKG9bMF0sb1szXSx0KTtzLm1pbmltdW1zLnB1c2goTWF0aC5taW4ocixsLHUsYykpLHMubWF4aW11bXMucHVzaChNYXRoLm1heChyLGwsdSxjKSkscy5sZWF2ZXMucHVzaCgxKTt9Zm9yKHIucHVzaChzKSxuLz0yO24+PTE7bi89Mil7Y29uc3QgdD1yW3IubGVuZ3RoLTFdO3M9bmV3IE5mKG4pO2ZvcihsZXQgZT0wO2U8bipuO2UrKyl7YShlJW4sTWF0aC5mbG9vcihlL24pLDIsITAsbyk7Y29uc3Qgcj10LmdldEVsZXZhdGlvbihvWzBdLG9bMV0pLGk9dC5nZXRFbGV2YXRpb24ob1syXSxvWzFdKSxsPXQuZ2V0RWxldmF0aW9uKG9bMl0sb1szXSksdT10LmdldEVsZXZhdGlvbihvWzBdLG9bM10pLGM9dC5pc0xlYWYob1swXSxvWzFdKSxoPXQuaXNMZWFmKG9bMl0sb1sxXSkscD10LmlzTGVhZihvWzJdLG9bM10pLGY9dC5pc0xlYWYob1swXSxvWzNdKSxkPU1hdGgubWluKHIubWluLGkubWluLGwubWluLHUubWluKSxtPU1hdGgubWF4KHIubWF4LGkubWF4LGwubWF4LHUubWF4KSx5PWMmJmgmJnAmJmY7cy5tYXhpbXVtcy5wdXNoKG0pLHMubWluaW11bXMucHVzaChkKSxzLmxlYXZlcy5wdXNoKG0tZDw9NSYmeT8xOjApO31yLnB1c2gocyk7fXJldHVybiByfSh0aGlzLmRlbSkscj1lLmxlbmd0aC0xLG49ZVtyXTt0aGlzLl9hZGROb2RlKG4ubWluaW11bXNbMF0sbi5tYXhpbXVtc1swXSxuLmxlYXZlc1swXSksdGhpcy5fY29uc3RydWN0KGUsMCwwLHIsMCk7fXJheWNhc3RSb290KHQsZSxyLG4saSxhLHM9MSl7cmV0dXJuIE9mKFt0LGUsLTEwMF0sW3Isbix0aGlzLm1heGltdW1zWzBdKnNdLGksYSl9cmF5Y2FzdChlLHIsbixpLGEscyxvPTEpe2lmKCF0aGlzLm5vZGVDb3VudClyZXR1cm4gbnVsbDtjb25zdCBsPXRoaXMucmF5Y2FzdFJvb3QoZSxyLG4saSxhLHMsbyk7aWYobnVsbD09bClyZXR1cm4gbnVsbDtjb25zdCB1PVtdLGM9W10saD1bXSxwPVtdLGY9W3tpZHg6MCx0Omwsbm9kZXg6MCxub2RleTowLGRlcHRoOjB9XTtmb3IoO2YubGVuZ3RoPjA7KXtjb25zdHtpZHg6bCx0OmQsbm9kZXg6bSxub2RleTp5LGRlcHRoOmd9PWYucG9wKCk7aWYodGhpcy5sZWF2ZXNbbF0pe3FmKG0seSxnLGUscixuLGksaCxwKTtjb25zdCBsPTE8PGcsdT0obSswKS9sLGM9KG0rMSkvbCxmPSh5KzApL2wseD0oeSsxKS9sLHY9WWYodSxmLHRoaXMuZGVtKSpvLGI9WWYoYyxmLHRoaXMuZGVtKSpvLF89WWYoYyx4LHRoaXMuZGVtKSpvLHc9WWYodSx4LHRoaXMuZGVtKSpvLE09VWYoaFswXSxoWzFdLHYscFswXSxoWzFdLGIscFswXSxwWzFdLF8sYSxzKSxBPVVmKHBbMF0scFsxXSxfLGhbMF0scFsxXSx3LGhbMF0saFsxXSx2LGEscyksUz1NYXRoLm1pbihudWxsIT09TT9NOk51bWJlci5NQVhfVkFMVUUsbnVsbCE9PUE/QTpOdW1iZXIuTUFYX1ZBTFVFKTtpZihTIT09TnVtYmVyLk1BWF9WQUxVRSlyZXR1cm4gUzt7Y29uc3QgZT10Lk4uc2NhbGVBbmRBZGQoW10sYSxzLGQpO2lmKEdmKHYsYix3LF8samYoZVswXSxoWzBdLHBbMF0pLGpmKGVbMV0saFsxXSxwWzFdKSk+PWVbMl0pcmV0dXJuIGR9Y29udGludWV9bGV0IHg9MDtmb3IobGV0IHQ9MDt0PHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO3QrKyl7cWYoKG08PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMF0sKHk8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMV0sZysxLGUscixuLGksaCxwKSxoWzJdPS0xMDAscFsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW2xdK3RdKm87Y29uc3QgZj1PZihoLHAsYSxzKTtpZihudWxsIT1mKXtjb25zdCBlPWY7dVt0XT1lO2xldCByPSExO2ZvcihsZXQgbj0wO248eCYmIXI7bisrKWU+PXVbY1tuXV0mJihjLnNwbGljZShuLDAsdCkscj0hMCk7cnx8KGNbeF09dCkseCsrO319Zm9yKGxldCB0PTA7dDx4O3QrKyl7Y29uc3QgZT1jW3RdO2YucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW2xdK2UsdDp1W2VdLG5vZGV4OihtPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLG5vZGV5Oih5PDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzFdLGRlcHRoOmcrMX0pO319cmV0dXJuIG51bGx9X2FkZE5vZGUodCxlLHIpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2godCksdGhpcy5tYXhpbXVtcy5wdXNoKGUpLHRoaXMubGVhdmVzLnB1c2gociksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QodCxlLHIsbixpKXtpZigxPT09dFtuXS5pc0xlYWYoZSxyKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbaV18fCh0aGlzLmNoaWxkT2Zmc2V0c1tpXT10aGlzLm5vZGVDb3VudCk7Y29uc3QgYT1uLTEscz10W2FdO2xldCBvPTAsbD0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7dCsrKXtjb25zdCBuPTIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLGk9MipyK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMV0sYT1zLmdldEVsZXZhdGlvbihuLGkpLHU9cy5pc0xlYWYobixpKSxjPXRoaXMuX2FkZE5vZGUoYS5taW4sYS5tYXgsdSk7dSYmKG98PTE8PHQpLGx8fChsPWMpO31mb3IobGV0IG49MDtuPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO24rKylvJjE8PG58fHRoaXMuX2NvbnN0cnVjdCh0LDIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzBdLDIqcit0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzFdLGEsbCtuKTt9fWZ1bmN0aW9uIEdmKHQsZSxyLG4saSxhKXtyZXR1cm4gdWUodWUodCxyLGEpLHVlKGUsbixhKSxpKX1mdW5jdGlvbiBZZih0LGUscil7Y29uc3Qgbj1yLmRpbSxpPUkodCpuLS41LDAsbi0xKSxhPUkoZSpuLS41LDAsbi0xKSxzPU1hdGguZmxvb3IoaSksbz1NYXRoLmZsb29yKGEpLGw9TWF0aC5taW4ocysxLG4tMSksdT1NYXRoLm1pbihvKzEsbi0xKTtyZXR1cm4gR2Yoci5nZXQocyxvKSxyLmdldChsLG8pLHIuZ2V0KHMsdSksci5nZXQobCx1KSxpLXMsYS1vKX1jb25zdCBYZj17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdfTtmdW5jdGlvbiBaZih0LGUscil7cmV0dXJuICgyNTYqdCoyNTYrMjU2KmUrcikvMTAtMWU0fWZ1bmN0aW9uIEtmKHQsZSxyKXtyZXR1cm4gMjU2KnQrZStyLzI1Ni0zMjc2OH1jbGFzcyBIZntnZXQgdHJlZSgpe3JldHVybiB0aGlzLl90cmVlfHx0aGlzLl9idWlsZFF1YWRUcmVlKCksdGhpcy5fdHJlZX1jb25zdHJ1Y3Rvcih0LGUscixuPSExKXtpZih0aGlzLnVpZD10LGUuaGVpZ2h0IT09ZS53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRFTSB0aWxlcyBtdXN0IGJlIHNxdWFyZVwiKTtpZihyJiZcIm1hcGJveFwiIT09ciYmXCJ0ZXJyYXJpdW1cIiE9PXIpcmV0dXJuIGooYFwiJHtyfVwiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi5gKTt0aGlzLnN0cmlkZT1lLmhlaWdodDtjb25zdCBpPXRoaXMuZGltPWUuaGVpZ2h0LTIsYT1uZXcgVWludDMyQXJyYXkoZS5kYXRhLmJ1ZmZlcik7aWYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkoZS5kYXRhLmJ1ZmZlciksdGhpcy5mbG9hdFZpZXc9bmV3IEZsb2F0MzJBcnJheShlLmRhdGEuYnVmZmVyKSx0aGlzLmJvcmRlclJlYWR5PW4sdGhpcy5fbW9kaWZpZWRGb3JTb3VyY2VzPXt9LCFuKXtmb3IobGV0IHQ9MDt0PGk7dCsrKWFbdGhpcy5faWR4KC0xLHQpXT1hW3RoaXMuX2lkeCgwLHQpXSxhW3RoaXMuX2lkeChpLHQpXT1hW3RoaXMuX2lkeChpLTEsdCldLGFbdGhpcy5faWR4KHQsLTEpXT1hW3RoaXMuX2lkeCh0LDApXSxhW3RoaXMuX2lkeCh0LGkpXT1hW3RoaXMuX2lkeCh0LGktMSldO2FbdGhpcy5faWR4KC0xLC0xKV09YVt0aGlzLl9pZHgoMCwwKV0sYVt0aGlzLl9pZHgoaSwtMSldPWFbdGhpcy5faWR4KGktMSwwKV0sYVt0aGlzLl9pZHgoLTEsaSldPWFbdGhpcy5faWR4KDAsaS0xKV0sYVt0aGlzLl9pZHgoaSxpKV09YVt0aGlzLl9pZHgoaS0xLGktMSldO31jb25zdCBzPVwidGVycmFyaXVtXCI9PT1yP0tmOlpmO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7Kyt0KXtjb25zdCBlPTQqdDt0aGlzLmZsb2F0Vmlld1t0XT1zKHRoaXMucGl4ZWxzW2VdLHRoaXMucGl4ZWxzW2UrMV0sdGhpcy5waXhlbHNbZSsyXSk7fXRoaXMuX3RpbWVzdGFtcD1zdC5ub3coKTt9X2J1aWxkUXVhZFRyZWUoKXt0aGlzLl90cmVlPW5ldyAkZih0aGlzKTt9Z2V0KHQsZSxyPSExKXtyJiYodD1JKHQsLTEsdGhpcy5kaW0pLGU9SShlLC0xLHRoaXMuZGltKSk7Y29uc3Qgbj10aGlzLl9pZHgodCxlKTtyZXR1cm4gdGhpcy5mbG9hdFZpZXdbbl19c2V0KHQsZSxyKXtjb25zdCBuPXRoaXMuX2lkeCh0LGUpLGk9dGhpcy5mbG9hdFZpZXdbbl07cmV0dXJuIHRoaXMuZmxvYXRWaWV3W25dPXIsci1pfXN0YXRpYyBnZXRVbnBhY2tWZWN0b3IodCl7cmV0dXJuIFhmW3RdfV9pZHgodCxlKXtpZih0PC0xfHx0Pj10aGlzLmRpbSsxfHxlPC0xfHxlPj10aGlzLmRpbSsxKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGFcIik7cmV0dXJuIChlKzEpKnRoaXMuc3RyaWRlKyh0KzEpfXN0YXRpYyBwYWNrKHQsZSl7Y29uc3Qgcj1bMCwwLDAsMF0sbj1IZi5nZXRVbnBhY2tWZWN0b3IoZSk7bGV0IGk9TWF0aC5mbG9vcigodCtuWzNdKS9uWzJdKTtyZXR1cm4gclsyXT1pJTI1NixpPU1hdGguZmxvb3IoaS8yNTYpLHJbMV09aSUyNTYsaT1NYXRoLmZsb29yKGkvMjU2KSxyWzBdPWkscn1nZXRQaXhlbHMoKXtyZXR1cm4gbmV3IF9wKHt3aWR0aDp0aGlzLnN0cmlkZSxoZWlnaHQ6dGhpcy5zdHJpZGV9LHRoaXMucGl4ZWxzKX1iYWNrZmlsbEJvcmRlcih0LGUscil7aWYodGhpcy5kaW0hPT10LmRpbSl0aHJvdyBuZXcgRXJyb3IoXCJkZW0gZGltZW5zaW9uIG1pc21hdGNoXCIpO2xldCBuPWUqdGhpcy5kaW0saT1lKnRoaXMuZGltK3RoaXMuZGltLGE9cip0aGlzLmRpbSxzPXIqdGhpcy5kaW0rdGhpcy5kaW07c3dpdGNoKGUpe2Nhc2UtMTpuPWktMTticmVhaztjYXNlIDE6aT1uKzE7fXN3aXRjaChyKXtjYXNlLTE6YT1zLTE7YnJlYWs7Y2FzZSAxOnM9YSsxO31jb25zdCBvPS1lKnRoaXMuZGltLGw9LXIqdGhpcy5kaW07Zm9yKGxldCBlPWE7ZTxzO2UrKylmb3IobGV0IHI9bjtyPGk7cisrKXtjb25zdCBuPTQqdGhpcy5faWR4KHIsZSksaT00KnRoaXMuX2lkeChyK28sZStsKTt0aGlzLnBpeGVsc1tuKzBdPXQucGl4ZWxzW2krMF0sdGhpcy5waXhlbHNbbisxXT10LnBpeGVsc1tpKzFdLHRoaXMucGl4ZWxzW24rMl09dC5waXhlbHNbaSsyXSx0aGlzLnBpeGVsc1tuKzNdPXQucGl4ZWxzW2krM107fX1vbkRlc2VyaWFsaXplKCl7dGhpcy5fdHJlZSYmKHRoaXMuX3RyZWUuZGVtPXRoaXMpO319cmEoSGYsXCJERU1EYXRhXCIpLHJhKCRmLFwiRGVtTWluTWF4UXVhZFRyZWVcIix7b21pdDpbXCJkZW1cIl19KTtjbGFzcyBXZntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5fZGVtVGlsZT10LHRoaXMuX2RlbT10aGlzLl9kZW1UaWxlLmRlbSx0aGlzLl9zY2FsZT1lLHRoaXMuX29mZnNldD1yO31zdGF0aWMgY3JlYXRlKHQsZSxyKXtjb25zdCBuPXJ8fHQuZmluZERFTVRpbGVGb3IoZSk7aWYoIW58fCFuLmRlbSlyZXR1cm47Y29uc3QgaT1uLmRlbSxhPW4udGlsZUlELHM9MTw8ZS5jYW5vbmljYWwuei1hLmNhbm9uaWNhbC56O3JldHVybiBuZXcgV2YobixpLmRpbS9Uci9zLFsoZS5jYW5vbmljYWwueC9zLWEuY2Fub25pY2FsLngpKmkuZGltLChlLmNhbm9uaWNhbC55L3MtYS5jYW5vbmljYWwueSkqaS5kaW1dKX10aWxlQ29vcmRUb1BpeGVsKHQsZSl7Y29uc3Qgcj1lKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxuPU1hdGguZmxvb3IodCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0pLGk9TWF0aC5mbG9vcihyKTtyZXR1cm4gbmV3IGcobixpKX1nZXRFbGV2YXRpb25BdCh0LGUscixuKXtjb25zdCBpPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdLGE9ZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0scz1NYXRoLmZsb29yKGkpLG89TWF0aC5mbG9vcihhKSxsPXRoaXMuX2RlbTtyZXR1cm4gbj0hIW4scj91ZSh1ZShsLmdldChzLG8sbiksbC5nZXQocyxvKzEsbiksYS1vKSx1ZShsLmdldChzKzEsbyxuKSxsLmdldChzKzEsbysxLG4pLGEtbyksaS1zKTpsLmdldChzLG8sbil9Z2V0RWxldmF0aW9uQXRQaXhlbCh0LGUscil7cmV0dXJuIHRoaXMuX2RlbS5nZXQodCxlLCEhcil9Z2V0TWV0ZXJUb0RFTSh0KXtyZXR1cm4gKDE8PHRoaXMuX2RlbVRpbGUudGlsZUlELmNhbm9uaWNhbC56KSpkbCgxLHQpKnRoaXMuX2RlbS5zdHJpZGV9fWNvbnN0IEpmPXpmLnR5cGVzLFFmPVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIixcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiLFwiZmlsbC1leHRydXNpb24tY29sb3JcIixcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIixcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LXdhbGwtcmFkaXVzXCJdLHRkPVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIl0sZWQ9TWF0aC5wb3coMiwxMykscmQ9TWF0aC5wb3coMiwxNSktMSxuZD1uZXcgZygwLDEpLGlkPTIxNDc0ODM2NDg7ZnVuY3Rpb24gYWQodCxlLHIsbixpLGEscyxvKXt0LmVtcGxhY2VCYWNrKChlPDwxKStzLChyPDwxKSthLChNYXRoLmZsb29yKG4qZWQpPDwxKStpLE1hdGgucm91bmQobykpO31mdW5jdGlvbiBzZCh0LGUscixuLGksYSl7dC5lbXBsYWNlQmFjayhlLngsZS55LChyLng8PDEpK24sKHIueTw8MSkraSxhKTt9ZnVuY3Rpb24gb2QodCxlLHIpe2NvbnN0IG49MTYzODQ7dC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyWzBdKm4sclsxXSpuLHJbMl0qbik7fWNsYXNzIGxke2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJ0ZXhPZmZzZXQ9MCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleE9mZnNldD0wLHRoaXMuaW5kZXhDb3VudD0wO319Y2xhc3MgdWR7Y29uc3RydWN0b3IoKXt0aGlzLmNlbnRyb2lkWFk9bmV3IGcoMCwwKSx0aGlzLnZlcnRleEFycmF5T2Zmc2V0PTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuZ3JvdW5kVmVydGV4QXJyYXlPZmZzZXQ9MCx0aGlzLmdyb3VuZFZlcnRleENvdW50PTAsdGhpcy5mbGFncz0wLHRoaXMuZm9vdHByaW50U2VnSWR4PS0xLHRoaXMuZm9vdHByaW50U2VnTGVuPTAsdGhpcy5wb2x5Z29uU2VnSWR4PS0xLHRoaXMucG9seWdvblNlZ0xlbj0wLHRoaXMubWluPW5ldyBnKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5tYXg9bmV3IGcoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpLHRoaXMuaGVpZ2h0PTA7fXNwYW4oKXtyZXR1cm4gbmV3IGcodGhpcy5tYXgueC10aGlzLm1pbi54LHRoaXMubWF4LnktdGhpcy5taW4ueSl9fWNsYXNzIGNke2NvbnN0cnVjdG9yKCl7dGhpcy5hY2M9bmV3IGcoMCwwKSx0aGlzLmFjY0NvdW50PTAsdGhpcy5jZW50cm9pZERhdGFJbmRleD0wO31zdGFydFJpbmcodCxlKXt0Lm1pbi54PT09TnVtYmVyLk1BWF9WQUxVRSYmKHQubWluLng9dC5tYXgueD1lLngsdC5taW4ueT10Lm1heC55PWUueSk7fWFwcGVuZEVkZ2UodCxlLHIpe3RoaXMuYWNjQ291bnQrKyx0aGlzLmFjYy5fYWRkKGUpO2xldCBuPSEhdGhpcy5ib3JkZXJzO2UueDx0Lm1pbi54Pyh0Lm1pbi54PWUueCxuPSEwKTplLng+dC5tYXgueCYmKHQubWF4Lng9ZS54LG49ITApLGUueTx0Lm1pbi55Pyh0Lm1pbi55PWUueSxuPSEwKTplLnk+dC5tYXgueSYmKHQubWF4Lnk9ZS55LG49ITApLCgoMD09PWUueHx8ZS54PT09VHIpJiZlLng9PT1yLngpIT0oKDA9PT1lLnl8fGUueT09PVRyKSYmZS55PT09ci55KSYmdGhpcy5wcm9jZXNzQm9yZGVyT3ZlcmxhcChlLHIpLG4mJnRoaXMuY2hlY2tCb3JkZXJJbnRlcnNlY3Rpb24oZSxyKTt9Y2hlY2tCb3JkZXJJbnRlcnNlY3Rpb24odCxlKXtlLng8MCE9dC54PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDAsdWUoZS55LHQueSwoMC1lLngpLyh0LngtZS54KSkpLGUueD5UciE9dC54PlRyJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigxLHVlKGUueSx0LnksKFRyLWUueCkvKHQueC1lLngpKSksZS55PDAhPXQueTwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigyLHVlKGUueCx0LngsKDAtZS55KS8odC55LWUueSkpKSxlLnk+VHIhPXQueT5UciYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMyx1ZShlLngsdC54LChUci1lLnkpLyh0LnktZS55KSkpO31hZGRCb3JkZXJJbnRlcnNlY3Rpb24odCxlKXt0aGlzLmJvcmRlcnN8fCh0aGlzLmJvcmRlcnM9W1tOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXV0pO2NvbnN0IHI9dGhpcy5ib3JkZXJzW3RdO2U8clswXSYmKHJbMF09ZSksZT5yWzFdJiYoclsxXT1lKTt9cHJvY2Vzc0JvcmRlck92ZXJsYXAodCxlKXtpZih0Lng9PT1lLngpe2lmKHQueT09PWUueSlyZXR1cm47Y29uc3Qgcj0wPT09dC54PzA6MTt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLGUueSksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocix0LnkpO31lbHNlIHtjb25zdCByPTA9PT10Lnk/MjozO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKHIsZS54KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLHQueCk7fX1jZW50cm9pZCgpe3JldHVybiAwPT09dGhpcy5hY2NDb3VudD9uZXcgZygwLDApOm5ldyBnKE1hdGguZmxvb3IoTWF0aC5tYXgoMCx0aGlzLmFjYy54KS90aGlzLmFjY0NvdW50KSxNYXRoLmZsb29yKE1hdGgubWF4KDAsdGhpcy5hY2MueSkvdGhpcy5hY2NDb3VudCkpfWludGVyc2VjdHNDb3VudCgpe3JldHVybiB0aGlzLmJvcmRlcnM/dGhpcy5ib3JkZXJzLnJlZHVjZSgoKHQsZSk9PnQrICsoZVswXSE9PU51bWJlci5NQVhfVkFMVUUpKSwwKTowfX1mdW5jdGlvbiBoZCh0LGUpe2NvbnN0IHI9dC5hZGQoZSkuX3VuaXQoKSxuPUkodC54KnIueCt0Lnkqci55LC0xLDEpO3ZhciBpLGEscztyZXR1cm4gaT1NYXRoLmFjb3MobiksTWF0aC5taW4oNCxNYXRoLm1heCgtNCxNYXRoLnRhbihpKSkpLzQqcmQqKChhPXQpLngqKHM9ZSkueS1hLnkqcy54PDA/LTE6MSl9Y29uc3QgcGQ9W3Q9PnQueDwwLHQ9PnQueD5Ucix0PT50Lnk8MCx0PT50Lnk+VHJdO2Z1bmN0aW9uIGZkKHQsZSxyLG4pe2NvbnN0IGk9WzRdO2lmKDA9PT1uKXJldHVybiBpO3IuX211bHQobik7Y29uc3QgYT10LnN1YihyKSxzPWUuc3ViKHIpLG89W3QsZSxhLHNdO2ZvcihsZXQgdD0wO3Q8NDt0KyspZm9yKGNvbnN0IGUgb2YgbylpZihwZFt0XShlKSl7aS5wdXNoKHQpO2JyZWFrfXJldHVybiBpfWNsYXNzIGRke2NvbnN0cnVjdG9yKHQpe3RoaXMudmVydGV4QXJyYXk9bmV3IG1zLHRoaXMuaW5kZXhBcnJheT1uZXcgRXMsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFZvKHQubGF5ZXJzLHQuem9vbSwodD0+dGQuaW5jbHVkZXModCkpKSx0aGlzLl9zZWdtZW50cz1uZXcgZW8sdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXk9bmV3IFVzLHRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzPXt9LHRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzWzBdPVtdLHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50cz17fSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbMF09WzAsMCwwLDAsMF0sdGhpcy5yZWdpb25TZWdtZW50cz17fSx0aGlzLnJlZ2lvblNlZ21lbnRzWzRdPW5ldyBlbzt9Z2V0RGVmYXVsdFNlZ21lbnQoKXtyZXR1cm4gdGhpcy5yZWdpb25TZWdtZW50c1s0XX1oYXNEYXRhKCl7cmV0dXJuIDAhPT10aGlzLnZlcnRleEFycmF5Lmxlbmd0aH1hZGREYXRhKHQsZSxyLG49ITEpe2NvbnN0IGk9dC5sZW5ndGg7aWYoaT4yKXtsZXQgYT1NYXRoLm1heCgwLHRoaXMuX3NlZ21lbnRzLmdldCgpLmxlbmd0aC0xKTtjb25zdCBzPXRoaXMuX3NlZ21lbnRzLl9wcmVwYXJlU2VnbWVudCg0KmksdGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGgsMip0aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1thXS5sZW5ndGgpO2xldCBvO2EhPT10aGlzLl9zZWdtZW50cy5nZXQoKS5sZW5ndGgtMSYmKGErKyx0aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1thXT1bXSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbYV09WzAsMCwwLDAsMF0pO3tjb25zdCBlPXRbMF0scj10WzFdO289aGQoZS5zdWIodFtpLTFdKS5fcGVycCgpLl91bml0KCksci5zdWIoZSkuX3BlcnAoKS5fdW5pdCgpKTt9Zm9yKGxldCBsPTA7bDxpO2wrKyl7Y29uc3QgdT1sPT09aS0xPzA6bCsxLGM9dFtsXSxoPXRbdV0scD10W3U9PT1pLTE/MDp1KzFdLGY9aC5zdWIoYykuX3BlcnAoKS5fdW5pdCgpLGQ9aGQoZixwLnN1YihoKS5fcGVycCgpLl91bml0KCkpLG09byx5PWQ7aWYodmQoYyxoLGUpfHxuJiZiZChjLGUpJiZiZChoLGUpKXtvPWQ7Y29udGludWV9Y29uc3QgZz1zLnZlcnRleExlbmd0aDtzZCh0aGlzLnZlcnRleEFycmF5LGMsaCwxLDEsbSksc2QodGhpcy52ZXJ0ZXhBcnJheSxjLGgsMSwwLG0pLHNkKHRoaXMudmVydGV4QXJyYXksYyxoLDAsMSx5KSxzZCh0aGlzLnZlcnRleEFycmF5LGMsaCwwLDAseSkscy52ZXJ0ZXhMZW5ndGgrPTQ7Y29uc3QgeD1mZChjLGgsZixyKTtmb3IoY29uc3QgdCBvZiB4KXRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzW2FdLnB1c2goe2lkOmcscmVnaW9uOnR9KSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbYV1bdF0rPTIscy5wcmltaXRpdmVMZW5ndGgrPTI7bz1kO319fXByZXBhcmVCb3JkZXJTZWdtZW50cygpe2lmKCF0aGlzLmhhc0RhdGEoKSlyZXR1cm47Y29uc3QgdD10aGlzLl9zZWdtZW50cy5nZXQoKSxlPXQubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8ZTt0KyspdGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHNbdF0uc29ydCgoKHQsZSk9PnQucmVnaW9uLWUucmVnaW9uKSk7Zm9yKGxldCByPTA7cjxlO3IrKyl7Y29uc3QgZT10aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1tyXSxuPXRbcl0saT10aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbcl07aS5yZWR1Y2UoKCh0LGUpPT50K2UpLDApO2xldCBhPTA7Zm9yKGxldCB0PTA7dDw9NDt0Kyspe2NvbnN0IGU9aVt0XTtpZigwIT09ZSl7bGV0IHI9dGhpcy5yZWdpb25TZWdtZW50c1t0XTtyfHwocj10aGlzLnJlZ2lvblNlZ21lbnRzW3RdPW5ldyBlbyk7Y29uc3QgaT17dmVydGV4T2Zmc2V0Om4udmVydGV4T2Zmc2V0LHByaW1pdGl2ZU9mZnNldDpuLnByaW1pdGl2ZU9mZnNldCthLHZlcnRleExlbmd0aDpuLnZlcnRleExlbmd0aCxwcmltaXRpdmVMZW5ndGg6ZX07ci5nZXQoKS5wdXNoKGkpO31hKz1lO31mb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgcj1lW3RdLmlkO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLHIrMSxyKzMpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLHIrMyxyKzIpO319dGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHM9bnVsbCx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHM9bnVsbCx0aGlzLl9zZWdtZW50cy5kZXN0cm95KCksdGhpcy5fc2VnbWVudHM9bnVsbDt9YWRkUGFpbnRQcm9wZXJ0aWVzRGF0YSh0LGUscixuLGksYSl7dGhpcy5oYXNEYXRhKCkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGgsdCxlLHIsbixpLGEpO311cGxvYWQodCl7dGhpcy5oYXNEYXRhKCkmJih0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnZlcnRleEFycmF5LHBmLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKTt9dXBsb2FkUGFpbnRQcm9wZXJ0aWVzKHQpe3RoaXMuaGFzRGF0YSgpJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCk7fXVwZGF0ZSh0LGUscixuLGksYSl7dGhpcy5oYXNEYXRhKCkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSxyLG4saSxhKTt9dXBkYXRlSGlkZGVuQnlMYW5kbWFyayh0KXtpZighdGhpcy5oYXNEYXRhKCkpcmV0dXJuO2NvbnN0IGU9dC5ncm91bmRWZXJ0ZXhDb3VudCt0Lmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0O2lmKDA9PT10Lmdyb3VuZFZlcnRleENvdW50KXJldHVybjtjb25zdCByPXQuZmxhZ3MmaWQ/MTowO2ZvcihsZXQgbj10Lmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0O248ZTsrK24pdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkuZW1wbGFjZShuLHIpO3RoaXMuX25lZWRzSGlkZGVuQnlMYW5kbWFya1VwZGF0ZT0hMDt9dXBsb2FkSGlkZGVuQnlMYW5kbWFyayh0KXt0aGlzLmhhc0RhdGEoKSYmdGhpcy5fbmVlZHNIaWRkZW5CeUxhbmRtYXJrVXBkYXRlJiYoIXRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkubGVuZ3RoPjA/dGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEFycmF5LGRmLm1lbWJlcnMsITApOnRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkpLHRoaXMuX25lZWRzSGlkZGVuQnlMYW5kbWFya1VwZGF0ZT0hMSk7fWRlc3Ryb3koKXtpZih0aGlzLnZlcnRleEJ1ZmZlcil7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9zZWdtZW50cyYmdGhpcy5fc2VnbWVudHMuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKTtmb3IobGV0IHQ9MDt0PD00O3QrKyl7Y29uc3QgZT10aGlzLnJlZ2lvblNlZ21lbnRzW3RdO2UmJmUuZGVzdHJveSgpO319fX1jbGFzcyBtZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnpvb209dC56b29tLHRoaXMuY2Fub25pY2FsPXQuY2Fub25pY2FsLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgodD0+dC5mcWlkKSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmVkZ2VSYWRpdXM9MCx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHRoaXMuYWN0aXZlUmVwbGFjZW1lbnRzPVtdLHRoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lPTAsdGhpcy5jZW50cm9pZERhdGE9W10sdGhpcy5mb290cHJpbnRJbmRpY2VzPW5ldyBFcyx0aGlzLmZvb3RwcmludFZlcnRpY2VzPW5ldyBwcyx0aGlzLmZvb3RwcmludFNlZ21lbnRzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGRzLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheT1uZXcgSnMsdGhpcy5pbmRleEFycmF5PW5ldyBFcyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgVm8odC5sYXllcnMsdC56b29tLCh0PT5RZi5pbmNsdWRlcyh0KSkpLHRoaXMuc2VnbWVudHM9bmV3IGVvLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5ncm91bmRFZmZlY3Q9bmV3IGRkKHQpLHRoaXMubWF4SGVpZ2h0PTAsdGhpcy5wYXJ0TG9va3VwPXt9LHRoaXMudHJpYW5nbGVTdWJTZWdtZW50cz1bXSx0aGlzLnBvbHlnb25TZWdtZW50cz1bXTt9cG9wdWxhdGUodCxlLHIsbil7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49c2YoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLGUpLHRoaXMuZmVhdHVyZXNPbkJvcmRlcj1bXSx0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzPVtbXSxbXSxbXSxbXV0sdGhpcy5ib3JkZXJEb25lV2l0aE5laWdoYm9yWj1bLTEsLTEsLTEsLTFdLHRoaXMudGlsZVRvTWV0ZXI9d2wociksdGhpcy5lZGdlUmFkaXVzPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKS90aGlzLnRpbGVUb01ldGVyO2Zvcihjb25zdHtmZWF0dXJlOmksaWQ6YSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6b31vZiB0KXtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxsPUJsKGksdCk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgUGEodGhpcy56b29tKSxsLHIpKWNvbnRpbnVlO2NvbnN0IHU9e2lkOmEsc291cmNlTGF5ZXJJbmRleDpvLGluZGV4OnMsZ2VvbWV0cnk6dD9sLmdlb21ldHJ5OlRsKGkscixuKSxwcm9wZXJ0aWVzOmkucHJvcGVydGllcyx0eXBlOmkudHlwZSxwYXR0ZXJuczp7fX0sYz10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmhhc1BhdHRlcm4/dGhpcy5mZWF0dXJlcy5wdXNoKG9mKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyx1LHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKHUsdS5nZW9tZXRyeSxzLHIse30sZS5hdmFpbGFibGVJbWFnZXMsbixlLmJyaWdodG5lc3MpLGUuZmVhdHVyZUluZGV4Lmluc2VydChpLHUuZ2VvbWV0cnkscyxvLHRoaXMuaW5kZXgsYyk7fXRoaXMuc29ydEJvcmRlcnMoKSxcIm1lcmNhdG9yXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5zcGxpdFRvU3VidGlsZXMoKSx0aGlzLmdyb3VuZEVmZmVjdC5wcmVwYXJlQm9yZGVyU2VnbWVudHMoKSx0aGlzLnBvbHlnb25TZWdtZW50cy5sZW5ndGg9MDt9YWRkRmVhdHVyZXModCxlLHIsbixpLGEpe2Zvcihjb25zdCB0IG9mIHRoaXMuZmVhdHVyZXMpe2NvbnN0e2dlb21ldHJ5OnN9PXQ7dGhpcy5hZGRGZWF0dXJlKHQscyx0LmluZGV4LGUscixuLGksYSk7fXRoaXMuc29ydEJvcmRlcnMoKSxcIm1lcmNhdG9yXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5zcGxpdFRvU3VidGlsZXMoKTt9dXBkYXRlKHQsZSxyLG4saSl7Y29uc3QgYT0wIT09T2JqZWN0LmtleXModCkubGVuZ3RoO2lmKGEmJiF0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aClyZXR1cm47Y29uc3Qgcz1hP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnM7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHMscixuLGkpLHRoaXMuZ3JvdW5kRWZmZWN0LnVwZGF0ZSh0LGUscyxyLG4saSk7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfHx0aGlzLmdyb3VuZEVmZmVjdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHlmKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxtZi5tZW1iZXJzLCEwKSksdGhpcy5ncm91bmRFZmZlY3QudXBsb2FkKHQpKSx0aGlzLmdyb3VuZEVmZmVjdC51cGxvYWRQYWludFByb3BlcnRpZXModCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fXVwbG9hZENlbnRyb2lkKHQpe3RoaXMuZ3JvdW5kRWZmZWN0LnVwbG9hZEhpZGRlbkJ5TGFuZG1hcmsodCksdGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlJiYoIXRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJnRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg+MD90aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSxmZi5tZW1iZXJzLCEwKTp0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5jZW50cm9pZFZlcnRleEFycmF5KSx0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITEpO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlciYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXImJnRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmdyb3VuZEVmZmVjdC5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9YWRkRmVhdHVyZSh0LGUscixuLGksYSxzLG8pe2NvbnN0IGw9dGhpcy5sYXllcnNbMF0ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LHt9KS90aGlzLnRpbGVUb01ldGVyLHU9W25ldyBnKDAsMCksbmV3IGcoVHIsVHIpXSxjPXMucHJvamVjdGlvbixoPVwiZ2xvYmVcIj09PWMubmFtZSxwPVwiUG9seWdvblwiPT09SmZbdC50eXBlXSxmPW5ldyBjZDtmLmNlbnRyb2lkRGF0YUluZGV4PXRoaXMuY2VudHJvaWREYXRhLmxlbmd0aDtjb25zdCBkPW5ldyB1ZCxtPXRoaXMubGF5ZXJzWzBdLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWJhc2VcIikuZXZhbHVhdGUodCx7fSxuKTw9MCx5PXRoaXMubGF5ZXJzWzBdLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiKS5ldmFsdWF0ZSh0LHt9LG4pO2QuaGVpZ2h0PXksZC52ZXJ0ZXhBcnJheU9mZnNldD10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxkLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0PXRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aCxoJiYhdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXk9bmV3IGJzKTtjb25zdCB4PW5mKGUsNTAwKTtmb3IobGV0IHQ9eC5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3QgZT14W3RdOygwPT09ZS5sZW5ndGh8fCh2PWVbMF0pLmV2ZXJ5KCh0PT50Lng8PTApKXx8di5ldmVyeSgodD0+dC54Pj1UcikpfHx2LmV2ZXJ5KCh0PT50Lnk8PTApKXx8di5ldmVyeSgodD0+dC55Pj1UcikpKSYmeC5zcGxpY2UodCwxKTt9dmFyIHY7bGV0IGI7aWYoaCliPUFkKHgsdSxuKTtlbHNlIHtiPVtdO2Zvcihjb25zdCB0IG9mIHgpYi5wdXNoKHtwb2x5Z29uOnQsYm91bmRzOnV9KTt9Y29uc3QgXz1wP3RoaXMuZWRnZVJhZGl1czowLHc9Xz4wJiZ0aGlzLnpvb208MTcsTT0odCxlKT0+e2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gITE7Y29uc3Qgcj10W3QubGVuZ3RoLTFdO3JldHVybiBlLng9PT1yLngmJmUueT09PXIueX07Zm9yKGNvbnN0e3BvbHlnb246dCxib3VuZHM6ZX1vZiBiKXtsZXQgcj0wLGk9MDtmb3IoY29uc3QgZSBvZiB0KXAmJiFlWzBdLmVxdWFscyhlW2UubGVuZ3RoLTFdKSYmZS5wdXNoKGVbMF0pLGkrPXA/ZS5sZW5ndGgtMTplLmxlbmd0aDtjb25zdCBhPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoKHA/NTo0KSppLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtkLmZvb3RwcmludFNlZ0lkeDwwJiYoZC5mb290cHJpbnRTZWdJZHg9dGhpcy5mb290cHJpbnRTZWdtZW50cy5sZW5ndGgpLGQucG9seWdvblNlZ0lkeDwwJiYoZC5wb2x5Z29uU2VnSWR4PXRoaXMucG9seWdvblNlZ21lbnRzLmxlbmd0aCk7Y29uc3Qgcz17dHJpYW5nbGVBcnJheU9mZnNldDp0aGlzLmluZGV4QXJyYXkubGVuZ3RoLHRyaWFuZ2xlQ291bnQ6MCx0cmlhbmdsZVNlZ0lkeDp0aGlzLnNlZ21lbnRzLnNlZ21lbnRzLmxlbmd0aC0xfSxvPW5ldyBsZDtpZihvLnZlcnRleE9mZnNldD10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aCxvLmluZGV4T2Zmc2V0PTMqdGhpcy5mb290cHJpbnRJbmRpY2VzLmxlbmd0aCxvLnJpbmdJbmRpY2VzPVtdLHApe2NvbnN0IGk9W10scz1bXTtyPWEudmVydGV4TGVuZ3RoO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCB1PXRbcl07dS5sZW5ndGgmJjAhPT1yJiZzLnB1c2goaS5sZW5ndGgvMik7Y29uc3QgcD1bXTtsZXQgZixkO2Y9dVsxXS5zdWIodVswXSkuX3BlcnAoKS5fdW5pdCgpLG8ucmluZ0luZGljZXMucHVzaCh1Lmxlbmd0aC0xKTtmb3IobGV0IHQ9MTt0PHUubGVuZ3RoO3QrKyl7Y29uc3QgZT11W3RdLHI9dVt0PT09dS5sZW5ndGgtMT8xOnQrMV0scz1lLmNsb25lKCk7aWYoXyl7ZD1yLnN1YihlKS5fcGVycCgpLl91bml0KCk7Y29uc3QgdD1mLmFkZChkKS5fdW5pdCgpLG49XypNYXRoLm1pbig0LDEvKGYueCp0LngrZi55KnQueSkpO3MueCs9bip0Lngscy55Kz1uKnQueSxzLng9TWF0aC5yb3VuZChzLngpLHMueT1NYXRoLnJvdW5kKHMueSksZj1kO30hbXx8MCE9PV8mJiF3fHxNKHAscyl8fHAucHVzaChzKSxhZCh0aGlzLmxheW91dFZlcnRleEFycmF5LHMueCxzLnksMCwwLDEsMSwwKSxhLnZlcnRleExlbmd0aCsrLHRoaXMuZm9vdHByaW50VmVydGljZXMuZW1wbGFjZUJhY2soZS54LGUueSksaS5wdXNoKGUueCxlLnkpLGgmJm9kKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksYy5wcm9qZWN0VGlsZVBvaW50KHMueCxzLnksbiksYy51cFZlY3RvcihuLHMueCxzLnkpKTt9bSYmKDA9PT1ffHx3KSYmKDAhPT1wLmxlbmd0aCYmTShwLHBbMF0pJiZwLnBvcCgpLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZERhdGEocCxlLGwpKTt9Y29uc3QgdT1yZihpLHMpO2ZvcihsZXQgdD0wO3Q8dS5sZW5ndGg7dCs9Myl0aGlzLmZvb3RwcmludEluZGljZXMuZW1wbGFjZUJhY2soby52ZXJ0ZXhPZmZzZXQrdVt0KzBdLG8udmVydGV4T2Zmc2V0K3VbdCsxXSxvLnZlcnRleE9mZnNldCt1W3QrMl0pLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhyK3VbdF0scit1W3QrMl0scit1W3QrMV0pLGEucHJpbWl0aXZlTGVuZ3RoKys7by5pbmRleENvdW50Kz11Lmxlbmd0aCxvLnZlcnRleENvdW50Kz10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aC1vLnZlcnRleE9mZnNldDt9Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtmLnN0YXJ0UmluZyhkLHNbMF0pO2xldCBvPXMubGVuZ3RoPjQmJl9kKHNbcy5sZW5ndGgtMl0sc1swXSxzWzFdKSx1PV8/Z2Qoc1tzLmxlbmd0aC0yXSxzWzBdLHNbMV0sXyk6MDtjb25zdCB5PVtdO2xldCBnLHgsdjt4PXNbMV0uc3ViKHNbMF0pLl9wZXJwKCkuX3VuaXQoKTtsZXQgYj0hMDtmb3IobGV0IHQ9MSxpPTA7dDxzLmxlbmd0aDt0Kyspe2xldCBsPXNbdC0xXSxwPXNbdF07Y29uc3Qgdz1zW3Q9PT1zLmxlbmd0aC0xPzE6dCsxXTtpZihmLmFwcGVuZEVkZ2UoZCxwLGwpLHZkKHAsbCxlKSl7XyYmKHg9dy5zdWIocCkuX3BlcnAoKS5fdW5pdCgpLGI9IWIpO2NvbnRpbnVlfWNvbnN0IEE9cC5zdWIobCkuX3BlcnAoKSxTPUEueC8oTWF0aC5hYnMoQS54KStNYXRoLmFicyhBLnkpKSxJPUEueT4wPzE6MCxrPWwuZGlzdChwKTtpZihpK2s+MzI3NjgmJihpPTApLF8pe3Y9dy5zdWIocCkuX3BlcnAoKS5fdW5pdCgpO2xldCB0PXhkKGwscCx3LHlkKHgsdiksXyk7aXNOYU4odCkmJih0PTApO2NvbnN0IGU9cC5zdWIobCkuX3VuaXQoKTtsPWwuYWRkKGUubXVsdCh1KSkuX3JvdW5kKCkscD1wLmFkZChlLm11bHQoLXQpKS5fcm91bmQoKSx1PXQseD12LG0mJnRoaXMuem9vbT49MTcmJihNKHksbCl8fHkucHVzaChsKSxNKHkscCl8fHkucHVzaChwKSk7fWNvbnN0IFA9YS52ZXJ0ZXhMZW5ndGgsRT1zLmxlbmd0aD40JiZfZChsLHAsdyk7bGV0IHo9d2QoaSxvLGIpO2lmKGFkKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxTLEksMCwwLHopLGFkKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxTLEksMCwxLHopLGkrPWssej13ZChpLEUsIWIpLG89RSxhZCh0aGlzLmxheW91dFZlcnRleEFycmF5LHAueCxwLnksUyxJLDAsMCx6KSxhZCh0aGlzLmxheW91dFZlcnRleEFycmF5LHAueCxwLnksUyxJLDAsMSx6KSxhLnZlcnRleExlbmd0aCs9NCx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUCswLFArMSxQKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhQKzEsUCszLFArMiksYS5wcmltaXRpdmVMZW5ndGgrPTIsXyl7Y29uc3Qgbj1yKygxPT09dD9zLmxlbmd0aC0yOnQtMiksaT0xPT09dD9yOm4rMTtpZih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUCsxLG4sUCszKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobixpLFArMyksYS5wcmltaXRpdmVMZW5ndGgrPTIsdm9pZCAwPT09ZyYmKGc9UCksIXZkKHcsc1t0XSxlKSl7Y29uc3QgZT10PT09cy5sZW5ndGgtMT9nOmEudmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhQKzIsUCszLGUpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhQKzMsZSsxLGUpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhQKzMsaSxlKzEpLGEucHJpbWl0aXZlTGVuZ3RoKz0zO31iPSFiO31pZihoKXtjb25zdCB0PXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksZT1jLnByb2plY3RUaWxlUG9pbnQobC54LGwueSxuKSxyPWMucHJvamVjdFRpbGVQb2ludChwLngscC55LG4pLGk9Yy51cFZlY3RvcihuLGwueCxsLnkpLGE9Yy51cFZlY3RvcihuLHAueCxwLnkpO29kKHQsZSxpKSxvZCh0LGUsaSksb2QodCxyLGEpLG9kKHQscixhKTt9fXAmJihyKz1zLmxlbmd0aC0xKSxtJiZfJiZ0aGlzLnpvb20+PTE3JiYoMCE9PXkubGVuZ3RoJiZNKHkseVswXSkmJnkucG9wKCksdGhpcy5ncm91bmRFZmZlY3QuYWRkRGF0YSh5LGUsbCxfPjApKTt9dGhpcy5mb290cHJpbnRTZWdtZW50cy5wdXNoKG8pLHMudHJpYW5nbGVDb3VudD10aGlzLmluZGV4QXJyYXkubGVuZ3RoLXMudHJpYW5nbGVBcnJheU9mZnNldCx0aGlzLnBvbHlnb25TZWdtZW50cy5wdXNoKHMpLCsrZC5mb290cHJpbnRTZWdMZW4sKytkLnBvbHlnb25TZWdMZW47fWlmKGQudmVydGV4Q291bnQ9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgtZC52ZXJ0ZXhBcnJheU9mZnNldCxkLmdyb3VuZFZlcnRleENvdW50PXRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aC1kLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0LDAhPT1kLnZlcnRleENvdW50KXtpZihkLmNlbnRyb2lkWFk9Zi5ib3JkZXJzP25kOnRoaXMuZW5jb2RlQ2VudHJvaWQoZixkKSx0aGlzLmNlbnRyb2lkRGF0YS5wdXNoKGQpLGYuYm9yZGVycyl7dGhpcy5mZWF0dXJlc09uQm9yZGVyLnB1c2goZik7Y29uc3QgdD10aGlzLmZlYXR1cmVzT25Cb3JkZXIubGVuZ3RoLTE7Zm9yKGxldCBlPTA7ZTxmLmJvcmRlcnMubGVuZ3RoO2UrKylmLmJvcmRlcnNbZV1bMF0hPT1OdW1iZXIuTUFYX1ZBTFVFJiZ0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW2VdLnB1c2godCk7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGksYSxuLG8pLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZFBhaW50UHJvcGVydGllc0RhdGEodCxyLGksYSxuLG8pLHRoaXMubWF4SGVpZ2h0PU1hdGgubWF4KHRoaXMubWF4SGVpZ2h0LHkpO319c29ydEJvcmRlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMuYm9yZGVyRmVhdHVyZUluZGljZXMubGVuZ3RoO3QrKyl0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW3RdLnNvcnQoKChlLHIpPT50aGlzLmZlYXR1cmVzT25Cb3JkZXJbZV0uYm9yZGVyc1t0XVswXS10aGlzLmZlYXR1cmVzT25Cb3JkZXJbcl0uYm9yZGVyc1t0XVswXSkpO31zcGxpdFRvU3VidGlsZXMoKXtjb25zdCB0PVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5jZW50cm9pZERhdGEubGVuZ3RoO2UrKyl7Y29uc3Qgcj10aGlzLmNlbnRyb2lkRGF0YVtlXSxuPSsoci5taW4ueStyLm1heC55PlRyKSxpPTIqbisoKyhyLm1pbi54K3IubWF4Lng+VHIpXm4pO2ZvcihsZXQgbj0wO248ci5wb2x5Z29uU2VnTGVuO24rKyl7Y29uc3QgYT1yLnBvbHlnb25TZWdJZHgrbjt0LnB1c2goe2NlbnRyb2lkSWR4OmUsc3VidGlsZTppLHBvbHlnb25TZWdtZW50SWR4OmEsdHJpYW5nbGVTZWdtZW50SWR4OnRoaXMucG9seWdvblNlZ21lbnRzW2FdLnRyaWFuZ2xlU2VnSWR4fSk7fX1jb25zdCBlPW5ldyBFczt0LnNvcnQoKCh0LGUpPT50LnRyaWFuZ2xlU2VnbWVudElkeD09PWUudHJpYW5nbGVTZWdtZW50SWR4P3Quc3VidGlsZS1lLnN1YnRpbGU6dC50cmlhbmdsZVNlZ21lbnRJZHgtZS50cmlhbmdsZVNlZ21lbnRJZHgpKTtsZXQgcj0wLG49MCxpPTA7Zm9yKGNvbnN0IGUgb2YgdCl7aWYoZS50cmlhbmdsZVNlZ21lbnRJZHghPT1yKWJyZWFrO2krKzt9Y29uc3QgYT10Lmxlbmd0aDtmb3IoO24hPT10Lmxlbmd0aDspe3I9dFtuXS50cmlhbmdsZVNlZ21lbnRJZHg7bGV0IHM9MCxvPW4sbD1uO2ZvcihsZXQgZT1vO2U8aSYmdFtlXS5zdWJ0aWxlPT09cztlKyspbCsrO2Zvcig7byE9PWk7KXtjb25zdCBuPXRbb107cz1uLnN1YnRpbGU7Y29uc3QgYT10aGlzLmNlbnRyb2lkRGF0YVtuLmNlbnRyb2lkSWR4XS5taW4uY2xvbmUoKSx1PXRoaXMuY2VudHJvaWREYXRhW24uY2VudHJvaWRJZHhdLm1heC5jbG9uZSgpLGM9e3ZlcnRleE9mZnNldDp0aGlzLnNlZ21lbnRzLnNlZ21lbnRzW3JdLnZlcnRleE9mZnNldCxwcmltaXRpdmVPZmZzZXQ6ZS5sZW5ndGgsdmVydGV4TGVuZ3RoOnRoaXMuc2VnbWVudHMuc2VnbWVudHNbcl0udmVydGV4TGVuZ3RoLHByaW1pdGl2ZUxlbmd0aDowLHNvcnRLZXk6dm9pZCAwLHZhb3M6e319O2ZvcihsZXQgcj1vO3I8bDtyKyspe2NvbnN0IG49dFtyXSxpPXRoaXMucG9seWdvblNlZ21lbnRzW24ucG9seWdvblNlZ21lbnRJZHhdLHM9dGhpcy5jZW50cm9pZERhdGFbbi5jZW50cm9pZElkeF0ubWluLG89dGhpcy5jZW50cm9pZERhdGFbbi5jZW50cm9pZElkeF0ubWF4LGw9dGhpcy5pbmRleEFycmF5LnVpbnQxNjtmb3IobGV0IHQ9aS50cmlhbmdsZUFycmF5T2Zmc2V0O3Q8aS50cmlhbmdsZUFycmF5T2Zmc2V0K2kudHJpYW5nbGVDb3VudDt0KyspZS5lbXBsYWNlQmFjayhsWzMqdF0sbFszKnQrMV0sbFszKnQrMl0pO2MucHJpbWl0aXZlTGVuZ3RoKz1pLnRyaWFuZ2xlQ291bnQsYS54PU1hdGgubWluKGEueCxzLngpLGEueT1NYXRoLm1pbihhLnkscy55KSx1Lng9TWF0aC5tYXgodS54LG8ueCksdS55PU1hdGgubWF4KHUueSxvLnkpO31jLnByaW1pdGl2ZUxlbmd0aD4wJiZ0aGlzLnRyaWFuZ2xlU3ViU2VnbWVudHMucHVzaCh7c2VnbWVudDpjLG1pbjphLG1heDp1fSksbz1sO2ZvcihsZXQgZT1vO2U8aSYmdFtlXS5zdWJ0aWxlPT09dFtvXS5zdWJ0aWxlO2UrKylsKys7fW49aTtmb3IobGV0IGU9bjtlPGEmJnRbZV0udHJpYW5nbGVTZWdtZW50SWR4PT09dFtuXS50cmlhbmdsZVNlZ21lbnRJZHg7ZSsrKWkrKzt9ZS5fdHJpbSgpLHRoaXMuaW5kZXhBcnJheT1lO31nZXRWaXNpYmxlU2VnbWVudHModCxlLHIpe2xldCBuPTAsaT0wO2NvbnN0IGE9MTw8dC5jYW5vbmljYWwuejtpZihlKXtjb25zdCByPWUuZ2V0TWluTWF4Rm9yVGlsZSh0KTtyJiYobj1yLm1pbixpPXIubWF4KTt9aSs9dGhpcy5tYXhIZWlnaHQ7Y29uc3Qgcz10LnRvVW53cmFwcGVkKCk7bGV0IG87Y29uc3QgbD1bcy5jYW5vbmljYWwueC9hK3Mud3JhcCxzLmNhbm9uaWNhbC55L2FdLHU9WyhzLmNhbm9uaWNhbC54KzEpL2Ercy53cmFwLChzLmNhbm9uaWNhbC55KzEpL2FdLGM9bmV3IGVvLGg9KHQsZSxyKT0+W3RbMF0qKDEtclswXSkrZVswXSpyWzBdLHRbMV0qKDEtclsxXSkrZVsxXSpyWzFdXSxwPVtdLGY9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy50cmlhbmdsZVN1YlNlZ21lbnRzKXtwWzBdPXQubWluLngvVHIscFsxXT10Lm1pbi55L1RyLGZbMF09dC5tYXgueC9UcixmWzFdPXQubWF4LnkvVHI7Y29uc3QgZT1oKGwsdSxwKSxhPWgobCx1LGYpO2lmKDA9PT1uZXcgQmgoW2VbMF0sZVsxXSxuXSxbYVswXSxhWzFdLGldKS5pbnRlcnNlY3RzUHJlY2lzZShyKSl7byYmKGMuc2VnbWVudHMucHVzaChvKSxvPXZvaWQgMCk7Y29udGludWV9Y29uc3Qgcz10LnNlZ21lbnQ7byYmby52ZXJ0ZXhPZmZzZXQhPT1zLnZlcnRleE9mZnNldCYmKGMuc2VnbWVudHMucHVzaChvKSxvPXZvaWQgMCksbz8oby52ZXJ0ZXhMZW5ndGgrPXMudmVydGV4TGVuZ3RoLG8ucHJpbWl0aXZlTGVuZ3RoKz1zLnByaW1pdGl2ZUxlbmd0aCk6bz17dmVydGV4T2Zmc2V0OnMudmVydGV4T2Zmc2V0LHByaW1pdGl2ZUxlbmd0aDpzLnByaW1pdGl2ZUxlbmd0aCx2ZXJ0ZXhMZW5ndGg6cy52ZXJ0ZXhMZW5ndGgscHJpbWl0aXZlT2Zmc2V0OnMucHJpbWl0aXZlT2Zmc2V0LHNvcnRLZXk6dm9pZCAwLHZhb3M6e319O31yZXR1cm4gbyYmYy5zZWdtZW50cy5wdXNoKG8pLGN9ZW5jb2RlQ2VudHJvaWQodCxlKXtjb25zdCByPXQuY2VudHJvaWQoKSxuPWUuc3BhbigpLGk9TWF0aC5taW4oNyxNYXRoLnJvdW5kKG4ueCp0aGlzLnRpbGVUb01ldGVyLzEwKSksYT1NYXRoLm1pbig3LE1hdGgucm91bmQobi55KnRoaXMudGlsZVRvTWV0ZXIvMTApKTtyZXR1cm4gbmV3IGcoSShyLngsMSxUci0xKTw8M3xpLEkoci55LDEsVHItMSk8PDN8YSl9ZW5jb2RlQm9yZGVyQ2VudHJvaWQodCl7aWYoIXQuYm9yZGVycylyZXR1cm4gbmV3IGcoMCwwKTtjb25zdCBlPXQuYm9yZGVycyxyPU51bWJlci5NQVhfVkFMVUU7aWYoZVswXVswXSE9PXJ8fGVbMV1bMF0hPT1yKXtjb25zdCB0PWVbMF1bMF0hPT1yPzA6MTtyZXR1cm4gbmV3IGcoNnwoZVswXVswXSE9PXI/MDo2NTUyOCksKGVbdF1bMF0rZVt0XVsxXSkvMjw8M3w2KX17Y29uc3QgdD1lWzJdWzBdIT09cj8yOjM7cmV0dXJuIG5ldyBnKChlW3RdWzBdK2VbdF1bMV0pLzI8PDN8Niw2fChlWzJdWzBdIT09cj8wOjY1NTI4KSl9fXNob3dDZW50cm9pZCh0KXtjb25zdCBlPXRoaXMuY2VudHJvaWREYXRhW3QuY2VudHJvaWREYXRhSW5kZXhdO2UuZmxhZ3MmPWlkLGUuY2VudHJvaWRYWS54PTAsZS5jZW50cm9pZFhZLnk9MCx0aGlzLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihlKTt9d3JpdGVDZW50cm9pZFRvQnVmZmVyKHQpe3RoaXMuZ3JvdW5kRWZmZWN0LnVwZGF0ZUhpZGRlbkJ5TGFuZG1hcmsodCk7Y29uc3QgZT10LnZlcnRleEFycmF5T2Zmc2V0LHI9dC52ZXJ0ZXhDb3VudCt0LnZlcnRleEFycmF5T2Zmc2V0LG49dC5mbGFncyZpZD9uZDp0LmNlbnRyb2lkWFksaT10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZ2V0YV9jZW50cm9pZF9wb3MwKGUpO2lmKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5nZXRhX2NlbnRyb2lkX3BvczEoZSkhPT1uLnl8fGkhPT1uLngpe2ZvcihsZXQgdD1lO3Q8cjsrK3QpdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UodCxuLngsbi55KTt0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITA7fX1jcmVhdGVDZW50cm9pZHNCdWZmZXIoKXt0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkucmVzaXplKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoKSx0aGlzLmdyb3VuZEVmZmVjdC5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkucmVzaXplKHRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jZW50cm9pZERhdGEpdGhpcy53cml0ZUNlbnRyb2lkVG9CdWZmZXIodCk7fXVwZGF0ZVJlcGxhY2VtZW50KHQsZSl7aWYoZS51cGRhdGVUaW1lPT09dGhpcy5yZXBsYWNlbWVudFVwZGF0ZVRpbWUpcmV0dXJuO3RoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lPWUudXBkYXRlVGltZTtjb25zdCByPWUuZ2V0UmVwbGFjZW1lbnRSZWdpb25zRm9yVGlsZSh0LnRvVW53cmFwcGVkKCkpO2lmKGZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4gITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXS5zb3VyY2VJZCE9PWVbcl0uc291cmNlSWR8fCFDZih0W3JdLGVbcl0pKXJldHVybiAhMTtyZXR1cm4gITB9KHRoaXMuYWN0aXZlUmVwbGFjZW1lbnRzLHIpKXJldHVybjtpZih0aGlzLmFjdGl2ZVJlcGxhY2VtZW50cz1yLDA9PT10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKXRoaXMuY3JlYXRlQ2VudHJvaWRzQnVmZmVyKCk7ZWxzZSBmb3IoY29uc3QgdCBvZiB0aGlzLmNlbnRyb2lkRGF0YSl0LmZsYWdzJj0yMTQ3NDgzNjQ3O2NvbnN0IG49W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5hY3RpdmVSZXBsYWNlbWVudHMpe2NvbnN0IHI9TWF0aC5wb3coMixlLmZvb3RwcmludFRpbGVJZC5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56KTtmb3IoY29uc3QgaSBvZiB0aGlzLmNlbnRyb2lkRGF0YSlpZighKGkuZmxhZ3MmaWR8fGUubWluLng+aS5tYXgueHx8aS5taW4ueD5lLm1heC54fHxlLm1pbi55PmkubWF4Lnl8fGkubWluLnk+ZS5tYXgueSkpZm9yKGxldCBhPTA7YTxpLmZvb3RwcmludFNlZ0xlbjthKyspe2NvbnN0IHM9dGhpcy5mb290cHJpbnRTZWdtZW50c1tpLmZvb3RwcmludFNlZ0lkeCthXTtpZihuLmxlbmd0aD0wLFNkKHRoaXMuZm9vdHByaW50VmVydGljZXMscy52ZXJ0ZXhPZmZzZXQscy52ZXJ0ZXhDb3VudCxlLmZvb3RwcmludFRpbGVJZC5jYW5vbmljYWwsdC5jYW5vbmljYWwsbiksTGYoZS5mb290cHJpbnQsbix0aGlzLmZvb3RwcmludEluZGljZXMudWludDE2LHMuaW5kZXhPZmZzZXQscy5pbmRleENvdW50LC1zLnZlcnRleE9mZnNldCwtcikpe2kuZmxhZ3N8PWlkO2JyZWFrfX19Zm9yKGNvbnN0IHQgb2YgdGhpcy5jZW50cm9pZERhdGEpdGhpcy53cml0ZUNlbnRyb2lkVG9CdWZmZXIodCk7dGhpcy5ib3JkZXJEb25lV2l0aE5laWdoYm9yWj1bLTEsLTEsLTEsLTFdO31mb290cHJpbnRDb250YWluc1BvaW50KHQsZSxyKXtsZXQgbj0hMTtmb3IobGV0IGk9MDtpPHIuZm9vdHByaW50U2VnTGVuO2krKyl7Y29uc3QgYT10aGlzLmZvb3RwcmludFNlZ21lbnRzW3IuZm9vdHByaW50U2VnSWR4K2ldO2xldCBzPTA7Zm9yKGNvbnN0IHIgb2YgYS5yaW5nSW5kaWNlcyl7Zm9yKGxldCBpPXMsbz1yK3MtMTtpPHIrcztvPWkrKyl7Y29uc3Qgcj10aGlzLmZvb3RwcmludFZlcnRpY2VzLmludDE2WzIqKGkrYS52ZXJ0ZXhPZmZzZXQpKzBdLHM9dGhpcy5mb290cHJpbnRWZXJ0aWNlcy5pbnQxNlsyKihpK2EudmVydGV4T2Zmc2V0KSsxXSxsPXRoaXMuZm9vdHByaW50VmVydGljZXMuaW50MTZbMioobythLnZlcnRleE9mZnNldCkrMV07cz5lIT1sPmUmJnQ8KHRoaXMuZm9vdHByaW50VmVydGljZXMuaW50MTZbMioobythLnZlcnRleE9mZnNldCkrMF0tcikqKGUtcykvKGwtcykrciYmKG49IW4pO31zPXI7fX1yZXR1cm4gbn1nZXRIZWlnaHRBdFRpbGVDb29yZCh0LGUpe2xldCByPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxuPSEwO2NvbnN0IGk9NCoodCtUcikqVHIrKGUrVHIpO2lmKHRoaXMucGFydExvb2t1cC5oYXNPd25Qcm9wZXJ0eShpKSl7Y29uc3QgdD10aGlzLnBhcnRMb29rdXBbaV07cmV0dXJuIHQ/e2hlaWdodDp0LmhlaWdodCxoaWRkZW46ISEodC5mbGFncyZpZCl9OnZvaWQgMH1mb3IoY29uc3QgYSBvZiB0aGlzLmNlbnRyb2lkRGF0YSl0PmEubWF4Lnh8fGEubWluLng+dHx8ZT5hLm1heC55fHxhLm1pbi55PmV8fHRoaXMuZm9vdHByaW50Q29udGFpbnNQb2ludCh0LGUsYSkmJmEmJmEuaGVpZ2h0PnImJihyPWEuaGVpZ2h0LHRoaXMucGFydExvb2t1cFtpXT1hLG49ISEoYS5mbGFncyZpZCkpO2lmKHIhPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpcmV0dXJuIHtoZWlnaHQ6cixoaWRkZW46bn07dGhpcy5wYXJ0TG9va3VwW2ldPXZvaWQgMDt9fWZ1bmN0aW9uIHlkKHQsZSl7Y29uc3Qgcj10LmFkZChlKS5fdW5pdCgpO3JldHVybiB0Lngqci54K3QueSpyLnl9ZnVuY3Rpb24gZ2QodCxlLHIsbil7Y29uc3QgaT1lLnN1Yih0KS5fcGVycCgpLl91bml0KCksYT1yLnN1YihlKS5fcGVycCgpLl91bml0KCk7cmV0dXJuIHhkKHQsZSxyLHlkKGksYSksbil9ZnVuY3Rpb24geGQodCxlLHIsbixpKXtjb25zdCBhPU1hdGguc3FydCgxLW4qbik7cmV0dXJuIE1hdGgubWluKHQuZGlzdChlKS8zLGUuZGlzdChyKS8zLGkqYS9uKX1mdW5jdGlvbiB2ZCh0LGUscil7cmV0dXJuIHQueDxyWzBdLngmJmUueDxyWzBdLnh8fHQueD5yWzFdLngmJmUueD5yWzFdLnh8fHQueTxyWzBdLnkmJmUueTxyWzBdLnl8fHQueT5yWzFdLnkmJmUueT5yWzFdLnl9ZnVuY3Rpb24gYmQodCxlKXtyZXR1cm4gdC54PGVbMF0ueHx8dC54PmVbMV0ueHx8dC55PGVbMF0ueXx8dC55PmVbMV0ueX1mdW5jdGlvbiBfZCh0LGUscil7aWYodC54PDB8fHQueD49VHJ8fGUueDwwfHxlLng+PVRyfHxyLng8MHx8ci54Pj1UcilyZXR1cm4gITE7Y29uc3Qgbj1yLnN1YihlKSxpPW4ucGVycCgpLGE9dC5zdWIoZSk7cmV0dXJuIChuLngqYS54K24ueSphLnkpL01hdGguc3FydCgobi54Km4ueCtuLnkqbi55KSooYS54KmEueCthLnkqYS55KSk+LS44NjYmJmkueCphLngraS55KmEueTwwfWZ1bmN0aW9uIHdkKHQsZSxyKXtjb25zdCBuPWU/Mnx0Oi0zJnQ7cmV0dXJuIHI/MXxuOi0yJm59ZnVuY3Rpb24gTWQoKXtjb25zdCB0PU1hdGguUEkvMzIsZT1NYXRoLnRhbih0KSxyPUpvO3JldHVybiByKk1hdGguc3FydCgxKzIqZSplKS1yfWZ1bmN0aW9uIEFkKHQsZSxyKXtjb25zdCBuPTE8PHIueixpPW1sKHIueC9uKSxhPW1sKChyLngrMSkvbikscz15bChyLnkvbiksbz15bCgoci55KzEpL24pO3JldHVybiBmdW5jdGlvbih0LGUscixuLGk9MCxhKXtjb25zdCBzPVtdO2lmKCF0Lmxlbmd0aHx8IXJ8fCFuKXJldHVybiBzO2NvbnN0IG89KHQsZSk9Pntmb3IoY29uc3QgciBvZiB0KXMucHVzaCh7cG9seWdvbjpyLGJvdW5kczplfSk7fSxsPU1hdGguY2VpbChNYXRoLmxvZzIocikpLHU9TWF0aC5jZWlsKE1hdGgubG9nMihuKSksYz1sLXUsaD1bXTtmb3IobGV0IHQ9MDt0PE1hdGguYWJzKGMpO3QrKyloLnB1c2goYz4wPzA6MSk7Zm9yKGxldCB0PTA7dDxNYXRoLm1pbihsLHUpO3QrKyloLnB1c2goMCksaC5wdXNoKDEpO2xldCBwPXQ7aWYocD1UZihwLGVbMF0ueS1pLGVbMV0ueStpLDEpLHA9VGYocCxlWzBdLngtaSxlWzFdLngraSwwKSwhcC5sZW5ndGgpcmV0dXJuIHM7Y29uc3QgZj1bXTtmb3IoaC5sZW5ndGg/Zi5wdXNoKHtwb2x5Z29uczpwLGJvdW5kczplLGRlcHRoOjB9KTpvKHAsZSk7Zi5sZW5ndGg7KXtjb25zdCB0PWYucG9wKCksZT10LmRlcHRoLHI9aFtlXSxuPXQuYm91bmRzWzBdLHM9dC5ib3VuZHNbMV0sbD0wPT09cj9uLng6bi55LHU9MD09PXI/cy54OnMueSxjPWE/YShyLGwsdSk6LjUqKGwrdSkscD1UZih0LnBvbHlnb25zLGwtaSxjK2ksciksZD1UZih0LnBvbHlnb25zLGMtaSx1K2kscik7aWYocC5sZW5ndGgpe2NvbnN0IHQ9W24sbmV3IGcoMD09PXI/YzpzLngsMT09PXI/YzpzLnkpXTtoLmxlbmd0aD5lKzE/Zi5wdXNoKHtwb2x5Z29uczpwLGJvdW5kczp0LGRlcHRoOmUrMX0pOm8ocCx0KTt9aWYoZC5sZW5ndGgpe2NvbnN0IHQ9W25ldyBnKDA9PT1yP2M6bi54LDE9PT1yP2M6bi55KSxzXTtoLmxlbmd0aD5lKzE/Zi5wdXNoKHtwb2x5Z29uczpkLGJvdW5kczp0LGRlcHRoOmUrMX0pOm8oZCx0KTt9fXJldHVybiBzfSh0LGUsTWF0aC5jZWlsKChhLWkpLzExLjI1KSxNYXRoLmNlaWwoKHMtbykvMTEuMjUpLDEsKCh0LGUsaSk9PntpZigwPT09dClyZXR1cm4gLjUqKGUraSk7e2NvbnN0IHQ9eWwoKHIueStlL1RyKS9uKTtyZXR1cm4gKGZsKC41Kih5bCgoci55K2kvVHIpL24pK3QpKSpuLXIueSkqVHJ9fSkpfWZ1bmN0aW9uIFNkKHQsZSxyLG4saSxhKXtjb25zdCBzPU1hdGgucG93KDIsbi56LWkueik7Zm9yKGxldCBvPTA7bzxyO28rKyl7bGV0IHI9dC5pbnQxNlsyKihvK2UpKzBdLGw9dC5pbnQxNlsyKihvK2UpKzFdO3I9KHIraS54KlRyKSpzLW4ueCpUcixsPShsK2kueSpUcikqcy1uLnkqVHIsYS5wdXNoKG5ldyBnKHIsbCkpO319cmEobWQsXCJGaWxsRXh0cnVzaW9uQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJmZWF0dXJlc1wiXX0pLHJhKHVkLFwiUGFydERhdGFcIikscmEobGQsXCJGb290cHJpbnRTZWdtZW50XCIpLHJhKGNkLFwiQm9yZGVyQ2VudHJvaWREYXRhXCIpLHJhKGRkLFwiR3JvdW5kRWZmZWN0XCIpO2NvbnN0IElkPW5ldyBPYSh7dmlzaWJpbGl0eTpuZXcgTGEocWFbXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIl0udmlzaWJpbGl0eSksXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOm5ldyBMYShxYVtcImxheW91dF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCJdKX0pO3ZhciBrZD17cGFpbnQ6bmV3IE9hKHtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tY29sb3JcIjpuZXcgRmEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOm5ldyBGYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tcGF0dGVyblwiXSksXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjpuZXcgRmEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSksXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6bmV3IEZhKHFhW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCI6bmV3IExhKHFhW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi13YWxsLXJhZGl1c1wiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24td2FsbC1yYWRpdXNcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLXJhZGl1c1wiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLXJhZGl1c1wiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtYXR0ZW51YXRpb25cIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1hdHRlbnVhdGlvblwiXSksXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1jb2xvclwiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIl0pLFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtaW50ZW5zaXR5XCI6bmV3IExhKHFhW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtd2FsbC1yYWRpdXNcIjpuZXcgRmEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LXdhbGwtcmFkaXVzXCJdKSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIjpuZXcgRmEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIl0pLFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCI6bmV3IExhKHFhW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtYXR0ZW51YXRpb25cIl0pLFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtc2NhbGVcIjpuZXcgTGEocWFbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCJdKSxcImZpbGwtZXh0cnVzaW9uLXJvdW5kZWQtcm9vZlwiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tcm91bmRlZC1yb29mXCJdKSxcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCI6bmV3IExhKHFhW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jdXRvZmYtZmFkZS1yYW5nZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBMYShxYVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0OklkfTtjbGFzcyBQZCBleHRlbmRzIGd7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHQsZSksdGhpcy56PXI7fX1mdW5jdGlvbiBFZCh0LGUpe3JldHVybiB0LngqZS54K3QueSplLnl9ZnVuY3Rpb24gemQodCxlKXtpZigxPT09dC5sZW5ndGgpe2xldCByPTA7Y29uc3Qgbj1lW3IrK107bGV0IGk7Zm9yKDshaXx8bi5lcXVhbHMoaSk7KWlmKGk9ZVtyKytdLCFpKXJldHVybiAxLzA7Zm9yKDtyPGUubGVuZ3RoO3IrKyl7Y29uc3QgYT1lW3JdLHM9dFswXSxvPWkuc3ViKG4pLGw9YS5zdWIobiksdT1zLnN1YihuKSxjPUVkKG8sbyksaD1FZChvLGwpLHA9RWQobCxsKSxmPUVkKHUsbyksZD1FZCh1LGwpLG09YypwLWgqaCx5PShwKmYtaCpkKS9tLGc9KGMqZC1oKmYpL20seD1uLnoqKDEteS1nKStpLnoqeSthLnoqZztpZihpc0Zpbml0ZSh4KSlyZXR1cm4geH1yZXR1cm4gMS8wfXtsZXQgdD0xLzA7Zm9yKGNvbnN0IHIgb2YgZSl0PU1hdGgubWluKHQsci56KTtyZXR1cm4gdH19ZnVuY3Rpb24gVGQodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPXMqaS5nZXRFbGV2YXRpb25BdCh0LGUsITAsITApLHU9MCE9PWFbMF0sYz11PzA9PT1hWzFdP3MqKGFbMF0vNy00NTApOnMqZnVuY3Rpb24odCxlLHIpe2NvbnN0IG49TWF0aC5mbG9vcihlWzBdLzgpLGk9TWF0aC5mbG9vcihlWzFdLzgpLGE9MTAqKGVbMF0tOCpuKSxzPTEwKihlWzFdLTgqaSksbz10LmdldEVsZXZhdGlvbkF0KG4saSwhMCwhMCksbD10LmdldE1ldGVyVG9ERU0ociksdT1NYXRoLmZsb29yKC41KihhKmwtMSkpLGM9TWF0aC5mbG9vciguNSoocypsLTEpKSxoPXQudGlsZUNvb3JkVG9QaXhlbChuLGkpLHA9Mip1KzEsZj0yKmMrMSxkPWZ1bmN0aW9uKHQsZSxyLG4saSl7cmV0dXJuIFt0LmdldEVsZXZhdGlvbkF0UGl4ZWwoZSxyLCEwKSx0LmdldEVsZXZhdGlvbkF0UGl4ZWwoZStpLHIsITApLHQuZ2V0RWxldmF0aW9uQXRQaXhlbChlLHIraSwhMCksdC5nZXRFbGV2YXRpb25BdFBpeGVsKGUrbixyK2ksITApXX0odCxoLngtdSxoLnktYyxwLGYpLG09TWF0aC5hYnMoZFswXS1kWzFdKSx5PU1hdGguYWJzKGRbMl0tZFszXSksZz1NYXRoLmFicyhkWzBdLWRbMl0pK01hdGguYWJzKGRbMV0tZFszXSkseD1NYXRoLm1pbiguMjUsLjUqbCoobSt5KS9wKSx2PU1hdGgubWluKC4yNSwuNSpsKmcvZik7cmV0dXJuIG8rTWF0aC5tYXgoeCphLHYqcyl9KGksYSxvKTpsO3JldHVybiB7YmFzZTpsKygwPT09cik/LTE6cix0b3A6dT9NYXRoLm1heChjK24sbCtyKzIpOmwrbn19Y29uc3QgQmQ9Y3MoW3tuYW1lOlwiYV9wb3Nfbm9ybWFsXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZGF0YVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX2xpbmVzb2ZhclwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0sNCkse21lbWJlcnM6Q2R9PUJkLFJkPWNzKFt7bmFtZTpcImFfcGFja2VkXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6RGR9PVJkO2NsYXNzIFZke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5uZXh0Um93PTAsdGhpcy5pbWFnZT1uZXcgdnAoe3dpZHRoOnQsaGVpZ2h0OmV9KSx0aGlzLnBvc2l0aW9ucz17fSx0aGlzLnVwbG9hZGVkPSExO31nZXREYXNoKHQsZSl7Y29uc3Qgcj10aGlzLmdldEtleSh0LGUpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tyXX10cmltKCl7Y29uc3QgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQ9Uih0aGlzLm5leHRSb3cpO3RoaXMuaW1hZ2UucmVzaXplKHt3aWR0aDp0LGhlaWdodDplfSk7fWdldEtleSh0LGUpe3JldHVybiB0LmpvaW4oXCIsXCIpK2V9Z2V0RGFzaFJhbmdlcyh0LGUscil7Y29uc3Qgbj1bXTtsZXQgaT10Lmxlbmd0aCUyPT0xPy10W3QubGVuZ3RoLTFdKnI6MCxhPXRbMF0qcixzPSEwO24ucHVzaCh7bGVmdDppLHJpZ2h0OmEsaXNEYXNoOnMsemVyb0xlbmd0aDowPT09dFswXX0pO2xldCBvPXRbMF07Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspe3M9IXM7Y29uc3QgbD10W2VdO2k9bypyLG8rPWwsYT1vKnIsbi5wdXNoKHtsZWZ0OmkscmlnaHQ6YSxpc0Rhc2g6cyx6ZXJvTGVuZ3RoOjA9PT1sfSk7fXJldHVybiBufWFkZFJvdW5kRGFzaCh0LGUscil7Y29uc3Qgbj1lLzI7Zm9yKGxldCBlPS1yO2U8PXI7ZSsrKXtjb25zdCBpPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytyK2UpO2xldCBhPTAscz10W2FdO2ZvcihsZXQgbz0wO288dGhpcy53aWR0aDtvKyspe28vcy5yaWdodD4xJiYocz10WysrYV0pO2NvbnN0IGw9TWF0aC5hYnMoby1zLmxlZnQpLHU9TWF0aC5hYnMoby1zLnJpZ2h0KSxjPU1hdGgubWluKGwsdSk7bGV0IGg7Y29uc3QgcD1lL3IqKG4rMSk7aWYocy5pc0Rhc2gpe2NvbnN0IHQ9bi1NYXRoLmFicyhwKTtoPU1hdGguc3FydChjKmMrdCp0KTt9ZWxzZSBoPW4tTWF0aC5zcXJ0KGMqYytwKnApO3RoaXMuaW1hZ2UuZGF0YVtpK29dPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGgrMTI4KSk7fX19YWRkUmVndWxhckRhc2godCxlKXtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wOy0tZSl7Y29uc3Qgcj10W2VdLG49dFtlKzFdO3IuemVyb0xlbmd0aD90LnNwbGljZShlLDEpOm4mJm4uaXNEYXNoPT09ci5pc0Rhc2gmJihuLmxlZnQ9ci5sZWZ0LHQuc3BsaWNlKGUsMSkpO31jb25zdCByPXRbMF0sbj10W3QubGVuZ3RoLTFdO3IuaXNEYXNoPT09bi5pc0Rhc2gmJihyLmxlZnQ9bi5sZWZ0LXRoaXMud2lkdGgsbi5yaWdodD1yLnJpZ2h0K3RoaXMud2lkdGgpO2NvbnN0IGk9dGhpcy53aWR0aCp0aGlzLm5leHRSb3c7bGV0IGE9MCxzPXRbYV07Zm9yKGxldCByPTA7cjx0aGlzLndpZHRoO3IrKyl7ci9zLnJpZ2h0PjEmJihzPXRbKythXSk7Y29uc3Qgbj1NYXRoLmFicyhyLXMubGVmdCksbz1NYXRoLmFicyhyLXMucmlnaHQpLGw9TWF0aC5taW4obixvKTt0aGlzLmltYWdlLmRhdGFbaStyXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSwocy5pc0Rhc2g/bDotbCkrZSsxMjgpKTt9fWFkZERhc2godCxlKXtjb25zdCByPXRoaXMuZ2V0S2V5KHQsZSk7aWYodGhpcy5wb3NpdGlvbnNbcl0pcmV0dXJuIHRoaXMucG9zaXRpb25zW3JdO2NvbnN0IG49XCJyb3VuZFwiPT09ZSxpPW4/NzowLGE9MippKzE7aWYodGhpcy5uZXh0Um93K2E+dGhpcy5oZWlnaHQpcmV0dXJuIGooXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7MD09PXQubGVuZ3RoJiZ0LnB1c2goMSk7bGV0IHM9MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPDAmJihqKFwiTmVnYXRpdmUgdmFsdWUgaXMgZm91bmQgaW4gbGluZSBkYXNoYXJyYXksIHJlcGxhY2luZyB2YWx1ZXMgd2l0aCAwXCIpLHRbZV09MCkscys9dFtlXTtpZigwIT09cyl7Y29uc3Qgcj10aGlzLndpZHRoL3MsYT10aGlzLmdldERhc2hSYW5nZXModCx0aGlzLndpZHRoLHIpO24/dGhpcy5hZGRSb3VuZERhc2goYSxyLGkpOnRoaXMuYWRkUmVndWxhckRhc2goYSxcInNxdWFyZVwiPT09ZT8uNSpyOjApO31jb25zdCBvPXRoaXMubmV4dFJvdytpO3RoaXMubmV4dFJvdys9YTtjb25zdCBsPXt0bDpbbyxpXSxicjpbcywwXX07cmV0dXJuIHRoaXMucG9zaXRpb25zW3JdPWwsbH19cmEoVmQsXCJMaW5lQXRsYXNcIik7Y29uc3QgTGQ9emYudHlwZXMsRmQ9TWF0aC5jb3MoTWF0aC5QSS8xODAqMzcuNSk7Y2xhc3MgTmR7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuZnFpZCkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxpbmVDbGlwc0FycmF5PVtdLHRoaXMuZ3JhZGllbnRzPXt9LHRoaXMubGF5ZXJzLmZvckVhY2goKHQ9Pnt0aGlzLmdyYWRpZW50c1t0LmlkXT17fTt9KSksdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgeXMsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTI9bmV3IGdzLHRoaXMuaW5kZXhBcnJheT1uZXcgRXMsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IFZvKHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgZW8sdGhpcy5tYXhMaW5lTGVuZ3RoPTAsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigodD0+dC5pc1N0YXRlRGVwZW5kZW50KCkpKS5tYXAoKHQ9PnQuaWQpKTt9cG9wdWxhdGUodCxlLHIsbil7dGhpcy5oYXNQYXR0ZXJuPXNmKFwibGluZVwiLHRoaXMubGF5ZXJzLGUpO2NvbnN0IGk9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImxpbmUtc29ydC1rZXlcIiksYT1bXTtmb3IoY29uc3R7ZmVhdHVyZTplLGlkOnMsaW5kZXg6byxzb3VyY2VMYXllckluZGV4Omx9b2YgdCl7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksdT1CbChlLHQpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBhKHRoaXMuem9vbSksdSxyKSljb250aW51ZTtjb25zdCBjPWk/aS5ldmFsdWF0ZSh1LHt9LHIpOnZvaWQgMCxoPXtpZDpzLHByb3BlcnRpZXM6ZS5wcm9wZXJ0aWVzLHR5cGU6ZS50eXBlLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpvLGdlb21ldHJ5OnQ/dS5nZW9tZXRyeTpUbChlLHIsbikscGF0dGVybnM6e30sc29ydEtleTpjfTthLnB1c2goaCk7fWkmJmEuc29ydCgoKHQsZSk9PnQuc29ydEtleS1lLnNvcnRLZXkpKTtjb25zdHtsaW5lQXRsYXM6cyxmZWF0dXJlSW5kZXg6b309ZSxsPXRoaXMuYWRkQ29uc3RhbnREYXNoZXMocyk7Zm9yKGNvbnN0IG4gb2YgYSl7Y29uc3R7Z2VvbWV0cnk6aSxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6dX09bjtpZihsJiZ0aGlzLmFkZEZlYXR1cmVEYXNoZXMobixzKSx0aGlzLmhhc1BhdHRlcm4pe2NvbnN0IHQ9b2YoXCJsaW5lXCIsdGhpcy5sYXllcnMsbix0aGlzLnpvb20sZSk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaCh0KTt9ZWxzZSB0aGlzLmFkZEZlYXR1cmUobixpLGEscixzLnBvc2l0aW9ucyxlLmF2YWlsYWJsZUltYWdlcyxlLmJyaWdodG5lc3MpO28uaW5zZXJ0KHRbYV0uZmVhdHVyZSxpLGEsdSx0aGlzLmluZGV4KTt9fWFkZENvbnN0YW50RGFzaGVzKHQpe2xldCBlPSExO2Zvcihjb25zdCByIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBuPXIucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsaT1yLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT1uLmtpbmR8fFwiY29uc3RhbnRcIiE9PWkua2luZCllPSEwO2Vsc2Uge2NvbnN0IGU9aS52YWx1ZSxyPW4udmFsdWU7aWYoIXIpY29udGludWU7dC5hZGREYXNoKHIsZSk7fX1yZXR1cm4gZX1hZGRGZWF0dXJlRGFzaGVzKHQsZSl7Y29uc3Qgcj10aGlzLnpvb207Zm9yKGNvbnN0IG4gb2YgdGhpcy5sYXllcnMpe2NvbnN0IGk9bi5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZSxhPW4ubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIj09PWkua2luZCYmXCJjb25zdGFudFwiPT09YS5raW5kKWNvbnRpbnVlO2xldCBzLG87aWYoXCJjb25zdGFudFwiPT09aS5raW5kKXtpZihzPWkudmFsdWUsIXMpY29udGludWV9ZWxzZSBzPWkuZXZhbHVhdGUoe3pvb206cn0sdCk7bz1cImNvbnN0YW50XCI9PT1hLmtpbmQ/YS52YWx1ZTphLmV2YWx1YXRlKHt6b29tOnJ9LHQpLGUuYWRkRGFzaChzLG8pLHQucGF0dGVybnNbbi5pZF09ZS5nZXRLZXkocyxvKTt9fXVwZGF0ZSh0LGUscixuLGkpe2NvbnN0IGE9MCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aDthJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSxhP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMscixuLGkpO31hZGRGZWF0dXJlcyh0LGUscixuLGksYSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKHQsdC5nZW9tZXRyeSx0LmluZGV4LGUscixuLGEpO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KDAhPT10aGlzLmxheW91dFZlcnRleEFycmF5Mi5sZW5ndGgmJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcjI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIsRGQpKSx0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LENkKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpO31saW5lRmVhdHVyZUNsaXBzKHQpe2lmKHQucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfc3RhcnRcIikmJnQucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX2VuZFwiKSlyZXR1cm4ge3N0YXJ0Oit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kfX1hZGRGZWF0dXJlKHQsZSxyLG4saSxhLHMpe2NvbnN0IG89dGhpcy5sYXllcnNbMF0ubGF5b3V0LGw9by5nZXQoXCJsaW5lLWpvaW5cIikuZXZhbHVhdGUodCx7fSksdT1vLmdldChcImxpbmUtY2FwXCIpLmV2YWx1YXRlKHQse30pLGM9by5nZXQoXCJsaW5lLW1pdGVyLWxpbWl0XCIpLGg9by5nZXQoXCJsaW5lLXJvdW5kLWxpbWl0XCIpO3RoaXMubGluZUNsaXBzPXRoaXMubGluZUZlYXR1cmVDbGlwcyh0KTtmb3IoY29uc3QgciBvZiBlKXRoaXMuYWRkTGluZShyLHQsbCx1LGMsaCk7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIsaSxhLG4scyk7fWFkZExpbmUodCxlLHIsbixpLGEpe2lmKHRoaXMuZGlzdGFuY2U9MCx0aGlzLnNjYWxlZERpc3RhbmNlPTAsdGhpcy50b3RhbERpc3RhbmNlPTAsdGhpcy5saW5lU29GYXI9MCx0aGlzLmxpbmVDbGlwcyl7dGhpcy5saW5lQ2xpcHNBcnJheS5wdXNoKHRoaXMubGluZUNsaXBzKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXRoaXMudG90YWxEaXN0YW5jZSs9dFtlXS5kaXN0KHRbZSsxXSk7dGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpLHRoaXMubWF4TGluZUxlbmd0aD1NYXRoLm1heCh0aGlzLm1heExpbmVMZW5ndGgsdGhpcy50b3RhbERpc3RhbmNlKTt9Y29uc3Qgcz1cIlBvbHlnb25cIj09PUxkW2UudHlwZV07bGV0IG89dC5sZW5ndGg7Zm9yKDtvPj0yJiZ0W28tMV0uZXF1YWxzKHRbby0yXSk7KW8tLTtsZXQgbD0wO2Zvcig7bDxvLTEmJnRbbF0uZXF1YWxzKHRbbCsxXSk7KWwrKztpZihvPChzPzM6MikpcmV0dXJuO1wiYmV2ZWxcIj09PXImJihpPTEuMDUpO2NvbnN0IHU9dGhpcy5vdmVyc2NhbGluZzw9MTY/MTUqVHIvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCpvLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtsZXQgaCxwLGYsZCxtO3RoaXMuZTE9dGhpcy5lMj0tMSxzJiYoaD10W28tMl0sbT10W2xdLnN1YihoKS5fdW5pdCgpLl9wZXJwKCkpO2ZvcihsZXQgZT1sO2U8bztlKyspe2lmKGY9ZT09PW8tMT9zP3RbbCsxXTp2b2lkIDA6dFtlKzFdLGYmJnRbZV0uZXF1YWxzKGYpKWNvbnRpbnVlO20mJihkPW0pLGgmJihwPWgpLGg9dFtlXSxtPWY/Zi5zdWIoaCkuX3VuaXQoKS5fcGVycCgpOmQsZD1kfHxtO2xldCB5PWQuYWRkKG0pOzA9PT15LngmJjA9PT15Lnl8fHkuX3VuaXQoKTtjb25zdCBnPWQueCptLngrZC55Km0ueSx4PXkueCptLngreS55Km0ueSx2PTAhPT14PzEveDoxLzAsYj0yKk1hdGguc3FydCgyLTIqeCksXz14PEZkJiZwJiZmLHc9ZC54Km0ueS1kLnkqbS54PjA7aWYoXyYmZT5sKXtjb25zdCB0PWguZGlzdChwKTtpZih0PjIqdSl7Y29uc3QgZT1oLnN1YihoLnN1YihwKS5fbXVsdCh1L3QpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHAsZSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGUsZCwwLDAsYykscD1lO319Y29uc3QgTT1wJiZmO2xldCBBPU0/cjpzP1wiYnV0dFwiOm47aWYoTSYmXCJyb3VuZFwiPT09QSYmKHY8YT9BPVwibWl0ZXJcIjp2PD0yJiYoQT1cImZha2Vyb3VuZFwiKSksXCJtaXRlclwiPT09QSYmdj5pJiYoQT1cImJldmVsXCIpLFwiYmV2ZWxcIj09PUEmJih2PjImJihBPVwiZmxpcGJldmVsXCIpLHY8aSYmKEE9XCJtaXRlclwiKSkscCYmdGhpcy51cGRhdGVEaXN0YW5jZShwLGgpLFwibWl0ZXJcIj09PUEpeS5fbXVsdCh2KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCx5LDAsMCxjKTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1BKXtpZih2PjEwMCl5PW0ubXVsdCgtMSk7ZWxzZSB7Y29uc3QgdD12KmQuYWRkKG0pLm1hZygpL2Quc3ViKG0pLm1hZygpO3kuX3BlcnAoKS5fbXVsdCh0Kih3Py0xOjEpKTt9dGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwwLDAsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseS5tdWx0KC0xKSwwLDAsYyk7fWVsc2UgaWYoXCJiZXZlbFwiPT09QXx8XCJmYWtlcm91bmRcIj09PUEpe2NvbnN0IHQ9LU1hdGguc3FydCh2KnYtMSksZT13P3Q6MCxyPXc/MDp0O2lmKHAmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGQsZSxyLGMpLFwiZmFrZXJvdW5kXCI9PT1BKXtjb25zdCB0PU1hdGgucm91bmQoMTgwKmIvTWF0aC5QSS8yMCk7Zm9yKGxldCBlPTE7ZTx0O2UrKyl7bGV0IHI9ZS90O2lmKC41IT09cil7Y29uc3QgdD1yLS41O3IrPXIqdCooci0xKSooKDEuMDkwNCtnKihnKigzLjU1NjQ1LTEuNDM1MTkqZyktMy4yNDUyKSkqdCp0KyguODQ4MDEzK2cqKC4yMTU2MzgqZy0xLjA2MDIxKSkpO31jb25zdCBuPW0uc3ViKGQpLl9tdWx0KHIpLl9hZGQoZCkuX3VuaXQoKS5fbXVsdCh3Py0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChoLG4ueCxuLnksITEsdywwLGMpO319ZiYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwtZSwtcixjKTt9ZWxzZSBpZihcImJ1dHRcIj09PUEpdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwwLDAsYyk7ZWxzZSBpZihcInNxdWFyZVwiPT09QSl7Y29uc3QgdD1wPzE6LTE7cHx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSx0LHQsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwwLDAsYykscCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSx0LHQsYyk7fWVsc2UgXCJyb3VuZFwiPT09QSYmKHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDAsMCxjKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDEsMSxjLCEwKSksZiYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sLTEsLTEsYywhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYykpKTtpZihfJiZlPG8tMSl7Y29uc3QgdD1oLmRpc3QoZik7aWYodD4yKnUpe2NvbnN0IGU9aC5hZGQoZi5zdWIoaCkuX211bHQodS90KS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShoLGUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChlLG0sMCwwLGMpLGg9ZTt9fX19YWRkQ3VycmVudFZlcnRleCh0LGUscixuLGksYT0hMSl7Y29uc3Qgcz1lLnkqbi1lLngsbz0tZS55LWUueCpuO3RoaXMuYWRkSGFsZlZlcnRleCh0LGUueCtlLnkqcixlLnktZS54KnIsYSwhMSxyLGkpLHRoaXMuYWRkSGFsZlZlcnRleCh0LHMsbyxhLCEwLC1uLGkpO31hZGRIYWxmVmVydGV4KHt4OnQseTplfSxyLG4saSxhLHMsbyl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygodDw8MSkrKGk/MTowKSwoZTw8MSkrKGE/MTowKSxNYXRoLnJvdW5kKDYzKnIpKzEyOCxNYXRoLnJvdW5kKDYzKm4pKzEyOCwxKygwPT09cz8wOnM8MD8tMToxKSwwLHRoaXMubGluZVNvRmFyKSx0aGlzLmxpbmVDbGlwcyYmdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIuZW1wbGFjZUJhY2sodGhpcy5zY2FsZWREaXN0YW5jZSx0aGlzLmxpbmVDbGlwc0FycmF5Lmxlbmd0aCx0aGlzLmxpbmVDbGlwcy5zdGFydCx0aGlzLmxpbmVDbGlwcy5lbmQpO2NvbnN0IGw9by52ZXJ0ZXhMZW5ndGgrKzt0aGlzLmUxPj0wJiZ0aGlzLmUyPj0wJiYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMixsKSxvLnByaW1pdGl2ZUxlbmd0aCsrKSxhP3RoaXMuZTI9bDp0aGlzLmUxPWw7fXVwZGF0ZVNjYWxlZERpc3RhbmNlKCl7aWYodGhpcy5saW5lQ2xpcHMpe2NvbnN0IHQ9dGhpcy50b3RhbERpc3RhbmNlLyh0aGlzLmxpbmVDbGlwcy5lbmQtdGhpcy5saW5lQ2xpcHMuc3RhcnQpO3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy5kaXN0YW5jZS90aGlzLnRvdGFsRGlzdGFuY2UsdGhpcy5saW5lU29GYXI9dCp0aGlzLmxpbmVDbGlwcy5zdGFydCt0aGlzLmRpc3RhbmNlO31lbHNlIHRoaXMubGluZVNvRmFyPXRoaXMuZGlzdGFuY2U7fXVwZGF0ZURpc3RhbmNlKHQsZSl7dGhpcy5kaXN0YW5jZSs9dC5kaXN0KGUpLHRoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKTt9fXJhKE5kLFwiTGluZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgT2Q9bmV3IE9hKHtcImxpbmUtY2FwXCI6bmV3IEZhKHFhLmxheW91dF9saW5lW1wibGluZS1jYXBcIl0pLFwibGluZS1qb2luXCI6bmV3IEZhKHFhLmxheW91dF9saW5lW1wibGluZS1qb2luXCJdKSxcImxpbmUtbWl0ZXItbGltaXRcIjpuZXcgTGEocWEubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgTGEocWEubGF5b3V0X2xpbmVbXCJsaW5lLXJvdW5kLWxpbWl0XCJdKSxcImxpbmUtc29ydC1rZXlcIjpuZXcgRmEocWEubGF5b3V0X2xpbmVbXCJsaW5lLXNvcnQta2V5XCJdKSx2aXNpYmlsaXR5Om5ldyBMYShxYS5sYXlvdXRfbGluZS52aXNpYmlsaXR5KX0pO3ZhciBVZD17cGFpbnQ6bmV3IE9hKHtcImxpbmUtb3BhY2l0eVwiOm5ldyBGYShxYS5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgRmEocWEucGFpbnRfbGluZVtcImxpbmUtY29sb3JcIl0pLFwibGluZS10cmFuc2xhdGVcIjpuZXcgTGEocWEucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlXCJdKSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgRmEocWEucGFpbnRfbGluZVtcImxpbmUtd2lkdGhcIl0pLFwibGluZS1nYXAtd2lkdGhcIjpuZXcgRmEocWEucGFpbnRfbGluZVtcImxpbmUtZ2FwLXdpZHRoXCJdKSxcImxpbmUtb2Zmc2V0XCI6bmV3IEZhKHFhLnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgRmEocWEucGFpbnRfbGluZVtcImxpbmUtYmx1clwiXSksXCJsaW5lLWRhc2hhcnJheVwiOm5ldyBGYShxYS5wYWludF9saW5lW1wibGluZS1kYXNoYXJyYXlcIl0pLFwibGluZS1wYXR0ZXJuXCI6bmV3IEZhKHFhLnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyBOYShxYS5wYWludF9saW5lW1wibGluZS1ncmFkaWVudFwiXSksXCJsaW5lLXRyaW0tb2Zmc2V0XCI6bmV3IExhKHFhLnBhaW50X2xpbmVbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdKSxcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgTGEocWEucGFpbnRfbGluZVtcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwibGluZS1ib3JkZXItd2lkdGhcIjpuZXcgRmEocWEucGFpbnRfbGluZVtcImxpbmUtYm9yZGVyLXdpZHRoXCJdKSxcImxpbmUtYm9yZGVyLWNvbG9yXCI6bmV3IEZhKHFhLnBhaW50X2xpbmVbXCJsaW5lLWJvcmRlci1jb2xvclwiXSl9KSxsYXlvdXQ6T2R9O2Z1bmN0aW9uIGpkKHQsZSxyKXtyZXR1cm4gZSooVHIvKHQudGlsZVNpemUqTWF0aC5wb3coMixyLXQudGlsZUlELm92ZXJzY2FsZWRaKSkpfWZ1bmN0aW9uIHFkKHQsZSl7cmV0dXJuIDEvamQodCwxLGUudGlsZVpvb20pfWZ1bmN0aW9uICRkKHQsZSxyLG4pe3JldHVybiB0LnRyYW5zbGF0ZVBvc01hdHJpeChufHxlLnRpbGVJRC5wcm9qTWF0cml4LGUsci5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSxyLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSl9Y29uc3QgR2Q9dD0+e2NvbnN0IGU9W107WWQodCkmJmUucHVzaChcIlJFTkRFUl9MSU5FX0RBU0hcIiksdC5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpJiZlLnB1c2goXCJSRU5ERVJfTElORV9HUkFESUVOVFwiKTtjb25zdCByPXQucGFpbnQuZ2V0KFwibGluZS10cmltLW9mZnNldFwiKTtyZXR1cm4gMD09PXJbMF0mJjA9PT1yWzFdfHxlLnB1c2goXCJSRU5ERVJfTElORV9UUklNX09GRlNFVFwiKSwwIT09dC5wYWludC5nZXQoXCJsaW5lLWJvcmRlci13aWR0aFwiKS5jb25zdGFudE9yKDEpJiZlLnB1c2goXCJSRU5ERVJfTElORV9CT1JERVJcIiksZX07ZnVuY3Rpb24gWWQodCl7Y29uc3QgZT10LnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlO3JldHVybiBlLnZhbHVlfHxcImNvbnN0YW50XCIhPT1lLmtpbmR9Y29uc3QgWGQ9bmV3IGNsYXNzIGV4dGVuZHMgRmF7cG9zc2libHlFdmFsdWF0ZSh0LGUpe3JldHVybiBlPW5ldyBQYShNYXRoLmZsb29yKGUuem9vbSkse25vdzplLm5vdyxmYWRlRHVyYXRpb246ZS5mYWRlRHVyYXRpb24sdHJhbnNpdGlvbjplLnRyYW5zaXRpb259KSxzdXBlci5wb3NzaWJseUV2YWx1YXRlKHQsZSl9ZXZhbHVhdGUodCxlLHIsbil7cmV0dXJuIGU9eih7fSxlLHt6b29tOk1hdGguZmxvb3IoZS56b29tKX0pLHN1cGVyLmV2YWx1YXRlKHQsZSxyLG4pfX0oVWQucGFpbnQucHJvcGVydGllc1tcImxpbmUtd2lkdGhcIl0uc3BlY2lmaWNhdGlvbik7ZnVuY3Rpb24gWmQodCxlKXtyZXR1cm4gZT4wP2UrMip0OnR9WGQudXNlSW50ZWdlclpvb209ITA7Y29uc3QgS2Q9Y3MoW3tuYW1lOlwiYV9wb3Nfb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfdGV4X3NpemVcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxvZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSw0KSxIZD1jcyhbe25hbWU6XCJhX2dsb2JlX2FuY2hvclwiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2dsb2JlX25vcm1hbFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0sNCksV2Q9Y3MoW3tuYW1lOlwiYV9wcm9qZWN0ZWRfcG9zXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSw0KTtjcyhbe25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDMyXCJ9XSw0KTtjb25zdCBKZD1jcyhbe25hbWU6XCJhX3pfb2Zmc2V0XCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSxRZD1jcyhbe25hbWU6XCJhX3RleGJcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQxNlwifV0pLHRtPWNzKFt7bmFtZTpcImFfcGxhY2VkXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfc2hpZnRcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKSxlbT1jcyhbe25hbWU6XCJhX3NpemVfc2NhbGVcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3BhZGRpbmdcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3pfb2Zmc2V0XCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSk7Y3MoW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwYWRkaW5nXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XSk7Y29uc3Qgcm09Y3MoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLG5tPWNzKFt7bmFtZTpcImFfcG9zXzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9yYWRpdXNcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX2ZsYWdzXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCk7Y3MoW3tuYW1lOlwidHJpYW5nbGVcIixjb21wb25lbnRzOjMsdHlwZTpcIlVpbnQxNlwifV0pLGNzKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJwbGFjZWRPcmllbnRhdGlvblwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImhpZGRlblwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImFzc29jaWF0ZWRJY29uSW5kZXhcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJmbGlwU3RhdGVcIn1dKSxjcyhbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwia2V5XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6MixuYW1lOlwidGV4dE9mZnNldFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInpPZmZzZXRcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoYXNJY29uVGV4dEZpdFwifV0pLGNzKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwib2Zmc2V0WFwifV0pLGNzKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5XCJ9XSk7dmFyIGltPTI0O2NvbnN0IGFtPTEyODtmdW5jdGlvbiBzbSh0LGUpe2NvbnN0e2V4cHJlc3Npb246cn09ZTtpZihcImNvbnN0YW50XCI9PT1yLmtpbmQpcmV0dXJuIHtraW5kOlwiY29uc3RhbnRcIixsYXlvdXRTaXplOnIuZXZhbHVhdGUobmV3IFBhKHQrMSkpfTtpZihcInNvdXJjZVwiPT09ci5raW5kKXJldHVybiB7a2luZDpcInNvdXJjZVwifTt7Y29uc3R7em9vbVN0b3BzOmUsaW50ZXJwb2xhdGlvblR5cGU6bn09cjtsZXQgaT0wO2Zvcig7aTxlLmxlbmd0aCYmZVtpXTw9dDspaSsrO2k9TWF0aC5tYXgoMCxpLTEpO2xldCBhPWk7Zm9yKDthPGUubGVuZ3RoJiZlW2FdPHQrMTspYSsrO2E9TWF0aC5taW4oZS5sZW5ndGgtMSxhKTtjb25zdCBzPWVbaV0sbz1lW2FdO3JldHVybiBcImNvbXBvc2l0ZVwiPT09ci5raW5kP3traW5kOlwiY29tcG9zaXRlXCIsbWluWm9vbTpzLG1heFpvb206byxpbnRlcnBvbGF0aW9uVHlwZTpufTp7a2luZDpcImNhbWVyYVwiLG1pblpvb206cyxtYXhab29tOm8sbWluU2l6ZTpyLmV2YWx1YXRlKG5ldyBQYShzKSksbWF4U2l6ZTpyLmV2YWx1YXRlKG5ldyBQYShvKSksaW50ZXJwb2xhdGlvblR5cGU6bn19fWZ1bmN0aW9uIG9tKHQse3VTaXplOmUsdVNpemVUOnJ9LHtsb3dlclNpemU6bix1cHBlclNpemU6aX0pe3JldHVybiBcInNvdXJjZVwiPT09dC5raW5kP24vYW06XCJjb21wb3NpdGVcIj09PXQua2luZD91ZShuL2FtLGkvYW0scik6ZX1mdW5jdGlvbiBsbSh0LGUpe2xldCByPTAsbj0wO2lmKFwiY29uc3RhbnRcIj09PXQua2luZCluPXQubGF5b3V0U2l6ZTtlbHNlIGlmKFwic291cmNlXCIhPT10LmtpbmQpe2NvbnN0e2ludGVycG9sYXRpb25UeXBlOmksbWluWm9vbTphLG1heFpvb206c309dCxvPWk/SShZbi5pbnRlcnBvbGF0aW9uRmFjdG9yKGksZSxhLHMpLDAsMSk6MDtcImNhbWVyYVwiPT09dC5raW5kP249dWUodC5taW5TaXplLHQubWF4U2l6ZSxvKTpyPW87fXJldHVybiB7dVNpemVUOnIsdVNpemU6bn19dmFyIHVtPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNJWkVfUEFDS19GQUNUT1I6YW0sZXZhbHVhdGVTaXplRm9yRmVhdHVyZTpvbSxldmFsdWF0ZVNpemVGb3Jab29tOmxtLGdldFNpemVEYXRhOnNtfSk7ZnVuY3Rpb24gY20odCxlLHIpe3JldHVybiB0LnNlY3Rpb25zLmZvckVhY2goKHQ9Pnt0LnRleHQ9ZnVuY3Rpb24odCxlLHIpe2NvbnN0IG49ZS5sYXlvdXQuZ2V0KFwidGV4dC10cmFuc2Zvcm1cIikuZXZhbHVhdGUocix7fSk7cmV0dXJuIFwidXBwZXJjYXNlXCI9PT1uP3Q9dC50b0xvY2FsZVVwcGVyQ2FzZSgpOlwibG93ZXJjYXNlXCI9PT1uJiYodD10LnRvTG9jYWxlTG93ZXJDYXNlKCkpLGthLmFwcGx5QXJhYmljU2hhcGluZyYmKHQ9a2EuYXBwbHlBcmFiaWNTaGFwaW5nKHQpKSx0fSh0LnRleHQsZSxyKTt9KSksdH1jb25zdCBobT17XCIhXCI6XCLvuJVcIixcIiNcIjpcIu+8g1wiLCQ6XCLvvIRcIixcIiVcIjpcIu+8hVwiLFwiJlwiOlwi77yGXCIsXCIoXCI6XCLvuLVcIixcIilcIjpcIu+4tlwiLFwiKlwiOlwi77yKXCIsXCIrXCI6XCLvvItcIixcIixcIjpcIu+4kFwiLFwiLVwiOlwi77iyXCIsXCIuXCI6XCLjg7tcIixcIi9cIjpcIu+8j1wiLFwiOlwiOlwi77iTXCIsXCI7XCI6XCLvuJRcIixcIjxcIjpcIu+4v1wiLFwiPVwiOlwi77ydXCIsXCI+XCI6XCLvuYBcIixcIj9cIjpcIu+4llwiLFwiQFwiOlwi77ygXCIsXCJbXCI6XCLvuYdcIixcIlxcXFxcIjpcIu+8vFwiLFwiXVwiOlwi77mIXCIsXCJeXCI6XCLvvL5cIixfOlwi77izXCIsXCJgXCI6XCLvvYBcIixcIntcIjpcIu+4t1wiLFwifFwiOlwi4oCVXCIsXCJ9XCI6XCLvuLhcIixcIn5cIjpcIu+9nlwiLFwiwqJcIjpcIu+/oFwiLFwiwqNcIjpcIu+/oVwiLFwiwqVcIjpcIu+/pVwiLFwiwqZcIjpcIu+/pFwiLFwiwqxcIjpcIu+/olwiLFwiwq9cIjpcIu+/o1wiLFwi4oCTXCI6XCLvuLJcIixcIuKAlFwiOlwi77ixXCIsXCLigJhcIjpcIu+5g1wiLFwi4oCZXCI6XCLvuYRcIixcIuKAnFwiOlwi77mBXCIsXCLigJ1cIjpcIu+5glwiLFwi4oCmXCI6XCLvuJlcIixcIuKAp1wiOlwi44O7XCIsXCLigqlcIjpcIu+/plwiLFwi44CBXCI6XCLvuJFcIixcIuOAglwiOlwi77iSXCIsXCLjgIhcIjpcIu+4v1wiLFwi44CJXCI6XCLvuYBcIixcIuOAilwiOlwi77i9XCIsXCLjgItcIjpcIu+4vlwiLFwi44CMXCI6XCLvuYFcIixcIuOAjVwiOlwi77mCXCIsXCLjgI5cIjpcIu+5g1wiLFwi44CPXCI6XCLvuYRcIixcIuOAkFwiOlwi77i7XCIsXCLjgJFcIjpcIu+4vFwiLFwi44CUXCI6XCLvuLlcIixcIuOAlVwiOlwi77i6XCIsXCLjgJZcIjpcIu+4l1wiLFwi44CXXCI6XCLvuJhcIixcIu+8gVwiOlwi77iVXCIsXCLvvIhcIjpcIu+4tVwiLFwi77yJXCI6XCLvuLZcIixcIu+8jFwiOlwi77iQXCIsXCLvvI1cIjpcIu+4slwiLFwi77yOXCI6XCLjg7tcIixcIu+8mlwiOlwi77iTXCIsXCLvvJtcIjpcIu+4lFwiLFwi77ycXCI6XCLvuL9cIixcIu+8nlwiOlwi77mAXCIsXCLvvJ9cIjpcIu+4llwiLFwi77y7XCI6XCLvuYdcIixcIu+8vVwiOlwi77mIXCIsXCLvvL9cIjpcIu+4s1wiLFwi772bXCI6XCLvuLdcIixcIu+9nFwiOlwi4oCVXCIsXCLvvZ1cIjpcIu+4uFwiLFwi772fXCI6XCLvuLVcIixcIu+9oFwiOlwi77i2XCIsXCLvvaFcIjpcIu+4klwiLFwi772iXCI6XCLvuYFcIixcIu+9o1wiOlwi77mCXCIsXCLihpBcIjpcIuKGkVwiLFwi4oaSXCI6XCLihpNcIn07ZnVuY3Rpb24gcG0odCl7cmV0dXJuIFwi77i2XCI9PT10fHxcIu+5iFwiPT09dHx8XCLvuLhcIj09PXR8fFwi77mEXCI9PT10fHxcIu+5glwiPT09dHx8XCLvuL5cIj09PXR8fFwi77i8XCI9PT10fHxcIu+4ulwiPT09dHx8XCLvuJhcIj09PXR8fFwi77mAXCI9PT10fHxcIu+4kFwiPT09dHx8XCLvuJNcIj09PXR8fFwi77iUXCI9PT10fHxcIu+9gFwiPT09dHx8XCLvv6NcIj09PXR8fFwi77iRXCI9PT10fHxcIu+4klwiPT09dH1mdW5jdGlvbiBmbSh0KXtyZXR1cm4gXCLvuLVcIj09PXR8fFwi77mHXCI9PT10fHxcIu+4t1wiPT09dHx8XCLvuYNcIj09PXR8fFwi77mBXCI9PT10fHxcIu+4vVwiPT09dHx8XCLvuLtcIj09PXR8fFwi77i5XCI9PT10fHxcIu+4l1wiPT09dHx8XCLvuL9cIj09PXR9dmFyIGRtPXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5yZWFkOmZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIGEscyxvPTgqaS1uLTEsbD0oMTw8byktMSx1PWw+PjEsYz0tNyxoPXI/aS0xOjAscD1yPy0xOjEsZj10W2UraF07Zm9yKGgrPXAsYT1mJigxPDwtYyktMSxmPj49LWMsYys9bztjPjA7YT0yNTYqYSt0W2UraF0saCs9cCxjLT04KTtmb3Iocz1hJigxPDwtYyktMSxhPj49LWMsYys9bjtjPjA7cz0yNTYqcyt0W2UraF0saCs9cCxjLT04KTtpZigwPT09YSlhPTEtdTtlbHNlIHtpZihhPT09bClyZXR1cm4gcz9OYU46MS8wKihmPy0xOjEpO3MrPU1hdGgucG93KDIsbiksYS09dTt9cmV0dXJuIChmPy0xOjEpKnMqTWF0aC5wb3coMixhLW4pfSx3cml0ZTpmdW5jdGlvbih0LGUscixuLGksYSl7dmFyIHMsbyxsLHU9OCphLWktMSxjPSgxPDx1KS0xLGg9Yz4+MSxwPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6YS0xLGQ9bj8xOi0xLG09ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhvPWlzTmFOKGUpPzE6MCxzPWMpOihzPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKGw9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sbCo9MiksKGUrPXMraD49MT9wL2w6cCpNYXRoLnBvdygyLDEtaCkpKmw+PTImJihzKyssbC89MikscytoPj1jPyhvPTAscz1jKTpzK2g+PTE/KG89KGUqbC0xKSpNYXRoLnBvdygyLGkpLHMrPWgpOihvPWUqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSkscz0wKSk7aT49ODt0W3IrZl09MjU1Jm8sZis9ZCxvLz0yNTYsaS09OCk7Zm9yKHM9czw8aXxvLHUrPWk7dT4wO3RbcitmXT0yNTUmcyxmKz1kLHMvPTI1Nix1LT04KTt0W3IrZi1kXXw9MTI4Km07fX0sbW09Z20seW09ZG07ZnVuY3Rpb24gZ20odCl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpuZXcgVWludDhBcnJheSh0fHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9Z20uVmFyaW50PTAsZ20uRml4ZWQ2ND0xLGdtLkJ5dGVzPTIsZ20uRml4ZWQzMj01O3ZhciB4bT00Mjk0OTY3Mjk2LHZtPTEveG0sYm09XCJ1bmRlZmluZWRcIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiBfbSh0KXtyZXR1cm4gdC50eXBlPT09Z20uQnl0ZXM/dC5yZWFkVmFyaW50KCkrdC5wb3M6dC5wb3MrMX1mdW5jdGlvbiB3bSh0LGUscil7cmV0dXJuIHI/NDI5NDk2NzI5NiplKyh0Pj4+MCk6NDI5NDk2NzI5NiooZT4+PjApKyh0Pj4+MCl9ZnVuY3Rpb24gTW0odCxlLHIpe3ZhciBuPWU8PTE2MzgzPzE6ZTw9MjA5NzE1MT8yOmU8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2coZSkvKDcqTWF0aC5MTjIpKTtyLnJlYWxsb2Mobik7Zm9yKHZhciBpPXIucG9zLTE7aT49dDtpLS0pci5idWZbaStuXT1yLmJ1ZltpXTt9ZnVuY3Rpb24gQW0odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlVmFyaW50KHRbcl0pO31mdW5jdGlvbiBTbSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTVmFyaW50KHRbcl0pO31mdW5jdGlvbiBJbSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGbG9hdCh0W3JdKTt9ZnVuY3Rpb24ga20odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRG91YmxlKHRbcl0pO31mdW5jdGlvbiBQbSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVCb29sZWFuKHRbcl0pO31mdW5jdGlvbiBFbSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGaXhlZDMyKHRbcl0pO31mdW5jdGlvbiB6bSh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTRml4ZWQzMih0W3JdKTt9ZnVuY3Rpb24gVG0odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlRml4ZWQ2NCh0W3JdKTt9ZnVuY3Rpb24gQm0odCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLndyaXRlU0ZpeGVkNjQodFtyXSk7fWZ1bmN0aW9uIENtKHQsZSl7cmV0dXJuICh0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsxNjc3NzIxNip0W2UrM119ZnVuY3Rpb24gUm0odCxlLHIpe3Rbcl09ZSx0W3IrMV09ZT4+PjgsdFtyKzJdPWU+Pj4xNix0W3IrM109ZT4+PjI0O31mdW5jdGlvbiBEbSh0LGUpe3JldHVybiAodFtlXXx0W2UrMV08PDh8dFtlKzJdPDwxNikrKHRbZSszXTw8MjQpfWdtLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKHQsZSxyKXtmb3Iocj1yfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxyOyl7dmFyIG49dGhpcy5yZWFkVmFyaW50KCksaT1uPj4zLGE9dGhpcy5wb3M7dGhpcy50eXBlPTcmbix0KGksZSx0aGlzKSx0aGlzLnBvcz09PWEmJnRoaXMuc2tpcChuKTt9cmV0dXJuIGV9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyh0LGUsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciB0PUNtKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsdH0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9RG0odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciB0PUNtKHRoaXMuYnVmLHRoaXMucG9zKStDbSh0aGlzLmJ1Zix0aGlzLnBvcys0KSp4bTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9Q20odGhpcy5idWYsdGhpcy5wb3MpK0RtKHRoaXMuYnVmLHRoaXMucG9zKzQpKnhtO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgdD15bS5yZWFkKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIHQ9eW0ucmVhZCh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsdH0scmVhZFZhcmludDpmdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5idWY7cmV0dXJuIGU9MTI3JihyPW5bdGhpcy5wb3MrK10pLHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDw3LHI8MTI4P2U6KGV8PSgxMjcmKHI9blt0aGlzLnBvcysrXSkpPDwxNCxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MjEscjwxMjg/ZTpmdW5jdGlvbih0LGUscil7dmFyIG4saSxhPXIuYnVmO2lmKG49KDExMiYoaT1hW3IucG9zKytdKSk+PjQsaTwxMjgpcmV0dXJuIHdtKHQsbixlKTtpZihufD0oMTI3JihpPWFbci5wb3MrK10pKTw8MyxpPDEyOClyZXR1cm4gd20odCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxMCxpPDEyOClyZXR1cm4gd20odCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwxNyxpPDEyOClyZXR1cm4gd20odCxuLGUpO2lmKG58PSgxMjcmKGk9YVtyLnBvcysrXSkpPDwyNCxpPDEyOClyZXR1cm4gd20odCxuLGUpO2lmKG58PSgxJihpPWFbci5wb3MrK10pKTw8MzEsaTwxMjgpcmV0dXJuIHdtKHQsbixlKTt0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlc1wiKX0oZXw9KDE1JihyPW5bdGhpcy5wb3NdKSk8PDI4LHQsdGhpcykpKSl9LHJlYWRWYXJpbnQ2NDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRWYXJpbnQoITApfSxyZWFkU1ZhcmludDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZFZhcmludCgpO3JldHVybiB0JTI9PTE/KHQrMSkvLTI6dC8yfSxyZWFkQm9vbGVhbjpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKX0scmVhZFN0cmluZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLGU9dGhpcy5wb3M7cmV0dXJuIHRoaXMucG9zPXQsdC1lPj0xMiYmYm0/ZnVuY3Rpb24odCxlLHIpe3JldHVybiBibS5kZWNvZGUodC5zdWJhcnJheShlLHIpKX0odGhpcy5idWYsZSx0KTpmdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPVwiXCIsaT1lO2k8cjspe3ZhciBhLHMsbyxsPXRbaV0sdT1udWxsLGM9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihpK2M+cilicmVhazsxPT09Yz9sPDEyOCYmKHU9bCk6Mj09PWM/MTI4PT0oMTkyJihhPXRbaSsxXSkpJiYodT0oMzEmbCk8PDZ8NjMmYSk8PTEyNyYmKHU9bnVsbCk6Mz09PWM/KHM9dFtpKzJdLDEyOD09KDE5MiYoYT10W2krMV0pKSYmMTI4PT0oMTkyJnMpJiYoKHU9KDE1JmwpPDwxMnwoNjMmYSk8PDZ8NjMmcyk8PTIwNDd8fHU+PTU1Mjk2JiZ1PD01NzM0MykmJih1PW51bGwpKTo0PT09YyYmKHM9dFtpKzJdLG89dFtpKzNdLDEyOD09KDE5MiYoYT10W2krMV0pKSYmMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImbykmJigodT0oMTUmbCk8PDE4fCg2MyZhKTw8MTJ8KDYzJnMpPDw2fDYzJm8pPD02NTUzNXx8dT49MTExNDExMikmJih1PW51bGwpKSxudWxsPT09dT8odT02NTUzMyxjPTEpOnU+NjU1MzUmJih1LT02NTUzNixuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHU+Pj4xMCYxMDIzfDU1Mjk2KSx1PTU2MzIwfDEwMjMmdSksbis9U3RyaW5nLmZyb21DaGFyQ29kZSh1KSxpKz1jO31yZXR1cm4gbn0odGhpcy5idWYsZSx0KX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsZT10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyx0KTtyZXR1cm4gdGhpcy5wb3M9dCxlfSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7aWYodGhpcy50eXBlIT09Z20uQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3ZhciByPV9tKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPHI7KXQucHVzaCh0aGlzLnJlYWRWYXJpbnQoZSkpO3JldHVybiB0fSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1nbS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIGU9X20odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWdtLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgZT1fbSh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWdtLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIGU9X20odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiB0fSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWdtLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciBlPV9tKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWdtLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgZT1fbSh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZSE9PWdtLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIGU9X20odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1nbS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIGU9X20odGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT1nbS5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciBlPV9tKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gdH0sc2tpcDpmdW5jdGlvbih0KXt2YXIgZT03JnQ7aWYoZT09PWdtLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYoZT09PWdtLkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYoZT09PWdtLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZSB7aWYoZSE9PWdtLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitlKTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVWYXJpbnQodDw8M3xlKTt9LHJlYWxsb2M6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMubGVuZ3RofHwxNjtlPHRoaXMucG9zK3Q7KWUqPTI7aWYoZSE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheShlKTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD1lO319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLFJtKHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksUm0odGhpcy5idWYsdCx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLFJtKHRoaXMuYnVmLC0xJnQsdGhpcy5wb3MpLFJtKHRoaXMuYnVmLE1hdGguZmxvb3IodCp2bSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxSbSh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxSbSh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqdm0pLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24odCl7KHQ9K3R8fDApPjI2ODQzNTQ1NXx8dDwwP2Z1bmN0aW9uKHQsZSl7dmFyIHIsbjtpZih0Pj0wPyhyPXQlNDI5NDk2NzI5NnwwLG49dC80Mjk0OTY3Mjk2fDApOihuPX4oLXQvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4ocj1+KC10JTQyOTQ5NjcyOTYpKT9yPXIrMXwwOihyPTAsbj1uKzF8MCkpLHQ+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fHQ8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXNcIik7ZS5yZWFsbG9jKDEwKSxmdW5jdGlvbih0LGUscil7ci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHIuYnVmW3IucG9zXT0xMjcmKHQ+Pj49Nyk7fShyLDAsZSksZnVuY3Rpb24odCxlKXt2YXIgcj0oNyZ0KTw8NDtlLmJ1ZltlLnBvcysrXXw9cnwoKHQ+Pj49Myk/MTI4OjApLHQmJihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLHQmJihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLHQmJihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLHQmJihlLmJ1ZltlLnBvcysrXT0xMjcmdHwoKHQ+Pj49Nyk/MTI4OjApLHQmJihlLmJ1ZltlLnBvcysrXT0xMjcmdCkpKSkpO30obixlKTt9KHQsdGhpcyk6KHRoaXMucmVhbGxvYyg0KSx0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmdHwodD4xMjc/MTI4OjApLHQ8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYodD4+Pj03KXwodD4xMjc/MTI4OjApLHQ8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYodD4+Pj03KXwodD4xMjc/MTI4OjApLHQ8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPXQ+Pj43JjEyNykpKSk7fSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24odCl7dGhpcy53cml0ZVZhcmludCh0PDA/MiotdC0xOjIqdCk7fSx3cml0ZUJvb2xlYW46ZnVuY3Rpb24odCl7dGhpcy53cml0ZVZhcmludChCb29sZWFuKHQpKTt9LHdyaXRlU3RyaW5nOmZ1bmN0aW9uKHQpe3Q9U3RyaW5nKHQpLHRoaXMucmVhbGxvYyg0KnQubGVuZ3RoKSx0aGlzLnBvcysrO3ZhciBlPXRoaXMucG9zO3RoaXMucG9zPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG4saSxhPTA7YTxlLmxlbmd0aDthKyspe2lmKChuPWUuY2hhckNvZGVBdChhKSk+NTUyOTUmJm48NTczNDQpe2lmKCFpKXtuPjU2MzE5fHxhKzE9PT1lLmxlbmd0aD8odFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODkpOmk9bjtjb250aW51ZX1pZihuPDU2MzIwKXt0W3IrK109MjM5LHRbcisrXT0xOTEsdFtyKytdPTE4OSxpPW47Y29udGludWV9bj1pLTU1Mjk2PDwxMHxuLTU2MzIwfDY1NTM2LGk9bnVsbDt9ZWxzZSBpJiYodFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1udWxsKTtuPDEyOD90W3IrK109bjoobjwyMDQ4P3RbcisrXT1uPj42fDE5Mjoobjw2NTUzNj90W3IrK109bj4+MTJ8MjI0Oih0W3IrK109bj4+MTh8MjQwLHRbcisrXT1uPj4xMiY2M3wxMjgpLHRbcisrXT1uPj42JjYzfDEyOCksdFtyKytdPTYzJm58MTI4KTt9cmV0dXJuIHJ9KHRoaXMuYnVmLHQsdGhpcy5wb3MpO3ZhciByPXRoaXMucG9zLWU7cj49MTI4JiZNbShlLHIsdGhpcyksdGhpcy5wb3M9ZS0xLHRoaXMud3JpdGVWYXJpbnQociksdGhpcy5wb3MrPXI7fSx3cml0ZUZsb2F0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg0KSx5bS53cml0ZSh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDIzLDQpLHRoaXMucG9zKz00O30sd3JpdGVEb3VibGU6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDgpLHltLndyaXRlKHRoaXMuYnVmLHQsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTg7fSx3cml0ZUJ5dGVzOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO3RoaXMud3JpdGVWYXJpbnQoZSksdGhpcy5yZWFsbG9jKGUpO2Zvcih2YXIgcj0wO3I8ZTtyKyspdGhpcy5idWZbdGhpcy5wb3MrK109dFtyXTt9LHdyaXRlUmF3TWVzc2FnZTpmdW5jdGlvbih0LGUpe3RoaXMucG9zKys7dmFyIHI9dGhpcy5wb3M7dChlLHRoaXMpO3ZhciBuPXRoaXMucG9zLXI7bj49MTI4JiZNbShyLG4sdGhpcyksdGhpcy5wb3M9ci0xLHRoaXMud3JpdGVWYXJpbnQobiksdGhpcy5wb3MrPW47fSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24odCxlLHIpe3RoaXMud3JpdGVUYWcodCxnbS5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UoZSxyKTt9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsQW0sZSk7fSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxTbSxlKTt9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LFBtLGUpO30sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LEltLGUpO30sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxrbSxlKTt9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LEVtLGUpO30sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LHptLGUpO30sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsVG0sZSk7fSx3cml0ZVBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsQm0sZSk7fSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ20uQnl0ZXMpLHRoaXMud3JpdGVCeXRlcyhlKTt9LHdyaXRlRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdtLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKGUpO30sd3JpdGVTRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdtLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMihlKTt9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdtLkZpeGVkNjQpLHRoaXMud3JpdGVGaXhlZDY0KGUpO30sd3JpdGVTRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LGdtLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NChlKTt9LHdyaXRlVmFyaW50RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ20uVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KGUpO30sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ20uVmFyaW50KSx0aGlzLndyaXRlU1ZhcmludChlKTt9LHdyaXRlU3RyaW5nRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ20uQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcoZSk7fSx3cml0ZUZsb2F0RmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsZ20uRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KGUpO30sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCxnbS5GaXhlZDY0KSx0aGlzLndyaXRlRG91YmxlKGUpO30sd3JpdGVCb29sZWFuRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVmFyaW50RmllbGQodCxCb29sZWFuKGUpKTt9fTt2YXIgVm09aChtbSk7Y29uc3QgTG09MztmdW5jdGlvbiBGbSh0LGUscil7ZS5nbHlwaHM9W10sMT09PXQmJnIucmVhZE1lc3NhZ2UoTm0sZSk7fWZ1bmN0aW9uIE5tKHQsZSxyKXtpZigzPT09dCl7Y29uc3R7aWQ6dCxiaXRtYXA6bix3aWR0aDppLGhlaWdodDphLGxlZnQ6cyx0b3A6byxhZHZhbmNlOmx9PXIucmVhZE1lc3NhZ2UoT20se30pO2UuZ2x5cGhzLnB1c2goe2lkOnQsYml0bWFwOm5ldyB2cCh7d2lkdGg6aSsyKkxtLGhlaWdodDphKzIqTG19LG4pLG1ldHJpY3M6e3dpZHRoOmksaGVpZ2h0OmEsbGVmdDpzLHRvcDpvLGFkdmFuY2U6bH19KTt9ZWxzZSA0PT09dD9lLmFzY2VuZGVyPXIucmVhZFNWYXJpbnQoKTo1PT09dCYmKGUuZGVzY2VuZGVyPXIucmVhZFNWYXJpbnQoKSk7fWZ1bmN0aW9uIE9tKHQsZSxyKXsxPT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PT10P2UuYml0bWFwPXIucmVhZEJ5dGVzKCk6Mz09PXQ/ZS53aWR0aD1yLnJlYWRWYXJpbnQoKTo0PT09dD9lLmhlaWdodD1yLnJlYWRWYXJpbnQoKTo1PT09dD9lLmxlZnQ9ci5yZWFkU1ZhcmludCgpOjY9PT10P2UudG9wPXIucmVhZFNWYXJpbnQoKTo3PT09dCYmKGUuYWR2YW5jZT1yLnJlYWRWYXJpbnQoKSk7fWNvbnN0IFVtPUxtLGptPXtob3Jpem9udGFsOjEsdmVydGljYWw6Mixob3Jpem9udGFsT25seTozfTtjbGFzcyBxbXtjb25zdHJ1Y3Rvcigpe3RoaXMuc2NhbGU9MSx0aGlzLmZvbnRTdGFjaz1cIlwiLHRoaXMuaW1hZ2VOYW1lPW51bGw7fXN0YXRpYyBmb3JUZXh0KHQsZSl7Y29uc3Qgcj1uZXcgcW07cmV0dXJuIHIuc2NhbGU9dHx8MSxyLmZvbnRTdGFjaz1lLHJ9c3RhdGljIGZvckltYWdlKHQpe2NvbnN0IGU9bmV3IHFtO3JldHVybiBlLmltYWdlTmFtZT10LGV9fWNsYXNzICRte2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0PVwiXCIsdGhpcy5zZWN0aW9uSW5kZXg9W10sdGhpcy5zZWN0aW9ucz1bXSx0aGlzLmltYWdlU2VjdGlvbklEPW51bGw7fXN0YXRpYyBmcm9tRmVhdHVyZSh0LGUpe2NvbnN0IHI9bmV3ICRtO2ZvcihsZXQgbj0wO248dC5zZWN0aW9ucy5sZW5ndGg7bisrKXtjb25zdCBpPXQuc2VjdGlvbnNbbl07aS5pbWFnZT9yLmFkZEltYWdlU2VjdGlvbihpKTpyLmFkZFRleHRTZWN0aW9uKGksZSk7fXJldHVybiByfWxlbmd0aCgpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofWdldFNlY3Rpb24odCl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbdF1dfWdldFNlY3Rpb25zKCl7cmV0dXJuIHRoaXMuc2VjdGlvbnN9Z2V0U2VjdGlvbkluZGV4KHQpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleFt0XX1nZXRDb2RlUG9pbnQodCl7cmV0dXJuIHRoaXMudGV4dC5jb2RlUG9pbnRBdCh0KX12ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKHQpe3RoaXMudGV4dD1mdW5jdGlvbih0LGUpe2xldCByPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dC5jaGFyQ29kZUF0KG4rMSl8fG51bGwsYT10LmNoYXJDb2RlQXQobi0xKXx8bnVsbDtyKz0hZSYmKGkmJnBhKGkpJiYhaG1bdFtuKzFdXXx8YSYmcGEoYSkmJiFobVt0W24tMV1dKXx8IWhtW3Rbbl1dP3Rbbl06aG1bdFtuXV07fXJldHVybiByfSh0aGlzLnRleHQsdCk7fXRyaW0oKXtsZXQgdD0wO2ZvcihsZXQgZT0wO2U8dGhpcy50ZXh0Lmxlbmd0aCYmWW1bdGhpcy50ZXh0LmNoYXJDb2RlQXQoZSldO2UrKyl0Kys7bGV0IGU9dGhpcy50ZXh0Lmxlbmd0aDtmb3IobGV0IHI9dGhpcy50ZXh0Lmxlbmd0aC0xO3I+PTAmJnI+PXQmJlltW3RoaXMudGV4dC5jaGFyQ29kZUF0KHIpXTtyLS0pZS0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKTt9c3Vic3RyaW5nKHQsZSl7Y29uc3Qgcj1uZXcgJG07cmV0dXJuIHIudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKHQsZSksci5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UodCxlKSxyLnNlY3Rpb25zPXRoaXMuc2VjdGlvbnMscn10b1N0cmluZygpe3JldHVybiB0aGlzLnRleHR9Z2V0TWF4U2NhbGUoKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXgucmVkdWNlKCgodCxlKT0+TWF0aC5tYXgodCx0aGlzLnNlY3Rpb25zW2VdLnNjYWxlKSksMCl9YWRkVGV4dFNlY3Rpb24odCxlKXt0aGlzLnRleHQrPXQudGV4dCx0aGlzLnNlY3Rpb25zLnB1c2gocW0uZm9yVGV4dCh0LnNjYWxlLHQuZm9udFN0YWNrfHxlKSk7Y29uc3Qgcj10aGlzLnNlY3Rpb25zLmxlbmd0aC0xO2ZvcihsZXQgZT0wO2U8dC50ZXh0Lmxlbmd0aDsrK2UpdGhpcy5zZWN0aW9uSW5kZXgucHVzaChyKTt9YWRkSW1hZ2VTZWN0aW9uKHQpe2NvbnN0IGU9dC5pbWFnZT90LmltYWdlLm5hbWVQcmltYXJ5OlwiXCI7aWYoMD09PWUubGVuZ3RoKXJldHVybiB2b2lkIGooXCJDYW4ndCBhZGQgRm9ybWF0dGVkU2VjdGlvbiB3aXRoIGFuIGVtcHR5IGltYWdlLlwiKTtjb25zdCByPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7cj8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNvZGVQb2ludChyKSx0aGlzLnNlY3Rpb25zLnB1c2gocW0uZm9ySW1hZ2UoZSkpLHRoaXMuc2VjdGlvbkluZGV4LnB1c2godGhpcy5zZWN0aW9ucy5sZW5ndGgtMSkpOmooXCJSZWFjaGVkIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyA2NDAxXCIpO31nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKXtyZXR1cm4gdGhpcy5pbWFnZVNlY3Rpb25JRD90aGlzLmltYWdlU2VjdGlvbklEPj02Mzc0Mz9udWxsOisrdGhpcy5pbWFnZVNlY3Rpb25JRDoodGhpcy5pbWFnZVNlY3Rpb25JRD01NzM0NCx0aGlzLmltYWdlU2VjdGlvbklEKX19ZnVuY3Rpb24gR20odCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQpe2NvbnN0IG09JG0uZnJvbUZlYXR1cmUodCxpKTtoPT09am0udmVydGljYWwmJm0udmVydGljYWxpemVQdW5jdHVhdGlvbihwKTtsZXQgeT1bXTtjb25zdCBnPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtpZighdClyZXR1cm4gW107Y29uc3Qgcz1bXSxvPWZ1bmN0aW9uKHQsZSxyLG4saSxhKXtsZXQgcz0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgoKTtyKyspe2NvbnN0IG89dC5nZXRTZWN0aW9uKHIpO3MrPVptKHQuZ2V0Q29kZVBvaW50KHIpLG8sbixpLGUsYSk7fXJldHVybiBzL01hdGgubWF4KDEsTWF0aC5jZWlsKHMvcikpfSh0LGUscixuLGksYSksbD10LnRleHQuaW5kZXhPZihcIuKAi1wiKT49MDtsZXQgdT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgoKTtyKyspe2NvbnN0IGg9dC5nZXRTZWN0aW9uKHIpLHA9dC5nZXRDb2RlUG9pbnQocik7aWYoWW1bcF18fCh1Kz1abShwLGgsbixpLGUsYSkpLHI8dC5sZW5ndGgoKS0xKXtjb25zdCBlPSEoKGM9cCk8MTE5MDR8fCEob2FbXCJCb3BvbW9mbyBFeHRlbmRlZFwiXShjKXx8b2EuQm9wb21vZm8oYyl8fG9hW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0oYyl8fG9hW1wiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1wiXShjKXx8b2FbXCJDSksgQ29tcGF0aWJpbGl0eVwiXShjKXx8b2FbXCJDSksgUmFkaWNhbHMgU3VwcGxlbWVudFwiXShjKXx8b2FbXCJDSksgU3Ryb2tlc1wiXShjKXx8b2FbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oYyl8fG9hW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQVwiXShjKXx8b2FbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKGMpfHxvYVtcIkVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcIl0oYyl8fG9hW1wiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIl0oYyl8fG9hLkhpcmFnYW5hKGMpfHxvYVtcIklkZW9ncmFwaGljIERlc2NyaXB0aW9uIENoYXJhY3RlcnNcIl0oYyl8fG9hW1wiS2FuZ3hpIFJhZGljYWxzXCJdKGMpfHxvYVtcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIl0oYyl8fG9hLkthdGFrYW5hKGMpfHxvYVtcIlZlcnRpY2FsIEZvcm1zXCJdKGMpfHxvYVtcIllpIFJhZGljYWxzXCJdKGMpfHxvYVtcIllpIFN5bGxhYmxlc1wiXShjKSkpOyhYbVtwXXx8ZXx8aC5pbWFnZU5hbWUpJiZzLnB1c2goV20ocisxLHUsbyxzLEhtKHAsdC5nZXRDb2RlUG9pbnQocisxKSxlJiZsKSwhMSkpO319dmFyIGM7cmV0dXJuIEptKFdtKHQubGVuZ3RoKCksdSxvLHMsMCwhMCkpfShtLHUsYSxlLG4sZikse3Byb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDp4LHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDp2fT1rYTtpZih4JiYxPT09bS5zZWN0aW9ucy5sZW5ndGgpe2NvbnN0IHQ9eChtLnRvU3RyaW5nKCksZyk7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1uZXcgJG07dC50ZXh0PWUsdC5zZWN0aW9ucz1tLnNlY3Rpb25zO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXQuc2VjdGlvbkluZGV4LnB1c2goMCk7eS5wdXNoKHQpO319ZWxzZSBpZih2KXtjb25zdCB0PXYobS50ZXh0LG0uc2VjdGlvbkluZGV4LGcpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9bmV3ICRtO3QudGV4dD1lWzBdLHQuc2VjdGlvbkluZGV4PWVbMV0sdC5zZWN0aW9ucz1tLnNlY3Rpb25zLHkucHVzaCh0KTt9fWVsc2UgeT1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W10sbj10LnRleHQ7bGV0IGk9MDtmb3IoY29uc3QgbiBvZiBlKXIucHVzaCh0LnN1YnN0cmluZyhpLG4pKSxpPW47cmV0dXJuIGk8bi5sZW5ndGgmJnIucHVzaCh0LnN1YnN0cmluZyhpLG4ubGVuZ3RoKSkscn0obSxnKTtjb25zdCBiPVtdLF89e3Bvc2l0aW9uZWRMaW5lczpiLHRleHQ6bS50b1N0cmluZygpLHRvcDpjWzFdLGJvdHRvbTpjWzFdLGxlZnQ6Y1swXSxyaWdodDpjWzBdLHdyaXRpbmdNb2RlOmgsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITEsaGFzQmFzZWxpbmU6ITF9O3JldHVybiBmdW5jdGlvbih0LGUscixuLGksYSxzLG8sbCx1LGMsaCl7bGV0IHA9MCxmPTAsZD0wO2NvbnN0IG09XCJyaWdodFwiPT09bz8xOlwibGVmdFwiPT09bz8wOi41O2xldCB5PSExO2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IHI9dC5nZXRTZWN0aW9ucygpO2Zvcihjb25zdCB0IG9mIHIpe2lmKHQuaW1hZ2VOYW1lKWNvbnRpbnVlO2NvbnN0IHI9ZVt0LmZvbnRTdGFja107aWYociYmKHk9dm9pZCAwIT09ci5hc2NlbmRlciYmdm9pZCAwIT09ci5kZXNjZW5kZXIsIXkpKWJyZWFrfWlmKCF5KWJyZWFrfWxldCBnPTA7Zm9yKGNvbnN0IHMgb2YgaSl7cy50cmltKCk7Y29uc3QgaT1zLmdldE1heFNjYWxlKCksbz0oaS0xKSppbSx2PXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07dC5wb3NpdGlvbmVkTGluZXNbZ109djtjb25zdCBiPXYucG9zaXRpb25lZEdseXBocztsZXQgXz0wO2lmKCFzLmxlbmd0aCgpKXtmKz1hLCsrZztjb250aW51ZX1sZXQgdz0wLE09MDtmb3IobGV0IGE9MDthPHMubGVuZ3RoKCk7YSsrKXtjb25zdCBvPXMuZ2V0U2VjdGlvbihhKSxkPXMuZ2V0U2VjdGlvbkluZGV4KGEpLG09cy5nZXRDb2RlUG9pbnQoYSk7bGV0IGc9by5zY2FsZSx2PW51bGwsQT1udWxsLFM9bnVsbCxJPWltLGs9MDtjb25zdCBQPSEobD09PWptLmhvcml6b250YWx8fCFjJiYhaGEobSl8fGMmJihZbVttXXx8KHg9bSxvYS5BcmFiaWMoeCl8fG9hW1wiQXJhYmljIFN1cHBsZW1lbnRcIl0oeCl8fG9hW1wiQXJhYmljIEV4dGVuZGVkLUFcIl0oeCl8fG9hW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKHgpfHxvYVtcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXSh4KSkpKTtpZihvLmltYWdlTmFtZSl7Y29uc3QgZT1uW28uaW1hZ2VOYW1lXTtpZighZSljb250aW51ZTtTPW8uaW1hZ2VOYW1lLHQuaWNvbnNJblRleHQ9dC5pY29uc0luVGV4dHx8ITAsQT1lLnBhZGRlZFJlY3Q7Y29uc3Qgcj1lLmRpc3BsYXlTaXplO2c9ZyppbS9oLHY9e3dpZHRoOnJbMF0saGVpZ2h0OnJbMV0sbGVmdDowLHRvcDotVW0sYWR2YW5jZTpQP3JbMV06clswXSxsb2NhbEdseXBoOiExfSxrPXk/LXYuaGVpZ2h0Kmc6aSppbS0xNy1yWzFdKmcsST12LmFkdmFuY2U7Y29uc3QgYT0oUD9yWzBdOnJbMV0pKmctaW0qaTthPjAmJmE+XyYmKF89YSk7fWVsc2Uge2NvbnN0IHQ9cltvLmZvbnRTdGFja107aWYoIXQpY29udGludWU7dFttXSYmKEE9dFttXSk7Y29uc3Qgbj1lW28uZm9udFN0YWNrXTtpZighbiljb250aW51ZTtjb25zdCBhPW4uZ2x5cGhzW21dO2lmKCFhKWNvbnRpbnVlO2lmKHY9YS5tZXRyaWNzLEk9ODIwMyE9PW0/aW06MCx5KXtjb25zdCB0PXZvaWQgMCE9PW4uYXNjZW5kZXI/TWF0aC5hYnMobi5hc2NlbmRlcik6MCxlPXZvaWQgMCE9PW4uZGVzY2VuZGVyP01hdGguYWJzKG4uZGVzY2VuZGVyKTowLHI9KHQrZSkqZzt3PHImJih3PXIsTT0odC1lKS8yKmcpLGs9LXQqZzt9ZWxzZSBrPShpLWcpKmltLTE3O31QPyh0LnZlcnRpY2FsaXphYmxlPSEwLGIucHVzaCh7Z2x5cGg6bSxpbWFnZU5hbWU6Uyx4OnAseTpmK2ssdmVydGljYWw6UCxzY2FsZTpnLGxvY2FsR2x5cGg6di5sb2NhbEdseXBoLGZvbnRTdGFjazpvLmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6ZCxtZXRyaWNzOnYscmVjdDpBfSkscCs9SSpnK3UpOihiLnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOlMseDpwLHk6ZitrLHZlcnRpY2FsOlAsc2NhbGU6Zyxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6by5mb250U3RhY2ssc2VjdGlvbkluZGV4OmQsbWV0cmljczp2LHJlY3Q6QX0pLHArPXYuYWR2YW5jZSpnK3UpO30wIT09Yi5sZW5ndGgmJihkPU1hdGgubWF4KHAtdSxkKSx5P3R5KGIsbSxfLE0sYSppLzIpOnR5KGIsbSxfLDAsYS8yKSkscD0wO2NvbnN0IEE9YSppK187di5saW5lT2Zmc2V0PU1hdGgubWF4KF8sbyksZis9QSwrK2c7fXZhciB4O2NvbnN0IHY9Zix7aG9yaXpvbnRhbEFsaWduOmIsdmVydGljYWxBbGlnbjpffT1RbShzKTsoKGZ1bmN0aW9uKHQsZSxyLG4saSxhKXtjb25zdCBzPShlLXIpKmksbz0tYSpuO2Zvcihjb25zdCBlIG9mIHQpZm9yKGNvbnN0IHQgb2YgZS5wb3NpdGlvbmVkR2x5cGhzKXQueCs9cyx0LnkrPW87fSkpKHQucG9zaXRpb25lZExpbmVzLG0sYixfLGQsdiksdC50b3ArPS1fKnYsdC5ib3R0b209dC50b3Ardix0LmxlZnQrPS1iKmQsdC5yaWdodD10LmxlZnQrZCx0Lmhhc0Jhc2VsaW5lPXk7fShfLGUscixuLHkscyxvLGwsaCx1LHAsZCksIWZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoMCE9PWUucG9zaXRpb25lZEdseXBocy5sZW5ndGgpcmV0dXJuICExO3JldHVybiAhMH0oYikmJl99Y29uc3QgWW09ezk6ITAsMTA6ITAsMTE6ITAsMTI6ITAsMTM6ITAsMzI6ITB9LFhtPXsxMDohMCwzMjohMCwzODohMCw0MDohMCw0MTohMCw0MzohMCw0NTohMCw0NzohMCwxNzM6ITAsMTgzOiEwLDgyMDM6ITAsODIwODohMCw4MjExOiEwLDgyMzE6ITB9O2Z1bmN0aW9uIFptKHQsZSxyLG4saSxhKXtpZihlLmltYWdlTmFtZSl7Y29uc3QgdD1uW2UuaW1hZ2VOYW1lXTtyZXR1cm4gdD90LmRpc3BsYXlTaXplWzBdKmUuc2NhbGUqaW0vYStpOjB9e2NvbnN0IG49cltlLmZvbnRTdGFja10sYT1uJiZuLmdseXBoc1t0XTtyZXR1cm4gYT9hLm1ldHJpY3MuYWR2YW5jZSplLnNjYWxlK2k6MH19ZnVuY3Rpb24gS20odCxlLHIsbil7Y29uc3QgaT1NYXRoLnBvdyh0LWUsMik7cmV0dXJuIG4/dDxlP2kvMjoyKmk6aStNYXRoLmFicyhyKSpyfWZ1bmN0aW9uIEhtKHQsZSxyKXtsZXQgbj0wO3JldHVybiAxMD09PXQmJihuLT0xZTQpLHImJihuKz0xNTApLDQwIT09dCYmNjUyODghPT10fHwobis9NTApLDQxIT09ZSYmNjUyODkhPT1lfHwobis9NTApLG59ZnVuY3Rpb24gV20odCxlLHIsbixpLGEpe2xldCBzPW51bGwsbz1LbShlLHIsaSxhKTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPUttKGUtdC54LHIsaSxhKSt0LmJhZG5lc3M7bjw9byYmKHM9dCxvPW4pO31yZXR1cm4ge2luZGV4OnQseDplLHByaW9yQnJlYWs6cyxiYWRuZXNzOm99fWZ1bmN0aW9uIEptKHQpe3JldHVybiB0P0ptKHQucHJpb3JCcmVhaykuY29uY2F0KHQuaW5kZXgpOltdfWZ1bmN0aW9uIFFtKHQpe2xldCBlPS41LHI9LjU7c3dpdGNoKHQpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6ZT0xO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6ZT0wO31zd2l0Y2godCl7Y2FzZVwiYm90dG9tXCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyPTE7YnJlYWs7Y2FzZVwidG9wXCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpyPTA7fXJldHVybiB7aG9yaXpvbnRhbEFsaWduOmUsdmVydGljYWxBbGlnbjpyfX1mdW5jdGlvbiB0eSh0LGUscixuLGkpe2lmKCEoZXx8cnx8bnx8aSkpcmV0dXJuO2NvbnN0IGE9dC5sZW5ndGgtMSxzPXRbYV0sbz0ocy54K3MubWV0cmljcy5hZHZhbmNlKnMuc2NhbGUpKmU7Zm9yKGxldCBlPTA7ZTw9YTtlKyspdFtlXS54LT1vLHRbZV0ueSs9cituK2k7fWZ1bmN0aW9uIGV5KHQsZSxyLG4pe2NvbnN0e2hvcml6b250YWxBbGlnbjppLHZlcnRpY2FsQWxpZ246YX09UW0obikscz1yWzBdLXQuZGlzcGxheVNpemVbMF0qaSxvPXJbMV0tdC5kaXNwbGF5U2l6ZVsxXSphO3JldHVybiB7aW1hZ2VQcmltYXJ5OnQsaW1hZ2VTZWNvbmRhcnk6ZSx0b3A6byxib3R0b206byt0LmRpc3BsYXlTaXplWzFdLGxlZnQ6cyxyaWdodDpzK3QuZGlzcGxheVNpemVbMF19fWZ1bmN0aW9uIHJ5KHQsZSxyLG4saSxhKXtjb25zdCBzPXQuaW1hZ2VQcmltYXJ5O2xldCBvO2lmKHMuY29udGVudCl7Y29uc3QgdD1zLmNvbnRlbnQsZT1zLnBpeGVsUmF0aW98fDE7bz1bdFswXS9lLHRbMV0vZSxzLmRpc3BsYXlTaXplWzBdLXRbMl0vZSxzLmRpc3BsYXlTaXplWzFdLXRbM10vZV07fWNvbnN0IGw9ZS5sZWZ0KmEsdT1lLnJpZ2h0KmE7bGV0IGMsaCxwLGY7XCJ3aWR0aFwiPT09cnx8XCJib3RoXCI9PT1yPyhmPWlbMF0rbC1uWzNdLGg9aVswXSt1K25bMV0pOihmPWlbMF0rKGwrdS1zLmRpc3BsYXlTaXplWzBdKS8yLGg9ZitzLmRpc3BsYXlTaXplWzBdKTtjb25zdCBkPWUudG9wKmEsbT1lLmJvdHRvbSphO3JldHVybiBcImhlaWdodFwiPT09cnx8XCJib3RoXCI9PT1yPyhjPWlbMV0rZC1uWzBdLHA9aVsxXSttK25bMl0pOihjPWlbMV0rKGQrbS1zLmRpc3BsYXlTaXplWzFdKS8yLHA9YytzLmRpc3BsYXlTaXplWzFdKSx7aW1hZ2VQcmltYXJ5OnMsaW1hZ2VTZWNvbmRhcnk6dm9pZCAwLHRvcDpjLHJpZ2h0OmgsYm90dG9tOnAsbGVmdDpmLGNvbGxpc2lvblBhZGRpbmc6b319Y2xhc3MgbnkgZXh0ZW5kcyBne2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7c3VwZXIodCxlKSx0aGlzLmFuZ2xlPW4sdGhpcy56PXIsdm9pZCAwIT09aSYmKHRoaXMuc2VnbWVudD1pKTt9Y2xvbmUoKXtyZXR1cm4gbmV3IG55KHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMuYW5nbGUsdGhpcy5zZWdtZW50KX19ZnVuY3Rpb24gaXkodCxlLHIsbixpKXtpZih2b2lkIDA9PT1lLnNlZ21lbnQpcmV0dXJuICEwO2xldCBhPWUscz1lLnNlZ21lbnQrMSxvPTA7Zm9yKDtvPi1yLzI7KXtpZihzLS0sczwwKXJldHVybiAhMTtvLT10W3NdLmRpc3QoYSksYT10W3NdO31vKz10W3NdLmRpc3QodFtzKzFdKSxzKys7Y29uc3QgbD1bXTtsZXQgdT0wO2Zvcig7bzxyLzI7KXtjb25zdCBlPXRbc10scj10W3MrMV07aWYoIXIpcmV0dXJuICExO2xldCBhPXRbcy0xXS5hbmdsZVRvKGUpLWUuYW5nbGVUbyhyKTtmb3IoYT1NYXRoLmFicygoYSszKk1hdGguUEkpJSgyKk1hdGguUEkpLU1hdGguUEkpLGwucHVzaCh7ZGlzdGFuY2U6byxhbmdsZURlbHRhOmF9KSx1Kz1hO28tbFswXS5kaXN0YW5jZT5uOyl1LT1sLnNoaWZ0KCkuYW5nbGVEZWx0YTtpZih1PmkpcmV0dXJuICExO3MrKyxvKz1lLmRpc3Qocik7fXJldHVybiAhMH1mdW5jdGlvbiBheSh0KXtsZXQgZT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspZSs9dFtyXS5kaXN0KHRbcisxXSk7cmV0dXJuIGV9ZnVuY3Rpb24gc3kodCxlLHIpe3JldHVybiB0Py42KmUqcjowfWZ1bmN0aW9uIG95KHQsZSl7cmV0dXJuIE1hdGgubWF4KHQ/dC5yaWdodC10LmxlZnQ6MCxlP2UucmlnaHQtZS5sZWZ0OjApfWZ1bmN0aW9uIGx5KHQsZSxyLG4saSxhKXtjb25zdCBzPXN5KHIsaSxhKSxvPW95KHIsbikqYTtsZXQgbD0wO2NvbnN0IHU9YXkodCkvMjtmb3IobGV0IHI9MDtyPHQubGVuZ3RoLTE7cisrKXtjb25zdCBuPXRbcl0saT10W3IrMV0sYT1uLmRpc3QoaSk7aWYobCthPnUpe2NvbnN0IGM9KHUtbCkvYSxoPXVlKG4ueCxpLngsYykscD11ZShuLnksaS55LGMpLGY9bmV3IG55KGgscCwwLGkuYW5nbGVUbyhuKSxyKTtyZXR1cm4gIXN8fGl5KHQsZixvLHMsZSk/Zjp2b2lkIDB9bCs9YTt9fWZ1bmN0aW9uIHV5KHQsZSxyLG4saSxhLHMsbyxsKXtjb25zdCB1PXN5KG4sYSxzKSxjPW95KG4saSksaD1jKnMscD0wPT09dFswXS54fHx0WzBdLng9PT1sfHwwPT09dFswXS55fHx0WzBdLnk9PT1sO3JldHVybiBlLWg8ZS80JiYoZT1oK2UvNCksY3kodCxwP2UvMipvJWU6KGMvMisyKmEpKnMqbyVlLGUsdSxyLGgscCwhMSxsKX1mdW5jdGlvbiBjeSh0LGUscixuLGksYSxzLG8sbCl7Y29uc3QgdT1hLzIsYz1heSh0KTtsZXQgaD0wLHA9ZS1yLGY9W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3Qgcz10W2VdLG89dFtlKzFdLGQ9cy5kaXN0KG8pLG09by5hbmdsZVRvKHMpO2Zvcig7cCtyPGgrZDspe3ArPXI7Y29uc3QgeT0ocC1oKS9kLGc9dWUocy54LG8ueCx5KSx4PXVlKHMueSxvLnkseSk7aWYoZz49MCYmZzxsJiZ4Pj0wJiZ4PGwmJnAtdT49MCYmcCt1PD1jKXtjb25zdCByPW5ldyBueShnLHgsMCxtLGUpO24mJiFpeSh0LHIsYSxuLGkpfHxmLnB1c2gocik7fX1oKz1kO31yZXR1cm4gb3x8Zi5sZW5ndGh8fHN8fChmPWN5KHQsaC8yLHIsbixpLGEscywhMCxsKSksZn1mdW5jdGlvbiBoeSh0LGUscixuLGkpe2NvbnN0IGE9W107Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspe2NvbnN0IG89dFtzXTtsZXQgbDtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoLTE7dCsrKXtsZXQgcz1vW3RdLHU9b1t0KzFdO3MueDxlJiZ1Lng8ZXx8KHMueDxlP3M9bmV3IGcoZSxzLnkrKGUtcy54KS8odS54LXMueCkqKHUueS1zLnkpKS5fcm91bmQoKTp1Lng8ZSYmKHU9bmV3IGcoZSxzLnkrKGUtcy54KS8odS54LXMueCkqKHUueS1zLnkpKS5fcm91bmQoKSkscy55PHImJnUueTxyfHwocy55PHI/cz1uZXcgZyhzLngrKHItcy55KS8odS55LXMueSkqKHUueC1zLngpLHIpLl9yb3VuZCgpOnUueTxyJiYodT1uZXcgZyhzLngrKHItcy55KS8odS55LXMueSkqKHUueC1zLngpLHIpLl9yb3VuZCgpKSxzLng+PW4mJnUueD49bnx8KHMueD49bj9zPW5ldyBnKG4scy55KyhuLXMueCkvKHUueC1zLngpKih1Lnktcy55KSkuX3JvdW5kKCk6dS54Pj1uJiYodT1uZXcgZyhuLHMueSsobi1zLngpLyh1Lngtcy54KSoodS55LXMueSkpLl9yb3VuZCgpKSxzLnk+PWkmJnUueT49aXx8KHMueT49aT9zPW5ldyBnKHMueCsoaS1zLnkpLyh1Lnktcy55KSoodS54LXMueCksaSkuX3JvdW5kKCk6dS55Pj1pJiYodT1uZXcgZyhzLngrKGktcy55KS8odS55LXMueSkqKHUueC1zLngpLGkpLl9yb3VuZCgpKSxsJiZzLmVxdWFscyhsW2wubGVuZ3RoLTFdKXx8KGw9W3NdLGEucHVzaChsKSksbC5wdXNoKHUpKSkpKTt9fXJldHVybiBhfWZ1bmN0aW9uIHB5KHQpe2xldCBlPTAscj0wO2Zvcihjb25zdCBuIG9mIHQpZSs9bi53Km4uaCxyPU1hdGgubWF4KHIsbi53KTt0LnNvcnQoKCh0LGUpPT5lLmgtdC5oKSk7Y29uc3Qgbj1be3g6MCx5OjAsdzpNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5zcXJ0KGUvLjk1KSksciksaDoxLzB9XTtsZXQgaT0wLGE9MDtmb3IoY29uc3QgZSBvZiB0KWZvcihsZXQgdD1uLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCByPW5bdF07aWYoIShlLnc+ci53fHxlLmg+ci5oKSl7aWYoZS54PXIueCxlLnk9ci55LGE9TWF0aC5tYXgoYSxlLnkrZS5oKSxpPU1hdGgubWF4KGksZS54K2UudyksZS53PT09ci53JiZlLmg9PT1yLmgpe2NvbnN0IGU9bi5wb3AoKTt0PG4ubGVuZ3RoJiYoblt0XT1lKTt9ZWxzZSBlLmg9PT1yLmg/KHIueCs9ZS53LHIudy09ZS53KTplLnc9PT1yLnc/KHIueSs9ZS5oLHIuaC09ZS5oKToobi5wdXNoKHt4OnIueCtlLncseTpyLnksdzpyLnctZS53LGg6ZS5ofSksci55Kz1lLmgsci5oLT1lLmgpO2JyZWFrfX1yZXR1cm4ge3c6aSxoOmEsZmlsbDplLyhpKmEpfHwwfX1yYShueSxcIkFuY2hvclwiKTtjb25zdCBmeT0xO2NsYXNzIGR5e2NvbnN0cnVjdG9yKHQse3BpeGVsUmF0aW86ZSx2ZXJzaW9uOnIsc3RyZXRjaFg6bixzdHJldGNoWTppLGNvbnRlbnQ6YX0pe3RoaXMucGFkZGVkUmVjdD10LHRoaXMucGl4ZWxSYXRpbz1lLHRoaXMuc3RyZXRjaFg9bix0aGlzLnN0cmV0Y2hZPWksdGhpcy5jb250ZW50PWEsdGhpcy52ZXJzaW9uPXI7fWdldCB0bCgpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrZnksdGhpcy5wYWRkZWRSZWN0LnkrZnldfWdldCBicigpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LnctZnksdGhpcy5wYWRkZWRSZWN0LnkrdGhpcy5wYWRkZWRSZWN0LmgtZnldfWdldCBkaXNwbGF5U2l6ZSgpe3JldHVybiBbKHRoaXMucGFkZGVkUmVjdC53LTIqZnkpL3RoaXMucGl4ZWxSYXRpbywodGhpcy5wYWRkZWRSZWN0LmgtMipmeSkvdGhpcy5waXhlbFJhdGlvXX19Y2xhc3MgbXl7Y29uc3RydWN0b3IodCxlKXtjb25zdCByPXt9LG49e307dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPVtdO2NvbnN0IGk9W107dGhpcy5hZGRJbWFnZXModCxyLGkpLHRoaXMuYWRkSW1hZ2VzKGUsbixpKTtjb25zdHt3OmEsaDpzfT1weShpKSxvPW5ldyBicCh7d2lkdGg6YXx8MSxoZWlnaHQ6c3x8MX0pO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IG49dFtlXSxpPXJbZV0ucGFkZGVkUmVjdDticC5jb3B5KG4uZGF0YSxvLHt4OjAseTowfSx7eDppLngrZnkseTppLnkrZnl9LG4uZGF0YSxuLnNkZik7fWZvcihjb25zdCB0IGluIGUpe2NvbnN0IHI9ZVt0XSxpPW5bdF0ucGFkZGVkUmVjdCxhPWkueCtmeSxzPWkueStmeSxsPXIuZGF0YS53aWR0aCx1PXIuZGF0YS5oZWlnaHQ7YnAuY29weShyLmRhdGEsbyx7eDowLHk6MH0se3g6YSx5OnN9LHIuZGF0YSksYnAuY29weShyLmRhdGEsbyx7eDowLHk6dS0xfSx7eDphLHk6cy0xfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGJwLmNvcHkoci5kYXRhLG8se3g6MCx5OjB9LHt4OmEseTpzK3V9LHt3aWR0aDpsLGhlaWdodDoxfSksYnAuY29weShyLmRhdGEsbyx7eDpsLTEseTowfSx7eDphLTEseTpzfSx7d2lkdGg6MSxoZWlnaHQ6dX0pLGJwLmNvcHkoci5kYXRhLG8se3g6MCx5OjB9LHt4OmErbCx5OnN9LHt3aWR0aDoxLGhlaWdodDp1fSk7fXRoaXMuaW1hZ2U9byx0aGlzLmljb25Qb3NpdGlvbnM9cix0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9bjt9YWRkSW1hZ2VzKHQsZSxyKXtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl0sYT17eDowLHk6MCx3OmkuZGF0YS53aWR0aCsyKmZ5LGg6aS5kYXRhLmhlaWdodCsyKmZ5fTtyLnB1c2goYSksZVtuXT1uZXcgZHkoYSxpKSxpLmhhc1JlbmRlckNhbGxiYWNrJiZ0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MucHVzaChuKTt9fXBhdGNoVXBkYXRlZEltYWdlcyh0LGUscil7dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPXRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcy5maWx0ZXIoKGU9PnQuaGFzSW1hZ2UoZSxyKSkpLHQuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLHIpO2Zvcihjb25zdCBuIGluIHQuZ2V0VXBkYXRlZEltYWdlcyhyKSl0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMuaWNvblBvc2l0aW9uc1tuXSx0LmdldEltYWdlKG4sciksZSksdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLnBhdHRlcm5Qb3NpdGlvbnNbbl0sdC5nZXRJbWFnZShuLHIpLGUpO31wYXRjaFVwZGF0ZWRJbWFnZSh0LGUscil7aWYoIXR8fCFlKXJldHVybjtpZih0LnZlcnNpb249PT1lLnZlcnNpb24pcmV0dXJuO3QudmVyc2lvbj1lLnZlcnNpb247Y29uc3RbbixpXT10LnRsLGE9ISFPYmplY3Qua2V5cyh0aGlzLnBhdHRlcm5Qb3NpdGlvbnMpLmxlbmd0aDtyLnVwZGF0ZShlLmRhdGEse3VzZU1pcG1hcDphfSx7eDpuLHk6aX0pO319cmEoZHksXCJJbWFnZVBvc2l0aW9uXCIpLHJhKG15LFwiSW1hZ2VBdGxhc1wiKTtjb25zdCB5eT0xZTIwO2Z1bmN0aW9uIGd5KHQsZSxyLG4saSxhLHMsbyxsKXtmb3IobGV0IHU9ZTt1PGUrbjt1KyspeHkodCxyKmErdSxhLGkscyxvLGwpO2ZvcihsZXQgdT1yO3U8citpO3UrKyl4eSh0LHUqYStlLDEsbixzLG8sbCk7fWZ1bmN0aW9uIHh5KHQsZSxyLG4saSxhLHMpe2FbMF09MCxzWzBdPS15eSxzWzFdPXl5LGlbMF09dFtlXTtmb3IobGV0IG89MSxsPTAsdT0wO288bjtvKyspe2lbb109dFtlK28qcl07Y29uc3Qgbj1vKm87ZG97Y29uc3QgdD1hW2xdO3U9KGlbb10taVt0XStuLXQqdCkvKG8tdCkvMjt9d2hpbGUodTw9c1tsXSYmLS1sPi0xKTtsKyssYVtsXT1vLHNbbF09dSxzW2wrMV09eXk7fWZvcihsZXQgbz0wLGw9MDtvPG47bysrKXtmb3IoO3NbbCsxXTxvOylsKys7Y29uc3Qgbj1hW2xdLHU9by1uO3RbZStvKnJdPWlbbl0rdSp1O319Y29uc3Qgdnk9MixieT17bm9uZTowLGlkZW9ncmFwaHM6MSxhbGw6Mn07Y2xhc3MgX3l7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMucmVxdWVzdE1hbmFnZXI9dCx0aGlzLmxvY2FsR2x5cGhNb2RlPWUsdGhpcy5sb2NhbEZvbnRGYW1pbHk9cix0aGlzLnVybHM9e30sdGhpcy5lbnRyaWVzPXt9LHRoaXMubG9jYWxHbHlwaHM9ezIwMDp7fSw0MDA6e30sNTAwOnt9LDkwMDp7fX07fXNldFVSTCh0LGUpe3RoaXMudXJsc1tlXT10O31nZXRHbHlwaHModCxlLHIpe2NvbnN0IGk9W10sYT10aGlzLnVybHNbZV18fG4uR0xZUEhTX1VSTDtmb3IoY29uc3QgZSBpbiB0KWZvcihjb25zdCByIG9mIHRbZV0paS5wdXNoKHtzdGFjazplLGlkOnJ9KTtFKGksKCh7c3RhY2s6dCxpZDplfSxyKT0+e2xldCBuPXRoaXMuZW50cmllc1t0XTtufHwobj10aGlzLmVudHJpZXNbdF09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e30sYXNjZW5kZXI6dm9pZCAwLGRlc2NlbmRlcjp2b2lkIDB9KTtsZXQgaT1uLmdseXBoc1tlXTtpZih2b2lkIDAhPT1pKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOml9KTtpZihpPXRoaXMuX3RpbnlTREYobix0LGUpLGkpcmV0dXJuIG4uZ2x5cGhzW2VdPWksdm9pZCByKG51bGwse3N0YWNrOnQsaWQ6ZSxnbHlwaDppfSk7Y29uc3Qgcz1NYXRoLmZsb29yKGUvMjU2KTtpZigyNTYqcz42NTUzNSlyZXR1cm4gdm9pZCByKG5ldyBFcnJvcihcImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWRcIikpO2lmKG4ucmFuZ2VzW3NdKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOml9KTtsZXQgbz1uLnJlcXVlc3RzW3NdO298fChvPW4ucmVxdWVzdHNbc109W10sX3kubG9hZEdseXBoUmFuZ2UodCxzLGEsdGhpcy5yZXF1ZXN0TWFuYWdlciwoKHQsZSk9PntpZihlKXtuLmFzY2VuZGVyPWUuYXNjZW5kZXIsbi5kZXNjZW5kZXI9ZS5kZXNjZW5kZXI7Zm9yKGNvbnN0IHQgaW4gZS5nbHlwaHMpdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCgrdCl8fChuLmdseXBoc1srdF09ZS5nbHlwaHNbK3RdKTtuLnJhbmdlc1tzXT0hMDt9Zm9yKGNvbnN0IHIgb2YgbylyKHQsZSk7ZGVsZXRlIG4ucmVxdWVzdHNbc107fSkpKSxvLnB1c2goKChuLGkpPT57bj9yKG4pOmkmJnIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOmkuZ2x5cGhzW2VdfHxudWxsfSk7fSkpO30pLCgodCxlKT0+e2lmKHQpcih0KTtlbHNlIGlmKGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0e3N0YWNrOnIsaWQ6bixnbHlwaDppfW9mIGUpdm9pZCAwPT09dFtyXSYmKHRbcl09e30pLHZvaWQgMD09PXRbcl0uZ2x5cGhzJiYodFtyXS5nbHlwaHM9e30pLHRbcl0uZ2x5cGhzW25dPWkmJntpZDppLmlkLGJpdG1hcDppLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6aS5tZXRyaWNzfSx0W3JdLmFzY2VuZGVyPXRoaXMuZW50cmllc1tyXS5hc2NlbmRlcix0W3JdLmRlc2NlbmRlcj10aGlzLmVudHJpZXNbcl0uZGVzY2VuZGVyO3IobnVsbCx0KTt9fSkpO31fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCh0KXtyZXR1cm4gdGhpcy5sb2NhbEdseXBoTW9kZSE9PWJ5Lm5vbmUmJih0aGlzLmxvY2FsR2x5cGhNb2RlPT09YnkuYWxsPyEhdGhpcy5sb2NhbEZvbnRGYW1pbHk6ISF0aGlzLmxvY2FsRm9udEZhbWlseSYmKG9hW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1wiXSh0KXx8b2FbXCJIYW5ndWwgU3lsbGFibGVzXCJdKHQpfHxvYS5IaXJhZ2FuYSh0KXx8b2EuS2F0YWthbmEodCl8fG9hW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKHQpfHxvYVtcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIl0odCl8fG9hW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQlwiXSh0KSkpfV90aW55U0RGKHQsZSxyKXtjb25zdCBuPXRoaXMubG9jYWxGb250RmFtaWx5O2lmKCFufHwhdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChyKSlyZXR1cm47bGV0IGk9dC50aW55U0RGO2lmKCFpKXtsZXQgcj1cIjQwMFwiOy9ib2xkL2kudGVzdChlKT9yPVwiOTAwXCI6L21lZGl1bS9pLnRlc3QoZSk/cj1cIjUwMFwiOi9saWdodC9pLnRlc3QoZSkmJihyPVwiMjAwXCIpLGk9dC50aW55U0RGPW5ldyBfeS5UaW55U0RGKHtmb250RmFtaWx5Om4sZm9udFdlaWdodDpyLGZvbnRTaXplOjI0KnZ5LGJ1ZmZlcjozKnZ5LHJhZGl1czo4KnZ5fSksaS5mb250V2VpZ2h0PXI7fWlmKHRoaXMubG9jYWxHbHlwaHNbaS5mb250V2VpZ2h0XVtyXSlyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdO2NvbnN0IGE9U3RyaW5nLmZyb21Db2RlUG9pbnQocikse2RhdGE6cyx3aWR0aDpvLGhlaWdodDpsLGdseXBoV2lkdGg6dSxnbHlwaEhlaWdodDpjLGdseXBoTGVmdDpoLGdseXBoVG9wOnAsZ2x5cGhBZHZhbmNlOmZ9PWkuZHJhdyhhKTtyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdPXtpZDpyLGJpdG1hcDpuZXcgdnAoe3dpZHRoOm8saGVpZ2h0Omx9LHMpLG1ldHJpY3M6e3dpZHRoOnUvdnksaGVpZ2h0OmMvdnksbGVmdDpoL3Z5LHRvcDpwL3Z5LTI3LGFkdmFuY2U6Zi92eSxsb2NhbEdseXBoOiEwfX19fV95LmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKHQsZSxyLG4saSl7Y29uc3QgYT0yNTYqZSxzPWErMjU1LG89bi50cmFuc2Zvcm1SZXF1ZXN0KG4ubm9ybWFsaXplR2x5cGhzVVJMKHIpLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLHQpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYCR7YX0tJHtzfWApLEF0LkdseXBocyk7UHQobywoKHQsZSk9PntpZih0KWkodCk7ZWxzZSBpZihlKXtjb25zdCB0PXt9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBWbSh0KS5yZWFkRmllbGRzKEZtLHt9KX0oZSk7Zm9yKGNvbnN0IGUgb2Ygci5nbHlwaHMpdFtlLmlkXT1lO2kobnVsbCx7Z2x5cGhzOnQsYXNjZW5kZXI6ci5hc2NlbmRlcixkZXNjZW5kZXI6ci5kZXNjZW5kZXJ9KTt9fSkpO30sX3kuVGlueVNERj1jbGFzc3tjb25zdHJ1Y3Rvcih7Zm9udFNpemU6dD0yNCxidWZmZXI6ZT0zLHJhZGl1czpyPTgsY3V0b2ZmOm49LjI1LGZvbnRGYW1pbHk6aT1cInNhbnMtc2VyaWZcIixmb250V2VpZ2h0OmE9XCJub3JtYWxcIixmb250U3R5bGU6cz1cIm5vcm1hbFwifT17fSl7dGhpcy5idWZmZXI9ZSx0aGlzLmN1dG9mZj1uLHRoaXMucmFkaXVzPXI7Y29uc3Qgbz10aGlzLnNpemU9dCs0KmUsbD10aGlzLl9jcmVhdGVDYW52YXMobyksdT10aGlzLmN0eD1sLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTt1LmZvbnQ9YCR7c30gJHthfSAke3R9cHggJHtpfWAsdS50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsdS50ZXh0QWxpZ249XCJsZWZ0XCIsdS5maWxsU3R5bGU9XCJibGFja1wiLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkobypvKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkobyksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkobysxKSx0aGlzLnY9bmV3IFVpbnQxNkFycmF5KG8pO31fY3JlYXRlQ2FudmFzKHQpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD1lLmhlaWdodD10LGV9ZHJhdyh0KXtjb25zdHt3aWR0aDplLGFjdHVhbEJvdW5kaW5nQm94QXNjZW50OnIsYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50Om4sYWN0dWFsQm91bmRpbmdCb3hMZWZ0OmksYWN0dWFsQm91bmRpbmdCb3hSaWdodDphfT10aGlzLmN0eC5tZWFzdXJlVGV4dCh0KSxzPU1hdGguY2VpbChyKSxvPU1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLE1hdGguY2VpbChhLWkpKSksbD1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIscytNYXRoLmNlaWwobikpLHU9bysyKnRoaXMuYnVmZmVyLGM9bCsyKnRoaXMuYnVmZmVyLGg9TWF0aC5tYXgodSpjLDApLHA9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGgpLGY9e2RhdGE6cCx3aWR0aDp1LGhlaWdodDpjLGdseXBoV2lkdGg6byxnbHlwaEhlaWdodDpsLGdseXBoVG9wOnMsZ2x5cGhMZWZ0OjAsZ2x5cGhBZHZhbmNlOmV9O2lmKDA9PT1vfHwwPT09bClyZXR1cm4gZjtjb25zdHtjdHg6ZCxidWZmZXI6bSxncmlkSW5uZXI6eSxncmlkT3V0ZXI6Z309dGhpcztkLmNsZWFyUmVjdChtLG0sbyxsKSxkLmZpbGxUZXh0KHQsbSxtK3MpO2NvbnN0IHg9ZC5nZXRJbWFnZURhdGEobSxtLG8sbCk7Zy5maWxsKHl5LDAsaCkseS5maWxsKDAsMCxoKTtmb3IobGV0IHQ9MDt0PGw7dCsrKWZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IHI9eC5kYXRhWzQqKHQqbytlKSszXS8yNTU7aWYoMD09PXIpY29udGludWU7Y29uc3Qgbj0odCttKSp1K2UrbTtpZigxPT09cilnW25dPTAseVtuXT15eTtlbHNlIHtjb25zdCB0PS41LXI7Z1tuXT10PjA/dCp0OjAseVtuXT10PDA/dCp0OjA7fX1neShnLDAsMCx1LGMsdSx0aGlzLmYsdGhpcy52LHRoaXMueiksZ3koeSxtLG0sbyxsLHUsdGhpcy5mLHRoaXMudix0aGlzLnopO2ZvcihsZXQgdD0wO3Q8aDt0Kyspe2NvbnN0IGU9TWF0aC5zcXJ0KGdbdF0pLU1hdGguc3FydCh5W3RdKTtwW3RdPU1hdGgucm91bmQoMjU1LTI1NSooZS90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpO31yZXR1cm4gZn19O2NvbnN0IHd5PWZ5O2Z1bmN0aW9uIE15KHQsZSxyLG4pe2NvbnN0IGk9W10sYT10LmltYWdlUHJpbWFyeSxzPWEucGl4ZWxSYXRpbyxvPWEucGFkZGVkUmVjdC53LTIqd3ksbD1hLnBhZGRlZFJlY3QuaC0yKnd5LHU9dC5yaWdodC10LmxlZnQsYz10LmJvdHRvbS10LnRvcCxoPWEuc3RyZXRjaFh8fFtbMCxvXV0scD1hLnN0cmV0Y2hZfHxbWzAsbF1dLGY9KHQsZSk9PnQrZVsxXS1lWzBdLGQ9aC5yZWR1Y2UoZiwwKSxtPXAucmVkdWNlKGYsMCkseT1vLWQseD1sLW07bGV0IHY9MCxiPWQsXz0wLHc9bSxNPTAsQT15LFM9MCxJPXg7aWYoYS5jb250ZW50JiZuKXtjb25zdCB0PWEuY29udGVudDt2PUF5KGgsMCx0WzBdKSxfPUF5KHAsMCx0WzFdKSxiPUF5KGgsdFswXSx0WzJdKSx3PUF5KHAsdFsxXSx0WzNdKSxNPXRbMF0tdixTPXRbMV0tXyxBPXRbMl0tdFswXS1iLEk9dFszXS10WzFdLXc7fWNvbnN0IGs9KG4saSxvLGwpPT57Y29uc3QgaD1JeShuLnN0cmV0Y2gtdixiLHUsdC5sZWZ0KSxwPWt5KG4uZml4ZWQtTSxBLG4uc3RyZXRjaCxkKSxmPUl5KGkuc3RyZXRjaC1fLHcsYyx0LnRvcCkseT1reShpLmZpeGVkLVMsSSxpLnN0cmV0Y2gsbSkseD1JeShvLnN0cmV0Y2gtdixiLHUsdC5sZWZ0KSxrPWt5KG8uZml4ZWQtTSxBLG8uc3RyZXRjaCxkKSxQPUl5KGwuc3RyZXRjaC1fLHcsYyx0LnRvcCksRT1reShsLmZpeGVkLVMsSSxsLnN0cmV0Y2gsbSksej1uZXcgZyhoLGYpLFQ9bmV3IGcoeCxmKSxCPW5ldyBnKHgsUCksQz1uZXcgZyhoLFApLFI9bmV3IGcocC9zLHkvcyksRD1uZXcgZyhrL3MsRS9zKSxWPWUqTWF0aC5QSS8xODA7aWYoVil7Y29uc3QgdD1NYXRoLnNpbihWKSxlPU1hdGguY29zKFYpLHI9W2UsLXQsdCxlXTt6Ll9tYXRNdWx0KHIpLFQuX21hdE11bHQociksQy5fbWF0TXVsdChyKSxCLl9tYXRNdWx0KHIpO31jb25zdCBMPW4uc3RyZXRjaCtuLmZpeGVkLEY9by5zdHJldGNoK28uZml4ZWQsTj1pLnN0cmV0Y2graS5maXhlZCxPPWwuc3RyZXRjaCtsLmZpeGVkLFU9dC5pbWFnZVNlY29uZGFyeTtyZXR1cm4ge3RsOnosdHI6VCxibDpDLGJyOkIsdGV4UHJpbWFyeTp7eDphLnBhZGRlZFJlY3QueCt3eStMLHk6YS5wYWRkZWRSZWN0Lnkrd3krTix3OkYtTCxoOk8tTn0sdGV4U2Vjb25kYXJ5OlU/e3g6VS5wYWRkZWRSZWN0Lngrd3krTCx5OlUucGFkZGVkUmVjdC55K3d5K04sdzpGLUwsaDpPLU59OnZvaWQgMCx3cml0aW5nTW9kZTp2b2lkIDAsZ2x5cGhPZmZzZXQ6WzAsMF0sc2VjdGlvbkluZGV4OjAscGl4ZWxPZmZzZXRUTDpSLHBpeGVsT2Zmc2V0QlI6RCxtaW5Gb250U2NhbGVYOkEvcy91LG1pbkZvbnRTY2FsZVk6SS9zL2MsaXNTREY6cn19O2lmKG4mJihhLnN0cmV0Y2hYfHxhLnN0cmV0Y2hZKSl7Y29uc3QgdD1TeShoLHksZCksZT1TeShwLHgsbSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC0xO3IrKyl7Y29uc3Qgbj10W3JdLGE9dFtyKzFdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaS5wdXNoKGsobixlW3RdLGEsZVt0KzFdKSk7fX1lbHNlIGkucHVzaChrKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6bysxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gaX1mdW5jdGlvbiBBeSh0LGUscil7bGV0IG49MDtmb3IoY29uc3QgaSBvZiB0KW4rPU1hdGgubWF4KGUsTWF0aC5taW4ocixpWzFdKSktTWF0aC5tYXgoZSxNYXRoLm1pbihyLGlbMF0pKTtyZXR1cm4gbn1mdW5jdGlvbiBTeSh0LGUscil7Y29uc3Qgbj1be2ZpeGVkOi13eSxzdHJldGNoOjB9XTtmb3IoY29uc3RbZSxyXW9mIHQpe2NvbnN0IHQ9bltuLmxlbmd0aC0xXTtuLnB1c2goe2ZpeGVkOmUtdC5zdHJldGNoLHN0cmV0Y2g6dC5zdHJldGNofSksbi5wdXNoKHtmaXhlZDplLXQuc3RyZXRjaCxzdHJldGNoOnQuc3RyZXRjaCsoci1lKX0pO31yZXR1cm4gbi5wdXNoKHtmaXhlZDplK3d5LHN0cmV0Y2g6cn0pLG59ZnVuY3Rpb24gSXkodCxlLHIsbil7cmV0dXJuIHQvZSpyK259ZnVuY3Rpb24ga3kodCxlLHIsbil7cmV0dXJuIHQtZSpyL259ZnVuY3Rpb24gUHkodCxlLHIsbil7Y29uc3QgaT1lK3QucG9zaXRpb25lZExpbmVzW25dLmxpbmVPZmZzZXQ7cmV0dXJuIDA9PT1uP3IraS8yOnIrKGkrKGUrdC5wb3NpdGlvbmVkTGluZXNbbi0xXS5saW5lT2Zmc2V0KSkvMn1mdW5jdGlvbiBFeSh0LGU9MSxyPSExKXtsZXQgbj0xLzAsaT0xLzAsYT0tMS8wLHM9LTEvMDtjb25zdCBvPXRbMF07Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IGU9b1t0XTsoIXR8fGUueDxuKSYmKG49ZS54KSwoIXR8fGUueTxpKSYmKGk9ZS55KSwoIXR8fGUueD5hKSYmKGE9ZS54KSwoIXR8fGUueT5zKSYmKHM9ZS55KTt9Y29uc3QgbD1NYXRoLm1pbihhLW4scy1pKTtsZXQgdT1sLzI7Y29uc3QgYz1uZXcgenIoW10senkpO2lmKDA9PT1sKXJldHVybiBuZXcgZyhuLGkpO2ZvcihsZXQgZT1uO2U8YTtlKz1sKWZvcihsZXQgcj1pO3I8cztyKz1sKWMucHVzaChuZXcgVHkoZSt1LHIrdSx1LHQpKTtsZXQgaD1mdW5jdGlvbih0KXtsZXQgZT0wLHI9MCxuPTA7Y29uc3QgaT10WzBdO2ZvcihsZXQgdD0wLGE9aS5sZW5ndGgscz1hLTE7dDxhO3M9dCsrKXtjb25zdCBhPWlbdF0sbz1pW3NdLGw9YS54Km8ueS1vLngqYS55O3IrPShhLngrby54KSpsLG4rPShhLnkrby55KSpsLGUrPTMqbDt9cmV0dXJuIG5ldyBUeShyL2Usbi9lLDAsdCl9KHQpLHA9Yy5sZW5ndGg7Zm9yKDtjLmxlbmd0aDspe2NvbnN0IG49Yy5wb3AoKTsobi5kPmguZHx8IWguZCkmJihoPW4sciYmY29uc29sZS5sb2coXCJmb3VuZCBiZXN0ICVkIGFmdGVyICVkIHByb2Jlc1wiLE1hdGgucm91bmQoMWU0Km4uZCkvMWU0LHApKSxuLm1heC1oLmQ8PWV8fCh1PW4uaC8yLGMucHVzaChuZXcgVHkobi5wLngtdSxuLnAueS11LHUsdCkpLGMucHVzaChuZXcgVHkobi5wLngrdSxuLnAueS11LHUsdCkpLGMucHVzaChuZXcgVHkobi5wLngtdSxuLnAueSt1LHUsdCkpLGMucHVzaChuZXcgVHkobi5wLngrdSxuLnAueSt1LHUsdCkpLHArPTQpO31yZXR1cm4gciYmKGNvbnNvbGUubG9nKGBudW0gcHJvYmVzOiAke3B9YCksY29uc29sZS5sb2coYGJlc3QgZGlzdGFuY2U6ICR7aC5kfWApKSxoLnB9ZnVuY3Rpb24genkodCxlKXtyZXR1cm4gZS5tYXgtdC5tYXh9Y2xhc3MgVHl7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5wPW5ldyBnKHQsZSksdGhpcy5oPXIsdGhpcy5kPWZ1bmN0aW9uKHQsZSl7bGV0IHI9ITEsbj0xLzA7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IGE9ZVtpXTtmb3IobGV0IGU9MCxpPWEubGVuZ3RoLHM9aS0xO2U8aTtzPWUrKyl7Y29uc3QgaT1hW2VdLG89YVtzXTtpLnk+dC55IT1vLnk+dC55JiZ0Lng8KG8ueC1pLngpKih0LnktaS55KS8oby55LWkueSkraS54JiYocj0hciksbj1NYXRoLm1pbihuLHFsKHQsaSxvKSk7fX1yZXR1cm4gKHI/MTotMSkqTWF0aC5zcXJ0KG4pfSh0aGlzLnAsbiksdGhpcy5tYXg9dGhpcy5kK3RoaXMuaCpNYXRoLlNRUlQyO319Y29uc3QgQnk9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLEN5PU1hdGguc3FydCgyKTtmdW5jdGlvbiBSeSh0LFtlLHJdKXtsZXQgbj0wLGk9MDtpZihyPT09Qnkpe2U8MCYmKGU9MCk7Y29uc3Qgcj1lL0N5O3N3aXRjaCh0KXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOmk9ci03O2JyZWFrO2Nhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6aT03LXI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6aT03LWU7YnJlYWs7Y2FzZVwidG9wXCI6aT1lLTc7fXN3aXRjaCh0KXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpuPS1yO2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpuPXI7YnJlYWs7Y2FzZVwibGVmdFwiOm49ZTticmVhaztjYXNlXCJyaWdodFwiOm49LWU7fX1lbHNlIHtzd2l0Y2goZT1NYXRoLmFicyhlKSxyPU1hdGguYWJzKHIpLHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwidG9wXCI6aT1yLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJib3R0b21cIjppPTctcjt9c3dpdGNoKHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcInJpZ2h0XCI6bj0tZTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6Y2FzZVwibGVmdFwiOm49ZTt9fXJldHVybiBbbixpXX1mdW5jdGlvbiBEeSh0KXtzd2l0Y2godCl7Y2FzZVwicmlnaHRcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpyZXR1cm4gXCJyaWdodFwiO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cmV0dXJuIFwibGVmdFwifXJldHVybiBcImNlbnRlclwifWZ1bmN0aW9uIFZ5KHQsZSxyLG4saSxhLHMsbyxsLHUsYyxoLHAsZixkKXtsZXQgbT1hLnRleHRNYXhTaXplLmV2YWx1YXRlKGUse30saCk7dm9pZCAwPT09bSYmKG09cyk7Y29uc3QgeT10LmxheWVyc1swXS5sYXlvdXQsZz15LmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKGUse30saCkseD1PeShyLmhvcml6b250YWwpfHxyLnZlcnRpY2FsLHY9XCJnbG9iZVwiPT09cC5uYW1lLF89aW0sdz1zL18sTT10LnRpbGVQaXhlbFJhdGlvKm0vXyxBPShCPXQub3ZlcnNjYWxpbmcsdC56b29tPjE4JiZCPjImJihCPj49MSksTWF0aC5tYXgoVHIvKDUxMipCKSwxKSp5LmdldChcInN5bWJvbC1zcGFjaW5nXCIpKSxTPXkuZ2V0KFwidGV4dC1wYWRkaW5nXCIpKnQudGlsZVBpeGVsUmF0aW8sST15LmdldChcImljb24tcGFkZGluZ1wiKSp0LnRpbGVQaXhlbFJhdGlvLGs9Yih5LmdldChcInRleHQtbWF4LWFuZ2xlXCIpKSxQPVwibWFwXCI9PT15LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT15LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksRT1cIm1hcFwiPT09eS5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09eS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHo9eS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLFQ9QS8yO3ZhciBCO2NvbnN0IEM9eS5nZXQoXCJpY29uLXRleHQtZml0XCIpLmV2YWx1YXRlKGUse30saCksUj15LmdldChcImljb24tdGV4dC1maXQtcGFkZGluZ1wiKS5ldmFsdWF0ZShlLHt9LGgpLEQ9XCJub25lXCIhPT1DO2xldCBWOyExPT09dC5oYXNBbnlJY29uVGV4dEZpdCYmRCYmKHQuaGFzQW55SWNvblRleHRGaXQ9ITApLG4mJkQmJih0LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnIudmVydGljYWwmJihWPXJ5KG4sci52ZXJ0aWNhbCxDLFIsZyx3KSkseCYmKG49cnkobix4LEMsUixnLHcpKSk7Y29uc3QgTD0ocyxvLG0pPT57aWYoby54PDB8fG8ueD49VHJ8fG8ueTwwfHxvLnk+PVRyKXJldHVybjtsZXQgeT1udWxsO2lmKHYpe2NvbnN0e3g6dCx5OmUsejpyfT1wLnByb2plY3RUaWxlUG9pbnQoby54LG8ueSxtKTt5PXthbmNob3I6bmV3IG55KHQsZSxyLDAsdm9pZCAwKSx1cDpwLnVwVmVjdG9yKG0sby54LG8ueSl9O30hZnVuY3Rpb24odCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LGcseCx2LGIsXyx3LE0sQSxTLEkpe2NvbnN0IGs9dC5hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLG4pO2xldCBQLEUseixULEIsQyxSLEQ9MCxWPTAsTD0wLEY9MCxOPS0xLE89LTE7Y29uc3QgVT17fTtsZXQgcT1obyhcIlwiKTtjb25zdCAkPXI/ci5hbmNob3I6ZSxHPVwibm9uZVwiIT09bC5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKS5ldmFsdWF0ZShiLHt9LEEpO2xldCBZPTAsWD0wO2lmKHZvaWQgMD09PWwuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpP1tZLFhdPWwubGF5b3V0LmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKGIse30sQSkubWFwKCh0PT50KmltKSk6KFk9bC5sYXlvdXQuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKGIse30sQSkqaW0sWD1CeSksdC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZpLnZlcnRpY2FsKXtjb25zdCB0PWkudmVydGljYWw7aWYoZClDPWp5KHQpLG8mJihSPWp5KG8pKTtlbHNlIHtjb25zdCByPWwubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKGIse30sQSkrOTA7ej1VeSh1LCQsZSxjLGgscCx0LGYscixtKSxvJiYoVD1VeSh1LCQsZSxjLGgscCxvLGcscikpO319aWYoYSl7Y29uc3Qgbj1sLmxheW91dC5nZXQoXCJpY29uLXJvdGF0ZVwiKS5ldmFsdWF0ZShiLHt9LEEpLGk9TXkoYSxuLHcsRykscz1vP015KG8sbix3LEcpOnZvaWQgMDtFPVV5KHUsJCxlLGMsaCxwLGEsZyxuKSxEPTQqaS5sZW5ndGg7Y29uc3QgZj10Lmljb25TaXplRGF0YTtsZXQgZD1udWxsO1wic291cmNlXCI9PT1mLmtpbmQ/KGQ9W2FtKmwubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5ldmFsdWF0ZShiLHt9LEEpXSxkWzBdPkZ5JiZqKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJpY29uLXNpemVcIiBpcyA+PSAke0x5fS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi5gKSk6XCJjb21wb3NpdGVcIj09PWYua2luZCYmKGQ9W2FtKl8uY29tcG9zaXRlSWNvblNpemVzWzBdLmV2YWx1YXRlKGIse30sQSksYW0qXy5jb21wb3NpdGVJY29uU2l6ZXNbMV0uZXZhbHVhdGUoYix7fSxBKV0sKGRbMF0+Rnl8fGRbMV0+RnkpJiZqKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJpY29uLXNpemVcIiBpcyA+PSAke0x5fS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi5gKSksdC5hZGRTeW1ib2xzKHQuaWNvbixpLGQsdix4LGIsITEscixlLGsubGluZVN0YXJ0SW5kZXgsay5saW5lTGVuZ3RoLC0xLE0sQSxTLEkpLE49dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xLHMmJihWPTQqcy5sZW5ndGgsdC5hZGRTeW1ib2xzKHQuaWNvbixzLGQsdix4LGIsam0udmVydGljYWwscixlLGsubGluZVN0YXJ0SW5kZXgsay5saW5lTGVuZ3RoLC0xLE0sQSxTLEkpLE89dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xKTt9Zm9yKGNvbnN0IG4gaW4gaS5ob3Jpem9udGFsKXtjb25zdCBhPWkuaG9yaXpvbnRhbFtuXTtQfHwocT1obyhhLnRleHQpLGQ/Qj1qeShhKTpQPVV5KHUsJCxlLGMsaCxwLGEsZixsLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShiLHt9LEEpLG0pKTtjb25zdCBvPTE9PT1hLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGg7aWYoTCs9TnkodCxyLGUsYSxzLGwsZCxiLG0sayxpLnZlcnRpY2FsP2ptLmhvcml6b250YWw6am0uaG9yaXpvbnRhbE9ubHksbz9PYmplY3Qua2V5cyhpLmhvcml6b250YWwpOltuXSxVLE4sXyxNLEEsUyksbylicmVha31pLnZlcnRpY2FsJiYoRis9TnkodCxyLGUsaS52ZXJ0aWNhbCxzLGwsZCxiLG0sayxqbS52ZXJ0aWNhbCxbXCJ2ZXJ0aWNhbFwiXSxVLE8sXyxNLEEsUykpO2xldCBaPS0xO2NvbnN0IEs9KHQsZSk9PnQ/TWF0aC5tYXgodCxlKTplO1o9SyhCLFopLFo9SyhDLFopLFo9SyhSLFopO2NvbnN0IEg9Wj4tMT8xOjA7dC5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aD49NjU1MzUmJmooXCJUb28gbWFueSBnbHlwaHMgYmVpbmcgcmVuZGVyZWQgaW4gYSB0aWxlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5MDdcIiksdm9pZCAwIT09Yi5zb3J0S2V5JiZ0LmFkZFRvU29ydEtleVJhbmdlcyh0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGgsYi5zb3J0S2V5KSx0LnN5bWJvbEluc3RhbmNlcy5lbXBsYWNlQmFjayhlLngsZS55LCQueCwkLnksJC56LFUucmlnaHQ+PTA/VS5yaWdodDotMSxVLmNlbnRlcj49MD9VLmNlbnRlcjotMSxVLmxlZnQ+PTA/VS5sZWZ0Oi0xLFUudmVydGljYWw+PTA/VS52ZXJ0aWNhbDotMSxOLE8scSx2b2lkIDAhPT1QP1A6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09UD9QKzE6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09ej96OnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PXo/eisxOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUU/RTp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1FP0UrMTp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxUfHx0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxUP1QrMTp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxjLEwsRixELFYsSCwwLFksWCxaLDAsRz8xOjApO30odCxvLHkscyxyLG4saSxWLHQubGF5ZXJzWzBdLHQuY29sbGlzaW9uQm94QXJyYXksZS5pbmRleCxlLnNvdXJjZUxheWVySW5kZXgsdC5pbmRleCxTLFAsbCwwLEksRSxnLGUsYSx1LGMsaCxmLGQpO307aWYoXCJsaW5lXCI9PT16KWZvcihjb25zdCBpIG9mIGh5KGUuZ2VvbWV0cnksMCwwLFRyLFRyKSl7Y29uc3QgZT11eShpLEEsayxyLnZlcnRpY2FsfHx4LG4sXyxNLHQub3ZlcnNjYWxpbmcsVHIpO2Zvcihjb25zdCByIG9mIGUpeCYmcXkodCx4LnRleHQsVCxyKXx8TChpLHIsaCk7fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09eil7Zm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlpZih0Lmxlbmd0aD4xKXtjb25zdCBlPWx5KHQsayxyLnZlcnRpY2FsfHx4LG4sXyxNKTtlJiZMKHQsZSxoKTt9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgbmYoZS5nZW9tZXRyeSwwKSl7Y29uc3QgZT1FeSh0LDE2KTtMKHRbMF0sbmV3IG55KGUueCxlLnksMCwwLHZvaWQgMCksaCk7fWVsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlMKHQsbmV3IG55KHRbMF0ueCx0WzBdLnksMCwwLHZvaWQgMCksaCk7ZWxzZSBpZihcIlBvaW50XCI9PT1lLnR5cGUpZm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlmb3IoY29uc3QgZSBvZiB0KUwoW2VdLG5ldyBueShlLngsZS55LDAsMCx2b2lkIDApLGgpO31jb25zdCBMeT0yNTUsRnk9THkqYW07ZnVuY3Rpb24gTnkodCxlLHIsbixpLGEscyxvLGwsdSxjLGgscCxmLGQsbSx5LHgpe2NvbnN0IHY9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvKXtjb25zdCBsPVtdO2lmKDA9PT1lLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpcmV0dXJuIGw7Y29uc3QgdT1uLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShhLHt9KSpNYXRoLlBJLzE4MCxjPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dFswXSxyPXRbMV0sbj1lKnI7cmV0dXJuIG4+MD9bZSwtcl06bjwwP1stZSxyXTowPT09ZT9bcixlXTpbciwtZV19KHIpO2xldCBoPU1hdGguYWJzKGUudG9wLWUuYm90dG9tKTtmb3IoY29uc3QgdCBvZiBlLnBvc2l0aW9uZWRMaW5lcyloLT10LmxpbmVPZmZzZXQ7Y29uc3QgcD1lLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgsZj1oL3A7bGV0IGQ9ZS50b3AtclsxXTtmb3IobGV0IHQ9MDt0PHA7Kyt0KXtjb25zdCBuPWUucG9zaXRpb25lZExpbmVzW3RdO2Q9UHkoZSxmLGQsdCk7Zm9yKGNvbnN0IHQgb2Ygbi5wb3NpdGlvbmVkR2x5cGhzKXtpZighdC5yZWN0KWNvbnRpbnVlO2NvbnN0IG49dC5yZWN0fHx7fTtsZXQgYT1VbSsxLGg9ITAscD0xLGY9MDtpZih0LmltYWdlTmFtZSl7Y29uc3QgZT1zW3QuaW1hZ2VOYW1lXTtpZighZSljb250aW51ZTtpZihlLnNkZil7aihcIlNERiBpbWFnZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gZm9ybWF0dGVkIHRleHQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIik7Y29udGludWV9aD0hMSxwPWUucGl4ZWxSYXRpbyxhPWZ5L3A7fWNvbnN0IG09KGl8fG8pJiZ0LnZlcnRpY2FsLHk9dC5tZXRyaWNzLmFkdmFuY2UqdC5zY2FsZS8yLHg9dC5tZXRyaWNzLHY9dC5yZWN0O2lmKG51bGw9PT12KWNvbnRpbnVlO28mJmUudmVydGljYWxpemFibGUmJihmPXQuaW1hZ2VOYW1lP3ktdC5tZXRyaWNzLndpZHRoKnQuc2NhbGUvMjowKTtjb25zdCBiPWk/W3QueCt5LHQueV06WzAsMF07bGV0IF89WzAsMF0sdz1bMCwwXSxNPSExO2l8fChtPyh3PVt0LngreStjWzBdLHQueStjWzFdLWZdLE09ITApOl89W3QueCt5K3JbMF0sdC55K3JbMV0tZl0pO2NvbnN0IEE9di53KnQuc2NhbGUvKHAqKHQubG9jYWxHbHlwaD92eToxKSksUz12LmgqdC5zY2FsZS8ocCoodC5sb2NhbEdseXBoP3Z5OjEpKTtsZXQgSSxrLFAsRTtpZihtKXtjb25zdCBlPXQueS1kLHI9bmV3IGcoLXkseS1lKSxuPS1NYXRoLlBJLzIsaT1uZXcgZyguLi53KTtJPW5ldyBnKC15K19bMF0sX1sxXSksSS5fcm90YXRlQXJvdW5kKG4scikuX2FkZChpKSxJLngrPS1lK3ksSS55LT0oeC5sZWZ0LWEpKnQuc2NhbGU7Y29uc3Qgcz10LmltYWdlTmFtZT94LmFkdmFuY2UqdC5zY2FsZTppbSp0LnNjYWxlLG89U3RyaW5nLmZyb21Db2RlUG9pbnQodC5nbHlwaCk7cG0obyk/SS54Kz0oMS1hKSp0LnNjYWxlOmZtKG8pP0kueCs9cy14LmhlaWdodCp0LnNjYWxlKygtYS0xKSp0LnNjYWxlOkkueCs9dC5pbWFnZU5hbWV8fHgud2lkdGgrMiphPT09di53JiZ4LmhlaWdodCsyKmE9PT12Lmg/KHMtUykvMjoocy0oeC5oZWlnaHQrMiphKSp0LnNjYWxlKS8yLGs9bmV3IGcoSS54LEkueS1BKSxQPW5ldyBnKEkueCtTLEkueSksRT1uZXcgZyhJLngrUyxJLnktQSk7fWVsc2Uge2NvbnN0IGU9KHgubGVmdC1hKSp0LnNjYWxlLXkrX1swXSxyPSgteC50b3AtYSkqdC5zY2FsZStfWzFdLG49ZStBLGk9citTO0k9bmV3IGcoZSxyKSxrPW5ldyBnKG4sciksUD1uZXcgZyhlLGkpLEU9bmV3IGcobixpKTt9aWYodSl7bGV0IHQ7dD1pP25ldyBnKDAsMCk6TT9uZXcgZyhjWzBdLGNbMV0pOm5ldyBnKHJbMF0sclsxXSksSS5fcm90YXRlQXJvdW5kKHUsdCksay5fcm90YXRlQXJvdW5kKHUsdCksUC5fcm90YXRlQXJvdW5kKHUsdCksRS5fcm90YXRlQXJvdW5kKHUsdCk7fWNvbnN0IHo9bmV3IGcoMCwwKSxUPW5ldyBnKDAsMCk7bC5wdXNoKHt0bDpJLHRyOmssYmw6UCxicjpFLHRleFByaW1hcnk6bix0ZXhTZWNvbmRhcnk6dm9pZCAwLHdyaXRpbmdNb2RlOmUud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6YixzZWN0aW9uSW5kZXg6dC5zZWN0aW9uSW5kZXgsaXNTREY6aCxwaXhlbE9mZnNldFRMOnoscGl4ZWxPZmZzZXRCUjpULG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiBsfSgwLG4sbCxhLHMsbyxpLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksYj10LnRleHRTaXplRGF0YTtsZXQgXz1udWxsO1wic291cmNlXCI9PT1iLmtpbmQ/KF89W2FtKmEubGF5b3V0LmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShvLHt9LHkpXSxfWzBdPkZ5JiZqKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAke0x5fS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi5gKSk6XCJjb21wb3NpdGVcIj09PWIua2luZCYmKF89W2FtKmQuY29tcG9zaXRlVGV4dFNpemVzWzBdLmV2YWx1YXRlKG8se30seSksYW0qZC5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUobyx7fSx5KV0sKF9bMF0+Rnl8fF9bMV0+RnkpJiZqKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAke0x5fS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi5gKSksdC5hZGRTeW1ib2xzKHQudGV4dCx2LF8sbCxzLG8sYyxlLHIsdS5saW5lU3RhcnRJbmRleCx1LmxpbmVMZW5ndGgsZixtLHkseCwhMSk7Zm9yKGNvbnN0IGUgb2YgaClwW2VdPXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMTtyZXR1cm4gNCp2Lmxlbmd0aH1mdW5jdGlvbiBPeSh0KXtmb3IoY29uc3QgZSBpbiB0KXJldHVybiB0W2VdO3JldHVybiBudWxsfWZ1bmN0aW9uIFV5KHQsZSxyLG4saSxhLHMsbyxsLHUpe2xldCBjPXMudG9wLGg9cy5ib3R0b20scD1zLmxlZnQsZj1zLnJpZ2h0O2NvbnN0IGQ9cy5jb2xsaXNpb25QYWRkaW5nO2lmKGQmJihwLT1kWzBdLGMtPWRbMV0sZis9ZFsyXSxoKz1kWzNdKSxsKXtjb25zdCB0PW5ldyBnKHAsYyksZT1uZXcgZyhmLGMpLHI9bmV3IGcocCxoKSxuPW5ldyBnKGYsaCksaT1iKGwpO2xldCBhPW5ldyBnKDAsMCk7dSYmKGE9bmV3IGcodVswXSx1WzFdKSksdC5fcm90YXRlQXJvdW5kKGksYSksZS5fcm90YXRlQXJvdW5kKGksYSksci5fcm90YXRlQXJvdW5kKGksYSksbi5fcm90YXRlQXJvdW5kKGksYSkscD1NYXRoLm1pbih0LngsZS54LHIueCxuLngpLGY9TWF0aC5tYXgodC54LGUueCxyLngsbi54KSxjPU1hdGgubWluKHQueSxlLnksci55LG4ueSksaD1NYXRoLm1heCh0LnksZS55LHIueSxuLnkpO31yZXR1cm4gdC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyLngsci55LHAsYyxmLGgsbyxuLGksYSksdC5sZW5ndGgtMX1mdW5jdGlvbiBqeSh0KXt0LmNvbGxpc2lvblBhZGRpbmcmJih0LnRvcC09dC5jb2xsaXNpb25QYWRkaW5nWzFdLHQuYm90dG9tKz10LmNvbGxpc2lvblBhZGRpbmdbM10pO2NvbnN0IGU9dC5ib3R0b20tdC50b3A7cmV0dXJuIGU+MD9NYXRoLm1heCgxMCxlKTpudWxsfWZ1bmN0aW9uIHF5KHQsZSxyLG4pe2NvbnN0IGk9dC5jb21wYXJlVGV4dDtpZihlIGluIGkpe2NvbnN0IHQ9aVtlXTtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wO2UtLSlpZihuLmRpc3QodFtlXSk8cilyZXR1cm4gITB9ZWxzZSBpW2VdPVtdO3JldHVybiBpW2VdLnB1c2gobiksITF9ZnVuY3Rpb24gJHkodCxlKXtjb25zdCByPXQuZm92QWJvdmVDZW50ZXIsbj10LmVsZXZhdGlvbj90LmVsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpKmU6MCxpPSh0Ll9jYW1lcmEucG9zaXRpb25bMl0qdC53b3JsZFNpemUtbikvTWF0aC5jb3ModC5fcGl0Y2gpLGE9TWF0aC5zaW4ocikqaS9NYXRoLnNpbihNYXRoLm1heChNYXRoLlBJLzItdC5fcGl0Y2gtciwuMDEpKSxzPU1hdGguc2luKHQuX3BpdGNoKSphK2k7cmV0dXJuIE1hdGgubWluKDEuMDEqcyxpKigxL3QuX2hvcml6b25TaGlmdCkpfWZ1bmN0aW9uIEd5KHQsZSl7aWYoIWUuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXJldHVybiB7c2NhbGU6MTw8dC56LHg6dC54LHk6dC55LHgyOnQueCsxLHkyOnQueSsxLHByb2plY3Rpb246ZX07Y29uc3Qgcj1NYXRoLnBvdygyLC10LnopLG49dC54KnIsaT0odC54KzEpKnIsYT10LnkqcixzPSh0LnkrMSkqcixvPW1sKG4pLGw9bWwoaSksdT15bChhKSxjPXlsKHMpLGg9ZS5wcm9qZWN0KG8sdSkscD1lLnByb2plY3QobCx1KSxmPWUucHJvamVjdChsLGMpLGQ9ZS5wcm9qZWN0KG8sYyk7bGV0IG09TWF0aC5taW4oaC54LHAueCxmLngsZC54KSx5PU1hdGgubWluKGgueSxwLnksZi55LGQueSksZz1NYXRoLm1heChoLngscC54LGYueCxkLngpLHg9TWF0aC5tYXgoaC55LHAueSxmLnksZC55KTtjb25zdCB2PXIvMTY7ZnVuY3Rpb24gYih0LHIsbixpLGEscyl7Y29uc3Qgbz0obithKS8yLGw9KGkrcykvMix1PWUucHJvamVjdChtbChvKSx5bChsKSksYz1NYXRoLm1heCgwLG0tdS54LHktdS55LHUueC1nLHUueS14KTttPU1hdGgubWluKG0sdS54KSxnPU1hdGgubWF4KGcsdS54KSx5PU1hdGgubWluKHksdS55KSx4PU1hdGgubWF4KHgsdS55KSxjPnYmJihiKHQsdSxuLGksbyxsKSxiKHUscixvLGwsYSxzKSk7fWIoaCxwLG4sYSxpLGEpLGIocCxmLGksYSxpLHMpLGIoZixkLGkscyxuLHMpLGIoZCxoLG4scyxuLGEpLG0tPXYseS09dixnKz12LHgrPXY7Y29uc3QgXz0xL01hdGgubWF4KGctbSx4LXkpO3JldHVybiB7c2NhbGU6Xyx4Om0qXyx5OnkqXyx4MjpnKl8seTI6eCpfLHByb2plY3Rpb246ZX19ZnVuY3Rpb24gWXkodCx7eDplLHk6cn0sbj0wKXtyZXR1cm4gbmV3IGcoKChlLW4pKnQuc2NhbGUtdC54KSpUciwocip0LnNjYWxlLXQueSkqVHIpfWNvbnN0IFh5PXQuYTYuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO2NsYXNzIFp5e2NvbnN0cnVjdG9yKHQpe3RoaXMuc3BlYz10LHRoaXMubmFtZT10Lm5hbWUsdGhpcy53cmFwPSExLHRoaXMucmVxdWlyZXNEcmFwaW5nPSExLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMSx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMSx0aGlzLnN1cHBvcnRzRm9nPSExLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSExLHRoaXMuekF4aXNVbml0PVwibWV0ZXJzXCIsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITAsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXCJjdXN0b21cIl0sdGhpcy5jZW50ZXI9WzAsMF0sdGhpcy5yYW5nZT1bMy41LDddO31wcm9qZWN0KHQsZSl7cmV0dXJuIHt4OjAseTowLHo6MH19dW5wcm9qZWN0KHQsZSl7cmV0dXJuIG5ldyB0bCgwLDApfXByb2plY3RUaWxlUG9pbnQodCxlLHIpe3JldHVybiB7eDp0LHk6ZSx6OjB9fWxvY2F0aW9uUG9pbnQodCxlLHI9ITApe3JldHVybiB0Ll9jb29yZGluYXRlUG9pbnQodC5sb2NhdGlvbkNvb3JkaW5hdGUoZSkscil9cGl4ZWxzUGVyTWV0ZXIodCxlKXtyZXR1cm4gZGwoMSx0KSplfXBpeGVsU3BhY2VDb252ZXJzaW9uKHQsZSxyKXtyZXR1cm4gMX1mYXJ0aGVzdFBpeGVsRGlzdGFuY2UodCl7cmV0dXJuICR5KHQsdC5waXhlbHNQZXJNZXRlcil9cG9pbnRDb29yZGluYXRlKHQsZSxyLG4pe2NvbnN0IGk9dC5ob3Jpem9uTGluZUZyb21Ub3AoITEpLGE9bmV3IGcoZSxNYXRoLm1heChpLHIpKTtyZXR1cm4gdC5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQucG9pbnRSYXlJbnRlcnNlY3Rpb24oYSxuKSl9cG9pbnRDb29yZGluYXRlM0QodCxlLHIpe2NvbnN0IG49bmV3IGcoZSxyKTtpZih0LmVsZXZhdGlvbilyZXR1cm4gdC5lbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKG4pO3tjb25zdCBlPXRoaXMucG9pbnRDb29yZGluYXRlKHQsbi54LG4ueSwwKTtyZXR1cm4gW2UueCxlLnksZS56XX19aXNQb2ludEFib3ZlSG9yaXpvbih0LGUpe2lmKHQuZWxldmF0aW9uKXJldHVybiAhdGhpcy5wb2ludENvb3JkaW5hdGUzRCh0LGUueCxlLnkpO2NvbnN0IHI9dC5ob3Jpem9uTGluZUZyb21Ub3AoKTtyZXR1cm4gZS55PHJ9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KHQsZSl7cmV0dXJuIFh5fWNyZWF0ZVRpbGVNYXRyaXgoZSxyLG4pe2xldCBpLGEscztjb25zdCBvPW4uY2Fub25pY2FsLGw9dC5hNi5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7aWYodGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IHU9R3kobyx0aGlzKTtpPTEsYT11Lngrbi53cmFwKnUuc2NhbGUscz11LnksdC5hNi5zY2FsZShsLGwsW2kvdS5zY2FsZSxpL3Uuc2NhbGUsZS5waXhlbHNQZXJNZXRlci9yXSk7fWVsc2UgaT1yL2Uuem9vbVNjYWxlKG8ueiksYT0oby54K01hdGgucG93KDIsby56KSpuLndyYXApKmkscz1vLnkqaTtyZXR1cm4gdC5hNi50cmFuc2xhdGUobCxsLFthLHMsMF0pLHQuYTYuc2NhbGUobCxsLFtpL1RyLGkvVHIsMV0pLGx9dXBWZWN0b3IodCxlLHIpe3JldHVybiBbMCwwLDFdfXVwVmVjdG9yU2NhbGUodCxlLHIpe3JldHVybiB7bWV0ZXJzVG9UaWxlOjF9fX1jbGFzcyBLeSBleHRlbmRzIFp5e2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMucmFuZ2U9WzQsN10sdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFstOTYsMzcuNV07Y29uc3RbZSxyXT10aGlzLnBhcmFsbGVscz10LnBhcmFsbGVsc3x8WzI5LjUsNDUuNV0sbj1NYXRoLnNpbihiKGUpKTt0aGlzLm49KG4rTWF0aC5zaW4oYihyKSkpLzIsdGhpcy5jPTErbiooMip0aGlzLm4tbiksdGhpcy5yMD1NYXRoLnNxcnQodGhpcy5jKS90aGlzLm47fXByb2plY3QodCxlKXtjb25zdHtuOnIsYzpuLHIwOml9PXRoaXMsYT1iKHQtdGhpcy5jZW50ZXJbMF0pLHM9YihlKSxvPU1hdGguc3FydChuLTIqcipNYXRoLnNpbihzKSkvcjtyZXR1cm4ge3g6bypNYXRoLnNpbihhKnIpLHk6bypNYXRoLmNvcyhhKnIpLWksejowfX11bnByb2plY3QodCxlKXtjb25zdHtuOnIsYzpuLHIwOml9PXRoaXMsYT1pK2U7bGV0IHM9TWF0aC5hdGFuMih0LE1hdGguYWJzKGEpKSpNYXRoLnNpZ24oYSk7YSpyPDAmJihzLT1NYXRoLlBJKk1hdGguc2lnbih0KSpNYXRoLnNpZ24oYSkpO2NvbnN0IG89Yih0aGlzLmNlbnRlclswXSkqcjtzPVAocywtTWF0aC5QSS1vLE1hdGguUEktbyk7Y29uc3QgbD1JKF8ocy9yKSt0aGlzLmNlbnRlclswXSwtMTgwLDE4MCksdT1NYXRoLmFzaW4oSSgobi0odCp0K2EqYSkqcipyKS8oMipyKSwtMSwxKSksYz1JKF8odSksLXhsLHhsKTtyZXR1cm4gbmV3IHRsKGwsYyl9fWNvbnN0IEh5PTEuMzQwMjY0LFd5PS0uMDgxMTA2LEp5PTg5M2UtNixReT0uMDAzNzk2LHRnPU1hdGguc3FydCgzKS8yO2NsYXNzIGVnIGV4dGVuZHMgWnl7cHJvamVjdCh0LGUpe2U9ZS8xODAqTWF0aC5QSSx0PXQvMTgwKk1hdGguUEk7Y29uc3Qgcj1NYXRoLmFzaW4odGcqTWF0aC5zaW4oZSkpLG49cipyLGk9bipuKm47cmV0dXJuIHt4Oi41Kih0Kk1hdGguY29zKHIpLyh0ZyooSHkrMypXeSpuK2kqKDcqSnkrOSpReSpuKSkpL01hdGguUEkrLjUpLHk6MS0uNSoociooSHkrV3kqbitpKihKeStReSpuKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSTtsZXQgcj1lPSgyKigxLWUpLTEpKk1hdGguUEksbj1yKnIsaT1uKm4qbjtmb3IobGV0IHQsYSxzLG89MDtvPDEyJiYoYT1yKihIeStXeSpuK2kqKEp5K1F5Km4pKS1lLHM9SHkrMypXeSpuK2kqKDcqSnkrOSpReSpuKSx0PWEvcyxyPUkoci10LC1NYXRoLlBJLzMsTWF0aC5QSS8zKSxuPXIqcixpPW4qbipuLCEoTWF0aC5hYnModCk8MWUtMTIpKTsrK28pO2NvbnN0IGE9dGcqdCooSHkrMypXeSpuK2kqKDcqSnkrOSpReSpuKSkvTWF0aC5jb3Mocikscz1NYXRoLmFzaW4oTWF0aC5zaW4ocikvdGcpLG89SSgxODAqYS9NYXRoLlBJLC0xODAsMTgwKSxsPUkoMTgwKnMvTWF0aC5QSSwteGwseGwpO3JldHVybiBuZXcgdGwobyxsKX19Y2xhc3MgcmcgZXh0ZW5kcyBaeXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwO31wcm9qZWN0KHQsZSl7cmV0dXJuIHt4Oi41K3QvMzYwLHk6LjUtZS8zNjAsejowfX11bnByb2plY3QodCxlKXtjb25zdCByPTM2MCoodC0uNSksbj1JKDM2MCooLjUtZSksLXhsLHhsKTtyZXR1cm4gbmV3IHRsKHIsbil9fWNvbnN0IG5nPU1hdGguUEkvMjtmdW5jdGlvbiBpZyh0KXtyZXR1cm4gTWF0aC50YW4oKG5nK3QpLzIpfWNsYXNzIGFnIGV4dGVuZHMgWnl7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFswLDMwXTtjb25zdFtlLHJdPXRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMzAsMzBdO2xldCBuPWIoZSksaT1iKHIpO3RoaXMuc291dGhlcm5DZW50ZXI9bitpPDAsdGhpcy5zb3V0aGVybkNlbnRlciYmKG49LW4saT0taSk7Y29uc3QgYT1NYXRoLmNvcyhuKSxzPWlnKG4pO3RoaXMubj1uPT09aT9NYXRoLnNpbihuKTpNYXRoLmxvZyhhL01hdGguY29zKGkpKS9NYXRoLmxvZyhpZyhpKS9zKSx0aGlzLmY9YSpNYXRoLnBvdyhpZyhuKSx0aGlzLm4pL3RoaXMubjt9cHJvamVjdCh0LGUpe2U9YihlKSx0aGlzLnNvdXRoZXJuQ2VudGVyJiYoZT0tZSksdD1iKHQtdGhpcy5jZW50ZXJbMF0pO2NvbnN0IHI9MWUtNix7bjpuLGY6aX09dGhpcztpPjA/ZTwtbmcrciYmKGU9LW5nK3IpOmU+bmctciYmKGU9bmctcik7Y29uc3QgYT1pL01hdGgucG93KGlnKGUpLG4pO2xldCBzPWEqTWF0aC5zaW4obip0KSxvPWktYSpNYXRoLmNvcyhuKnQpO3JldHVybiBzPS41KihzL01hdGguUEkrLjUpLG89LjUqKG8vTWF0aC5QSSsuNSkse3g6cyx5OnRoaXMuc291dGhlcm5DZW50ZXI/bzoxLW8sejowfX11bnByb2plY3QodCxlKXt0PSgyKnQtLjUpKk1hdGguUEksdGhpcy5zb3V0aGVybkNlbnRlciYmKGU9MS1lKSxlPSgyKigxLWUpLS41KSpNYXRoLlBJO2NvbnN0e246cixmOm59PXRoaXMsaT1uLWUsYT1NYXRoLnNpZ24oaSkscz1NYXRoLnNpZ24ocikqTWF0aC5zcXJ0KHQqdCtpKmkpO2xldCBvPU1hdGguYXRhbjIodCxNYXRoLmFicyhpKSkqYTtpKnI8MCYmKG8tPU1hdGguUEkqTWF0aC5zaWduKHQpKmEpO2NvbnN0IGw9SShfKG8vcikrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLHU9SShfKDIqTWF0aC5hdGFuKE1hdGgucG93KG4vcywxL3IpKS1uZyksLXhsLHhsKTtyZXR1cm4gbmV3IHRsKGwsdGhpcy5zb3V0aGVybkNlbnRlcj8tdTp1KX19Y2xhc3Mgc2cgZXh0ZW5kcyBaeXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwLHRoaXMuc3VwcG9ydHNUZXJyYWluPSEwLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITAsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITEsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXSx0aGlzLnJhbmdlPW51bGw7fXByb2plY3QodCxlKXtyZXR1cm4ge3g6cGwodCkseTpmbChlKSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0IHI9bWwodCksbj15bChlKTtyZXR1cm4gbmV3IHRsKHIsbil9fWNvbnN0IG9nPWIoeGwpO2NsYXNzIGxnIGV4dGVuZHMgWnl7cHJvamVjdCh0LGUpe2NvbnN0IHI9KGU9YihlKSkqZSxuPXIqcjtyZXR1cm4ge3g6LjUqKCh0PWIodCkpKiguODcwNy0uMTMxOTc5KnIrbioobiooLjAwMzk3MSpyLS4wMDE1MjkqbiktLjAxMzc5MSkpL01hdGguUEkrLjUpLHk6MS0uNSooZSooMS4wMDcyMjYrciooLjAxNTA4NStuKiguMDI4ODc0KnItLjA0NDQ3NS0uMDA1OTE2Km4pKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSTtsZXQgcj1lPSgyKigxLWUpLTEpKk1hdGguUEksbj0yNSxpPTAsYT1yKnI7ZG97YT1yKnI7Y29uc3QgdD1hKmE7aT0ociooMS4wMDcyMjYrYSooLjAxNTA4NSt0KiguMDI4ODc0KmEtLjA0NDQ3NS0uMDA1OTE2KnQpKSktZSkvKDEuMDA3MjI2K2EqKC4wNDUyNTUrdCooLjI1OTg2NiphLS4zMTEzMjUtLjAwNTkxNioxMSp0KSkpLHI9SShyLWksLW9nLG9nKTt9d2hpbGUoTWF0aC5hYnMoaSk+MWUtNiYmLS1uPjApO2E9cipyO2NvbnN0IHM9SShfKHQvKC44NzA3K2EqKGEqKGEqYSphKiguMDAzOTcxLS4wMDE1MjkqYSktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCksbz1fKHIpO3JldHVybiBuZXcgdGwocyxvKX19Y29uc3QgdWc9Yih4bCk7Y2xhc3MgY2cgZXh0ZW5kcyBaeXtwcm9qZWN0KHQsZSl7ZT1iKGUpLHQ9Yih0KTtjb25zdCByPU1hdGguY29zKGUpLG49Mi9NYXRoLlBJLGk9TWF0aC5hY29zKHIqTWF0aC5jb3ModC8yKSksYT1NYXRoLnNpbihpKS9pLHM9LjUqKHQqbisyKnIqTWF0aC5zaW4odC8yKS9hKXx8MCxvPS41KihlK01hdGguc2luKGUpL2EpfHwwO3JldHVybiB7eDouNSoocy9NYXRoLlBJKy41KSx5OjEtLjUqKG8vTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe2xldCByPXQ9KDIqdC0uNSkqTWF0aC5QSSxuPWU9KDIqKDEtZSktMSkqTWF0aC5QSSxpPTI1O2NvbnN0IGE9MWUtNjtsZXQgcz0wLG89MDtkb3tjb25zdCBpPU1hdGguY29zKG4pLGE9TWF0aC5zaW4obiksbD0yKmEqaSx1PWEqYSxjPWkqaSxoPU1hdGguY29zKHIvMikscD1NYXRoLnNpbihyLzIpLGY9MipoKnAsZD1wKnAsbT0xLWMqaCpoLHk9bT8xL206MCxnPW0/TWF0aC5hY29zKGkqaCkqTWF0aC5zcXJ0KDEvbSk6MCx4PS41KigyKmcqaSpwKzIqci9NYXRoLlBJKS10LHY9LjUqKGcqYStuKS1lLGI9LjUqeSooYypkK2cqaSpoKnUpKzEvTWF0aC5QSSxfPXkqKGYqbC80LWcqYSpwKSx3PS4xMjUqeSoobCpwLWcqYSpjKmYpLE09LjUqeSoodSpoK2cqZCppKSsuNSxBPV8qdy1NKmI7cz0odipfLXgqTSkvQSxvPSh4KnctdipiKS9BLHI9SShyLXMsLU1hdGguUEksTWF0aC5QSSksbj1JKG4tbywtdWcsdWcpO313aGlsZSgoTWF0aC5hYnMocyk+YXx8TWF0aC5hYnMobyk+YSkmJi0taT4wKTtyZXR1cm4gbmV3IHRsKF8ociksXyhuKSl9fWNsYXNzIGhnIGV4dGVuZHMgWnl7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFswLDBdLHRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMCwwXSx0aGlzLmNvc1BoaT1NYXRoLm1heCguMDEsTWF0aC5jb3MoYih0aGlzLnBhcmFsbGVsc1swXSkpKSx0aGlzLnNjYWxlPTEvKDIqTWF0aC5tYXgoTWF0aC5QSSp0aGlzLmNvc1BoaSwxL3RoaXMuY29zUGhpKSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXM7cmV0dXJuIHt4OmIodCkqbipyKy41LHk6LU1hdGguc2luKGIoZSkpL24qcisuNSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXMsaT0tKGUtLjUpL3IsYT1JKF8oKHQtLjUpL3IpL24sLTE4MCwxODApLHM9TWF0aC5hc2luKEkoaSpuLC0xLDEpKSxvPUkoXyhzKSwteGwseGwpO3JldHVybiBuZXcgdGwoYSxvKX19Y2xhc3MgcGcgZXh0ZW5kcyBzZ3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnJlcXVpcmVzRHJhcGluZz0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITEsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnpBeGlzVW5pdD1cInBpeGVsc1wiLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W1wiZGVidWdcIl0sdGhpcy5yYW5nZT1bMyw1XTt9cHJvamVjdFRpbGVQb2ludChlLHIsbil7Y29uc3QgaT1aaChlLHIsbiksYT1XaChqaChuKSk7cmV0dXJuIHQuTi50cmFuc2Zvcm1NYXQ0KGksaSxhKSx7eDppWzBdLHk6aVsxXSx6OmlbMl19fWxvY2F0aW9uUG9pbnQoZSxyKXtjb25zdCBuPVdvKHIubGF0LHIubG5nKSxpPXQuTi5ub3JtYWxpemUoW10sbiksYT1lLmVsZXZhdGlvbj9lLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGUubG9jYXRpb25Db29yZGluYXRlKHIpLGUuX2NlbnRlckFsdGl0dWRlKTplLl9jZW50ZXJBbHRpdHVkZSxzPWRsKDEsMCkqVHIqYTt0Lk4uc2NhbGVBbmRBZGQobixuLGkscyk7Y29uc3Qgbz10LmE2LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdC5hNi5tdWx0aXBseShvLGUucGl4ZWxNYXRyaXgsZS5nbG9iZU1hdHJpeCksdC5OLnRyYW5zZm9ybU1hdDQobixuLG8pLG5ldyBnKG5bMF0sblsxXSl9cGl4ZWxzUGVyTWV0ZXIodCxlKXtyZXR1cm4gZGwoMSwwKSplfXBpeGVsU3BhY2VDb252ZXJzaW9uKHQsZSxyKXtjb25zdCBuPWRsKDEsdCkqZSxpPXVlKGRsKDEsNDUpKmUsbixyKTtyZXR1cm4gdGhpcy5waXhlbHNQZXJNZXRlcih0LGUpL2l9Y3JlYXRlVGlsZU1hdHJpeChlLHIsbil7Y29uc3QgaT1KaChqaChuLmNhbm9uaWNhbCkpO3JldHVybiB0LmE2Lm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLGUuZ2xvYmVNYXRyaXgsaSl9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUscil7Y29uc3R7Y2VudGVyOm59PWUsaT1XaChqaChyKSk7cmV0dXJuIHQuYTYucm90YXRlWShpLGksYihuLmxuZykpLHQuYTYucm90YXRlWChpLGksYihuLmxhdCkpLHQuYTYuc2NhbGUoaSxpLFtlLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLGUuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsMV0pLEZsb2F0MzJBcnJheS5mcm9tKGkpfXBvaW50Q29vcmRpbmF0ZSh0LGUscixuKXtyZXR1cm4gTmgodCxlLHIsITApfHxuZXcgTWwoMCwwKX1wb2ludENvb3JkaW5hdGUzRCh0LGUscil7Y29uc3Qgbj10aGlzLnBvaW50Q29vcmRpbmF0ZSh0LGUsciwwKTtyZXR1cm4gW24ueCxuLnksbi56XX1pc1BvaW50QWJvdmVIb3Jpem9uKHQsZSl7cmV0dXJuICFOaCh0LGUueCxlLnksITEpfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtjb25zdCByPWZ1bmN0aW9uKGUscil7Y29uc3Qgbj1lLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsaT1lLl9jZW50ZXJBbHRpdHVkZSpyLGE9ZS5fY2FtZXJhLHM9ZS5fY2FtZXJhLmZvcndhcmQoKSxvPXQuTi5hZGQoW10sdC5OLnNjYWxlKFtdLHMsLW4pLFswLDAsaV0pLGw9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksdT1bMCwwLC1sXSxjPWUud2lkdGgvZS5oZWlnaHQsaD1NYXRoLnRhbihlLmZvdkFib3ZlQ2VudGVyKSxwPXQuTi5zY2FsZShbXSxhLnVwKCksaCksZj10Lk4uc2NhbGUoW10sYS5yaWdodCgpLGgqYyksZD10Lk4ubm9ybWFsaXplKFtdLHQuTi5hZGQoW10sdC5OLmFkZChbXSxzLHApLGYpKSxtPVtdO2xldCB5O2lmKG5ldyBTaChvLGQpLmNsb3Nlc3RQb2ludE9uU3BoZXJlKHUsbCxtKSl7Y29uc3Qgcj10Lk4uYWRkKFtdLG0sdSksbj10Lk4uc3ViKFtdLHIsbyk7eT1NYXRoLmNvcyhlLmZvdkFib3ZlQ2VudGVyKSp0Lk4ubGVuZ3RoKG4pO31lbHNlIHtjb25zdCBlPXQuTi5zdWIoW10sbyx1KSxyPXQuTi5zdWIoW10sdSxvKTt0Lk4ubm9ybWFsaXplKHIscik7Y29uc3Qgbj10Lk4ubGVuZ3RoKGUpLWw7eT1NYXRoLnNxcnQobioobisyKmwpKTtjb25zdCBpPU1hdGguYWNvcyh5LyhsK24pKS1NYXRoLmFjb3ModC5OLmRvdChzLHIpKTt5Kj1NYXRoLmNvcyhpKTt9cmV0dXJuIDEuMDEqeX0oZSx0aGlzLnBpeGVsc1Blck1ldGVyKGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkpLG49cnAoZS56b29tKTtpZihuPjApe2NvbnN0IHQ9JHkoZSxkbCgxLGUuY2VudGVyLmxhdCkqZS53b3JsZFNpemUpLGk9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksYT1NYXRoLm1heChlLndpZHRoLGUuaGVpZ2h0KS9lLndvcmxkU2l6ZSpNYXRoLlBJO3JldHVybiB1ZShyLHQraSooMS1NYXRoLmNvcyhhKSksTWF0aC5wb3cobiwxMCkpfXJldHVybiByfXVwVmVjdG9yKHQsZSxyKXtyZXR1cm4gWmgoZSxyLHQsMSl9dXBWZWN0b3JTY2FsZSh0KXtyZXR1cm4ge21ldGVyc1RvVGlsZTpMaChLaChqaCh0KSkpfX19ZnVuY3Rpb24gZmcodCl7Y29uc3QgZT10LnBhcmFsbGVscyxyPSEhZSYmTWF0aC5hYnMoZVswXStlWzFdKTwuMDE7c3dpdGNoKHQubmFtZSl7Y2FzZVwibWVyY2F0b3JcIjpyZXR1cm4gbmV3IHNnKHQpO2Nhc2VcImVxdWlyZWN0YW5ndWxhclwiOnJldHVybiBuZXcgcmcodCk7Y2FzZVwibmF0dXJhbEVhcnRoXCI6cmV0dXJuIG5ldyBsZyh0KTtjYXNlXCJlcXVhbEVhcnRoXCI6cmV0dXJuIG5ldyBlZyh0KTtjYXNlXCJ3aW5rZWxUcmlwZWxcIjpyZXR1cm4gbmV3IGNnKHQpO2Nhc2VcImFsYmVyc1wiOnJldHVybiByP25ldyBoZyh0KTpuZXcgS3kodCk7Y2FzZVwibGFtYmVydENvbmZvcm1hbENvbmljXCI6cmV0dXJuIHI/bmV3IGhnKHQpOm5ldyBhZyh0KTtjYXNlXCJnbG9iZVwiOnJldHVybiBuZXcgcGcodCl9dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb2plY3Rpb24gbmFtZTogJHt0Lm5hbWV9YCl9Y29uc3QgZGc9emYudHlwZXMsbWc9W3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQ4XCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiB5Zyh0LGUscixuLGksYSxzLG8sbCx1LGMsaCxwKXtjb25zdCBmPW8/TWF0aC5taW4oRnksTWF0aC5yb3VuZChvWzBdKSk6MCxkPW8/TWF0aC5taW4oRnksTWF0aC5yb3VuZChvWzFdKSk6MDt0LmVtcGxhY2VCYWNrKGUscixNYXRoLnJvdW5kKDMyKm4pLE1hdGgucm91bmQoMzIqaSksYSxzLChmPDwxKSsobD8xOjApLGQsMTYqdSwxNipjLDI1NipoLDI1NipwKTt9ZnVuY3Rpb24gZ2codCxlLHIpe3QuZW1wbGFjZUJhY2soZSxyKTt9ZnVuY3Rpb24geGcodCxlLHIsbixpLGEscyl7dC5lbXBsYWNlQmFjayhlLHIsbixpLGEscyk7fWZ1bmN0aW9uIHZnKHQsZSxyLG4saSl7dC5lbXBsYWNlQmFjayhlLHIsbixpKSx0LmVtcGxhY2VCYWNrKGUscixuLGkpLHQuZW1wbGFjZUJhY2soZSxyLG4saSksdC5lbXBsYWNlQmFjayhlLHIsbixpKTt9ZnVuY3Rpb24gYmcodCl7Zm9yKGNvbnN0IGUgb2YgdC5zZWN0aW9ucylpZihtYShlLnRleHQpKXJldHVybiAhMDtyZXR1cm4gITF9Y2xhc3MgX2d7Y29uc3RydWN0b3IodCl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgX3MsdGhpcy5pbmRleEFycmF5PW5ldyBFcyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz10LHRoaXMuc2VnbWVudHM9bmV3IGVvLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5PW5ldyBncyx0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheT1uZXcgTXMsdGhpcy5wbGFjZWRTeW1ib2xBcnJheT1uZXcgR3MsdGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5PW5ldyBBcyx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IHdzLHRoaXMuek9mZnNldFZlcnRleEFycmF5PW5ldyBCczt9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmluZGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWQodCxlLHIsbixpKXt0aGlzLmlzRW1wdHkoKXx8KHImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LEtkLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXksZSksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5LFdkLm1lbWJlcnMsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheSxtZywhMCksdGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5Lmxlbmd0aD4wJiYodGhpcy5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXksUWQubWVtYmVycywhMCkpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheS5sZW5ndGg+MCYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LEhkLm1lbWJlcnMsITApKSwhdGhpcy56T2Zmc2V0VmVydGV4QnVmZmVyJiYodGhpcy56T2Zmc2V0VmVydGV4QXJyYXkubGVuZ3RoPjB8fGkpJiYodGhpcy56T2Zmc2V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuek9mZnNldFZlcnRleEFycmF5LEpkLm1lbWJlcnMsITApKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuaXRlbVNpemU9MSksKHJ8fG4pJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCkpO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QnVmZmVyJiZ0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnpPZmZzZXRWZXJ0ZXhCdWZmZXImJnRoaXMuek9mZnNldFZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO319cmEoX2csXCJTeW1ib2xCdWZmZXJzXCIpO2NsYXNzIHdne2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyB0LHRoaXMubGF5b3V0QXR0cmlidXRlcz1lLHRoaXMuaW5kZXhBcnJheT1uZXcgcix0aGlzLnNlZ21lbnRzPW5ldyBlbyx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5PW5ldyBQcyx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0PW5ldyBnczt9dXBsb2FkKHQpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5sYXlvdXRBdHRyaWJ1dGVzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5LHRtLm1lbWJlcnMsITApLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0PXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsZW0ubWVtYmVycywhMCk7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQuZGVzdHJveSgpKTt9fXJhKHdnLFwiQ29sbGlzaW9uQnVmZmVyc1wiKTtjbGFzcyBNZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbGxpc2lvbkJveEFycmF5PWUuY29sbGlzaW9uQm94QXJyYXksdGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuZnFpZCkpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvLHRoaXMuc291cmNlTGF5ZXJJbmRleD1lLnNvdXJjZUxheWVySW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmZ1bGx5Q2xpcHBlZD0hMSx0aGlzLmhhc0FueUljb25UZXh0Rml0PSExLHRoaXMuc29ydEtleVJhbmdlcz1bXSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5PVtdLHRoaXMucGxhY2VtZW50SW52UHJvak1hdHJpeD10LmE2LmlkZW50aXR5KFtdKSx0aGlzLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PXQuYTYuaWRlbnRpdHkoW10pO2NvbnN0IHI9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9c20odGhpcy56b29tLHJbXCJ0ZXh0LXNpemVcIl0pLHRoaXMuaWNvblNpemVEYXRhPXNtKHRoaXMuem9vbSxyW1wiaWNvbi1zaXplXCJdKTtjb25zdCBuPXRoaXMubGF5ZXJzWzBdLmxheW91dCxpPW4uZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLGE9bi5nZXQoXCJzeW1ib2wtei1vcmRlclwiKTt0aGlzLmNhbk92ZXJsYXA9bi5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIil8fG4uZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpfHxuLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKXx8bi5nZXQoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIiksdGhpcy5zb3J0RmVhdHVyZXNCeUtleT1cInZpZXdwb3J0LXlcIiE9PWEmJnZvaWQgMCE9PWkuY29uc3RhbnRPcigxKSx0aGlzLnNvcnRGZWF0dXJlc0J5WT0oXCJ2aWV3cG9ydC15XCI9PT1hfHxcImF1dG9cIj09PWEmJiF0aGlzLnNvcnRGZWF0dXJlc0J5S2V5KSYmdGhpcy5jYW5PdmVybGFwLHRoaXMud3JpdGluZ01vZGVzPW4uZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIikubWFwKCh0PT5qbVt0XSkpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5zb3VyY2VJRD1lLnNvdXJjZUlELHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5oYXNBbnlaT2Zmc2V0PSExLHRoaXMuek9mZnNldFNvcnREaXJ0eT0hMSx0aGlzLnpPZmZzZXRCdWZmZXJzTmVlZFVwbG9hZD1uLmdldChcInN5bWJvbC16LWVsZXZhdGVcIik7fWNyZWF0ZUFycmF5cygpe3RoaXMudGV4dD1uZXcgX2cobmV3IFZvKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwodD0+L150ZXh0Ly50ZXN0KHQpKSkpLHRoaXMuaWNvbj1uZXcgX2cobmV3IFZvKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwodD0+L15pY29uLy50ZXN0KHQpKSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgWnMsdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IEtzLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBYczt9Y2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXModCxlLHIsbixpKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgYT10LmNvZGVQb2ludEF0KHIpO2lmKHZvaWQgMD09PWEpYnJlYWs7aWYoZVthXT0hMCxuJiZpJiZhPD02NTUzNSl7Y29uc3Qgbj1obVt0LmNoYXJBdChyKV07biYmKGVbbi5jaGFyQ29kZUF0KDApXT0hMCk7fX19cG9wdWxhdGUoZSxyLG4saSl7Y29uc3QgYT10aGlzLmxheWVyc1swXSxzPWEubGF5b3V0LG89XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUsbD1zLmdldChcInRleHQtZm9udFwiKSx1PXMuZ2V0KFwidGV4dC1maWVsZFwiKSxjPXMuZ2V0KFwiaWNvbi1pbWFnZVwiKSxoPShcImNvbnN0YW50XCIhPT11LnZhbHVlLmtpbmR8fHUudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBEZSYmIXUudmFsdWUudmFsdWUuaXNFbXB0eSgpfHx1LnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoXCJjb25zdGFudFwiIT09bC52YWx1ZS5raW5kfHxsLnZhbHVlLnZhbHVlLmxlbmd0aD4wKSxwPVwiY29uc3RhbnRcIiE9PWMudmFsdWUua2luZHx8ISFjLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhjLnBhcmFtZXRlcnMpLmxlbmd0aD4wLGY9cy5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIik7aWYodGhpcy5mZWF0dXJlcz1bXSwhaCYmIXApcmV0dXJuO2NvbnN0IGQ9ci5pY29uRGVwZW5kZW5jaWVzLG09ci5nbHlwaERlcGVuZGVuY2llcyx5PXIuYXZhaWxhYmxlSW1hZ2VzLGc9bmV3IFBhKHRoaXMuem9vbSk7Zm9yKGNvbnN0e2ZlYXR1cmU6cixpZDp1LGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDp4fW9mIGUpe2NvbnN0IGU9YS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksdj1CbChyLGUpO2lmKCFhLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihnLHYsbikpY29udGludWU7aWYoZXx8KHYuZ2VvbWV0cnk9VGwocixuLGkpKSxvJiYxIT09ci50eXBlJiZuLno8PTUpe2NvbnN0IGU9di5nZW9tZXRyeSxyPS45ODA3ODUyODA1NixpPShlLGkpPT57Y29uc3QgYT1aaChlLngsZS55LG4sMSkscz1aaChpLngsaS55LG4sMSk7cmV0dXJuIHQuTi5kb3QoYSxzKTxyfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPWtsKGVbdF0saSk7fWxldCBiLF87aWYoaCl7Y29uc3QgdD1hLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcInRleHQtZmllbGRcIix2LG4seSksZT1EZS5mYWN0b3J5KHQpO2JnKGUpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8XCJ1bmF2YWlsYWJsZVwiPT09U2EoKXx8dGhpcy5oYXNSVExUZXh0JiZrYS5pc1BhcnNlZCgpKSYmKGI9Y20oZSxhLHYpKTt9aWYocCl7Y29uc3QgdD1hLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIix2LG4seSk7Xz10IGluc3RhbmNlb2YgVmU/dDpWZS5mcm9tU3RyaW5nKHQpO31pZighYiYmIV8pY29udGludWU7Y29uc3Qgdz10aGlzLnNvcnRGZWF0dXJlc0J5S2V5P2YuZXZhbHVhdGUodix7fSxuKTp2b2lkIDA7aWYodGhpcy5mZWF0dXJlcy5wdXNoKHtpZDp1LHRleHQ6YixpY29uOl8saW5kZXg6Yyxzb3VyY2VMYXllckluZGV4OngsZ2VvbWV0cnk6di5nZW9tZXRyeSxwcm9wZXJ0aWVzOnIucHJvcGVydGllcyx0eXBlOmRnW3IudHlwZV0sc29ydEtleTp3fSksXyYmKGRbXy5uYW1lUHJpbWFyeV09ITAsXy5uYW1lU2Vjb25kYXJ5JiYoZFtfLm5hbWVTZWNvbmRhcnldPSEwKSksYil7Y29uc3QgdD1sLmV2YWx1YXRlKHYse30sbikuam9pbihcIixcIiksZT1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09cy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpO3RoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudD10aGlzLndyaXRpbmdNb2RlcyYmdGhpcy53cml0aW5nTW9kZXMuaW5kZXhPZihqbS52ZXJ0aWNhbCk+PTA7Zm9yKGNvbnN0IHIgb2YgYi5zZWN0aW9ucylpZihyLmltYWdlKWRbci5pbWFnZS5uYW1lUHJpbWFyeV09ITA7ZWxzZSB7Y29uc3Qgbj1sYShiLnRvU3RyaW5nKCkpLGk9ci5mb250U3RhY2t8fHQsYT1tW2ldPW1baV18fHt9O3RoaXMuY2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMoci50ZXh0LGEsZSx0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQsbik7fX19XCJsaW5lXCI9PT1zLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIikmJih0aGlzLmZlYXR1cmVzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9e30scj17fSxuPVtdO2xldCBpPTA7ZnVuY3Rpb24gYShlKXtuLnB1c2godFtlXSksaSsrO31mdW5jdGlvbiBzKHQsZSxpKXtjb25zdCBhPXJbdF07cmV0dXJuIGRlbGV0ZSByW3RdLHJbZV09YSxuW2FdLmdlb21ldHJ5WzBdLnBvcCgpLG5bYV0uZ2VvbWV0cnlbMF09blthXS5nZW9tZXRyeVswXS5jb25jYXQoaVswXSksYX1mdW5jdGlvbiBvKHQscixpKXtjb25zdCBhPWVbcl07cmV0dXJuIGRlbGV0ZSBlW3JdLGVbdF09YSxuW2FdLmdlb21ldHJ5WzBdLnNoaWZ0KCksblthXS5nZW9tZXRyeVswXT1pWzBdLmNvbmNhdChuW2FdLmdlb21ldHJ5WzBdKSxhfWZ1bmN0aW9uIGwodCxlLHIpe2NvbnN0IG49cj9lWzBdW2VbMF0ubGVuZ3RoLTFdOmVbMF1bMF07cmV0dXJuIGAke3R9OiR7bi54fToke24ueX1gfWZvcihsZXQgdT0wO3U8dC5sZW5ndGg7dSsrKXtjb25zdCBjPXRbdV0saD1jLmdlb21ldHJ5LHA9Yy50ZXh0P2MudGV4dC50b1N0cmluZygpOm51bGw7aWYoIXApe2EodSk7Y29udGludWV9Y29uc3QgZj1sKHAsaCksZD1sKHAsaCwhMCk7aWYoZiBpbiByJiZkIGluIGUmJnJbZl0hPT1lW2RdKXtjb25zdCB0PW8oZixkLGgpLGk9cyhmLGQsblt0XS5nZW9tZXRyeSk7ZGVsZXRlIGVbZl0sZGVsZXRlIHJbZF0scltsKHAsbltpXS5nZW9tZXRyeSwhMCldPWksblt0XS5nZW9tZXRyeT1udWxsO31lbHNlIGYgaW4gcj9zKGYsZCxoKTpkIGluIGU/byhmLGQsaCk6KGEodSksZVtmXT1pLTEscltkXT1pLTEpO31yZXR1cm4gbi5maWx0ZXIoKHQ9PnQuZ2VvbWV0cnkpKX0odGhpcy5mZWF0dXJlcykpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXkmJnRoaXMuZmVhdHVyZXMuc29ydCgoKHQsZSk9PnQuc29ydEtleS1lLnNvcnRLZXkpKTt9dXBkYXRlKHQsZSxyLG4saSl7Y29uc3QgYT0wIT09T2JqZWN0LmtleXModCkubGVuZ3RoO2lmKGEmJiF0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aClyZXR1cm47Y29uc3Qgcz1hP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnM7dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUscyxyLG4saSksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUscyxyLG4saSk7fXVwZGF0ZVpPZmZzZXQoKXtjb25zdCB0PSh0LGUsbik9PntyKz1lLHI+dC5sZW5ndGgmJnQucmVzaXplKHIpO2ZvcihsZXQgaT0tZTtpPDA7aSsrKXQuZW1wbGFjZShpK3Isbik7fSxlPSh0LGUscik9PntuKz1lLG4+dC5sZW5ndGgmJnQucmVzaXplKG4pO2ZvcihsZXQgaT0tZTtpPDA7aSsrKXQuZW1wbGFjZShpK24scik7fTtpZighdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQpcmV0dXJuO3RoaXMuek9mZnNldEJ1ZmZlcnNOZWVkVXBsb2FkPSExO2xldCByPTAsbj0wO2ZvcihsZXQgcj0wO3I8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQocikse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOmksbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmEsbnVtSWNvblZlcnRpY2VzOnN9PW4sbz1uLnpPZmZzZXQsbD1zPjA7aWYoKGk+MHx8YT4wKSYmKHQodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSxpLG8pLHQodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSxhLG8pKSxsKXtjb25zdHtwbGFjZWRJY29uU3ltYm9sSW5kZXg6dCx2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleDpyfT1uO3Q+PTAmJmUodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSxzLG8pLHI+PTAmJmUodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSxuLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLG8pO319dGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhCdWZmZXImJnRoaXMudGV4dC56T2Zmc2V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSksdGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhCdWZmZXImJnRoaXMuaWNvbi56T2Zmc2V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSk7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfHx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZCh0KXshdGhpcy51cGxvYWRlZCYmdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmKHRoaXMudGV4dENvbGxpc2lvbkJveC51cGxvYWQodCksdGhpcy5pY29uQ29sbGlzaW9uQm94LnVwbG9hZCh0KSksdGhpcy50ZXh0LnVwbG9hZCh0LHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQsdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQpLHRoaXMuaWNvbi51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkLHRoaXMuek9mZnNldEJ1ZmZlcnNOZWVkVXBsb2FkKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95RGVidWdEYXRhKCl7dGhpcy50ZXh0Q29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmljb25Db2xsaXNpb25Cb3guZGVzdHJveSgpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbkluc3RhbmNlfHwodGhpcy5wcm9qZWN0aW9uSW5zdGFuY2U9ZmcodGhpcy5wcm9qZWN0aW9uKSksdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V9ZGVzdHJveSgpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9YWRkVG9MaW5lVmVydGV4QXJyYXkodCxlKXtjb25zdCByPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aDtpZih2b2lkIDAhPT10LnNlZ21lbnQpZm9yKGNvbnN0e3g6dCx5OnJ9b2YgZSl0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh0LHIpO3JldHVybiB7bGluZVN0YXJ0SW5kZXg6cixsaW5lTGVuZ3RoOnRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aC1yfX1hZGRTeW1ib2xzKHQsZSxyLG4saSxhLHMsbyxsLHUsYyxoLHAsZixkLG0pe2NvbnN0IHk9dC5pbmRleEFycmF5LGc9dC5sYXlvdXRWZXJ0ZXhBcnJheSx4PXQuZ2xvYmVFeHRWZXJ0ZXhBcnJheSx2PXQuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCplLmxlbmd0aCxnLHksdGhpcy5jYW5PdmVybGFwP2Euc29ydEtleTp2b2lkIDApLGI9dGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aCxfPXYudmVydGV4TGVuZ3RoLHc9dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZzPT09am0udmVydGljYWw/TWF0aC5QSS8yOjAsTT1hLnRleHQmJmEudGV4dC5zZWN0aW9ucztmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3R7dGw6aSx0cjpzLGJsOnUsYnI6Yyx0ZXhQcmltYXJ5OmgsdGV4U2Vjb25kYXJ5OmIscGl4ZWxPZmZzZXRUTDpfLHBpeGVsT2Zmc2V0QlI6QSxtaW5Gb250U2NhbGVYOlMsbWluRm9udFNjYWxlWTpJLGdseXBoT2Zmc2V0OmssaXNTREY6UCxzZWN0aW9uSW5kZXg6RX09ZVtuXSx6PXYudmVydGV4TGVuZ3RoLFQ9a1sxXTtpZih5ZyhnLGwueCxsLnksaS54LFQraS55LGgueCxoLnkscixQLF8ueCxfLnksUyxJKSx5ZyhnLGwueCxsLnkscy54LFQrcy55LGgueCtoLncsaC55LHIsUCxBLngsXy55LFMsSSkseWcoZyxsLngsbC55LHUueCxUK3UueSxoLngsaC55K2guaCxyLFAsXy54LEEueSxTLEkpLHlnKGcsbC54LGwueSxjLngsVCtjLnksaC54K2gudyxoLnkraC5oLHIsUCxBLngsQS55LFMsSSksbyl7Y29uc3R7eDplLHk6cix6Om59PW8uYW5jaG9yLFtpLGEsc109by51cDt4Zyh4LGUscixuLGksYSxzKSx4Zyh4LGUscixuLGksYSxzKSx4Zyh4LGUscixuLGksYSxzKSx4Zyh4LGUscixuLGksYSxzKSx2Zyh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxlLHIsbix3KTt9ZWxzZSB2Zyh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxsLngsbC55LGwueix3KTtpZihtKXtjb25zdCBlPWJ8fGg7Z2codC5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LGUueCxlLnkpLGdnKHQuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheSxlLngrZS53LGUueSksZ2codC5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LGUueCxlLnkrZS5oKSxnZyh0Lmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXksZS54K2UudyxlLnkrZS5oKTt9eS5lbXBsYWNlQmFjayh6LHorMSx6KzIpLHkuZW1wbGFjZUJhY2soeisxLHorMix6KzMpLHYudmVydGV4TGVuZ3RoKz00LHYucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhrWzBdKSxuIT09ZS5sZW5ndGgtMSYmRT09PWVbbisxXS5zZWN0aW9uSW5kZXh8fHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoZy5sZW5ndGgsYSxhLmluZGV4LHt9LHAsZixkLE0mJk1bRV0pO31jb25zdCBBPW8/by5hbmNob3I6bDt0LnBsYWNlZFN5bWJvbEFycmF5LmVtcGxhY2VCYWNrKEEueCxBLnksQS56LGwueCxsLnksYix0aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLWIsXyx1LGMsbC5zZWdtZW50LHI/clswXTowLHI/clsxXTowLG5bMF0sblsxXSxzLDAsITEsMCxoLDApO31fY29tbWl0TGF5b3V0VmVydGV4KHQsZSxyLG4saSxhLHMpe3QuZW1wbGFjZUJhY2soZSxyLG4saSxhLE1hdGgucm91bmQocy54KSxNYXRoLnJvdW5kKHMueSkpO31fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyh0LGUscixuLGksYSxzKXtjb25zdCBvPXIuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxyLmxheW91dFZlcnRleEFycmF5LHIuaW5kZXhBcnJheSksbD1vLnZlcnRleExlbmd0aCx1PXMudGlsZUFuY2hvclgsYz1zLnRpbGVBbmNob3JZO2ZvcihsZXQgdD0wO3Q8NDt0Kyspci5jb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygwLDAsMCwwKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZShyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGUsdC5wYWRkaW5nLHMuek9mZnNldCksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLGEsdSxjLG5ldyBnKHQueDEsdC55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4saSxhLHUsYyxuZXcgZyh0LngyLHQueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksYSx1LGMsbmV3IGcodC54Mix0LnkyKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLGEsdSxjLG5ldyBnKHQueDEsdC55MikpLG8udmVydGV4TGVuZ3RoKz00O2NvbnN0IGg9ci5pbmRleEFycmF5O2guZW1wbGFjZUJhY2sobCxsKzEpLGguZW1wbGFjZUJhY2sobCsxLGwrMiksaC5lbXBsYWNlQmFjayhsKzIsbCszKSxoLmVtcGxhY2VCYWNrKGwrMyxsKSxvLnByaW1pdGl2ZUxlbmd0aCs9NDt9X2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKHQsZSxyLG4saSxhKXtmb3IobGV0IHM9bjtzPGk7cysrKXtjb25zdCBuPXIuZ2V0KHMpLGk9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHQsYSxlLHMpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMobixpLHRoaXMudGV4dENvbGxpc2lvbkJveCxuLnByb2plY3RlZEFuY2hvclgsbi5wcm9qZWN0ZWRBbmNob3JZLG4ucHJvamVjdGVkQW5jaG9yWixhKTt9fV9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyh0LGUscixuLGksYSl7Zm9yKGxldCBzPW47czxpO3MrKyl7Y29uc3Qgbj1yLmdldChzKSxpPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZSh0LGUsYS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMobixpLHRoaXMuaWNvbkNvbGxpc2lvbkJveCxuLnByb2plY3RlZEFuY2hvclgsbi5wcm9qZWN0ZWRBbmNob3JZLG4ucHJvamVjdGVkQW5jaG9yWixhKTt9fWdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKHQsZSl7dGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5kZXN0cm95RGVidWdEYXRhKCksdGhpcy50ZXh0Q29sbGlzaW9uQm94PW5ldyB3ZyhJcyxybS5tZW1iZXJzLEFzKSx0aGlzLmljb25Db2xsaXNpb25Cb3g9bmV3IHdnKElzLHJtLm1lbWJlcnMsQXMpO2NvbnN0IHI9bG0odGhpcy5pY29uU2l6ZURhdGEsdCksbj1sbSh0aGlzLnRleHRTaXplRGF0YSx0KTtmb3IobGV0IGk9MDtpPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IGE9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO3RoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sdCxlLGEudGV4dEJveFN0YXJ0SW5kZXgsYS50ZXh0Qm94RW5kSW5kZXgsYSksdGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobix0LGUsYS52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LGEudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsYSksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocix0LGUsYS5pY29uQm94U3RhcnRJbmRleCxhLmljb25Cb3hFbmRJbmRleCxhKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLHQsZSxhLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsYS52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxhKTt9fWdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUodCxlLHIsbil7Y29uc3QgaT10aGlzLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/ZS5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDplLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD9lLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDplLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/ZS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmUudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTA/ZS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpuKSxhPW9tKHRoaXMudGV4dFNpemVEYXRhLHQsaSkvaW07cmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW8qYX1nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKHQsZSxyKXtjb25zdCBuPXRoaXMuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQociksaT1vbSh0aGlzLmljb25TaXplRGF0YSx0LG4pO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKml9X2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKHQsZSxyLG4pe3QuZW1wbGFjZUJhY2soZSwtciwtcixuKSx0LmVtcGxhY2VCYWNrKGUsciwtcixuKSx0LmVtcGxhY2VCYWNrKGUscixyLG4pLHQuZW1wbGFjZUJhY2soZSwtcixyLG4pO31fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLGEpe2ZvcihsZXQgcz1uO3M8aTtzKyspe2NvbnN0IG49ci5nZXQocyksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUodCxhLGUscyk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGksbi5wYWRkaW5nLGEuek9mZnNldCk7fX1fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLGEpe2ZvcihsZXQgcz1uO3M8aTtzKyspe2NvbnN0IG49ci5nZXQocyksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUodCxlLGEucGxhY2VkSWNvblN5bWJvbEluZGV4KTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsaSxuLnBhZGRpbmcsYS56T2Zmc2V0KTt9fXVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0LGUpe2lmKCF0aGlzLmhhc0RlYnVnRGF0YSgpKXJldHVybjt0aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCk7Y29uc3Qgcj1sbSh0aGlzLmljb25TaXplRGF0YSx0KSxuPWxtKHRoaXMudGV4dFNpemVEYXRhLHQpO2ZvcihsZXQgaT0wO2k8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3QgYT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoaSk7dGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobix0LGUsYS50ZXh0Qm94U3RhcnRJbmRleCxhLnRleHRCb3hFbmRJbmRleCxhKSx0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLHQsZSxhLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsYS52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxhKSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLHQsZSxhLmljb25Cb3hTdGFydEluZGV4LGEuaWNvbkJveEVuZEluZGV4LGEpLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKHIsdCxlLGEudmVydGljYWxJY29uQm94U3RhcnRJbmRleCxhLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LGEpO310aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCk7fV9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKHQsZSxyLG4saSxhLHMsbyxsKXtjb25zdCB1PXt9O2lmKGU8cil7Y29uc3R7eDE6cix5MTpuLHgyOmkseTI6YSxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDpvLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmMsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpwLGZlYXR1cmVJbmRleDpmfT10LmdldChlKTt1LnRleHRCb3g9e3gxOnIseTE6bix4MjppLHkyOmEscGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6byxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpjLHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6cH0sdS50ZXh0RmVhdHVyZUluZGV4PWY7fWlmKG48aSl7Y29uc3R7eDE6ZSx5MTpyLHgyOmkseTI6YSxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDpvLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmMsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpwLGZlYXR1cmVJbmRleDpmfT10LmdldChuKTt1LnZlcnRpY2FsVGV4dEJveD17eDE6ZSx5MTpyLHgyOmkseTI6YSxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDpvLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmMsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpwfSx1LnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleD1mO31pZihhPHMpe2NvbnN0e3gxOmUseTE6cix4MjpuLHkyOmkscGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6byxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpjLHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6cCxmZWF0dXJlSW5kZXg6Zn09dC5nZXQoYSk7dS5pY29uQm94PXt4MTplLHkxOnIseDI6bix5MjppLHBhZGRpbmc6cyxwcm9qZWN0ZWRBbmNob3JYOm8scHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6Yyx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOnB9LHUuaWNvbkZlYXR1cmVJbmRleD1mO31pZihvPGwpe2NvbnN0e3gxOmUseTE6cix4MjpuLHkyOmkscGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpjLHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6cCxmZWF0dXJlSW5kZXg6Zn09dC5nZXQobyk7dS52ZXJ0aWNhbEljb25Cb3g9e3gxOmUseTE6cix4MjpuLHkyOmkscGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpjLHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6cH0sdS52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9Zjt9cmV0dXJuIHV9ZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyh0KXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IobGV0IGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspe2NvbnN0IHI9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbCh0LHIudGV4dEJveFN0YXJ0SW5kZXgsci50ZXh0Qm94RW5kSW5kZXgsci52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHIudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsci5pY29uQm94U3RhcnRJbmRleCxyLmljb25Cb3hFbmRJbmRleCxyLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpO319aGFzVGV4dERhdGEoKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25EYXRhKCl7cmV0dXJuIHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNEZWJ1Z0RhdGEoKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9aGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uVGV4dEZpdCgpe3JldHVybiB0aGlzLmhhc0FueUljb25UZXh0Rml0fWFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodCxlKXtjb25zdCByPXQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLG49ci52ZXJ0ZXhTdGFydEluZGV4KzQqci5udW1HbHlwaHM7Zm9yKGxldCBlPXIudmVydGV4U3RhcnRJbmRleDtlPG47ZSs9NCl0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soZSxlKzEsZSsyKSx0LmluZGV4QXJyYXkuZW1wbGFjZUJhY2soZSsxLGUrMixlKzMpO31nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHQpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT10JiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Y29uc3QgZT1NYXRoLnNpbih0KSxyPU1hdGguY29zKHQpLG49W10saT1bXSxhPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrdCl7YS5wdXNoKHQpO2NvbnN0IHM9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO24ucHVzaCgwfE1hdGgucm91bmQoZSpzLnRpbGVBbmNob3JYK3Iqcy50aWxlQW5jaG9yWSkpLGkucHVzaChzLmZlYXR1cmVJbmRleCk7fXJldHVybiBhLnNvcnQoKCh0LGUpPT5uW3RdLW5bZV18fGlbZV0taVt0XSkpLGF9Z2V0U29ydGVkSW5kZXhlc0J5Wk9mZnNldCgpe2lmKCF0aGlzLnpPZmZzZXRTb3J0RGlydHkpcmV0dXJuIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldDtpZighdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXNTb3J0ZWRaT2Zmc2V0KXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlc1NvcnRlZFpPZmZzZXQ9W107Zm9yKGxldCB0PTA7dDx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7Kyt0KXRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldC5wdXNoKHQpO31yZXR1cm4gdGhpcy56T2Zmc2V0U29ydERpcnR5PSExLHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldC5zb3J0KCgodCxlKT0+dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLnpPZmZzZXQtdGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpLnpPZmZzZXQpKX1hZGRUb1NvcnRLZXlSYW5nZXModCxlKXtjb25zdCByPXRoaXMuc29ydEtleVJhbmdlc1t0aGlzLnNvcnRLZXlSYW5nZXMubGVuZ3RoLTFdO3ImJnIuc29ydEtleT09PWU/ci5zeW1ib2xJbnN0YW5jZUVuZD10KzE6dGhpcy5zb3J0S2V5UmFuZ2VzLnB1c2goe3NvcnRLZXk6ZSxzeW1ib2xJbnN0YW5jZVN0YXJ0OnQsc3ltYm9sSW5zdGFuY2VFbmQ6dCsxfSk7fXNvcnRGZWF0dXJlcyh0KXtpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PXQmJiEodGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xfHx0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjEpKXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcz10aGlzLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModCksdGhpcy5zb3J0ZWRBbmdsZT10LHRoaXMudGV4dC5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5pY29uLmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmZlYXR1cmVTb3J0T3JkZXI9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpe2NvbnN0IGU9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO3RoaXMuZmVhdHVyZVNvcnRPcmRlci5wdXNoKGUuZmVhdHVyZUluZGV4KTtjb25zdHtyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpyLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpuLGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6aSx2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDphLHBsYWNlZEljb25TeW1ib2xJbmRleDpzLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Om99PWU7cj49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxyKSxuPj0wJiZuIT09ciYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxuKSxpPj0wJiZpIT09biYmaSE9PXImJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsaSksYT49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxhKSxzPj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLHMpLG8+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sbyk7fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319fXJhKE1nLFwiU3ltYm9sQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJjb2xsaXNpb25Cb3hBcnJheVwiLFwiZmVhdHVyZXNcIixcImNvbXBhcmVUZXh0XCJdfSksTWcuYWRkRHluYW1pY0F0dHJpYnV0ZXM9dmc7Y29uc3QgQWc9bmV3IE9hKHtcInN5bWJvbC1wbGFjZW1lbnRcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1wbGFjZW1lbnRcIl0pLFwic3ltYm9sLXNwYWNpbmdcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zcGFjaW5nXCJdKSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOm5ldyBMYShxYS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKSxcInN5bWJvbC1zb3J0LWtleVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNvcnQta2V5XCJdKSxcInN5bWJvbC16LW9yZGVyXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1vcmRlclwiXSksXCJzeW1ib2wtei1lbGV2YXRlXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1lbGV2YXRlXCJdKSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOm5ldyBMYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbGxvdy1vdmVybGFwXCJdKSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOm5ldyBMYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCJdKSxcImljb24tb3B0aW9uYWxcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcImljb24tb3B0aW9uYWxcIl0pLFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdKSxcImljb24tc2l6ZVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1zaXplXCJdKSxcImljb24tdGV4dC1maXRcIjpuZXcgRmEocWEubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXRcIl0pLFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6bmV3IEZhKHFhLmxheW91dF9zeW1ib2xbXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIl0pLFwiaWNvbi1pbWFnZVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pbWFnZVwiXSksXCJpY29uLXJvdGF0ZVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGVcIl0pLFwiaWNvbi1wYWRkaW5nXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJpY29uLXBhZGRpbmdcIl0pLFwiaWNvbi1rZWVwLXVwcmlnaHRcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcImljb24ta2VlcC11cHJpZ2h0XCJdKSxcImljb24tb2Zmc2V0XCI6bmV3IEZhKHFhLmxheW91dF9zeW1ib2xbXCJpY29uLW9mZnNldFwiXSksXCJpY29uLWFuY2hvclwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbmNob3JcIl0pLFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBMYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwidGV4dC1maWVsZFwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1maWVsZFwiXSksXCJ0ZXh0LWZvbnRcIjpuZXcgRmEocWEubGF5b3V0X3N5bWJvbFtcInRleHQtZm9udFwiXSksXCJ0ZXh0LXNpemVcIjpuZXcgRmEocWEubGF5b3V0X3N5bWJvbFtcInRleHQtc2l6ZVwiXSksXCJ0ZXh0LW1heC13aWR0aFwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtd2lkdGhcIl0pLFwidGV4dC1saW5lLWhlaWdodFwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1saW5lLWhlaWdodFwiXSksXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6bmV3IEZhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCJdKSxcInRleHQtanVzdGlmeVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1qdXN0aWZ5XCJdKSxcInRleHQtcmFkaWFsLW9mZnNldFwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1yYWRpYWwtb2Zmc2V0XCJdKSxcInRleHQtdmFyaWFibGUtYW5jaG9yXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiXSksXCJ0ZXh0LWFuY2hvclwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1hbmNob3JcIl0pLFwidGV4dC1tYXgtYW5nbGVcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LWFuZ2xlXCJdKSxcInRleHQtd3JpdGluZy1tb2RlXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXSksXCJ0ZXh0LXJvdGF0ZVwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGVcIl0pLFwidGV4dC1wYWRkaW5nXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBhZGRpbmdcIl0pLFwidGV4dC1rZWVwLXVwcmlnaHRcIjpuZXcgTGEocWEubGF5b3V0X3N5bWJvbFtcInRleHQta2VlcC11cHJpZ2h0XCJdKSxcInRleHQtdHJhbnNmb3JtXCI6bmV3IEZhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXRyYW5zZm9ybVwiXSksXCJ0ZXh0LW9mZnNldFwiOm5ldyBGYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1vZmZzZXRcIl0pLFwidGV4dC1hbGxvdy1vdmVybGFwXCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIl0pLFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IExhKHFhLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwidGV4dC1vcHRpb25hbFwiOm5ldyBMYShxYS5sYXlvdXRfc3ltYm9sW1widGV4dC1vcHRpb25hbFwiXSksdmlzaWJpbGl0eTpuZXcgTGEocWEubGF5b3V0X3N5bWJvbC52aXNpYmlsaXR5KX0pO3ZhciBTZz17cGFpbnQ6bmV3IE9hKHtcImljb24tb3BhY2l0eVwiOm5ldyBGYShxYS5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBGYShxYS5wYWludF9zeW1ib2xbXCJpY29uLWVtaXNzaXZlLXN0cmVuZ3RoXCJdKSxcInRleHQtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgRmEocWEucGFpbnRfc3ltYm9sW1widGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiXSksXCJpY29uLWNvbG9yXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcImljb24tY29sb3JcIl0pLFwiaWNvbi1oYWxvLWNvbG9yXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcImljb24taGFsby1jb2xvclwiXSksXCJpY29uLWhhbG8td2lkdGhcIjpuZXcgRmEocWEucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLXdpZHRoXCJdKSxcImljb24taGFsby1ibHVyXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcImljb24taGFsby1ibHVyXCJdKSxcImljb24tdHJhbnNsYXRlXCI6bmV3IExhKHFhLnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlXCJdKSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiaWNvbi1pbWFnZS1jcm9zcy1mYWRlXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcImljb24taW1hZ2UtY3Jvc3MtZmFkZVwiXSksXCJ0ZXh0LW9wYWNpdHlcIjpuZXcgRmEocWEucGFpbnRfc3ltYm9sW1widGV4dC1vcGFjaXR5XCJdKSxcInRleHQtY29sb3JcIjpuZXcgRmEocWEucGFpbnRfc3ltYm9sW1widGV4dC1jb2xvclwiXSx7cnVudGltZVR5cGU6X2UsZ2V0T3ZlcnJpZGU6dD0+dC50ZXh0Q29sb3IsaGFzT3ZlcnJpZGU6dD0+ISF0LnRleHRDb2xvcn0pLFwidGV4dC1oYWxvLWNvbG9yXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1jb2xvclwiXSksXCJ0ZXh0LWhhbG8td2lkdGhcIjpuZXcgRmEocWEucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLXdpZHRoXCJdKSxcInRleHQtaGFsby1ibHVyXCI6bmV3IEZhKHFhLnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1ibHVyXCJdKSxcInRleHQtdHJhbnNsYXRlXCI6bmV3IExhKHFhLnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlXCJdKSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBMYShxYS5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiaWNvbi1jb2xvci1zYXR1cmF0aW9uXCI6bmV3IExhKHFhLnBhaW50X3N5bWJvbFtcImljb24tY29sb3Itc2F0dXJhdGlvblwiXSl9KSxsYXlvdXQ6QWd9O2NsYXNzIElne2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT10LnByb3BlcnR5Lm92ZXJyaWRlcz90LnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTpnZSx0aGlzLmRlZmF1bHRWYWx1ZT10O31ldmFsdWF0ZSh0KXtpZih0LmZvcm1hdHRlZFNlY3Rpb24pe2NvbnN0IGU9dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkub3ZlcnJpZGVzO2lmKGUmJmUuaGFzT3ZlcnJpZGUodC5mb3JtYXR0ZWRTZWN0aW9uKSlyZXR1cm4gZS5nZXRPdmVycmlkZSh0LmZvcm1hdHRlZFNlY3Rpb24pfXJldHVybiB0LmZlYXR1cmUmJnQuZmVhdHVyZVN0YXRlP3RoaXMuZGVmYXVsdFZhbHVlLmV2YWx1YXRlKHQuZmVhdHVyZSx0LmZlYXR1cmVTdGF0ZSk6dGhpcy5kZWZhdWx0VmFsdWUucHJvcGVydHkuc3BlY2lmaWNhdGlvbi5kZWZhdWx0fWVhY2hDaGlsZCh0KXt0aGlzLmRlZmF1bHRWYWx1ZS5pc0NvbnN0YW50KCl8fHQodGhpcy5kZWZhdWx0VmFsdWUudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gbnVsbH19cmEoSWcsXCJGb3JtYXRTZWN0aW9uT3ZlcnJpZGVcIix7b21pdDpbXCJkZWZhdWx0VmFsdWVcIl19KTtjbGFzcyBrZyBleHRlbmRzIHNze2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LFNnLGUscik7fXJlY2FsY3VsYXRlKHQsZSl7c3VwZXIucmVjYWxjdWxhdGUodCxlKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSk7Y29uc3Qgcj10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKTtpZihyKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHIpdC5pbmRleE9mKGUpPDAmJnQucHVzaChlKTt0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09dDt9ZWxzZSB0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09XCJwb2ludFwiPT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9bXCJob3Jpem9udGFsXCJdOltcImhvcml6b250YWxcIixcInZlcnRpY2FsXCJdO3RoaXMuX3NldFBhaW50T3ZlcnJpZGVzKCk7fWdldFZhbHVlQW5kUmVzb2x2ZVRva2Vucyh0LGUscixuKXtjb25zdCBpPXRoaXMubGF5b3V0LmdldCh0KS5ldmFsdWF0ZShlLHt9LHIsbiksYT10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW3RdO3JldHVybiBhLmlzRGF0YURyaXZlbigpfHwkaShhLnZhbHVlKXx8IWk/aTpmdW5jdGlvbih0LGUpe3JldHVybiBlLnJlcGxhY2UoL3soW157fV0rKX0vZywoKGUscik9PnIgaW4gdD9TdHJpbmcodFtyXSk6XCJcIikpfShlLnByb3BlcnRpZXMsaSl9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgTWcodCl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gMH1xdWVyeUludGVyc2VjdHNGZWF0dXJlKCl7cmV0dXJuICExfV9zZXRQYWludE92ZXJyaWRlcygpe2Zvcihjb25zdCB0IG9mIFNnLnBhaW50Lm92ZXJyaWRhYmxlUHJvcGVydGllcyl7aWYoIWtnLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsdCkpY29udGludWU7Y29uc3QgZT10aGlzLnBhaW50LmdldCh0KSxyPW5ldyBJZyhlKSxuPW5ldyBxaShyLGUucHJvcGVydHkuc3BlY2lmaWNhdGlvbix0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyk7bGV0IGk9bnVsbDtpPVwiY29uc3RhbnRcIj09PWUudmFsdWUua2luZHx8XCJzb3VyY2VcIj09PWUudmFsdWUua2luZD9uZXcgWWkoXCJzb3VyY2VcIixuKTpuZXcgWGkoXCJjb21wb3NpdGVcIixuLGUudmFsdWUuem9vbVN0b3BzLGUudmFsdWUuX2ludGVycG9sYXRpb25UeXBlKSx0aGlzLnBhaW50Ll92YWx1ZXNbdF09bmV3IERhKGUucHJvcGVydHksaSxlLnBhcmFtZXRlcnMpO319X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0LGUscil7cmV0dXJuICEoIXRoaXMubGF5b3V0fHxlLmlzRGF0YURyaXZlbigpfHxyLmlzRGF0YURyaXZlbigpKSYma2cuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCx0KX1zdGF0aWMgaGFzUGFpbnRPdmVycmlkZSh0LGUpe2NvbnN0IHI9dC5nZXQoXCJ0ZXh0LWZpZWxkXCIpLG49U2cucGFpbnQucHJvcGVydGllc1tlXTtsZXQgaT0hMTtjb25zdCBhPXQ9Pntmb3IoY29uc3QgZSBvZiB0KWlmKG4ub3ZlcnJpZGVzJiZuLm92ZXJyaWRlcy5oYXNPdmVycmlkZShlKSlyZXR1cm4gdm9pZChpPSEwKX07aWYoXCJjb25zdGFudFwiPT09ci52YWx1ZS5raW5kJiZyLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgRGUpYShyLnZhbHVlLnZhbHVlLnNlY3Rpb25zKTtlbHNlIGlmKFwic291cmNlXCI9PT1yLnZhbHVlLmtpbmQpe2NvbnN0IHQ9ZT0+e2l8fChlIGluc3RhbmNlb2YgamUmJk5lKGUudmFsdWUpPT09U2U/YShlLnZhbHVlLnNlY3Rpb25zKTplIGluc3RhbmNlb2YgWGU/YShlLnNlY3Rpb25zKTplLmVhY2hDaGlsZCh0KSk7fSxlPXIudmFsdWU7ZS5fc3R5bGVFeHByZXNzaW9uJiZ0KGUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKTt9cmV0dXJuIGl9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IHQ9MCE9PXRoaXMucGFpbnQuZ2V0KFwiaWNvbi1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSksZT0wIT09dGhpcy5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSxyPVtdO3JldHVybiB0JiZyLnB1c2goXCJzeW1ib2xJY29uXCIpLGUmJnIucHVzaChcInN5bWJvbFNERlwiKSxyfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKHQsZSl7cmV0dXJuIHtjb25maWc6bmV3IERvKHRoaXMsZSksb3ZlcnJpZGVGb2c6ITF9fX1jb25zdCBQZz1uZXcgT2Eoe3Zpc2liaWxpdHk6bmV3IExhKHFhLmxheW91dF9iYWNrZ3JvdW5kLnZpc2liaWxpdHkpfSk7dmFyIEVnPXtwYWludDpuZXcgT2Eoe1wiYmFja2dyb3VuZC1jb2xvclwiOm5ldyBMYShxYS5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1jb2xvclwiXSksXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjpuZXcgTGEocWEucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtcGF0dGVyblwiXSksXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIjpuZXcgTGEocWEucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtb3BhY2l0eVwiXSksXCJiYWNrZ3JvdW5kLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IExhKHFhLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLWVtaXNzaXZlLXN0cmVuZ3RoXCJdKX0pLGxheW91dDpQZ307Y29uc3Qgemc9bmV3IE9hKHt2aXNpYmlsaXR5Om5ldyBMYShxYS5sYXlvdXRfcmFzdGVyLnZpc2liaWxpdHkpfSk7dmFyIFRnPXtwYWludDpuZXcgT2Eoe1wicmFzdGVyLW9wYWNpdHlcIjpuZXcgTGEocWEucGFpbnRfcmFzdGVyW1wicmFzdGVyLW9wYWNpdHlcIl0pLFwicmFzdGVyLWNvbG9yXCI6bmV3IE5hKHFhLnBhaW50X3Jhc3RlcltcInJhc3Rlci1jb2xvclwiXSksXCJyYXN0ZXItY29sb3ItbWl4XCI6bmV3IExhKHFhLnBhaW50X3Jhc3RlcltcInJhc3Rlci1jb2xvci1taXhcIl0pLFwicmFzdGVyLWNvbG9yLXJhbmdlXCI6bmV3IExhKHFhLnBhaW50X3Jhc3RlcltcInJhc3Rlci1jb2xvci1yYW5nZVwiXSksXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOm5ldyBMYShxYS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItaHVlLXJvdGF0ZVwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIjpuZXcgTGEocWEucGFpbnRfcmFzdGVyW1wicmFzdGVyLWJyaWdodG5lc3MtbWluXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOm5ldyBMYShxYS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIl0pLFwicmFzdGVyLXNhdHVyYXRpb25cIjpuZXcgTGEocWEucGFpbnRfcmFzdGVyW1wicmFzdGVyLXNhdHVyYXRpb25cIl0pLFwicmFzdGVyLWNvbnRyYXN0XCI6bmV3IExhKHFhLnBhaW50X3Jhc3RlcltcInJhc3Rlci1jb250cmFzdFwiXSksXCJyYXN0ZXItcmVzYW1wbGluZ1wiOm5ldyBMYShxYS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItcmVzYW1wbGluZ1wiXSksXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiOm5ldyBMYShxYS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiXSksXCJyYXN0ZXItZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgTGEocWEucGFpbnRfcmFzdGVyW1wicmFzdGVyLWVtaXNzaXZlLXN0cmVuZ3RoXCJdKSxcInJhc3Rlci1hcnJheS1iYW5kXCI6bmV3IExhKHFhLnBhaW50X3Jhc3RlcltcInJhc3Rlci1hcnJheS1iYW5kXCJdKSxcInJhc3Rlci1lbGV2YXRpb25cIjpuZXcgTGEocWEucGFpbnRfcmFzdGVyW1wicmFzdGVyLWVsZXZhdGlvblwiXSl9KSxsYXlvdXQ6emd9LEJnPWNzKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfSx7bmFtZTpcImFfdGV4dHVyZV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y2xhc3MgQ2d7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5jb250ZXh0PXQsdGhpcy5mb3JtYXQ9cix0aGlzLnRleHR1cmU9dC5nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy51cGRhdGUoZSxuKTt9dXBkYXRlKHQsZSxyKXtjb25zdHt3aWR0aDpuLGhlaWdodDppfT10LHtjb250ZXh0OmF9PXRoaXMse2dsOnN9PWE7aWYocy5iaW5kVGV4dHVyZShzLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxhLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXQoITEpLGEucGl4ZWxTdG9yZVVucGFjay5zZXQoMSksYS5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQodGhpcy5mb3JtYXQ9PT1zLlJHQkEmJighZXx8ITEhPT1lLnByZW11bHRpcGx5KSkscnx8dGhpcy5zaXplJiZ0aGlzLnNpemVbMF09PT1uJiZ0aGlzLnNpemVbMV09PT1pKXtjb25zdHt4OmUseTphfT1yfHx7eDowLHk6MH07aWYodCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnR8fHQgaW5zdGFuY2VvZiBJbWFnZURhdGF8fEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApcy50ZXhTdWJJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLGUsYSxzLlJHQkEscy5VTlNJR05FRF9CWVRFLHQpO2Vsc2Uge2xldCByPXRoaXMuZm9ybWF0LG89cy5VTlNJR05FRF9CWVRFO3RoaXMuZm9ybWF0PT09cy5SMzJGJiYocj1zLlJFRCxvPXMuRkxPQVQpLHMudGV4U3ViSW1hZ2UyRChzLlRFWFRVUkVfMkQsMCxlLGEsbixpLHIsbyx0LmRhdGEpO319ZWxzZSBpZih0aGlzLnNpemU9W24saV0sdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnR8fHQgaW5zdGFuY2VvZiBJbWFnZURhdGF8fEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2xldCBlPXRoaXMuZm9ybWF0O3RoaXMuZm9ybWF0PT09cy5SOCYmKGU9cy5SRUQpLHMudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxlLHMuVU5TSUdORURfQllURSx0KTt9ZWxzZSB7bGV0IGU9dGhpcy5mb3JtYXQscj10aGlzLmZvcm1hdCxhPXMuVU5TSUdORURfQllURTt0aGlzLmZvcm1hdD09PXMuREVQVEhfQ09NUE9ORU5UJiYoZT1zLkRFUFRIX0NPTVBPTkVOVDE2LGE9cy5VTlNJR05FRF9TSE9SVCksdGhpcy5mb3JtYXQ9PT1zLlI4JiYocj1zLlJFRCksdGhpcy5mb3JtYXQ9PT1zLlIzMkYmJihhPXMuRkxPQVQscj1zLlJFRCkscy50ZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLGUsbixpLDAscixhLHQuZGF0YSk7fXRoaXMudXNlTWlwbWFwPUJvb2xlYW4oZSYmZS51c2VNaXBtYXApLHRoaXMudXNlTWlwbWFwJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV8yRCk7fWJpbmQodCxlLHI9ITEpe2NvbnN0e2NvbnRleHQ6bn09dGhpcyx7Z2w6aX09bjtpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHQhPT10aGlzLm1pbkZpbHRlciYmKGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX01BR19GSUxURVIsdCksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLnVzZU1pcG1hcCYmIXI/dD09PWkuTkVBUkVTVD9pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6aS5MSU5FQVJfTUlQTUFQX0xJTkVBUjp0KSx0aGlzLm1pbkZpbHRlcj10KSxlIT09dGhpcy53cmFwUyYmKGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX1dSQVBfUyxlKSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9XUkFQX1QsZSksdGhpcy53cmFwUz1lKTt9YmluZEV4dHJhUGFyYW0odCxlLHIsbil7Y29uc3R7Y29udGV4dDppfT10aGlzLHtnbDphfT1pO2EuYmluZFRleHR1cmUoYS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZSE9PXRoaXMubWFnRmlsdGVyJiYoYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixlKSx0aGlzLm1hZ0ZpbHRlcj1lKSx0IT09dGhpcy5taW5GaWx0ZXImJihhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMudXNlTWlwbWFwP3Q9PT1hLk5FQVJFU1Q/YS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOmEuTElORUFSX01JUE1BUF9MSU5FQVI6dCksdGhpcy5taW5GaWx0ZXI9dCksciE9PXRoaXMud3JhcFMmJihhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9XUkFQX1MsciksdGhpcy53cmFwUz1yKSxuIT09dGhpcy53cmFwVCYmKGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfMkQsYS5URVhUVVJFX1dSQVBfVCxuKSx0aGlzLndyYXBUPW4pO31kZXN0cm95KCl7Y29uc3R7Z2w6dH09dGhpcy5jb250ZXh0O3QuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmUpLHRoaXMudGV4dHVyZT1udWxsO319Y2xhc3MgUmd7Y29uc3RydWN0b3IodCxlKXt0aGlzLmNvbnRleHQ9dCx0aGlzLnRleHR1cmU9ZTt9YmluZCh0LGUpe2NvbnN0e2NvbnRleHQ6cn09dGhpcyx7Z2w6bn09cjtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHQhPT10aGlzLm1pbkZpbHRlciYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01BR19GSUxURVIsdCksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUix0KSx0aGlzLm1pbkZpbHRlcj10KSxlIT09dGhpcy53cmFwUyYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxlKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9XUkFQX1QsZSksdGhpcy53cmFwUz1lKTt9fWZ1bmN0aW9uIERnKGUscixuLGksYSxzLG8sbCl7Y29uc3QgdT1bZSxyLDEsbixpLDEsYSxzLDFdLGM9W28sbCwxXSxoPXQuY28uYWRqb2ludChbXSx1KSxbcCxmLGRdPXQuTi50cmFuc2Zvcm1NYXQzKGMsYyxoKTtyZXR1cm4gdC5jby5tdWx0aXBseSh1LHUsW3AsMCwwLDAsZiwwLDAsMCxkXSl9ZnVuY3Rpb24gVmcoZSxyLG4saSxhLHMsbyxsKXtjb25zdCB1PWZ1bmN0aW9uKGUscixuLGksYSxzLG8sbCl7Y29uc3QgdT1EZygwLDAsMSwwLDEsMSwwLDEpLGM9RGcoZSxyLG4saSxhLHMsbyxsKSxoPXQuY28uYWRqb2ludChbXSx1KTtyZXR1cm4gdC5jby5tdWx0aXBseShjLGMsaCl9KGUscixuLGksYSxzLG8sbCk7cmV0dXJuIFt1WzJdL3VbOF0vVHIsdVs1XS91WzhdL1RyXX1mdW5jdGlvbiBMZyh0KXtyZXR1cm4gW3RbMF0sTWF0aC5taW4oTWF0aC5tYXgodFsxXSwteGwpLHhsKV19Y2xhc3MgRmcgZXh0ZW5kcyBlZXtjb25zdHJ1Y3Rvcih0LGUscixuKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9cix0aGlzLmNvb3JkaW5hdGVzPWUuY29vcmRpbmF0ZXMsdGhpcy50eXBlPVwiaW1hZ2VcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5vbk5vcnRoUG9sZT0hMSx0aGlzLm9uU291dGhQb2xlPSExLHRoaXMuc2V0RXZlbnRlZFBhcmVudChuKSx0aGlzLm9wdGlvbnM9ZSx0aGlzLl9kaXJ0eT0hMTt9bG9hZCh0LGUpe2lmKHRoaXMuX2xvYWRlZD1lfHwhMSx0aGlzLmZpcmUobmV3IFF0KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLnVybD10aGlzLm9wdGlvbnMudXJsLCF0aGlzLnVybClyZXR1cm4gdCYmKHRoaXMuY29vcmRpbmF0ZXM9dCksdGhpcy5fbG9hZGVkPSEwLHZvaWQgdGhpcy5fZmluaXNoTG9hZGluZygpO3RoaXMuX2ltYWdlUmVxdWVzdD1DdCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCxBdC5JbWFnZSksKChlLHIpPT57dGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLGU/dGhpcy5maXJlKG5ldyB0ZShlKSk6ciYmKHRoaXMuaW1hZ2U9ciBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/c3QuZ2V0SW1hZ2VEYXRhKHIpOnIsdGhpcy5fZGlydHk9ITAsdGhpcy53aWR0aD10aGlzLmltYWdlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuaW1hZ2UuaGVpZ2h0LHQmJih0aGlzLmNvb3JkaW5hdGVzPXQpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfXVwZGF0ZUltYWdlKHQpe3JldHVybiB0LnVybD8odGhpcy5faW1hZ2VSZXF1ZXN0JiZ0LnVybCE9PXRoaXMub3B0aW9ucy51cmwmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMub3B0aW9ucy51cmw9dC51cmwsdGhpcy5sb2FkKHQuY29vcmRpbmF0ZXMsdGhpcy5fbG9hZGVkKSx0aGlzKTp0aGlzfXNldFRleHR1cmUodCl7aWYoISh0LmhhbmRsZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3ZpZGVkIGhhbmRsZSBpcyBub3QgYSBXZWJHTFRleHR1cmUgaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMudGV4dHVyZT1uZXcgUmcodGhpcy5tYXAucGFpbnRlci5jb250ZXh0LHQuaGFuZGxlKSx0aGlzLndpZHRoPXQuZGltZW5zaW9uc1swXSx0aGlzLmhlaWdodD10LmRpbWVuc2lvbnNbMV0sdGhpcy5fZGlydHk9ITEsdGhpcy5fbG9hZGVkPSEwLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSx0aGlzfV9maW5pc2hMb2FkaW5nKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgUXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKTt9b25BZGQodCl7dGhpcy5tYXA9dCx0aGlzLmxvYWQoKTt9b25SZW1vdmUoKXt0aGlzLl9pbWFnZVJlcXVlc3QmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLCF0aGlzLnRleHR1cmV8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIFJnfHx0aGlzLnRleHR1cmUuZGVzdHJveSgpLHRoaXMuYm91bmRzQnVmZmVyJiYodGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLHRoaXMuZWxldmF0ZWRHbG9iZVZlcnRleEJ1ZmZlciYmdGhpcy5lbGV2YXRlZEdsb2JlVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmVsZXZhdGVkR2xvYmVJbmRleEJ1ZmZlciYmdGhpcy5lbGV2YXRlZEdsb2JlSW5kZXhCdWZmZXIuZGVzdHJveSgpKTt9c2V0Q29vcmRpbmF0ZXModCl7aWYodGhpcy5jb29yZGluYXRlcz10LHRoaXMuX2JvdW5kc0FycmF5PXZvaWQgMCx0aGlzLl91bnN1cHBvcnRlZENvb3Jkcz0hMSwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7dGhpcy5vbk5vcnRoUG9sZT0hMSx0aGlzLm9uU291dGhQb2xlPSExO2xldCBlPXRbMF1bMV0scj10WzBdWzFdO2Zvcihjb25zdCBuIG9mIHQpblsxXT5yJiYocj1uWzFdKSxuWzFdPGUmJihlPW5bMV0pO2NvbnN0IG49KHIrZSkvMjtpZihuPnhsP3RoaXMub25Ob3J0aFBvbGU9ITA6bjwteGwmJih0aGlzLm9uU291dGhQb2xlPSEwKSwhdGhpcy5vbk5vcnRoUG9sZSYmIXRoaXMub25Tb3V0aFBvbGUpe2NvbnN0IGU9dC5tYXAoTWwuZnJvbUxuZ0xhdCk7dGhpcy50aWxlSUQ9ZnVuY3Rpb24odCl7bGV0IGU9MS8wLHI9MS8wLG49LTEvMCxpPS0xLzA7Zm9yKGNvbnN0IGEgb2YgdCllPU1hdGgubWluKGUsYS54KSxyPU1hdGgubWluKHIsYS55KSxuPU1hdGgubWF4KG4sYS54KSxpPU1hdGgubWF4KGksYS55KTtjb25zdCBhPU1hdGgubWF4KG4tZSxpLXIpLHM9TWF0aC5tYXgoMCxNYXRoLmZsb29yKC1NYXRoLmxvZyhhKS9NYXRoLkxOMikpLG89TWF0aC5wb3coMixzKTtsZXQgbD1NYXRoLmZsb29yKChlK24pLzIqbyk7cmV0dXJuIGw+MSYmKGwtPTEpLG5ldyBpbChzLGwsTWF0aC5mbG9vcigocitpKS8yKm8pKX0oZSksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O31yZXR1cm4gdGhpcy5maXJlKG5ldyBRdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfV9jbGVhcigpe3RoaXMuX2JvdW5kc0FycmF5PXZvaWQgMCx0aGlzLl91bnN1cHBvcnRlZENvb3Jkcz0hMTt9X3ByZXBhcmVEYXRhKGUpe2Zvcihjb25zdCB0IGluIHRoaXMudGlsZXMpe2NvbnN0IGU9dGhpcy50aWxlc1t0XTtcImxvYWRlZFwiIT09ZS5zdGF0ZSYmKGUuc3RhdGU9XCJsb2FkZWRcIixlLnRleHR1cmU9dGhpcy50ZXh0dXJlKTt9aWYodGhpcy5fYm91bmRzQXJyYXl8fHRoaXMub25Ob3J0aFBvbGV8fHRoaXMub25Tb3V0aFBvbGV8fHRoaXMuX3Vuc3VwcG9ydGVkQ29vcmRzKXJldHVybjtjb25zdCByPUd5KG5ldyBpbCgwLDAsMCksdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pLG49W3IucHJvamVjdGlvbi5wcm9qZWN0KHRoaXMuY29vcmRpbmF0ZXNbMF1bMF0sdGhpcy5jb29yZGluYXRlc1swXVsxXSksci5wcm9qZWN0aW9uLnByb2plY3QodGhpcy5jb29yZGluYXRlc1sxXVswXSx0aGlzLmNvb3JkaW5hdGVzWzFdWzFdKSxyLnByb2plY3Rpb24ucHJvamVjdCh0aGlzLmNvb3JkaW5hdGVzWzJdWzBdLHRoaXMuY29vcmRpbmF0ZXNbMl1bMV0pLHIucHJvamVjdGlvbi5wcm9qZWN0KHRoaXMuY29vcmRpbmF0ZXNbM11bMF0sdGhpcy5jb29yZGluYXRlc1szXVsxXSldO2lmKCFmdW5jdGlvbih0KXtjb25zdCBlPXRbMV0ueC10WzBdLngscj10WzFdLnktdFswXS55LG49dFsyXS54LXRbMV0ueCxpPXRbMl0ueS10WzFdLnksYT10WzNdLngtdFsyXS54LHM9dFszXS55LXRbMl0ueSxvPXRbMF0ueC10WzNdLngsbD10WzBdLnktdFszXS55LHU9ZSppLW4qcixjPW4qcy1hKmksaD1hKmwtbypzLHA9bypyLWUqbDtyZXR1cm4gdT4wJiZjPjAmJmg+MCYmcD4wfHx1PDAmJmM8MCYmaDwwJiZwPDB9KG4pKXJldHVybiBjb25zb2xlLndhcm4oXCJJbWFnZSBzb3VyY2UgY29vcmRpbmF0ZXMgYXJlIGRlZmluaW5nIG5vbi1jb252ZXggYXJlYSBpbiB0aGUgTWVyY2F0b3IgcHJvamVjdGlvblwiKSx2b2lkKHRoaXMuX3Vuc3VwcG9ydGVkQ29vcmRzPSEwKTtjb25zdCBpPUd5KHRoaXMudGlsZUlELHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uKSxbYSxzLG8sbF09dGhpcy5jb29yZGluYXRlcy5tYXAoKHQ9Pntjb25zdCBlPWkucHJvamVjdGlvbi5wcm9qZWN0KHRbMF0sdFsxXSk7cmV0dXJuIFl5KGksZSkuX3JvdW5kKCl9KSk7dGhpcy5wZXJzcGVjdGl2ZVRyYW5zZm9ybT1WZyhhLngsYS55LHMueCxzLnksby54LG8ueSxsLngsbC55KTtjb25zdCB1PXRoaXMuX2JvdW5kc0FycmF5PW5ldyBkczt1LmVtcGxhY2VCYWNrKGEueCxhLnksMCwwKSx1LmVtcGxhY2VCYWNrKHMueCxzLnksVHIsMCksdS5lbXBsYWNlQmFjayhsLngsbC55LDAsVHIpLHUuZW1wbGFjZUJhY2soby54LG8ueSxUcixUciksdGhpcy5ib3VuZHNCdWZmZXImJih0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5lbGV2YXRlZEdsb2JlVmVydGV4QnVmZmVyJiZ0aGlzLmVsZXZhdGVkR2xvYmVWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuZWxldmF0ZWRHbG9iZUluZGV4QnVmZmVyJiZ0aGlzLmVsZXZhdGVkR2xvYmVJbmRleEJ1ZmZlci5kZXN0cm95KCkpLHRoaXMuYm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHUsQmcubWVtYmVycyksdGhpcy5ib3VuZHNTZWdtZW50cz1lby5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IGM9W10saD1bTGcoKHA9dGhpcy5jb29yZGluYXRlcylbMF0pLExnKHBbMV0pLExnKHBbMl0pLExnKHBbM10pXTt2YXIgcDtjb25zdFtmLGQsbSx5XT1mdW5jdGlvbih0KXtsZXQgZT10WzBdWzBdLHI9ZSxuPXRbMF1bMV0saT1uO2ZvcihsZXQgYT0xO2E8dC5sZW5ndGg7YSsrKXRbYV1bMF08ZT9lPXRbYV1bMF06dFthXVswXT5yJiYocj10W2FdWzBdKSx0W2FdWzFdPG4/bj10W2FdWzFdOnRbYV1bMV0+aSYmKGk9dFthXVsxXSk7cmV0dXJuIFtlLG4sci1lLGktbl19KGgpO3tjb25zdCBpPW5ldyBkcyxbYSxzLG8sbF09ZnVuY3Rpb24odCl7bGV0IGU9dFswXS54LHI9ZSxuPXRbMF0ueSxpPW47Zm9yKGxldCBhPTE7YTx0Lmxlbmd0aDthKyspdFthXS54PGU/ZT10W2FdLng6dFthXS54PnImJihyPXRbYV0ueCksdFthXS55PG4/bj10W2FdLnk6dFthXS55PmkmJihpPXRbYV0ueSk7cmV0dXJuIFtlLG4sci1lLGktbl19KG4pLHU9dD0+Wyh0LngtYSkvbywodC55LXMpL2xdLFtoLHAsZyx4XT1uLm1hcCh1KSx2PWZ1bmN0aW9uKGUscixuLGksYSxzLG8sbCl7Y29uc3QgdT1EZygwLDAsMSwwLDEsMSwwLDEpLGM9RGcoZSxyLG4saSxhLHMsbyxsKSxoPXQuY28uYWRqb2ludChbXSxjKTtyZXR1cm4gdC5jby5tdWx0aXBseSh1LHUsaCl9KGhbMF0saFsxXSxwWzBdLHBbMV0sZ1swXSxnWzFdLHhbMF0seFsxXSk7dGhpcy5lbGV2YXRlZEdsb2JlUGVyc3BlY3RpdmVUcmFuc2Zvcm09VmcoaFswXSxoWzFdLHBbMF0scFsxXSxnWzBdLGdbMV0seFswXSx4WzFdKTtjb25zdCBiPShlLHIpPT57Yy5wdXNoKGUubG5nKTtjb25zdCBuPU1hdGgucm91bmQoKGUubG5nLWYpL20qVHIpLGE9TWF0aC5yb3VuZCgoZS5sYXQtZCkveSpUcikscz11KHIpLG89dC5OLnRyYW5zZm9ybU1hdDMoW10sW3NbMF0sc1sxXSwxXSx2KSxsPU1hdGgucm91bmQob1swXS9vWzJdKlRyKSxoPU1hdGgucm91bmQob1sxXS9vWzJdKlRyKTtpLmVtcGxhY2VCYWNrKG4sYSxsLGgpO30sXz1uWzNdLngtblswXS54LHc9blszXS55LW5bMF0ueSxNPW5bMl0ueC1uWzFdLngsQT1uWzJdLnktblsxXS55O2ZvcihsZXQgdD0wO3Q8NjU7dCsrKXtjb25zdCBlPXQvNjQsaT1bblswXS54K2UqXyxuWzBdLnkrZSp3XSxhPVtuWzFdLngrZSpNLG5bMV0ueStlKkFdLHM9YVswXS1pWzBdLG89YVsxXS1pWzFdO2ZvcihsZXQgdD0wO3Q8NjU7dCsrKXtjb25zdCBlPXQvNjQsbj17eDppWzBdK3MqZSx5OmlbMV0rbyplLHo6MH07YihyLnByb2plY3Rpb24udW5wcm9qZWN0KG4ueCxuLnkpLG4pO319dGhpcy5lbGV2YXRlZEdsb2JlVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksQmcubWVtYmVycyk7fXt0aGlzLm1heExvbmdpdHVkZVRyaWFuZ2xlU2l6ZT0wO2xldCB0PVtdLHI9bmV3IEVzO2NvbnN0IG49KGUsbixpKT0+e3IuZW1wbGFjZUJhY2soZSxuLGkpO2NvbnN0IGE9Y1tlXSxzPWNbbl0sbz1jW2ldLGw9TWF0aC5taW4oTWF0aC5taW4oYSxzKSxvKSx1PU1hdGgubWF4KE1hdGgubWF4KGEscyksbyktbDt1PnRoaXMubWF4TG9uZ2l0dWRlVHJpYW5nbGVTaXplJiYodGhpcy5tYXhMb25naXR1ZGVUcmlhbmdsZVNpemU9dSksdC5wdXNoKGwrdS8yKTt9O2ZvcihsZXQgdD0wO3Q8NjQ7dCsrKWZvcihsZXQgZT0wO2U8NjQ7ZSsrKXtjb25zdCByPTY1KnQrZSxpPXIrMSxhPXIrNjUscz1hKzE7bihyLGEsaSksbihpLGEscyk7fVt0LHJdPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1BcnJheS5mcm9tKHtsZW5ndGg6dC5sZW5ndGh9LCgodCxlKT0+ZSkpO3Iuc29ydCgoKGUscik9PnRbZV0tdFtyXSkpO2NvbnN0IG49W10saT1uZXcgRXM7Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2NvbnN0IHM9clthXTtuLnB1c2godFtzXSk7Y29uc3Qgbz0zKnMsbD1vKzE7aS5lbXBsYWNlQmFjayhlLnVpbnQxNltvXSxlLnVpbnQxNltsXSxlLnVpbnQxNltsKzFdKTt9cmV0dXJuIFtuLGldfSh0LHIpLHRoaXMuZWxldmF0ZWRHbG9iZVRyaWFuZ2xlc0NlbnRlckxvbmdpdHVkZXM9dCx0aGlzLmVsZXZhdGVkR2xvYmVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHIpO310aGlzLmVsZXZhdGVkR2xvYmVTZWdtZW50cz1lby5zaW1wbGVTZWdtZW50KDAsMCw0MjI1LDgxOTIpLHRoaXMuZWxldmF0ZWRHbG9iZUdyaWRNYXRyaXg9bmV3IEZsb2F0MzJBcnJheShbMCxtL1RyLDAseS9UciwwLDAsZCxmLDBdKTt9cHJlcGFyZSgpe2NvbnN0IHQ9MCE9PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aDtpZih0aGlzLnRpbGVJRCYmIXQpcmV0dXJuO2NvbnN0IGU9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LHI9ZS5nbDshdGhpcy5fZGlydHl8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIFJnfHwodGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUodGhpcy5pbWFnZSk6KHRoaXMudGV4dHVyZT1uZXcgQ2coZSx0aGlzLmltYWdlLHIuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSksdGhpcy5fZGlydHk9ITEpLHQmJnRoaXMuX3ByZXBhcmVEYXRhKGUpO31sb2FkVGlsZSh0LGUpe3RoaXMudGlsZUlEJiZ0aGlzLnRpbGVJRC5lcXVhbHModC50aWxlSUQuY2Fub25pY2FsKT8odGhpcy50aWxlc1tTdHJpbmcodC50aWxlSUQud3JhcCldPXQsdC5idWNrZXRzPXt9LGUobnVsbCkpOih0LnN0YXRlPVwiZXJyb3JlZFwiLGUobnVsbCkpO31zZXJpYWxpemUoKXtyZXR1cm4ge3R5cGU6XCJpbWFnZVwiLHVybDp0aGlzLm9wdGlvbnMudXJsLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9Z2V0U2VnbWVudHNGb3JMb25naXR1ZGUodCl7Y29uc3QgZT10aGlzLmVsZXZhdGVkR2xvYmVTZWdtZW50cztpZighdGhpcy5lbGV2YXRlZEdsb2JlVHJpYW5nbGVzQ2VudGVyTG9uZ2l0dWRlc3x8IWUpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLmVsZXZhdGVkR2xvYmVUcmlhbmdsZXNDZW50ZXJMb25naXR1ZGVzO2xldCBuPSgodCxlKT0+dCszNjAqTWF0aC5yb3VuZCgoZS10KS8zNjApKSh0KzE4MCxyWzBdKTtjb25zdCBpPW5ldyBlbyxhPSh0LHIpPT57aS5zZWdtZW50cy5wdXNoKHt2ZXJ0ZXhPZmZzZXQ6MCxwcmltaXRpdmVPZmZzZXQ6dCx2ZXJ0ZXhMZW5ndGg6ZS5zZWdtZW50c1swXS52ZXJ0ZXhMZW5ndGgscHJpbWl0aXZlTGVuZ3RoOnIsc29ydEtleTp2b2lkIDAsdmFvczp7fX0pO30scz0uNTEqdGhpcy5tYXhMb25naXR1ZGVUcmlhbmdsZVNpemU7aWYoTWF0aC5hYnMoclswXS1uKTw9cyl7Y29uc3QgdD1pdChyLDAsci5sZW5ndGgsbitzKTtyZXR1cm4gdD09PXIubGVuZ3RofHxhKHQsbnQocix0KzEsci5sZW5ndGgsbiszNjAtcyktdCksaX1uPHJbMF0mJihuKz0zNjApO2NvbnN0IG89bnQociwwLHIubGVuZ3RoLG4tcyk7aWYobz09PXIubGVuZ3RoKXJldHVybiBhKDAsci5sZW5ndGgpLGk7YSgwLG8tMCk7Y29uc3QgbD1pdChyLG8rMSxyLmxlbmd0aCxuK3MpO3JldHVybiBsIT09ci5sZW5ndGgmJmEobCxyLmxlbmd0aC1sKSxpfX1jb25zdCBOZz0oTWF0aC5wb3coMjU2LDIpLTEpLzE2OTA3NTIwO2NsYXNzIE9nIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHQsVGcsZSxyKSx0aGlzLnVwZGF0ZUNvbG9yUmFtcCgpLHRoaXMuX2N1clJhbXBSYW5nZT1bTmFOLE5hTl07fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wicmFzdGVyXCJdfWhhc0NvbG9yTWFwKCl7cmV0dXJuICEhdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wicmFzdGVyLWNvbG9yXCJdLnZhbHVlLnZhbHVlfXRpbGVDb3ZlckxpZnQoKXtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpfWlzTGF5ZXJEcmFwZWQodCl7cmV0dXJuICEodCYmdC5fc291cmNlIGluc3RhbmNlb2YgRmcmJih0Ll9zb3VyY2Uub25Ob3J0aFBvbGV8fHQuX3NvdXJjZS5vblNvdXRoUG9sZSkpJiYwPT09dGhpcy5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtcInJhc3Rlci1jb2xvclwiIT09dCYmXCJyYXN0ZXItY29sb3ItcmFuZ2VcIiE9PXR8fCh0aGlzLl9jdXJSYW1wUmFuZ2U9W05hTixOYU5dLHRoaXMudXBkYXRlQ29sb3JSYW1wKCkpO311cGRhdGVDb2xvclJhbXAodCl7aWYoIXRoaXMuaGFzQ29sb3JNYXAoKSlyZXR1cm47aWYoIXRoaXMuX2N1clJhbXBSYW5nZSlyZXR1cm47Y29uc3QgZT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixbcixuXT10fHx0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3ItcmFuZ2VcIl0udmFsdWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSl8fFtOYU4sTmFOXTtpc05hTihyKSYmaXNOYU4obil8fHI9PT10aGlzLl9jdXJSYW1wUmFuZ2VbMF0mJm49PT10aGlzLl9jdXJSYW1wUmFuZ2VbMV18fCh0aGlzLmNvbG9yUmFtcD1BcCh7ZXhwcmVzc2lvbjplLGV2YWx1YXRpb25LZXk6XCJyYXN0ZXJWYWx1ZVwiLGltYWdlOnRoaXMuY29sb3JSYW1wLGNsaXBzOlt7c3RhcnQ6cixlbmQ6bn1dLHJlc29sdXRpb246MjU2fSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGwsdGhpcy5fY3VyUmFtcFJhbmdlPVtyLG5dKTt9fWNvbnN0IFVnPW5ldyBPYSh7dmlzaWJpbGl0eTpuZXcgTGEocWFbXCJsYXlvdXRfcmFzdGVyLXBhcnRpY2xlXCJdLnZpc2liaWxpdHkpfSk7dmFyIGpnPXtwYWludDpuZXcgT2Eoe1wicmFzdGVyLXBhcnRpY2xlLWFycmF5LWJhbmRcIjpuZXcgTGEocWFbXCJwYWludF9yYXN0ZXItcGFydGljbGVcIl1bXCJyYXN0ZXItcGFydGljbGUtYXJyYXktYmFuZFwiXSksXCJyYXN0ZXItcGFydGljbGUtY291bnRcIjpuZXcgTGEocWFbXCJwYWludF9yYXN0ZXItcGFydGljbGVcIl1bXCJyYXN0ZXItcGFydGljbGUtY291bnRcIl0pLFwicmFzdGVyLXBhcnRpY2xlLWNvbG9yXCI6bmV3IE5hKHFhW1wicGFpbnRfcmFzdGVyLXBhcnRpY2xlXCJdW1wicmFzdGVyLXBhcnRpY2xlLWNvbG9yXCJdKSxcInJhc3Rlci1wYXJ0aWNsZS1tYXgtc3BlZWRcIjpuZXcgTGEocWFbXCJwYWludF9yYXN0ZXItcGFydGljbGVcIl1bXCJyYXN0ZXItcGFydGljbGUtbWF4LXNwZWVkXCJdKSxcInJhc3Rlci1wYXJ0aWNsZS1zcGVlZC1mYWN0b3JcIjpuZXcgTGEocWFbXCJwYWludF9yYXN0ZXItcGFydGljbGVcIl1bXCJyYXN0ZXItcGFydGljbGUtc3BlZWQtZmFjdG9yXCJdKSxcInJhc3Rlci1wYXJ0aWNsZS1mYWRlLW9wYWNpdHktZmFjdG9yXCI6bmV3IExhKHFhW1wicGFpbnRfcmFzdGVyLXBhcnRpY2xlXCJdW1wicmFzdGVyLXBhcnRpY2xlLWZhZGUtb3BhY2l0eS1mYWN0b3JcIl0pLFwicmFzdGVyLXBhcnRpY2xlLXJlc2V0LXJhdGUtZmFjdG9yXCI6bmV3IExhKHFhW1wicGFpbnRfcmFzdGVyLXBhcnRpY2xlXCJdW1wicmFzdGVyLXBhcnRpY2xlLXJlc2V0LXJhdGUtZmFjdG9yXCJdKX0pLGxheW91dDpVZ307Y2xhc3MgcWcgZXh0ZW5kcyBzc3tjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxqZyxlLHIpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpLHRoaXMub25SZW1vdmU9dD0+e3RoaXMuY29sb3JSYW1wVGV4dHVyZSYmdGhpcy5jb2xvclJhbXBUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLnRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0JiZ0LnBhaW50ZXIuY29udGV4dC5nbC5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0aGlzLnRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0KSx0aGlzLnRpbGVGcmFtZWJ1ZmZlciYmdGhpcy50aWxlRnJhbWVidWZmZXIuZGVzdHJveSgpO30sdGhpcy5sYXN0SW52YWxpZGF0ZWRBdD1zdC5ub3coKTt9aGFzQ29sb3JNYXAoKXtyZXR1cm4gISF0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItcGFydGljbGUtY29sb3JcIl0udmFsdWUudmFsdWV9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJyYXN0ZXJQYXJ0aWNsZVwiXX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIFwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWlzTGF5ZXJEcmFwZWQodCl7cmV0dXJuICExfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtcInJhc3Rlci1wYXJ0aWNsZS1jb2xvclwiIT09dCYmXCJyYXN0ZXItcGFydGljbGUtbWF4LXNwZWVkXCIhPT10fHwodGhpcy5fdXBkYXRlQ29sb3JSYW1wKCksdGhpcy5faW52YWxpZGF0ZUFuaW1hdGlvblN0YXRlKCkpLFwicmFzdGVyLXBhcnRpY2xlLWNvdW50XCI9PT10JiZ0aGlzLl9pbnZhbGlkYXRlQW5pbWF0aW9uU3RhdGUoKTt9X3VwZGF0ZUNvbG9yUmFtcCgpe2lmKCF0aGlzLmhhc0NvbG9yTWFwKCkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wicmFzdGVyLXBhcnRpY2xlLWNvbG9yXCJdLnZhbHVlLmV4cHJlc3Npb24sZT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItcGFydGljbGUtbWF4LXNwZWVkXCJdLnZhbHVlLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206MH0pO3RoaXMuY29sb3JSYW1wPUFwKHtleHByZXNzaW9uOnQsZXZhbHVhdGlvbktleTpcInJhc3RlclBhcnRpY2xlU3BlZWRcIixpbWFnZTp0aGlzLmNvbG9yUmFtcCxjbGlwczpbe3N0YXJ0OjAsZW5kOmV9XSxyZXNvbHV0aW9uOjI1Nn0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsO31faW52YWxpZGF0ZUFuaW1hdGlvblN0YXRlKCl7dGhpcy5sYXN0SW52YWxpZGF0ZWRBdD1zdC5ub3coKTt9fWNsYXNzICRnIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LHt9LGUpLHRoaXMuaW1wbGVtZW50YXRpb249dCx0LnNsb3QmJih0aGlzLnNsb3Q9dC5zbG90KTt9aXMzRCgpe3JldHVybiBcIjNkXCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnByZXJlbmRlcn1pc0xheWVyRHJhcGVkKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlclRvVGlsZX1zaG91bGRSZWRyYXBlKCl7cmV0dXJuICEhdGhpcy5pbXBsZW1lbnRhdGlvbi5zaG91bGRSZXJlbmRlclRpbGVzJiZ0aGlzLmltcGxlbWVudGF0aW9uLnNob3VsZFJlcmVuZGVyVGlsZXMoKX1yZWNhbGN1bGF0ZSgpe311cGRhdGVUcmFuc2l0aW9ucygpe31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe31vbkFkZCh0KXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKHQsdC5wYWludGVyLmNvbnRleHQuZ2wpO31vblJlbW92ZSh0KXt0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKHQsdC5wYWludGVyLmNvbnRleHQuZ2wpO319Y29uc3QgR2c9bmV3IE9hKHt2aXNpYmlsaXR5Om5ldyBMYShxYS5sYXlvdXRfc2t5LnZpc2liaWxpdHkpfSk7dmFyIFlnPXtwYWludDpuZXcgT2Eoe1wic2t5LXR5cGVcIjpuZXcgTGEocWEucGFpbnRfc2t5W1wic2t5LXR5cGVcIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6bmV3IExhKHFhLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1blwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6bmV3IExhKHFhLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIl0pLFwic2t5LWdyYWRpZW50LWNlbnRlclwiOm5ldyBMYShxYS5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtY2VudGVyXCJdKSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjpuZXcgTGEocWEucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LXJhZGl1c1wiXSksXCJza3ktZ3JhZGllbnRcIjpuZXcgTmEocWEucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50XCJdKSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjpuZXcgTGEocWEucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiXSksXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOm5ldyBMYShxYS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiXSksXCJza3ktb3BhY2l0eVwiOm5ldyBMYShxYS5wYWludF9za3lbXCJza3ktb3BhY2l0eVwiXSl9KSxsYXlvdXQ6R2d9O2Z1bmN0aW9uIFhnKGUscixuKXtjb25zdCBpPVswLDAsMV0sYT10LmJpLmlkZW50aXR5KFtdKTtyZXR1cm4gdC5iaS5yb3RhdGVZKGEsYSxuPy1iKGUpK01hdGguUEk6YihlKSksdC5iaS5yb3RhdGVYKGEsYSwtYihyKSksdC5OLnRyYW5zZm9ybVF1YXQoaSxpLGEpLHQuTi5ub3JtYWxpemUoaSxpKX12YXIgWmc9e3BhaW50Om5ldyBPYSh7fSl9O2Z1bmN0aW9uIEtnKGUscil7Y29uc3Qgbj1XZyhlLnByb2plY3Rpb24sZS56b29tLGUud2lkdGgsZS5oZWlnaHQpLGk9ZnVuY3Rpb24oZSxyLG4saSxhKXtjb25zdCBzPW5ldyB0bChuLmxuZy0xODAqSmcsbi5sYXQpLG89bmV3IHRsKG4ubG5nKzE4MCpKZyxuLmxhdCksbD1lLnByb2plY3Qocy5sbmcscy5sYXQpLHU9ZS5wcm9qZWN0KG8ubG5nLG8ubGF0KSxjPS1NYXRoLmF0YW4yKHUueS1sLnksdS54LWwueCksaD1NbC5mcm9tTG5nTGF0KG4pO2gueT1JKGgueSwtMStKZywxLUpnKTtjb25zdCBwPWgudG9MbmdMYXQoKSxmPWUucHJvamVjdChwLmxuZyxwLmxhdCksZD1NbC5mcm9tTG5nTGF0KHApO2QueCs9Smc7Y29uc3QgbT1kLnRvTG5nTGF0KCkseT1lLnByb2plY3QobS5sbmcsbS5sYXQpLGc9dHgoeS54LWYueCx5LnktZi55LGMpLHg9TWwuZnJvbUxuZ0xhdChwKTt4LnkrPUpnO2NvbnN0IHY9eC50b0xuZ0xhdCgpLGI9ZS5wcm9qZWN0KHYubG5nLHYubGF0KSxfPXR4KGIueC1mLngsYi55LWYueSxjKSx3PU1hdGguYWJzKGcueCkvTWF0aC5hYnMoXy55KSxNPXQuYTYuaWRlbnRpdHkoW10pO3QuYTYucm90YXRlWihNLE0sLWMqKDEtKGE/MDppKSkpO2NvbnN0IEE9dC5hNi5pZGVudGl0eShbXSk7cmV0dXJuIHQuYTYuc2NhbGUoQSxBLFsxLDEtKDEtdykqaSwxXSksQVs0XT0tXy54L18ueSppLHQuYTYucm90YXRlWihBLEEsYyksdC5hNi5tdWx0aXBseShBLE0sQSksQX0oZS5wcm9qZWN0aW9uLDAsZS5jZW50ZXIsbixyKSxhPUhnKGUpO3JldHVybiB0LmE2LnNjYWxlKGksaSxbYSxhLDFdKSxpfWZ1bmN0aW9uIEhnKHQpe2NvbnN0IGU9dC5wcm9qZWN0aW9uLHI9V2codC5wcm9qZWN0aW9uLHQuem9vbSx0LndpZHRoLHQuaGVpZ2h0KSxuPVFnKGUsdC5jZW50ZXIpLGk9UWcoZSx0bC5jb252ZXJ0KGUuY2VudGVyKSk7cmV0dXJuIE1hdGgucG93KDIsbipyKygxLXIpKmkpfWZ1bmN0aW9uIFdnKHQsZSxyLG4saT0xLzApe2NvbnN0IGE9dC5yYW5nZTtpZighYSlyZXR1cm4gMDtjb25zdCBzPU1hdGgubWluKGksTWF0aC5tYXgocixuKSksbz1NYXRoLmxvZyhzLzEwMjQpL01hdGguTE4yO3JldHVybiBrKGFbMF0rbyxhWzFdK28sZSl9Y29uc3QgSmc9MS80ZTQ7ZnVuY3Rpb24gUWcodCxlKXtjb25zdCByPUkoZS5sYXQsLXhsLHhsKSxuPW5ldyB0bChlLmxuZy0xODAqSmcsciksaT1uZXcgdGwoZS5sbmcrMTgwKkpnLHIpLGE9dC5wcm9qZWN0KG4ubG5nLHIpLHM9dC5wcm9qZWN0KGkubG5nLHIpLG89TWwuZnJvbUxuZ0xhdChuKSxsPU1sLmZyb21MbmdMYXQoaSksdT1zLngtYS54LGM9cy55LWEueSxoPWwueC1vLngscD1sLnktby55LGY9TWF0aC5zcXJ0KChoKmgrcCpwKS8odSp1K2MqYykpO3JldHVybiBNYXRoLmxvZyhmKS9NYXRoLkxOMn1mdW5jdGlvbiB0eCh0LGUscil7Y29uc3Qgbj1NYXRoLmNvcyhyKSxpPU1hdGguc2luKHIpO3JldHVybiB7eDp0Km4tZSppLHk6dCppK2Uqbn19ZnVuY3Rpb24gZXgoZSxyLG4pe3QuYTYuaWRlbnRpdHkoZSksdC5hNi5yb3RhdGVaKGUsZSxiKHJbMl0pKSx0LmE2LnJvdGF0ZVgoZSxlLGIoclswXSkpLHQuYTYucm90YXRlWShlLGUsYihyWzFdKSksdC5hNi5zY2FsZShlLGUsbiksdC5hNi5tdWx0aXBseShlLGUsWzEsMCwwLDAsMCwwLDEsMCwwLDEsMCwwLDAsMCwwLDFdKTt9ZnVuY3Rpb24gcngoZSxyLG4saSxhLHMsbyxsKXtjb25zdCB1PVtuWzBdLXJbMF0sblsxXS1yWzFdLDBdLGM9W2lbMF0tclswXSxpWzFdLXJbMV0sMF07aWYodC5OLmxlbmd0aCh1KTwxZS0xMnx8dC5OLmxlbmd0aChjKTwxZS0xMilyZXR1cm4gdC5iaS5pZGVudGl0eShlKTtjb25zdCBoPXQuTi5jcm9zcyhbXSx1LGMpO3QuTi5ub3JtYWxpemUoaCxoKSx0Lk4uc3VidHJhY3QoYyxpLHIpLHVbMl09KHMtYSkqbCxjWzJdPShvLWEpKmw7Y29uc3QgcD11O3JldHVybiB0Lk4uY3Jvc3MocCx1LGMpLHQuTi5ub3JtYWxpemUocCxwKSx0LmJpLnJvdGF0aW9uVG8oZSxoLHApfWZ1bmN0aW9uIG54KGUscixuPSExKXtjb25zdCBpPXJwKHIuem9vbSksYT1mdW5jdGlvbihlLHIsbil7Y29uc3QgaT1yLndvcmxkU2l6ZSxhPVtlWzEyXSxlWzEzXSxlWzE0XV0scz15bChhWzFdL2kpLG89bWwoYVswXS9pKSxsPXQuYTYuaWRlbnRpdHkoW10pLHU9ZGwoMSxzKSppLGM9ZGwoMSwwKSppKmJsKHMsci56b29tKSxoPTEvUWgoaSk7bGV0IHA9YypoO2lmKG4pe2NvbnN0IHQ9V2coci5wcm9qZWN0aW9uLHIuem9vbSxyLndpZHRoLHIuaGVpZ2h0LDEwMjQpO3A9aCpyLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24oci5jZW50ZXIubGF0LGksdCk7fWNvbnN0IGY9V28ocyxvKTt0Lk4uYWRkKGYsZix0Lk4uc2NhbGUoW10sdC5OLm5vcm1hbGl6ZShbXSxmKSx1KnAqYVsyXSkpO2NvbnN0IGQ9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1bZVswXSxlWzFdLGVbMl1dO2xldCBuPVswLDEsMF07Y29uc3QgaT10Lk4uY3Jvc3MoW10sbixyKTtyZXR1cm4gdC5OLmNyb3NzKG4scixpKSwwPT09dC5OLnNxdWFyZWRMZW5ndGgobikmJihuPVswLDEsMF0sdC5OLmNyb3NzKGkscixuKSksdC5OLm5vcm1hbGl6ZShpLGkpLHQuTi5ub3JtYWxpemUobixuKSx0Lk4ubm9ybWFsaXplKHIsciksW2lbMF0saVsxXSxpWzJdLDAsblswXSxuWzFdLG5bMl0sMCxyWzBdLHJbMV0sclsyXSwwLGVbMF0sZVsxXSxlWzJdLDFdfShmKTt0LmE2LnNjYWxlKGwsbCxbcCxwLHAqdV0pLHQuYTYudHJhbnNsYXRlKGwsbCxbLWFbMF0sLWFbMV0sLWFbMl1dKTtjb25zdCBtPXQuYTYubXVsdGlwbHkoW10sci5nbG9iZU1hdHJpeCxkKTtyZXR1cm4gdC5hNi5tdWx0aXBseShtLG0sbCksdC5hNi5tdWx0aXBseShtLG0sZSksbX0oZSxyLG4pO2lmKGk+MCl7Y29uc3Qgbj1mdW5jdGlvbihlLHIpe2NvbnN0IG49ci53b3JsZFNpemUsaT1kbCgxLDApKm4qYmwoci5jZW50ZXIubGF0LHIuem9vbSkvUWgobiksYT1kbCgxLHIuY2VudGVyLmxhdCkqbixzPXQuYTYuaWRlbnRpdHkoW10pO3JldHVybiB0LmE2LnJvdGF0ZVkocyxzLGIoci5jZW50ZXIubG5nKSksdC5hNi5yb3RhdGVYKHMscyxiKHIuY2VudGVyLmxhdCkpLHQuYTYudHJhbnNsYXRlKHMscyxbMCwwLGpvXSksdC5hNi5zY2FsZShzLHMsW2ksaSxpKmFdKSx0LmE2LnRyYW5zbGF0ZShzLHMsW3IucG9pbnQueC0uNSpuLHIucG9pbnQueS0uNSpuLDBdKSx0LmE2Lm11bHRpcGx5KHMscyxlKSx0LmE2Lm11bHRpcGx5KHMsci5nbG9iZU1hdHJpeCxzKX0oZSxyKTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4pe2NvbnN0IGk9KGUscixuKT0+e2NvbnN0IGk9dC5OLmxlbmd0aChlKSxhPXQuTi5sZW5ndGgocikscz1xaChlLHIsbik7cmV0dXJuIHQuTi5zY2FsZShzLHMsMS90Lk4ubGVuZ3RoKHMpKnVlKGksYSxuKSl9LGE9aShbZVswXSxlWzFdLGVbMl1dLFtyWzBdLHJbMV0sclsyXV0sbikscz1pKFtlWzRdLGVbNV0sZVs2XV0sW3JbNF0scls1XSxyWzZdXSxuKSxvPWkoW2VbOF0sZVs5XSxlWzEwXV0sW3JbOF0scls5XSxyWzEwXV0sbiksbD1xaChbZVsxMl0sZVsxM10sZVsxNF1dLFtyWzEyXSxyWzEzXSxyWzE0XV0sbik7cmV0dXJuIFthWzBdLGFbMV0sYVsyXSwwLHNbMF0sc1sxXSxzWzJdLDAsb1swXSxvWzFdLG9bMl0sMCxsWzBdLGxbMV0sbFsyXSwxXX0oYSxuLGkpfXJldHVybiBhfWZ1bmN0aW9uIGl4KHQsZSxyLG4pe2NvbnN0IGk9QmgucHJvamVjdEFhYmJDb3JuZXJzKG4scik7bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxzPS0xO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7Kyt0KXtjb25zdCByPWlbdF07clswXT0oLjUqclswXSsuNSkqZS53aWR0aCxyWzFdPSguNS0uNSpyWzFdKSplLmhlaWdodCxyWzJdPGEmJihzPXQsYT1yWzJdKTt9Y29uc3Qgbz10PT5uZXcgZyhpW3RdWzBdLGlbdF1bMV0pO2xldCBsO3N3aXRjaChzKXtjYXNlIDA6Y2FzZSA2Omw9W28oMSksbyg1KSxvKDQpLG8oNyksbygzKSxvKDIpLG8oMSldO2JyZWFrO2Nhc2UgMTpjYXNlIDc6bD1bbygwKSxvKDQpLG8oNSksbyg2KSxvKDIpLG8oMyksbygwKV07YnJlYWs7Y2FzZSAzOmNhc2UgNTpsPVtvKDEpLG8oMCksbyg0KSxvKDcpLG8oNiksbygyKSxvKDEpXTticmVhaztkZWZhdWx0Omw9W28oMSksbyg1KSxvKDYpLG8oNyksbygzKSxvKDApLG8oMSldO31pZihWbCh0LGwpKXJldHVybiBhfWNvbnN0IGF4PWNzKFt7bmFtZTpcImFfcG9zXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSksc3g9Y3MoW3tuYW1lOlwiYV9jb2xvcl8zZlwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pLG94PWNzKFt7bmFtZTpcImFfY29sb3JfNGZcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dKSxseD1jcyhbe25hbWU6XCJhX3V2XzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSksdXg9Y3MoW3tuYW1lOlwiYV9ub3JtYWxfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSxjeD1jcyhbe25hbWU6XCJhX25vcm1hbF9tYXRyaXgwXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9ub3JtYWxfbWF0cml4MVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfbm9ybWFsX21hdHJpeDJcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX25vcm1hbF9tYXRyaXgzXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSksaHg9Y3MoW3tuYW1lOlwiYV9wYnJcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfaGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSk7Y2xhc3MgcHh7Y29uc3RydWN0b3IodCxlKXt0aGlzLmZlYXR1cmU9dCx0aGlzLmluc3RhbmNlZERhdGFPZmZzZXQ9ZSx0aGlzLmluc3RhbmNlZERhdGFDb3VudD0wLHRoaXMucm90YXRpb249WzAsMCwwXSx0aGlzLnNjYWxlPVsxLDEsMV0sdGhpcy50cmFuc2xhdGlvbj1bMCwwLDBdO319Y2xhc3MgZnh7Y29uc3RydWN0b3IoKXt0aGlzLmluc3RhbmNlZERhdGFBcnJheT1uZXcgTnMsdGhpcy5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb249W10sdGhpcy5mZWF0dXJlcz1bXSx0aGlzLmlkVG9GZWF0dXJlc0luZGV4PXt9O319Y2xhc3MgZHh7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLmNhbm9uaWNhbD10LmNhbm9uaWNhbCx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgodD0+dC5mcWlkKSksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbix0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNab29tRGVwZW5kZW50UHJvcGVydGllcz10aGlzLmxheWVyc1swXS5pc1pvb21EZXBlbmRlbnQoKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpLHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmluc3RhbmNlc1Blck1vZGVsPXt9LHRoaXMudmFsaWRGb3JFeGFnZ2VyYXRpb249MCx0aGlzLm1heFZlcnRpY2FsT2Zmc2V0PTAsdGhpcy5tYXhTY2FsZT0wLHRoaXMubWF4SGVpZ2h0PTAsdGhpcy5sb29rdXBEaW09dGhpcy56b29tPnRoaXMuY2Fub25pY2FsLno/MjU2OnRoaXMuem9vbT4xNT83NToxMDAsdGhpcy5pbnN0YW5jZUNvdW50PTAsdGhpcy50ZXJyYWluRWxldmF0aW9uTWluPTAsdGhpcy50ZXJyYWluRWxldmF0aW9uTWF4PTAsdGhpcy52YWxpZEZvckRFTVRpbGU9e2lkOm51bGwsdGltZXN0YW1wOjB9O31wb3B1bGF0ZSh0LGUscixuKXt0aGlzLnRpbGVUb01ldGVyPXdsKHIpO2NvbnN0IGk9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5O3RoaXMubG9va3VwPW5ldyBVaW50OEFycmF5KHRoaXMubG9va3VwRGltKnRoaXMubG9va3VwRGltKTtmb3IoY29uc3R7ZmVhdHVyZTphLGlkOnMsaW5kZXg6byxzb3VyY2VMYXllckluZGV4Omx9b2YgdCl7Y29uc3QgdD1CbChhLGkpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBhKHRoaXMuem9vbSksdCxyKSljb250aW51ZTtjb25zdCB1PXtpZDpzLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpvLGdlb21ldHJ5Omk/dC5nZW9tZXRyeTpUbChhLHIsbikscHJvcGVydGllczphLnByb3BlcnRpZXMsdHlwZTphLnR5cGUscGF0dGVybnM6e319LGM9dGhpcy5hZGRGZWF0dXJlKHUsdS5nZW9tZXRyeSx0KTtjJiZlLmZlYXR1cmVJbmRleC5pbnNlcnQoYSx1Lmdlb21ldHJ5LG8sbCx0aGlzLmluZGV4LHRoaXMuaW5zdGFuY2VzUGVyTW9kZWxbY10uaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aCxUci8zMik7fXRoaXMubG9va3VwPW51bGw7fXVwZGF0ZSh0LGUscixuKXtmb3IoY29uc3QgZSBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCByPXRoaXMuaW5zdGFuY2VzUGVyTW9kZWxbZV07Zm9yKGNvbnN0IGUgaW4gdClyLmlkVG9GZWF0dXJlc0luZGV4Lmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmV2YWx1YXRlKHIuZmVhdHVyZXNbci5pZFRvRmVhdHVyZXNJbmRleFtlXV0sdFtlXSxyLCEwKTt9dGhpcy5tYXhIZWlnaHQ9MDt9dXBkYXRlWm9vbUJhc2VkUGFpbnRQcm9wZXJ0aWVzKCl7aWYoIXRoaXMuaGFzWm9vbURlcGVuZGVudFByb3BlcnRpZXMpcmV0dXJuICExO2xldCBlPSExO2Zvcihjb25zdCByIGluIHRoaXMuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IG49dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtyXTtmb3IoY29uc3QgciBvZiBuLmZlYXR1cmVzKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLGE9ci5mZWF0dXJlLHM9dGhpcy5jYW5vbmljYWwsbz1pLnBhaW50LmdldChcIm1vZGVsLXJvdGF0aW9uXCIpLmV2YWx1YXRlKGEse30scyksbD1pLnBhaW50LmdldChcIm1vZGVsLXNjYWxlXCIpLmV2YWx1YXRlKGEse30scyksdT1pLnBhaW50LmdldChcIm1vZGVsLXRyYW5zbGF0aW9uXCIpLmV2YWx1YXRlKGEse30scyk7dC5OLmV4YWN0RXF1YWxzKHIucm90YXRpb24sbykmJnQuTi5leGFjdEVxdWFscyhyLnNjYWxlLGwpJiZ0Lk4uZXhhY3RFcXVhbHMoci50cmFuc2xhdGlvbix1KXx8KHRoaXMuZXZhbHVhdGUocixyLmZlYXR1cmVTdGF0ZXMsbiwhMCksZT0hMCk7fX1yZXR1cm4gZX1pc0VtcHR5KCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5pbnN0YW5jZXNQZXJNb2RlbClpZigwIT09dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFt0XS5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoKXJldHVybiAhMTtyZXR1cm4gITB9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZH11cGxvYWQodCl7aWYoIXRoaXMudXBsb2FkZWQpZm9yKGNvbnN0IGUgaW4gdGhpcy5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3Qgcj10aGlzLmluc3RhbmNlc1Blck1vZGVsW2VdO3IuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aDwwfHwwPT09ci5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RofHwoci5pbnN0YW5jZWREYXRhQnVmZmVyP3IuaW5zdGFuY2VkRGF0YUJ1ZmZlci51cGRhdGVEYXRhKHIuaW5zdGFuY2VkRGF0YUFycmF5KTpyLmluc3RhbmNlZERhdGFCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoci5pbnN0YW5jZWREYXRhQXJyYXksY3gubWVtYmVycywhMCx2b2lkIDAsdGhpcy5pbnN0YW5jZUNvdW50KSk7fXRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXtmb3IoY29uc3QgdCBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCBlPXRoaXMuaW5zdGFuY2VzUGVyTW9kZWxbdF07MCE9PWUuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aCYmZS5pbnN0YW5jZWREYXRhQnVmZmVyJiZlLmluc3RhbmNlZERhdGFCdWZmZXIuZGVzdHJveSgpO319YWRkRmVhdHVyZSh0LGUscil7Y29uc3Qgbj10aGlzLmxheWVyc1swXSxpPW4ubGF5b3V0LmdldChcIm1vZGVsLWlkXCIpLmV2YWx1YXRlKHIse30sdGhpcy5jYW5vbmljYWwpO2lmKCFpKXJldHVybiBqKGBtb2RlbElkIGlzIG5vdCBldmFsdWF0ZWQgZm9yIGxheWVyICR7bi5pZH0gYW5kIGl0IGlzIG5vdCBnb2luZyB0byBnZXQgcmVuZGVyZWQuYCksaTt0aGlzLmluc3RhbmNlc1Blck1vZGVsW2ldfHwodGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtpXT1uZXcgZngpO2NvbnN0IGE9dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtpXSxzPWEuaW5zdGFuY2VkRGF0YUFycmF5LG89bmV3IHB4KHIscy5sZW5ndGgpO2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdCl7aWYoZS54PDB8fGUueD49VHJ8fGUueTwwfHxlLnk+PVRyKWNvbnRpbnVlO2NvbnN0IHQ9KHRoaXMubG9va3VwRGltLTEpL1RyLHI9dGhpcy5sb29rdXBEaW0qKGUueSp0fDApK2UueCp0fDA7aWYodGhpcy5sb29rdXApe2lmKDAhPT10aGlzLmxvb2t1cFtyXSljb250aW51ZTt0aGlzLmxvb2t1cFtyXT0xO310aGlzLmluc3RhbmNlQ291bnQrKztjb25zdCBuPXMubGVuZ3RoO3MucmVzaXplKG4rMSksYS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb24ucHVzaCgwKSxzLmZsb2F0MzJbMTYqbl09ZS54LHMuZmxvYXQzMlsxNipuKzFdPWUueTt9cmV0dXJuIG8uaW5zdGFuY2VkRGF0YUNvdW50PWEuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aC1vLmluc3RhbmNlZERhdGFPZmZzZXQsby5pbnN0YW5jZWREYXRhQ291bnQ+MCYmKHQuaWQmJihhLmlkVG9GZWF0dXJlc0luZGV4W3QuaWRdPWEuZmVhdHVyZXMubGVuZ3RoKSxhLmZlYXR1cmVzLnB1c2gobyksdGhpcy5ldmFsdWF0ZShvLHt9LGEsITEpKSxpfWV2YWx1YXRlKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5sYXllcnNbMF0sYT10LmZlYXR1cmUscz10aGlzLmNhbm9uaWNhbCxvPXQucm90YXRpb249aS5wYWludC5nZXQoXCJtb2RlbC1yb3RhdGlvblwiKS5ldmFsdWF0ZShhLGUscyksbD10LnNjYWxlPWkucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuZXZhbHVhdGUoYSxlLHMpLHU9dC50cmFuc2xhdGlvbj1pLnBhaW50LmdldChcIm1vZGVsLXRyYW5zbGF0aW9uXCIpLmV2YWx1YXRlKGEsZSxzKSxjPWkucGFpbnQuZ2V0KFwibW9kZWwtY29sb3JcIikuZXZhbHVhdGUoYSxlLHMpO2MuYT1pLnBhaW50LmdldChcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIikuZXZhbHVhdGUoYSxlLHMpO2NvbnN0IGg9W107dGhpcy5tYXhWZXJ0aWNhbE9mZnNldDx1WzJdJiYodGhpcy5tYXhWZXJ0aWNhbE9mZnNldD11WzJdKSx0aGlzLm1heFNjYWxlPU1hdGgubWF4KE1hdGgubWF4KHRoaXMubWF4U2NhbGUsbFswXSksTWF0aC5tYXgobFsxXSxsWzJdKSksZXgoaCxvLGwpO2NvbnN0IHA9TWF0aC5yb3VuZCgxMDAqYy5hKStjLmIvMS4wNTtmb3IobGV0IGU9MDtlPHQuaW5zdGFuY2VkRGF0YUNvdW50OysrZSl7Y29uc3QgaT10Lmluc3RhbmNlZERhdGFPZmZzZXQrZSxhPTE2Kmksbz1yLmluc3RhbmNlZERhdGFBcnJheS5mbG9hdDMyO2xldCBsPTA7biYmKGw9b1thKzZdLXIuaW5zdGFuY2VzRXZhbHVhdGVkRWxldmF0aW9uW2ldKTtjb25zdCBmPTB8b1thKzFdO29bYV09KDB8b1thXSkrYy5yLzEuMDUsb1thKzFdPWYrYy5nLzEuMDUsb1thKzJdPXAsb1thKzNdPTEvKHMuej4xMD90aGlzLnRpbGVUb01ldGVyOndsKHMsZikpLG9bYSs0XT11WzBdLG9bYSs1XT11WzFdLG9bYSs2XT11WzJdK2wsb1thKzddPWhbMF0sb1thKzhdPWhbMV0sb1thKzldPWhbMl0sb1thKzEwXT1oWzRdLG9bYSsxMV09aFs1XSxvW2ErMTJdPWhbNl0sb1thKzEzXT1oWzhdLG9bYSsxNF09aFs5XSxvW2ErMTVdPWhbMTBdLHIuaW5zdGFuY2VzRXZhbHVhdGVkRWxldmF0aW9uW2ldPXVbMl07fX19cmEoZHgsXCJNb2RlbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pLHJhKGZ4LFwiUGVyTW9kZWxBdHRyaWJ1dGVzXCIpLHJhKHB4LFwiTW9kZWxGZWF0dXJlXCIpO2NvbnN0IG14PW5ldyBPYSh7dmlzaWJpbGl0eTpuZXcgTGEocWEubGF5b3V0X21vZGVsLnZpc2liaWxpdHkpLFwibW9kZWwtaWRcIjpuZXcgRmEocWEubGF5b3V0X21vZGVsW1wibW9kZWwtaWRcIl0pfSk7dmFyIHl4PXtwYWludDpuZXcgT2Eoe1wibW9kZWwtb3BhY2l0eVwiOm5ldyBMYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLW9wYWNpdHlcIl0pLFwibW9kZWwtcm90YXRpb25cIjpuZXcgRmEocWEucGFpbnRfbW9kZWxbXCJtb2RlbC1yb3RhdGlvblwiXSksXCJtb2RlbC1zY2FsZVwiOm5ldyBGYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLXNjYWxlXCJdKSxcIm1vZGVsLXRyYW5zbGF0aW9uXCI6bmV3IEZhKHFhLnBhaW50X21vZGVsW1wibW9kZWwtdHJhbnNsYXRpb25cIl0pLFwibW9kZWwtY29sb3JcIjpuZXcgRmEocWEucGFpbnRfbW9kZWxbXCJtb2RlbC1jb2xvclwiXSksXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCI6bmV3IEZhKHFhLnBhaW50X21vZGVsW1wibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiXSksXCJtb2RlbC10eXBlXCI6bmV3IExhKHFhLnBhaW50X21vZGVsW1wibW9kZWwtdHlwZVwiXSksXCJtb2RlbC1jYXN0LXNoYWRvd3NcIjpuZXcgTGEocWEucGFpbnRfbW9kZWxbXCJtb2RlbC1jYXN0LXNoYWRvd3NcIl0pLFwibW9kZWwtcmVjZWl2ZS1zaGFkb3dzXCI6bmV3IExhKHFhLnBhaW50X21vZGVsW1wibW9kZWwtcmVjZWl2ZS1zaGFkb3dzXCJdKSxcIm1vZGVsLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOm5ldyBMYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiXSksXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBGYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCJdKSxcIm1vZGVsLXJvdWdobmVzc1wiOm5ldyBGYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLXJvdWdobmVzc1wiXSksXCJtb2RlbC1oZWlnaHQtYmFzZWQtZW1pc3NpdmUtc3RyZW5ndGgtbXVsdGlwbGllclwiOm5ldyBGYShxYS5wYWludF9tb2RlbFtcIm1vZGVsLWhlaWdodC1iYXNlZC1lbWlzc2l2ZS1zdHJlbmd0aC1tdWx0aXBsaWVyXCJdKSxcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCI6bmV3IExhKHFhLnBhaW50X21vZGVsW1wibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIl0pfSksbGF5b3V0Om14fTtjb25zdCBneD02NCx4eD17Q29vcmRpbmF0ZVNwYWNlVGlsZToxLENvb3JkaW5hdGVTcGFjZVlVcDoyLEhhc01hcGJveE1lc2hGZWF0dXJlczo0LEhhc01lc2hvcHRDb21wcmVzc2lvbjo4fTtmdW5jdGlvbiB2eChlLHIsbixpLGEscyxvLGwsdSxjPSExKXtjb25zdCBoPW4uem9vbSxwPW4ucHJvamVjdChpKSxmPWJsKGkubGF0LGgpLGQ9MS9mO3QuYTYuaWRlbnRpdHkoZSksdC5hNi50cmFuc2xhdGUoZSxlLFtwLngrb1swXSpkLHAueStvWzFdKmQsb1syXV0pO2xldCBtPTEseT0xO2NvbnN0IGc9bi53b3JsZFNpemU7aWYoYyl7aWYoXCJtZXJjYXRvclwiPT09bi5wcm9qZWN0aW9uLm5hbWUpe2xldCBlPTA7bi5lbGV2YXRpb24mJihlPW4uZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8obmV3IE1sKHAueC9nLHAueS9nKSwwKSk7Y29uc3Qgcj10LmE3LnRyYW5zZm9ybU1hdDQoW10sW3AueCxwLnksZSwxXSxuLnByb2pNYXRyaXgpWzNdL24uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTttPXIseT1yKmJsKG4uY2VudGVyLmxhdCxoKTt9ZWxzZSBpZihcImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZSl7Y29uc3Qgcj1ueChlLG4pLGE9dC5hNi5tdWx0aXBseShbXSxuLnByb2pNYXRyaXgscikscz1bMCwwLDAsMV07dC5hNy50cmFuc2Zvcm1NYXQ0KHMscyxhKTtjb25zdCBvPXNbM10vbi5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLGw9cnAoaCksdT1uLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIoaS5sYXQsZykqYmwoaS5sYXQsaCksYz1uLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIobi5jZW50ZXIubGF0LGcpKmJsKG4uY2VudGVyLmxhdCxoKTttPW8vdWUodSx2bChuLmNlbnRlci5sYXQpLGwpLHk9bypmL3UsbSo9Yyx5Kj1jO319ZWxzZSBtPWQ7dC5hNi5zY2FsZShlLGUsW20sbSx5XSk7Y29uc3QgeD1bLi4uZV0sdj1yLm9yaWVudGF0aW9uLGI9W107aWYoZXgoYixbdlswXSthWzBdLHZbMV0rYVsxXSx2WzJdK2FbMl1dLHMpLHQuYTYubXVsdGlwbHkoZSx4LGIpLGwmJm4uZWxldmF0aW9uKXtsZXQgYT0wO2NvbnN0IHM9W107aWYodSYmbi5lbGV2YXRpb24pe2E9ZnVuY3Rpb24oZSxyLG4saSxhKXtjb25zdCBzPXIuZWxldmF0aW9uO2lmKCFzKXJldHVybiAwO2NvbnN0IG89QmgucHJvamVjdEFhYmJDb3JuZXJzKG4saSksbD1kbCgxLGEubGF0KSpyLndvcmxkU2l6ZSx1PWZ1bmN0aW9uKGUscil7Y29uc3Qgbj1bMCwwLDFdLGk9W3tjb3JuZXJzOlswLDEsMywyXSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsxLDUsMiw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDQsMSw1XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsyLDYsMyw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOls0LDcsNSw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDMsNCw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9XTtmb3IoY29uc3QgYSBvZiBpKXtjb25zdCBpPWVbYS5jb3JuZXJzWzBdXSxzPWVbYS5jb3JuZXJzWzFdXSxvPWVbYS5jb3JuZXJzWzJdXSxsPVtzWzBdLWlbMF0sc1sxXS1pWzFdLHIqKHNbMl0taVsyXSldLHU9dC5OLmNyb3NzKGwsbCxbb1swXS1pWzBdLG9bMV0taVsxXSxyKihvWzJdLWlbMl0pXSk7dC5OLm5vcm1hbGl6ZSh1LHUpLGEuZG90UHJvZHVjdFdpdGhVcD10Lk4uZG90KHUsbik7fXJldHVybiBpLnNvcnQoKCh0LGUpPT50LmRvdFByb2R1Y3RXaXRoVXAtZS5kb3RQcm9kdWN0V2l0aFVwKSksaVswXS5jb3JuZXJzfShvLGwpLGM9b1t1WzBdXSxoPW9bdVsxXV0scD1vW3VbMl1dLGY9b1t1WzNdXSxkPXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgTWwoY1swXS9yLndvcmxkU2l6ZSxjWzFdL3Iud29ybGRTaXplKSwwKSxtPXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgTWwoaFswXS9yLndvcmxkU2l6ZSxoWzFdL3Iud29ybGRTaXplKSwwKSx5PXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgTWwocFswXS9yLndvcmxkU2l6ZSxwWzFdL3Iud29ybGRTaXplKSwwKSxnPXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgTWwoZlswXS9yLndvcmxkU2l6ZSxmWzFdL3Iud29ybGRTaXplKSwwKSx4PShkK2cpLzIsdj0obSt5KS8yO3JldHVybiB4PnY/bTx5P3J4KGUsaCxmLGMsbSxnLGQsbCk6cngoZSxwLGMsZix5LGQsZyxsKTpkPGc/cngoZSxjLGgscCxkLG0seSxsKTpyeChlLGYscCxoLGcseSxtLGwpLE1hdGgubWF4KHgsdil9KHMsbixyLmFhYmIsZSxpKTtjb25zdCBvPXQuYTYuZnJvbVF1YXQoW10scyksbD10LmE2Lm11bHRpcGx5KFtdLG8sYik7dC5hNi5tdWx0aXBseShlLHgsbCk7fWVsc2UgYT1uLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKG5ldyBNbChwLngvZyxwLnkvZyksMCk7MCE9PWEmJihlWzE0XSs9YSk7fX1mdW5jdGlvbiBieCh0LGUscj0hMSl7dC51cGxvYWRlZHx8KHQuZ2Z4VGV4dHVyZT1uZXcgQ2coZSx0LmltYWdlLHI/ZS5nbC5SODplLmdsLlJHQkEse3VzZU1pcG1hcDp0LnNhbXBsZXIubWluRmlsdGVyPj1lLmdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1R9KSx0LnVwbG9hZGVkPSEwLHQuaW1hZ2U9bnVsbCk7fWZ1bmN0aW9uIF94KHQsZSxyKXt0LmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodC5pbmRleEFycmF5LCExLCEwKSx0LnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0LnZlcnRleEFycmF5LGF4Lm1lbWJlcnMsITEsITApLHQubm9ybWFsQXJyYXkmJih0Lm5vcm1hbEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0Lm5vcm1hbEFycmF5LHV4Lm1lbWJlcnMsITEsITApKSx0LnRleGNvb3JkQXJyYXkmJih0LnRleGNvb3JkQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHQudGV4Y29vcmRBcnJheSxseC5tZW1iZXJzLCExLCEwKSksdC5jb2xvckFycmF5JiYodC5jb2xvckJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0LmNvbG9yQXJyYXksKDEyPT09dC5jb2xvckFycmF5LmJ5dGVzUGVyRWxlbWVudD9zeDpveCkubWVtYmVycywhMSwhMCkpLHQuZmVhdHVyZUFycmF5JiYodC5wYnJCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodC5mZWF0dXJlQXJyYXksaHgubWVtYmVycywhMCkpLHQuc2VnbWVudHM9ZW8uc2ltcGxlU2VnbWVudCgwLDAsdC52ZXJ0ZXhBcnJheS5sZW5ndGgsdC5pbmRleEFycmF5Lmxlbmd0aCk7Y29uc3Qgbj10Lm1hdGVyaWFsO24ucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSYmYngobi5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlLGUpLG4ucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlJiZieChuLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSxlKSxuLm5vcm1hbFRleHR1cmUmJmJ4KG4ubm9ybWFsVGV4dHVyZSxlKSxuLm9jY2x1c2lvblRleHR1cmUmJmJ4KG4ub2NjbHVzaW9uVGV4dHVyZSxlLHIpLG4uZW1pc3Npb25UZXh0dXJlJiZieChuLmVtaXNzaW9uVGV4dHVyZSxlKTt9ZnVuY3Rpb24gd3godCxlLHIpe2lmKHQubWVzaGVzKWZvcihjb25zdCBuIG9mIHQubWVzaGVzKV94KG4sZSxyKTtpZih0LmNoaWxkcmVuKWZvcihjb25zdCBuIG9mIHQuY2hpbGRyZW4pd3gobixlLHIpO31mdW5jdGlvbiBNeCh0KXtpZih0Lm1lc2hlcylmb3IoY29uc3QgZSBvZiB0Lm1lc2hlcyllLmluZGV4QXJyYXkuZGVzdHJveSgpLGUudmVydGV4QXJyYXkuZGVzdHJveSgpLGUuY29sb3JBcnJheSYmZS5jb2xvckFycmF5LmRlc3Ryb3koKSxlLm5vcm1hbEFycmF5JiZlLm5vcm1hbEFycmF5LmRlc3Ryb3koKSxlLnRleGNvb3JkQXJyYXkmJmUudGV4Y29vcmRBcnJheS5kZXN0cm95KCksZS5mZWF0dXJlQXJyYXkmJmUuZmVhdHVyZUFycmF5LmRlc3Ryb3koKTtpZih0LmNoaWxkcmVuKWZvcihjb25zdCBlIG9mIHQuY2hpbGRyZW4pTXgoZSk7fWZ1bmN0aW9uIEF4KHQpe2lmKHQubWVzaGVzKWZvcihjb25zdCByIG9mIHQubWVzaGVzKXIudmVydGV4QnVmZmVyJiYoci52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHIuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHIubm9ybWFsQnVmZmVyJiZyLm5vcm1hbEJ1ZmZlci5kZXN0cm95KCksci50ZXhjb29yZEJ1ZmZlciYmci50ZXhjb29yZEJ1ZmZlci5kZXN0cm95KCksci5jb2xvckJ1ZmZlciYmci5jb2xvckJ1ZmZlci5kZXN0cm95KCksci5wYnJCdWZmZXImJnIucGJyQnVmZmVyLmRlc3Ryb3koKSxyLnNlZ21lbnRzLmRlc3Ryb3koKSxyLm1hdGVyaWFsJiYoKGU9ci5tYXRlcmlhbCkucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSYmZS5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlLmdmeFRleHR1cmUmJmUucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZS5nZnhUZXh0dXJlLmRlc3Ryb3koKSxlLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmZS5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUuZ2Z4VGV4dHVyZSYmZS5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCksZS5ub3JtYWxUZXh0dXJlJiZlLm5vcm1hbFRleHR1cmUuZ2Z4VGV4dHVyZSYmZS5ub3JtYWxUZXh0dXJlLmdmeFRleHR1cmUuZGVzdHJveSgpLGUuZW1pc3Npb25UZXh0dXJlJiZlLmVtaXNzaW9uVGV4dHVyZS5nZnhUZXh0dXJlJiZlLmVtaXNzaW9uVGV4dHVyZS5nZnhUZXh0dXJlLmRlc3Ryb3koKSxlLm9jY2x1c2lvblRleHR1cmUmJmUub2NjbHVzaW9uVGV4dHVyZS5nZnhUZXh0dXJlJiZlLm9jY2x1c2lvblRleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCkpKTt2YXIgZTtpZih0LmNoaWxkcmVuKWZvcihjb25zdCBlIG9mIHQuY2hpbGRyZW4pQXgoZSk7fWNsYXNzIFN4e2NvbnN0cnVjdG9yKHQpe3RoaXMuX2NhbGxiYWNrPXQsdGhpcy5fdHJpZ2dlcmVkPSExLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCYmKHRoaXMuX2NoYW5uZWw9bmV3IE1lc3NhZ2VDaGFubmVsLHRoaXMuX2NoYW5uZWwucG9ydDIub25tZXNzYWdlPSgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCk7fSk7fXRyaWdnZXIoKXt0aGlzLl90cmlnZ2VyZWR8fCh0aGlzLl90cmlnZ2VyZWQ9ITAsdGhpcy5fY2hhbm5lbD90aGlzLl9jaGFubmVsLnBvcnQxLnBvc3RNZXNzYWdlKCEwKTpzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpO30pLDApKTt9cmVtb3ZlKCl7dGhpcy5fY2hhbm5lbD12b2lkIDAsdGhpcy5fY2FsbGJhY2s9KCk9Pnt9O319Y2xhc3MgSXh7Y29uc3RydWN0b3IoKXt0aGlzLnRhc2tzPXt9LHRoaXMudGFza1F1ZXVlPVtdLFYoW1wicHJvY2Vzc1wiXSx0aGlzKSx0aGlzLmludm9rZXI9bmV3IFN4KHRoaXMucHJvY2VzcyksdGhpcy5uZXh0SWQ9MDt9YWRkKHQsZSl7Y29uc3Qgcj10aGlzLm5leHRJZCsrLG49ZnVuY3Rpb24oe3R5cGU6dCxpc1N5bWJvbFRpbGU6ZSx6b29tOnJ9KXtyZXR1cm4gcj1yfHwwLFwibWVzc2FnZVwiPT09dD8wOlwibWF5YmVQcmVwYXJlXCIhPT10fHxlP1wicGFyc2VUaWxlXCIhPT10fHxlP1wicGFyc2VUaWxlXCI9PT10JiZlPzMwMC1yOlwibWF5YmVQcmVwYXJlXCI9PT10JiZlPzQwMC1yOjUwMDoyMDAtcjoxMDAtcn0oZSk7aWYoMD09PW4pe1koKTt0cnl7dCgpO31maW5hbGx5e31yZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy50YXNrc1tyXT17Zm46dCxtZXRhZGF0YTplLHByaW9yaXR5Om4saWQ6cn0sdGhpcy50YXNrUXVldWUucHVzaChyKSx0aGlzLmludm9rZXIudHJpZ2dlcigpLHtjYW5jZWw6KCk9PntkZWxldGUgdGhpcy50YXNrc1tyXTt9fX1wcm9jZXNzKCl7WSgpO3RyeXtpZih0aGlzLnRhc2tRdWV1ZT10aGlzLnRhc2tRdWV1ZS5maWx0ZXIoKHQ9PiEhdGhpcy50YXNrc1t0XSkpLCF0aGlzLnRhc2tRdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5waWNrKCk7aWYobnVsbD09PXQpcmV0dXJuO2NvbnN0IGU9dGhpcy50YXNrc1t0XTtpZihkZWxldGUgdGhpcy50YXNrc1t0XSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksIWUpcmV0dXJuO2UuZm4oKTt9ZmluYWxseXt9fXBpY2soKXtsZXQgdD1udWxsLGU9MS8wO2ZvcihsZXQgcj0wO3I8dGhpcy50YXNrUXVldWUubGVuZ3RoO3IrKyl7Y29uc3Qgbj10aGlzLnRhc2tzW3RoaXMudGFza1F1ZXVlW3JdXTtuLnByaW9yaXR5PGUmJihlPW4ucHJpb3JpdHksdD1yKTt9aWYobnVsbD09PXQpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLnRhc2tRdWV1ZVt0XTtyZXR1cm4gdGhpcy50YXNrUXVldWUuc3BsaWNlKHQsMSkscn1yZW1vdmUoKXt0aGlzLmludm9rZXIucmVtb3ZlKCk7fX1jbGFzcyBreHtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50YXJnZXQ9dCx0aGlzLnBhcmVudD1lLHRoaXMubWFwSWQ9cix0aGlzLmNhbGxiYWNrcz17fSx0aGlzLmNhbmNlbENhbGxiYWNrcz17fSxWKFtcInJlY2VpdmVcIl0sdGhpcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuc2NoZWR1bGVyPW5ldyBJeDt9c2VuZCh0LGUscixuLGk9ITEsYSl7Y29uc3Qgcz1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtyJiYoci5tZXRhZGF0YT1hLHRoaXMuY2FsbGJhY2tzW3NdPXIpO2NvbnN0IG89bmV3IFNldDtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOnMsdHlwZTp0LGhhc0NhbGxiYWNrOiEhcix0YXJnZXRNYXBJZDpuLG11c3RRdWV1ZTppLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTphYShlLG8pfSxvKSx7Y2FuY2VsOigpPT57ciYmZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3NdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpzLHR5cGU6XCI8Y2FuY2VsPlwiLHRhcmdldE1hcElkOm4sc291cmNlTWFwSWQ6dGhpcy5tYXBJZH0pO319fXJlY2VpdmUodCl7Y29uc3QgZT10LmRhdGEscj1lLmlkO2lmKHImJighZS50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PWUudGFyZ2V0TWFwSWQpKWlmKFwiPGNhbmNlbD5cIj09PWUudHlwZSl7Y29uc3QgdD10aGlzLmNhbmNlbENhbGxiYWNrc1tyXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbcl0sdCYmdC5jYW5jZWwoKTt9ZWxzZSBpZihlLm11c3RRdWV1ZXx8WSgpKXtjb25zdCB0PXRoaXMuY2FsbGJhY2tzW3JdLG49dGhpcy5zY2hlZHVsZXIuYWRkKCgoKT0+dGhpcy5wcm9jZXNzVGFzayhyLGUpKSx0JiZ0Lm1ldGFkYXRhfHx7dHlwZTpcIm1lc3NhZ2VcIn0pO24mJih0aGlzLmNhbmNlbENhbGxiYWNrc1tyXT1uKTt9ZWxzZSB0aGlzLnByb2Nlc3NUYXNrKHIsZSk7fXByb2Nlc3NUYXNrKHQsZSl7aWYoZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW3RdLFwiPHJlc3BvbnNlPlwiPT09ZS50eXBlKXtjb25zdCByPXRoaXMuY2FsbGJhY2tzW3RdO2RlbGV0ZSB0aGlzLmNhbGxiYWNrc1t0XSxyJiYoZS5lcnJvcj9yKHNhKGUuZXJyb3IpKTpyKG51bGwsc2EoZS5kYXRhKSkpO31lbHNlIHtjb25zdCByPW5ldyBTZXQsbj1lLmhhc0NhbGxiYWNrPyhlLG4pPT57dGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOnQsdHlwZTpcIjxyZXNwb25zZT5cIixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGVycm9yOmU/YWEoZSk6bnVsbCxkYXRhOmFhKG4scil9LHIpO306dD0+e30saT1zYShlLmRhdGEpO2lmKHRoaXMucGFyZW50W2UudHlwZV0pdGhpcy5wYXJlbnRbZS50eXBlXShlLnNvdXJjZU1hcElkLGksbik7ZWxzZSBpZih0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2Upe2NvbnN0IHQ9ZS50eXBlLnNwbGl0KFwiLlwiKTt0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2UoZS5zb3VyY2VNYXBJZCx0WzBdLGkuc291cmNlLGkuc2NvcGUpW3RbMV1dKGksbik7fWVsc2UgbihuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICR7ZS50eXBlfWApKTt9fXJlbW92ZSgpe3RoaXMuc2NoZWR1bGVyLnJlbW92ZSgpLHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKTt9fWNsYXNzIFB4e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy53b3JrZXJQb29sPXQsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPUIoKTtjb25zdCByPXRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBuPW5ldyBQeC5BY3RvcihyW3RdLGUsdGhpcy5pZCk7bi5uYW1lPWBXb3JrZXIgJHt0fWAsdGhpcy5hY3RvcnMucHVzaChuKTt9dGhpcy5yZWFkeT0hMSx0aGlzLmJyb2FkY2FzdChcImNoZWNrSWZSZWFkeVwiLG51bGwsKCgpPT57dGhpcy5yZWFkeT0hMDt9KSk7fWJyb2FkY2FzdCh0LGUscil7RSh0aGlzLmFjdG9ycywoKHIsbik9PntyLnNlbmQodCxlLG4pO30pLHI9cnx8ZnVuY3Rpb24oKXt9KTt9Z2V0QWN0b3IoKXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0b3I9KHRoaXMuY3VycmVudEFjdG9yKzEpJXRoaXMuYWN0b3JzLmxlbmd0aCx0aGlzLmFjdG9yc1t0aGlzLmN1cnJlbnRBY3Rvcl19cmVtb3ZlKCl7dGhpcy5hY3RvcnMuZm9yRWFjaCgodD0+e3QucmVtb3ZlKCk7fSkpLHRoaXMuYWN0b3JzPVtdLHRoaXMud29ya2VyUG9vbC5yZWxlYXNlKHRoaXMuaWQpO319UHguQWN0b3I9a3g7dmFyIEV4PXt3b3JrZXJVcmw6XCJcIix3b3JrZXJDbGFzczpudWxsLHdvcmtlclBhcmFtczp2b2lkIDB9O2Z1bmN0aW9uIHp4KCl7cmV0dXJuIG51bGwhPUV4LndvcmtlckNsYXNzP25ldyBFeC53b3JrZXJDbGFzczpuZXcgc2VsZi5Xb3JrZXIoRXgud29ya2VyVXJsLEV4LndvcmtlclBhcmFtcyl9Y29uc3QgVHg9XCJtYXBib3hnbF9wcmVsb2FkZWRfd29ya2VyX3Bvb2xcIjtjbGFzcyBCeHtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlPXt9O31hY3F1aXJlKHQpe2lmKCF0aGlzLndvcmtlcnMpZm9yKHRoaXMud29ya2Vycz1bXTt0aGlzLndvcmtlcnMubGVuZ3RoPEJ4LndvcmtlckNvdW50Oyl0aGlzLndvcmtlcnMucHVzaChuZXcgengpO3JldHVybiB0aGlzLmFjdGl2ZVt0XT0hMCx0aGlzLndvcmtlcnMuc2xpY2UoKX1yZWxlYXNlKHQpe2RlbGV0ZSB0aGlzLmFjdGl2ZVt0XSx0aGlzLndvcmtlcnMmJjA9PT10aGlzLm51bUFjdGl2ZSgpJiYodGhpcy53b3JrZXJzLmZvckVhY2goKHQ9Pnt0LnRlcm1pbmF0ZSgpO30pKSx0aGlzLndvcmtlcnM9bnVsbCk7fWlzUHJlbG9hZGVkKCl7cmV0dXJuICEhdGhpcy5hY3RpdmVbVHhdfW51bUFjdGl2ZSgpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RofX1sZXQgQ3g7ZnVuY3Rpb24gUngoKXtyZXR1cm4gQ3h8fChDeD1uZXcgQngpLEN4fUJ4LndvcmtlckNvdW50PTI7bGV0IER4LFZ4LEx4LEZ4LE54LE94PW51bGw7ZnVuY3Rpb24gVXgoKXtyZXR1cm4gWSgpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIuZHJhY29Vcmw/c2VsZi53b3JrZXIuZHJhY29Vcmw6Vnh8fG4uRFJBQ09fVVJMfWZ1bmN0aW9uIGp4KCl7aWYoWSgpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIubWVzaG9wdFVybClyZXR1cm4gc2VsZi53b3JrZXIubWVzaG9wdFVybDtpZihGeClyZXR1cm4gRng7Y29uc3QgdD1uZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMywyLDAsMCw1LDMsMSwwLDEsMTIsMSwwLDEwLDIyLDIsMTIsMCw2NSwwLDY1LDAsNjUsMCwyNTIsMTAsMCwwLDExLDcsMCw2NSwwLDI1MywxNSwyNiwxMV0pO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBXZWJBc3NlbWJseSl0aHJvdyBuZXcgRXJyb3IoXCJXZWJBc3NlbWJseSBub3Qgc3VwcG9ydGVkLCBjYW5ub3QgaW5zdGFudGlhdGUgbWVzaG9wdGltaXplclwiKTtyZXR1cm4gRng9V2ViQXNzZW1ibHkudmFsaWRhdGUodCk/bi5NRVNIT1BUX1NJTURfVVJMOm4uTUVTSE9QVF9VUkwsRnh9Y29uc3QgcXg9ezUxMjA6SW50OEFycmF5LDUxMjE6VWludDhBcnJheSw1MTIyOkludDE2QXJyYXksNTEyMzpVaW50MTZBcnJheSw1MTI1OlVpbnQzMkFycmF5LDUxMjY6RmxvYXQzMkFycmF5fSwkeD17NTEyMDpcIkRUX0lOVDhcIiw1MTIxOlwiRFRfVUlOVDhcIiw1MTIyOlwiRFRfSU5UMTZcIiw1MTIzOlwiRFRfVUlOVDE2XCIsNTEyNTpcIkRUX1VJTlQzMlwiLDUxMjY6XCJEVF9GTE9BVDMyXCJ9LEd4PXtTQ0FMQVI6MSxWRUMyOjIsVkVDMzozLFZFQzQ6NCxNQVQyOjQsTUFUMzo5LE1BVDQ6MTZ9O2Z1bmN0aW9uIFl4KHQsZSxyKXtjb25zdCBuPXIuanNvbi5idWZmZXJWaWV3cy5sZW5ndGgsaT1yLmJ1ZmZlcnMubGVuZ3RoO2UuYnVmZmVyVmlldz1uLHIuanNvbi5idWZmZXJWaWV3c1tuXT17YnVmZmVyOmksYnl0ZUxlbmd0aDp0LmJ5dGVMZW5ndGh9LHIuYnVmZmVyc1tpXT10O31jb25zdCBYeD1cIktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uXCI7ZnVuY3Rpb24gWngodCxlKXtjb25zdCByPXQuZXh0ZW5zaW9ucyYmdC5leHRlbnNpb25zW1h4XTtpZighcilyZXR1cm47Y29uc3Qgbj1uZXcgTHguRGVjb2RlcixpPWV2KGUsci5idWZmZXJWaWV3KSxhPW5ldyBMeC5NZXNoO2lmKCFuLkRlY29kZUFycmF5VG9NZXNoKGksaS5ieXRlTGVuZ3RoLGEpKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNvZGUgRHJhY28gbWVzaFwiKTtjb25zdCBzPWUuanNvbi5hY2Nlc3NvcnNbdC5pbmRpY2VzXSxvPXF4W3MuY29tcG9uZW50VHlwZV0sbD1zLmNvdW50Km8uQllURVNfUEVSX0VMRU1FTlQsdT1MeC5fbWFsbG9jKGwpO289PT1VaW50MTZBcnJheT9uLkdldFRyaWFuZ2xlc1VJbnQxNkFycmF5KGEsbCx1KTpuLkdldFRyaWFuZ2xlc1VJbnQzMkFycmF5KGEsbCx1KSxZeChMeC5tZW1vcnkuYnVmZmVyLnNsaWNlKHUsdStsKSxzLGUpLEx4Ll9mcmVlKHUpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHIuYXR0cmlidXRlcykpe2NvbnN0IHM9bi5HZXRBdHRyaWJ1dGVCeVVuaXF1ZUlkKGEsci5hdHRyaWJ1dGVzW2ldKSxvPWUuanNvbi5hY2Nlc3NvcnNbdC5hdHRyaWJ1dGVzW2ldXSxsPSR4W28uY29tcG9uZW50VHlwZV0sdT1vLmNvdW50Kkd4W28udHlwZV0qcXhbby5jb21wb25lbnRUeXBlXS5CWVRFU19QRVJfRUxFTUVOVCxjPUx4Ll9tYWxsb2ModSk7bi5HZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHMoYSxzLEx4W2xdLHUsYyksWXgoTHgubWVtb3J5LmJ1ZmZlci5zbGljZShjLGMrdSksbyxlKSxMeC5fZnJlZShjKTt9bi5kZXN0cm95KCksYS5kZXN0cm95KCksZGVsZXRlIHQuZXh0ZW5zaW9uc1tYeF07fWNvbnN0IEt4PVwiRVhUX21lc2hvcHRfY29tcHJlc3Npb25cIjtmdW5jdGlvbiBIeCh0LGUpe2lmKCF0LmV4dGVuc2lvbnN8fCF0LmV4dGVuc2lvbnNbS3hdKXJldHVybjtjb25zdCByPXQuZXh0ZW5zaW9uc1tLeF0sbj1uZXcgVWludDhBcnJheShlLmJ1ZmZlcnNbci5idWZmZXJdLHIuYnl0ZU9mZnNldHx8MCxyLmJ5dGVMZW5ndGh8fDApLGk9bmV3IFVpbnQ4QXJyYXkoci5jb3VudCpyLmJ5dGVTdHJpZGUpO054LmRlY29kZUdsdGZCdWZmZXIoaSxyLmNvdW50LHIuYnl0ZVN0cmlkZSxuLHIubW9kZSxyLmZpbHRlciksdC5idWZmZXI9ZS5idWZmZXJzLmxlbmd0aCx0LmJ5dGVPZmZzZXQ9MCxlLmJ1ZmZlcnNbdC5idWZmZXJdPWkuYnVmZmVyLGRlbGV0ZSB0LmV4dGVuc2lvbnNbS3hdO31jb25zdCBXeD0xMTc5OTM3ODk1LEp4PW5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIik7ZnVuY3Rpb24gUXgodCxlKXtyZXR1cm4gbmV3IFVSTCh0LGUpLmhyZWZ9ZnVuY3Rpb24gdHYodCxlLHIsbil7cmV0dXJuIGZldGNoKFF4KHQudXJpLG4pKS50aGVuKCh0PT50LmFycmF5QnVmZmVyKCkpKS50aGVuKCh0PT57ZS5idWZmZXJzW3JdPXQ7fSkpfWZ1bmN0aW9uIGV2KHQsZSl7Y29uc3Qgcj10Lmpzb24uYnVmZmVyVmlld3NbZV07cmV0dXJuIG5ldyBVaW50OEFycmF5KHQuYnVmZmVyc1tyLmJ1ZmZlcl0sci5ieXRlT2Zmc2V0fHwwLHIuYnl0ZUxlbmd0aCl9ZnVuY3Rpb24gcnYodCxlLHIsbil7aWYodC51cmkpe2NvbnN0IGk9UXgodC51cmksbik7cmV0dXJuIGZldGNoKGkpLnRoZW4oKHQ9PnQuYmxvYigpKSkudGhlbigodD0+Y3JlYXRlSW1hZ2VCaXRtYXAodCkpKS50aGVuKCh0PT57ZS5pbWFnZXNbcl09dDt9KSl9aWYodm9pZCAwIT09dC5idWZmZXJWaWV3KXtjb25zdCBuPWV2KGUsdC5idWZmZXJWaWV3KSxpPW5ldyBCbG9iKFtuXSx7dHlwZTp0Lm1pbWVUeXBlfSk7cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGkpLnRoZW4oKHQ9PntlLmltYWdlc1tyXT10O30pKX19ZnVuY3Rpb24gbnYodCxlPTAscil7Y29uc3Qgbj17anNvbjpudWxsLGltYWdlczpbXSxidWZmZXJzOltdfTtpZihuZXcgVWludDMyQXJyYXkodCxlLDEpWzBdPT09V3gpe2NvbnN0IHI9bmV3IFVpbnQzMkFycmF5KHQsZSk7bGV0IGk9Mjtjb25zdCBhPShyW2krK10+PjIpLTMscz1yW2krK10+PjI7aWYoaSsrLG4uanNvbj1KU09OLnBhcnNlKEp4LmRlY29kZShyLnN1YmFycmF5KGksaStzKSkpLGkrPXMsaTxhKXtjb25zdCBhPXJbaSsrXTtpKys7Y29uc3Qgcz1lKyhpPDwyKTtuLmJ1ZmZlcnNbMF09dC5zbGljZShzLHMrYSk7fX1lbHNlIG4uanNvbj1KU09OLnBhcnNlKEp4LmRlY29kZShuZXcgVWludDhBcnJheSh0LGUpKSk7Y29uc3R7YnVmZmVyczppLGltYWdlczphLG1lc2hlczpzLGV4dGVuc2lvbnNVc2VkOm8sYnVmZmVyVmlld3M6bH09bi5qc29uO2xldCB1PVByb21pc2UucmVzb2x2ZSgpO2lmKGkpe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0IGE9aVtlXTthLnVyaT90LnB1c2godHYoYSxuLGUscikpOm4uYnVmZmVyc1tlXXx8KG4uYnVmZmVyc1tlXT1udWxsKTt9dT1Qcm9taXNlLmFsbCh0KTt9cmV0dXJuIHUudGhlbigoKCk9Pntjb25zdCB0PVtdLGU9byYmby5pbmNsdWRlcyhYeCksaT1vJiZvLmluY2x1ZGVzKEt4KTtpZihlJiZ0LnB1c2goZnVuY3Rpb24oKXtpZighTHgpcmV0dXJuIER4fHwoRHg9ZnVuY3Rpb24odCl7bGV0IGUscj1udWxsO2Z1bmN0aW9uIG4oKXtlPW5ldyBVaW50OEFycmF5KHIuYnVmZmVyKTt9ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgRHJhY28gZXJyb3IuXCIpfWNvbnN0IGE9e2E6e2E6aSxkOmZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5jb3B5V2l0aGluKHQscixyK24pfSxjOmZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5sZW5ndGgsYT1NYXRoLm1heCh0Pj4+MCxNYXRoLmNlaWwoMS4yKmkpKSxzPU1hdGguY2VpbCgoYS1pKS82NTUzNik7dHJ5e3JldHVybiByLmdyb3cocyksbigpLCEwfWNhdGNoKHQpe3JldHVybiAhMX19LGI6aX19O3JldHVybiAoV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmc/V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcodCxhKTp0LnRoZW4oKHQ9PnQuYXJyYXlCdWZmZXIoKSkpLnRoZW4oKHQ9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHQsYSkpKSkudGhlbigodD0+e2NvbnN0e1JiOmksUWI6YSxQOnMsVDpvLFg6bCxKYTp1LExhOmMsUWE6aCxWYTpwLFdhOmYsZWI6ZCxqYjptLGY6eSxlOmcseWI6eCx6Yjp2LEFiOmIsQmI6XyxEYjp3LEdiOk19PXQuaW5zdGFuY2UuZXhwb3J0cztyPWc7Y29uc3QgQT0oKCk9PntsZXQgdD0wLHI9MCxuPTAscz0wO3JldHVybiBvPT57biYmKGkocyksaSh0KSxyKz1uLG49dD0wKSx0fHwocis9MTI4LHQ9YShyKSk7Y29uc3QgbD1vLmxlbmd0aCs3Ji04O2xldCB1PXQ7bD49ciYmKG49bCx1PXM9YShsKSk7Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0KyspZVt1K3RdPW9bdF07cmV0dXJuIHV9fSkoKTtyZXR1cm4gbigpLHkoKSx7bWVtb3J5OmcsX2ZyZWU6aSxfbWFsbG9jOmEsTWVzaDpjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucHRyPXMoKTt9ZGVzdHJveSgpe28odGhpcy5wdHIpO319LERlY29kZXI6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnB0cj11KCk7fWRlc3Ryb3koKXttKHRoaXMucHRyKTt9RGVjb2RlQXJyYXlUb01lc2godCxlLHIpe2NvbnN0IG49QSh0KSxpPWModGhpcy5wdHIsbixlLHIucHRyKTtyZXR1cm4gISFsKGkpfUdldEF0dHJpYnV0ZUJ5VW5pcXVlSWQodCxlKXtyZXR1cm4ge3B0cjpoKHRoaXMucHRyLHQucHRyLGUpfX1HZXRUcmlhbmdsZXNVSW50MTZBcnJheSh0LGUscil7cCh0aGlzLnB0cix0LnB0cixlLHIpO31HZXRUcmlhbmdsZXNVSW50MzJBcnJheSh0LGUscil7Zih0aGlzLnB0cix0LnB0cixlLHIpO31HZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHModCxlLHIsbixpKXtkKHRoaXMucHRyLHQucHRyLGUucHRyLHIsbixpKTt9fSxEVF9JTlQ4OngoKSxEVF9VSU5UODp2KCksRFRfSU5UMTY6YigpLERUX1VJTlQxNjpfKCksRFRfVUlOVDMyOncoKSxEVF9GTE9BVDMyOk0oKX19KSl9KGZldGNoKFV4KCkpKSxEeC50aGVuKCh0PT57THg9dCxEeD12b2lkIDA7fSkpKX0oKSksaSYmdC5wdXNoKGZ1bmN0aW9uKCl7aWYoTngpcmV0dXJuO2NvbnN0IHQ9ZnVuY3Rpb24odCl7bGV0IGU7Y29uc3Qgcj1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyh0LHt9KS50aGVuKCh0PT57ZT10Lmluc3RhbmNlLGUuZXhwb3J0cy5fX3dhc21fY2FsbF9jdG9ycygpO30pKSxuPXtOT05FOlwiXCIsT0NUQUhFRFJBTDpcIm1lc2hvcHRfZGVjb2RlRmlsdGVyT2N0XCIsUVVBVEVSTklPTjpcIm1lc2hvcHRfZGVjb2RlRmlsdGVyUXVhdFwiLEVYUE9ORU5USUFMOlwibWVzaG9wdF9kZWNvZGVGaWx0ZXJFeHBcIn0saT17QVRUUklCVVRFUzpcIm1lc2hvcHRfZGVjb2RlVmVydGV4QnVmZmVyXCIsVFJJQU5HTEVTOlwibWVzaG9wdF9kZWNvZGVJbmRleEJ1ZmZlclwiLElORElDRVM6XCJtZXNob3B0X2RlY29kZUluZGV4U2VxdWVuY2VcIn07cmV0dXJuIHtyZWFkeTpyLHN1cHBvcnRlZDohMCxkZWNvZGVHbHRmQnVmZmVyKHQscixhLHMsbyxsKXshZnVuY3Rpb24odCxlLHIsbixpLGEscyl7Y29uc3Qgbz10LmV4cG9ydHMuc2JyayxsPW4rMyYtNCx1PW8obCppKSxjPW8oYS5sZW5ndGgpLGg9bmV3IFVpbnQ4QXJyYXkodC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2guc2V0KGEsYyk7Y29uc3QgcD1lKHUsbixpLGMsYS5sZW5ndGgpO2lmKDA9PT1wJiZzJiZzKHUsbCxpKSxyLnNldChoLnN1YmFycmF5KHUsdStuKmkpKSxvKHUtbygwKSksMCE9PXApdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgYnVmZmVyIGRhdGE6ICR7cH1gKX0oZSxlLmV4cG9ydHNbaVtvXV0sdCxyLGEscyxlLmV4cG9ydHNbbltsXV0pO319fShmZXRjaChqeCgpKSk7cmV0dXJuIHQucmVhZHkudGhlbigoKCk9PntOeD10O30pKX0oKSksYSlmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl0LnB1c2gocnYoYVtlXSxuLGUscikpO3JldHVybiAodC5sZW5ndGg/UHJvbWlzZS5hbGwodCk6UHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCgpPT57aWYoZSYmcylmb3IoY29uc3R7cHJpbWl0aXZlczp0fW9mIHMpZm9yKGNvbnN0IGUgb2YgdClaeChlLG4pO2lmKGkmJnMmJmwpZm9yKGNvbnN0IHQgb2YgbClIeCh0LG4pO3JldHVybiBufSkpfSkpfWNsYXNzIGl2e2NvbnN0cnVjdG9yKHQsZSxyKXtpZih0aGlzLnRyaWFuZ2xlQ291bnQ9ZS5sZW5ndGgvMyx0aGlzLm1pbj1uZXcgZygwLDApLHRoaXMubWF4PW5ldyBnKDAsMCksdGhpcy54U2NhbGU9MCx0aGlzLnlTY2FsZT0wLHRoaXMuY2VsbHNYPTAsdGhpcy5jZWxsc1k9MCx0aGlzLmNlbGxzPVtdLHRoaXMucGF5bG9hZD1bXSwwPT09dGhpcy50cmlhbmdsZUNvdW50fHwwPT09dC5sZW5ndGh8fDA9PT1yKXJldHVybjtjb25zdCBuPXQubWFwKCh0PT50LngpKSxpPXQubWFwKCh0PT50LnkpKTt0aGlzLm1pbj1uZXcgZyhNYXRoLm1pbiguLi5uKSxNYXRoLm1pbiguLi5pKSksdGhpcy5tYXg9bmV3IGcoTWF0aC5tYXgoLi4ubiksTWF0aC5tYXgoLi4uaSkpO2NvbnN0IGE9dGhpcy5tYXguc3ViKHRoaXMubWluKTthLng9TWF0aC5tYXgoYS54LDEpLGEueT1NYXRoLm1heChhLnksMSk7Y29uc3Qgcz1NYXRoLm1heChhLngsYS55KS9yO3RoaXMuY2VsbHNYPU1hdGgubWF4KDEsTWF0aC5jZWlsKGEueC9zKSksdGhpcy5jZWxsc1k9TWF0aC5tYXgoMSxNYXRoLmNlaWwoYS55L3MpKSx0aGlzLnhTY2FsZT0xL3MsdGhpcy55U2NhbGU9MS9zO2NvbnN0IG89W107Zm9yKGxldCByPTA7cjx0aGlzLnRyaWFuZ2xlQ291bnQ7cisrKXtjb25zdCBuPXRbZVszKnIrMF1dLnN1Yih0aGlzLm1pbiksaT10W2VbMypyKzFdXS5zdWIodGhpcy5taW4pLGE9dFtlWzMqcisyXV0uc3ViKHRoaXMubWluKSxsPWF2KE1hdGguZmxvb3IoTWF0aC5taW4obi54LGkueCxhLngpKSx0aGlzLnhTY2FsZSx0aGlzLmNlbGxzWCksdT1hdihNYXRoLmZsb29yKE1hdGgubWF4KG4ueCxpLngsYS54KSksdGhpcy54U2NhbGUsdGhpcy5jZWxsc1gpLGM9YXYoTWF0aC5mbG9vcihNYXRoLm1pbihuLnksaS55LGEueSkpLHRoaXMueVNjYWxlLHRoaXMuY2VsbHNZKSxoPWF2KE1hdGguZmxvb3IoTWF0aC5tYXgobi55LGkueSxhLnkpKSx0aGlzLnlTY2FsZSx0aGlzLmNlbGxzWSkscD1uZXcgZygwLDApLGY9bmV3IGcoMCwwKSxkPW5ldyBnKDAsMCksbT1uZXcgZygwLDApO2ZvcihsZXQgdD1jO3Q8PWg7Kyt0KXtwLnk9Zi55PXQqcyxkLnk9bS55PSh0KzEpKnM7Zm9yKGxldCBlPWw7ZTw9dTsrK2UpcC54PWQueD1lKnMsZi54PW0ueD0oZSsxKSpzLChLbChuLGksYSxwLGYsbSl8fEtsKG4saSxhLHAsbSxkKSkmJm8ucHVzaCh7Y2VsbElkeDp0KnRoaXMuY2VsbHNYK2UsdHJpSWR4OnJ9KTt9fWlmKDA9PT1vLmxlbmd0aClyZXR1cm47by5zb3J0KCgodCxlKT0+dC5jZWxsSWR4LWUuY2VsbElkeHx8dC50cmlJZHgtZS50cmlJZHgpKTtsZXQgbD0wO2Zvcig7bDxvLmxlbmd0aDspe2NvbnN0IHQ9b1tsXS5jZWxsSWR4LGU9e3N0YXJ0OnRoaXMucGF5bG9hZC5sZW5ndGgsbGVuOjB9O2Zvcig7bDxvLmxlbmd0aCYmb1tsXS5jZWxsSWR4PT09dDspKytlLmxlbix0aGlzLnBheWxvYWQucHVzaChvW2wrK10udHJpSWR4KTt0aGlzLmNlbGxzW3RdPWU7fX1xdWVyeSh0LGUscil7aWYoMD09PXRoaXMudHJpYW5nbGVDb3VudHx8MD09PXRoaXMuY2VsbHMubGVuZ3RoKXJldHVybjtpZih0Lng+dGhpcy5tYXgueHx8dGhpcy5taW4ueD5lLngpcmV0dXJuO2lmKHQueT50aGlzLm1heC55fHx0aGlzLm1pbi55PmUueSlyZXR1cm47dGhpcy5sb29rdXB8fCh0aGlzLmxvb2t1cD1uZXcgVWludDhBcnJheShNYXRoLmNlaWwodGhpcy50cmlhbmdsZUNvdW50LzgpKSk7Zm9yKGxldCB0PTA7dDx0aGlzLmxvb2t1cC5sZW5ndGg7dCsrKXRoaXMubG9va3VwW3RdPTA7Y29uc3Qgbj1hdih0LngtdGhpcy5taW4ueCx0aGlzLnhTY2FsZSx0aGlzLmNlbGxzWCksaT1hdihlLngtdGhpcy5taW4ueCx0aGlzLnhTY2FsZSx0aGlzLmNlbGxzWCksYT1hdih0LnktdGhpcy5taW4ueSx0aGlzLnlTY2FsZSx0aGlzLmNlbGxzWSkscz1hdihlLnktdGhpcy5taW4ueSx0aGlzLnlTY2FsZSx0aGlzLmNlbGxzWSk7Zm9yKGxldCB0PWE7dDw9czt0KyspZm9yKGxldCBlPW47ZTw9aTtlKyspe2NvbnN0IG49dGhpcy5jZWxsc1t0KnRoaXMuY2VsbHNYK2VdO2lmKG4pZm9yKGxldCB0PTA7dDxuLmxlbjt0Kyspe2NvbnN0IGU9dGhpcy5wYXlsb2FkW24uc3RhcnQrdF0saT1NYXRoLmZsb29yKGUvOCksYT0xPDxlJTg7aWYoISh0aGlzLmxvb2t1cFtpXSZhKSYmKHRoaXMubG9va3VwW2ldfD1hLHIucHVzaChlKSxyLmxlbmd0aD09PXRoaXMudHJpYW5nbGVDb3VudCkpcmV0dXJufX19fWZ1bmN0aW9uIGF2KHQsZSxyKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbihyLTEsTWF0aC5mbG9vcih0KmUpKSl9ZnVuY3Rpb24gc3YodCxlKXtjb25zdCByPXQuanNvbi5idWZmZXJWaWV3c1tlLmJ1ZmZlclZpZXddLG49cXhbZS5jb21wb25lbnRUeXBlXTtyZXR1cm4gbmV3IG4odC5idWZmZXJzW3IuYnVmZmVyXSwoZS5ieXRlT2Zmc2V0fHwwKSsoci5ieXRlT2Zmc2V0fHwwKSxlLmNvdW50KihyLmJ5dGVTdHJpZGUmJnIuYnl0ZVN0cmlkZSE9PUd4W2UudHlwZV0qbi5CWVRFU19QRVJfRUxFTUVOVD9yLmJ5dGVTdHJpZGUvbi5CWVRFU19QRVJfRUxFTUVOVDpHeFtlLnR5cGVdKSl9ZnVuY3Rpb24gb3YodCxlLHIsbil7Y29uc3QgaT1xeFtlLmNvbXBvbmVudFR5cGVdLGE9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgSW50OEFycmF5OnJldHVybiAxLzEyNztjYXNlIFVpbnQ4QXJyYXk6cmV0dXJuIDEvMjU1O2Nhc2UgSW50MTZBcnJheTpyZXR1cm4gMS8zMjc2NztjYXNlIFVpbnQxNkFycmF5OnJldHVybiAxLzY1NTM1O2RlZmF1bHQ6cmV0dXJuIDF9fShpKSxzPXQuanNvbi5idWZmZXJWaWV3c1tlLmJ1ZmZlclZpZXddLG89cy5ieXRlU3RyaWRlP3MuYnl0ZVN0cmlkZS9pLkJZVEVTX1BFUl9FTEVNRU5UOkd4W2UudHlwZV0sbD1yLmZsb2F0MzIsdT1sLmxlbmd0aC9yLmNhcGFjaXR5O2ZvcihsZXQgdD0wLHI9MDt0PGUuY291bnQqbzt0Kz1vLHIrPXUpZm9yKGxldCBlPTA7ZTx1O2UrKylsW3IrZV09blt0K2VdKmE7ci5fdHJpbSgpO31mdW5jdGlvbiBsdih0LGUscil7Y29uc3Qgbj10LmluZGljZXMsaT10LmF0dHJpYnV0ZXMsYT17fTthLmluZGV4QXJyYXk9bmV3IEVzO2NvbnN0IHM9ZS5qc29uLmFjY2Vzc29yc1tuXSxvPXMuY291bnQvMzthLmluZGV4QXJyYXkucmVzZXJ2ZShvKTtjb25zdCBsPXN2KGUscyk7Zm9yKGxldCB0PTA7dDxvO3QrKylhLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobFszKnRdLGxbMyp0KzFdLGxbMyp0KzJdKTthLmluZGV4QXJyYXkuX3RyaW0oKSxhLnZlcnRleEFycmF5PW5ldyBMcztjb25zdCB1PWUuanNvbi5hY2Nlc3NvcnNbaS5QT1NJVElPTl07YS52ZXJ0ZXhBcnJheS5yZXNlcnZlKHUuY291bnQpO2NvbnN0IGM9c3YoZSx1KTtmb3IobGV0IHQ9MDt0PHUuY291bnQ7dCsrKWEudmVydGV4QXJyYXkuZW1wbGFjZUJhY2soY1szKnRdLGNbMyp0KzFdLGNbMyp0KzJdKTtpZihhLnZlcnRleEFycmF5Ll90cmltKCksYS5hYWJiPW5ldyBCaCh1Lm1pbix1Lm1heCksYS5jZW50cm9pZD1mdW5jdGlvbih0LGUpe2NvbnN0IHI9WzAsMCwwXSxuPXQubGVuZ3RoO2lmKG4+MCl7Zm9yKGxldCBpPTA7aTxuO2krKyl7Y29uc3Qgbj0zKnRbaV07clswXSs9ZVtuXSxyWzFdKz1lW24rMV0sclsyXSs9ZVtuKzJdO31yWzBdLz1uLHJbMV0vPW4sclsyXS89bjt9cmV0dXJuIHJ9KGwsYyksdm9pZCAwIT09aS5DT0xPUl8wKXtjb25zdCB0PWUuanNvbi5hY2Nlc3NvcnNbaS5DT0xPUl8wXSxyPUd4W3QudHlwZV0sbj1zdihlLHQpO2EuY29sb3JBcnJheT0zPT09cj9uZXcgTHM6bmV3IGdzLGEuY29sb3JBcnJheS5yZXNpemUodC5jb3VudCksb3YoZSx0LGEuY29sb3JBcnJheSxuKTt9aWYodm9pZCAwIT09aS5OT1JNQUwpe2Eubm9ybWFsQXJyYXk9bmV3IExzO2NvbnN0IHQ9ZS5qc29uLmFjY2Vzc29yc1tpLk5PUk1BTF07YS5ub3JtYWxBcnJheS5yZXNpemUodC5jb3VudCk7Y29uc3Qgcj1zdihlLHQpO292KGUsdCxhLm5vcm1hbEFycmF5LHIpO31pZih2b2lkIDAhPT1pLlRFWENPT1JEXzAmJnIubGVuZ3RoPjApe2EudGV4Y29vcmRBcnJheT1uZXcgRnM7Y29uc3QgdD1lLmpzb24uYWNjZXNzb3JzW2kuVEVYQ09PUkRfMF07YS50ZXhjb29yZEFycmF5LnJlc2l6ZSh0LmNvdW50KTtjb25zdCByPXN2KGUsdCk7b3YoZSx0LGEudGV4Y29vcmRBcnJheSxyKTt9aWYodm9pZCAwIT09aS5fRkVBVFVSRV9JRF9SR0JBNDQ0NCl7Y29uc3QgdD1lLmpzb24uYWNjZXNzb3JzW2kuX0ZFQVRVUkVfSURfUkdCQTQ0NDRdO2UuanNvbi5leHRlbnNpb25zVXNlZCYmZS5qc29uLmV4dGVuc2lvbnNVc2VkLmluY2x1ZGVzKFwiRVhUX21lc2hvcHRfY29tcHJlc3Npb25cIikmJihhLmZlYXR1cmVEYXRhPXN2KGUsdCkpO312b2lkIDAhPT1pLl9GRUFUVVJFX1JHQkE0NDQ0JiYoYS5mZWF0dXJlRGF0YT1uZXcgVWludDMyQXJyYXkoc3YoZSxlLmpzb24uYWNjZXNzb3JzW2kuX0ZFQVRVUkVfUkdCQTQ0NDRdKS5idWZmZXIpKTtjb25zdCBoPXQubWF0ZXJpYWw7cmV0dXJuIGEubWF0ZXJpYWw9ZnVuY3Rpb24odCxlKXtjb25zdHtlbWlzc2l2ZUZhY3RvcjpyPVswLDAsMF0sYWxwaGFNb2RlOm49XCJPUEFRVUVcIixhbHBoYUN1dG9mZjppPS41LG5vcm1hbFRleHR1cmU6YSxvY2NsdXNpb25UZXh0dXJlOnMsZW1pc3NpdmVUZXh0dXJlOm8sZG91YmxlU2lkZWQ6bH09dCx7YmFzZUNvbG9yRmFjdG9yOnU9WzEsMSwxLDFdLG1ldGFsbGljRmFjdG9yOmM9MSxyb3VnaG5lc3NGYWN0b3I6aD0xLGJhc2VDb2xvclRleHR1cmU6cCxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6Zn09dC5wYnJNZXRhbGxpY1JvdWdobmVzc3x8e30sZD1zP2Vbcy5pbmRleF06dm9pZCAwO2lmKHMmJnMuZXh0ZW5zaW9ucyYmcy5leHRlbnNpb25zLktIUl90ZXh0dXJlX3RyYW5zZm9ybSYmZCl7Y29uc3QgdD1zLmV4dGVuc2lvbnMuS0hSX3RleHR1cmVfdHJhbnNmb3JtO2Qub2Zmc2V0U2NhbGU9W3Qub2Zmc2V0WzBdLHQub2Zmc2V0WzFdLHQuc2NhbGVbMF0sdC5zY2FsZVsxXV07fXJldHVybiB7cGJyTWV0YWxsaWNSb3VnaG5lc3M6e2Jhc2VDb2xvckZhY3RvcjpuZXcgbGUoLi4udSksbWV0YWxsaWNGYWN0b3I6Yyxyb3VnaG5lc3NGYWN0b3I6aCxiYXNlQ29sb3JUZXh0dXJlOnA/ZVtwLmluZGV4XTp2b2lkIDAsbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOmY/ZVtmLmluZGV4XTp2b2lkIDB9LGRvdWJsZVNpZGVkOmwsZW1pc3NpdmVGYWN0b3I6cixhbHBoYU1vZGU6bixhbHBoYUN1dG9mZjppLG5vcm1hbFRleHR1cmU6YT9lW2EuaW5kZXhdOnZvaWQgMCxvY2NsdXNpb25UZXh0dXJlOmQsZW1pc3Npb25UZXh0dXJlOm8/ZVtvLmluZGV4XTp2b2lkIDAsZGVmaW5lZDp2b2lkIDA9PT10LmRlZmluZWR9fSh2b2lkIDAhPT1oP2UuanNvbi5tYXRlcmlhbHNbaF06e2RlZmluZWQ6ITF9LHIpLGF9ZnVuY3Rpb24gdXYoZSxyLG4pe2NvbnN0e21hdHJpeDppLHJvdGF0aW9uOmEsdHJhbnNsYXRpb246cyxzY2FsZTpvLG1lc2g6bCxleHRyYXM6dSxjaGlsZHJlbjpjfT1lLGg9e307aWYoaC5tYXRyaXg9aXx8dC5hNi5mcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKFtdLGF8fFswLDAsMCwxXSxzfHxbMCwwLDBdLG98fFsxLDEsMV0pLHZvaWQgMCE9PWwpe2gubWVzaGVzPW5bbF07Y29uc3QgdD1oLmFuY2hvcj1bMCwwXTtmb3IoY29uc3QgZSBvZiBoLm1lc2hlcyl7Y29uc3R7bWluOnIsbWF4Om59PWUuYWFiYjt0WzBdKz1yWzBdK25bMF0sdFsxXSs9clsxXStuWzFdO310WzBdPU1hdGguZmxvb3IodFswXS9oLm1lc2hlcy5sZW5ndGgvMiksdFsxXT1NYXRoLmZsb29yKHRbMV0vaC5tZXNoZXMubGVuZ3RoLzIpO31pZih1JiYodS5pZCYmKGguaWQ9dS5pZCksdS5saWdodHMmJihoLmxpZ2h0cz1mdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuIFtdO2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1hdG9iKHQpLHI9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXJbdF09ZS5jb2RlUG9pbnRBdCh0KTtyZXR1cm4gcn0odCkscj1bXSxuPWUubGVuZ3RoLzI0LGk9bmV3IFVpbnQxNkFycmF5KGUuYnVmZmVyKSxhPW5ldyBGbG9hdDMyQXJyYXkoZS5idWZmZXIpO2ZvcihsZXQgdD0wO3Q8bjt0Kyspe2NvbnN0IGU9aVsyKnQqNl0vMzAsbj1pWzIqdCo2KzFdLzMwLHM9aVsyKnQqNisxMF0vMTAwLG89YVs2KnQrMV0sbD1hWzYqdCsyXSx1PWFbNip0KzNdLGM9YVs2KnQrNF0saD11LW8scD1jLWwsZj1NYXRoLmh5cG90KGgscCk7ci5wdXNoKHtwb3M6W28rLjUqaCxsKy41KnAsbl0sbm9ybWFsOltwL2YsLWgvZiwwXSx3aWR0aDpmLGhlaWdodDplLGRlcHRoOnMscG9pbnRzOltvLGwsdSxjXX0pO31yZXR1cm4gcn0odS5saWdodHMpKSksYyl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBvZiBjKXQucHVzaCh1dihyLmpzb24ubm9kZXNbZV0scixuKSk7aC5jaGlsZHJlbj10O31yZXR1cm4gaH1mdW5jdGlvbiBjdih0KXtpZigwPT09dC52ZXJ0aWNlcy5sZW5ndGh8fDA9PT10LmluZGljZXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0W2Uscl09W3QudmVydGljZXNbMF0uY2xvbmUoKSx0LnZlcnRpY2VzWzBdLmNsb25lKCldO2ZvcihsZXQgbj0xO248dC52ZXJ0aWNlcy5sZW5ndGg7KytuKXtjb25zdCBpPXQudmVydGljZXNbbl07ZS54PU1hdGgubWluKGUueCxpLngpLGUueT1NYXRoLm1pbihlLnksaS55KSxyLng9TWF0aC5tYXgoci54LGkueCksci55PU1hdGgubWF4KHIueSxpLnkpO31jb25zdCBuPU1hdGguY2VpbChNYXRoLm1heChyLngtZS54LHIueS1lLnkpLzI1NiksaT1NYXRoLm1heCg4LG4pLGE9bmV3IGl2KHQudmVydGljZXMsdC5pbmRpY2VzLGkpO3JldHVybiB7dmVydGljZXM6dC52ZXJ0aWNlcyxpbmRpY2VzOnQuaW5kaWNlcyxncmlkOmEsbWluOmUsbWF4OnJ9fWZ1bmN0aW9uIGh2KHQpe2lmKCF0LmV4dHJhc3x8IXQuZXh0cmFzLmdyb3VuZClyZXR1cm4gbnVsbDtjb25zdCBlPXQuZXh0cmFzLmdyb3VuZDtpZighZXx8IUFycmF5LmlzQXJyYXkoZSl8fDA9PT1lLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCByPWVbMF07aWYoIXJ8fCFBcnJheS5pc0FycmF5KHIpfHwwPT09ci5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgbj1bXTtmb3IoY29uc3QgdCBvZiByKXtpZighQXJyYXkuaXNBcnJheSh0KXx8MiE9PXQubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGU9dFswXSxyPXRbMV07XCJudW1iZXJcIj09dHlwZW9mIGUmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZuLnB1c2gobmV3IGcoZSxyKSk7fWlmKG4ubGVuZ3RoPDMpcmV0dXJuIG51bGw7bi5sZW5ndGg+MSYmbltuLmxlbmd0aC0xXS5lcXVhbHMoblswXSkmJm4ucG9wKCk7bGV0IGk9MDtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1uW3RdLHI9blsodCsxKSVuLmxlbmd0aF0sYT1uWyh0KzIpJW4ubGVuZ3RoXTtpKz0oZS54LXIueCkqKGEueS1yLnkpLShhLngtci54KSooZS55LXIueSk7fWk+MCYmbi5yZXZlcnNlKCk7Y29uc3QgYT1yZihuLmZsYXRNYXAoKHQ9Plt0LngsdC55XSkpLFtdKTtyZXR1cm4gMD09PWEubGVuZ3RoP251bGw6e3ZlcnRpY2VzOm4saW5kaWNlczphfX1mdW5jdGlvbiBwdih0KXtjb25zdCBlPVtdLHI9W107bGV0IG49MDtmb3IoY29uc3QgaSBvZiB0KXtuPWUubGVuZ3RoO2NvbnN0IHQ9aS52ZXJ0ZXhBcnJheS5mbG9hdDMyLGE9aS5pbmRleEFycmF5LnVpbnQxNjtmb3IobGV0IHI9MDtyPGkudmVydGV4QXJyYXkubGVuZ3RoO3IrKyllLnB1c2gobmV3IGcodFszKnIrMF0sdFszKnIrMV0pKTtmb3IobGV0IHQ9MDt0PDMqaS5pbmRleEFycmF5Lmxlbmd0aDt0Kyspci5wdXNoKGFbdF0rbik7fWlmKHIubGVuZ3RoJTMhPTApcmV0dXJuIG51bGw7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kz0zKXtjb25zdCBuPWVbclt0KzBdXSxpPWVbclt0KzFdXSxhPWVbclt0KzJdXTsobi54LWkueCkqKGEueS1pLnkpLShhLngtaS54KSoobi55LWkueSk+MCYmKFtyW3QrMV0sclt0KzJdXT1bclt0KzJdLHJbdCsxXV0pO31yZXR1cm4ge3ZlcnRpY2VzOmUsaW5kaWNlczpyfX1mdW5jdGlvbiBmdih0KXtjb25zdCBlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1bXSxuPVdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7aWYodC5qc29uLnRleHR1cmVzKWZvcihjb25zdCBpIG9mIHQuanNvbi50ZXh0dXJlcyl7Y29uc3QgYT17bWFnRmlsdGVyOm4uTElORUFSLG1pbkZpbHRlcjpuLk5FQVJFU1Qsd3JhcFM6bi5SRVBFQVQsd3JhcFQ6bi5SRVBFQVR9O3ZvaWQgMCE9PWkuc2FtcGxlciYmT2JqZWN0LmFzc2lnbihhLHQuanNvbi5zYW1wbGVyc1tpLnNhbXBsZXJdKSxyLnB1c2goe2ltYWdlOmVbaS5zb3VyY2VdLHNhbXBsZXI6YSx1cGxvYWRlZDohMX0pO31yZXR1cm4gcn0odCx0LmltYWdlcykscj1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgdC5qc29uLm1lc2hlcyl7Y29uc3QgaT1bXTtmb3IoY29uc3QgciBvZiBuLnByaW1pdGl2ZXMpaS5wdXNoKGx2KHIsdCxlKSk7ci5wdXNoKGkpO31yZXR1cm4gcn0odCxlKSx7c2NlbmVzOm4sc2NlbmU6aSxub2RlczphfT10Lmpzb24scz1uP25baXx8MF0ubm9kZXM6YSxvPVtdO2Zvcihjb25zdCBlIG9mIHMpby5wdXNoKHV2KGFbZV0sdCxyKSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPXt9LGk9bmV3IFNldDtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl7Y29uc3QgdD1yW2VbYV1dO2lmKCF0LmV4dHJhcyljb250aW51ZTtjb25zdCBzPXQuZXh0cmFzW1wibWFwYm94OmZvb3RwcmludDp2ZXJzaW9uXCJdLG89dC5leHRyYXNbXCJtYXBib3g6Zm9vdHByaW50OmlkXCJdOyhzfHxvKSYmaS5hZGQoYSksXCIxLjAuMFwiPT09cyYmbyYmKG5bb109YSk7fWZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKXtpZihpLmhhcyhhKSljb250aW51ZTtjb25zdCBzPXRbYV0sbz1yW2VbYV1dO2lmKCFvLmV4dHJhcyljb250aW51ZTtsZXQgbD1udWxsO3MuaWQgaW4gbiYmKGw9cHYodFtuW3MuaWRdXS5tZXNoZXMpKSxsfHwobD1odihvKSksbCYmKHMuZm9vdHByaW50PWN2KGwpKTt9aWYoaS5zaXplPjApe2NvbnN0IGU9QXJyYXkuZnJvbShpLnZhbHVlcygpKS5zb3J0KCgodCxlKT0+dC1lKSk7Zm9yKGxldCByPWUubGVuZ3RoLTE7cj49MDtyLS0pdC5zcGxpY2UoZVtyXSwxKTt9fShvLHMsdC5qc29uLm5vZGVzKSxvfWZ1bmN0aW9uIGR2KHQpe3QuaGVpZ2h0bWFwPW5ldyBGbG9hdDMyQXJyYXkoNDA5NiksdC5oZWlnaHRtYXAuZmlsbCgtMSk7Y29uc3QgZT10LnZlcnRleEFycmF5LmZsb2F0MzIscj10LmFhYmIubWluWzBdLTEsbj10LmFhYmIubWluWzFdLTEsaT1neC8odC5hYWJiLm1heFswXS1yKzIpLGE9Z3gvKHQuYWFiYi5tYXhbMV0tbisyKTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTMpe2NvbnN0IG89ZVtzKzJdLGw9KGVbcyswXS1yKSppfDAsdT0oZVtzKzFdLW4pKmF8MDtvPnQuaGVpZ2h0bWFwW3UqZ3grbF0mJih0LmhlaWdodG1hcFt1Kmd4K2xdPW8pO319ZnVuY3Rpb24gbXYoZSxyKXtjb25zdCBuPXt9O24uaW5kZXhBcnJheT1uZXcgRXMsbi5pbmRleEFycmF5LnJlc2VydmUoNCplLmxlbmd0aCksbi52ZXJ0ZXhBcnJheT1uZXcgTHMsbi52ZXJ0ZXhBcnJheS5yZXNlcnZlKDEwKmUubGVuZ3RoKSxuLmNvbG9yQXJyYXk9bmV3IGdzLG4udmVydGV4QXJyYXkucmVzZXJ2ZSgxMCplLmxlbmd0aCk7bGV0IGk9MDtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPU1hdGgubWluKDEwLE1hdGgubWF4KDQsMS4zKmEuaGVpZ2h0KSkqcixzPVstYS5ub3JtYWxbMV0sYS5ub3JtYWxbMF0sMF0sbz1NYXRoLm1pbiguMjksLjEqYS53aWR0aC9hLmRlcHRoKSxsPWEud2lkdGgtMiphLmRlcHRoKnIqKG8rLjAxKSx1PXQuTi5zY2FsZUFuZEFkZChbXSxhLnBvcyxzLGwvMiksYz10Lk4uc2NhbGVBbmRBZGQoW10sYS5wb3MscywtbC8yKSxoPVt1WzBdLHVbMV0sdVsyXSthLmhlaWdodF0scD1bY1swXSxjWzFdLGNbMl0rYS5oZWlnaHRdLGY9dC5OLnNjYWxlQW5kQWRkKFtdLGEubm9ybWFsLHMsbyk7dC5OLnNjYWxlKGYsZixlKTtjb25zdCBkPXQuTi5zY2FsZUFuZEFkZChbXSxhLm5vcm1hbCxzLC1vKTt0Lk4uc2NhbGUoZCxkLGUpLHQuTi5hZGQoZix1LGYpLHQuTi5hZGQoZCxjLGQpLHVbMl0rPS4xLGNbMl0rPS4xLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZlswXSxmWzFdLGZbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZFswXSxkWzFdLGRbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodVswXSx1WzFdLHVbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soY1swXSxjWzFdLGNbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soaFswXSxoWzFdLGhbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2socFswXSxwWzFdLHBbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodVswXSx1WzFdLHVbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soY1swXSxjWzFdLGNbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZlswXSxmWzFdLGZbMl0pLG4udmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZFswXSxkWzFdLGRbMl0pO2NvbnN0IG09bC9lLzI7bi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKC1tLW8sLTEsbSwuOCksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKG0rbywtMSxtLC44KSxuLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soLW0sMCxtLDEuMyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKG0sMCxtLDEuMyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKG0rbywtLjgsbSwuNyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKG0rbywtLjgsbSwuNyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKDAsMCxtLDEuMyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKDAsMCxtLDEuMyksbi5jb2xvckFycmF5LmVtcGxhY2VCYWNrKG0rbywtMS4yLG0sLjgpLG4uY29sb3JBcnJheS5lbXBsYWNlQmFjayhtK28sLTEuMixtLC44KSxuLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soNitpLDQraSw4K2kpLG4uaW5kZXhBcnJheS5lbXBsYWNlQmFjayg3K2ksOStpLDUraSksbi5pbmRleEFycmF5LmVtcGxhY2VCYWNrKDAraSwxK2ksMitpKSxuLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soMStpLDMraSwyK2kpLGkrPTEwO31jb25zdCBhPXtkZWZpbmVkOiEwLGVtaXNzaXZlRmFjdG9yOlswLDAsMF19LHM9e307cmV0dXJuIHMuYmFzZUNvbG9yRmFjdG9yPWxlLndoaXRlLGEucGJyTWV0YWxsaWNSb3VnaG5lc3M9cyxuLm1hdGVyaWFsPWEsbi5hYWJiPW5ldyBCaChbMS8wLDEvMCwxLzBdLFstMS8wLC0xLzAsLTEvMF0pLG59cmEoaXYsXCJUcmlhbmdsZUdyaWRJbmRleFwiKTtjbGFzcyB5dntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10W2VdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW3JdPWUsdGhpcy5fbnVtYmVyVG9TdHJpbmdbZV09cjt9fWVuY29kZSh0KXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbdF19ZGVjb2RlKHQpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1t0XX19Y29uc3QgZ3Y9W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIHh2e2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPXQsdGhpcy5fej1lLHRoaXMuX3g9cix0aGlzLl95PW4sdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLmlkPWk7fWdldCBnZW9tZXRyeSgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl94LHRoaXMuX3ksdGhpcy5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeSh0KXt0aGlzLl9nZW9tZXRyeT10O310b0pTT04oKXtjb25zdCB0PXt0eXBlOlwiRmVhdHVyZVwiLHN0YXRlOnZvaWQgMCxnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYodC5pZD10aGlzLmlkKTtmb3IoY29uc3QgZSBvZiBndil2b2lkIDAhPT10aGlzW2VdJiYodFtlXT10aGlzW2VdKTtyZXR1cm4gdH19Y2xhc3MgdnZ7Y29uc3RydWN0b3IodCxlKXt0aGlzLnRpbGVJRD10LHRoaXMueD10LmNhbm9uaWNhbC54LHRoaXMueT10LmNhbm9uaWNhbC55LHRoaXMuej10LmNhbm9uaWNhbC56LHRoaXMuZ3JpZD1uZXcgdGEoVHIsMTYsMCksdGhpcy5mZWF0dXJlSW5kZXhBcnJheT1uZXcgV3MsdGhpcy5wcm9tb3RlSWQ9ZSx0aGlzLmlzM0RUaWxlPSExO31pbnNlcnQodCxlLHIsbixpLGE9MCxzPTApe2NvbnN0IG89dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLG4saSxhKTtjb25zdCBsPXRoaXMuZ3JpZDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgcj1lW3RdLG49WzEvMCwxLzAsLTEvMCwtMS8wXTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3QgZT1yW3RdO25bMF09TWF0aC5taW4oblswXSxlLngpLG5bMV09TWF0aC5taW4oblsxXSxlLnkpLG5bMl09TWF0aC5tYXgoblsyXSxlLngpLG5bM109TWF0aC5tYXgoblszXSxlLnkpO30wIT09cyYmKG5bMF0tPXMsblsxXS09cyxuWzJdKz1zLG5bM10rPXMpLG5bMF08VHImJm5bMV08VHImJm5bMl0+PTAmJm5bM10+PTAmJmwuaW5zZXJ0KG8sblswXSxuWzFdLG5bMl0sblszXSk7fX1sb2FkVlRMYXllcnMoKXtpZighdGhpcy52dExheWVycyl7dGhpcy52dExheWVycz1uZXcgRWYobmV3IFZtKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnMsdGhpcy5zb3VyY2VMYXllckNvZGVyPW5ldyB5dih0aGlzLnZ0TGF5ZXJzP09iamVjdC5rZXlzKHRoaXMudnRMYXllcnMpLnNvcnQoKTpbXCJfZ2VvanNvblRpbGVMYXllclwiXSksdGhpcy52dEZlYXR1cmVzPXt9O2Zvcihjb25zdCB0IGluIHRoaXMudnRMYXllcnMpdGhpcy52dEZlYXR1cmVzW3RdPVtdO31yZXR1cm4gdGhpcy52dExheWVyc31xdWVyeSh0LGUscixuKXt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IGk9dC5wYXJhbXN8fHt9LGE9R2EoaS5maWx0ZXIpLHM9dC50aWxlUmVzdWx0LG89dC50cmFuc2Zvcm0sbD1zLmJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzLHU9dGhpcy5ncmlkLnF1ZXJ5KGwubWluLngsbC5taW4ueSxsLm1heC54LGwubWF4LnksKCh0LGUscixuKT0+WWwocy5idWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5LHQsZSxyLG4pKSk7dS5zb3J0KF92KTtsZXQgYz1udWxsO28uZWxldmF0aW9uJiZ1Lmxlbmd0aD4wJiYoYz1XZi5jcmVhdGUoby5lbGV2YXRpb24sdGhpcy50aWxlSUQpKTtjb25zdCBoPXt9O2xldCBwO2ZvcihsZXQgbD0wO2w8dS5sZW5ndGg7bCsrKXtjb25zdCBmPXVbbF07aWYoZj09PXApY29udGludWU7cD1mO2NvbnN0IGQ9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5nZXQoZik7bGV0IG09bnVsbDtpZih0aGlzLmlzM0RUaWxlKXtjb25zdCB0PXRoaXMuYnVja2V0TGF5ZXJJRHNbMF1bMF0scj1lW3RdO2lmKFwibW9kZWxcIiE9PXIudHlwZSljb250aW51ZTtjb25zdHtxdWVyeUZlYXR1cmU6bixpbnRlcnNlY3Rpb25aOml9PXIucXVlcnlJbnRlcnNlY3RzTWF0Y2hpbmdGZWF0dXJlKHMsZC5mZWF0dXJlSW5kZXgsYSxvKTtuJiZ0aGlzLmFwcGVuZFRvUmVzdWx0KGgsdCxkLmZlYXR1cmVJbmRleCxuLGkpO31lbHNlIHRoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShoLGQsYSxpLmxheWVycyxpLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoKGUscixuLGk9MCk9PihtfHwobT1UbChlLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0LnRpbGVUcmFuc2Zvcm0pKSxyLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUocyxlLG4sbSx0aGlzLnosdC50cmFuc2Zvcm0sdC5waXhlbFBvc01hdHJpeCxjLGkpKSkpO31yZXR1cm4gaH1sb2FkTWF0Y2hpbmdGZWF0dXJlKHQsZSxyLG4saSxhLHMsbyxsKXtjb25zdHtmZWF0dXJlSW5kZXg6dSxidWNrZXRJbmRleDpjLHNvdXJjZUxheWVySW5kZXg6aCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDpwfT1lLGY9dGhpcy5idWNrZXRMYXllcklEc1tjXTtpZihuJiYhZnVuY3Rpb24odCxlKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0obixmKSlyZXR1cm47Y29uc3QgZD10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGgpLG09dGhpcy52dExheWVyc1tkXS5mZWF0dXJlKHUpO2lmKHIubmVlZEdlb21ldHJ5KXtjb25zdCB0PUJsKG0sITApO2lmKCFyLmZpbHRlcihuZXcgUGEodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLHQsdGhpcy50aWxlSUQuY2Fub25pY2FsKSlyZXR1cm59ZWxzZSBpZighci5maWx0ZXIobmV3IFBhKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxtKSlyZXR1cm47Y29uc3QgeT10aGlzLmdldElkKG0sZCk7Zm9yKGxldCBlPTA7ZTxmLmxlbmd0aDtlKyspe2NvbnN0IHI9ZltlXTtpZihuJiZuLmluZGV4T2Yocik8MCljb250aW51ZTtjb25zdCBjPWFbcl07aWYoIWMpY29udGludWU7bGV0IGg9e307dm9pZCAwIT09eSYmbyYmKGg9by5nZXRTdGF0ZShjLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIseSkpO2NvbnN0IGQ9IWx8fGwobSxjLGgscCk7aWYoIWQpY29udGludWU7Y29uc3QgZz1uZXcgeHYobSx0aGlzLnosdGhpcy54LHRoaXMueSx5KSx4PXooe30sc1tyXSk7eC5wYWludD1idih4LnBhaW50LGMucGFpbnQsbSxoLGkpLHgubGF5b3V0PWJ2KHgubGF5b3V0LGMubGF5b3V0LG0saCxpKSxnLmxheWVyPXgsdGhpcy5hcHBlbmRUb1Jlc3VsdCh0LHIsdSxnLGQpO319YXBwZW5kVG9SZXN1bHQodCxlLHIsbixpKXtsZXQgYT10W2VdO3ZvaWQgMD09PWEmJihhPXRbZV09W10pLGEucHVzaCh7ZmVhdHVyZUluZGV4OnIsZmVhdHVyZTpuLGludGVyc2VjdGlvblo6aX0pO31sb29rdXBTeW1ib2xGZWF0dXJlcyh0LGUscixuLGksYSxzLG8pe2NvbnN0IGw9e307dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCB1PUdhKGkpO2Zvcihjb25zdCBpIG9mIHQpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKGwse2J1Y2tldEluZGV4OnIsc291cmNlTGF5ZXJJbmRleDpuLGZlYXR1cmVJbmRleDppLGxheW91dFZlcnRleEFycmF5T2Zmc2V0OjB9LHUsYSxzLG8sZSk7cmV0dXJuIGx9bG9hZEZlYXR1cmUodCl7Y29uc3R7ZmVhdHVyZUluZGV4OmUsc291cmNlTGF5ZXJJbmRleDpyfT10O3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3Qgbj10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKHIpLGk9dGhpcy52dEZlYXR1cmVzW25dO2lmKGlbZV0pcmV0dXJuIGlbZV07Y29uc3QgYT10aGlzLnZ0TGF5ZXJzW25dLmZlYXR1cmUoZSk7cmV0dXJuIGlbZV09YSxhfWhhc0xheWVyKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuYnVja2V0TGF5ZXJJRHMpZm9yKGNvbnN0IHIgb2YgZSlpZih0PT09cilyZXR1cm4gITA7cmV0dXJuICExfWdldElkKHQsZSl7bGV0IHI9dC5pZDtpZih0aGlzLnByb21vdGVJZCl7Y29uc3Qgbj1cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5wcm9tb3RlSWQ/dGhpcy5wcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWRbZV07bnVsbCE9biYmKHI9dC5wcm9wZXJ0aWVzW25dKSxcImJvb2xlYW5cIj09dHlwZW9mIHImJihyPU51bWJlcihyKSk7fXJldHVybiByfX1mdW5jdGlvbiBidih0LGUscixuLGkpe3JldHVybiBGKHQsKCh0LGEpPT57Y29uc3Qgcz1lIGluc3RhbmNlb2YgVmE/ZS5nZXQoYSk6bnVsbDtyZXR1cm4gcyYmcy5ldmFsdWF0ZT9zLmV2YWx1YXRlKHIsbixpKTpzfSkpfWZ1bmN0aW9uIF92KHQsZSl7cmV0dXJuIGUtdH1yYSh2dixcIkZlYXR1cmVJbmRleFwiLHtvbWl0OltcInJhd1RpbGVEYXRhXCIsXCJzb3VyY2VMYXllckNvZGVyXCJdfSk7Y29uc3Qgd3Y9bmV3IEZsb2F0MzJBcnJheSgyNjIxNDQpLE12PW5ldyBVaW50OEFycmF5KDI2MjE0NCk7ZnVuY3Rpb24gQXYodCl7bGV0IGU9MDtpZih0Lm1lc2hlcylmb3IoY29uc3QgciBvZiB0Lm1lc2hlcyllPU1hdGgubWF4KGUsci5hYWJiLm1heFsyXSk7aWYodC5jaGlsZHJlbilmb3IoY29uc3QgciBvZiB0LmNoaWxkcmVuKWU9TWF0aC5tYXgoZSxBdihyKSk7cmV0dXJuIGV9ZnVuY3Rpb24gU3YodCxlLHIpe2lmKHQubWVzaGVzKWZvcihjb25zdCBuIG9mIHQubWVzaGVzKW4uYWFiYi5taW5bMF0hPT0xLzAmJnIuaW5zZXJ0KGUsbi5hYWJiLm1pblswXSxuLmFhYmIubWluWzFdLG4uYWFiYi5tYXhbMF0sbi5hYWJiLm1heFsxXSk7aWYodC5jaGlsZHJlbilmb3IoY29uc3QgbiBvZiB0LmNoaWxkcmVuKVN2KG4sZSxyKTt9Y29uc3QgSXY9W1wiXCIsXCJ3YWxsXCIsXCJkb29yXCIsXCJyb29mXCIsXCJ3aW5kb3dcIixcImxhbXBcIixcImxvZ29cIl07Y2xhc3Mga3Z7Y29uc3RydWN0b3IodCl7dGhpcy5ub2RlPXQsdGhpcy5ldmFsdWF0ZWRSTUVBPVtbMSwwLDAsMV0sWzEsMCwwLDFdLFsxLDAsMCwxXSxbMSwwLDAsMV0sWy40LDEsMCwxXSxbMSwwLDAsMV0sWzEsMCwwLDFdXSx0aGlzLmhpZGRlbkJ5UmVwbGFjZW1lbnQ9ITEsdGhpcy5ldmFsdWF0ZWRTY2FsZT1bMSwxLDFdLHRoaXMuZXZhbHVhdGVkQ29sb3I9W10sdGhpcy5lbWlzc2lvbkhlaWdodEJhc2VkUGFyYW1zPVtdLHRoaXMuZmVhdHVyZT17dHlwZTpcIlBvaW50XCIsaWQ6dC5pZCxnZW9tZXRyeTpbXSxwcm9wZXJ0aWVzOntoZWlnaHQ6QXYodCl9fTt9Z2V0TG9jYWxCb3VuZHMoKXtpZighdGhpcy5ub2RlLm1lc2hlcylyZXR1cm4gbmV3IEJoKFsxLzAsMS8wLDEvMF0sWy0xLzAsLTEvMCwtMS8wXSk7aWYoIXRoaXMuYWFiYil7bGV0IHQ9MDtjb25zdCBlPW5ldyBCaChbMS8wLDEvMCwxLzBdLFstMS8wLC0xLzAsLTEvMF0pO2Zvcihjb25zdCByIG9mIHRoaXMubm9kZS5tZXNoZXMpdGhpcy5ub2RlLmxpZ2h0TWVzaEluZGV4IT09dCYmZS5lbmNhcHN1bGF0ZShyLmFhYmIpLHQrKzt0aGlzLmFhYmI9ZTt9cmV0dXJuIHRoaXMuYWFiYn19Y2xhc3MgUHZ7Y29uc3RydWN0b3IodCxlLHIsbixpLGEpe3RoaXMuaWQ9ZSx0aGlzLm1vZGVsVHJhaXRzfD14eC5Db29yZGluYXRlU3BhY2VUaWxlLHRoaXMudXBsb2FkZWQ9ITEsdGhpcy5oYXNQYXR0ZXJuPSExLHImJih0aGlzLm1vZGVsVHJhaXRzfD14eC5IYXNNYXBib3hNZXNoRmVhdHVyZXMpLG4mJih0aGlzLm1vZGVsVHJhaXRzfD14eC5IYXNNZXNob3B0Q29tcHJlc3Npb24pLHRoaXMuem9vbT0tMSx0aGlzLnRlcnJhaW5FeGFnZ2VyYXRpb249MSx0aGlzLnByb2plY3Rpb249e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT0wLHRoaXMuZWxldmF0aW9uUmVhZEZyb21aPTI1NSx0aGlzLmJyaWdodG5lc3M9aSx0aGlzLmRpcnR5PSEwLHRoaXMubmVlZHNVcGxvYWQ9ITEsdGhpcy5ub2Rlc0luZm89W107Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLm5vZGVzSW5mby5wdXNoKG5ldyBrdihlKSksU3YoZSxhLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aCxhLmdyaWQpLGEuZmVhdHVyZUluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5ub2Rlc0luZm8ubGVuZ3RoLTEsMCxhLmJ1Y2tldExheWVySURzLmxlbmd0aC0xLDApO311cGRhdGUoKXtjb25zb2xlLmxvZyhcIlVwZGF0ZSAzRCBtb2RlbCBidWNrZXRcIik7fXBvcHVsYXRlKCl7Y29uc29sZS5sb2coXCJwb3B1bGF0ZSAzRCBtb2RlbCBidWNrZXRcIik7fXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMubmVlZHNVcGxvYWR9dXBsb2FkKHQpe2lmKCF0aGlzLm5lZWRzVXBsb2FkKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0Tm9kZXNJbmZvKCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLm5vZGU7dGhpcy51cGxvYWRlZD90aGlzLnVwZGF0ZVBickJ1ZmZlcihlKTp3eChlLHQsITApO31mb3IoY29uc3QgdCBvZiBlKU14KHQubm9kZSk7dGhpcy51cGxvYWRlZD0hMCx0aGlzLm5lZWRzVXBsb2FkPSExO311cGRhdGVQYnJCdWZmZXIodCl7bGV0IGU9ITE7aWYoIXQubWVzaGVzKXJldHVybiBlO2Zvcihjb25zdCByIG9mIHQubWVzaGVzKXIucGJyQnVmZmVyJiYoci5wYnJCdWZmZXIudXBkYXRlRGF0YShyLmZlYXR1cmVBcnJheSksZT0hMCk7cmV0dXJuIGV9bmVlZHNSZUV2YWx1YXRpb24odCxlLHIpe2NvbnN0IG49dC50cmFuc2Zvcm0ucHJvamVjdGlvbk9wdGlvbnMsaT10LnN0eWxlLmdldEJyaWdodG5lc3MoKSxhPXRoaXMuYnJpZ2h0bmVzcyE9PWk7cmV0dXJuICEhKCF0aGlzLnVwbG9hZGVkfHx0aGlzLmRpcnR5fHxuLm5hbWUhPT10aGlzLnByb2plY3Rpb24ubmFtZXx8RXYoci5wYWludC5nZXQoXCJtb2RlbC1jb2xvclwiKS52YWx1ZSxhKXx8RXYoci5wYWludC5nZXQoXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCIpLnZhbHVlLGEpfHxFdihyLnBhaW50LmdldChcIm1vZGVsLXJvdWdobmVzc1wiKS52YWx1ZSxhKXx8RXYoci5wYWludC5nZXQoXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKS52YWx1ZSxhKXx8RXYoci5wYWludC5nZXQoXCJtb2RlbC1oZWlnaHQtYmFzZWQtZW1pc3NpdmUtc3RyZW5ndGgtbXVsdGlwbGllclwiKS52YWx1ZSxhKSkmJih0aGlzLnByb2plY3Rpb249bix0aGlzLmJyaWdodG5lc3M9aSwhMCl9ZXZhbHVhdGVTY2FsZSh0LGUpe2lmKHQudHJhbnNmb3JtLnpvb209PT10aGlzLnpvb20pcmV0dXJuO3RoaXMuem9vbT10LnRyYW5zZm9ybS56b29tO2NvbnN0IHI9dGhpcy5nZXROb2Rlc0luZm8oKSxuPXRoaXMuaWQuY2Fub25pY2FsO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IHI9dC5mZWF0dXJlO3QuZXZhbHVhdGVkU2NhbGU9ZS5wYWludC5nZXQoXCJtb2RlbC1zY2FsZVwiKS5ldmFsdWF0ZShyLHt9LG4pO319ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmdldE5vZGVzSW5mbygpO2Zvcihjb25zdCByIG9mIGUpe2lmKCFyLm5vZGUubWVzaGVzKWNvbnRpbnVlO2NvbnN0IGU9ci5mZWF0dXJlLG49ci5ub2RlLm1lc2hlcyYmci5ub2RlLm1lc2hlc1swXS5mZWF0dXJlRGF0YSxpPXIuZXZhbHVhdGVkQ29sb3JbMl0sYT1yLmV2YWx1YXRlZFJNRUFbMl0scz10aGlzLmlkLmNhbm9uaWNhbDtpZihyLmhhc1RyYW5zbHVjZW50UGFydHM9ITEsbil7Zm9yKGxldCBuPTA7bjxJdi5sZW5ndGg7bisrKXtjb25zdCBpPUl2W25dO2kubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzLnBhcnQ9aSk7Y29uc3QgYT10LnBhaW50LmdldChcIm1vZGVsLWNvbG9yXCIpLmV2YWx1YXRlKGUse30scyksbz10LnBhaW50LmdldChcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIikuZXZhbHVhdGUoZSx7fSxzKTtyLmV2YWx1YXRlZENvbG9yW25dPVthLnIsYS5nLGEuYixvXSxyLmV2YWx1YXRlZFJNRUFbbl1bMF09dC5wYWludC5nZXQoXCJtb2RlbC1yb3VnaG5lc3NcIikuZXZhbHVhdGUoZSx7fSxzKSxyLmV2YWx1YXRlZFJNRUFbbl1bMl09dC5wYWludC5nZXQoXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKS5ldmFsdWF0ZShlLHt9LHMpLHIuZXZhbHVhdGVkUk1FQVtuXVszXT1hLmEsci5lbWlzc2lvbkhlaWdodEJhc2VkUGFyYW1zW25dPXQucGFpbnQuZ2V0KFwibW9kZWwtaGVpZ2h0LWJhc2VkLWVtaXNzaXZlLXN0cmVuZ3RoLW11bHRpcGxpZXJcIikuZXZhbHVhdGUoZSx7fSxzKSwhci5oYXNUcmFuc2x1Y2VudFBhcnRzJiZhLmE8MSYmKHIuaGFzVHJhbnNsdWNlbnRQYXJ0cz0hMCk7fWRlbGV0ZSBlLnByb3BlcnRpZXMucGFydCxUdihyLGkhPT1yLmV2YWx1YXRlZENvbG9yWzJdfHxhIT09ci5ldmFsdWF0ZWRSTUVBWzJdLHRoaXMubW9kZWxUcmFpdHMpO31lbHNlIHIuZXZhbHVhdGVkUk1FQVswXVsyXT10LnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLmV2YWx1YXRlKGUse30scyk7ci5ldmFsdWF0ZWRTY2FsZT10LnBhaW50LmdldChcIm1vZGVsLXNjYWxlXCIpLmV2YWx1YXRlKGUse30scyksdGhpcy51cGRhdGVQYnJCdWZmZXIoci5ub2RlKXx8KHRoaXMubmVlZHNVcGxvYWQ9ITApO310aGlzLmRpcnR5PSExO31lbGV2YXRpb25VcGRhdGUodCxlLHIsbil7Y29uc3QgaT10LmZpbmRERU1UaWxlRm9yKHIpO2lmKGkmJihpLnRpbGVJRC5jYW5vbmljYWwhPT10aGlzLnRlcnJhaW5UaWxlfHxlIT09dGhpcy50ZXJyYWluRXhhZ2dlcmF0aW9uKSl7aWYoaS5kZW0mJmkudGlsZUlELm92ZXJzY2FsZWRaIT09dGhpcy5lbGV2YXRpb25SZWFkRnJvbVope3RoaXMuZWxldmF0aW9uUmVhZEZyb21aPWkudGlsZUlELm92ZXJzY2FsZWRaO2NvbnN0IGU9V2YuY3JlYXRlKHQscixpKTtpZighZSlyZXR1cm47dGhpcy5tb2RlbFRyYWl0cyZ4eC5IYXNNYXBib3hNZXNoRmVhdHVyZXMmJnRoaXMudXBkYXRlREVNKHQsZSxyLG4pO2Zvcihjb25zdCB0IG9mIHRoaXMuZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IHI9dC5ub2RlO2lmKCFyLmZvb3RwcmludHx8IXIuZm9vdHByaW50LnZlcnRpY2VzfHwhci5mb290cHJpbnQudmVydGljZXMubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG49ci5mb290cHJpbnQudmVydGljZXM7bGV0IGk9ZS5nZXRFbGV2YXRpb25BdChuWzBdLngsblswXS55LCEwLCEwKTtmb3IobGV0IHQ9MTt0PG4ubGVuZ3RoO3QrKylpPU1hdGgubWluKGksZS5nZXRFbGV2YXRpb25BdChuW3RdLngsblt0XS55LCEwLCEwKSk7ci5lbGV2YXRpb249aTt9fXRoaXMudGVycmFpblRpbGU9aS50aWxlSUQuY2Fub25pY2FsLHRoaXMudGVycmFpbkV4YWdnZXJhdGlvbj1lO319dXBkYXRlREVNKHQsZSxyLG4pe2xldCBpPWUuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW25dO2lmKHZvaWQgMD09PWkmJihlLl9kZW0uX21vZGlmaWVkRm9yU291cmNlc1tuXT1bXSxpPWUuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW25dKSxpLmluY2x1ZGVzKHIuY2Fub25pY2FsKSlyZXR1cm47Y29uc3QgYT1lLl9kZW0uZGltO2kucHVzaChyLmNhbm9uaWNhbCk7bGV0IHM9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5nZXROb2Rlc0luZm8oKSl7Y29uc3Qgcj10Lm5vZGU7aWYoIXIuZm9vdHByaW50fHwhci5mb290cHJpbnQuZ3JpZCljb250aW51ZTtjb25zdCBuPXIuZm9vdHByaW50LmdyaWQsaT1lLnRpbGVDb29yZFRvUGl4ZWwobi5taW4ueCxuLm1pbi55KSxvPWUudGlsZUNvb3JkVG9QaXhlbChuLm1heC54LG4ubWF4LnkpLGw9TWF0aC5taW4oTWF0aC5taW4oYS1vLnksaS54KSxNYXRoLm1pbihpLnksYS1vLngpKTtpZihsPDApY29udGludWU7Y29uc3QgdT1JKGwsMiw1KTtsZXQgYz1NYXRoLm1heCgwLGkueC11KSxoPU1hdGgubWF4KDAsaS55LXUpLHA9TWF0aC5taW4oby54K3UsYS0xKSxmPU1hdGgubWluKG8ueSt1LGEtMSk7Zm9yKGxldCB0PWg7dDw9ZjsrK3QpZm9yKGxldCBlPWM7ZTw9cDsrK2UpTXZbdCphK2VdPTI1NTtsZXQgZD0wLG09MDtmb3IobGV0IHQ9MDt0PG4uY2VsbHNZOysrdClmb3IobGV0IHI9MDtyPG4uY2VsbHNYOysrcil7aWYoIW4uY2VsbHNbdCpuLmNlbGxzWCtyXSljb250aW51ZTtjb25zdCBpPWUudGlsZUNvb3JkVG9QaXhlbChuLm1pbi54K3Ivbi54U2NhbGUsbi5taW4ueSt0L24ueVNjYWxlKSxzPWUudGlsZUNvb3JkVG9QaXhlbChuLm1pbi54KyhyKzEpL24ueFNjYWxlLG4ubWluLnkrKHQrMSkvbi55U2NhbGUpO2ZvcihsZXQgdD1pLnk7dDw9TWF0aC5taW4ocy55KzEsYS0xKTsrK3QpZm9yKGxldCByPWkueDtyPD1NYXRoLm1pbihzLngrMSxhLTEpOysrcikyNTU9PT1Ndlt0KmErcl0mJihNdlt0KmErcl09MCxkKz1lLmdldEVsZXZhdGlvbkF0UGl4ZWwocix0KSxtKyspO31jb25zdCB5PWQvbTtjPU1hdGgubWF4KDEsaS54LXUpLGg9TWF0aC5tYXgoMSxpLnktdSkscD1NYXRoLm1pbihvLngrdSxhLTIpLGY9TWF0aC5taW4oby55K3UsYS0yKSxzPSEwO2ZvcihsZXQgdD1oO3Q8PWY7Kyt0KWZvcihsZXQgcj1jO3I8PXA7KytyKTA9PT1Ndlt0KmErcl0mJih3dlt0KmErcl09ZS5fZGVtLnNldChyLHQseSkpO2ZvcihsZXQgdD0xO3Q8dTsrK3Qpe2M9TWF0aC5tYXgoMSxpLngtdCksaD1NYXRoLm1heCgxLGkueS10KSxwPU1hdGgubWluKG8ueCt0LGEtMiksZj1NYXRoLm1pbihvLnkrdCxhLTIpO2ZvcihsZXQgcj1oO3I8PWY7KytyKWZvcihsZXQgbj1jO248PXA7KytuKXtjb25zdCBpPXIqYStuO2lmKDI1NT09PU12W2ldKXtsZXQgcz0wLG89MCxsPS0xLGM9LTE7Zm9yKGxldCBlPS0xO2U8PTE7KytlKWZvcihsZXQgaT0tMTtpPD0xOysraSl7Y29uc3QgdT0ocitlKSphK24raTtpZihNdlt1XT49dCljb250aW51ZTtjb25zdCBoPXd2W3VdLHA9TWF0aC5hYnMoaCk7cD5vJiYocz1oLG89cCxsPWksYz1lKTt9aWYobz4uMSl7Y29uc3QgYT0xLSh0Ky41Kk1hdGguYWJzKGwqYykpL3U7bGV0IG89ZS5fZGVtLmdldChuLHIpK3MqYTtjb25zdCBoPWUuX2RlbS5nZXQobitsLHIrYykscD1lLl9kZW0uZ2V0KG4tbCxyLWMsITApOyhvLWgpKihvLXApPjAmJihvPShoK3ApLzIpLHd2W2ldPWUuX2RlbS5zZXQobixyLG8pLE12W2ldPXQ7fX19fX1zJiYoZS5fZGVtVGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsZS5fZGVtLl90aW1lc3RhbXA9c3Qubm93KCkpO31nZXROb2Rlc0luZm8oKXtyZXR1cm4gdGhpcy5ub2Rlc0luZm99ZGVzdHJveSgpe2NvbnN0IHQ9dGhpcy5nZXROb2Rlc0luZm8oKTtmb3IoY29uc3QgZSBvZiB0KU14KGUubm9kZSksQXgoZS5ub2RlKTt9aXNFbXB0eSgpe3JldHVybiAhdGhpcy5ub2Rlc0luZm8ubGVuZ3RofXVwZGF0ZVJlcGxhY2VtZW50KHQsZSl7aWYoZS51cGRhdGVUaW1lPT09dGhpcy5yZXBsYWNlbWVudFVwZGF0ZVRpbWUpcmV0dXJuO3RoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lPWUudXBkYXRlVGltZTtjb25zdCByPWUuZ2V0UmVwbGFjZW1lbnRSZWdpb25zRm9yVGlsZSh0LnRvVW53cmFwcGVkKCkpLG49dGhpcy5nZXROb2Rlc0luZm8oKTtmb3IobGV0IHQ9MDt0PHRoaXMubm9kZXNJbmZvLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XS5ub2RlO25bdF0uaGlkZGVuQnlSZXBsYWNlbWVudD0hIWUuZm9vdHByaW50JiYhci5maW5kKCh0PT50LmZvb3RwcmludD09PWUuZm9vdHByaW50KSk7fX1nZXRIZWlnaHRBdFRpbGVDb29yZCh0LGUpe2NvbnN0IHI9dGhpcy5nZXROb2Rlc0luZm8oKSxuPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5ub2Rlc0luZm8ubGVuZ3RoO2krKyl7Y29uc3QgYT1yW2ldLHM9YS5ub2RlLm1lc2hlc1swXTtpZih0PHMuYWFiYi5taW5bMF18fGU8cy5hYWJiLm1pblsxXXx8dD5zLmFhYmIubWF4WzBdfHxlPnMuYWFiYi5tYXhbMV0pY29udGludWU7Y29uc3Qgbz0odC1zLmFhYmIubWluWzBdKS8ocy5hYWJiLm1heFswXS1zLmFhYmIubWluWzBdKSpneHwwLGw9TWF0aC5taW4oNjMsKGUtcy5hYWJiLm1pblsxXSkvKHMuYWFiYi5tYXhbMV0tcy5hYWJiLm1pblsxXSkqZ3h8MCkqZ3grTWF0aC5taW4oNjMsbyk7aWYoIShzLmhlaWdodG1hcFtsXTwwJiZhLm5vZGUuZm9vdHByaW50KSl7aWYoYS5oaWRkZW5CeVJlcGxhY2VtZW50KXJldHVybjtyZXR1cm4ge2hlaWdodDpzLmhlaWdodG1hcFtsXSxtYXhIZWlnaHQ6YS5mZWF0dXJlLnByb3BlcnRpZXMuaGVpZ2h0LGhpZGRlbjohMSx2ZXJ0aWNhbFNjYWxlOmEuZXZhbHVhdGVkU2NhbGVbMl19fWlmKGEubm9kZS5mb290cHJpbnQuZ3JpZC5xdWVyeShuZXcgZyh0LGUpLG5ldyBnKHQsZSksbiksbi5sZW5ndGg+MClyZXR1cm4ge2hlaWdodDp2b2lkIDAsbWF4SGVpZ2h0OmEuZmVhdHVyZS5wcm9wZXJ0aWVzLmhlaWdodCxoaWRkZW46YS5oaWRkZW5CeVJlcGxhY2VtZW50LHZlcnRpY2FsU2NhbGU6YS5ldmFsdWF0ZWRTY2FsZVsyXX19fX1mdW5jdGlvbiBFdih0LGUpe3JldHVybiAhdC5pc0xpZ2h0Q29uc3RhbnQmJmV9ZnVuY3Rpb24genYodCxlLHIsbixpLGEscyxvKXtsZXQgbD0oNjE0NDAmZXwoNjE0NDAmZSk+PjQpPj44LHU9KDM4NDAmZXwoMzg0MCZlKT4+NCk+PjQsYz0yNDAmZXwoMjQwJmUpPj40O3JbM10+MCYmKGw9dWUobCwyNTUqclswXSxyWzNdKSx1PXVlKHUsMjU1KnJbMV0sclszXSksYz11ZShjLDI1NSpyWzJdLHJbM10pKTtjb25zdCBoPWw8PDh8dSxwPWM8PDh8TWF0aC5mbG9vcigyNTUqblszXSksZj1mdW5jdGlvbih0KXtjb25zdCBlPUkodCwwLDIpO3JldHVybiBNYXRoLm1pbihNYXRoLnJvdW5kKC41KmUqMjU1KSwyNTUpfShuWzJdKTw8OHwxNSpuWzBdPDw0fDE1Km5bMV0sZD1JKGlbMF0sMCwxKSxtPUkoaVsxXSwwLDEpLHk9SShpWzJdLDAsMSksZz1JKGlbM10sMCwxKTtsZXQgeCx2LGIsXztpZihkIT09bSYmcyE9PWEmJm0hPT1kKXtjb25zdCB0PXMtYTt2PTEvKHQqKG0tZCkpLGI9LShhK3QqZCkvKHQqKG0tZCkpO2NvbnN0IGU9SShpWzRdLC0xLDEpO189TWF0aC5wb3coMTAsZSkseD0yNTUqeTw8OHwyNTUqZzt9ZWxzZSB4PTY1NTM1LHY9MCxiPTEsXz0xO2lmKHQuZW1wbGFjZUJhY2soaCxwLGYseCx2LGIsXyksbyl7Y29uc3QgdD1vLmxlbmd0aDtvLmNsZWFyKCk7Zm9yKGxldCBlPTA7ZTx0O2UrKylvLmVtcGxhY2VCYWNrKGgscCxmLHgsdixiLF8pO319ZnVuY3Rpb24gVHYodCxlLHIpe2NvbnN0IG49dC5ub2RlO2xldCBpPTA7Y29uc3QgYT1yJnh4Lkhhc01lc2hvcHRDb21wcmVzc2lvbjtmb3IoY29uc3QgciBvZiBuLm1lc2hlcyl7aWYobi5saWdodHMmJm4ubGlnaHRNZXNoSW5kZXg9PT1pKWNvbnRpbnVlO2lmKCFyLmZlYXR1cmVEYXRhKWNvbnRpbnVlO3IuZmVhdHVyZUFycmF5PW5ldyBPcyxyLmZlYXR1cmVBcnJheS5yZXNlcnZlKHIuZmVhdHVyZURhdGEubGVuZ3RoKTtsZXQgcz1lO2Zvcihjb25zdCBlIG9mIHIuZmVhdHVyZURhdGEpe2NvbnN0IGk9YT82NTUzNSZlOmU+PjE2JjY1NTM1LG89YT9lPj4xNiY2NTUzNTo2NTUzNSZlLGw9KDE1Jm8pPDg/MTUmbzowLHU9dC5ldmFsdWF0ZWRSTUVBW2xdLGM9dC5ldmFsdWF0ZWRDb2xvcltsXSxoPXQuZW1pc3Npb25IZWlnaHRCYXNlZFBhcmFtc1tsXTtsZXQgcDtpZihzJiYyPT09bCYmbi5saWdodHMmJihwPW5ldyBPcyxwLnJlc2l6ZSgxMCpuLmxpZ2h0cy5sZW5ndGgpKSx6dihyLmZlYXR1cmVBcnJheSxpLGMsdSxoLHIuYWFiYi5taW5bMl0sci5hYWJiLm1heFsyXSxwKSxwJiZzKXtzPSExO2NvbnN0IHQ9bi5tZXNoZXNbbi5saWdodE1lc2hJbmRleF07dC5mZWF0dXJlQXJyYXk9cCx0LmZlYXR1cmVBcnJheS5fdHJpbSgpO319ci5mZWF0dXJlQXJyYXkuX3RyaW0oKSxpKys7fX1mdW5jdGlvbiBCdih0LGUscixuKXtjb25zdCBpPTE8PHQuejtlLmxhdD15bCgobi9Ucit0LnkpL2kpLGUubG5nPW1sKChyL1RyK3QueCkvaSk7fXJhKFB2LFwiVGlsZWQzZE1vZGVsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSkscmEoa3YsXCJUaWxlZDNkTW9kZWxGZWF0dXJlXCIpO2NvbnN0IEN2PXtjaXJjbGU6Y2xhc3MgZXh0ZW5kcyBzc3tjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxldSxlLHIpO31jcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyBEbCh0KX1xdWVyeVJhZGl1cyh0KXtjb25zdCBlPXQ7cmV0dXJuIEhsKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsZSkrSGwoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyxlKStXbCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPVFsKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLGEuYW5nbGUsdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSx1PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZShlLHIpK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZShlLHIpO3JldHVybiBjcCh0LG4sYSxzLG8sXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCx1KX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImNpcmNsZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyh0LGUpe2NvbnN0IHI9dXAodGhpcyk7cmV0dXJuIHtjb25maWc6bmV3IERvKHRoaXMsZSksZGVmaW5lczpyLG92ZXJyaWRlRm9nOiExfX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBzc3tjcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyBtcCh0KX1jb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxNcCxlLHIpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCl7XCJoZWF0bWFwLWNvbG9yXCI9PT10JiZ0aGlzLl91cGRhdGVDb2xvclJhbXAoKTt9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPUFwKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImhlYXRtYXAtY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixldmFsdWF0aW9uS2V5OlwiaGVhdG1hcERlbnNpdHlcIixpbWFnZTp0aGlzLmNvbG9yUmFtcH0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsO31yZXNpemUoKXt0aGlzLmhlYXRtYXBGYm8mJih0aGlzLmhlYXRtYXBGYm8uZGVzdHJveSgpLHRoaXMuaGVhdG1hcEZibz1udWxsKTt9cXVlcnlSYWRpdXModCl7cmV0dXJuIEhsKFwiaGVhdG1hcC1yYWRpdXNcIix0aGlzLHQpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUodCxlLHIsbixpLGEscyxvKXtjb25zdCBsPXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1yYWRpdXNcIikuZXZhbHVhdGUoZSxyKTtyZXR1cm4gY3AodCxuLGEscyxvLCEwLCEwLG5ldyBnKDAsMCksbCl9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wiaGVhdG1hcFwiLFwiaGVhdG1hcFRleHR1cmVcIl19Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXModCxlKXtyZXR1cm4gXCJoZWF0bWFwXCI9PT10P3tjb25maWc6bmV3IERvKHRoaXMsZSksb3ZlcnJpZGVGb2c6ITF9Ont9fX0saGlsbHNoYWRlOmNsYXNzIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHQsSXAsZSxyKTt9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImhpbGxzaGFkZVwiLFwiaGlsbHNoYWRlUHJlcGFyZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyh0LGUpe3JldHVybiB7b3ZlcnJpZGVGb2c6ITF9fX0sZmlsbDpjbGFzcyBleHRlbmRzIHNze2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LGNmLGUscik7fWdldFByb2dyYW1JZHMoKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLGU9dCYmdC5jb25zdGFudE9yKDEpLHI9W2U/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiXTtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmci5wdXNoKGUmJiF0aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIpLHJ9Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXModCxlKXtyZXR1cm4ge2NvbmZpZzpuZXcgRG8odGhpcyxlKSxvdmVycmlkZUZvZzohMX19cmVjYWxjdWxhdGUodCxlKXtzdXBlci5yZWNhbGN1bGF0ZSh0LGUpO2NvbnN0IHI9dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PXIudmFsdWUua2luZCYmdm9pZCAwPT09ci52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKTt9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgbGYodCl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gV2wodGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSh0LGUscixuLGksYSl7cmV0dXJuICF0LnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24mJkZsKEpsKHQudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSxhLmFuZ2xlLHQucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvciksbil9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIHNze2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LGtkLGUsciksdGhpcy5fc3RhdHM9e251bVJlbmRlcmVkVmVydGljZXNJblNoYWRvd1Bhc3M6MCxudW1SZW5kZXJlZFZlcnRpY2VzSW5UcmFuc3BhcmVudFBhc3M6MH07fWNyZWF0ZUJ1Y2tldCh0KXtyZXR1cm4gbmV3IG1kKHQpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIFdsKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpKX1pczNEKCl7cmV0dXJuICEwfWhhc1NoYWRvd1Bhc3MoKXtyZXR1cm4gITB9Y3V0b2ZmUmFuZ2UoKXtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1jdXRvZmYtZmFkZS1yYW5nZVwiKX1jYW5DYXN0U2hhZG93cygpe3JldHVybiAhMH1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCJdfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSxyLG4saSxhLHMsbyxsLHUpe2NvbnN0IGM9UWwodGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpLHMuYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxoPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCIpLmV2YWx1YXRlKHIsbikscD10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWJhc2VcIikuZXZhbHVhdGUocixuKSxmPVswLDBdLGQ9bCYmcy5lbGV2YXRpb24sbT1zLmVsZXZhdGlvbj9zLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKToxLHk9ZS50aWxlLmdldEJ1Y2tldCh0aGlzKTtpZihkJiZ5IGluc3RhbmNlb2YgbWQpe2NvbnN0IHQ9eS5jZW50cm9pZFZlcnRleEFycmF5LGU9dSsxO2U8dC5sZW5ndGgmJihmWzBdPXQuZ2V0YV9jZW50cm9pZF9wb3MwKGUpLGZbMV09dC5nZXRhX2NlbnRyb2lkX3BvczEoZSkpO31pZigwPT09ZlswXSYmMT09PWZbMV0pcmV0dXJuICExO1wiZ2xvYmVcIj09PXMucHJvamVjdGlvbi5uYW1lJiYoaT1BZChbaV0sW25ldyBnKDAsMCksbmV3IGcoVHIsVHIpXSxlLnRpbGVJRC5jYW5vbmljYWwpLm1hcCgodD0+dC5wb2x5Z29uKSkuZmxhdCgpKTtjb25zdCB4PWQ/bDpudWxsLFt2LGJdPWZ1bmN0aW9uKGUscixuLGksYSxzLG8sbCx1LGMsaCl7cmV0dXJuIFwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lP2Z1bmN0aW9uKGUscixuLGksYSxzLG8sbCx1LGMsaCl7Y29uc3QgcD1bXSxmPVtdLGQ9ZS5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUoaCxlLmNlbnRlci5sYXQsZS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZSxtPVswLDAsMCwxXSx5PVswLDAsMCwxXSxnPSh0LGUscixuKT0+e3RbMF09ZSx0WzFdPXIsdFsyXT1uLHRbM109MTt9LHg9TWQoKTtuPjAmJihuKz14KSxpKz14O2Zvcihjb25zdCB4IG9mIHIpe2NvbnN0IHI9W10sdj1bXTtmb3IoY29uc3QgcCBvZiB4KXtjb25zdCBmPXAueCthLngseD1wLnkrYS55LGI9ZS5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoZix4LGgpLF89ZS5wcm9qZWN0aW9uLnVwVmVjdG9yKGgscC54LHAueSk7bGV0IHc9bixNPWk7aWYobyl7Y29uc3QgdD1UZChmLHgsbixpLG8sbCx1LGMpO3crPXQuYmFzZSxNKz10LnRvcDt9MCE9PW4/ZyhtLGIueCtfWzBdKmQqdyxiLnkrX1sxXSpkKncsYi56K19bMl0qZCp3KTpnKG0sYi54LGIueSxiLnopLGcoeSxiLngrX1swXSpkKk0sYi55K19bMV0qZCpNLGIueitfWzJdKmQqTSksdC5OLnRyYW5zZm9ybU1hdDQobSxtLHMpLHQuTi50cmFuc2Zvcm1NYXQ0KHkseSxzKSxyLnB1c2gobmV3IFBkKG1bMF0sbVsxXSxtWzJdKSksdi5wdXNoKG5ldyBQZCh5WzBdLHlbMV0seVsyXSkpO31wLnB1c2gociksZi5wdXNoKHYpO31yZXR1cm4gW3AsZl19KGUscixuLGksYSxzLG8sbCx1LGMsaCk6bz9mdW5jdGlvbihlLHIsbixpLGEscyxvLGwsdSl7Y29uc3QgYz1bXSxoPVtdLHA9WzAsMCwwLDFdO2Zvcihjb25zdCBmIG9mIGUpe2NvbnN0IGU9W10sZD1bXTtmb3IoY29uc3QgYyBvZiBmKXtjb25zdCBoPWMueCtpLngsZj1jLnkraS55LG09VGQoaCxmLHIsbixzLG8sbCx1KTtwWzBdPWgscFsxXT1mLHBbMl09bS5iYXNlLHBbM109MSx0LmE3LnRyYW5zZm9ybU1hdDQocCxwLGEpLHBbM109TWF0aC5tYXgocFszXSwxZS01KTtjb25zdCB5PW5ldyBQZChwWzBdL3BbM10scFsxXS9wWzNdLHBbMl0vcFszXSk7cFswXT1oLHBbMV09ZixwWzJdPW0udG9wLHBbM109MSx0LmE3LnRyYW5zZm9ybU1hdDQocCxwLGEpLHBbM109TWF0aC5tYXgocFszXSwxZS01KTtjb25zdCBnPW5ldyBQZChwWzBdL3BbM10scFsxXS9wWzNdLHBbMl0vcFszXSk7ZS5wdXNoKHkpLGQucHVzaChnKTt9Yy5wdXNoKGUpLGgucHVzaChkKTt9cmV0dXJuIFtjLGhdfShyLG4saSxhLHMsbyxsLHUsYyk6ZnVuY3Rpb24odCxlLHIsbixpKXtjb25zdCBhPVtdLHM9W10sbz1pWzhdKmUsbD1pWzldKmUsdT1pWzEwXSplLGM9aVsxMV0qZSxoPWlbOF0qcixwPWlbOV0qcixmPWlbMTBdKnIsZD1pWzExXSpyO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9W10scj1bXTtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPWEueCtuLngscz1hLnkrbi55LG09aVswXSplK2lbNF0qcytpWzEyXSx5PWlbMV0qZStpWzVdKnMraVsxM10sZz1pWzJdKmUraVs2XSpzK2lbMTRdLHg9aVszXSplK2lbN10qcytpWzE1XSx2PW0rbyxiPXkrbCxfPWcrdSx3PU1hdGgubWF4KHgrYywxZS01KSxNPW0raCxBPXkrcCxTPWcrZixJPU1hdGgubWF4KHgrZCwxZS01KTt0LnB1c2gobmV3IFBkKHYvdyxiL3csXy93KSksci5wdXNoKG5ldyBQZChNL0ksQS9JLFMvSSkpO31hLnB1c2godCkscy5wdXNoKHIpO31yZXR1cm4gW2Esc119KHIsbixpLGEscyl9KHMsaSxwLGgsYyxvLHgsZixtLHMuY2VudGVyLmxhdCxlLnRpbGVJRC5jYW5vbmljYWwpLF89ZS5xdWVyeUdlb21ldHJ5O3JldHVybiBmdW5jdGlvbih0LGUscil7bGV0IG49MS8wO0ZsKHIsZSkmJihuPXpkKHIsZVswXSkpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBhPWVbaV0scz10W2ldO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGgtMTt0Kyspe2NvbnN0IGU9YVt0XSxpPVtlLGFbdCsxXSxzW3QrMV0sc1t0XSxlXTtWbChyLGkpJiYobj1NYXRoLm1pbihuLHpkKHIsaSkpKTt9fXJldHVybiBuIT09MS8wJiZufSh2LGIsXy5pc1BvaW50UXVlcnkoKT9fLnNjcmVlbkJvdW5kczpfLnNjcmVlbkdlb21ldHJ5KX19LGxpbmU6Y2xhc3MgZXh0ZW5kcyBzc3tjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxVZCxlLHIpLHRoaXMuZ3JhZGllbnRWZXJzaW9uPTA7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtpZihcImxpbmUtZ3JhZGllbnRcIj09PXQpe2NvbnN0IHQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uO3RoaXMuc3RlcEludGVycG9sYW50PXQuX3N0eWxlRXhwcmVzc2lvbiYmdC5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBTbix0aGlzLmdyYWRpZW50VmVyc2lvbj0odGhpcy5ncmFkaWVudFZlcnNpb24rMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7fX1ncmFkaWVudEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9ufXdpZHRoRXhwcmVzc2lvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJsaW5lLXdpZHRoXCJdLnZhbHVlLmV4cHJlc3Npb259cmVjYWxjdWxhdGUodCxlKXtzdXBlci5yZWNhbGN1bGF0ZSh0LGUpLHRoaXMucGFpbnQuX3ZhbHVlc1tcImxpbmUtZmxvb3J3aWR0aFwiXT1YZC5wb3NzaWJseUV2YWx1YXRlKHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5fdmFsdWVzW1wibGluZS13aWR0aFwiXS52YWx1ZSx0KTt9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgTmQodCl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbdGhpcy5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCJdfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKHQsZSl7Y29uc3Qgcj1HZCh0aGlzKTtyZXR1cm4ge2NvbmZpZzpuZXcgRG8odGhpcyxlKSxkZWZpbmVzOnIsb3ZlcnJpZGVGb2c6ITF9fXF1ZXJ5UmFkaXVzKHQpe2NvbnN0IGU9dCxyPVpkKEhsKFwibGluZS13aWR0aFwiLHRoaXMsZSksSGwoXCJsaW5lLWdhcC13aWR0aFwiLHRoaXMsZSkpLG49SGwoXCJsaW5lLW9mZnNldFwiLHRoaXMsZSk7cmV0dXJuIHIvMitNYXRoLmFicyhuKStXbCh0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKHQsZSxyLG4saSxhKXtpZih0LnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24pcmV0dXJuICExO2NvbnN0IHM9SmwodC50aWxlc3BhY2VHZW9tZXRyeSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCIpLGEuYW5nbGUsdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxvPXQucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvci8yKlpkKHRoaXMucGFpbnQuZ2V0KFwibGluZS13aWR0aFwiKS5ldmFsdWF0ZShlLHIpLHRoaXMucGFpbnQuZ2V0KFwibGluZS1nYXAtd2lkdGhcIikuZXZhbHVhdGUoZSxyKSksbD10aGlzLnBhaW50LmdldChcImxpbmUtb2Zmc2V0XCIpLmV2YWx1YXRlKGUscik7cmV0dXJuIGwmJihuPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1bXSxuPW5ldyBnKDAsMCk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IGE9dFtpXSxzPVtdO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCsrKXtjb25zdCByPWFbdF0saT1hW3QrMV0sbz0wPT09dD9uOnIuc3ViKGFbdC0xXSkuX3VuaXQoKS5fcGVycCgpLGw9dD09PWEubGVuZ3RoLTE/bjppLnN1YihyKS5fdW5pdCgpLl9wZXJwKCksdT1vLl9hZGQobCkuX3VuaXQoKTt1Ll9tdWx0KDEvKHUueCpsLngrdS55KmwueSkpLHMucHVzaCh1Ll9tdWx0KGUpLl9hZGQocikpO31yLnB1c2gocyk7fXJldHVybiByfShuLGwqdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSksZnVuY3Rpb24odCxlLHIpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWVbbl07aWYodC5sZW5ndGg+PTMpZm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaWYoR2wodCxpW2VdKSlyZXR1cm4gITA7aWYoTmwodCxpLHIpKXJldHVybiAhMH1yZXR1cm4gITF9KHMsbixvKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuICEwfX0sc3ltYm9sOmtnLGJhY2tncm91bmQ6Y2xhc3MgZXh0ZW5kcyBzc3tjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxFZyxlLHIpO31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCJdfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKHQsZSl7cmV0dXJuIHtvdmVycmlkZUZvZzohMX19fSxyYXN0ZXI6T2csXCJyYXN0ZXItcGFydGljbGVcIjpxZyxza3k6Y2xhc3MgZXh0ZW5kcyBzc3tjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxZZyxlLHIpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCl7XCJza3ktZ3JhZGllbnRcIj09PXQ/dGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk6XCJza3ktYXRtb3NwaGVyZS1zdW5cIiE9PXQmJlwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiIT09dCYmXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiIT09dCYmXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIhPT10fHwodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWQ9ITApO31fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9QXAoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wic2t5LWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb24sZXZhbHVhdGlvbktleTpcInNreVJhZGlhbFByb2dyZXNzXCJ9KSx0aGlzLmNvbG9yUmFtcFRleHR1cmUmJih0aGlzLmNvbG9yUmFtcFRleHR1cmUuZGVzdHJveSgpLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsKTt9bmVlZHNTa3lib3hDYXB0dXJlKHQpe2lmKHRoaXMuX3NreWJveEludmFsaWRhdGVkfHwhdGhpcy5za3lib3hUZXh0dXJlfHwhdGhpcy5za3lib3hHZW9tZXRyeSlyZXR1cm4gITA7aWYoIXRoaXMucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuXCIpKXtjb25zdCBlPXQuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gdGhpcy5fbGlnaHRQb3NpdGlvbi5hemltdXRoYWwhPT1lLmF6aW11dGhhbHx8dGhpcy5fbGlnaHRQb3NpdGlvbi5wb2xhciE9PWUucG9sYXJ9cmV0dXJuICExfWdldENlbnRlcih0LGUpe2lmKFwiYXRtb3NwaGVyZVwiPT09dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKSl7Y29uc3Qgcj10aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSxuPSFyLGk9dC5zdHlsZS5saWdodCxhPWkucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gbiYmXCJ2aWV3cG9ydFwiPT09aS5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmaihcIlRoZSBzdW4gZGlyZWN0aW9uIGlzIGF0dGFjaGVkIHRvIGEgbGlnaHQgd2l0aCB2aWV3cG9ydCBhbmNob3IsIGxpZ2h0aW5nIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5LlwiKSxuP1hnKGEuYXppbXV0aGFsLDkwLWEucG9sYXIsZSk6WGcoclswXSw5MC1yWzFdLGUpfWNvbnN0IHI9dGhpcy5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtY2VudGVyXCIpO3JldHVybiBYZyhyWzBdLDkwLXJbMV0sZSl9aXNTa3koKXtyZXR1cm4gITB9bWFya1NreWJveFZhbGlkKHQpe3RoaXMuX3NreWJveEludmFsaWRhdGVkPSExLHRoaXMuX2xpZ2h0UG9zaXRpb249dC5zdHlsZS5saWdodC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpO31oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuICEwfWdldFByb2dyYW1JZHMoKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KFwic2t5LXR5cGVcIik7cmV0dXJuIFwiYXRtb3NwaGVyZVwiPT09dD9bXCJza3lib3hDYXB0dXJlXCIsXCJza3lib3hcIl06XCJncmFkaWVudFwiPT09dD9bXCJza3lib3hHcmFkaWVudFwiXTpudWxsfX0sc2xvdDpjbGFzcyBleHRlbmRzIHNze2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LFpnLGUpO319LG1vZGVsOmNsYXNzIGV4dGVuZHMgc3N7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKHQseXgsZSxyKSx0aGlzLl9zdGF0cz17bnVtUmVuZGVyZWRWZXJ0aWNlc0luU2hhZG93UGFzczowLG51bVJlbmRlcmVkVmVydGljZXNJblRyYW5zcGFyZW50UGFzczowfTt9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgZHgodCl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJtb2RlbFwiXX1pczNEKCl7cmV0dXJuICEwfWhhc1NoYWRvd1Bhc3MoKXtyZXR1cm4gITB9Y2FuQ2FzdFNoYWRvd3MoKXtyZXR1cm4gITB9aGFzTGlnaHRCZWFtUGFzcygpe3JldHVybiAhMH1jdXRvZmZSYW5nZSgpe3JldHVybiB0aGlzLnBhaW50LmdldChcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCIpfXF1ZXJ5UmFkaXVzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgUHY/VHItMTowfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSxyLG4saSxhLHMpe2lmKCF0aGlzLm1vZGVsTWFuYWdlcilyZXR1cm4gITE7Y29uc3Qgbz10aGlzLm1vZGVsTWFuYWdlcixsPWUudGlsZS5nZXRCdWNrZXQodGhpcyk7aWYoIShsJiZsIGluc3RhbmNlb2YgZHgpKXJldHVybiAhMTtjb25zdCB1PWw7Zm9yKGNvbnN0IG4gaW4gdS5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3QgaT11Lmluc3RhbmNlc1Blck1vZGVsW25dO2lmKGkuaWRUb0ZlYXR1cmVzSW5kZXguaGFzT3duUHJvcGVydHkoci5pZCkpe2NvbnN0IGE9aS5mZWF0dXJlc1tpLmlkVG9GZWF0dXJlc0luZGV4W3IuaWRdXSxsPW8uZ2V0TW9kZWwobix0aGlzLnNjb3BlKTtpZighbClyZXR1cm4gITE7bGV0IGM9dC5hNi5jcmVhdGUoKTtjb25zdCBoPW5ldyB0bCgwLDApLHA9dS5jYW5vbmljYWw7bGV0IGY9TnVtYmVyLk1BWF9WQUxVRTtmb3IobGV0IHI9MDtyPGEuaW5zdGFuY2VkRGF0YUNvdW50Oysrcil7Y29uc3Qgbj0xNiooYS5pbnN0YW5jZWREYXRhT2Zmc2V0K3IpLG89aS5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMix1PVtvW24rNF0sb1tuKzVdLG9bbis2XV07QnYocCxoLG9bbl0sMHxvW24rMV0pLHZ4KGMsbCxzLGgsYS5yb3RhdGlvbixhLnNjYWxlLHUsITEsITEsITEpLFwiZ2xvYmVcIj09PXMucHJvamVjdGlvbi5uYW1lJiYoYz1ueChjLHMpKTtjb25zdCBkPXQuYTYubXVsdGlwbHkoW10scy5wcm9qTWF0cml4LGMpLG09ZS5xdWVyeUdlb21ldHJ5LHk9aXgobS5pc1BvaW50UXVlcnkoKT9tLnNjcmVlbkJvdW5kczptLnNjcmVlbkdlb21ldHJ5LHMsZCxsLmFhYmIpO251bGwhPXkmJihmPU1hdGgubWluKHksZikpO31yZXR1cm4gZiE9PU51bWJlci5NQVhfVkFMVUUmJmZ9fXJldHVybiAhMX1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKHQsZSxyKXtyZXR1cm4gISghdGhpcy5sYXlvdXR8fGUuaXNEYXRhRHJpdmVuKCl8fHIuaXNEYXRhRHJpdmVuKCl8fFwibW9kZWwtY29sb3JcIiE9PXQmJlwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiIT09dCYmXCJtb2RlbC1yb3RhdGlvblwiIT09dCYmXCJtb2RlbC1zY2FsZVwiIT09dCYmXCJtb2RlbC10cmFuc2xhdGlvblwiIT09dCYmXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiIT09dCl9X2lzUHJvcGVydHlab29tRGVwZW5kZW50KHQpe2NvbnN0IGU9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdO3JldHVybiBudWxsIT1lJiZudWxsIT1lLnZhbHVlJiZudWxsIT1lLnZhbHVlLmV4cHJlc3Npb24mJmUudmFsdWUuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFhpfWlzWm9vbURlcGVuZGVudCgpe3JldHVybiB0aGlzLl9pc1Byb3BlcnR5Wm9vbURlcGVuZGVudChcIm1vZGVsLXNjYWxlXCIpfHx0aGlzLl9pc1Byb3BlcnR5Wm9vbURlcGVuZGVudChcIm1vZGVsLXJvdGF0aW9uXCIpfHx0aGlzLl9pc1Byb3BlcnR5Wm9vbURlcGVuZGVudChcIm1vZGVsLXRyYW5zbGF0aW9uXCIpfXF1ZXJ5SW50ZXJzZWN0c01hdGNoaW5nRmVhdHVyZShlLHIsbixpKXtjb25zdCBhPWUudGlsZSxzPWEuZ2V0QnVja2V0KHRoaXMpO2xldCBvPW51bGwsbD1OdW1iZXIuTUFYX1ZBTFVFO2lmKCEocyYmcyBpbnN0YW5jZW9mIFB2KSlyZXR1cm4ge3F1ZXJ5RmVhdHVyZTpvLGludGVyc2VjdGlvblo6bH07Y29uc3QgdT1zLmdldE5vZGVzSW5mbygpW3JdO2lmKHUuaGlkZGVuQnlSZXBsYWNlbWVudHx8IXUubm9kZS5tZXNoZXN8fCFuLmZpbHRlcihuZXcgUGEoYS50aWxlSUQub3ZlcnNjYWxlZFopLHUuZmVhdHVyZSxhLnRpbGVJRC5jYW5vbmljYWwpKXJldHVybiB7cXVlcnlGZWF0dXJlOm8saW50ZXJzZWN0aW9uWjpsfTtjb25zdCBjPXUubm9kZSxoPWkuY2FsY3VsYXRlUG9zTWF0cml4KGEudGlsZUlELnRvVW53cmFwcGVkKCksaS53b3JsZFNpemUpLHA9dS5ldmFsdWF0ZWRTY2FsZTtsZXQgZj0wO2kuZWxldmF0aW9uJiZjLmVsZXZhdGlvbiYmKGY9Yy5lbGV2YXRpb24qaS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkpLHQuYTYudHJhbnNsYXRlKGgsaCxbKGMuYW5jaG9yP2MuYW5jaG9yWzBdOjApKihwWzBdLTEpLChjLmFuY2hvcj9jLmFuY2hvclsxXTowKSoocFsxXS0xKSxmXSksdC5hNi5zY2FsZShoLGgscCksdC5hNi5tdWx0aXBseShoLGgsYy5tYXRyaXgpO2NvbnN0IGQ9ZS5xdWVyeUdlb21ldHJ5LG09ZC5pc1BvaW50UXVlcnkoKT9kLnNjcmVlbkJvdW5kczpkLnNjcmVlbkdlb21ldHJ5LHk9ZnVuY3Rpb24oZSl7Y29uc3Qgcj10LmE2Lm11bHRpcGx5KFtdLGgsZS5tYXRyaXgpLG49dC5hNi5tdWx0aXBseShyLGkuZXhwYW5kZWRGYXJaUHJvak1hdHJpeCxyKTtmb3IobGV0IHQ9MDt0PGUubWVzaGVzLmxlbmd0aDsrK3Qpe2NvbnN0IHI9ZS5tZXNoZXNbdF07aWYodD09PWUubGlnaHRNZXNoSW5kZXgpY29udGludWU7Y29uc3QgYT1peChtLGksbixyLmFhYmIpO251bGwhPWEmJihsPU1hdGgubWluKGEsbCkpO31pZihlLmNoaWxkcmVuKWZvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4peSh0KTt9O2lmKHkoYyksbD09PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIHtxdWVyeUZlYXR1cmU6byxpbnRlcnNlY3Rpb25aOmx9O2NvbnN0IGc9bmV3IHRsKDAsMCk7cmV0dXJuIEJ2KGEudGlsZUlELmNhbm9uaWNhbCxnLHUubm9kZS5hbmNob3JbMF0sdS5ub2RlLmFuY2hvclsxXSksbz17dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6W2cubG5nLGcubGF0XX0scHJvcGVydGllczp1LmZlYXR1cmUucHJvcGVydGllcyxpZDp1LmZlYXR1cmUuaWQsc3RhdGU6e30sbGF5ZXI6dGhpcy5zZXJpYWxpemUoKX0se3F1ZXJ5RmVhdHVyZTpvLGludGVyc2VjdGlvblo6bH19fX0sUnY9e3JlYWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2Ll9yZWFkRmllbGQse2hlYWRlcl9sZW5ndGg6MCx4OjAseTowLHo6MCxsYXllcnM6W119LGUpfSxfcmVhZEZpZWxkOmZ1bmN0aW9uKHQsZSxyKXsxPT09dD9lLmhlYWRlcl9sZW5ndGg9ci5yZWFkRml4ZWQzMigpOjI9PT10P2UueD1yLnJlYWRWYXJpbnQoKTozPT09dD9lLnk9ci5yZWFkVmFyaW50KCk6ND09PXQ/ZS56PXIucmVhZFZhcmludCgpOjU9PT10JiZlLmxheWVycy5wdXNoKFJ2LkxheWVyLnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcykpO30sUGl4ZWxGb3JtYXQ6e1BJWEVMX0ZPUk1BVF9VTktOT1dOOnt2YWx1ZTowLG9wdGlvbnM6e319LFBJWEVMX0ZPUk1BVF9VSU5UMzI6e3ZhbHVlOjEsb3B0aW9uczp7fX0sUElYRUxfRk9STUFUX1VJTlQxNjp7dmFsdWU6MixvcHRpb25zOnt9fSxQSVhFTF9GT1JNQVRfVUlOVDg6e3ZhbHVlOjMsb3B0aW9uczp7fX19LEZpbHRlcjp7fX07UnYuRmlsdGVyLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2LkZpbHRlci5fcmVhZEZpZWxkLHtkZWx0YV9maWx0ZXI6bnVsbCxmaWx0ZXI6bnVsbCx6aWd6YWdfZmlsdGVyOm51bGwsYml0c2h1ZmZsZV9maWx0ZXI6bnVsbCxieXRlc2h1ZmZsZV9maWx0ZXI6bnVsbH0sZSl9LFJ2LkZpbHRlci5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXsxPT09dD8oZS5kZWx0YV9maWx0ZXI9UnYuRmlsdGVyLkRlbHRhLnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcyksZS5maWx0ZXI9XCJkZWx0YV9maWx0ZXJcIik6Mj09PXQ/KGUuemlnemFnX2ZpbHRlcj1Sdi5GaWx0ZXIuWmlnemFnLnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcyksZS5maWx0ZXI9XCJ6aWd6YWdfZmlsdGVyXCIpOjM9PT10PyhlLmJpdHNodWZmbGVfZmlsdGVyPVJ2LkZpbHRlci5CaXRTaHVmZmxlLnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcyksZS5maWx0ZXI9XCJiaXRzaHVmZmxlX2ZpbHRlclwiKTo0PT09dCYmKGUuYnl0ZXNodWZmbGVfZmlsdGVyPVJ2LkZpbHRlci5CeXRlU2h1ZmZsZS5yZWFkKHIsci5yZWFkVmFyaW50KCkrci5wb3MpLGUuZmlsdGVyPVwiYnl0ZXNodWZmbGVfZmlsdGVyXCIpO30sUnYuRmlsdGVyLkRlbHRhPXt9LFJ2LkZpbHRlci5EZWx0YS5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZEZpZWxkcyhSdi5GaWx0ZXIuRGVsdGEuX3JlYWRGaWVsZCx7YmxvY2tfc2l6ZTowfSxlKX0sUnYuRmlsdGVyLkRlbHRhLl9yZWFkRmllbGQ9ZnVuY3Rpb24odCxlLHIpezE9PT10JiYoZS5ibG9ja19zaXplPXIucmVhZFZhcmludCgpKTt9LFJ2LkZpbHRlci5aaWd6YWc9e30sUnYuRmlsdGVyLlppZ3phZy5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZEZpZWxkcyhSdi5GaWx0ZXIuWmlnemFnLl9yZWFkRmllbGQse30sZSl9LFJ2LkZpbHRlci5aaWd6YWcuX3JlYWRGaWVsZD1mdW5jdGlvbih0LGUscil7fSxSdi5GaWx0ZXIuQml0U2h1ZmZsZT17fSxSdi5GaWx0ZXIuQml0U2h1ZmZsZS5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZEZpZWxkcyhSdi5GaWx0ZXIuQml0U2h1ZmZsZS5fcmVhZEZpZWxkLHt9LGUpfSxSdi5GaWx0ZXIuQml0U2h1ZmZsZS5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXt9LFJ2LkZpbHRlci5CeXRlU2h1ZmZsZT17fSxSdi5GaWx0ZXIuQnl0ZVNodWZmbGUucmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlYWRGaWVsZHMoUnYuRmlsdGVyLkJ5dGVTaHVmZmxlLl9yZWFkRmllbGQse30sZSl9LFJ2LkZpbHRlci5CeXRlU2h1ZmZsZS5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXt9LFJ2LkNvZGVjPXt9LFJ2LkNvZGVjLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2LkNvZGVjLl9yZWFkRmllbGQse2d6aXBfZGF0YTpudWxsLGNvZGVjOm51bGwsanBlZ19pbWFnZTpudWxsLHdlYnBfaW1hZ2U6bnVsbCxwbmdfaW1hZ2U6bnVsbH0sZSl9LFJ2LkNvZGVjLl9yZWFkRmllbGQ9ZnVuY3Rpb24odCxlLHIpezE9PT10PyhlLmd6aXBfZGF0YT1Sdi5Db2RlYy5HemlwRGF0YS5yZWFkKHIsci5yZWFkVmFyaW50KCkrci5wb3MpLGUuY29kZWM9XCJnemlwX2RhdGFcIik6Mj09PXQ/KGUuanBlZ19pbWFnZT1Sdi5Db2RlYy5KcGVnSW1hZ2UucmVhZChyLHIucmVhZFZhcmludCgpK3IucG9zKSxlLmNvZGVjPVwianBlZ19pbWFnZVwiKTozPT09dD8oZS53ZWJwX2ltYWdlPVJ2LkNvZGVjLldlYnBJbWFnZS5yZWFkKHIsci5yZWFkVmFyaW50KCkrci5wb3MpLGUuY29kZWM9XCJ3ZWJwX2ltYWdlXCIpOjQ9PT10JiYoZS5wbmdfaW1hZ2U9UnYuQ29kZWMuUG5nSW1hZ2UucmVhZChyLHIucmVhZFZhcmludCgpK3IucG9zKSxlLmNvZGVjPVwicG5nX2ltYWdlXCIpO30sUnYuQ29kZWMuR3ppcERhdGE9e30sUnYuQ29kZWMuR3ppcERhdGEucmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlYWRGaWVsZHMoUnYuQ29kZWMuR3ppcERhdGEuX3JlYWRGaWVsZCx7fSxlKX0sUnYuQ29kZWMuR3ppcERhdGEuX3JlYWRGaWVsZD1mdW5jdGlvbih0LGUscil7fSxSdi5Db2RlYy5KcGVnSW1hZ2U9e30sUnYuQ29kZWMuSnBlZ0ltYWdlLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2LkNvZGVjLkpwZWdJbWFnZS5fcmVhZEZpZWxkLHt9LGUpfSxSdi5Db2RlYy5KcGVnSW1hZ2UuX3JlYWRGaWVsZD1mdW5jdGlvbih0LGUscil7fSxSdi5Db2RlYy5XZWJwSW1hZ2U9e30sUnYuQ29kZWMuV2VicEltYWdlLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2LkNvZGVjLldlYnBJbWFnZS5fcmVhZEZpZWxkLHt9LGUpfSxSdi5Db2RlYy5XZWJwSW1hZ2UuX3JlYWRGaWVsZD1mdW5jdGlvbih0LGUscil7fSxSdi5Db2RlYy5QbmdJbWFnZT17fSxSdi5Db2RlYy5QbmdJbWFnZS5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZEZpZWxkcyhSdi5Db2RlYy5QbmdJbWFnZS5fcmVhZEZpZWxkLHt9LGUpfSxSdi5Db2RlYy5QbmdJbWFnZS5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXt9LFJ2LkRhdGFJbmRleEVudHJ5PXt9LFJ2LkRhdGFJbmRleEVudHJ5LnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKFJ2LkRhdGFJbmRleEVudHJ5Ll9yZWFkRmllbGQse2ZpcnN0X2J5dGU6MCxsYXN0X2J5dGU6MCxmaWx0ZXJzOltdLGNvZGVjOm51bGwsb2Zmc2V0OjAsc2NhbGU6MCxiYW5kczpbXX0sZSl9LFJ2LkRhdGFJbmRleEVudHJ5Ll9yZWFkRmllbGQ9ZnVuY3Rpb24odCxlLHIpezE9PT10P2UuZmlyc3RfYnl0ZT1yLnJlYWRGaXhlZDY0KCk6Mj09PXQ/ZS5sYXN0X2J5dGU9ci5yZWFkRml4ZWQ2NCgpOjM9PT10P2UuZmlsdGVycy5wdXNoKFJ2LkZpbHRlci5yZWFkKHIsci5yZWFkVmFyaW50KCkrci5wb3MpKTo0PT09dD9lLmNvZGVjPVJ2LkNvZGVjLnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcyk6NT09PXQ/ZS5vZmZzZXQ9ci5yZWFkRmxvYXQoKTo2PT09dD9lLnNjYWxlPXIucmVhZEZsb2F0KCk6Nz09PXQmJmUuYmFuZHMucHVzaChyLnJlYWRTdHJpbmcoKSk7fSxSdi5MYXllcj17fSxSdi5MYXllci5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZEZpZWxkcyhSdi5MYXllci5fcmVhZEZpZWxkLHt2ZXJzaW9uOjAsbmFtZTpcIlwiLHVuaXRzOlwiXCIsdGlsZXNpemU6MCxidWZmZXI6MCxwaXhlbF9mb3JtYXQ6MCxkYXRhX2luZGV4OltdfSxlKX0sUnYuTGF5ZXIuX3JlYWRGaWVsZD1mdW5jdGlvbih0LGUscil7MT09PXQ/ZS52ZXJzaW9uPXIucmVhZFZhcmludCgpOjI9PT10P2UubmFtZT1yLnJlYWRTdHJpbmcoKTozPT09dD9lLnVuaXRzPXIucmVhZFN0cmluZygpOjQ9PT10P2UudGlsZXNpemU9ci5yZWFkVmFyaW50KCk6NT09PXQ/ZS5idWZmZXI9ci5yZWFkVmFyaW50KCk6Nj09PXQ/ZS5waXhlbF9mb3JtYXQ9ci5yZWFkVmFyaW50KCk6Nz09PXQmJmUuZGF0YV9pbmRleC5wdXNoKFJ2LkRhdGFJbmRleEVudHJ5LnJlYWQocixyLnJlYWRWYXJpbnQoKStyLnBvcykpO307Y29uc3QgRHY9e3JlYWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKER2Ll9yZWFkRmllbGQse3VpbnQzMl92YWx1ZXM6bnVsbCx2YWx1ZXM6bnVsbCxmaXhlZDMyX3ZhbHVlczpudWxsfSxlKX0sX3JlYWRGaWVsZDpmdW5jdGlvbih0LGUscil7Mj09PXQ/KGUudWludDMyX3ZhbHVlcz1Edi5VaW50MzJWYWx1ZXMucmVhZChyLHIucmVhZFZhcmludCgpK3IucG9zKSxlLnZhbHVlcz1cInVpbnQzMl92YWx1ZXNcIik6Mz09PXQmJihlLmZpeGVkMzJfdmFsdWVzPUR2LkZpeGVkMzJWYWx1ZXMucmVhZChyLHIucmVhZFZhcmludCgpK3IucG9zKSxlLnZhbHVlcz1cImZpeGVkMzJfdmFsdWVzXCIpO30sVWludDMyVmFsdWVzOnt9fTtEdi5VaW50MzJWYWx1ZXMucmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnJlYWRGaWVsZHMoRHYuVWludDMyVmFsdWVzLl9yZWFkRmllbGQse3ZhbHVlczpbXX0sZSl9LER2LlVpbnQzMlZhbHVlcy5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXsxPT09dCYmKGUucmVhZFZhbHVlc0ludG89ZnVuY3Rpb24odCl7aWYoMiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBiZiB0eXBlIFwiJHt0LnR5cGV9XCJgKTtjb25zdCBlPWZ1bmN0aW9uKHQpe3JldHVybiAyPT09dC50eXBlP3QucmVhZFZhcmludCgpK3QucG9zOnQucG9zKzF9KHQpLHI9dC5wb3M7cmV0dXJuIHQucG9zPWUsZnVuY3Rpb24obil7dC5wb3M9cjtsZXQgaT0wO2Zvcig7dC5wb3M8ZTspe2NvbnN0IGU9dC5yZWFkVmFyaW50KCk7bltpKytdPWU7fXJldHVybiBufX0ocikpO30sRHYuRml4ZWQzMlZhbHVlcz17fSxEdi5GaXhlZDMyVmFsdWVzLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkRmllbGRzKER2LkZpeGVkMzJWYWx1ZXMuX3JlYWRGaWVsZCx7dmFsdWVzOltdfSxlKX0sRHYuRml4ZWQzMlZhbHVlcy5fcmVhZEZpZWxkPWZ1bmN0aW9uKHQsZSxyKXt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9O1xuLyoqXG4gKiB0aW55LWxydVxuICpcbiAqIEBjb3B5cmlnaHQgMjAyMyBKYXNvbiBNdWxsaWdhbiA8amFzb24ubXVsbGlnYW5AYXZvaWR3b3JrLmNvbT5cbiAqIEBsaWNlbnNlIEJTRC0zLUNsYXVzZVxuICogQHZlcnNpb24gMTEuMi41XG4gKi9cbmNsYXNzIFZ2e2NvbnN0cnVjdG9yKHQ9MCxlPTAscj0hMSl7dGhpcy5maXJzdD1udWxsLHRoaXMuaXRlbXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmxhc3Q9bnVsbCx0aGlzLm1heD10LHRoaXMucmVzZXRUdGw9cix0aGlzLnNpemU9MCx0aGlzLnR0bD1lO31jbGVhcigpe3JldHVybiB0aGlzLmZpcnN0PW51bGwsdGhpcy5pdGVtcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMubGFzdD1udWxsLHRoaXMuc2l6ZT0wLHRoaXN9ZGVsZXRlKHQpe2lmKHRoaXMuaGFzKHQpKXtjb25zdCBlPXRoaXMuaXRlbXNbdF07ZGVsZXRlIHRoaXMuaXRlbXNbdF0sdGhpcy5zaXplLS0sbnVsbCE9PWUucHJldiYmKGUucHJldi5uZXh0PWUubmV4dCksbnVsbCE9PWUubmV4dCYmKGUubmV4dC5wcmV2PWUucHJldiksdGhpcy5maXJzdD09PWUmJih0aGlzLmZpcnN0PWUubmV4dCksdGhpcy5sYXN0PT09ZSYmKHRoaXMubGFzdD1lLnByZXYpO31yZXR1cm4gdGhpc31lbnRyaWVzKHQ9dGhpcy5rZXlzKCkpe3JldHVybiB0Lm1hcCgodD0+W3QsdGhpcy5nZXQodCldKSl9ZXZpY3QodD0hMSl7aWYodHx8dGhpcy5zaXplPjApe2NvbnN0IHQ9dGhpcy5maXJzdDtkZWxldGUgdGhpcy5pdGVtc1t0LmtleV0sMD09LS10aGlzLnNpemU/KHRoaXMuZmlyc3Q9bnVsbCx0aGlzLmxhc3Q9bnVsbCk6KHRoaXMuZmlyc3Q9dC5uZXh0LHRoaXMuZmlyc3QucHJldj1udWxsKTt9cmV0dXJuIHRoaXN9ZXhwaXJlc0F0KHQpe2xldCBlO3JldHVybiB0aGlzLmhhcyh0KSYmKGU9dGhpcy5pdGVtc1t0XS5leHBpcnkpLGV9Z2V0KHQpe2xldCBlO2lmKHRoaXMuaGFzKHQpKXtjb25zdCByPXRoaXMuaXRlbXNbdF07dGhpcy50dGw+MCYmci5leHBpcnk8PURhdGUubm93KCk/dGhpcy5kZWxldGUodCk6KGU9ci52YWx1ZSx0aGlzLnNldCh0LGUsITApKTt9cmV0dXJuIGV9aGFzKHQpe3JldHVybiB0IGluIHRoaXMuaXRlbXN9a2V5cygpe2NvbnN0IHQ9W107bGV0IGU9dGhpcy5maXJzdDtmb3IoO251bGwhPT1lOyl0LnB1c2goZS5rZXkpLGU9ZS5uZXh0O3JldHVybiB0fXNldCh0LGUscj0hMSxuPXRoaXMucmVzZXRUdGwpe2xldCBpO2lmKHJ8fHRoaXMuaGFzKHQpKXtpZihpPXRoaXMuaXRlbXNbdF0saS52YWx1ZT1lLCExPT09ciYmbiYmKGkuZXhwaXJ5PXRoaXMudHRsPjA/RGF0ZS5ub3coKSt0aGlzLnR0bDp0aGlzLnR0bCksdGhpcy5sYXN0IT09aSl7Y29uc3QgdD10aGlzLmxhc3QsZT1pLm5leHQscj1pLnByZXY7dGhpcy5maXJzdD09PWkmJih0aGlzLmZpcnN0PWkubmV4dCksaS5uZXh0PW51bGwsaS5wcmV2PXRoaXMubGFzdCx0Lm5leHQ9aSxudWxsIT09ciYmKHIubmV4dD1lKSxudWxsIT09ZSYmKGUucHJldj1yKTt9fWVsc2UgdGhpcy5tYXg+MCYmdGhpcy5zaXplPT09dGhpcy5tYXgmJnRoaXMuZXZpY3QoITApLGk9dGhpcy5pdGVtc1t0XT17ZXhwaXJ5OnRoaXMudHRsPjA/RGF0ZS5ub3coKSt0aGlzLnR0bDp0aGlzLnR0bCxrZXk6dCxwcmV2OnRoaXMubGFzdCxuZXh0Om51bGwsdmFsdWU6ZX0sMT09Kyt0aGlzLnNpemU/dGhpcy5maXJzdD1pOnRoaXMubGFzdC5uZXh0PWk7cmV0dXJuIHRoaXMubGFzdD1pLHRoaXN9dmFsdWVzKHQ9dGhpcy5rZXlzKCkpe3JldHVybiB0Lm1hcCgodD0+dGhpcy5nZXQodCkpKX19ZnVuY3Rpb24gTHYodCxlKXtpZig0IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBkYXRhIG9mIGRpbWVuc2lvbiA0IGJ1dCBnb3QgJHtlLmxlbmd0aH0uYCk7bGV0IHI9ZVszXTtmb3IobGV0IG49MjtuPj0xO24tLSl7Y29uc3QgaT0xPT09bj8xOjAsYT0yPT09bj8xOjA7Zm9yKGxldCBuPTA7bjxlWzBdO24rKyl7Y29uc3Qgcz1lWzFdKm47Zm9yKGxldCBuPWk7bjxlWzFdO24rKyl7Y29uc3QgaT1lWzJdKihuK3MpO2ZvcihsZXQgbj1hO248ZVsyXTtuKyspe2NvbnN0IGE9ZVszXSoobitpKTtmb3IobGV0IG49MDtuPGVbM107bisrKXtjb25zdCBlPWErbjt0W2VdKz10W2Utcl07fX19fXIqPWVbbl07fXJldHVybiB0fWZ1bmN0aW9uIEZ2KHQpe2ZvcihsZXQgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrKyl0W2VdPXRbZV0+Pj4xXi0oMSZ0W2VdKTtyZXR1cm4gdH1mdW5jdGlvbiBOdih0LGUpe3N3aXRjaChlKXtjYXNlXCJ1aW50MzJcIjpyZXR1cm4gdDtjYXNlXCJ1aW50MTZcIjpmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTIpe2NvbnN0IHI9dFtlXSxuPXRbZSsxXTt0W2VdPSgyNDAmcik+PjR8KDYxNDQwJnIpPj44fCgyNDAmbik8PDR8NjE0NDAmbix0W2UrMV09MTUmcnwoMzg0MCZyKT4+NHwoMTUmbik8PDh8KDM4NDAmbik8PDQ7fXJldHVybiB0O2Nhc2VcInVpbnQ4XCI6Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKz00KXtjb25zdCByPXRbZV0sbj10W2UrMV0saT10W2UrMl0sYT10W2UrM107dFtlKzBdPSgxOTImcik+PjZ8KDE5MiZuKT4+NHwoMTkyJmkpPj4yfDE5MiZhLHRbZSsxXT0oNDgmcik+PjR8KDQ4Jm4pPj4yfDQ4Jml8KDQ4JmEpPDwyLHRbZSsyXT0oMTImcik+PjJ8MTImbnwoMTImaSk8PDJ8KDEyJmEpPDw0LHRbZSszXT0zJnJ8KDMmbik8PDJ8KDMmaSk8PDR8KDMmYSk8PDY7fXJldHVybiB0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBpeGVsIGZvcm1hdCwgXCIke2V9XCJgKX19Y2xhc3MgT3YgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLm5hbWU9XCJNUlRFcnJvclwiO319dmFyIFV2PVVpbnQ4QXJyYXksanY9VWludDE2QXJyYXkscXY9SW50MzJBcnJheSwkdj1uZXcgVXYoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLEd2PW5ldyBVdihbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxZdj1uZXcgVXYoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxYdj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcganYoMzEpLG49MDtuPDMxOysrbilyW25dPWUrPTE8PHRbbi0xXTt2YXIgaT1uZXcgcXYoclszMF0pO2ZvcihuPTE7bjwzMDsrK24pZm9yKHZhciBhPXJbbl07YTxyW24rMV07KythKWlbYV09YS1yW25dPDw1fG47cmV0dXJuIHtiOnIscjppfX0sWnY9WHYoJHYsMiksS3Y9WnYuYixIdj1adi5yO0t2WzI4XT0yNTgsSHZbMjU4XT0yODtmb3IodmFyIFd2PVh2KEd2LDApLmIsSnY9bmV3IGp2KDMyNzY4KSxRdj0wO1F2PDMyNzY4OysrUXYpe3ZhciB0Yj0oNDM2OTAmUXYpPj4xfCgyMTg0NSZRdik8PDE7SnZbUXZdPSgoNjUyODAmKHRiPSg2MTY4MCYodGI9KDUyNDI4JnRiKT4+MnwoMTMxMDcmdGIpPDwyKSk+PjR8KDM4NTUmdGIpPDw0KSk+Pjh8KDI1NSZ0Yik8PDgpPj4xO312YXIgZWI9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj10Lmxlbmd0aCxpPTAsYT1uZXcganYoZSk7aTxuOysraSl0W2ldJiYrK2FbdFtpXS0xXTt2YXIgcyxvPW5ldyBqdihlKTtmb3IoaT0xO2k8ZTsrK2kpb1tpXT1vW2ktMV0rYVtpLTFdPDwxO2lmKHIpe3M9bmV3IGp2KDE8PGUpO3ZhciBsPTE1LWU7Zm9yKGk9MDtpPG47KytpKWlmKHRbaV0pZm9yKHZhciB1PWk8PDR8dFtpXSxjPWUtdFtpXSxoPW9bdFtpXS0xXSsrPDxjLHA9aHwoMTw8YyktMTtoPD1wOysraClzW0p2W2hdPj5sXT11O31lbHNlIGZvcihzPW5ldyBqdihuKSxpPTA7aTxuOysraSl0W2ldJiYoc1tpXT1KdltvW3RbaV0tMV0rK10+PjE1LXRbaV0pO3JldHVybiBzfSxyYj1uZXcgVXYoMjg4KTtmb3IoUXY9MDtRdjwxNDQ7KytRdilyYltRdl09ODtmb3IoUXY9MTQ0O1F2PDI1NjsrK1F2KXJiW1F2XT05O2ZvcihRdj0yNTY7UXY8MjgwOysrUXYpcmJbUXZdPTc7Zm9yKFF2PTI4MDtRdjwyODg7KytRdilyYltRdl09ODt2YXIgbmI9bmV3IFV2KDMyKTtmb3IoUXY9MDtRdjwzMjsrK1F2KW5iW1F2XT01O3ZhciBpYj1lYihyYiw5LDEpLGFiPWViKG5iLDUsMSksc2I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF0scj0xO3I8dC5sZW5ndGg7KytyKXRbcl0+ZSYmKGU9dFtyXSk7cmV0dXJuIGV9LG9iPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lLzh8MDtyZXR1cm4gKHRbbl18dFtuKzFdPDw4KT4+KDcmZSkmcn0sbGI9ZnVuY3Rpb24odCxlKXt2YXIgcj1lLzh8MDtyZXR1cm4gKHRbcl18dFtyKzFdPDw4fHRbcisyXTw8MTYpPj4oNyZlKX0sdWI9W1widW5leHBlY3RlZCBFT0ZcIixcImludmFsaWQgYmxvY2sgdHlwZVwiLFwiaW52YWxpZCBsZW5ndGgvbGl0ZXJhbFwiLFwiaW52YWxpZCBkaXN0YW5jZVwiLFwic3RyZWFtIGZpbmlzaGVkXCIsXCJubyBzdHJlYW0gaGFuZGxlclwiLCxcIm5vIGNhbGxiYWNrXCIsXCJpbnZhbGlkIFVURi04IGRhdGFcIixcImV4dHJhIGZpZWxkIHRvbyBsb25nXCIsXCJkYXRlIG5vdCBpbiByYW5nZSAxOTgwLTIwOTlcIixcImZpbGVuYW1lIHRvbyBsb25nXCIsXCJzdHJlYW0gZmluaXNoaW5nXCIsXCJpbnZhbGlkIHppcCBkYXRhXCJdLGNiPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1uZXcgRXJyb3IoZXx8dWJbdF0pO2lmKG4uY29kZT10LEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShuLGNiKSwhcil0aHJvdyBuO3JldHVybiBufSxoYj1uZXcgVXYoMCkscGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgVGV4dERlY29kZXI7dHJ5e3BiLmRlY29kZShoYix7c3RyZWFtOiEwfSk7fWNhdGNoKHQpe31jb25zdCBmYj17Z3ppcF9kYXRhOlwiZ3ppcFwifTtjb25zdCBkYj17MDpcInVpbnQzMlwiLDE6XCJ1aW50MzJcIiwyOlwidWludDE2XCIsMzpcInVpbnQ4XCJ9LG1iPXt1aW50MzI6MSx1aW50MTY6Mix1aW50ODo0fSx5Yj17dWludDMyOlVpbnQzMkFycmF5LHVpbnQxNjpVaW50MTZBcnJheSx1aW50ODpVaW50OEFycmF5fTtjbGFzcyBnYntjb25zdHJ1Y3Rvcih0PTEpe3RoaXMueD1OYU4sdGhpcy55PU5hTix0aGlzLno9TmFOLHRoaXMubGF5ZXJzPXt9LHRoaXMuX2NhY2hlU2l6ZT10O31nZXRMYXllcih0KXtyZXR1cm4gdGhpcy5sYXllcnNbdF19Z2V0SGVhZGVyTGVuZ3RoKHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodCkscj1uZXcgRGF0YVZpZXcodCk7aWYoMTMhPT1lWzBdKXRocm93IG5ldyBPdihcIkZpbGUgaXMgbm90IGEgdmFsaWQgTVJULlwiKTtyZXR1cm4gci5nZXRVaW50MzIoMSwhMCl9cGFyc2VIZWFkZXIodCl7Y29uc3QgZT1uZXcgVWludDhBcnJheSh0KSxyPXRoaXMuZ2V0SGVhZGVyTGVuZ3RoKHQpO2lmKGUubGVuZ3RoPHIpdGhyb3cgbmV3IE92KGBFeHBlY3RlZCBoZWFkZXIgd2l0aCBsZW5ndGggPj0gJHtyfSBidXQgZ290IGJ1ZmZlciBvZiBsZW5ndGggJHtlLmxlbmd0aH1gKTtjb25zdCBuPW5ldyBWbShlLnN1YmFycmF5KDAscikpLGk9UnYucmVhZChuKTtpZighaXNOYU4odGhpcy54KSYmKHRoaXMueCE9PWkueHx8dGhpcy55IT09aS55fHx0aGlzLnohPT1pLnopKXRocm93IG5ldyBPdihgSW52YWxpZCBhdHRlbXB0IHRvIHBhcnNlIGhlYWRlciAke2kuen0vJHtpLnh9LyR7aS55fSBmb3IgdGlsZSAke3RoaXMuen0vJHt0aGlzLnh9LyR7dGhpcy55fWApO3RoaXMueD1pLngsdGhpcy55PWkueSx0aGlzLno9aS56O2Zvcihjb25zdCB0IG9mIGkubGF5ZXJzKXRoaXMubGF5ZXJzW3QubmFtZV09bmV3IHhiKHQse2NhY2hlU2l6ZTp0aGlzLl9jYWNoZVNpemV9KTtyZXR1cm4gdGhpc31jcmVhdGVEZWNvZGluZ1Rhc2sodCl7Y29uc3QgZT1bXSxyPXRoaXMuZ2V0TGF5ZXIodC5sYXllck5hbWUpO2ZvcihsZXQgbj0wO248ci5kYXRhSW5kZXgubGVuZ3RoO24rKyl7Y29uc3QgaT1yLmRhdGFJbmRleFtuXSxhPWkuZmlyc3RfYnl0ZS10LmZpcnN0Qnl0ZSxzPWkubGFzdF9ieXRlKzEtdC5maXJzdEJ5dGU7aWYobjx0LmZpcnN0QmxvY2t8fG4+dC5sYXN0QmxvY2spY29udGludWU7aWYoci5fYmxvY2tzSW5Qcm9ncmVzcy5oYXMobikpY29udGludWU7Y29uc3Qgbz17bGF5ZXJOYW1lOnIubmFtZSxmaXJzdEJ5dGU6YSxsYXN0Qnl0ZTpzLHBpeGVsRm9ybWF0OnIucGl4ZWxGb3JtYXQsYmxvY2tJbmRleDpuLGJsb2NrU2hhcGU6W2kuYmFuZHMubGVuZ3RoXS5jb25jYXQoci5iYW5kU2hhcGUpLGJ1ZmZlcjpyLmJ1ZmZlcixjb2RlYzppLmNvZGVjLmNvZGVjLGZpbHRlcnM6aS5maWx0ZXJzLm1hcCgodD0+dC5maWx0ZXIpKX07ci5fYmxvY2tzSW5Qcm9ncmVzcy5hZGQobiksZS5wdXNoKG8pO31yZXR1cm4gbmV3IHZiKGUsKCgpPT57ZS5mb3JFYWNoKCh0PT5yLl9ibG9ja3NJblByb2dyZXNzLmRlbGV0ZSh0LmJsb2NrSW5kZXgpKSk7fSksKCh0LG4pPT57aWYoZS5mb3JFYWNoKCh0PT5yLl9ibG9ja3NJblByb2dyZXNzLmRlbGV0ZSh0LmJsb2NrSW5kZXgpKSksdCl0aHJvdyB0O24uZm9yRWFjaCgodD0+e3RoaXMuZ2V0TGF5ZXIodC5sYXllck5hbWUpLnByb2Nlc3NEZWNvZGVkRGF0YSh0KTt9KSk7fSkpfX1jbGFzcyB4Yntjb25zdHJ1Y3Rvcih7dmVyc2lvbjp0LG5hbWU6ZSx1bml0czpyLHRpbGVzaXplOm4scGl4ZWxfZm9ybWF0OmksYnVmZmVyOmEsZGF0YV9pbmRleDpzfSxvKXtpZih0aGlzLnZlcnNpb249dCwxIT09dGhpcy52ZXJzaW9uKXRocm93IG5ldyBPdihgQ2Fubm90IHBhcnNlIHJhc3RlciBsYXllciBlbmNvZGVkIHdpdGggTVJUIHZlcnNpb24gJHt0fWApO3RoaXMubmFtZT1lLHRoaXMudW5pdHM9cix0aGlzLnRpbGVTaXplPW4sdGhpcy5idWZmZXI9YSx0aGlzLnBpeGVsRm9ybWF0PWRiW2ldLHRoaXMuZGF0YUluZGV4PXMsdGhpcy5iYW5kU2hhcGU9W24rMiphLG4rMiphLG1iW3RoaXMucGl4ZWxGb3JtYXRdXSx0aGlzLl9kZWNvZGVkQmxvY2tzPWZ1bmN0aW9uKHQ9MWUzLGU9MCxyPSExKXtpZihpc05hTih0KXx8dDwwKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG1heCB2YWx1ZVwiKTtpZihpc05hTihlKXx8ZTwwKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHR0bCB2YWx1ZVwiKTtpZihcImJvb2xlYW5cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgcmVzZXRUdGwgdmFsdWVcIik7cmV0dXJuIG5ldyBWdih0LGUscil9KG8/by5jYWNoZVNpemU6NSksdGhpcy5fYmxvY2tzSW5Qcm9ncmVzcz1uZXcgU2V0O31wcm9jZXNzRGVjb2RlZERhdGEodCl7Y29uc3QgZT10LmJsb2NrSW5kZXgudG9TdHJpbmcoKTt0aGlzLl9kZWNvZGVkQmxvY2tzLmdldChlKXx8dGhpcy5fZGVjb2RlZEJsb2Nrcy5zZXQoZSx0LmRhdGEpO31nZXRCbG9ja0ZvckJhbmQodCl7bGV0IGU9MDtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOmZvcihjb25zdFtyLG5db2YgdGhpcy5kYXRhSW5kZXguZW50cmllcygpKXtmb3IoY29uc3RbaSxhXW9mIG4uYmFuZHMuZW50cmllcygpKWlmKGE9PT10KXJldHVybiB7YmFuZEluZGV4OmUraSxibG9ja0luZGV4OnIsYmxvY2tCYW5kSW5kZXg6aX07ZSs9bi5iYW5kcy5sZW5ndGg7fWJyZWFrO2Nhc2VcIm51bWJlclwiOmZvcihjb25zdFtyLG5db2YgdGhpcy5kYXRhSW5kZXguZW50cmllcygpKXtpZih0Pj1lJiZ0PGUrbi5iYW5kcy5sZW5ndGgpcmV0dXJuIHtiYW5kSW5kZXg6dCxibG9ja0luZGV4OnIsYmxvY2tCYW5kSW5kZXg6dC1lfTtlKz1uLmJhbmRzLmxlbmd0aDt9YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgT3YoYEludmFsaWQgYmFuZCBcXGAke0pTT04uc3RyaW5naWZ5KHQpfVxcYC4gRXhwZWN0ZWQgc3RyaW5nIG9yIGludGVnZXIuYCl9dGhyb3cgbmV3IE92KGBCYW5kIG5vdCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh0KX1gKX1nZXREYXRhUmFuZ2UodCl7bGV0IGU9MS8wLHI9LTEvMCxuPTEvMCxpPS0xLzA7Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3R7YmxvY2tJbmRleDp0fT10aGlzLmdldEJsb2NrRm9yQmFuZChhKTtpZih0PDApdGhyb3cgbmV3IE92KGBJbnZhbGlkIGJhbmQ6ICR7SlNPTi5zdHJpbmdpZnkoYSl9YCk7Y29uc3Qgcz10aGlzLmRhdGFJbmRleFt0XTtuPU1hdGgubWluKG4sdCksaT1NYXRoLm1heChpLHQpLGU9TWF0aC5taW4oZSxzLmZpcnN0X2J5dGUpLHI9TWF0aC5tYXgocixzLmxhc3RfYnl0ZSk7fXJldHVybiB7bGF5ZXJOYW1lOnRoaXMubmFtZSxmaXJzdEJ5dGU6ZSxsYXN0Qnl0ZTpyLGZpcnN0QmxvY2s6bixsYXN0QmxvY2s6aX19aGFzQmFuZCh0KXtjb25zdHtibG9ja0luZGV4OmV9PXRoaXMuZ2V0QmxvY2tGb3JCYW5kKHQpO3JldHVybiBlPj0wfWhhc0RhdGFGb3JCYW5kKHQpe2NvbnN0e2Jsb2NrSW5kZXg6ZX09dGhpcy5nZXRCbG9ja0ZvckJhbmQodCk7cmV0dXJuIGU+PTAmJiEhdGhpcy5fZGVjb2RlZEJsb2Nrcy5nZXQoZS50b1N0cmluZygpKX1nZXRCYW5kVmlldyh0KXtjb25zdHtibG9ja0luZGV4OmUsYmxvY2tCYW5kSW5kZXg6cn09dGhpcy5nZXRCbG9ja0ZvckJhbmQodCksbj10aGlzLl9kZWNvZGVkQmxvY2tzLmdldChlLnRvU3RyaW5nKCkpO2lmKCFuKXRocm93IG5ldyBPdihgRGF0YSBmb3IgYmFuZCAke0pTT04uc3RyaW5naWZ5KHQpfSBvZiBsYXllciBcIiR7dGhpcy5uYW1lfVwiIG5vdCBkZWNvZGVkLmApO2NvbnN0IGk9dGhpcy5kYXRhSW5kZXhbZV0sYT10aGlzLmJhbmRTaGFwZS5yZWR1Y2UoKCh0LGUpPT50KmUpLDEpLHM9ciphLG89bi5zdWJhcnJheShzLHMrYSk7cmV0dXJuIHtkYXRhOm8sYnl0ZXM6bmV3IFVpbnQ4QXJyYXkoby5idWZmZXIpLnN1YmFycmF5KG8uYnl0ZU9mZnNldCxvLmJ5dGVPZmZzZXQrby5ieXRlTGVuZ3RoKSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLGJ1ZmZlcjp0aGlzLmJ1ZmZlcixvZmZzZXQ6aS5vZmZzZXQsc2NhbGU6aS5zY2FsZX19fWNsYXNzIHZie2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnRhc2tzPXQsdGhpcy5fb25DYW5jZWw9ZSx0aGlzLl9vbkNvbXBsZXRlPXIsdGhpcy5fZmluYWxpemVkPSExO31jYW5jZWwoKXt0aGlzLl9maW5hbGl6ZWR8fCh0aGlzLl9vbkNhbmNlbCgpLHRoaXMuX2ZpbmFsaXplZD0hMCk7fWNvbXBsZXRlKHQsZSl7dGhpcy5fZmluYWxpemVkfHwodGhpcy5fb25Db21wbGV0ZSh0LGUpLHRoaXMuX2ZpbmFsaXplZD0hMCk7fX1nYi5wZXJmb3JtRGVjb2Rpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gUHJvbWlzZS5hbGwoZS50YXNrcy5tYXAoKGU9Pntjb25zdHtsYXllck5hbWU6cixmaXJzdEJ5dGU6bixsYXN0Qnl0ZTppLHBpeGVsRm9ybWF0OmEsYmxvY2tTaGFwZTpzLGJsb2NrSW5kZXg6byxmaWx0ZXJzOmwsY29kZWM6dX09ZSxjPW5ldyBVaW50OEFycmF5KHQpLnN1YmFycmF5KG4saSsxKSxoPW5ldyBVaW50MzJBcnJheShzWzBdKnNbMV0qc1syXSk7bGV0IHA7aWYoXCJnemlwX2RhdGFcIiE9PXUpdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgY29kZWM6ICR7dX1gKTtyZXR1cm4gcD1mdW5jdGlvbih0LGUpe2lmKCFnbG9iYWxUaGlzLkRlY29tcHJlc3Npb25TdHJlYW0mJlwiZ3ppcF9kYXRhXCI9PT1lKXJldHVybiBQcm9taXNlLnJlc29sdmUoKChhPWZ1bmN0aW9uKHQpezMxPT10WzBdJiYxMzk9PXRbMV0mJjg9PXRbMl18fGNiKDYsXCJpbnZhbGlkIGd6aXAgZGF0YVwiKTt2YXIgZT10WzNdLHI9MTA7NCZlJiYocis9MisodFsxMF18dFsxMV08PDgpKTtmb3IodmFyIG49KGU+PjMmMSkrKGU+PjQmMSk7bj4wO24tPSF0W3IrK10pO3JldHVybiByKygyJmUpfShpPXQpKSs4PmkubGVuZ3RoJiZjYig2LFwiaW52YWxpZCBnemlwIGRhdGFcIiksZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dC5sZW5ndGg7aWYoIWl8fGUuZiYmIWUubClyZXR1cm4gcnx8bmV3IFV2KDApO3ZhciBhPSFyLHM9YXx8MiE9ZS5pLG89ZS5pO2EmJihyPW5ldyBVdigzKmkpKTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZT1yLmxlbmd0aDtpZih0PmUpe3ZhciBuPW5ldyBVdihNYXRoLm1heCgyKmUsdCkpO24uc2V0KHIpLHI9bjt9fSx1PWUuZnx8MCxjPWUucHx8MCxoPWUuYnx8MCxwPWUubCxmPWUuZCxkPWUubSxtPWUubix5PTgqaTtkb3tpZighcCl7dT1vYih0LGMsMSk7dmFyIGc9b2IodCxjKzEsMyk7aWYoYys9MywhZyl7dmFyIHg9dFsoRT00KygoYys3KS84fDApKS00XXx0W0UtM108PDgsdj1FK3g7aWYodj5pKXtvJiZjYigwKTticmVha31zJiZsKGgreCksci5zZXQodC5zdWJhcnJheShFLHYpLGgpLGUuYj1oKz14LGUucD1jPTgqdixlLmY9dTtjb250aW51ZX1pZigxPT1nKXA9aWIsZj1hYixkPTksbT01O2Vsc2UgaWYoMj09Zyl7dmFyIGI9b2IodCxjLDMxKSsyNTcsXz1vYih0LGMrMTAsMTUpKzQsdz1iK29iKHQsYys1LDMxKSsxO2MrPTE0O2Zvcih2YXIgTT1uZXcgVXYodyksQT1uZXcgVXYoMTkpLFM9MDtTPF87KytTKUFbWXZbU11dPW9iKHQsYyszKlMsNyk7Yys9MypfO3ZhciBJPXNiKEEpLGs9KDE8PEkpLTEsUD1lYihBLEksMSk7Zm9yKFM9MDtTPHc7KXt2YXIgRSx6PVBbb2IodCxjLGspXTtpZihjKz0xNSZ6LChFPXo+PjQpPDE2KU1bUysrXT1FO2Vsc2Uge3ZhciBUPTAsQj0wO2ZvcigxNj09RT8oQj0zK29iKHQsYywzKSxjKz0yLFQ9TVtTLTFdKToxNz09RT8oQj0zK29iKHQsYyw3KSxjKz0zKToxOD09RSYmKEI9MTErb2IodCxjLDEyNyksYys9Nyk7Qi0tOylNW1MrK109VDt9fXZhciBDPU0uc3ViYXJyYXkoMCxiKSxSPU0uc3ViYXJyYXkoYik7ZD1zYihDKSxtPXNiKFIpLHA9ZWIoQyxkLDEpLGY9ZWIoUixtLDEpO31lbHNlIGNiKDEpO2lmKGM+eSl7byYmY2IoMCk7YnJlYWt9fXMmJmwoaCsxMzEwNzIpO2Zvcih2YXIgRD0oMTw8ZCktMSxWPSgxPDxtKS0xLEw9Yzs7TD1jKXt2YXIgRj0oVD1wW2xiKHQsYykmRF0pPj40O2lmKChjKz0xNSZUKT55KXtvJiZjYigwKTticmVha31pZihUfHxjYigyKSxGPDI1NilyW2grK109RjtlbHNlIHtpZigyNTY9PUYpe0w9YyxwPW51bGw7YnJlYWt9dmFyIE49Ri0yNTQ7Rj4yNjQmJihOPW9iKHQsYywoMTw8KGo9JHZbUz1GLTI1N10pKS0xKStLdltTXSxjKz1qKTt2YXIgTz1mW2xiKHQsYykmVl0sVT1PPj40O2lmKE98fGNiKDMpLGMrPTE1Jk8sUj1XdltVXSxVPjMpe3ZhciBqPUd2W1VdO1IrPWxiKHQsYykmKDE8PGopLTEsYys9ajt9aWYoYz55KXtvJiZjYigwKTticmVha31zJiZsKGgrMTMxMDcyKTt2YXIgcT1oK047aWYoaDxSKXt2YXIgJD0wLVIsRz1NYXRoLm1pbihSLHEpO2ZvcigkK2g8MCYmY2IoMyk7aDxHOysraClyW2hdPW5bJCtoXTt9Zm9yKDtoPHE7KytoKXJbaF09cltoLVJdO319ZS5sPXAsZS5wPUwsZS5iPWgsZS5mPXUscCYmKHU9MSxlLm09ZCxlLmQ9ZixlLm49bSk7fXdoaWxlKCF1KTtyZXR1cm4gaCE9ci5sZW5ndGgmJmE/ZnVuY3Rpb24odCxlLHIpe3JldHVybiAobnVsbD09ZXx8ZTwwKSYmKGU9MCksKG51bGw9PXJ8fHI+dC5sZW5ndGgpJiYocj10Lmxlbmd0aCksbmV3IFV2KHQuc3ViYXJyYXkoZSxyKSl9KHIsMCxoKTpyLnN1YmFycmF5KDAsaCl9KGkuc3ViYXJyYXkoYSwtOCkse2k6Mn0sbmV3IFV2KCgocj1pKVsobj1yLmxlbmd0aCktNF18cltuLTNdPDw4fHJbbi0yXTw8MTZ8cltuLTFdPDwyNCk+Pj4wKSx2b2lkIDApKSk7dmFyIHIsbixpLGE7Y29uc3Qgcz1mYltlXTtpZighcyl0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjb2RlYzogJHtlfWApO2NvbnN0IG89bmV3IGdsb2JhbFRoaXMuRGVjb21wcmVzc2lvblN0cmVhbShzKTtyZXR1cm4gbmV3IFJlc3BvbnNlKG5ldyBCbG9iKFt0XSkuc3RyZWFtKCkucGlwZVRocm91Z2gobykpLmFycmF5QnVmZmVyKCkudGhlbigodD0+bmV3IFVpbnQ4QXJyYXkodCkpKX0oYyx1KS50aGVuKCh0PT57Y29uc3QgZT1Edi5yZWFkKG5ldyBWbSh0KSk7aWYoXCJ1aW50MzJfdmFsdWVzXCI9PT1lLnZhbHVlcylyZXR1cm4gZS51aW50MzJfdmFsdWVzLnJlYWRWYWx1ZXNJbnRvKGgpLG5ldygwLHliW2FdKShoLmJ1ZmZlcik7dGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgbnVtZXJpYyBkYXRhIFwiJHtlLnZhbHVlc31cImApfSkpLHAudGhlbigodD0+e2ZvcihsZXQgZT1sLmxlbmd0aC0xO2U+PTA7ZS0tKXN3aXRjaChsW2VdKXtjYXNlXCJkZWx0YV9maWx0ZXJcIjpMdih0LHMpO2JyZWFrO2Nhc2VcInppZ3phZ19maWx0ZXJcIjpGdih0KTticmVhaztjYXNlXCJiaXRzaHVmZmxlX2ZpbHRlclwiOk52KHQsYSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBmaWx0ZXIgXCIke2xbZV19XCJgKX1yZXR1cm4ge2xheWVyTmFtZTpyLGJsb2NrSW5kZXg6byxkYXRhOnR9fSkpLmNhdGNoKCh0PT57dGhyb3cgdH0pKX0pKSl9LHJhKHZiLFwiTVJURGVjb2RpbmdCYXRjaFwiLHtvbWl0OltcIl9vbkNhbmNlbFwiLFwiX29uQ29tcGxldGVcIl19KTtjb25zdCBiYj1bSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO2NsYXNzIF9ie3N0YXRpYyBmcm9tKHQpe2lmKCEodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQXJyYXlCdWZmZXIuXCIpO2NvbnN0W2Uscl09bmV3IFVpbnQ4QXJyYXkodCwwLDIpO2lmKDIxOSE9PWUpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgaW4gYSBLREJ1c2ggZm9ybWF0LlwiKTtjb25zdCBuPXI+PjQ7aWYoMSE9PW4pdGhyb3cgbmV3IEVycm9yKGBHb3QgdiR7bn0gZGF0YSB3aGVuIGV4cGVjdGVkIHYxLmApO2NvbnN0IGk9YmJbMTUmcl07aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGFycmF5IHR5cGUuXCIpO2NvbnN0W2FdPW5ldyBVaW50MTZBcnJheSh0LDIsMSksW3NdPW5ldyBVaW50MzJBcnJheSh0LDQsMSk7cmV0dXJuIG5ldyBfYihzLGEsaSx0KX1jb25zdHJ1Y3Rvcih0LGU9NjQscj1GbG9hdDY0QXJyYXksbil7aWYoaXNOYU4odCl8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoYFVucGV4cGVjdGVkIG51bUl0ZW1zIHZhbHVlOiAke3R9LmApO3RoaXMubnVtSXRlbXM9K3QsdGhpcy5ub2RlU2l6ZT1NYXRoLm1pbihNYXRoLm1heCgrZSwyKSw2NTUzNSksdGhpcy5BcnJheVR5cGU9cix0aGlzLkluZGV4QXJyYXlUeXBlPXQ8NjU1MzY/VWludDE2QXJyYXk6VWludDMyQXJyYXk7Y29uc3QgaT1iYi5pbmRleE9mKHRoaXMuQXJyYXlUeXBlKSxhPTIqdCp0aGlzLkFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCxzPXQqdGhpcy5JbmRleEFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCxvPSg4LXMlOCklODtpZihpPDApdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGVkIGFycmF5IGNsYXNzOiAke3J9LmApO24mJm4gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj8odGhpcy5kYXRhPW4sdGhpcy5pZHM9bmV3IHRoaXMuSW5kZXhBcnJheVR5cGUodGhpcy5kYXRhLDgsdCksdGhpcy5jb29yZHM9bmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSw4K3MrbywyKnQpLHRoaXMuX3Bvcz0yKnQsdGhpcy5fZmluaXNoZWQ9ITApOih0aGlzLmRhdGE9bmV3IEFycmF5QnVmZmVyKDgrYStzK28pLHRoaXMuaWRzPW5ldyB0aGlzLkluZGV4QXJyYXlUeXBlKHRoaXMuZGF0YSw4LHQpLHRoaXMuY29vcmRzPW5ldyB0aGlzLkFycmF5VHlwZSh0aGlzLmRhdGEsOCtzK28sMip0KSx0aGlzLl9wb3M9MCx0aGlzLl9maW5pc2hlZD0hMSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEsMCwyKS5zZXQoWzIxOSwxNitpXSksbmV3IFVpbnQxNkFycmF5KHRoaXMuZGF0YSwyLDEpWzBdPWUsbmV3IFVpbnQzMkFycmF5KHRoaXMuZGF0YSw0LDEpWzBdPXQpO31hZGQodCxlKXtjb25zdCByPXRoaXMuX3Bvcz4+MTtyZXR1cm4gdGhpcy5pZHNbcl09cix0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK109dCx0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK109ZSxyfWZpbmlzaCgpe2NvbnN0IHQ9dGhpcy5fcG9zPj4xO2lmKHQhPT10aGlzLm51bUl0ZW1zKXRocm93IG5ldyBFcnJvcihgQWRkZWQgJHt0fSBpdGVtcyB3aGVuIGV4cGVjdGVkICR7dGhpcy5udW1JdGVtc30uYCk7cmV0dXJuIHdiKHRoaXMuaWRzLHRoaXMuY29vcmRzLHRoaXMubm9kZVNpemUsMCx0aGlzLm51bUl0ZW1zLTEsMCksdGhpcy5fZmluaXNoZWQ9ITAsdGhpc31yYW5nZSh0LGUscixuKXtpZighdGhpcy5fZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBub3QgeWV0IGluZGV4ZWQgLSBjYWxsIGluZGV4LmZpbmlzaCgpLlwiKTtjb25zdHtpZHM6aSxjb29yZHM6YSxub2RlU2l6ZTpzfT10aGlzLG89WzAsaS5sZW5ndGgtMSwwXSxsPVtdO2Zvcig7by5sZW5ndGg7KXtjb25zdCB1PW8ucG9wKCl8fDAsYz1vLnBvcCgpfHwwLGg9by5wb3AoKXx8MDtpZihjLWg8PXMpe2ZvcihsZXQgcz1oO3M8PWM7cysrKXtjb25zdCBvPWFbMipzXSx1PWFbMipzKzFdO28+PXQmJm88PXImJnU+PWUmJnU8PW4mJmwucHVzaChpW3NdKTt9Y29udGludWV9Y29uc3QgcD1oK2M+PjEsZj1hWzIqcF0sZD1hWzIqcCsxXTtmPj10JiZmPD1yJiZkPj1lJiZkPD1uJiZsLnB1c2goaVtwXSksKDA9PT11P3Q8PWY6ZTw9ZCkmJihvLnB1c2goaCksby5wdXNoKHAtMSksby5wdXNoKDEtdSkpLCgwPT09dT9yPj1mOm4+PWQpJiYoby5wdXNoKHArMSksby5wdXNoKGMpLG8ucHVzaCgxLXUpKTt9cmV0dXJuIGx9d2l0aGluKHQsZSxyKXtpZighdGhpcy5fZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBub3QgeWV0IGluZGV4ZWQgLSBjYWxsIGluZGV4LmZpbmlzaCgpLlwiKTtjb25zdHtpZHM6bixjb29yZHM6aSxub2RlU2l6ZTphfT10aGlzLHM9WzAsbi5sZW5ndGgtMSwwXSxvPVtdLGw9cipyO2Zvcig7cy5sZW5ndGg7KXtjb25zdCB1PXMucG9wKCl8fDAsYz1zLnBvcCgpfHwwLGg9cy5wb3AoKXx8MDtpZihjLWg8PWEpe2ZvcihsZXQgcj1oO3I8PWM7cisrKUliKGlbMipyXSxpWzIqcisxXSx0LGUpPD1sJiZvLnB1c2gobltyXSk7Y29udGludWV9Y29uc3QgcD1oK2M+PjEsZj1pWzIqcF0sZD1pWzIqcCsxXTtJYihmLGQsdCxlKTw9bCYmby5wdXNoKG5bcF0pLCgwPT09dT90LXI8PWY6ZS1yPD1kKSYmKHMucHVzaChoKSxzLnB1c2gocC0xKSxzLnB1c2goMS11KSksKDA9PT11P3Qrcj49ZjplK3I+PWQpJiYocy5wdXNoKHArMSkscy5wdXNoKGMpLHMucHVzaCgxLXUpKTt9cmV0dXJuIG99fWZ1bmN0aW9uIHdiKHQsZSxyLG4saSxhKXtpZihpLW48PXIpcmV0dXJuO2NvbnN0IHM9bitpPj4xO01iKHQsZSxzLG4saSxhKSx3Yih0LGUscixuLHMtMSwxLWEpLHdiKHQsZSxyLHMrMSxpLDEtYSk7fWZ1bmN0aW9uIE1iKHQsZSxyLG4saSxhKXtmb3IoO2k+bjspe2lmKGktbj42MDApe2NvbnN0IHM9aS1uKzEsbz1yLW4rMSxsPU1hdGgubG9nKHMpLHU9LjUqTWF0aC5leHAoMipsLzMpLGM9LjUqTWF0aC5zcXJ0KGwqdSoocy11KS9zKSooby1zLzI8MD8tMToxKTtNYih0LGUscixNYXRoLm1heChuLE1hdGguZmxvb3Ioci1vKnUvcytjKSksTWF0aC5taW4oaSxNYXRoLmZsb29yKHIrKHMtbykqdS9zK2MpKSxhKTt9Y29uc3Qgcz1lWzIqcithXTtsZXQgbz1uLGw9aTtmb3IoQWIodCxlLG4sciksZVsyKmkrYV0+cyYmQWIodCxlLG4saSk7bzxsOyl7Zm9yKEFiKHQsZSxvLGwpLG8rKyxsLS07ZVsyKm8rYV08czspbysrO2Zvcig7ZVsyKmwrYV0+czspbC0tO31lWzIqbithXT09PXM/QWIodCxlLG4sbCk6KGwrKyxBYih0LGUsbCxpKSksbDw9ciYmKG49bCsxKSxyPD1sJiYoaT1sLTEpO319ZnVuY3Rpb24gQWIodCxlLHIsbil7U2IodCxyLG4pLFNiKGUsMipyLDIqbiksU2IoZSwyKnIrMSwyKm4rMSk7fWZ1bmN0aW9uIFNiKHQsZSxyKXtjb25zdCBuPXRbZV07dFtlXT10W3JdLHRbcl09bjt9ZnVuY3Rpb24gSWIodCxlLHIsbil7Y29uc3QgaT10LXIsYT1lLW47cmV0dXJuIGkqaSthKmF9dC4kPVl5LHQuQT1EaSx0LkI9QmksdC5DPW5yLHQuRD1xYSx0LkU9ZWUsdC5GPU9hLHQuRz1MYSx0Lkg9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fXBvc3NpYmx5RXZhbHVhdGUodCxlKXtyZXR1cm4gRyh0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSkpfWludGVycG9sYXRlKHQsZSxyKXtyZXR1cm4ge3g6dWUodC54LGUueCxyKSx5OnVlKHQueSxlLnksciksejp1ZSh0LnosZS56LHIpLGF6aW11dGhhbDp1ZSh0LmF6aW11dGhhbCxlLmF6aW11dGhhbCxyKSxwb2xhcjp1ZSh0LnBvbGFyLGUucG9sYXIscil9fX0sdC5JPWR5LHQuSj1UYSx0Lks9UGEsdC5MPU1sLHQuTT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLmlkPXQsdGhpcy5wb3NpdGlvbj1udWxsIT1lP25ldyB0bChlWzBdLGVbMV0pOm5ldyB0bCgwLDApLHRoaXMub3JpZW50YXRpb249bnVsbCE9cj9yOlswLDAsMF0sdGhpcy5ub2Rlcz1uLHRoaXMudXBsb2FkZWQ9ITEsdGhpcy5hYWJiPW5ldyBCaChbMS8wLDEvMCwxLzBdLFstMS8wLC0xLzAsLTEvMF0pLHRoaXMubWF0cml4PVtdO31fYXBwbHlUcmFuc2Zvcm1hdGlvbnMoZSxyKXtpZih0LmE2Lm11bHRpcGx5KGUubWF0cml4LHIsZS5tYXRyaXgpLGUubWVzaGVzKWZvcihjb25zdCB0IG9mIGUubWVzaGVzKXtjb25zdCByPUJoLmFwcGx5VHJhbnNmb3JtKHQuYWFiYixlLm1hdHJpeCk7dGhpcy5hYWJiLmVuY2Fwc3VsYXRlKHIpO31pZihlLmNoaWxkcmVuKWZvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4pdGhpcy5fYXBwbHlUcmFuc2Zvcm1hdGlvbnModCxlLm1hdHJpeCk7fWNvbXB1dGVCb3VuZHNBbmRBcHBseVBhcmVudCgpe2NvbnN0IGU9dC5hNi5pZGVudGl0eShbXSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ub2Rlcyl0aGlzLl9hcHBseVRyYW5zZm9ybWF0aW9ucyh0LGUpO31jb21wdXRlTW9kZWxNYXRyaXgodCxlLHIsbixpLGEscz0hMSl7dngodGhpcy5tYXRyaXgsdGhpcyx0LnRyYW5zZm9ybSx0aGlzLnBvc2l0aW9uLGUscixuLGksYSxzKTt9dXBsb2FkKHQpe2lmKCF0aGlzLnVwbG9hZGVkKXtmb3IoY29uc3QgZSBvZiB0aGlzLm5vZGVzKXd4KGUsdCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ub2RlcylNeCh0KTt0aGlzLnVwbG9hZGVkPSEwO319ZGVzdHJveSgpe2Zvcihjb25zdCB0IG9mIHRoaXMubm9kZXMpQXgodCk7fX0sdC5PPWssdC5QPWcsdC5RPVZhLHQuUj1BdCx0LlM9cnAsdC5UPUNnLHQuVT11ZSx0LlY9VHIsdC5XPWNlLHQuWD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9cG9zc2libHlFdmFsdWF0ZSh0LGUpe3JldHVybiBmdW5jdGlvbihbdCxlXSl7Y29uc3Qgcj1HKFsxLHQsZV0pO3JldHVybiB7eDpyLngseTpyLnksejpyLnp9fSh0LmV4cHJlc3Npb24uZXZhbHVhdGUoZSkpfWludGVycG9sYXRlKHQsZSxyKXtyZXR1cm4ge3g6dWUodC54LGUueCxyKSx5OnVlKHQueSxlLnksciksejp1ZSh0LnosZS56LHIpfX19LHQuWT1mdW5jdGlvbih0LGUscj0wLG49ITApe2NvbnN0IGk9bmV3IGcocixyKSxhPXQuc3ViKGkpLHM9ZS5hZGQoaSksbz1bYSxuZXcgZyhzLngsYS55KSxzLG5ldyBnKGEueCxzLnkpXTtyZXR1cm4gbiYmby5wdXNoKGEuY2xvbmUoKSksb30sdC5aPVhpLHQuXz1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9UChuLTEsLTEsdC5sZW5ndGgtMSksYT1QKG4rMSwtMSx0Lmxlbmd0aC0xKSxzPXRbbl0sbz10W2FdLGw9dFtpXS5zdWIocykudW5pdCgpLHU9by5zdWIocykudW5pdCgpLGM9dS5hbmdsZVdpdGhTZXAobC54LGwueSksaD1sLmFkZCh1KS51bml0KCkubXVsdCgtMSplL01hdGguc2luKGMvMikpO3IucHVzaChzLmFkZChoKSk7fXJldHVybiByfSx0LmE9dGUsdC5hJD1mdW5jdGlvbih0KXtjb25zdCBlPVtdO2Zvcihjb25zdCByIGluIHQpZS5wdXNoKHRbcl0pO3JldHVybiBlfSx0LmEwPVlsLHQuYTE9ZnVuY3Rpb24oZSxyLG49MCl7cmV0dXJuIHQuTi5mcm9tVmFsdWVzKCgoci54LW4pKmUuc2NhbGUtZS54KSpUciwoci55KmUuc2NhbGUtZS55KSpUcixnbChyLnosci55KSl9LHQuYTI9U2gsdC5hMz1qZCx0LmE0PWZ1bmN0aW9uKHQpe2xldCBlPTEvMCxyPTEvMCxuPS0xLzAsaT0tMS8wO2Zvcihjb25zdCBhIG9mIHQpZT1NYXRoLm1pbihlLGEueCkscj1NYXRoLm1pbihyLGEueSksbj1NYXRoLm1heChuLGEueCksaT1NYXRoLm1heChpLGEueSk7cmV0dXJuIHttaW46bmV3IGcoZSxyKSxtYXg6bmV3IGcobixpKX19LHQuYTU9cGwsdC5hOD1HbCx0LmE5PVNsLHQuYUE9YmksdC5hQj1lbyx0LmFDPUIsdC5hRD1xcyx0LmFFPU1nLHQuYUY9ZnVuY3Rpb24oKXtrYS5pc0xvYWRpbmcoKXx8a2EuaXNMb2FkZWQoKXx8XCJkZWZlcnJlZFwiIT09U2EoKXx8SWEoKTt9LHQuYUc9R2EsdC5hSD1CbCx0LmFJPXh2LHQuYUo9WCx0LmFLPU5kLHQuYUw9bGYsdC5hTT1UbCx0LmFOPXBzLHQuYU89VnMsdC5hUD1WaCx0LmFRPXJmLHQuYVI9QmcsdC5hUz1mdW5jdGlvbihlLHIpe2NvbnN0IG49cnAoci56b29tKTtpZigwPT09bilyZXR1cm4gamgoZSk7Y29uc3QgaT1ZaChlKSxhPVhoKGkpLHM9cGwoaS5nZXRXZXN0KCkpKnIud29ybGRTaXplLG89cGwoaS5nZXRFYXN0KCkpKnIud29ybGRTaXplLGw9ZmwoaS5nZXROb3J0aCgpKSpyLndvcmxkU2l6ZSx1PWZsKGkuZ2V0U291dGgoKSkqci53b3JsZFNpemUsYz1bcyxsLDBdLGg9W28sbCwwXSxwPVtzLHUsMF0sZj1bbyx1LDBdLGQ9dC5hNi5pbnZlcnQoW10sci5nbG9iZU1hdHJpeCk7cmV0dXJuIHQuTi50cmFuc2Zvcm1NYXQ0KGMsYyxkKSx0Lk4udHJhbnNmb3JtTWF0NChoLGgsZCksdC5OLnRyYW5zZm9ybU1hdDQocCxwLGQpLHQuTi50cmFuc2Zvcm1NYXQ0KGYsZixkKSxhWzBdPXFoKGFbMF0scCxuKSxhWzFdPXFoKGFbMV0sZixuKSxhWzJdPXFoKGFbMl0saCxuKSxhWzNdPXFoKGFbM10sYyxuKSxCaC5mcm9tUG9pbnRzKGEpfSx0LmFUPVdoLHQuYVU9WmgsdC5hVj1xaCx0LmFXPWZzLHQuYVg9RGgsdC5hWT1WLHQuYVo9Z2IsdC5hXz1QdCx0LmFhPUksdC5hYj1qbyx0LmFjPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LmFkPWVsLHQuYWU9ZmwsdC5hZj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmVudHJpZXM9e30sdGhpcy5zY2hlZHVsZXI9dDt9cmVxdWVzdCh0LGUscixuKXtjb25zdCBpPXRoaXMuZW50cmllc1t0XT10aGlzLmVudHJpZXNbdF18fHtjYWxsYmFja3M6W119O2lmKGkucmVzdWx0KXtjb25zdFt0LHJdPWkucmVzdWx0O3JldHVybiB0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCgpPT57bih0LHIpO30pLGUpOm4odCxyKSwoKT0+e319cmV0dXJuIGkuY2FsbGJhY2tzLnB1c2gobiksaS5jYW5jZWx8fChpLmNhbmNlbD1yKCgocixuKT0+e2kucmVzdWx0PVtyLG5dO2Zvcihjb25zdCB0IG9mIGkuY2FsbGJhY2tzKXRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKCk9Pnt0KHIsbik7fSksZSk6dChyLG4pO3NldFRpbWVvdXQoKCgpPT5kZWxldGUgdGhpcy5lbnRyaWVzW3RdKSwzZTMpO30pKSksKCk9PntpLnJlc3VsdHx8KGkuY2FsbGJhY2tzPWkuY2FsbGJhY2tzLmZpbHRlcigodD0+dCE9PW4pKSxpLmNhbGxiYWNrcy5sZW5ndGh8fChpLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLmVudHJpZXNbdF0pKTt9fX0sdC5hZz1pcyx0LmFoPWZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPUpTT04uc3RyaW5naWZ5KHQucmVxdWVzdCk7cmV0dXJuIHQuZGF0YSYmKHRoaXMuZGVkdXBlZC5lbnRyaWVzW25dPXtyZXN1bHQ6W251bGwsdC5kYXRhXX0pLHRoaXMuZGVkdXBlZC5yZXF1ZXN0KG4se3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6dC5pc1N5bWJvbFRpbGUsem9vbTp0LnRpbGVab29tfSwoZT0+e2NvbnN0IG49UHQodC5yZXF1ZXN0LCgodCxuLGksYSk9Pnt0P2UodCk6biYmZShudWxsLHt2ZWN0b3JUaWxlOnI/dm9pZCAwOm5ldyBFZihuZXcgVm0obikpLHJhd0RhdGE6bixjYWNoZUNvbnRyb2w6aSxleHBpcmVzOmF9KTt9KSk7cmV0dXJuICgpPT57bi5jYW5jZWwoKSxlKCk7fX0pLGUpfSx0LmFpPWZ1bmN0aW9uKHQpe3l0KysseXQ+dXQmJih0LmdldEFjdG9yKCkuc2VuZChcImVuZm9yY2VDYWNoZVNpemVMaW1pdFwiLGx0KSx5dD0wKTt9LHQuYWo9cXQsdC5haz1hdCx0LmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0PD0xPzE6TWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSl9LHQuYW09c2wsdC5hbj1PZyx0LmFvPXFnLHQuYXA9RmcsdC5hcT1mdW5jdGlvbih0LGUpe2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3IubXV0ZWQ9ITAsci5vbmxvYWRzdGFydD1mdW5jdGlvbigpe2UobnVsbCxyKTt9O2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7RXQodFtlXSl8fChyLmNyb3NzT3JpZ2luPVwiQW5vbnltb3VzXCIpLG4uc3JjPXRbZV0sci5hcHBlbmRDaGlsZChuKTt9cmV0dXJuIHtjYW5jZWw6KCk9Pnt9fX0sdC5hcj1SZyx0LmFzPUd5LHQuYXQ9bWwsdC5hdT15bCx0LmF2PWRzLHQuYXc9RXMsdC5heD1sZSx0LmF5PWNzLHQuYXo9THMsdC5iPVF0LHQuYiQ9d2EsdC5iMD1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gdCluIGluIGV8fHIucHVzaChuKTtyZXR1cm4gcn0sdC5iMT1FLHQuYjI9W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImZpbHRlclwiLFwibGF5b3V0XCJdLHQuYjM9ZnVuY3Rpb24oZSxyKXtjb25zdHt4Om4seTppfT1lLnBvaW50LGE9ZXAobixpLGUud29ybGRTaXplL2UuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsMCwwKTtyZXR1cm4gdC5hNi5tdWx0aXBseShhLGEsSmgoamgocikpKX0sdC5iNT1sbSx0LmI2PWptLHQuYjc9b20sdC5iOD1mdW5jdGlvbih0LGUscixuLGkpe2NvbnN0IGE9NSplKzI7dC5mbG9hdDMyW2ErMF09cix0LmZsb2F0MzJbYSsxXT1uLHQuZmxvYXQzMlthKzJdPWk7fSx0LmI5PXZnLHQuYkE9V2csdC5iQj1LZyx0LmJDPWZ1bmN0aW9uKGUpe2NvbnN0IHI9S2coZSwhMCk7cmV0dXJuIHQuYjQuaW52ZXJ0KFtdLFtyWzBdLHJbMV0scls0XSxyWzVdXSl9LHQuYkQ9SWgsdC5iRT1mdW5jdGlvbih0KXtjb25zdHt4OmUseTpyfT10LnBvaW50LHtsbmc6bixsYXQ6aX09dC5fY2VudGVyO3JldHVybiBlcChlLHIsdC53b3JsZFNpemUsbixpKX0sdC5iRj1fLHQuYkc9cW8sdC5iSD1mdW5jdGlvbih0KXtjb25zdCBlPU1hdGgucm91bmQoKHQrNDUrMzYwKSUzNjAvOTApJTQ7cmV0dXJuIHdbZV19LHQuYkk9NDUsdC5iSj1obCx0LmJLPVNvLHQuYkw9Ym8sdC5iTT1fbyx0LmJOPXZvLHQuYk89eG8sdC5iUD13byx0LmJRPWZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPU1hdGguc3FydCh0KnQrZSplK3IqciksaT1uPjA/TWF0aC5hY29zKHIvbikqdjowO2xldCBhPTAhPT10fHwwIT09ZT9NYXRoLmF0YW4yKC1lLC10KSp2KzkwOjA7cmV0dXJuIGE8MCYmKGErPTM2MCksW24sYSxpXX0sdC5iUj13bCx0LmJTPUJoLHQuYlQ9Ryx0LmJVPWZ1bmN0aW9uKHQpe3JldHVybiBbTWF0aC5wb3codFswXSwxLzIuMiksTWF0aC5wb3codFsxXSwxLzIuMiksTWF0aC5wb3codFsyXSwxLzIuMildfSx0LmJWPWZ1bmN0aW9uKHQpe3JldHVybiB0KHtwbHVnaW5TdGF0dXM6YmEscGx1Z2luVVJMOl9hfSksQWEub24oXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHQpLHR9LHQuYlc9UHgsdC5iWD1SeCx0LmJZPV95LHQuYlo9YnksdC5iXz1JdCx0LmJhPWh5LHQuYmI9VmwsdC5iYz1pbSx0LmJkPVJ5LHQuYmU9RHksdC5iZj1RbSx0LmJnPV9iLHQuYmg9UCx0LmJqPWIsdC5iaz1ydCx0LmJsPWRsLHQuYm09ZnVuY3Rpb24odCxlLHIpe3RbNCplKzBdPXJbMF0sdFs0KmUrMV09clsxXSx0WzQqZSsyXT1yWzJdLHRbNCplKzNdPXJbM107fSx0LmJuPXRsLHQuYm89ZmcsdC5icD1hbCx0LmJxPVRoLHQuYnI9SGcsdC5icz1pbCx0LmJ0PUdoLHQuYnU9ZnVuY3Rpb24odCxlLHIsbixpLGEscyxvLGwpe2lmKFwiZ2xvYmVcIj09PWwubmFtZSlyZXR1cm4gR2godCxlLG5ldyBpbChyLG4saSksITEpO2NvbnN0IHU9R3koe3o6cix4Om4seTppfSxsKTtyZXR1cm4gbmV3IEJoKFsoYSt1LngvdS5zY2FsZSkqZSxlKih1LnkvdS5zY2FsZSksc10sWyhhK3UueDIvdS5zY2FsZSkqZSxlKih1LnkyL3Uuc2NhbGUpLG9dKX0sdC5idj1mdW5jdGlvbih0LGUscil7bGV0IG49MDtmb3IobGV0IGk9MDtpPDI7KytpKXtjb25zdCBhPXI/cltpXTowO3RbaV0+YSYmKG4rPSh0W2ldLWEpKih0W2ldLWEpKSxlW2ldPGEmJihuKz0oYS1lW2ldKSooYS1lW2ldKSk7fXJldHVybiBufSx0LmJ3PXhsLHQuYng9JG8sdC5ieT1mdW5jdGlvbihlKXtjb25zdCByPXQuYTYuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO3QuYTYubXVsdGlwbHkocixlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpO2NvbnN0IG49WzAsWm8sMF0saT1bMCxLbywwXTtyZXR1cm4gdC5OLnRyYW5zZm9ybU1hdDQobixuLHIpLHQuTi50cmFuc2Zvcm1NYXQ0KGksaSxyKSxbblswXT4wJiZuWzBdPD1lLndpZHRoJiZuWzFdPjAmJm5bMV08PWUuaGVpZ2h0JiYhaXAoZSxuZXcgdGwoZS5jZW50ZXIubGF0LDkwKSksaVswXT4wJiZpWzBdPD1lLndpZHRoJiZpWzFdPjAmJmlbMV08PWUuaGVpZ2h0JiYhaXAoZSxuZXcgdGwoZS5jZW50ZXIubGF0LC05MCkpXX0sdC5iej1mdW5jdGlvbihlLHIpe2NvbnN0e3NjYWxlOm59PWUudGlsZVRyYW5zZm9ybSxpPW4qVHIvKGUudGlsZVNpemUqTWF0aC5wb3coMixyLnpvb20tZS50aWxlSUQub3ZlcnNjYWxlZForZS50aWxlSUQuY2Fub25pY2FsLnopKTtyZXR1cm4gdC5iNC5zY2FsZShuZXcgRmxvYXQzMkFycmF5KDQpLHIuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXgsW2ksaV0pfSx0LmM9ZnYsdC5jJD1mdW5jdGlvbigpe3JldHVybiAhIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHwhIWRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fSx0LmMwPWEsdC5jMT1PLHQuYzI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBcImN1c3RvbVwiPT09dC50eXBlP25ldyAkZyh0LGUpOm5ldyBDdlt0LnR5cGVdKHQsZSxyKX0sdC5jMz1mdW5jdGlvbih0KXtjb25zdCBlPXQuaW5kZXhPZihucyk7cmV0dXJuIGU+PTA/dC5zbGljZSgwLGUpOnR9LHQuYzQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXhPZihucyk+PTB9LHQuYzU9ZnVuY3Rpb24odCl7Y29uc3QgZT10LmluZGV4T2YobnMpO3JldHVybiBlPj0wP3Quc2xpY2UoZSsxKTpcIlwifSx0LmM2PWZ1bmN0aW9uKHQpe2NvbnN0IGU9W10scj10LmlkO3JldHVybiB2b2lkIDA9PT1yJiZlLnB1c2goe21lc3NhZ2U6YGxheWVycy4ke3J9OiBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiaWRcImB9KSx2b2lkIDA9PT10LnJlbmRlciYmZS5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgXCJyZW5kZXJcImB9KSx0LnJlbmRlcmluZ01vZGUmJlwiMmRcIiE9PXQucmVuZGVyaW5nTW9kZSYmXCIzZFwiIT09dC5yZW5kZXJpbmdNb2RlJiZlLnB1c2goe21lc3NhZ2U6YGxheWVycy4ke3J9OiBwcm9wZXJ0eSBcInJlbmRlcmluZ01vZGVcIiBtdXN0IGJlIGVpdGhlciBcIjJkXCIgb3IgXCIzZFwiYH0pLGV9LHQuYzc9Tix0LmM4PUFhLHQuYzk9a3QsdC5jQT1HZCx0LmNCPSh0LGUscixuLGksYSk9Pntjb25zdCBzPXQudHJhbnNmb3JtO3JldHVybiB7dV9tYXRyaXg6JGQodCxlLHIsbiksdV90ZXhzaXplOmUuaW1hZ2VBdGxhc1RleHR1cmU/ZS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6cy5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChlKSx1X2RldmljZV9waXhlbF9yYXRpbzppLHVfaW1hZ2U6MCx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOnFkKGUscyksdV91bml0c190b19waXhlbHM6WzEvcy5waXhlbHNUb0dMVW5pdHNbMF0sMS9zLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowLHVfdHJpbV9vZmZzZXQ6YX19LHQuY0M9KHQsZSxyLG4saSxhLHMpPT57Y29uc3Qgbz10LnRyYW5zZm9ybSxsPW8uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoZSk7cmV0dXJuIHt1X21hdHJpeDokZCh0LGUscixuKSx1X3BpeGVsc190b190aWxlX3VuaXRzOmwsdV9kZXZpY2VfcGl4ZWxfcmF0aW86YSx1X3VuaXRzX3RvX3BpeGVsczpbMS9vLnBpeGVsc1RvR0xVbml0c1swXSwxL28ucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2Rhc2hfaW1hZ2U6MCx1X2dyYWRpZW50X2ltYWdlOjEsdV9pbWFnZV9oZWlnaHQ6aSx1X3RleHNpemU6WWQocikmJmUubGluZUF0bGFzVGV4dHVyZT9lLmxpbmVBdGxhc1RleHR1cmUuc2l6ZTpbMCwwXSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOnFkKGUsdC50cmFuc2Zvcm0pLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6MCx1X3RyaW1fb2Zmc2V0OnMsdV9lbWlzc2l2ZV9zdHJlbmd0aDpyLnBhaW50LmdldChcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIil9fSx0LmNEPVIsdC5jRT1BcCx0LmNGPU1kLHQuY0c9bGwsdC5jSD1tZCx0LmNJPWlkLHQuY0o9NDUwLHQuY0s9Nyx0LmNMPU5nLHQuY009MjU2LHQuY049SmgsdC5jTz1Dcyx0LmNQPVJzLHQuY1E9ZnVuY3Rpb24odCxlLHIsbixpKXtyZXR1cm4gSSgodC1lKS8oci1lKSooaS1uKStuLG4saSl9LHQuY1I9YmwsdC5jUz1ueCx0LmNUPVsxLDEsMV0sdC5jVT1XZix0LmNWPXh4LHQuY1c9QXMsdC5jWD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3VwZGF0ZVRpbWU9MCx0aGlzLl9zb3VyY2VJZHM9W10sdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Y2xlYXIoKXt0aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aD4wJiYrK3RoaXMuX3VwZGF0ZVRpbWUsdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Z2V0IHVwZGF0ZVRpbWUoKXtyZXR1cm4gdGhpcy5fdXBkYXRlVGltZX1nZXRSZXBsYWNlbWVudFJlZ2lvbnNGb3JUaWxlKHQpe2NvbnN0IGU9RGYobmV3IGcoMCwwKSxuZXcgZyhUcixUciksdCkscj1bXTtmb3IoY29uc3QgbiBvZiB0aGlzLl9hY3RpdmVSZWdpb25zKXtpZihuLmhpZGRlbkJ5T3ZlcmxhcCljb250aW51ZTtpZighUmYoZSxuKSljb250aW51ZTtjb25zdCBpPVZmKG4ubWluLG4ubWF4LHQpO3IucHVzaCh7bWluOmkubWluLG1heDppLm1heCxzb3VyY2VJZDp0aGlzLl9zb3VyY2VJZHNbbi5wcmlvcml0eV0sZm9vdHByaW50Om4uZm9vdHByaW50LGZvb3RwcmludFRpbGVJZDpuLnRpbGVJZH0pO31yZXR1cm4gcn1zZXRTb3VyY2VzKHQpe3RoaXMuX3NldFNvdXJjZXModC5tYXAoKHQ9Pih7Z2V0U291cmNlSWQ6KCk9PnQuY2FjaGUuaWQsZ2V0Rm9vdHByaW50czooKT0+e2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgb2YgdC5jYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSl7Y29uc3Qgbj10LmNhY2hlLmdldFRpbGUocikuYnVja2V0c1t0LmxheWVyXTtpZihuKWZvcihjb25zdCB0IG9mIG4uZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IG49dC5ub2RlO24uZm9vdHByaW50JiZlLnB1c2goe2Zvb3RwcmludDpuLmZvb3RwcmludCxpZDpyLnRvVW53cmFwcGVkKCl9KTt9fXJldHVybiBlfX0pKSkpO31fYWRkU291cmNlKHQpe2NvbnN0IGU9dC5nZXRGb290cHJpbnRzKCk7aWYoMCE9PWUubGVuZ3RoKXtmb3IoY29uc3QgdCBvZiBlKXtpZighdC5mb290cHJpbnQpY29udGludWU7Y29uc3QgZT1EZih0LmZvb3RwcmludC5taW4sdC5mb290cHJpbnQubWF4LHQuaWQpO3RoaXMuX2FjdGl2ZVJlZ2lvbnMucHVzaCh7bWluOmUubWluLG1heDplLm1heCxoaWRkZW5CeU92ZXJsYXA6ITEscHJpb3JpdHk6dGhpcy5fc291cmNlSWRzLmxlbmd0aCx0aWxlSWQ6dC5pZCxmb290cHJpbnQ6dC5mb290cHJpbnR9KTt9dGhpcy5fc291cmNlSWRzLnB1c2godC5nZXRTb3VyY2VJZCgpKTt9fV9jb21wdXRlUmVwbGFjZW1lbnQoKXt0aGlzLl9hY3RpdmVSZWdpb25zLnNvcnQoKCh0LGUpPT50LnByaW9yaXR5LWUucHJpb3JpdHl8fEJmKHQubWluLGUubWluKXx8QmYodC5tYXgsZS5tYXgpKSk7bGV0IHQ9dGhpcy5fYWN0aXZlUmVnaW9ucy5sZW5ndGghPT10aGlzLl9wcmV2UmVnaW9ucy5sZW5ndGg7aWYoIXQpe2xldCBlPTAscj0wO2Zvcig7IXQmJmUhPT10aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aDspe2NvbnN0IG49dGhpcy5fYWN0aXZlUmVnaW9uc1tlXSxpPXRoaXMuX3ByZXZSZWdpb25zW3JdO3Q9bi5wcmlvcml0eSE9PWkucHJpb3JpdHl8fCFDZihuLGkpLCsrZSwrK3I7fX1pZih0KXsrK3RoaXMuX3VwZGF0ZVRpbWU7Y29uc3QgdD10PT57Y29uc3QgZT10aGlzLl9hY3RpdmVSZWdpb25zO2lmKHQ+PWUubGVuZ3RoKXJldHVybiB0O2NvbnN0IHI9ZVt0XS5wcmlvcml0eTtmb3IoO3Q8ZS5sZW5ndGgmJmVbdF0ucHJpb3JpdHk9PT1yOykrK3Q7cmV0dXJuIHR9O2lmKHRoaXMuX3NvdXJjZUlkcy5sZW5ndGg+MSl7bGV0IGU9MCxyPXQoZSk7Zm9yKDtlIT09cjspe2xldCBuPWU7Y29uc3QgaT1lO2Zvcig7biE9PXI7KXtjb25zdCB0PXRoaXMuX2FjdGl2ZVJlZ2lvbnNbbl07dC5oaWRkZW5CeU92ZXJsYXA9ITE7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7Y29uc3Qgcj10aGlzLl9hY3RpdmVSZWdpb25zW2VdO2lmKCFyLmhpZGRlbkJ5T3ZlcmxhcCYmUmYodCxyKSYmKHQuaGlkZGVuQnlPdmVybGFwPUZmKHQuZm9vdHByaW50LHQudGlsZUlkLHIuZm9vdHByaW50LHIudGlsZUlkKSx0LmhpZGRlbkJ5T3ZlcmxhcCkpYnJlYWt9KytuO31lPXIscj10KGUpO319fX1fc2V0U291cmNlcyh0KXtbdGhpcy5fcHJldlJlZ2lvbnMsdGhpcy5fYWN0aXZlUmVnaW9uc109W3RoaXMuX2FjdGl2ZVJlZ2lvbnMsW11dLHRoaXMuX3NvdXJjZUlkcz1bXTtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl9hZGRTb3VyY2UodFtlXSk7dGhpcy5fY29tcHV0ZVJlcGxhY2VtZW50KCk7fX0sdC5jWT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9jcmVhdGVHcmlkKHQpLHRoaXMuX2NyZWF0ZVBvbGVzKHQpO31kZXN0cm95KCl7dGhpcy5fcG9sZUluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb2xlU2VnbWVudHMpdC5kZXN0cm95KCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fZ3JpZFNlZ21lbnRzKXQud2l0aFNraXJ0cy5kZXN0cm95KCksdC53aXRob3V0U2tpcnRzLmRlc3Ryb3koKTt9X2ZpbGxHcmlkTWVzaFdpdGhMb2RzKHQsZSl7Y29uc3Qgcj1uZXcgcHMsbj1uZXcgRXMsaT1bXSxhPXQrMSsyLHM9ZVswXSsxLG89ZVswXSsxKygxK2UubGVuZ3RoKSxsPSh0LGUscik9PntsZXQgbj10PT09YS0xP3QtMjowPT09dD90OnQtMTtyZXR1cm4gbis9cj8yNDU3NTowLFtuLGVdfTtmb3IobGV0IHQ9MDt0PGE7Kyt0KXIuZW1wbGFjZUJhY2soLi4ubCh0LDAsITApKTtmb3IobGV0IHQ9MDt0PHM7Kyt0KWZvcihsZXQgZT0wO2U8YTsrK2Upci5lbXBsYWNlQmFjayguLi5sKGUsdCwoMD09PWV8fGU9PT1hLTEpJiYhMCkpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXtjb25zdCBuPWVbdF07Zm9yKGxldCB0PTA7dDxhOysrdClyLmVtcGxhY2VCYWNrKC4uLmwodCxuLCEwKSk7fWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXtjb25zdCBzPW4ubGVuZ3RoLGw9ZVt0XSsxKzIsdT1uZXcgRXM7Zm9yKGxldCByPTA7cjxsLTE7cisrKXtjb25zdCBpPXI9PT1sLTIscz1pP2EqKG8tZS5sZW5ndGgrdC1yKTphO2ZvcihsZXQgdD0wO3Q8YS0xO3QrKyl7Y29uc3QgZT1yKmErdDswPT09cnx8aXx8MD09PXR8fHQ9PT1hLTI/KHUuZW1wbGFjZUJhY2soZSsxLGUsZStzKSx1LmVtcGxhY2VCYWNrKGUrcyxlK3MrMSxlKzEpKToobi5lbXBsYWNlQmFjayhlKzEsZSxlK3MpLG4uZW1wbGFjZUJhY2soZStzLGUrcysxLGUrMSkpO319Y29uc3QgYz1lby5zaW1wbGVTZWdtZW50KDAscyxyLmxlbmd0aCxuLmxlbmd0aC1zKTtmb3IobGV0IHQ9MDt0PHUudWludDE2Lmxlbmd0aDt0Kz0zKW4uZW1wbGFjZUJhY2sodS51aW50MTZbdF0sdS51aW50MTZbdCsxXSx1LnVpbnQxNlt0KzJdKTtjb25zdCBoPWVvLnNpbXBsZVNlZ21lbnQoMCxzLHIubGVuZ3RoLG4ubGVuZ3RoLXMpO2kucHVzaCh7d2l0aG91dFNraXJ0czpjLHdpdGhTa2lydHM6aH0pO31yZXR1cm4ge3ZlcnRpY2VzOnIsaW5kaWNlczpuLHNlZ21lbnRzOml9fV9jcmVhdGVHcmlkKHQpe2NvbnN0IGU9dGhpcy5fZmlsbEdyaWRNZXNoV2l0aExvZHMoWW8sWG8pO3RoaXMuX2dyaWRTZWdtZW50cz1lLnNlZ21lbnRzLHRoaXMuX2dyaWRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS52ZXJ0aWNlcyxWaC5tZW1iZXJzKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihlLmluZGljZXMsITApO31fY3JlYXRlUG9sZXModCl7Y29uc3QgZT1uZXcgRXM7Zm9yKGxldCB0PTA7dDw9WW87dCsrKWUuZW1wbGFjZUJhY2soMCx0KzEsdCsyKTt0aGlzLl9wb2xlSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihlLCEwKTtjb25zdCByPW5ldyBDcyxuPW5ldyBDcyxpPW5ldyBDcyxhPW5ldyBDczt0aGlzLl9wb2xlU2VnbWVudHM9W107Zm9yKGxldCB0PTAsZT0wO3Q8cW87dCsrKXtjb25zdCBzPTM2MC8oMTw8dCk7ci5lbXBsYWNlQmFjaygwLC1qbywwLC41LDApLG4uZW1wbGFjZUJhY2soMCwtam8sMCwuNSwxKSxpLmVtcGxhY2VCYWNrKDAsLWpvLDAsLjUsLjUpLGEuZW1wbGFjZUJhY2soMCwtam8sMCwuNSwuNSk7Zm9yKGxldCB0PTA7dDw9WW87dCsrKXtsZXQgZT10L1lvLG89MDtjb25zdCBsPXVlKDAscyxlKSxbdSxjLGhdPUhvKHNwLG9wLGwsam8pO3IuZW1wbGFjZUJhY2sodSxjLGgsZSxvKSxuLmVtcGxhY2VCYWNrKHUsYyxoLGUsMS1vKTtjb25zdCBwPWIobCk7ZT0uNSsuNSpNYXRoLnNpbihwKSxvPS41Ky41Kk1hdGguY29zKHApLGkuZW1wbGFjZUJhY2sodSxjLGgsZSxvKSxhLmVtcGxhY2VCYWNrKHUsYyxoLGUsMS1vKTt9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goZW8uc2ltcGxlU2VnbWVudChlLDAsNjYsNjQpKSxlKz02Njt9dGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHIsUmgsITEpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihuLFJoLCExKSx0aGlzLl90ZXh0dXJlZFBvbGVOb3J0aFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLFJoLCExKSx0aGlzLl90ZXh0dXJlZFBvbGVTb3V0aFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihhLFJoLCExKTt9Z2V0R3JpZEJ1ZmZlcnModCxlKXtyZXR1cm4gW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fZ3JpZEluZGV4QnVmZmVyLGU/dGhpcy5fZ3JpZFNlZ21lbnRzW3RdLndpdGhTa2lydHM6dGhpcy5fZ3JpZFNlZ21lbnRzW3RdLndpdGhvdXRTa2lydHNdfWdldFBvbGVCdWZmZXJzKHQsZSl7cmV0dXJuIFtlP3RoaXMuX3RleHR1cmVkUG9sZU5vcnRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcixlP3RoaXMuX3RleHR1cmVkUG9sZVNvdXRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlSW5kZXhCdWZmZXIsdGhpcy5fcG9sZVNlZ21lbnRzW3RdXX19LHQuY1o9ZnVuY3Rpb24odCl7cmV0dXJuIEh0Lmhhcyh0KX0sdC5jXz1BLHQuY2E9TW8sdC5jYj1jbGFzcyBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1Jbzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw5O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSx0LmNjPU0sdC5jZD1mdW5jdGlvbih0LGUscil7Y29uc3Qgbj1ycChyLnpvb20pLGk9dC5zdHlsZS5tYXAuX2FudGlhbGlhcyxhPWUub3B0aW9ucy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmZ8fHQudGVycmFpbiYmdC50ZXJyYWluLmV4YWdnZXJhdGlvbigpPjA7cmV0dXJuIDA9PT1uJiYhaSYmIWF9LHQuY2U9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1lLnBpeGVsc1Blck1ldGVyLG49ci9kbCgxLGUuY2VudGVyLmxhdCksaT10LmE2LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdC5hNi50cmFuc2xhdGUoaSxpLFtlLnBvaW50LngsZS5wb2ludC55LDBdKSx0LmE2LnNjYWxlKGksaSxbbixuLHJdKSxGbG9hdDMyQXJyYXkuZnJvbShpKX0sdC5jZj1ZaCx0LmNnPWZ1bmN0aW9uKHQpe2NvbnN0IGU9eGwtNTt0PUkodCwtZSxlKS9lKjkwO2NvbnN0IHI9TWF0aC5wb3coTWF0aC5hYnMoTWF0aC5zaW4oYih0KSkpLDMpO3JldHVybiBNYXRoLnJvdW5kKHIqKFhvLmxlbmd0aC0xKSl9LHQuY2g9ZnVuY3Rpb24oZSxyLG4saSl7Y29uc3QgYT1yLmdldE5vcnRoKCkscz1yLmdldFNvdXRoKCksbz1yLmdldFdlc3QoKSxsPXIuZ2V0RWFzdCgpLHU9MTw8ZS56LGM9bC1vLGg9YS1zLHA9Yy9ZbyxmPS1oL1hvW25dLGQ9WzAscCwwLGYsMCwwLGEsbywwXTtpZihlLno+MCl7Y29uc3QgZT0xODAvaTt0LmNvLm11bHRpcGx5KGQsZCxbZS9jKzEsMCwwLDAsZS9oKzEsMCwtLjUqZS9wLC41KmUvZiwxXSk7fXJldHVybiBkWzJdPXUsZFs1XT1lLngsZFs4XT1lLnksZH0sdC5jaT1qaCx0LmNqPWZ1bmN0aW9uKGUscixuKXtjb25zdCBpPXQuYTYuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpLGE9KHIvKDE8PGUpLS41KSpNYXRoLlBJKjI7cmV0dXJuIHQuYTYucm90YXRlWShpLG4uZ2xvYmVNYXRyaXgsYSksRmxvYXQzMkFycmF5LmZyb20oaSl9LHQuY2s9Y2xhc3N7aXNEYXRhQXZhaWxhYmxlQXRQb2ludCh0KXtjb25zdCBlPXRoaXMuX3NvdXJjZSgpO2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKXx8IWV8fHQueTwwfHx0Lnk+MSlyZXR1cm4gITE7Y29uc3Qgcj1lLmdldFNvdXJjZSgpLm1heHpvb20sbj0xPDxyLGk9TWF0aC5mbG9vcih0LngpLGE9TWF0aC5mbG9vcigodC54LWkpKm4pLHM9TWF0aC5mbG9vcih0Lnkqbiksbz10aGlzLmZpbmRERU1UaWxlRm9yKG5ldyBzbChyLGkscixhLHMpKTtyZXR1cm4gISghb3x8IW8uZGVtKX1nZXRBdFBvaW50T3JaZXJvKHQsZT0wKXtyZXR1cm4gdGhpcy5nZXRBdFBvaW50KHQsZSl8fDB9Z2V0QXRQb2ludCh0LGUscj0hMCl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO251bGw9PWUmJihlPW51bGwpO2NvbnN0IG49dGhpcy5fc291cmNlKCk7aWYoIW4pcmV0dXJuIGU7aWYodC55PDB8fHQueT4xKXJldHVybiBlO2NvbnN0IGk9bi5nZXRTb3VyY2UoKS5tYXh6b29tLGE9MTw8aSxzPU1hdGguZmxvb3IodC54KSxvPXQueC1zLGw9bmV3IHNsKGkscyxpLE1hdGguZmxvb3IobyphKSxNYXRoLmZsb29yKHQueSphKSksdT10aGlzLmZpbmRERU1UaWxlRm9yKGwpO2lmKCF1fHwhdS5kZW0pcmV0dXJuIGU7Y29uc3QgYz11LmRlbSxoPTE8PHUudGlsZUlELmNhbm9uaWNhbC56LHA9KG8qaC11LnRpbGVJRC5jYW5vbmljYWwueCkqYy5kaW0sZj0odC55KmgtdS50aWxlSUQuY2Fub25pY2FsLnkpKmMuZGltLGQ9TWF0aC5mbG9vcihwKSxtPU1hdGguZmxvb3IoZik7cmV0dXJuIChyP3RoaXMuZXhhZ2dlcmF0aW9uKCk6MSkqdWUodWUoYy5nZXQoZCxtKSxjLmdldChkLG0rMSksZi1tKSx1ZShjLmdldChkKzEsbSksYy5nZXQoZCsxLG0rMSksZi1tKSxwLWQpfWdldEF0VGlsZU9mZnNldCh0LGUscil7Y29uc3Qgbj0xPDx0LmNhbm9uaWNhbC56O3JldHVybiB0aGlzLmdldEF0UG9pbnRPclplcm8obmV3IE1sKHQud3JhcCsodC5jYW5vbmljYWwueCtlL1RyKS9uLCh0LmNhbm9uaWNhbC55K3IvVHIpL24pKX1nZXRBdFRpbGVPZmZzZXRGdW5jKGUscixuLGkpe3JldHVybiBhPT57Y29uc3Qgcz10aGlzLmdldEF0VGlsZU9mZnNldChlLGEueCxhLnkpLG89aS51cFZlY3RvcihlLmNhbm9uaWNhbCxhLngsYS55KSxsPWkudXBWZWN0b3JTY2FsZShlLmNhbm9uaWNhbCxyLG4pLm1ldGVyc1RvVGlsZTtyZXR1cm4gdC5OLnNjYWxlKG8sbyxzKmwpLG99fWdldEZvclRpbGVQb2ludHModCxlLHIsbil7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiAhMTtjb25zdCBpPVdmLmNyZWF0ZSh0aGlzLHQsbik7cmV0dXJuICEhaSYmKGUuZm9yRWFjaCgodD0+e3RbMl09dGhpcy5leGFnZ2VyYXRpb24oKSppLmdldEVsZXZhdGlvbkF0KHRbMF0sdFsxXSxyKTt9KSksITApfWdldE1pbk1heEZvclRpbGUodCl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5maW5kREVNVGlsZUZvcih0KTtpZighZXx8IWUuZGVtKXJldHVybiBudWxsO2NvbnN0IHI9ZS5kZW0udHJlZSxuPWUudGlsZUlELGk9MTw8dC5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56O2xldCBhPXQuY2Fub25pY2FsLngvaS1uLmNhbm9uaWNhbC54LHM9dC5jYW5vbmljYWwueS9pLW4uY2Fub25pY2FsLnksbz0wO2ZvcihsZXQgZT0wO2U8dC5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56JiYhci5sZWF2ZXNbb107ZSsrKXthKj0yLHMqPTI7Y29uc3QgdD0yKk1hdGguZmxvb3IocykrTWF0aC5mbG9vcihhKTtvPXIuY2hpbGRPZmZzZXRzW29dK3QsYSU9MSxzJT0xO31yZXR1cm4ge21pbjp0aGlzLmV4YWdnZXJhdGlvbigpKnIubWluaW11bXNbb10sbWF4OnRoaXMuZXhhZ2dlcmF0aW9uKCkqci5tYXhpbXVtc1tvXX19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cmF5Y2FzdCh0LGUscil7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXBvaW50Q29vcmRpbmF0ZSh0KXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9X3NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1pc1VzaW5nTW9ja1NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1leGFnZ2VyYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZmluZERFTVRpbGVGb3IodCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWdldCB2aXNpYmxlRGVtVGlsZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy5cIil9Z2V0TWluTWF4Rm9yVmlzaWJsZVRpbGVzKCl7Y29uc3QgdD10aGlzLnZpc2libGVEZW1UaWxlcztpZigwPT09dC5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IGU9ITEscj1OdW1iZXIuTUFYX1ZBTFVFLG49TnVtYmVyLk1JTl9WQUxVRTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PXRoaXMuZ2V0TWluTWF4Rm9yVGlsZShpLnRpbGVJRCk7dCYmKHI9TWF0aC5taW4ocix0Lm1pbiksbj1NYXRoLm1heChuLHQubWF4KSxlPSEwKTt9cmV0dXJuIGU/e21pbjpyLG1heDpufTpudWxsfX0sdC5jbD1MaCx0LmNtPV9wLHQuY249ZnVuY3Rpb24odCxlKXtyZXR1cm4gW01hdGgucG93KHRbMF0sMi4yKSplLE1hdGgucG93KHRbMV0sMi4yKSplLE1hdGgucG93KHRbMl0sMi4yKSplXX0sdC5jcD10cCx0LmNxPTI1Nix0LmNyPWZ1bmN0aW9uKGUscil7Y29uc3Qgbj1bMCwwLDBdLGk9V2goamgoci5jYW5vbmljYWwpKTtyZXR1cm4gdC5OLnRyYW5zZm9ybU1hdDQobixuLGkpLHQuTi50cmFuc2Zvcm1NYXQ0KG4sbixlKSxufSx0LmNzPXQ9Pih7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyB2byh0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IFBvKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyB2byh0KSx1X21hdHJpeDpuZXcgU28odCksdV9pbnZfcm90X21hdHJpeDpuZXcgU28odCksdV9tZXJjX2NlbnRlcjpuZXcgYm8odCksdV90aWxlX2lkOm5ldyBfbyh0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgdm8odCksdV91cF9kaXI6bmV3IF9vKHQpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IHZvKHQpfSksdC5jdD10PT4oe3VfbWF0cml4Om5ldyBTbyh0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBQbyh0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgdm8odCksdV91bml0c190b19waXhlbHM6bmV3IGJvKHQpLHVfZGFzaF9pbWFnZTpuZXcgeG8odCksdV9ncmFkaWVudF9pbWFnZTpuZXcgeG8odCksdV9pbWFnZV9oZWlnaHQ6bmV3IHZvKHQpLHVfdGV4c2l6ZTpuZXcgYm8odCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgdm8odCksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDpuZXcgdm8odCksdV90cmltX29mZnNldDpuZXcgYm8odCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgdm8odCl9KSx0LmN1PXQ9Pih7dV9tYXRyaXg6bmV3IFNvKHQpLHVfdGV4c2l6ZTpuZXcgYm8odCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgUG8odCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IHZvKHQpLHVfaW1hZ2U6bmV3IHhvKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBibyh0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyB2byh0KSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyB2byh0KSx1X3RyaW1fb2Zmc2V0Om5ldyBibyh0KX0pLHQuY3Y9a3MsdC5jdz1ubSx0LmN4PXVtLHQuY3k9dXAsdC5jej0odCxlLHIsbixpLGEpPT57Y29uc3Qgcz10LnRyYW5zZm9ybSxvPVwiZ2xvYmVcIj09PXMucHJvamVjdGlvbi5uYW1lO2xldCBsO2lmKFwibWFwXCI9PT1hLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikpaWYobyl7Y29uc3QgdD10cChzLnpvb20sZS5jYW5vbmljYWwpKnMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7bD1GbG9hdDMyQXJyYXkuZnJvbShbdCwwLDAsdF0pO31lbHNlIGw9cy5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChyKTtlbHNlIGw9bmV3IEZsb2F0MzJBcnJheShbcy5waXhlbHNUb0dMVW5pdHNbMF0sMCwwLHMucGl4ZWxzVG9HTFVuaXRzWzFdXSk7Y29uc3QgdT17dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnQudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2Uocy5wcm9qZWN0aW9uKSx1X21hdHJpeDp0LnRyYW5zbGF0ZVBvc01hdHJpeChlLnByb2pNYXRyaXgscixhLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksYS5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86c3QuZGV2aWNlUGl4ZWxSYXRpbyx1X2V4dHJ1ZGVfc2NhbGU6bCx1X2ludl9yb3RfbWF0cml4OmxwLHVfbWVyY19jZW50ZXI6WzAsMF0sdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X3VwX2RpcjpbMCwwLDBdLHVfZW1pc3NpdmVfc3RyZW5ndGg6YS5wYWludC5nZXQoXCJjaXJjbGUtZW1pc3NpdmUtc3RyZW5ndGhcIil9O2lmKG8pe3UudV9pbnZfcm90X21hdHJpeD1uLHUudV9tZXJjX2NlbnRlcj1pLHUudV90aWxlX2lkPVtlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnksMTw8ZS5jYW5vbmljYWwuel0sdS51X3pvb21fdHJhbnNpdGlvbj1ycChzLnpvb20pO2NvbnN0IHQ9aVswXSpUcixyPWlbMV0qVHI7dS51X3VwX2Rpcj1zLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGlsKDAsMCwwKSx0LHIpO31yZXR1cm4gdX0sdC5kPUN0LHQuZDA9Uyx0LmQxPV9sLHQuZDI9V28sdC5kMz1mdW5jdGlvbihbdCxlLHJdKXtjb25zdCBuPU1hdGguaHlwb3QodCxlLHIpLGk9TWF0aC5hdGFuMih0LHIpLGE9LjUqTWF0aC5QSS1NYXRoLmFjb3MoLWUvbik7cmV0dXJuIG5ldyB0bChfKGkpLF8oYSkpfSx0LmQ0PUpvLHQuZDU9bix0LmQ2PWlwLHQuZDc9bnAsdC5kOD1mdW5jdGlvbihlKXtjb25zdCByPVswLDAsMF0sbj10LmE2LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdC5hNi5tdWx0aXBseShuLGUucGl4ZWxNYXRyaXgsZS5nbG9iZU1hdHJpeCksdC5OLnRyYW5zZm9ybU1hdDQocixyLG4pLG5ldyBnKHJbMF0sclsxXSl9LHQuZDk9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm5hdmlnYXRvcj90Lm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtyZXR1cm4gISFmdW5jdGlvbih0KXtpZihudWxsPT10dCl7Y29uc3QgZT10Lm5hdmlnYXRvcj90Lm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDt0dD0hIXQuc2FmYXJpfHwhKCFlfHwhKC9cXGIoaVBhZHxpUGhvbmV8aVBvZClcXGIvLnRlc3QoZSl8fGUubWF0Y2goXCJTYWZhcmlcIikmJiFlLm1hdGNoKFwiQ2hyb21lXCIpKSk7fXJldHVybiB0dH0odCkmJmUmJihlLm1hdGNoKFwiVmVyc2lvbi8xNS40XCIpfHxlLm1hdGNoKFwiVmVyc2lvbi8xNS41XCIpfHxlLm1hdGNoKC9DUFUgKE9TfGlQaG9uZSBPUykgKDE1XzR8MTVfNSkgbGlrZSBNYWMgT1MgWC8pKX0sdC5kQT12eSx0LmRCPXl2LHQuZEM9dnYsdC5kRD1WZCx0LmRFPUYsdC5kRj1teSx0LmRHPWZ1bmN0aW9uKHQsZSxyLG4saSxhLHMsbyxsLHUsYyl7dC5jcmVhdGVBcnJheXMoKSx0LnRpbGVQaXhlbFJhdGlvPVRyLyg1MTIqdC5vdmVyc2NhbGluZyksdC5jb21wYXJlVGV4dD17fSx0Lmljb25zTmVlZExpbmVhcj0hMTtjb25zdCBoPXQubGF5ZXJzWzBdLmxheW91dCxwPXQubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLGY9e307aWYoXCJjb21wb3NpdGVcIj09PXQudGV4dFNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206ZSxtYXhab29tOnJ9PXQudGV4dFNpemVEYXRhO2YuY29tcG9zaXRlVGV4dFNpemVzPVtwW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBhKGUpLG8pLHBbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgUGEociksbyldO31pZihcImNvbXBvc2l0ZVwiPT09dC5pY29uU2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTplLG1heFpvb206cn09dC5pY29uU2l6ZURhdGE7Zi5jb21wb3NpdGVJY29uU2l6ZXM9W3BbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgUGEoZSksbykscFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQYShyKSxvKV07fWYubGF5b3V0VGV4dFNpemU9cFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQYShsKzEpLG8pLGYubGF5b3V0SWNvblNpemU9cFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQYShsKzEpLG8pLGYudGV4dE1heFNpemU9cFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQYSgxOCksbyk7Y29uc3QgZD1cIm1hcFwiPT09aC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09aC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLG09aC5nZXQoXCJ0ZXh0LXNpemVcIik7bGV0IHk9ITE7Zm9yKGNvbnN0IGUgb2YgdC5mZWF0dXJlcylpZihlLmljb24mJmUuaWNvbi5uYW1lU2Vjb25kYXJ5KXt5PSEwO2JyZWFrfWZvcihjb25zdCBhIG9mIHQuZmVhdHVyZXMpe2NvbnN0IGw9aC5nZXQoXCJ0ZXh0LWZvbnRcIikuZXZhbHVhdGUoYSx7fSxvKS5qb2luKFwiLFwiKSxwPW0uZXZhbHVhdGUoYSx7fSxvKSxnPWYubGF5b3V0VGV4dFNpemUuZXZhbHVhdGUoYSx7fSxvKSx4PShmLmxheW91dEljb25TaXplLmV2YWx1YXRlKGEse30sbykse2hvcml6b250YWw6e30sdmVydGljYWw6dm9pZCAwfSksdj1hLnRleHQ7bGV0IGIsXz1bMCwwXTtpZih2KXtjb25zdCBuPXYudG9TdHJpbmcoKSxzPWguZ2V0KFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiKS5ldmFsdWF0ZShhLHt9LG8pKmltLHU9aC5nZXQoXCJ0ZXh0LWxpbmUtaGVpZ2h0XCIpLmV2YWx1YXRlKGEse30sbykqaW0sYz11YShuKT9zOjAsZj1oLmdldChcInRleHQtYW5jaG9yXCIpLmV2YWx1YXRlKGEse30sbyksbT1oLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKCFtKXtjb25zdCB0PWguZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKGEse30sbyk7Xz10P1J5KGYsW3QqaW0sQnldKTpoLmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKGEse30sbykubWFwKCh0PT50KmltKSk7fWxldCB5PWQ/XCJjZW50ZXJcIjpoLmdldChcInRleHQtanVzdGlmeVwiKS5ldmFsdWF0ZShhLHt9LG8pO2NvbnN0IGI9XCJwb2ludFwiPT09aC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHc9Yj9oLmdldChcInRleHQtbWF4LXdpZHRoXCIpLmV2YWx1YXRlKGEse30sbykqaW06MS8wLE09YT0+e3QuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmbGEobikmJih4LnZlcnRpY2FsPUdtKHYsZSxyLGksbCx3LHUsZixhLGMsXyxqbS52ZXJ0aWNhbCwhMCxnLHApKTt9O2lmKCFkJiZtKXtjb25zdCB0PVwiYXV0b1wiPT09eT9tLm1hcCgodD0+RHkodCkpKTpbeV07bGV0IG49ITE7Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDthKyspe2NvbnN0IHM9dFthXTtpZigheC5ob3Jpem9udGFsW3NdKWlmKG4peC5ob3Jpem9udGFsW3NdPXguaG9yaXpvbnRhbFswXTtlbHNlIHtjb25zdCB0PUdtKHYsZSxyLGksbCx3LHUsXCJjZW50ZXJcIixzLGMsXyxqbS5ob3Jpem9udGFsLCExLGcscCk7dCYmKHguaG9yaXpvbnRhbFtzXT10LG49MT09PXQucG9zaXRpb25lZExpbmVzLmxlbmd0aCk7fX1NKFwibGVmdFwiKTt9ZWxzZSB7aWYoXCJhdXRvXCI9PT15JiYoeT1EeShmKSksYnx8aC5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5pbmRleE9mKFwiaG9yaXpvbnRhbFwiKT49MHx8IWxhKG4pKXtjb25zdCB0PUdtKHYsZSxyLGksbCx3LHUsZix5LGMsXyxqbS5ob3Jpem9udGFsLCExLGcscCk7dCYmKHguaG9yaXpvbnRhbFt5XT10KTt9TShiP1wibGVmdFwiOnkpO319bGV0IHc9ITE7aWYoYS5pY29uJiZhLmljb24ubmFtZVByaW1hcnkpe2NvbnN0IGU9blthLmljb24ubmFtZVByaW1hcnldO2UmJihiPWV5KGlbYS5pY29uLm5hbWVQcmltYXJ5XSxhLmljb24ubmFtZVNlY29uZGFyeT9pW2EuaWNvbi5uYW1lU2Vjb25kYXJ5XTp2b2lkIDAsaC5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShhLHt9LG8pLGguZ2V0KFwiaWNvbi1hbmNob3JcIikuZXZhbHVhdGUoYSx7fSxvKSksdz1lLnNkZix2b2lkIDA9PT10LnNkZkljb25zP3Quc2RmSWNvbnM9ZS5zZGY6dC5zZGZJY29ucyE9PWUuc2RmJiZqKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwoZS5waXhlbFJhdGlvIT09dC5waXhlbFJhdGlvfHwwIT09aC5nZXQoXCJpY29uLXJvdGF0ZVwiKS5jb25zdGFudE9yKDEpKSYmKHQuaWNvbnNOZWVkTGluZWFyPSEwKSk7fWNvbnN0IE09T3koeC5ob3Jpem9udGFsKXx8eC52ZXJ0aWNhbDt0Lmljb25zSW5UZXh0fHwodC5pY29uc0luVGV4dD0hIU0mJk0uaWNvbnNJblRleHQpLChNfHxiKSYmVnkodCxhLHgsYixuLGYsZywwLF8sdyxzLG8sdSxjLHkpO31hJiZ0LmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGwsdC5jb2xsaXNpb25Cb3hBcnJheSk7fSx0LmRIPUVmLHQuZEk9Vm0sdC5kSj1IZix0LmRLPWgsdC5kTD16Zix0LmRNPWdmLHQuZE49bSx0LmRPPW1tLHQuZFA9ZnVuY3Rpb24odCl7bGV0IGU9MDtpZihuZXcgVWludDMyQXJyYXkodCwwLDEpWzBdIT09V3gpe2NvbnN0IHI9bmV3IFVpbnQzMkFycmF5KHQsMCw3KSxbLCxuLGksYSxzXT1yO2U9ci5ieXRlTGVuZ3RoK2krYStzK2EsKG4hPT10LmJ5dGVMZW5ndGh8fGU+PXQuYnl0ZUxlbmd0aCkmJmooXCJJbnZhbGlkIGIzZG0gaGVhZGVyIGluZm9ybWF0aW9uLlwiKTt9cmV0dXJuIG52KHQsZSl9LHQuZFE9ZnVuY3Rpb24odCxlKXtjb25zdCByPWZ2KHQpO2Zvcihjb25zdCB0IG9mIHIpe2Zvcihjb25zdCBlIG9mIHQubWVzaGVzKWR2KGUpO3QubGlnaHRzJiYodC5saWdodE1lc2hJbmRleD10Lm1lc2hlcy5sZW5ndGgsdC5tZXNoZXMucHVzaChtdih0LmxpZ2h0cyxlKSkpO31yZXR1cm4gcn0sdC5kUj1Qdix0LmRTPWt4LHQuZFQ9a2EsdC5kVT1mdW5jdGlvbih0KXtmdCgpLGN0JiZjdC50aGVuKChlPT57ZS5rZXlzKCkudGhlbigocj0+e2ZvcihsZXQgbj0wO248ci5sZW5ndGgtdDtuKyspZS5kZWxldGUocltuXSk7fSkpO30pKTt9LHQuZGE9Y2xhc3N7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbj10LHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWUsdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISFyLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCk7fV9jcmVhdGVTa3VUb2tlbigpe2NvbnN0IHQ9ZnVuY3Rpb24oKXtsZXQgdD1cIlwiO2ZvcihsZXQgZT0wO2U8MTA7ZSsrKXQrPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIltNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpXTtyZXR1cm4ge3Rva2VuOltcIjFcIixSdCx0XS5qb2luKFwiXCIpLHRva2VuRXhwaXJlc0F0OkRhdGUubm93KCkrNDMyZTV9fSgpO3RoaXMuX3NrdVRva2VuPXQudG9rZW4sdGhpcy5fc2t1VG9rZW5FeHBpcmVzQXQ9dC50b2tlbkV4cGlyZXNBdDt9X2lzU2t1VG9rZW5FeHBpcmVkKCl7cmV0dXJuIERhdGUubm93KCk+dGhpcy5fc2t1VG9rZW5FeHBpcmVzQXR9dHJhbnNmb3JtUmVxdWVzdCh0LGUpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4mJnRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbih0LGUpfHx7dXJsOnR9fW5vcm1hbGl6ZVN0eWxlVVJMKHQscil7aWYoIWEodCkpcmV0dXJuIHQ7Y29uc3Qgbj1MdCh0KTtyZXR1cm4gbi5wYXJhbXMucHVzaChgc2RrPWpzLSR7ZX1gKSxuLnBhdGg9YC9zdHlsZXMvdjEke24ucGF0aH1gLHRoaXMuX21ha2VBUElVUkwobix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8cil9bm9ybWFsaXplR2x5cGhzVVJMKHQsZSl7aWYoIWEodCkpcmV0dXJuIHQ7Y29uc3Qgcj1MdCh0KTtyZXR1cm4gci5wYXRoPWAvZm9udHMvdjEke3IucGF0aH1gLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9bm9ybWFsaXplTW9kZWxVUkwodCxlKXtpZighYSh0KSlyZXR1cm4gdDtjb25zdCByPUx0KHQpO3JldHVybiByLnBhdGg9YC9tb2RlbHMvdjEke3IucGF0aH1gLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9bm9ybWFsaXplU291cmNlVVJMKHQsZSxyLG4pe2lmKCFhKHQpKXJldHVybiB0O2NvbnN0IGk9THQodCk7cmV0dXJuIGkucGF0aD1gL3Y0LyR7aS5hdXRob3JpdHl9Lmpzb25gLGkucGFyYW1zLnB1c2goXCJzZWN1cmVcIiksciYmaS5wYXJhbXMucHVzaChgbGFuZ3VhZ2U9JHtyfWApLG4mJmkucGFyYW1zLnB1c2goYHdvcmxkdmlldz0ke259YCksdGhpcy5fbWFrZUFQSVVSTChpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxlKX1ub3JtYWxpemVTcHJpdGVVUkwodCxlLHIsbil7Y29uc3QgaT1MdCh0KTtyZXR1cm4gYSh0KT8oaS5wYXRoPWAvc3R5bGVzL3YxJHtpLnBhdGh9L3Nwcml0ZSR7ZX0ke3J9YCx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fG4pKTooaS5wYXRoKz1gJHtlfSR7cn1gLEZ0KGkpKX1ub3JtYWxpemVUaWxlVVJMKHQsZSxyKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLHQmJiFhKHQpKXJldHVybiB0O2NvbnN0IGk9THQodCk7aS5wYXRoPWkucGF0aC5yZXBsYWNlKC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS8sYCR7ZXx8ciYmXCJyYXN0ZXJcIiE9PWkuYXV0aG9yaXR5JiY1MTI9PT1yP1wiQDJ4XCI6XCJcIn0ke2d0LnN1cHBvcnRlZD9cIi53ZWJwXCI6XCIkMVwifWApLFwicmFzdGVyXCI9PT1pLmF1dGhvcml0eT9pLnBhdGg9YC8ke24uUkFTVEVSX1VSTF9QUkVGSVh9JHtpLnBhdGh9YDpcInJhc3RlcmFycmF5c1wiPT09aS5hdXRob3JpdHk/aS5wYXRoPWAvJHtuLlJBU1RFUkFSUkFZU19VUkxfUFJFRklYfSR7aS5wYXRofWA6KGkucGF0aD1pLnBhdGgucmVwbGFjZSgvXi4rXFwvdjRcXC8vLFwiL1wiKSxpLnBhdGg9YC8ke24uVElMRV9VUkxfVkVSU0lPTn0ke2kucGF0aH1gKTtjb25zdCBzPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbih0KXtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUubWF0Y2goL15hY2Nlc3NfdG9rZW49KC4qKSQvKTtpZih0KXJldHVybiB0WzFdfXJldHVybiBudWxsfShpLnBhcmFtcyl8fG4uQUNDRVNTX1RPS0VOO3JldHVybiBuLlJFUVVJUkVfQUNDRVNTX1RPS0VOJiZzJiZ0aGlzLl9za3VUb2tlbiYmaS5wYXJhbXMucHVzaChgc2t1PSR7dGhpcy5fc2t1VG9rZW59YCksdGhpcy5fbWFrZUFQSVVSTChpLHMpfWNhbm9uaWNhbGl6ZVRpbGVVUkwodCxlKXtjb25zdCByPUx0KHQpO2lmKCFyLnBhdGgubWF0Y2goL14oXFwvdjRcXC98XFwvKHJhc3RlcnxyYXN0ZXJhcnJheXMpXFwvdjFcXC8pLyl8fCFyLnBhdGgubWF0Y2goL1xcLltcXHddKyQvKSlyZXR1cm4gdDtsZXQgaT1cIm1hcGJveDovL1wiO3IucGF0aC5tYXRjaCgvXlxcL3Jhc3RlclxcL3YxXFwvLyk/aSs9YHJhc3Rlci8ke3IucGF0aC5yZXBsYWNlKGAvJHtuLlJBU1RFUl9VUkxfUFJFRklYfS9gLFwiXCIpfWA6ci5wYXRoLm1hdGNoKC9eXFwvcmFzdGVyYXJyYXlzXFwvdjFcXC8vKT9pKz1gcmFzdGVyYXJyYXlzLyR7ci5wYXRoLnJlcGxhY2UoYC8ke24uUkFTVEVSQVJSQVlTX1VSTF9QUkVGSVh9L2AsXCJcIil9YDppKz1gdGlsZXMvJHtyLnBhdGgucmVwbGFjZShgLyR7bi5USUxFX1VSTF9WRVJTSU9OfS9gLFwiXCIpfWA7bGV0IGE9ci5wYXJhbXM7cmV0dXJuIGUmJihhPWEuZmlsdGVyKCh0PT4hdC5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKSkpKSxhLmxlbmd0aCYmKGkrPWA/JHthLmpvaW4oXCImXCIpfWApLGl9Y2Fub25pY2FsaXplVGlsZXNldCh0LGUpe2NvbnN0IHI9ISFlJiZhKGUpLG49W107Zm9yKGNvbnN0IGUgb2YgdC50aWxlc3x8W10paShlKT9uLnB1c2godGhpcy5jYW5vbmljYWxpemVUaWxlVVJMKGUscikpOm4ucHVzaChlKTtyZXR1cm4gbn1fbWFrZUFQSVVSTCh0LGUpe2NvbnN0IHI9XCJTZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL292ZXJ2aWV3LyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixpPUx0KG4uQVBJX1VSTCk7aWYodC5wcm90b2NvbD1pLnByb3RvY29sLHQuYXV0aG9yaXR5PWkuYXV0aG9yaXR5LFwiaHR0cFwiPT09dC5wcm90b2NvbCl7Y29uc3QgZT10LnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO2U+PTAmJnQucGFyYW1zLnNwbGljZShlLDEpO31pZihcIi9cIiE9PWkucGF0aCYmKHQucGF0aD1gJHtpLnBhdGh9JHt0LnBhdGh9YCksIW4uUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIEZ0KHQpO2lmKGU9ZXx8bi5BQ0NFU1NfVE9LRU4sIXRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoYEFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gJHtyfWApO2lmKFwic1wiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoYFVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gJHtyfWApfXJldHVybiB0LnBhcmFtcz10LnBhcmFtcy5maWx0ZXIoKHQ9Pi0xPT09dC5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpKSksdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7ZXx8XCJcIn1gKSxGdCh0KX19LHQuZGI9ZnVuY3Rpb24odCxlKXtlP0h0LmFkZCh0KTpIdC5kZWxldGUodCk7fSx0LmRjPWd0LHQuZGQ9WHQsdC5kZT1LdCx0LmRmPUR0LHQuZGc9R3QsdC5kaD1mdW5jdGlvbih0KXtIdC5kZWxldGUodCk7fSx0LmRpPVp0LHQuZGo9JHQsdC5kaz1lLHQuZGw9ZnVuY3Rpb24odCxlKXtsdD10LHV0PWU7fSx0LmRtPWZ1bmN0aW9uKHQsZSxyPSExKXtpZihiYT09PXlhfHxiYT09PWdhfHxiYT09PXhhKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7X2E9c3QucmVzb2x2ZVVSTCh0KSxiYT15YSx2YT1lLE1hKCkscnx8SWEoKTt9LHQuZG49U2EsdC5kcD1mdW5jdGlvbigpe1J4KCkuYWNxdWlyZShUeCk7fSx0LmRxPWZ1bmN0aW9uKCl7Y29uc3QgdD1DeDt0JiYodC5pc1ByZWxvYWRlZCgpJiYxPT09dC5udW1BY3RpdmUoKT8odC5yZWxlYXNlKFR4KSxDeD1udWxsKTpjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKVwiKSk7fSx0LmRyPUJ4LHQuZHM9ZnVuY3Rpb24odCl7Y29uc3QgZT1wdCgpO2lmKCFlKXJldHVybjtjb25zdCByPWUuZGVsZXRlKG90KTt0JiZyLmNhdGNoKHQpLnRoZW4oKCgpPT50KCkpKTt9LHQuZHQ9RXgsdC5kdT1VeCx0LmR2PWZ1bmN0aW9uKHQpe1Z4PXN0LnJlc29sdmVVUkwodCksT3h8fChPeD1uZXcgUHgoUngoKSxuZXcgZWUpKSxPeC5icm9hZGNhc3QoXCJzZXREcmFjb1VybFwiLFZ4KTt9LHQuZHc9angsdC5keD1mdW5jdGlvbih0KXtGeD1zdC5yZXNvbHZlVVJMKHQpLE94fHwoT3g9bmV3IFB4KFJ4KCksbmV3IGVlKSksT3guYnJvYWRjYXN0KFwic2V0TWVzaG9wdFVybFwiLEZ4KTt9LHQuZHk9cmEsdC5kej12cCx0LmU9eix0LmY9c3QsdC5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGt0KHoodCx7dHlwZTpcImpzb25cIn0pLGUpfSx0Lmg9YnAsdC5pPUtlLHQuaj1wZSx0Lms9VGksdC5sPWZ1bmN0aW9uKHQpe3JldHVybiBmZXRjaCh0KS50aGVuKCh0PT50LmFycmF5QnVmZmVyKCkpKS50aGVuKChlPT5udihlLDAsdCkpKX0sdC5tPUNpLHQubj0kaSx0Lm89amEsdC5wPXB5LHQucT1aaSx0LnI9R2ksdC5zPVJpLHQudD1tbix0LnU9VWEsdC52PWduLHQudz1qLHQueD1kbix0Lno9JGE7fSkpO1xuXG5kZWZpbmUoW1wiLi9zaGFyZWRcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7Y29uc3QgdD1lP2UudXJsLnRvU3RyaW5nKCk6dm9pZCAwO3JldHVybiB0P3BlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUodCk6W119ZnVuY3Rpb24gcyhlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IHQ9XCJbXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1gJHtzKGkpfSxgO3JldHVybiBgJHt0fV1gfWxldCB0PVwie1wiO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSl0Kz1gJHtpfToke3MoZVtpXSl9LGA7cmV0dXJuIGAke3R9fWB9ZnVuY3Rpb24gaSh0KXtsZXQgaT1cIlwiO2Zvcihjb25zdCBvIG9mIGUuYjIpaSs9YC8ke3ModFtvXSl9YDtyZXR1cm4gaX1jbGFzcyBve2NvbnN0cnVjdG9yKGUpe3RoaXMua2V5Q2FjaGU9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX2xheWVyQ29uZmlncz17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fXJlcGxhY2UoZSx0KXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10sdCk7fXVwZGF0ZSh0LHMsbyl7dGhpcy5fb3B0aW9ucz1vO2Zvcihjb25zdCBzIG9mIHQpdGhpcy5fbGF5ZXJDb25maWdzW3MuaWRdPXMsKHRoaXMuX2xheWVyc1tzLmlkXT1lLmMyKHMsdGhpcy5zY29wZSx0aGlzLl9vcHRpb25zKSkuY29tcGlsZUZpbHRlcigpLHRoaXMua2V5Q2FjaGVbcy5pZF0mJmRlbGV0ZSB0aGlzLmtleUNhY2hlW3MuaWRdO2Zvcihjb25zdCBlIG9mIHMpZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCByPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcz17fTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj10JiZ0W2Vbb10uaWRdfHxpKGVbb10pO3QmJih0W2Vbb10uaWRdPXIpO2xldCBuPXNbcl07bnx8KG49c1tyXT1bXSksbi5wdXNoKGVbb10pO31jb25zdCBvPVtdO2Zvcihjb25zdCBlIGluIHMpby5wdXNoKHNbZV0pO3JldHVybiBvfShlLmEkKHRoaXMuX2xheWVyQ29uZmlncyksdGhpcy5rZXlDYWNoZSk7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1lLm1hcCgoZT0+dGhpcy5fbGF5ZXJzW2UuaWRdKSkscz10WzBdO2lmKFwibm9uZVwiPT09cy52aXNpYmlsaXR5KWNvbnRpbnVlO2NvbnN0IGk9cy5zb3VyY2V8fFwiXCI7bGV0IG89dGhpcy5mYW1pbGllc0J5U291cmNlW2ldO298fChvPXRoaXMuZmFtaWxpZXNCeVNvdXJjZVtpXT17fSk7Y29uc3Qgcj1zLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCI7bGV0IG49b1tyXTtufHwobj1vW3JdPVtdKSxuLnB1c2godCk7fX19Y29uc3Qgcj0xKmUuZEE7Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0KXtjb25zdCBzPXt9LGk9W107Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgbz10W2VdLG49c1tlXT17fTtmb3IoY29uc3QgZSBpbiBvLmdseXBocyl7Y29uc3QgdD1vLmdseXBoc1srZV07aWYoIXR8fDA9PT10LmJpdG1hcC53aWR0aHx8MD09PXQuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBzPXQubWV0cmljcy5sb2NhbEdseXBoP3I6MSxhPXt4OjAseTowLHc6dC5iaXRtYXAud2lkdGgrMipzLGg6dC5iaXRtYXAuaGVpZ2h0KzIqc307aS5wdXNoKGEpLG5bZV09YTt9fWNvbnN0e3c6byxoOm59PWUucChpKSxhPW5ldyBlLmR6KHt3aWR0aDpvfHwxLGhlaWdodDpufHwxfSk7Zm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgbz10W2ldO2Zvcihjb25zdCB0IGluIG8uZ2x5cGhzKXtjb25zdCBuPW8uZ2x5cGhzWyt0XTtpZighbnx8MD09PW4uYml0bWFwLndpZHRofHwwPT09bi5iaXRtYXAuaGVpZ2h0KWNvbnRpbnVlO2NvbnN0IGw9c1tpXVt0XSxoPW4ubWV0cmljcy5sb2NhbEdseXBoP3I6MTtlLmR6LmNvcHkobi5iaXRtYXAsYSx7eDowLHk6MH0se3g6bC54K2gseTpsLnkraH0sbi5iaXRtYXApO319dGhpcy5pbWFnZT1hLHRoaXMucG9zaXRpb25zPXM7fX1lLmR5KG4sXCJHbHlwaEF0bGFzXCIpO2NsYXNzIGF7Y29uc3RydWN0b3IodCl7dGhpcy50aWxlSUQ9bmV3IGUuYW0odC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy50aWxlWm9vbT10LnRpbGVab29tLHRoaXMudWlkPXQudWlkLHRoaXMuem9vbT10Lnpvb20sdGhpcy5jYW5vbmljYWw9dC50aWxlSUQuY2Fub25pY2FsLHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy50aWxlU2l6ZT10LnRpbGVTaXplLHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMuc2NvcGU9dC5zY29wZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5wcm9tb3RlSWQ9dC5wcm9tb3RlSWQsdGhpcy5pc1N5bWJvbFRpbGU9dC5pc1N5bWJvbFRpbGUsdGhpcy50aWxlVHJhbnNmb3JtPWUuYXModC50aWxlSUQuY2Fub25pY2FsLHQucHJvamVjdGlvbiksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbix0aGlzLmJyaWdodG5lc3M9dC5icmlnaHRuZXNzLHRoaXMuZXh0cmFTaGFkb3dDYXN0ZXI9ISF0LmV4dHJhU2hhZG93Q2FzdGVyO31wYXJzZSh0LHMsaSxvLHIpe3RoaXMuc3RhdHVzPVwicGFyc2luZ1wiLHRoaXMuZGF0YT10LHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IGUuYUQ7Y29uc3QgYT1uZXcgZS5kQihPYmplY3Qua2V5cyh0LmxheWVycykuc29ydCgpKSxoPW5ldyBlLmRDKHRoaXMudGlsZUlELHRoaXMucHJvbW90ZUlkKTtoLmJ1Y2tldExheWVySURzPVtdO2NvbnN0IGM9e30sdT1uZXcgZS5kRCgyNTYsMjU2KSxkPXtmZWF0dXJlSW5kZXg6aCxpY29uRGVwZW5kZW5jaWVzOnt9LHBhdHRlcm5EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e30sbGluZUF0bGFzOnUsYXZhaWxhYmxlSW1hZ2VzOmksYnJpZ2h0bmVzczp0aGlzLmJyaWdodG5lc3N9LHA9cy5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IoY29uc3QgcyBpbiBwKXtjb25zdCBvPXQubGF5ZXJzW3NdO2lmKCFvKWNvbnRpbnVlO2xldCByPSExLG49ITEsdT0hMTtmb3IoY29uc3QgZSBvZiBwW3NdKVwic3ltYm9sXCI9PT1lWzBdLnR5cGU/cj0hMDpuPSEwLGVbMF0uaXMzRCgpJiZcIm1vZGVsXCIhPT1lWzBdLnR5cGUmJih1PSEwKTtpZih0aGlzLmV4dHJhU2hhZG93Q2FzdGVyJiYhdSljb250aW51ZTtpZighMD09PXRoaXMuaXNTeW1ib2xUaWxlJiYhciljb250aW51ZTtpZighMT09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbiljb250aW51ZTsxPT09by52ZXJzaW9uJiZlLncoYFZlY3RvciB0aWxlIHNvdXJjZSBcIiR7dGhpcy5zb3VyY2V9XCIgbGF5ZXIgXCIke3N9XCIgZG9lcyBub3QgdXNlIHZlY3RvciB0aWxlIHNwZWMgdjIgYW5kIHRoZXJlZm9yZSBtYXkgaGF2ZSBzb21lIHJlbmRlcmluZyBlcnJvcnMuYCk7Y29uc3QgZj1hLmVuY29kZShzKSxnPVtdO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW8uZmVhdHVyZShlKSxpPWguZ2V0SWQodCxzKTtnLnB1c2goe2ZlYXR1cmU6dCxpZDppLGluZGV4OmUsc291cmNlTGF5ZXJJbmRleDpmfSk7fWZvcihjb25zdCBlIG9mIHBbc10pe2NvbnN0IHQ9ZVswXTsoIXRoaXMuZXh0cmFTaGFkb3dDYXN0ZXJ8fHQuaXMzRCgpJiZcIm1vZGVsXCIhPT10LnR5cGUpJiYodm9pZCAwIT09dGhpcy5pc1N5bWJvbFRpbGUmJlwic3ltYm9sXCI9PT10LnR5cGUhPT10aGlzLmlzU3ltYm9sVGlsZXx8dC5taW56b29tJiZ0aGlzLnpvb208TWF0aC5mbG9vcih0Lm1pbnpvb20pfHx0Lm1heHpvb20mJnRoaXMuem9vbT49dC5tYXh6b29tfHxcIm5vbmVcIiE9PXQudmlzaWJpbGl0eSYmKGwoZSx0aGlzLnpvb20sZC5icmlnaHRuZXNzLGkpLChjW3QuaWRdPXQuY3JlYXRlQnVja2V0KHtpbmRleDpoLmJ1Y2tldExheWVySURzLmxlbmd0aCxsYXllcnM6ZSx6b29tOnRoaXMuem9vbSxjYW5vbmljYWw6dGhpcy5jYW5vbmljYWwscGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6Zixzb3VyY2VJRDp0aGlzLnNvdXJjZSxwcm9qZWN0aW9uOnRoaXMucHJvamVjdGlvbi5zcGVjfSkpLnBvcHVsYXRlKGcsZCx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKSxoLmJ1Y2tldExheWVySURzLnB1c2goZS5tYXAoKGU9PmUuaWQpKSkpKTt9fWxldCBmLGcsbSx5O3UudHJpbSgpO2NvbnN0IHY9e3R5cGU6XCJtYXliZVByZXBhcmVcIixpc1N5bWJvbFRpbGU6dGhpcy5pc1N5bWJvbFRpbGUsem9vbTp0aGlzLnpvb219LHg9KCk9PntpZihmKXJldHVybiB0aGlzLnN0YXR1cz1cImRvbmVcIixyKGYpO2lmKHRoaXMuZXh0cmFTaGFkb3dDYXN0ZXIpdGhpcy5zdGF0dXM9XCJkb25lXCIscihudWxsLHtidWNrZXRzOmUuYSQoYykuZmlsdGVyKChlPT4hZS5pc0VtcHR5KCkpKSxmZWF0dXJlSW5kZXg6aCxjb2xsaXNpb25Cb3hBcnJheTpudWxsLGdseXBoQXRsYXNJbWFnZTpudWxsLGxpbmVBdGxhczpudWxsLGltYWdlQXRsYXM6bnVsbCxicmlnaHRuZXNzOmQuYnJpZ2h0bmVzcyxnbHlwaE1hcDpudWxsLGljb25NYXA6bnVsbCxnbHlwaFBvc2l0aW9uczpudWxsfSk7ZWxzZSBpZihnJiZtJiZ5KXtjb25zdCB0PW5ldyBuKGcpLHM9bmV3IGUuZEYobSx5KTtmb3IoY29uc3QgbyBpbiBjKXtjb25zdCByPWNbb107ciBpbnN0YW5jZW9mIGUuYUU/KGwoci5sYXllcnMsdGhpcy56b29tLGQuYnJpZ2h0bmVzcyxpKSxlLmRHKHIsZyx0LnBvc2l0aW9ucyxtLHMuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxpLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVab29tLHRoaXMucHJvamVjdGlvbix0aGlzLmJyaWdodG5lc3MpKTpyLmhhc1BhdHRlcm4mJihyIGluc3RhbmNlb2YgZS5hS3x8ciBpbnN0YW5jZW9mIGUuYUx8fHIgaW5zdGFuY2VvZiBlLmNIKSYmKGwoci5sYXllcnMsdGhpcy56b29tLGQuYnJpZ2h0bmVzcyxpKSxyLmFkZEZlYXR1cmVzKGQsdGhpcy50aWxlSUQuY2Fub25pY2FsLHMucGF0dGVyblBvc2l0aW9ucyxpLHRoaXMudGlsZVRyYW5zZm9ybSx0aGlzLmJyaWdodG5lc3MpKTt9dGhpcy5zdGF0dXM9XCJkb25lXCIscihudWxsLHtidWNrZXRzOmUuYSQoYykuZmlsdGVyKChlPT4hZS5pc0VtcHR5KCkpKSxmZWF0dXJlSW5kZXg6aCxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LGdseXBoQXRsYXNJbWFnZTp0LmltYWdlLGxpbmVBdGxhczp1LGltYWdlQXRsYXM6cyxicmlnaHRuZXNzOmQuYnJpZ2h0bmVzc30pO319O2lmKCF0aGlzLmV4dHJhU2hhZG93Q2FzdGVyKXtjb25zdCB0PWUuZEUoZC5nbHlwaERlcGVuZGVuY2llcywoZT0+T2JqZWN0LmtleXMoZSkubWFwKE51bWJlcikpKTtPYmplY3Qua2V5cyh0KS5sZW5ndGg/by5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6dCxzY29wZTp0aGlzLnNjb3BlfSwoKGUsdCk9PntmfHwoZj1lLGc9dCx4KCkpO30pLHZvaWQgMCwhMSx2KTpnPXt9O2NvbnN0IHM9T2JqZWN0LmtleXMoZC5pY29uRGVwZW5kZW5jaWVzKTtzLmxlbmd0aD9vLnNlbmQoXCJnZXRJbWFnZXNcIix7aWNvbnM6cyxzb3VyY2U6dGhpcy5zb3VyY2Usc2NvcGU6dGhpcy5zY29wZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcImljb25zXCJ9LCgoZSx0KT0+e2Z8fChmPWUsbT10LHgoKSk7fSksdm9pZCAwLCExLHYpOm09e307Y29uc3QgaT1PYmplY3Qua2V5cyhkLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2kubGVuZ3RoP28uc2VuZChcImdldEltYWdlc1wiLHtpY29uczppLHNvdXJjZTp0aGlzLnNvdXJjZSxzY29wZTp0aGlzLnNjb3BlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwicGF0dGVybnNcIn0sKChlLHQpPT57Znx8KGY9ZSx5PXQseCgpKTt9KSx2b2lkIDAsITEsdik6eT17fTt9eCgpO319ZnVuY3Rpb24gbCh0LHMsaSxvKXtjb25zdCByPW5ldyBlLksocyx7YnJpZ2h0bmVzczppfSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlY2FsY3VsYXRlKHIsbyk7fWNsYXNzIGggZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IodCxzLGksbyxyLG4pe3N1cGVyKCksdGhpcy5hY3Rvcj10LHRoaXMubGF5ZXJJbmRleD1zLHRoaXMuYXZhaWxhYmxlSW1hZ2VzPWksdGhpcy5sb2FkVmVjdG9yRGF0YT1yfHxlLmFoLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fSx0aGlzLmRlZHVwZWQ9bmV3IGUuYWYodC5zY2hlZHVsZXIpLHRoaXMuaXNTcHJpdGVMb2FkZWQ9byx0aGlzLnNjaGVkdWxlcj10LnNjaGVkdWxlcix0aGlzLmJyaWdodG5lc3M9bjt9bG9hZFRpbGUocyxpKXtjb25zdCBvPXMudWlkLHI9cyYmcy5yZXF1ZXN0LG49ciYmci5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsbD10aGlzLmxvYWRpbmdbb109bmV3IGEocyk7bC5hYm9ydD10aGlzLmxvYWRWZWN0b3JEYXRhKHMsKChhLGgpPT57Y29uc3QgYz0hdGhpcy5sb2FkaW5nW29dO2lmKGRlbGV0ZSB0aGlzLmxvYWRpbmdbb10sY3x8YXx8IWgpcmV0dXJuIGwuc3RhdHVzPVwiZG9uZVwiLGN8fCh0aGlzLmxvYWRlZFtvXT1sKSxpKGEpO2NvbnN0IHU9aC5yYXdEYXRhLGQ9e307aC5leHBpcmVzJiYoZC5leHBpcmVzPWguZXhwaXJlcyksaC5jYWNoZUNvbnRyb2wmJihkLmNhY2hlQ29udHJvbD1oLmNhY2hlQ29udHJvbCksbC52ZWN0b3JUaWxlPWgudmVjdG9yVGlsZXx8bmV3IGUuZEgobmV3IGUuZEkodSkpO2NvbnN0IHA9KCk9PntsLnBhcnNlKGwudmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvciwoKHMsbyk9PntpZihzfHwhbylyZXR1cm4gaShzKTtjb25zdCBhPXt9O2lmKG4pe2NvbnN0IGU9dChyKTtlLmxlbmd0aD4wJiYoYS5yZXNvdXJjZVRpbWluZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSk7fWkobnVsbCxlLmUoe3Jhd1RpbGVEYXRhOnUuc2xpY2UoMCl9LG8sZCxhKSk7fSkpO307dGhpcy5pc1Nwcml0ZUxvYWRlZD9wKCk6dGhpcy5vbmNlKFwiaXNTcHJpdGVMb2FkZWRcIiwoKCk9Pnt0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQocCx7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTpzLmlzU3ltYm9sVGlsZSx6b29tOnMudGlsZVpvb219KTpwKCk7fSkpLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtvXT1sO30pKTt9cmVsb2FkVGlsZSh0LHMpe2NvbnN0IGk9dGhpcy5sb2FkZWQsbz10LnVpZCxyPXRoaXM7aWYoaSYmaVtvXSl7Y29uc3Qgbj1pW29dO24uc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLG4ucHJvamVjdGlvbj10LnByb2plY3Rpb24sbi5icmlnaHRuZXNzPXQuYnJpZ2h0bmVzcyxuLnRpbGVUcmFuc2Zvcm09ZS5hcyh0LnRpbGVJRC5jYW5vbmljYWwsdC5wcm9qZWN0aW9uKSxuLmV4dHJhU2hhZG93Q2FzdGVyPXQuZXh0cmFTaGFkb3dDYXN0ZXI7Y29uc3QgYT0oZSx0KT0+e2NvbnN0IGk9bi5yZWxvYWRDYWxsYmFjaztpJiYoZGVsZXRlIG4ucmVsb2FkQ2FsbGJhY2ssbi5wYXJzZShuLnZlY3RvclRpbGUsci5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHIuYWN0b3IsaSkpLHMoZSx0KTt9O1wicGFyc2luZ1wiPT09bi5zdGF0dXM/bi5yZWxvYWRDYWxsYmFjaz1hOlwiZG9uZVwiPT09bi5zdGF0dXMmJihuLnZlY3RvclRpbGU/bi5wYXJzZShuLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKTt9ZWxzZSBzKG51bGwsdm9pZCAwKTt9YWJvcnRUaWxlKGUsdCl7Y29uc3Qgcz1lLnVpZCxpPXRoaXMubG9hZGluZ1tzXTtpJiYoaS5hYm9ydCYmaS5hYm9ydCgpLGRlbGV0ZSB0aGlzLmxvYWRpbmdbc10pLHQoKTt9cmVtb3ZlVGlsZShlLHQpe2NvbnN0IHM9dGhpcy5sb2FkZWQsaT1lLnVpZDtzJiZzW2ldJiZkZWxldGUgc1tpXSx0KCk7fX1jbGFzcyBje2xvYWRUaWxlKHQscyl7Y29uc3R7dWlkOmksZW5jb2Rpbmc6byxyYXdJbWFnZURhdGE6cixwYWRkaW5nOm59PXQsYT1JbWFnZUJpdG1hcCYmciBpbnN0YW5jZW9mIEltYWdlQml0bWFwP3RoaXMuZ2V0SW1hZ2VEYXRhKHIsbik6cjtzKG51bGwsbmV3IGUuZEooaSxhLG8sbjwxKSk7fWdldEltYWdlRGF0YShlLHQpe3RoaXMub2Zmc2NyZWVuQ2FudmFzJiZ0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHR8fCh0aGlzLm9mZnNjcmVlbkNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKGUud2lkdGgsZS5oZWlnaHQpLHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dD10aGlzLm9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSkpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPWUud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3Qgcz10aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKC10LC10LGUud2lkdGgrMip0LGUuaGVpZ2h0KzIqdCk7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCksc319Y2xhc3MgdXtkZWNvZGVSYXN0ZXJBcnJheSh7dGFzazp0LGJ1ZmZlcjpzfSxpKXtlLmFaLnBlcmZvcm1EZWNvZGluZyhzLHQpLnRoZW4oKGU9PntpKG51bGwsZSk7fSksKGU9PntpKGUpO30pKTt9fWZ1bmN0aW9uIGQoZSx0KXtpZigwIT09ZS5sZW5ndGgpe3AoZVswXSx0KTtmb3IodmFyIHM9MTtzPGUubGVuZ3RoO3MrKylwKGVbc10sIXQpO319ZnVuY3Rpb24gcChlLHQpe2Zvcih2YXIgcz0wLGk9MCxvPTAscj1lLmxlbmd0aCxuPXItMTtvPHI7bj1vKyspe3ZhciBhPShlW29dWzBdLWVbbl1bMF0pKihlW25dWzFdK2Vbb11bMV0pLGw9cythO2krPU1hdGguYWJzKHMpPj1NYXRoLmFicyhhKT9zLWwrYTphLWwrcyxzPWw7fXMraT49MCE9ISF0JiZlLnJldmVyc2UoKTt9dmFyIGY9ZS5kSygoZnVuY3Rpb24gZSh0LHMpe3ZhciBpLG89dCYmdC50eXBlO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PW8pZm9yKGk9MDtpPHQuZmVhdHVyZXMubGVuZ3RoO2krKyllKHQuZmVhdHVyZXNbaV0scyk7ZWxzZSBpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09bylmb3IoaT0wO2k8dC5nZW9tZXRyaWVzLmxlbmd0aDtpKyspZSh0Lmdlb21ldHJpZXNbaV0scyk7ZWxzZSBpZihcIkZlYXR1cmVcIj09PW8pZSh0Lmdlb21ldHJ5LHMpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1vKWQodC5jb29yZGluYXRlcyxzKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1vKWZvcihpPTA7aTx0LmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspZCh0LmNvb3JkaW5hdGVzW2ldLHMpO3JldHVybiB0fSkpO2NvbnN0IGc9ZS5kTC5wcm90b3R5cGUudG9HZW9KU09OO2xldCBtPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLlYsdGhpcy50eXBlPXQudHlwZSx0aGlzLnByb3BlcnRpZXM9dC50YWdzLFwiaWRcImluIHQmJiFpc05hTih0LmlkKSYmKHRoaXMuaWQ9cGFyc2VJbnQodC5pZCwxMCkpO31sb2FkR2VvbWV0cnkoKXtpZigxPT09dGhpcy5fZmVhdHVyZS50eXBlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBzIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpdC5wdXNoKFtuZXcgZS5QKHNbMF0sc1sxXSldKTtyZXR1cm4gdH17Y29uc3QgdD1bXTtmb3IoY29uc3QgcyBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIHMpaS5wdXNoKG5ldyBlLlAodFswXSx0WzFdKSk7dC5wdXNoKGkpO31yZXR1cm4gdH19dG9HZW9KU09OKGUsdCxzKXtyZXR1cm4gZy5jYWxsKHRoaXMsZSx0LHMpfX0seT1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLmV4dGVudD1lLlYsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dDt9ZmVhdHVyZShlKXtyZXR1cm4gbmV3IG0odGhpcy5fZmVhdHVyZXNbZV0pfX07dmFyIHY9e2V4cG9ydHM6e319LHg9ZS5kTix3PWUuZE0uVmVjdG9yVGlsZUZlYXR1cmUsUz1iO2Z1bmN0aW9uIGIoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO31mdW5jdGlvbiBJKGUsdCl7dGhpcy5pZD1cIm51bWJlclwiPT10eXBlb2YgZS5pZD9lLmlkOnZvaWQgMCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMucmF3R2VvbWV0cnk9MT09PWUudHlwZT9bZS5nZW9tZXRyeV06ZS5nZW9tZXRyeSx0aGlzLnByb3BlcnRpZXM9ZS50YWdzLHRoaXMuZXh0ZW50PXR8fDQwOTY7fWIucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBJKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LEkucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciBzPWVbdF0saT1bXSxvPTA7bzxzLmxlbmd0aDtvKyspaS5wdXNoKG5ldyB4KHNbb11bMF0sc1tvXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChpKTt9cmV0dXJuIHRoaXMuZ2VvbWV0cnl9LEkucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHM9LTEvMCxpPTEvMCxvPS0xLzAscj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgbj1lW3JdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGw9blthXTt0PU1hdGgubWluKHQsbC54KSxzPU1hdGgubWF4KHMsbC54KSxpPU1hdGgubWluKGksbC55KSxvPU1hdGgubWF4KG8sbC55KTt9cmV0dXJuIFt0LGkscyxvXX0sSS5wcm90b3R5cGUudG9HZW9KU09OPXcucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgTT1lLmRPLGs9UztmdW5jdGlvbiBUKGUpe3ZhciB0PW5ldyBNO3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgcyBpbiBlLmxheWVycyl0LndyaXRlTWVzc2FnZSgzLFAsZS5sYXllcnNbc10pO30oZSx0KSx0LmZpbmlzaCgpfWZ1bmN0aW9uIFAoZSx0KXt2YXIgczt0LndyaXRlVmFyaW50RmllbGQoMTUsZS52ZXJzaW9ufHwxKSx0LndyaXRlU3RyaW5nRmllbGQoMSxlLm5hbWV8fFwiXCIpLHQud3JpdGVWYXJpbnRGaWVsZCg1LGUuZXh0ZW50fHw0MDk2KTt2YXIgaT17a2V5czpbXSx2YWx1ZXM6W10sa2V5Y2FjaGU6e30sdmFsdWVjYWNoZTp7fX07Zm9yKHM9MDtzPGUubGVuZ3RoO3MrKylpLmZlYXR1cmU9ZS5mZWF0dXJlKHMpLHQud3JpdGVNZXNzYWdlKDIsQyxpKTt2YXIgbz1pLmtleXM7Zm9yKHM9MDtzPG8ubGVuZ3RoO3MrKyl0LndyaXRlU3RyaW5nRmllbGQoMyxvW3NdKTt2YXIgcj1pLnZhbHVlcztmb3Iocz0wO3M8ci5sZW5ndGg7cysrKXQud3JpdGVNZXNzYWdlKDQsTyxyW3NdKTt9ZnVuY3Rpb24gQyhlLHQpe3ZhciBzPWUuZmVhdHVyZTt2b2lkIDAhPT1zLmlkJiZ0LndyaXRlVmFyaW50RmllbGQoMSxzLmlkKSx0LndyaXRlTWVzc2FnZSgyLF8sZSksdC53cml0ZVZhcmludEZpZWxkKDMscy50eXBlKSx0LndyaXRlTWVzc2FnZSg0LGoscyk7fWZ1bmN0aW9uIF8oZSx0KXt2YXIgcz1lLmZlYXR1cmUsaT1lLmtleXMsbz1lLnZhbHVlcyxyPWUua2V5Y2FjaGUsbj1lLnZhbHVlY2FjaGU7Zm9yKHZhciBhIGluIHMucHJvcGVydGllcyl7dmFyIGw9cy5wcm9wZXJ0aWVzW2FdLGg9clthXTtpZihudWxsIT09bCl7dm9pZCAwPT09aCYmKGkucHVzaChhKSxyW2FdPWg9aS5sZW5ndGgtMSksdC53cml0ZVZhcmludChoKTt2YXIgYz10eXBlb2YgbDtcInN0cmluZ1wiIT09YyYmXCJib29sZWFuXCIhPT1jJiZcIm51bWJlclwiIT09YyYmKGw9SlNPTi5zdHJpbmdpZnkobCkpO3ZhciB1PWMrXCI6XCIrbCxkPW5bdV07dm9pZCAwPT09ZCYmKG8ucHVzaChsKSxuW3VdPWQ9by5sZW5ndGgtMSksdC53cml0ZVZhcmludChkKTt9fX1mdW5jdGlvbiBEKGUsdCl7cmV0dXJuICh0PDwzKSsoNyZlKX1mdW5jdGlvbiBMKGUpe3JldHVybiBlPDwxXmU+PjMxfWZ1bmN0aW9uIGooZSx0KXtmb3IodmFyIHM9ZS5sb2FkR2VvbWV0cnkoKSxpPWUudHlwZSxvPTAscj0wLG49cy5sZW5ndGgsYT0wO2E8bjthKyspe3ZhciBsPXNbYV0saD0xOzE9PT1pJiYoaD1sLmxlbmd0aCksdC53cml0ZVZhcmludChEKDEsaCkpO2Zvcih2YXIgYz0zPT09aT9sLmxlbmd0aC0xOmwubGVuZ3RoLHU9MDt1PGM7dSsrKXsxPT09dSYmMSE9PWkmJnQud3JpdGVWYXJpbnQoRCgyLGMtMSkpO3ZhciBkPWxbdV0ueC1vLHA9bFt1XS55LXI7dC53cml0ZVZhcmludChMKGQpKSx0LndyaXRlVmFyaW50KEwocCkpLG8rPWQscis9cDt9Mz09PWkmJnQud3JpdGVWYXJpbnQoRCg3LDEpKTt9fWZ1bmN0aW9uIE8oZSx0KXt2YXIgcz10eXBlb2YgZTtcInN0cmluZ1wiPT09cz90LndyaXRlU3RyaW5nRmllbGQoMSxlKTpcImJvb2xlYW5cIj09PXM/dC53cml0ZUJvb2xlYW5GaWVsZCg3LGUpOlwibnVtYmVyXCI9PT1zJiYoZSUxIT0wP3Qud3JpdGVEb3VibGVGaWVsZCgzLGUpOmU8MD90LndyaXRlU1ZhcmludEZpZWxkKDYsZSk6dC53cml0ZVZhcmludEZpZWxkKDUsZSkpO312LmV4cG9ydHM9VCx2LmV4cG9ydHMuZnJvbVZlY3RvclRpbGVKcz1ULHYuZXhwb3J0cy5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcz17fTtmb3IodmFyIGkgaW4gZSlzW2ldPW5ldyBrKGVbaV0uZmVhdHVyZXMsdCksc1tpXS5uYW1lPWksc1tpXS52ZXJzaW9uPXQudmVyc2lvbixzW2ldLmV4dGVudD10LmV4dGVudDtyZXR1cm4gVCh7bGF5ZXJzOnN9KX0sdi5leHBvcnRzLkdlb0pTT05XcmFwcGVyPWs7dmFyIHo9ZS5kSyh2LmV4cG9ydHMpO2NvbnN0IFo9e21pblpvb206MCxtYXhab29tOjE2LG1pblBvaW50czoyLHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDplPT5lfSxBPU1hdGguZnJvdW5kfHwoRT1uZXcgRmxvYXQzMkFycmF5KDEpLGU9PihFWzBdPStlLEVbMF0pKTt2YXIgRTtjb25zdCBGPTMsTj01LEI9NjtjbGFzcyBXe2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoWiksZSksdGhpcy50cmVlcz1uZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20rMSksdGhpcy5zdHJpZGU9dGhpcy5vcHRpb25zLnJlZHVjZT83OjYsdGhpcy5jbHVzdGVyUHJvcHM9W107fWxvYWQoZSl7Y29uc3R7bG9nOnQsbWluWm9vbTpzLG1heFpvb206aX09dGhpcy5vcHRpb25zO3QmJmNvbnNvbGUudGltZShcInRvdGFsIHRpbWVcIik7Y29uc3Qgbz1gcHJlcGFyZSAke2UubGVuZ3RofSBwb2ludHNgO3QmJmNvbnNvbGUudGltZShvKSx0aGlzLnBvaW50cz1lO2NvbnN0IHI9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZVt0XTtpZighcy5nZW9tZXRyeSljb250aW51ZTtjb25zdFtpLG9dPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbj1BKFIoaSkpLGE9QShZKG8pKTtyLnB1c2gobixhLDEvMCx0LC0xLDEpLHRoaXMub3B0aW9ucy5yZWR1Y2UmJnIucHVzaCgwKTt9bGV0IG49dGhpcy50cmVlc1tpKzFdPXRoaXMuX2NyZWF0ZVRyZWUocik7dCYmY29uc29sZS50aW1lRW5kKG8pO2ZvcihsZXQgZT1pO2U+PXM7ZS0tKXtjb25zdCBzPStEYXRlLm5vdygpO249dGhpcy50cmVlc1tlXT10aGlzLl9jcmVhdGVUcmVlKHRoaXMuX2NsdXN0ZXIobixlKSksdCYmY29uc29sZS5sb2coXCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXNcIixlLG4ubnVtSXRlbXMsK0RhdGUubm93KCktcyk7fXJldHVybiB0JiZjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLHRoaXN9Z2V0Q2x1c3RlcnMoZSx0KXtsZXQgcz0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IGk9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKTtsZXQgbz0xODA9PT1lWzJdPzE4MDooKGVbMl0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IHI9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbM10pKTtpZihlWzJdLWVbMF0+PTM2MClzPS0xODAsbz0xODA7ZWxzZSBpZihzPm8pe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVycyhbcyxpLDE4MCxyXSx0KSxuPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsaSxvLHJdLHQpO3JldHVybiBlLmNvbmNhdChuKX1jb25zdCBuPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxhPW4ucmFuZ2UoUihzKSxZKHIpLFIobyksWShpKSksbD1uLmRhdGEsaD1bXTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB0PXRoaXMuc3RyaWRlKmU7aC5wdXNoKGxbdCtOXT4xP0cobCx0LHRoaXMuY2x1c3RlclByb3BzKTp0aGlzLnBvaW50c1tsW3QrRl1dKTt9cmV0dXJuIGh9Z2V0Q2hpbGRyZW4oZSl7Y29uc3QgdD10aGlzLl9nZXRPcmlnaW5JZChlKSxzPXRoaXMuX2dldE9yaWdpblpvb20oZSksaT1cIk5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlwiLG89dGhpcy50cmVlc1tzXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoaSk7Y29uc3Qgcj1vLmRhdGE7aWYodCp0aGlzLnN0cmlkZT49ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGkpO2NvbnN0IG49dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLHMtMSkpLGE9by53aXRoaW4oclt0KnRoaXMuc3RyaWRlXSxyW3QqdGhpcy5zdHJpZGUrMV0sbiksbD1bXTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCBzPXQqdGhpcy5zdHJpZGU7cltzKzRdPT09ZSYmbC5wdXNoKHJbcytOXT4xP0cocixzLHRoaXMuY2x1c3RlclByb3BzKTp0aGlzLnBvaW50c1tyW3MrRl1dKTt9aWYoMD09PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4gbH1nZXRMZWF2ZXMoZSx0LHMpe2NvbnN0IGk9W107cmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhpLGUsdD10fHwxMCxzPXN8fDAsMCksaX1nZXRUaWxlKGUsdCxzKXtjb25zdCBpPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxvPU1hdGgucG93KDIsZSkse2V4dGVudDpyLHJhZGl1czpufT10aGlzLm9wdGlvbnMsYT1uL3IsbD0ocy1hKS9vLGg9KHMrMSthKS9vLGM9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoKHQtYSkvbyxsLCh0KzErYSkvbyxoKSxpLmRhdGEsdCxzLG8sYyksMD09PXQmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhpLnJhbmdlKDEtYS9vLGwsMSxoKSxpLmRhdGEsbyxzLG8sYyksdD09PW8tMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMCxsLGEvbyxoKSxpLmRhdGEsLTEscyxvLGMpLGMuZmVhdHVyZXMubGVuZ3RoP2M6bnVsbH1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlKXtsZXQgdD10aGlzLl9nZXRPcmlnaW5ab29tKGUpLTE7Zm9yKDt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe2NvbnN0IHM9dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PXMubGVuZ3RoKWJyZWFrO2U9c1swXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7fXJldHVybiB0fV9hcHBlbmRMZWF2ZXMoZSx0LHMsaSxvKXtjb25zdCByPXRoaXMuZ2V0Q2hpbGRyZW4odCk7Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3Qgcj10LnByb3BlcnRpZXM7aWYociYmci5jbHVzdGVyP28rci5wb2ludF9jb3VudDw9aT9vKz1yLnBvaW50X2NvdW50Om89dGhpcy5fYXBwZW5kTGVhdmVzKGUsci5jbHVzdGVyX2lkLHMsaSxvKTpvPGk/bysrOmUucHVzaCh0KSxlLmxlbmd0aD09PXMpYnJlYWt9cmV0dXJuIG99X2NyZWF0ZVRyZWUodCl7Y29uc3Qgcz1uZXcgZS5iZyh0Lmxlbmd0aC90aGlzLnN0cmlkZXwwLHRoaXMub3B0aW9ucy5ub2RlU2l6ZSxGbG9hdDMyQXJyYXkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9dGhpcy5zdHJpZGUpcy5hZGQodFtlXSx0W2UrMV0pO3JldHVybiBzLmZpbmlzaCgpLHMuZGF0YT10LHN9X2FkZFRpbGVGZWF0dXJlcyhlLHQscyxpLG8scil7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uKnRoaXMuc3RyaWRlLGE9dFtlK05dPjE7bGV0IGwsaCxjO2lmKGEpbD1KKHQsZSx0aGlzLmNsdXN0ZXJQcm9wcyksaD10W2VdLGM9dFtlKzFdO2Vsc2Uge2NvbnN0IHM9dGhpcy5wb2ludHNbdFtlK0ZdXTtsPXMucHJvcGVydGllcztjb25zdFtpLG9dPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7aD1SKGkpLGM9WShvKTt9Y29uc3QgdT17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihoKm8tcykpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCooYypvLWkpKV1dLHRhZ3M6bH07bGV0IGQ7ZD1hfHx0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZD90W2UrRl06dGhpcy5wb2ludHNbdFtlK0ZdXS5pZCx2b2lkIDAhPT1kJiYodS5pZD1kKSxyLmZlYXR1cmVzLnB1c2godSk7fX1fbGltaXRab29tKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihNYXRoLmZsb29yKCtlKSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9X2NsdXN0ZXIoZSx0KXtjb25zdHtyYWRpdXM6cyxleHRlbnQ6aSxyZWR1Y2U6byxtaW5Qb2ludHM6cn09dGhpcy5vcHRpb25zLG49cy8oaSpNYXRoLnBvdygyLHQpKSxhPWUuZGF0YSxsPVtdLGg9dGhpcy5zdHJpZGU7Zm9yKGxldCBzPTA7czxhLmxlbmd0aDtzKz1oKXtpZihhW3MrMl08PXQpY29udGludWU7YVtzKzJdPXQ7Y29uc3QgaT1hW3NdLGM9YVtzKzFdLHU9ZS53aXRoaW4oYVtzXSxhW3MrMV0sbiksZD1hW3MrTl07bGV0IHA9ZDtmb3IoY29uc3QgZSBvZiB1KXtjb25zdCBzPWUqaDthW3MrMl0+dCYmKHArPWFbcytOXSk7fWlmKHA+ZCYmcD49cil7bGV0IGUscj1pKmQsbj1jKmQsZj0tMTtjb25zdCBnPShzL2g8PDUpKyh0KzEpK3RoaXMucG9pbnRzLmxlbmd0aDtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCBsPWkqaDtpZihhW2wrMl08PXQpY29udGludWU7YVtsKzJdPXQ7Y29uc3QgYz1hW2wrTl07cis9YVtsXSpjLG4rPWFbbCsxXSpjLGFbbCs0XT1nLG8mJihlfHwoZT10aGlzLl9tYXAoYSxzLCEwKSxmPXRoaXMuY2x1c3RlclByb3BzLmxlbmd0aCx0aGlzLmNsdXN0ZXJQcm9wcy5wdXNoKGUpKSxvKGUsdGhpcy5fbWFwKGEsbCkpKTt9YVtzKzRdPWcsbC5wdXNoKHIvcCxuL3AsMS8wLGcsLTEscCksbyYmbC5wdXNoKGYpO31lbHNlIHtmb3IobGV0IGU9MDtlPGg7ZSsrKWwucHVzaChhW3MrZV0pO2lmKHA+MSlmb3IoY29uc3QgZSBvZiB1KXtjb25zdCBzPWUqaDtpZighKGFbcysyXTw9dCkpe2FbcysyXT10O2ZvcihsZXQgZT0wO2U8aDtlKyspbC5wdXNoKGFbcytlXSk7fX19fXJldHVybiBsfV9nZXRPcmlnaW5JZChlKXtyZXR1cm4gZS10aGlzLnBvaW50cy5sZW5ndGg+PjV9X2dldE9yaWdpblpvb20oZSl7cmV0dXJuIChlLXRoaXMucG9pbnRzLmxlbmd0aCklMzJ9X21hcChlLHQscyl7aWYoZVt0K05dPjEpe2NvbnN0IGk9dGhpcy5jbHVzdGVyUHJvcHNbZVt0K0JdXTtyZXR1cm4gcz9PYmplY3QuYXNzaWduKHt9LGkpOml9Y29uc3QgaT10aGlzLnBvaW50c1tlW3QrRl1dLnByb3BlcnRpZXMsbz10aGlzLm9wdGlvbnMubWFwKGkpO3JldHVybiBzJiZvPT09aT9PYmplY3QuYXNzaWduKHt9LG8pOm99fWZ1bmN0aW9uIEcoZSx0LHMpe3JldHVybiB7dHlwZTpcIkZlYXR1cmVcIixpZDplW3QrRl0scHJvcGVydGllczpKKGUsdCxzKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6WyhpPWVbdF0sMzYwKihpLS41KSksWChlW3QrMV0pXX19O3ZhciBpO31mdW5jdGlvbiBKKGUsdCxzKXtjb25zdCBpPWVbdCtOXSxvPWk+PTFlND9gJHtNYXRoLnJvdW5kKGkvMWUzKX1rYDppPj0xZTM/TWF0aC5yb3VuZChpLzEwMCkvMTArXCJrXCI6aSxyPWVbdCtCXSxuPS0xPT09cj97fTpPYmplY3QuYXNzaWduKHt9LHNbcl0pO3JldHVybiBPYmplY3QuYXNzaWduKG4se2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplW3QrRl0scG9pbnRfY291bnQ6aSxwb2ludF9jb3VudF9hYmJyZXZpYXRlZDpvfSl9ZnVuY3Rpb24gUihlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gWShlKXtjb25zdCB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHM9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiBzPDA/MDpzPjE/MTpzfWZ1bmN0aW9uIFgoZSl7Y29uc3QgdD0oMTgwLTM2MCplKSpNYXRoLlBJLzE4MDtyZXR1cm4gMzYwKk1hdGguYXRhbihNYXRoLmV4cCh0KSkvTWF0aC5QSS05MH12YXIgVj17ZXhwb3J0czp7fX07Vi5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShzLGksbyxyKXtmb3IodmFyIG4sYT1yLGw9by1pPj4xLGg9by1pLGM9c1tpXSx1PXNbaSsxXSxkPXNbb10scD1zW28rMV0sZj1pKzM7ZjxvO2YrPTMpe3ZhciBnPXQoc1tmXSxzW2YrMV0sYyx1LGQscCk7aWYoZz5hKW49ZixhPWc7ZWxzZSBpZihnPT09YSl7dmFyIG09TWF0aC5hYnMoZi1sKTttPGgmJihuPWYsaD1tKTt9fWE+ciYmKG4taT4zJiZlKHMsaSxuLHIpLHNbbisyXT1hLG8tbj4zJiZlKHMsbixvLHIpKTt9ZnVuY3Rpb24gdChlLHQscyxpLG8scil7dmFyIG49by1zLGE9ci1pO2lmKDAhPT1ufHwwIT09YSl7dmFyIGw9KChlLXMpKm4rKHQtaSkqYSkvKG4qbithKmEpO2w+MT8ocz1vLGk9cik6bD4wJiYocys9bipsLGkrPWEqbCk7fXJldHVybiAobj1lLXMpKm4rKGE9dC1pKSphfWZ1bmN0aW9uIHMoZSx0LHMsbyl7dmFyIHI9e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpzLHRhZ3M6byxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxzPWUudHlwZTtpZihcIlBvaW50XCI9PT1zfHxcIk11bHRpUG9pbnRcIj09PXN8fFwiTGluZVN0cmluZ1wiPT09cylpKGUsdCk7ZWxzZSBpZihcIlBvbHlnb25cIj09PXN8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1zKWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKWkoZSx0W29dKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1zKWZvcihvPTA7bzx0Lmxlbmd0aDtvKyspZm9yKHZhciByPTA7cjx0W29dLmxlbmd0aDtyKyspaShlLHRbb11bcl0pO30ocikscn1mdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKz0zKWUubWluWD1NYXRoLm1pbihlLm1pblgsdFtzXSksZS5taW5ZPU1hdGgubWluKGUubWluWSx0W3MrMV0pLGUubWF4WD1NYXRoLm1heChlLm1heFgsdFtzXSksZS5tYXhZPU1hdGgubWF4KGUubWF4WSx0W3MrMV0pO31mdW5jdGlvbiBvKGUsdCxpLGwpe2lmKHQuZ2VvbWV0cnkpe3ZhciBoPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsYz10Lmdlb21ldHJ5LnR5cGUsdT1NYXRoLnBvdyhpLnRvbGVyYW5jZS8oKDE8PGkubWF4Wm9vbSkqaS5leHRlbnQpLDIpLGQ9W10scD10LmlkO2lmKGkucHJvbW90ZUlkP3A9dC5wcm9wZXJ0aWVzW2kucHJvbW90ZUlkXTppLmdlbmVyYXRlSWQmJihwPWx8fDApLFwiUG9pbnRcIj09PWMpcihoLGQpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1jKWZvcih2YXIgZj0wO2Y8aC5sZW5ndGg7ZisrKXIoaFtmXSxkKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09YyluKGgsZCx1LCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1jKXtpZihpLmxpbmVNZXRyaWNzKXtmb3IoZj0wO2Y8aC5sZW5ndGg7ZisrKW4oaFtmXSxkPVtdLHUsITEpLGUucHVzaChzKHAsXCJMaW5lU3RyaW5nXCIsZCx0LnByb3BlcnRpZXMpKTtyZXR1cm59YShoLGQsdSwhMSk7fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT1jKWEoaCxkLHUsITApO2Vsc2Uge2lmKFwiTXVsdGlQb2x5Z29uXCIhPT1jKXtpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09Yyl7Zm9yKGY9MDtmPHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7ZisrKW8oZSx7aWQ6cCxnZW9tZXRyeTp0Lmdlb21ldHJ5Lmdlb21ldHJpZXNbZl0scHJvcGVydGllczp0LnByb3BlcnRpZXN9LGksbCk7cmV0dXJufXRocm93IG5ldyBFcnJvcihcIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpfWZvcihmPTA7ZjxoLmxlbmd0aDtmKyspe3ZhciBnPVtdO2EoaFtmXSxnLHUsITApLGQucHVzaChnKTt9fWUucHVzaChzKHAsYyxkLHQucHJvcGVydGllcykpO319ZnVuY3Rpb24gcihlLHQpe3QucHVzaChsKGVbMF0pKSx0LnB1c2goaChlWzFdKSksdC5wdXNoKDApO31mdW5jdGlvbiBuKHQscyxpLG8pe2Zvcih2YXIgcixuLGE9MCxjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciB1PWwodFtjXVswXSksZD1oKHRbY11bMV0pO3MucHVzaCh1KSxzLnB1c2goZCkscy5wdXNoKDApLGM+MCYmKGErPW8/KHIqZC11Km4pLzI6TWF0aC5zcXJ0KE1hdGgucG93KHUtciwyKStNYXRoLnBvdyhkLW4sMikpKSxyPXUsbj1kO312YXIgcD1zLmxlbmd0aC0zO3NbMl09MSxlKHMsMCxwLGkpLHNbcCsyXT0xLHMuc2l6ZT1NYXRoLmFicyhhKSxzLnN0YXJ0PTAscy5lbmQ9cy5zaXplO31mdW5jdGlvbiBhKGUsdCxzLGkpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgcj1bXTtuKGVbb10scixzLGkpLHQucHVzaChyKTt9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIGgoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCkscz0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIHM8MD8wOnM+MT8xOnN9ZnVuY3Rpb24gYyhlLHQsaSxvLHIsbixhLGwpe2lmKG8vPXQsbj49KGkvPXQpJiZhPG8pcmV0dXJuIGU7aWYoYTxpfHxuPj1vKXJldHVybiBudWxsO2Zvcih2YXIgaD1bXSxjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBwPWVbY10sZz1wLmdlb21ldHJ5LG09cC50eXBlLHk9MD09PXI/cC5taW5YOnAubWluWSx2PTA9PT1yP3AubWF4WDpwLm1heFk7aWYoeT49aSYmdjxvKWgucHVzaChwKTtlbHNlIGlmKCEodjxpfHx5Pj1vKSl7dmFyIHg9W107aWYoXCJQb2ludFwiPT09bXx8XCJNdWx0aVBvaW50XCI9PT1tKXUoZyx4LGksbyxyKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09bSlkKGcseCxpLG8sciwhMSxsLmxpbmVNZXRyaWNzKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1tKWYoZyx4LGksbyxyLCExKTtlbHNlIGlmKFwiUG9seWdvblwiPT09bSlmKGcseCxpLG8sciwhMCk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09bSlmb3IodmFyIHc9MDt3PGcubGVuZ3RoO3crKyl7dmFyIFM9W107ZihnW3ddLFMsaSxvLHIsITApLFMubGVuZ3RoJiZ4LnB1c2goUyk7fWlmKHgubGVuZ3RoKXtpZihsLmxpbmVNZXRyaWNzJiZcIkxpbmVTdHJpbmdcIj09PW0pe2Zvcih3PTA7dzx4Lmxlbmd0aDt3KyspaC5wdXNoKHMocC5pZCxtLHhbd10scC50YWdzKSk7Y29udGludWV9XCJMaW5lU3RyaW5nXCIhPT1tJiZcIk11bHRpTGluZVN0cmluZ1wiIT09bXx8KDE9PT14Lmxlbmd0aD8obT1cIkxpbmVTdHJpbmdcIix4PXhbMF0pOm09XCJNdWx0aUxpbmVTdHJpbmdcIiksXCJQb2ludFwiIT09bSYmXCJNdWx0aVBvaW50XCIhPT1tfHwobT0zPT09eC5sZW5ndGg/XCJQb2ludFwiOlwiTXVsdGlQb2ludFwiKSxoLnB1c2gocyhwLmlkLG0seCxwLnRhZ3MpKTt9fX1yZXR1cm4gaC5sZW5ndGg/aDpudWxsfWZ1bmN0aW9uIHUoZSx0LHMsaSxvKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrPTMpe3ZhciBuPWVbcitvXTtuPj1zJiZuPD1pJiYodC5wdXNoKGVbcl0pLHQucHVzaChlW3IrMV0pLHQucHVzaChlW3IrMl0pKTt9fWZ1bmN0aW9uIGQoZSx0LHMsaSxvLHIsbil7Zm9yKHZhciBhLGwsaD1wKGUpLGM9MD09PW8/bTp5LHU9ZS5zdGFydCxkPTA7ZDxlLmxlbmd0aC0zO2QrPTMpe3ZhciBmPWVbZF0sdj1lW2QrMV0seD1lW2QrMl0sdz1lW2QrM10sUz1lW2QrNF0sYj0wPT09bz9mOnYsST0wPT09bz93OlMsTT0hMTtuJiYoYT1NYXRoLnNxcnQoTWF0aC5wb3coZi13LDIpK01hdGgucG93KHYtUywyKSkpLGI8cz9JPnMmJihsPWMoaCxmLHYsdyxTLHMpLG4mJihoLnN0YXJ0PXUrYSpsKSk6Yj5pP0k8aSYmKGw9YyhoLGYsdix3LFMsaSksbiYmKGguc3RhcnQ9dSthKmwpKTpnKGgsZix2LHgpLEk8cyYmYj49cyYmKGw9YyhoLGYsdix3LFMscyksTT0hMCksST5pJiZiPD1pJiYobD1jKGgsZix2LHcsUyxpKSxNPSEwKSwhciYmTSYmKG4mJihoLmVuZD11K2EqbCksdC5wdXNoKGgpLGg9cChlKSksbiYmKHUrPWEpO312YXIgaz1lLmxlbmd0aC0zO2Y9ZVtrXSx2PWVbaysxXSx4PWVbaysyXSwoYj0wPT09bz9mOnYpPj1zJiZiPD1pJiZnKGgsZix2LHgpLGs9aC5sZW5ndGgtMyxyJiZrPj0zJiYoaFtrXSE9PWhbMF18fGhbaysxXSE9PWhbMV0pJiZnKGgsaFswXSxoWzFdLGhbMl0pLGgubGVuZ3RoJiZ0LnB1c2goaCk7fWZ1bmN0aW9uIHAoZSl7dmFyIHQ9W107cmV0dXJuIHQuc2l6ZT1lLnNpemUsdC5zdGFydD1lLnN0YXJ0LHQuZW5kPWUuZW5kLHR9ZnVuY3Rpb24gZihlLHQscyxpLG8scil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspZChlW25dLHQscyxpLG8sciwhMSk7fWZ1bmN0aW9uIGcoZSx0LHMsaSl7ZS5wdXNoKHQpLGUucHVzaChzKSxlLnB1c2goaSk7fWZ1bmN0aW9uIG0oZSx0LHMsaSxvLHIpe3ZhciBuPShyLXQpLyhpLXQpO3JldHVybiBlLnB1c2gociksZS5wdXNoKHMrKG8tcykqbiksZS5wdXNoKDEpLG59ZnVuY3Rpb24geShlLHQscyxpLG8scil7dmFyIG49KHItcykvKG8tcyk7cmV0dXJuIGUucHVzaCh0KyhpLXQpKm4pLGUucHVzaChyKSxlLnB1c2goMSksbn1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBpPVtdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHIsbj1lW29dLGE9bi50eXBlO2lmKFwiUG9pbnRcIj09PWF8fFwiTXVsdGlQb2ludFwiPT09YXx8XCJMaW5lU3RyaW5nXCI9PT1hKXI9eChuLmdlb21ldHJ5LHQpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWF8fFwiUG9seWdvblwiPT09YSl7cj1bXTtmb3IodmFyIGw9MDtsPG4uZ2VvbWV0cnkubGVuZ3RoO2wrKylyLnB1c2goeChuLmdlb21ldHJ5W2xdLHQpKTt9ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09YSlmb3Iocj1bXSxsPTA7bDxuLmdlb21ldHJ5Lmxlbmd0aDtsKyspe2Zvcih2YXIgaD1bXSxjPTA7YzxuLmdlb21ldHJ5W2xdLmxlbmd0aDtjKyspaC5wdXNoKHgobi5nZW9tZXRyeVtsXVtjXSx0KSk7ci5wdXNoKGgpO31pLnB1c2gocyhuLmlkLGEscixuLnRhZ3MpKTt9cmV0dXJuIGl9ZnVuY3Rpb24geChlLHQpe3ZhciBzPVtdO3Muc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHMuc3RhcnQ9ZS5zdGFydCxzLmVuZD1lLmVuZCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKz0zKXMucHVzaChlW2ldK3QsZVtpKzFdLGVbaSsyXSk7cmV0dXJuIHN9ZnVuY3Rpb24gdyhlLHQpe2lmKGUudHJhbnNmb3JtZWQpcmV0dXJuIGU7dmFyIHMsaSxvLHI9MTw8ZS56LG49ZS54LGE9ZS55O2ZvcihzPTA7czxlLmZlYXR1cmVzLmxlbmd0aDtzKyspe3ZhciBsPWUuZmVhdHVyZXNbc10saD1sLmdlb21ldHJ5LGM9bC50eXBlO2lmKGwuZ2VvbWV0cnk9W10sMT09PWMpZm9yKGk9MDtpPGgubGVuZ3RoO2krPTIpbC5nZW9tZXRyeS5wdXNoKFMoaFtpXSxoW2krMV0sdCxyLG4sYSkpO2Vsc2UgZm9yKGk9MDtpPGgubGVuZ3RoO2krKyl7dmFyIHU9W107Zm9yKG89MDtvPGhbaV0ubGVuZ3RoO28rPTIpdS5wdXNoKFMoaFtpXVtvXSxoW2ldW28rMV0sdCxyLG4sYSkpO2wuZ2VvbWV0cnkucHVzaCh1KTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gUyhlLHQscyxpLG8scil7cmV0dXJuIFtNYXRoLnJvdW5kKHMqKGUqaS1vKSksTWF0aC5yb3VuZChzKih0KmktcikpXX1mdW5jdGlvbiBiKGUsdCxzLGksbyl7Zm9yKHZhciByPXQ9PT1vLm1heFpvb20/MDpvLnRvbGVyYW5jZS8oKDE8PHQpKm8uZXh0ZW50KSxuPXtmZWF0dXJlczpbXSxudW1Qb2ludHM6MCxudW1TaW1wbGlmaWVkOjAsbnVtRmVhdHVyZXM6MCxzb3VyY2U6bnVsbCx4OnMseTppLHo6dCx0cmFuc2Zvcm1lZDohMSxtaW5YOjIsbWluWToxLG1heFg6LTEsbWF4WTowfSxhPTA7YTxlLmxlbmd0aDthKyspe24ubnVtRmVhdHVyZXMrKyxJKG4sZVthXSxyLG8pO3ZhciBsPWVbYV0ubWluWCxoPWVbYV0ubWluWSxjPWVbYV0ubWF4WCx1PWVbYV0ubWF4WTtsPG4ubWluWCYmKG4ubWluWD1sKSxoPG4ubWluWSYmKG4ubWluWT1oKSxjPm4ubWF4WCYmKG4ubWF4WD1jKSx1Pm4ubWF4WSYmKG4ubWF4WT11KTt9cmV0dXJuIG59ZnVuY3Rpb24gSShlLHQscyxpKXt2YXIgbz10Lmdlb21ldHJ5LHI9dC50eXBlLG49W107aWYoXCJQb2ludFwiPT09cnx8XCJNdWx0aVBvaW50XCI9PT1yKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSs9MyluLnB1c2gob1thXSksbi5wdXNoKG9bYSsxXSksZS5udW1Qb2ludHMrKyxlLm51bVNpbXBsaWZpZWQrKztlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09cilNKG4sbyxlLHMsITEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PXJ8fFwiUG9seWdvblwiPT09cilmb3IoYT0wO2E8by5sZW5ndGg7YSsrKU0obixvW2FdLGUscyxcIlBvbHlnb25cIj09PXIsMD09PWEpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXIpZm9yKHZhciBsPTA7bDxvLmxlbmd0aDtsKyspe3ZhciBoPW9bbF07Zm9yKGE9MDthPGgubGVuZ3RoO2ErKylNKG4saFthXSxlLHMsITAsMD09PWEpO31pZihuLmxlbmd0aCl7dmFyIGM9dC50YWdzfHxudWxsO2lmKFwiTGluZVN0cmluZ1wiPT09ciYmaS5saW5lTWV0cmljcyl7Zm9yKHZhciB1IGluIGM9e30sdC50YWdzKWNbdV09dC50YWdzW3VdO2MubWFwYm94X2NsaXBfc3RhcnQ9by5zdGFydC9vLnNpemUsYy5tYXBib3hfY2xpcF9lbmQ9by5lbmQvby5zaXplO312YXIgZD17Z2VvbWV0cnk6bix0eXBlOlwiUG9seWdvblwiPT09cnx8XCJNdWx0aVBvbHlnb25cIj09PXI/MzpcIkxpbmVTdHJpbmdcIj09PXJ8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1yPzI6MSx0YWdzOmN9O251bGwhPT10LmlkJiYoZC5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2goZCk7fX1mdW5jdGlvbiBNKGUsdCxzLGksbyxyKXt2YXIgbj1pKmk7aWYoaT4wJiZ0LnNpemU8KG8/bjppKSlzLm51bVBvaW50cys9dC5sZW5ndGgvMztlbHNlIHtmb3IodmFyIGE9W10sbD0wO2w8dC5sZW5ndGg7bCs9MykoMD09PWl8fHRbbCsyXT5uKSYmKHMubnVtU2ltcGxpZmllZCsrLGEucHVzaCh0W2xdKSxhLnB1c2godFtsKzFdKSkscy5udW1Qb2ludHMrKztvJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgcz0wLGk9MCxvPWUubGVuZ3RoLHI9by0yO2k8bztyPWksaSs9MilzKz0oZVtpXS1lW3JdKSooZVtpKzFdK2VbcisxXSk7aWYocz4wPT09dClmb3IoaT0wLG89ZS5sZW5ndGg7aTxvLzI7aSs9Mil7dmFyIG49ZVtpXSxhPWVbaSsxXTtlW2ldPWVbby0yLWldLGVbaSsxXT1lW28tMS1pXSxlW28tMi1pXT1uLGVbby0xLWldPWE7fX0oYSxyKSxlLnB1c2goYSk7fX1mdW5jdGlvbiBrKGUsdCl7dmFyIHM9KHQ9dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBzIGluIHQpZVtzXT10W3NdO3JldHVybiBlfShPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCkpLmRlYnVnO2lmKHMmJmNvbnNvbGUudGltZShcInByZXByb2Nlc3MgZGF0YVwiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gc2hvdWxkIGJlIGluIHRoZSAwLTI0IHJhbmdlXCIpO2lmKHQucHJvbW90ZUlkJiZ0LmdlbmVyYXRlSWQpdGhyb3cgbmV3IEVycm9yKFwicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLlwiKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBzPVtdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IodmFyIGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKylvKHMsZS5mZWF0dXJlc1tpXSx0LGkpO2Vsc2UgbyhzLFwiRmVhdHVyZVwiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiBzfShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLHMmJihjb25zb2xlLnRpbWVFbmQoXCJwcmVwcm9jZXNzIGRhdGFcIiksY29uc29sZS5sb2coXCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWRcIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZSB0aWxlc1wiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksKGk9ZnVuY3Rpb24oZSx0KXt2YXIgcz10LmJ1ZmZlci90LmV4dGVudCxpPWUsbz1jKGUsMSwtMS1zLHMsMCwtMSwyLHQpLHI9YyhlLDEsMS1zLDIrcywwLC0xLDIsdCk7cmV0dXJuIChvfHxyKSYmKGk9YyhlLDEsLXMsMStzLDAsLTEsMix0KXx8W10sbyYmKGk9dihvLDEpLmNvbmNhdChpKSksciYmKGk9aS5jb25jYXQodihyLC0xKSkpKSxpfShpLHQpKS5sZW5ndGgmJnRoaXMuc3BsaXRUaWxlKGksMCwwLDApLHMmJihpLmxlbmd0aCYmY29uc29sZS5sb2coXCJmZWF0dXJlczogJWQsIHBvaW50czogJWRcIix0aGlzLnRpbGVzWzBdLm51bUZlYXR1cmVzLHRoaXMudGlsZXNbMF0ubnVtUG9pbnRzKSxjb25zb2xlLnRpbWVFbmQoXCJnZW5lcmF0ZSB0aWxlc1wiKSxjb25zb2xlLmxvZyhcInRpbGVzIGdlbmVyYXRlZDpcIix0aGlzLnRvdGFsLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMpKSk7fWZ1bmN0aW9uIFQoZSx0LHMpe3JldHVybiAzMiooKDE8PGUpKnMrdCkrZX1yZXR1cm4gay5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0say5wcm90b3R5cGUuc3BsaXRUaWxlPWZ1bmN0aW9uKGUsdCxzLGksbyxyLG4pe2Zvcih2YXIgYT1bZSx0LHMsaV0sbD10aGlzLm9wdGlvbnMsaD1sLmRlYnVnO2EubGVuZ3RoOyl7aT1hLnBvcCgpLHM9YS5wb3AoKSx0PWEucG9wKCksZT1hLnBvcCgpO3ZhciB1PTE8PHQsZD1UKHQscyxpKSxwPXRoaXMudGlsZXNbZF07aWYoIXAmJihoPjEmJmNvbnNvbGUudGltZShcImNyZWF0aW9uXCIpLHA9dGhpcy50aWxlc1tkXT1iKGUsdCxzLGksbCksdGhpcy50aWxlQ29vcmRzLnB1c2goe3o6dCx4OnMseTppfSksaCkpe2g+MSYmKGNvbnNvbGUubG9nKFwidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpXCIsdCxzLGkscC5udW1GZWF0dXJlcyxwLm51bVBvaW50cyxwLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZChcImNyZWF0aW9uXCIpKTt2YXIgZj1cInpcIit0O3RoaXMuc3RhdHNbZl09KHRoaXMuc3RhdHNbZl18fDApKzEsdGhpcy50b3RhbCsrO31pZihwLnNvdXJjZT1lLG8pe2lmKHQ9PT1sLm1heFpvb218fHQ9PT1vKWNvbnRpbnVlO3ZhciBnPTE8PG8tdDtpZihzIT09TWF0aC5mbG9vcihyL2cpfHxpIT09TWF0aC5mbG9vcihuL2cpKWNvbnRpbnVlfWVsc2UgaWYodD09PWwuaW5kZXhNYXhab29tfHxwLm51bVBvaW50czw9bC5pbmRleE1heFBvaW50cyljb250aW51ZTtpZihwLnNvdXJjZT1udWxsLDAhPT1lLmxlbmd0aCl7aD4xJiZjb25zb2xlLnRpbWUoXCJjbGlwcGluZ1wiKTt2YXIgbSx5LHYseCx3LFMsST0uNSpsLmJ1ZmZlci9sLmV4dGVudCxNPS41LUksaz0uNStJLFA9MStJO209eT12PXg9bnVsbCx3PWMoZSx1LHMtSSxzK2ssMCxwLm1pblgscC5tYXhYLGwpLFM9YyhlLHUscytNLHMrUCwwLHAubWluWCxwLm1heFgsbCksZT1udWxsLHcmJihtPWModyx1LGktSSxpK2ssMSxwLm1pblkscC5tYXhZLGwpLHk9Yyh3LHUsaStNLGkrUCwxLHAubWluWSxwLm1heFksbCksdz1udWxsKSxTJiYodj1jKFMsdSxpLUksaStrLDEscC5taW5ZLHAubWF4WSxsKSx4PWMoUyx1LGkrTSxpK1AsMSxwLm1pblkscC5tYXhZLGwpLFM9bnVsbCksaD4xJiZjb25zb2xlLnRpbWVFbmQoXCJjbGlwcGluZ1wiKSxhLnB1c2gobXx8W10sdCsxLDIqcywyKmkpLGEucHVzaCh5fHxbXSx0KzEsMipzLDIqaSsxKSxhLnB1c2godnx8W10sdCsxLDIqcysxLDIqaSksYS5wdXNoKHh8fFtdLHQrMSwyKnMrMSwyKmkrMSk7fX19LGsucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSx0LHMpe3ZhciBpPXRoaXMub3B0aW9ucyxvPWkuZXh0ZW50LHI9aS5kZWJ1ZztpZihlPDB8fGU+MjQpcmV0dXJuIG51bGw7dmFyIG49MTw8ZSxhPVQoZSx0PSh0JW4rbiklbixzKTtpZih0aGlzLnRpbGVzW2FdKXJldHVybiB3KHRoaXMudGlsZXNbYV0sbyk7cj4xJiZjb25zb2xlLmxvZyhcImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkXCIsZSx0LHMpO2Zvcih2YXIgbCxoPWUsYz10LHU9czshbCYmaD4wOyloLS0sYz1NYXRoLmZsb29yKGMvMiksdT1NYXRoLmZsb29yKHUvMiksbD10aGlzLnRpbGVzW1QoaCxjLHUpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KHI+MSYmY29uc29sZS5sb2coXCJmb3VuZCBwYXJlbnQgdGlsZSB6JWQtJWQtJWRcIixoLGMsdSkscj4xJiZjb25zb2xlLnRpbWUoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMuc3BsaXRUaWxlKGwuc291cmNlLGgsYyx1LGUsdCxzKSxyPjEmJmNvbnNvbGUudGltZUVuZChcImRyaWxsaW5nIGRvd25cIiksdGhpcy50aWxlc1thXT93KHRoaXMudGlsZXNbYV0sbyk6bnVsbCk6bnVsbH0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGsoZSx0KX19KCk7dmFyICQ9ZS5kSyhWLmV4cG9ydHMpO2Z1bmN0aW9uIFUoZSx0KXtjb25zdCBzPWUudGlsZUlELmNhbm9uaWNhbDtpZighdGhpcy5fZ2VvSlNPTkluZGV4KXJldHVybiB0KG51bGwsbnVsbCk7Y29uc3QgaT10aGlzLl9nZW9KU09OSW5kZXguZ2V0VGlsZShzLnoscy54LHMueSk7aWYoIWkpcmV0dXJuIHQobnVsbCxudWxsKTtjb25zdCBvPW5ldyB5KGkuZmVhdHVyZXMpO2xldCByPXoobyk7MD09PXIuYnl0ZU9mZnNldCYmci5ieXRlTGVuZ3RoPT09ci5idWZmZXIuYnl0ZUxlbmd0aHx8KHI9bmV3IFVpbnQ4QXJyYXkocikpLHQobnVsbCx7dmVjdG9yVGlsZTpvLHJhd0RhdGE6ci5idWZmZXJ9KTt9Y2xhc3MgcSBleHRlbmRzIGh7Y29uc3RydWN0b3IoZSx0LHMsaSxvLHIpe3N1cGVyKGUsdCxzLGksVSxyKSxvJiYodGhpcy5sb2FkR2VvSlNPTj1vKTt9bG9hZERhdGEocyxpKXtjb25zdCBvPXMmJnMucmVxdWVzdCxyPW8mJm8uY29sbGVjdFJlc291cmNlVGltaW5nO3RoaXMubG9hZEdlb0pTT04ocywoKG4sYSk9PntpZihufHwhYSlyZXR1cm4gaShuKTtpZihcIm9iamVjdFwiIT10eXBlb2YgYSlyZXR1cm4gaShuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7cy5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSk7e2YoYSwhMCk7dHJ5e2lmKHMuZmlsdGVyKXtjb25zdCB0PWUucihzLmZpbHRlcix7dHlwZTpcImJvb2xlYW5cIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsb3ZlcnJpZGFibGU6ITEsdHJhbnNpdGlvbjohMX0pO2lmKFwiZXJyb3JcIj09PXQucmVzdWx0KXRocm93IG5ldyBFcnJvcih0LnZhbHVlLm1hcCgoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtjb25zdCBpPWEuZmVhdHVyZXMuZmlsdGVyKChlPT50LnZhbHVlLmV2YWx1YXRlKHt6b29tOjB9LGUpKSk7YT17dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6aX07fXRoaXMuX2dlb0pTT05JbmRleD1zLmNsdXN0ZXI/bmV3IFcoZnVuY3Rpb24oe3N1cGVyY2x1c3Rlck9wdGlvbnM6dCxjbHVzdGVyUHJvcGVydGllczpzfSl7aWYoIXN8fCF0KXJldHVybiB0O2NvbnN0IGk9e30sbz17fSxyPXthY2N1bXVsYXRlZDpudWxsLHpvb206MH0sbj17cHJvcGVydGllczpudWxsfSxhPU9iamVjdC5rZXlzKHMpO2Zvcihjb25zdCB0IG9mIGEpe2NvbnN0W3Isbl09c1t0XSxhPWUucihuKSxsPWUucihcInN0cmluZ1wiPT10eXBlb2Ygcj9bcixbXCJhY2N1bXVsYXRlZFwiXSxbXCJnZXRcIix0XV06cik7aVt0XT1hLnZhbHVlLG9bdF09bC52YWx1ZTt9cmV0dXJuIHQubWFwPWU9PntuLnByb3BlcnRpZXM9ZTtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIGEpdFtlXT1pW2VdLmV2YWx1YXRlKHIsbik7cmV0dXJuIHR9LHQucmVkdWNlPShlLHQpPT57bi5wcm9wZXJ0aWVzPXQ7Zm9yKGNvbnN0IHQgb2YgYSlyLmFjY3VtdWxhdGVkPWVbdF0sZVt0XT1vW3RdLmV2YWx1YXRlKHIsbik7fSx0fShzKSkubG9hZChhLmZlYXR1cmVzKTokKGEscy5nZW9qc29uVnRPcHRpb25zKTt9Y2F0Y2gobil7cmV0dXJuIGkobil9dGhpcy5sb2FkZWQ9e307Y29uc3QgbD17fTtpZihyKXtjb25zdCBlPXQobyk7ZSYmKGwucmVzb3VyY2VUaW1pbmc9e30sbC5yZXNvdXJjZVRpbWluZ1tzLnNvdXJjZV09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpO31pKG51bGwsbCk7fX0pKTt9cmVsb2FkVGlsZShlLHQpe2NvbnN0IHM9dGhpcy5sb2FkZWQ7cmV0dXJuIHMmJnNbZS51aWRdP3N1cGVyLnJlbG9hZFRpbGUoZSx0KTp0aGlzLmxvYWRUaWxlKGUsdCl9bG9hZEdlb0pTT04odCxzKXtpZih0LnJlcXVlc3QpZS5nKHQucmVxdWVzdCxzKTtlbHNlIHtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhKXJldHVybiBzKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt0cnl7cmV0dXJuIHMobnVsbCxKU09OLnBhcnNlKHQuZGF0YSkpfWNhdGNoKGUpe3JldHVybiBzKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKX19fWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENoaWxkcmVuKGUuY2x1c3RlcklkKSk7fWNhdGNoKGUpe3QoZSk7fX1nZXRDbHVzdGVyTGVhdmVzKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKTt9Y2F0Y2goZSl7dChlKTt9fX1jbGFzcyBLe2NvbnN0cnVjdG9yKHQscyl7dGhpcy50aWxlSUQ9bmV3IGUuYW0odC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy50aWxlWm9vbT10LnRpbGVab29tLHRoaXMudWlkPXQudWlkLHRoaXMuem9vbT10Lnpvb20sdGhpcy5jYW5vbmljYWw9dC50aWxlSUQuY2Fub25pY2FsLHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy50aWxlU2l6ZT10LnRpbGVTaXplLHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMub3ZlcnNjYWxpbmc9dGhpcy50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbix0aGlzLmJyaWdodG5lc3M9czt9cGFyc2UodCxzLGksbyl7dGhpcy5zdGF0dXM9XCJwYXJzaW5nXCI7Y29uc3Qgcj1uZXcgZS5hbShpLnRpbGVJRC5vdmVyc2NhbGVkWixpLnRpbGVJRC53cmFwLGkudGlsZUlELmNhbm9uaWNhbC56LGkudGlsZUlELmNhbm9uaWNhbC54LGkudGlsZUlELmNhbm9uaWNhbC55KSxuPXt9LGE9cy5mYW1pbGllc0J5U291cmNlW2kuc291cmNlXSxsPW5ldyBlLmRDKHIsaS5wcm9tb3RlSWQpO3JldHVybiBsLmJ1Y2tldExheWVySURzPVtdLGwuaXMzRFRpbGU9ITAsZS5kUCh0KS50aGVuKCh0PT57aWYoIXQpcmV0dXJuIG8obmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIHRpbGVcIikpO2NvbnN0IHM9ZS5kUSh0LDEvZS5iUihpLnRpbGVJRC5jYW5vbmljYWwpKSxoPXQuanNvbi5leHRlbnNpb25zVXNlZCYmdC5qc29uLmV4dGVuc2lvbnNVc2VkLmluY2x1ZGVzKFwiTUFQQk9YX21lc2hfZmVhdHVyZXNcIil8fHQuanNvbi5hc3NldC5leHRyYXMmJnQuanNvbi5hc3NldC5leHRyYXMuTUFQQk9YX21lc2hfZmVhdHVyZXMsYz10Lmpzb24uZXh0ZW5zaW9uc1VzZWQmJnQuanNvbi5leHRlbnNpb25zVXNlZC5pbmNsdWRlcyhcIkVYVF9tZXNob3B0X2NvbXByZXNzaW9uXCIpLHU9bmV3IGUuSyh0aGlzLnpvb20se2JyaWdodG5lc3M6dGhpcy5icmlnaHRuZXNzfSk7Zm9yKGNvbnN0IHQgaW4gYSlmb3IoY29uc3QgaSBvZiBhW3RdKXtjb25zdCB0PWlbMF07bC5idWNrZXRMYXllcklEcy5wdXNoKGkubWFwKChlPT5lLmlkKSkpLHQucmVjYWxjdWxhdGUodSxbXSk7Y29uc3Qgbz1uZXcgZS5kUihzLHIsaCxjLHRoaXMuYnJpZ2h0bmVzcyxsKTtofHwoby5uZWVkc1VwbG9hZD0hMCksblt0LmZxaWRdPW8sby5ldmFsdWF0ZSh0KTt9dGhpcy5zdGF0dXM9XCJkb25lXCIsbyhudWxsLHtidWNrZXRzOm4sZmVhdHVyZUluZGV4Omx9KTt9KSkuY2F0Y2goKGU9Pm8obmV3IEVycm9yKGUubWVzc2FnZSkpKSl9fWNsYXNzIEh7Y29uc3RydWN0b3IoZSx0LHMsaSxvLHIpe3RoaXMuYWN0b3I9ZSx0aGlzLmxheWVySW5kZXg9dCx0aGlzLmJyaWdodG5lc3M9cix0aGlzLmxvYWRpbmc9e30sdGhpcy5sb2FkZWQ9e307fWxvYWRUaWxlKHQscyl7Y29uc3QgaT10LnVpZCxvPXRoaXMubG9hZGluZ1tpXT1uZXcgSyh0LHRoaXMuYnJpZ2h0bmVzcyk7ZS5hXyh0LnJlcXVlc3QsKChlLHIpPT57Y29uc3Qgbj0hdGhpcy5sb2FkaW5nW2ldO3JldHVybiBkZWxldGUgdGhpcy5sb2FkaW5nW2ldLG58fGU/KG8uc3RhdHVzPVwiZG9uZVwiLG58fCh0aGlzLmxvYWRlZFtpXT1vKSxzKGUpKTpyJiYwIT09ci5ieXRlTGVuZ3RoP3ZvaWQgby5wYXJzZShyLHRoaXMubGF5ZXJJbmRleCx0LCgoZSx0KT0+e28uc3RhdHVzPVwiZG9uZVwiLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtpXT1vLGV8fCF0P3MoZSk6cyhudWxsLHQpO30pKTooby5zdGF0dXM9XCJkb25lXCIsdGhpcy5sb2FkZWRbaV09byxzKCkpfSkpO31yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcz10aGlzLmxvYWRlZCxpPWUudWlkO2lmKHMmJnNbaV0pe2NvbnN0IG89c1tpXTtvLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLG8uYnJpZ2h0bmVzcz1lLmJyaWdodG5lc3M7Y29uc3Qgcj0ocyxpKT0+e28ucmVsb2FkQ2FsbGJhY2smJihkZWxldGUgby5yZWxvYWRDYWxsYmFjayx0aGlzLmxvYWRUaWxlKGUsdCkpLHQocyxpKTt9O1wicGFyc2luZ1wiPT09by5zdGF0dXM/by5yZWxvYWRDYWxsYmFjaz1yOlwiZG9uZVwiPT09by5zdGF0dXMmJnRoaXMubG9hZFRpbGUoZSx0KTt9fWFib3J0VGlsZShlLHQpe2NvbnN0IHM9ZS51aWQ7dGhpcy5sb2FkaW5nW3NdJiZkZWxldGUgdGhpcy5sb2FkaW5nW3NdLHQoKTt9cmVtb3ZlVGlsZShlLHQpe2NvbnN0IHM9dGhpcy5sb2FkZWQsaT1lLnVpZDtzJiZzW2ldJiZkZWxldGUgc1tpXSx0KCk7fX1jbGFzcyBRe2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuZFModCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz17fSx0aGlzLmlzU3ByaXRlTG9hZGVkPXt9LHRoaXMucHJvamVjdGlvbnM9e30sdGhpcy5kZWZhdWx0UHJvamVjdGlvbj1lLmJvKHtuYW1lOlwibWVyY2F0b3JcIn0pLHRoaXMud29ya2VyU291cmNlVHlwZXM9e3ZlY3RvcjpoLGdlb2pzb246cSxcImJhdGNoZWQtbW9kZWxcIjpIfSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT0oZSx0KT0+e2lmKHRoaXMud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKGBXb3JrZXIgc291cmNlIHdpdGggbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7dGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXT10O30sdGhpcy5zZWxmLnJlZ2lzdGVyUlRMVGV4dFBsdWdpbj10PT57aWYoZS5kVC5pc1BhcnNlZCgpKXRocm93IG5ldyBFcnJvcihcIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO2UuZFQuYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUuZFQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LGUuZFQucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O307fWNsZWFyQ2FjaGVzKGUsdCxzKXtkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV0sZGVsZXRlIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXSxkZWxldGUgdGhpcy5yYXN0ZXJBcnJheVdvcmtlclNvdXJjZSxzKCk7fWNoZWNrSWZSZWFkeShlLHQscyl7cygpO31zZXRSZWZlcnJlcihlLHQpe3RoaXMucmVmZXJyZXI9dDt9c3ByaXRlTG9hZGVkKHQse3Njb3BlOnMsaXNMb2FkZWQ6aX0pe2lmKHRoaXMuaXNTcHJpdGVMb2FkZWRbdF18fCh0aGlzLmlzU3ByaXRlTG9hZGVkW3RdPXt9KSx0aGlzLmlzU3ByaXRlTG9hZGVkW3RdW3NdPWksdGhpcy53b3JrZXJTb3VyY2VzW3RdJiZ0aGlzLndvcmtlclNvdXJjZXNbdF1bc10pZm9yKGNvbnN0IG8gaW4gdGhpcy53b3JrZXJTb3VyY2VzW3RdW3NdKXtjb25zdCByPXRoaXMud29ya2VyU291cmNlc1t0XVtzXVtvXTtmb3IoY29uc3QgdCBpbiByKXJbdF1pbnN0YW5jZW9mIGgmJihyW3RdLmlzU3ByaXRlTG9hZGVkPWksclt0XS5maXJlKG5ldyBlLmIoXCJpc1Nwcml0ZUxvYWRlZFwiKSkpO319c2V0SW1hZ2VzKGUse3Njb3BlOnQsaW1hZ2VzOnN9LGkpe2lmKHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdfHwodGhpcy5hdmFpbGFibGVJbWFnZXNbZV09e30pLHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdW3RdPXMsdGhpcy53b3JrZXJTb3VyY2VzW2VdJiZ0aGlzLndvcmtlclNvdXJjZXNbZV1bdF0pe2Zvcihjb25zdCBpIGluIHRoaXMud29ya2VyU291cmNlc1tlXVt0XSl7Y29uc3Qgbz10aGlzLndvcmtlclNvdXJjZXNbZV1bdF1baV07Zm9yKGNvbnN0IGUgaW4gbylvW2VdLmF2YWlsYWJsZUltYWdlcz1zO31pKCk7fWVsc2UgaSgpO31zZXRQcm9qZWN0aW9uKHQscyl7dGhpcy5wcm9qZWN0aW9uc1t0XT1lLmJvKHMpO31zZXRCcmlnaHRuZXNzKGUsdCxzKXt0aGlzLmJyaWdodG5lc3M9dCxzKCk7fXNldExheWVycyhlLHQscyl7dGhpcy5nZXRMYXllckluZGV4KGUsdC5zY29wZSkucmVwbGFjZSh0LmxheWVycyx0Lm9wdGlvbnMpLHMoKTt9dXBkYXRlTGF5ZXJzKGUsdCxzKXt0aGlzLmdldExheWVySW5kZXgoZSx0LnNjb3BlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzLHQub3B0aW9ucykscygpO31sb2FkVGlsZShlLHQscyl7dC5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbZV18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UsdC5zY29wZSkubG9hZFRpbGUodCxzKTt9bG9hZERFTVRpbGUoZSx0LHMpe3RoaXMuZ2V0REVNV29ya2VyU291cmNlKGUsdC5zb3VyY2UsdC5zY29wZSkubG9hZFRpbGUodCxzKTt9ZGVjb2RlUmFzdGVyQXJyYXkoZSx0LHMpe3RoaXMuZ2V0UmFzdGVyQXJyYXlXb3JrZXJTb3VyY2UoKS5kZWNvZGVSYXN0ZXJBcnJheSh0LHMpO31yZWxvYWRUaWxlKGUsdCxzKXt0LnByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uc1tlXXx8dGhpcy5kZWZhdWx0UHJvamVjdGlvbix0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSx0LnNjb3BlKS5yZWxvYWRUaWxlKHQscyk7fWFib3J0VGlsZShlLHQscyl7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UsdC5zY29wZSkuYWJvcnRUaWxlKHQscyk7fXJlbW92ZVRpbGUoZSx0LHMpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlLHQuc2NvcGUpLnJlbW92ZVRpbGUodCxzKTt9cmVtb3ZlU291cmNlKGUsdCxzKXtpZighKHRoaXMud29ya2VyU291cmNlc1tlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3Quc2NvcGVdJiZ0aGlzLndvcmtlclNvdXJjZXNbZV1bdC5zY29wZV1bdC50eXBlXSYmdGhpcy53b3JrZXJTb3VyY2VzW2VdW3Quc2NvcGVdW3QudHlwZV1bdC5zb3VyY2VdKSlyZXR1cm47Y29uc3QgaT10aGlzLndvcmtlclNvdXJjZXNbZV1bdC5zY29wZV1bdC50eXBlXVt0LnNvdXJjZV07ZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXVt0LnNjb3BlXVt0LnR5cGVdW3Quc291cmNlXSx2b2lkIDAhPT1pLnJlbW92ZVNvdXJjZT9pLnJlbW92ZVNvdXJjZSh0LHMpOnMoKTt9bG9hZFdvcmtlclNvdXJjZShlLHQscyl7dHJ5e3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQudXJsKSxzKCk7fWNhdGNoKGUpe3MoZS50b1N0cmluZygpKTt9fXN5bmNSVExQbHVnaW5TdGF0ZSh0LHMsaSl7dHJ5e2UuZFQuc2V0U3RhdGUocyk7Y29uc3QgdD1lLmRULmdldFBsdWdpblVSTCgpO2lmKGUuZFQuaXNMb2FkZWQoKSYmIWUuZFQuaXNQYXJzZWQoKSYmbnVsbCE9dCl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModCk7Y29uc3Qgcz1lLmRULmlzUGFyc2VkKCk7aShzP3ZvaWQgMDpuZXcgRXJyb3IoYFJUTCBUZXh0IFBsdWdpbiBmYWlsZWQgdG8gaW1wb3J0IHNjcmlwdHMgZnJvbSAke3R9YCkscyk7fX1jYXRjaChlKXtpKGUudG9TdHJpbmcoKSk7fX1zZXREcmFjb1VybChlLHQpe3RoaXMuZHJhY29Vcmw9dDt9Z2V0QXZhaWxhYmxlSW1hZ2VzKGUsdCl7dGhpcy5hdmFpbGFibGVJbWFnZXNbZV18fCh0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT17fSk7bGV0IHM9dGhpcy5hdmFpbGFibGVJbWFnZXNbZV1bdF07cmV0dXJuIHN8fChzPVtdKSxzfWdldExheWVySW5kZXgoZSx0KXt0aGlzLmxheWVySW5kZXhlc1tlXXx8KHRoaXMubGF5ZXJJbmRleGVzW2VdPXt9KTtsZXQgcz10aGlzLmxheWVySW5kZXhlc1tlXVt0XTtyZXR1cm4gc3x8KHM9dGhpcy5sYXllckluZGV4ZXNbZV1bdF09bmV3IG8scy5zY29wZT10KSxzfWdldFdvcmtlclNvdXJjZShlLHQscyxpKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVtpXXx8KHRoaXMud29ya2VyU291cmNlc1tlXVtpXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW2ldW3RdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW2ldW3RdPXt9KSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdfHwodGhpcy5pc1Nwcml0ZUxvYWRlZFtlXT17fSksIXRoaXMud29ya2VyU291cmNlc1tlXVtpXVt0XVtzXSl7Y29uc3Qgbz17c2VuZDoodCxzLGksbyxyLG4pPT57dGhpcy5hY3Rvci5zZW5kKHQscyxpLGUscixuKTt9LHNjaGVkdWxlcjp0aGlzLmFjdG9yLnNjaGVkdWxlcn07dGhpcy53b3JrZXJTb3VyY2VzW2VdW2ldW3RdW3NdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKG8sdGhpcy5nZXRMYXllckluZGV4KGUsaSksdGhpcy5nZXRBdmFpbGFibGVJbWFnZXMoZSxpKSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdW2ldLHZvaWQgMCx0aGlzLmJyaWdodG5lc3MpO31yZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW2ldW3RdW3NdfWdldERFTVdvcmtlclNvdXJjZShlLHQscyl7cmV0dXJuIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXT17fSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3NdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3NdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bc11bdF18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bc11bdF09bmV3IGMpLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVtzXVt0XX1nZXRSYXN0ZXJBcnJheVdvcmtlclNvdXJjZSgpe3JldHVybiB0aGlzLnJhc3RlckFycmF5V29ya2VyU291cmNlfHwodGhpcy5yYXN0ZXJBcnJheVdvcmtlclNvdXJjZT1uZXcgdSksdGhpcy5yYXN0ZXJBcnJheVdvcmtlclNvdXJjZX1lbmZvcmNlQ2FjaGVTaXplTGltaXQodCxzKXtlLmRVKHMpO31nZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoZSx0LHMpe3Modm9pZCAwLHZvaWQgMCk7fX1yZXR1cm4gXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoc2VsZi53b3JrZXI9bmV3IFEoc2VsZikpLFF9KSk7XG5cbmRlZmluZShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLGkpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKCFBcnJheS5pc0FycmF5KGkpfHxlLmxlbmd0aCE9PWkubGVuZ3RoKXJldHVybiAhMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKylpZighdChlW29dLGlbb10pKXJldHVybiAhMTtyZXR1cm4gITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT09aSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGkpcmV0dXJuICExO2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aClyZXR1cm4gITE7Zm9yKGNvbnN0IG8gaW4gZSlpZighdChlW29dLGlbb10pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuIGU9PT1pfXZhciBpPW87ZnVuY3Rpb24gbyhlKXtyZXR1cm4gIWZ1bmN0aW9uKGUpe3JldHVybiBcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQ/XCJub3QgYSBicm93c2VyXCI6ZnVuY3Rpb24oKXtpZighKFwiV29ya2VyXCJpbiB3aW5kb3cmJlwiQmxvYlwiaW4gd2luZG93JiZcIlVSTFwiaW4gd2luZG93KSlyZXR1cm4gITE7dmFyIGUsdCxpPW5ldyBCbG9iKFtcIlwiXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSksbz1VUkwuY3JlYXRlT2JqZWN0VVJMKGkpO3RyeXt0PW5ldyBXb3JrZXIobyksZT0hMDt9Y2F0Y2godCl7ZT0hMTt9cmV0dXJuIHQmJnQudGVybWluYXRlKCksVVJMLnJldm9rZU9iamVjdFVSTChvKSxlfSgpP2Z1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPWUuaGVpZ2h0PTE7dmFyIHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuICExO3ZhciBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO3JldHVybiBpJiZpLndpZHRoPT09ZS53aWR0aH0oKT8odm9pZCAwPT09clt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihyW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPU9iamVjdC5jcmVhdGUoby53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtyZXR1cm4gaS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUsdC5nZXRDb250ZXh0KFwid2ViZ2wyXCIsaSl9KGUpO2lmKCFpKXJldHVybiAhMTt0cnl7dD1pLmNyZWF0ZVNoYWRlcihpLlZFUlRFWF9TSEFERVIpO31jYXRjaChlKXtyZXR1cm4gITF9cmV0dXJuICEoIXR8fGkuaXNDb250ZXh0TG9zdCgpKSYmKGkuc2hhZGVyU291cmNlKHQsXCJ2b2lkIG1haW4oKSB7fVwiKSxpLmNvbXBpbGVTaGFkZXIodCksITA9PT1pLmdldFNoYWRlclBhcmFtZXRlcih0LGkuQ09NUElMRV9TVEFUVVMpKX0odCkpLHJbdF0/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP1wiaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0XCI6dm9pZCAwOlwiaW5zdWZmaWNpZW50IFdlYkdMMiBzdXBwb3J0XCIpOlwiaW5zdWZmaWNpZW50IENhbnZhcy9nZXRJbWFnZURhdGEgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0XCI7dmFyIHQ7fShlKX12YXIgcj17fTtmdW5jdGlvbiBzKGUsdCxpKXtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7cmV0dXJuIG51bGwhPXQmJihvLmNsYXNzTmFtZT10KSxpJiZpLmFwcGVuZENoaWxkKG8pLG99ZnVuY3Rpb24gbihlLHQsaSl7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGUpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHQpKW8uc2V0QXR0cmlidXRlTlMobnVsbCxlLFN0cmluZyh0W2VdKSk7cmV0dXJuIGkmJmkuYXBwZW5kQ2hpbGQobyksb31vLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTtjb25zdCBhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTpudWxsLGw9YSYmdm9pZCAwIT09YS51c2VyU2VsZWN0P1widXNlclNlbGVjdFwiOlwiV2Via2l0VXNlclNlbGVjdFwiO2xldCBjO2Z1bmN0aW9uIGgoKXthJiZsJiYoYz1hW2xdLGFbbF09XCJub25lXCIpO31mdW5jdGlvbiB1KCl7YSYmbCYmKGFbbF09Yyk7fWZ1bmN0aW9uIGQoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApO31mdW5jdGlvbiBfKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApLHdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkLCEwKTt9KSwwKTt9ZnVuY3Rpb24gcChlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZyhlLGksdCl9ZnVuY3Rpb24gZihlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVtdO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKW8ucHVzaChnKGUsaSx0W3JdKSk7cmV0dXJuIG99ZnVuY3Rpb24gbShlKXtyZXR1cm4gdm9pZCAwIT09d2luZG93Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoXCJNQUNcIik+PTA/MDplLmJ1dHRvbn1mdW5jdGlvbiBnKHQsaSxvKXtjb25zdCByPXQub2Zmc2V0V2lkdGg9PT1pLndpZHRoPzE6dC5vZmZzZXRXaWR0aC9pLndpZHRoO3JldHVybiBuZXcgZS5QKChvLmNsaWVudFgtaS5sZWZ0KSpyLChvLmNsaWVudFktaS50b3ApKnIpfWNsYXNzIHZ7Y29uc3RydWN0b3IoKXt0aGlzLl9jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLl91cGRhdGVkU291cmNlQ2FjaGVzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzPW5ldyBTZXQsdGhpcy5fdXBkYXRlZEltYWdlcz1uZXcgU2V0O31pc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2NoYW5nZWR9c2V0RGlydHkoKXt0aGlzLl9jaGFuZ2VkPSEwO31nZXRVcGRhdGVkU291cmNlQ2FjaGVzKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZWRTb3VyY2VDYWNoZXN9dXBkYXRlU291cmNlQ2FjaGUoZSx0KXt0aGlzLl91cGRhdGVkU291cmNlQ2FjaGVzW2VdPXQsdGhpcy5zZXREaXJ0eSgpO31kaXNjYXJkU291cmNlQ2FjaGVVcGRhdGUoZSl7ZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VDYWNoZXNbZV07fXVwZGF0ZUxheWVyKGUpe2NvbnN0IHQ9ZS5zY29wZTt0aGlzLl91cGRhdGVkTGF5ZXJzW3RdPXRoaXMuX3VwZGF0ZWRMYXllcnNbdF18fG5ldyBTZXQsdGhpcy5fdXBkYXRlZExheWVyc1t0XS5hZGQoZS5pZCksdGhpcy5zZXREaXJ0eSgpO31yZW1vdmVMYXllcihlKXtjb25zdCB0PWUuc2NvcGU7dGhpcy5fcmVtb3ZlZExheWVyc1t0XT10aGlzLl9yZW1vdmVkTGF5ZXJzW3RdfHx7fSx0aGlzLl91cGRhdGVkTGF5ZXJzW3RdPXRoaXMuX3VwZGF0ZWRMYXllcnNbdF18fG5ldyBTZXQsdGhpcy5fcmVtb3ZlZExheWVyc1t0XVtlLmlkXT1lLHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0uZGVsZXRlKGUuaWQpLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzLmRlbGV0ZShlLmZxaWQpLHRoaXMuc2V0RGlydHkoKTt9Z2V0UmVtb3ZlZExheWVyKGUpe3JldHVybiB0aGlzLl9yZW1vdmVkTGF5ZXJzW2Uuc2NvcGVdP3RoaXMuX3JlbW92ZWRMYXllcnNbZS5zY29wZV1bZS5pZF06bnVsbH1kaXNjYXJkTGF5ZXJSZW1vdmFsKGUpe3RoaXMuX3JlbW92ZWRMYXllcnNbZS5zY29wZV0mJmRlbGV0ZSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2Uuc2NvcGVdW2UuaWRdO31nZXRMYXllclVwZGF0ZXNCeVNjb3BlKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLl91cGRhdGVkTGF5ZXJzKWVbdF09ZVt0XXx8e30sZVt0XS51cGRhdGVkSWRzPUFycmF5LmZyb20odGhpcy5fdXBkYXRlZExheWVyc1t0XS52YWx1ZXMoKSk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fcmVtb3ZlZExheWVycyllW3RdPWVbdF18fHt9LGVbdF0ucmVtb3ZlZElkcz1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdKTtyZXR1cm4gZX1nZXRVcGRhdGVkUGFpbnRQcm9wZXJ0aWVzKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzfXVwZGF0ZVBhaW50UHJvcGVydGllcyhlKXt0aGlzLl91cGRhdGVkUGFpbnRQcm9wcy5hZGQoZS5mcWlkKSx0aGlzLnNldERpcnR5KCk7fWdldFVwZGF0ZWRJbWFnZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl91cGRhdGVkSW1hZ2VzLnZhbHVlcygpKX11cGRhdGVJbWFnZShlKXt0aGlzLl91cGRhdGVkSW1hZ2VzLmFkZChlKSx0aGlzLnNldERpcnR5KCk7fXJlc2V0VXBkYXRlZEltYWdlcygpe3RoaXMuX3VwZGF0ZWRJbWFnZXMuY2xlYXIoKTt9cmVzZXQoKXt0aGlzLl9jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLl91cGRhdGVkU291cmNlQ2FjaGVzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzLmNsZWFyKCksdGhpcy5fdXBkYXRlZEltYWdlcy5jbGVhcigpO319Y2xhc3MgeCBleHRlbmRzIGUuRXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucmVxdWVzdE1hbmFnZXI9ZSx0aGlzLm1vZGVscz17XCJcIjp7fX0sdGhpcy5udW1Nb2RlbHNMb2FkaW5nPXt9O31sb2FkTW9kZWwodCxpKXtyZXR1cm4gZS5sKHRoaXMucmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLGUuUi5Nb2RlbCkudXJsKS50aGVuKChpPT57aWYoIWkpcmV0dXJuO2NvbnN0IG89ZS5jKGkpLHI9bmV3IGUuTSh0LHZvaWQgMCx2b2lkIDAsbyk7cmV0dXJuIHIuY29tcHV0ZUJvdW5kc0FuZEFwcGx5UGFyZW50KCkscn0pKS5jYXRjaCgobz0+e3RoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgbW9kZWwgJHt0fSBmcm9tICR7aX06ICR7by5tZXNzYWdlfWApKSk7fSkpfWxvYWQodCxpKXt0aGlzLm1vZGVsc1tpXXx8KHRoaXMubW9kZWxzW2ldPXt9KTtjb25zdCBvPU9iamVjdC5rZXlzKHQpO3RoaXMubnVtTW9kZWxzTG9hZGluZ1tpXT0odGhpcy5udW1Nb2RlbHNMb2FkaW5nW2ldfHwwKStvLmxlbmd0aDtjb25zdCByPVtdO2Zvcihjb25zdCBlIG9mIG8pci5wdXNoKHRoaXMubG9hZE1vZGVsKGUsdFtlXSkpO1Byb21pc2UuYWxsU2V0dGxlZChyKS50aGVuKCh0PT57Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0e3N0YXR1czpyLHZhbHVlOnN9PXRbZV07XCJmdWxmaWxsZWRcIj09PXImJnMmJih0aGlzLm1vZGVsc1tpXVtvW2VdXT1zKTt9dGhpcy5udW1Nb2RlbHNMb2FkaW5nW2ldLT1vLmxlbmd0aCx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKS5jYXRjaCgodD0+e3RoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgbW9kZWxzOiAke3QubWVzc2FnZX1gKSkpO30pKTt9aXNMb2FkZWQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLm51bU1vZGVsc0xvYWRpbmcpaWYodGhpcy5udW1Nb2RlbHNMb2FkaW5nW2VdPjApcmV0dXJuICExO3JldHVybiAhMH1oYXNNb2RlbChlLHQpe3JldHVybiAhIXRoaXMuZ2V0TW9kZWwoZSx0KX1nZXRNb2RlbChlLHQpe3JldHVybiB0aGlzLm1vZGVsc1t0XXx8KHRoaXMubW9kZWxzW3RdPXt9KSx0aGlzLm1vZGVsc1t0XVtlXX1hZGRNb2RlbChlLHQsaSl7dGhpcy5tb2RlbHNbaV18fCh0aGlzLm1vZGVsc1tpXT17fSksdGhpcy5oYXNNb2RlbChlLGkpJiZ0aGlzLnJlbW92ZU1vZGVsKGUsaSksdGhpcy5sb2FkKHtbZV06dGhpcy5yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVNb2RlbFVSTCh0KX0saSk7fWFkZE1vZGVscyhlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IHQgaW4gZSlpW3RdPXRoaXMucmVxdWVzdE1hbmFnZXIubm9ybWFsaXplTW9kZWxVUkwoZVt0XSk7dGhpcy5sb2FkKGksdCk7fXJlbW92ZU1vZGVsKGUsdCl7dGhpcy5tb2RlbHNbdF18fCh0aGlzLm1vZGVsc1t0XT17fSk7Y29uc3QgaT10aGlzLm1vZGVsc1t0XVtlXTtkZWxldGUgdGhpcy5tb2RlbHNbdF1bZV0saS5kZXN0cm95KCk7fWxpc3RNb2RlbHMoZSl7cmV0dXJuIHRoaXMubW9kZWxzW2VdfHwodGhpcy5tb2RlbHNbZV09e30pLE9iamVjdC5rZXlzKHRoaXMubW9kZWxzW2VdKX11cGxvYWQoZSx0KXt0aGlzLm1vZGVsc1t0XXx8KHRoaXMubW9kZWxzW3RdPXt9KTtmb3IoY29uc3QgaSBpbiB0aGlzLm1vZGVsc1t0XSl0aGlzLm1vZGVsc1t0XVtpXS51cGxvYWQoZS5jb250ZXh0KTt9fWNsYXNzIHl7Y29uc3RydWN0b3IoKXt0aGlzLnN0YXRlPXt9LHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fTt9dXBkYXRlU3RhdGUodCxpLG8pe2NvbnN0IHI9U3RyaW5nKGkpO2lmKHRoaXMuc3RhdGVDaGFuZ2VzW3RdPXRoaXMuc3RhdGVDaGFuZ2VzW3RdfHx7fSx0aGlzLnN0YXRlQ2hhbmdlc1t0XVtyXT10aGlzLnN0YXRlQ2hhbmdlc1t0XVtyXXx8e30sZS5lKHRoaXMuc3RhdGVDaGFuZ2VzW3RdW3JdLG8pLG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe3RoaXMuZGVsZXRlZFN0YXRlc1t0XT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlW3RdKWUhPT1yJiYodGhpcy5kZWxldGVkU3RhdGVzW3RdW2VdPW51bGwpO31lbHNlIGlmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtyXSl7dGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuc3RhdGVbdF1bcl0pb1tlXXx8KHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtyXVtlXT1udWxsKTt9ZWxzZSBmb3IoY29uc3QgZSBpbiBvKXRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmdGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdW2VdJiZkZWxldGUgdGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdW2VdO31yZW1vdmVGZWF0dXJlU3RhdGUoZSx0LGkpe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pcmV0dXJuO2NvbnN0IG89U3RyaW5nKHQpO2lmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV18fHt9LGkmJnZvaWQgMCE9PXQpbnVsbCE9PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtvXSYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtvXT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bb118fHt9LHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtvXVtpXT1udWxsKTtlbHNlIGlmKHZvaWQgMCE9PXQpaWYodGhpcy5zdGF0ZUNoYW5nZXNbZV0mJnRoaXMuc3RhdGVDaGFuZ2VzW2VdW29dKWZvcihpIGluIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtvXT17fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtvXSl0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bb11baV09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtvXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW2VdPW51bGw7fWdldFN0YXRlKHQsaSl7Y29uc3Qgbz1TdHJpbmcoaSkscj1lLmUoe30sKHRoaXMuc3RhdGVbdF18fHt9KVtvXSwodGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9KVtvXSk7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlyZXR1cm4ge307aWYodGhpcy5kZWxldGVkU3RhdGVzW3RdKXtjb25zdCBlPXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtpXTtpZihudWxsPT09ZSlyZXR1cm4ge307Zm9yKGNvbnN0IHQgaW4gZSlkZWxldGUgclt0XTt9cmV0dXJuIHJ9aW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHQpe2Uuc2V0RmVhdHVyZVN0YXRlKHRoaXMuc3RhdGUsdCk7fWNvYWxlc2NlQ2hhbmdlcyh0LGkpe2NvbnN0IG89e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZUNoYW5nZXMpe3RoaXMuc3RhdGVbdF09dGhpcy5zdGF0ZVt0XXx8e307Y29uc3QgaT17fTtmb3IoY29uc3QgbyBpbiB0aGlzLnN0YXRlQ2hhbmdlc1t0XSl0aGlzLnN0YXRlW3RdW29dfHwodGhpcy5zdGF0ZVt0XVtvXT17fSksZS5lKHRoaXMuc3RhdGVbdF1bb10sdGhpcy5zdGF0ZUNoYW5nZXNbdF1bb10pLGlbb109dGhpcy5zdGF0ZVt0XVtvXTtvW3RdPWk7fWZvcihjb25zdCB0IGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVt0XT10aGlzLnN0YXRlW3RdfHx7fTtjb25zdCBpPXt9O2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pZm9yKGNvbnN0IGUgaW4gdGhpcy5zdGF0ZVt0XSlpW2VdPXt9LHRoaXMuc3RhdGVbdF1bZV09e307ZWxzZSBmb3IoY29uc3QgZSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bZV0pdGhpcy5zdGF0ZVt0XVtlXT17fTtlbHNlIGlmKHRoaXMuc3RhdGVbdF1bZV0pZm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW3RdW2VdKSlkZWxldGUgdGhpcy5zdGF0ZVt0XVtlXVtpXTtpW2VdPXRoaXMuc3RhdGVbdF1bZV07fW9bdF09b1t0XXx8e30sZS5lKG9bdF0saSk7fWlmKHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fSwwIT09T2JqZWN0LmtleXMobykubGVuZ3RoKWZvcihjb25zdCBlIGluIHQpdFtlXS5zZXRGZWF0dXJlU3RhdGUobyxpKTt9fWZ1bmN0aW9uIGIoZSl7Y29uc3R7dXNlckltYWdlOnR9PWU7cmV0dXJuICEhKHQmJnQucmVuZGVyJiZ0LnJlbmRlcigpKSYmKGUuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KHQuZGF0YS5idWZmZXIpKSwhMCl9Y2xhc3MgdyBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pbWFnZXM9e30sdGhpcy51cGRhdGVkSW1hZ2VzPXt9LHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9LHRoaXMubG9hZGVkPXt9LHRoaXMucmVxdWVzdG9ycz1bXSx0aGlzLnBhdHRlcm5zPXt9LHRoaXMuYXRsYXNJbWFnZT17fSx0aGlzLmF0bGFzVGV4dHVyZT17fSx0aGlzLmRpcnR5PSEwO31jcmVhdGVTY29wZSh0KXt0aGlzLmltYWdlc1t0XT17fSx0aGlzLmxvYWRlZFt0XT0hMSx0aGlzLnVwZGF0ZWRJbWFnZXNbdF09e30sdGhpcy5wYXR0ZXJuc1t0XT17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XT17fSx0aGlzLmF0bGFzSW1hZ2VbdF09bmV3IGUuaCh7d2lkdGg6MSxoZWlnaHQ6MX0pO31pc0xvYWRlZCgpe2Zvcihjb25zdCBlIGluIHRoaXMubG9hZGVkKWlmKCF0aGlzLmxvYWRlZFtlXSlyZXR1cm4gITE7cmV0dXJuICEwfXNldExvYWRlZChlLHQpe2lmKHRoaXMubG9hZGVkW3RdIT09ZSYmKHRoaXMubG9hZGVkW3RdPWUsZSkpe2Zvcihjb25zdHtpZHM6ZSxjYWxsYmFjazppfW9mIHRoaXMucmVxdWVzdG9ycyl0aGlzLl9ub3RpZnkoZSx0LGkpO3RoaXMucmVxdWVzdG9ycz1bXTt9fWhhc0ltYWdlKGUsdCl7cmV0dXJuICEhdGhpcy5nZXRJbWFnZShlLHQpfWdldEltYWdlKGUsdCl7cmV0dXJuIHRoaXMuaW1hZ2VzW3RdW2VdfWFkZEltYWdlKGUsdCxpKXt0aGlzLl92YWxpZGF0ZShlLGkpJiYodGhpcy5pbWFnZXNbdF1bZV09aSk7fV92YWxpZGF0ZSh0LGkpe2xldCBvPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWCxpLmRhdGEmJmkuZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFhcIiB2YWx1ZWApKSksbz0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKGkuc3RyZXRjaFksaS5kYXRhJiZpLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWVwiIHZhbHVlYCkpKSxvPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQoaS5jb250ZW50LGkpfHwodGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcImNvbnRlbnRcIiB2YWx1ZWApKSksbz0hMSksb31fdmFsaWRhdGVTdHJldGNoKGUsdCl7aWYoIWUpcmV0dXJuICEwO2xldCBpPTA7Zm9yKGNvbnN0IG8gb2YgZSl7aWYob1swXTxpfHxvWzFdPG9bMF18fHQ8b1sxXSlyZXR1cm4gITE7aT1vWzFdO31yZXR1cm4gITB9X3ZhbGlkYXRlQ29udGVudChlLHQpe3JldHVybiAhKGUmJig0IT09ZS5sZW5ndGh8fGVbMF08MHx8dC5kYXRhLndpZHRoPGVbMF18fGVbMV08MHx8dC5kYXRhLmhlaWdodDxlWzFdfHxlWzJdPDB8fHQuZGF0YS53aWR0aDxlWzJdfHxlWzNdPDB8fHQuZGF0YS5oZWlnaHQ8ZVszXXx8ZVsyXTxlWzBdfHxlWzNdPGVbMV0pKX11cGRhdGVJbWFnZShlLHQsaSl7aS52ZXJzaW9uPXRoaXMuaW1hZ2VzW3RdW2VdLnZlcnNpb24rMSx0aGlzLmltYWdlc1t0XVtlXT1pLHRoaXMudXBkYXRlZEltYWdlc1t0XVtlXT0hMDt9cmVtb3ZlSW1hZ2UoZSx0KXtjb25zdCBpPXRoaXMuaW1hZ2VzW3RdW2VdO2RlbGV0ZSB0aGlzLmltYWdlc1t0XVtlXSxkZWxldGUgdGhpcy5wYXR0ZXJuc1t0XVtlXSxpLnVzZXJJbWFnZSYmaS51c2VySW1hZ2Uub25SZW1vdmUmJmkudXNlckltYWdlLm9uUmVtb3ZlKCk7fWxpc3RJbWFnZXMoZSl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzW2VdKX1nZXRJbWFnZXMoZSx0LGkpe2xldCBvPSEwO2NvbnN0IHI9ISF0aGlzLmxvYWRlZFt0XTtpZighcilmb3IoY29uc3QgaSBvZiBlKXRoaXMuaW1hZ2VzW3RdW2ldfHwobz0hMSk7cnx8bz90aGlzLl9ub3RpZnkoZSx0LGkpOnRoaXMucmVxdWVzdG9ycy5wdXNoKHtpZHM6ZSxzY29wZTp0LGNhbGxiYWNrOml9KTt9Z2V0VXBkYXRlZEltYWdlcyhlKXtyZXR1cm4gdGhpcy51cGRhdGVkSW1hZ2VzW2VdfV9ub3RpZnkodCxpLG8pe2NvbnN0IHI9e307Zm9yKGNvbnN0IG8gb2YgdCl7dGhpcy5pbWFnZXNbaV1bb118fHRoaXMuZmlyZShuZXcgZS5iKFwic3R5bGVpbWFnZW1pc3NpbmdcIix7aWQ6b30pKTtjb25zdCB0PXRoaXMuaW1hZ2VzW2ldW29dO3Q/cltvXT17ZGF0YTp0LmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnQucGl4ZWxSYXRpbyxzZGY6dC5zZGYsdmVyc2lvbjp0LnZlcnNpb24sc3RyZXRjaFg6dC5zdHJldGNoWCxzdHJldGNoWTp0LnN0cmV0Y2hZLGNvbnRlbnQ6dC5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4odC51c2VySW1hZ2UmJnQudXNlckltYWdlLnJlbmRlcil9OmUudyhgSW1hZ2UgXCIke299XCIgY291bGQgbm90IGJlIGxvYWRlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhZGRlZCB0aGUgaW1hZ2Ugd2l0aCBtYXAuYWRkSW1hZ2UoKSBvciBhIFwic3ByaXRlXCIgcHJvcGVydHkgaW4geW91ciBzdHlsZS4gWW91IGNhbiBwcm92aWRlIG1pc3NpbmcgaW1hZ2VzIGJ5IGxpc3RlbmluZyBmb3IgdGhlIFwic3R5bGVpbWFnZW1pc3NpbmdcIiBtYXAgZXZlbnQuYCk7fW8obnVsbCxyKTt9Z2V0UGl4ZWxTaXplKGUpe2NvbnN0e3dpZHRoOnQsaGVpZ2h0Oml9PXRoaXMuYXRsYXNJbWFnZVtlXTtyZXR1cm4ge3dpZHRoOnQsaGVpZ2h0Oml9fWdldFBhdHRlcm4odCxpKXtjb25zdCBvPXRoaXMucGF0dGVybnNbaV1bdF0scj10aGlzLmdldEltYWdlKHQsaSk7aWYoIXIpcmV0dXJuIG51bGw7aWYobyYmby5wb3NpdGlvbi52ZXJzaW9uPT09ci52ZXJzaW9uKXJldHVybiBvLnBvc2l0aW9uO2lmKG8pby5wb3NpdGlvbi52ZXJzaW9uPXIudmVyc2lvbjtlbHNlIHtjb25zdCBvPXt3OnIuZGF0YS53aWR0aCsyLGg6ci5kYXRhLmhlaWdodCsyLHg6MCx5OjB9LHM9bmV3IGUuSShvLHIpO3RoaXMucGF0dGVybnNbaV1bdF09e2JpbjpvLHBvc2l0aW9uOnN9O31yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKGkpLHRoaXMucGF0dGVybnNbaV1bdF0ucG9zaXRpb259YmluZCh0LGkpe2NvbnN0IG89dC5nbDtsZXQgcj10aGlzLmF0bGFzVGV4dHVyZVtpXTtyP3RoaXMuZGlydHkmJihyLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2VbaV0pLHRoaXMuZGlydHk9ITEpOihyPW5ldyBlLlQodCx0aGlzLmF0bGFzSW1hZ2VbaV0sby5SR0JBKSx0aGlzLmF0bGFzVGV4dHVyZVtpXT1yKSxyLmJpbmQoby5MSU5FQVIsby5DTEFNUF9UT19FREdFKTt9X3VwZGF0ZVBhdHRlcm5BdGxhcyh0KXtjb25zdCBpPVtdO2Zvcihjb25zdCBlIGluIHRoaXMucGF0dGVybnNbdF0paS5wdXNoKHRoaXMucGF0dGVybnNbdF1bZV0uYmluKTtjb25zdHt3Om8saDpyfT1lLnAoaSkscz10aGlzLmF0bGFzSW1hZ2VbdF07cy5yZXNpemUoe3dpZHRoOm98fDEsaGVpZ2h0OnJ8fDF9KTtmb3IoY29uc3QgaSBpbiB0aGlzLnBhdHRlcm5zW3RdKXtjb25zdHtiaW46b309dGhpcy5wYXR0ZXJuc1t0XVtpXSxyPW8ueCsxLG49by55KzEsYT10aGlzLmltYWdlc1t0XVtpXS5kYXRhLGw9YS53aWR0aCxjPWEuaGVpZ2h0O2UuaC5jb3B5KGEscyx7eDowLHk6MH0se3g6cix5Om59LHt3aWR0aDpsLGhlaWdodDpjfSksZS5oLmNvcHkoYSxzLHt4OjAseTpjLTF9LHt4OnIseTpuLTF9LHt3aWR0aDpsLGhlaWdodDoxfSksZS5oLmNvcHkoYSxzLHt4OjAseTowfSx7eDpyLHk6bitjfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGUuaC5jb3B5KGEscyx7eDpsLTEseTowfSx7eDpyLTEseTpufSx7d2lkdGg6MSxoZWlnaHQ6Y30pLGUuaC5jb3B5KGEscyx7eDowLHk6MH0se3g6citsLHk6bn0se3dpZHRoOjEsaGVpZ2h0OmN9KTt9dGhpcy5kaXJ0eT0hMDt9YmVnaW5GcmFtZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuaW1hZ2VzKXRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW2VdPXt9O31kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyhlLHQpe2Zvcihjb25zdCBpIG9mIGUpe2lmKHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdW2ldKWNvbnRpbnVlO3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdW2ldPSEwO2NvbnN0IGU9dGhpcy5pbWFnZXNbdF1baV07YihlKSYmdGhpcy51cGRhdGVJbWFnZShpLHQsZSk7fX19Y2xhc3MgVHtjb25zdHJ1Y3RvcihlLHQsaSxvKXt0aGlzLm1lc3NhZ2U9KGU/YCR7ZX06IGA6XCJcIikraSxvJiYodGhpcy5pZGVudGlmaWVyPW8pLG51bGwhPXQmJnQuX19saW5lX18mJih0aGlzLmxpbmU9dC5fX2xpbmVfXyk7fX1jbGFzcyBFIGV4dGVuZHMgVHt9ZnVuY3Rpb24gUyh0KXtjb25zdCBpPXQua2V5LG89dC52YWx1ZSxyPXQudmFsdWVTcGVjfHx7fSxzPXQub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LG49dC5zdHlsZSxhPXQuc3R5bGVTcGVjO2xldCBsPVtdO2NvbnN0IGM9ZS5pKG8pO2lmKFwib2JqZWN0XCIhPT1jKXJldHVybiBbbmV3IFQoaSxvLGBvYmplY3QgZXhwZWN0ZWQsICR7Y30gZm91bmRgKV07Zm9yKGNvbnN0IGUgaW4gbyl7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKVswXTtsZXQgYztzW3RdP2M9c1t0XTpyW3RdP2M9JDpzW1wiKlwiXT9jPXNbXCIqXCJdOnJbXCIqXCJdJiYoYz0kKSxjP2w9bC5jb25jYXQoYyh7a2V5OihpP2Ake2l9LmA6aSkrZSx2YWx1ZTpvW2VdLHZhbHVlU3BlYzpyW3RdfHxyW1wiKlwiXSxzdHlsZTpuLHN0eWxlU3BlYzphLG9iamVjdDpvLG9iamVjdEtleTplfSxvKSk6bC5wdXNoKG5ldyBFKGksb1tlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApKTt9Zm9yKGNvbnN0IGUgaW4gcilzW2VdfHxyW2VdLnJlcXVpcmVkJiZ2b2lkIDA9PT1yW2VdLmRlZmF1bHQmJnZvaWQgMD09PW9bZV0mJmwucHVzaChuZXcgVChpLG8sYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke2V9XCJgKSk7cmV0dXJuIGx9ZnVuY3Rpb24gQyh0KXtjb25zdCBpPXQudmFsdWUsbz10LnZhbHVlU3BlYyxyPXQuc3R5bGUscz10LnN0eWxlU3BlYyxuPXQua2V5LGE9dC5hcnJheUVsZW1lbnRWYWxpZGF0b3J8fCQ7aWYoXCJhcnJheVwiIT09ZS5pKGkpKXJldHVybiBbbmV3IFQobixpLGBhcnJheSBleHBlY3RlZCwgJHtlLmkoaSl9IGZvdW5kYCldO2lmKG8ubGVuZ3RoJiZpLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiBbbmV3IFQobixpLGBhcnJheSBsZW5ndGggJHtvLmxlbmd0aH0gZXhwZWN0ZWQsIGxlbmd0aCAke2kubGVuZ3RofSBmb3VuZGApXTtpZihvW1wibWluLWxlbmd0aFwiXSYmaS5sZW5ndGg8b1tcIm1pbi1sZW5ndGhcIl0pcmV0dXJuIFtuZXcgVChuLGksYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke29bXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7aS5sZW5ndGh9IGZvdW5kYCldO2xldCBsPXt0eXBlOm8udmFsdWUsdmFsdWVzOm8udmFsdWVzLG1pbmltdW06by5taW5pbXVtLG1heGltdW06by5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07cy4kdmVyc2lvbjw3JiYobC5mdW5jdGlvbj1vLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09ZS5pKG8udmFsdWUpJiYobD1vLnZhbHVlKTtsZXQgYz1bXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyljPWMuY29uY2F0KGEoe2FycmF5OmksYXJyYXlJbmRleDplLHZhbHVlOmlbZV0sdmFsdWVTcGVjOmwsc3R5bGU6cixzdHlsZVNwZWM6cyxrZXk6YCR7bn1bJHtlfV1gfSwhMCkpO3JldHVybiBjfWZ1bmN0aW9uIEkodCl7Y29uc3QgaT10LmtleSxvPXQudmFsdWUscj10LnZhbHVlU3BlYztsZXQgcz1lLmkobyk7aWYoXCJudW1iZXJcIj09PXMmJm8hPW8mJihzPVwiTmFOXCIpLFwibnVtYmVyXCIhPT1zKXJldHVybiBbbmV3IFQoaSxvLGBudW1iZXIgZXhwZWN0ZWQsICR7c30gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiByKXtsZXQgcz1yLm1pbmltdW07aWYoXCJhcnJheVwiPT09ZS5pKHIubWluaW11bSkmJihzPXIubWluaW11bVt0LmFycmF5SW5kZXhdKSxvPHMpcmV0dXJuIFtuZXcgVChpLG8sYCR7b30gaXMgbGVzcyB0aGFuIHRoZSBtaW5pbXVtIHZhbHVlICR7c31gKV19aWYoXCJtYXhpbXVtXCJpbiByKXtsZXQgcz1yLm1heGltdW07aWYoXCJhcnJheVwiPT09ZS5pKHIubWF4aW11bSkmJihzPXIubWF4aW11bVt0LmFycmF5SW5kZXhdKSxvPnMpcmV0dXJuIFtuZXcgVChpLG8sYCR7b30gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7c31gKV19cmV0dXJuIFtdfWZ1bmN0aW9uIEQodCl7Y29uc3QgaT10LnZhbHVlU3BlYyxvPWUudSh0LnZhbHVlLnR5cGUpO2xldCByLHMsbixhPXt9O2NvbnN0IGw9XCJjYXRlZ29yaWNhbFwiIT09byYmdm9pZCAwPT09dC52YWx1ZS5wcm9wZXJ0eSxjPSFsLGg9XCJhcnJheVwiPT09ZS5pKHQudmFsdWUuc3RvcHMpJiZcImFycmF5XCI9PT1lLmkodC52YWx1ZS5zdG9wc1swXSkmJlwib2JqZWN0XCI9PT1lLmkodC52YWx1ZS5zdG9wc1swXVswXSksdT1TKHtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6dC5zdHlsZVNwZWMuZnVuY3Rpb24sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3N0b3BzOmZ1bmN0aW9uKHQpe2lmKFwiaWRlbnRpdHlcIj09PW8pcmV0dXJuIFtuZXcgVCh0LmtleSx0LnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSBcInN0b3BzXCIgcHJvcGVydHknKV07bGV0IGk9W107Y29uc3Qgcj10LnZhbHVlO3JldHVybiBpPWkuY29uY2F0KEMoe2tleTp0LmtleSx2YWx1ZTpyLHZhbHVlU3BlYzp0LnZhbHVlU3BlYyxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxhcnJheUVsZW1lbnRWYWxpZGF0b3I6ZH0pKSxcImFycmF5XCI9PT1lLmkocikmJjA9PT1yLmxlbmd0aCYmaS5wdXNoKG5ldyBUKHQua2V5LHIsXCJhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN0b3BcIikpLGl9LGRlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQoe2tleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzppLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSl9fX0pO3JldHVybiBcImlkZW50aXR5XCI9PT1vJiZsJiZ1LnB1c2gobmV3IFQodC5rZXksdC52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09b3x8dC52YWx1ZS5zdG9wc3x8dS5wdXNoKG5ldyBUKHQua2V5LHQudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PW8mJnQudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFlLnModC52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IFQodC5rZXksdC52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSx0LnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGMmJiFlLmsodC52YWx1ZVNwZWMpP3UucHVzaChuZXcgVCh0LmtleSx0LnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOmwmJiFlLm0odC52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IFQodC5rZXksdC52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1vJiYhaHx8dm9pZCAwIT09dC52YWx1ZS5wcm9wZXJ0eXx8dS5wdXNoKG5ldyBUKHQua2V5LHQudmFsdWUsJ1wicHJvcGVydHlcIiBwcm9wZXJ0eSBpcyByZXF1aXJlZCcpKSx1O2Z1bmN0aW9uIGQodCl7bGV0IG89W107Y29uc3Qgcj10LnZhbHVlLGw9dC5rZXk7aWYoXCJhcnJheVwiIT09ZS5pKHIpKXJldHVybiBbbmV3IFQobCxyLGBhcnJheSBleHBlY3RlZCwgJHtlLmkocil9IGZvdW5kYCldO2lmKDIhPT1yLmxlbmd0aClyZXR1cm4gW25ldyBUKGwscixgYXJyYXkgbGVuZ3RoIDIgZXhwZWN0ZWQsIGxlbmd0aCAke3IubGVuZ3RofSBmb3VuZGApXTtpZihoKXtpZihcIm9iamVjdFwiIT09ZS5pKHJbMF0pKXJldHVybiBbbmV3IFQobCxyLGBvYmplY3QgZXhwZWN0ZWQsICR7ZS5pKHJbMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1yWzBdLnpvb20pcmV0dXJuIFtuZXcgVChsLHIsXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHpvb21cIildO2lmKHZvaWQgMD09PXJbMF0udmFsdWUpcmV0dXJuIFtuZXcgVChsLHIsXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHZhbHVlXCIpXTtjb25zdCBpPWUudShyWzBdLnpvb20pO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpKXJldHVybiBbbmV3IFQobCxyWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYmUgbnVtYmVyc1wiKV07aWYobiYmbj5pKXJldHVybiBbbmV3IFQobCxyWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07aSE9PW4mJihuPWkscz12b2lkIDAsYT17fSksbz1vLmNvbmNhdChTKHtrZXk6YCR7bH1bMF1gLHZhbHVlOnJbMF0sdmFsdWVTcGVjOnt6b29tOnt9fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7em9vbTpJLHZhbHVlOl99fSkpO31lbHNlIG89by5jb25jYXQoXyh7a2V5OmAke2x9WzBdYCx2YWx1ZTpyWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30scikpO3JldHVybiBlLm4oZS5vKHJbMV0pKT9vLmNvbmNhdChbbmV3IFQoYCR7bH1bMV1gLHJbMV0sXCJleHByZXNzaW9ucyBhcmUgbm90IGFsbG93ZWQgaW4gZnVuY3Rpb24gc3RvcHMuXCIpXSk6by5jb25jYXQoJCh7a2V5OmAke2x9WzFdYCx2YWx1ZTpyWzFdLHZhbHVlU3BlYzppLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIF8odCxuKXtjb25zdCBsPWUuaSh0LnZhbHVlKSxjPWUudSh0LnZhbHVlKSxoPW51bGwhPT10LnZhbHVlP3QudmFsdWU6bjtpZihyKXtpZihsIT09cilyZXR1cm4gW25ldyBUKHQua2V5LGgsYCR7bH0gc3RvcCBkb21haW4gdHlwZSBtdXN0IG1hdGNoIHByZXZpb3VzIHN0b3AgZG9tYWluIHR5cGUgJHtyfWApXX1lbHNlIHI9bDtpZihcIm51bWJlclwiIT09bCYmXCJzdHJpbmdcIiE9PWwmJlwiYm9vbGVhblwiIT09bCYmXCJudW1iZXJcIiE9dHlwZW9mIGMmJlwic3RyaW5nXCIhPXR5cGVvZiBjJiZcImJvb2xlYW5cIiE9dHlwZW9mIGMpcmV0dXJuIFtuZXcgVCh0LmtleSxoLFwic3RvcCBkb21haW4gdmFsdWUgbXVzdCBiZSBhIG51bWJlciwgc3RyaW5nLCBvciBib29sZWFuXCIpXTtpZihcIm51bWJlclwiIT09bCYmXCJjYXRlZ29yaWNhbFwiIT09byl7bGV0IHI9YG51bWJlciBleHBlY3RlZCwgJHtsfSBmb3VuZGA7cmV0dXJuIGUuayhpKSYmdm9pZCAwPT09byYmKHIrPSdcXG5JZiB5b3UgaW50ZW5kZWQgdG8gdXNlIGEgY2F0ZWdvcmljYWwgZnVuY3Rpb24sIHNwZWNpZnkgYFwidHlwZVwiOiBcImNhdGVnb3JpY2FsXCJgLicpLFtuZXcgVCh0LmtleSxoLHIpXX1yZXR1cm4gXCJjYXRlZ29yaWNhbFwiIT09b3x8XCJudW1iZXJcIiE9PWx8fFwibnVtYmVyXCI9PXR5cGVvZiBjJiZpc0Zpbml0ZShjKSYmTWF0aC5mbG9vcihjKT09PWM/XCJjYXRlZ29yaWNhbFwiIT09byYmXCJudW1iZXJcIj09PWwmJlwibnVtYmVyXCI9PXR5cGVvZiBjJiZcIm51bWJlclwiPT10eXBlb2YgcyYmdm9pZCAwIT09cyYmYzxzP1tuZXcgVCh0LmtleSxoLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV06KHM9YyxcImNhdGVnb3JpY2FsXCI9PT1vJiZjIGluIGE/W25ldyBUKHQua2V5LGgsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBiZSB1bmlxdWVcIildOihhW2NdPSEwLFtdKSk6W25ldyBUKHQua2V5LGgsYGludGVnZXIgZXhwZWN0ZWQsIGZvdW5kICR7U3RyaW5nKGMpfWApXX19ZnVuY3Rpb24gTCh0KXtjb25zdCBpPShcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0P2UucTplLnIpKGUubyh0LnZhbHVlKSx0LnZhbHVlU3BlYyk7aWYoXCJlcnJvclwiPT09aS5yZXN1bHQpcmV0dXJuIGkudmFsdWUubWFwKChlPT5uZXcgVChgJHt0LmtleX0ke2Uua2V5fWAsdC52YWx1ZSxlLm1lc3NhZ2UpKSk7Y29uc3Qgbz1pLnZhbHVlLmV4cHJlc3Npb258fGkudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uO2lmKFwicHJvcGVydHlcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJlwidGV4dC1mb250XCI9PT10LnByb3BlcnR5S2V5JiYhby5vdXRwdXREZWZpbmVkKCkpcmV0dXJuIFtuZXcgVCh0LmtleSx0LnZhbHVlLGBJbnZhbGlkIGRhdGEgZXhwcmVzc2lvbiBmb3IgXCIke3QucHJvcGVydHlLZXl9XCIuIE91dHB1dCB2YWx1ZXMgbXVzdCBiZSBjb250YWluZWQgYXMgbGl0ZXJhbHMgd2l0aGluIHRoZSBleHByZXNzaW9uLmApXTtpZihcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiZcImxheW91dFwiPT09dC5wcm9wZXJ0eVR5cGUmJiFlLnQobykpcmV0dXJuIFtuZXcgVCh0LmtleSx0LnZhbHVlLCdcImZlYXR1cmUtc3RhdGVcIiBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbGF5b3V0IHByb3BlcnRpZXMuJyldO2lmKFwiZmlsdGVyXCI9PT10LmV4cHJlc3Npb25Db250ZXh0KXJldHVybiBBKG8sdCk7aWYodC5leHByZXNzaW9uQ29udGV4dCYmMD09PXQuZXhwcmVzc2lvbkNvbnRleHQuaW5kZXhPZihcImNsdXN0ZXJcIikpe2lmKCFlLnYobyxbXCJ6b29tXCIsXCJmZWF0dXJlLXN0YXRlXCJdKSlyZXR1cm4gW25ldyBUKHQua2V5LHQudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PXQuZXhwcmVzc2lvbkNvbnRleHQmJiFlLngobykpcmV0dXJuIFtuZXcgVCh0LmtleSx0LnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuIFtdfWZ1bmN0aW9uIEEodCxpKXtjb25zdCBvPW5ldyBTZXQoW1wiem9vbVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZihpLnZhbHVlU3BlYyYmaS52YWx1ZVNwZWMuZXhwcmVzc2lvbilmb3IoY29uc3QgZSBvZiBpLnZhbHVlU3BlYy5leHByZXNzaW9uLnBhcmFtZXRlcnMpby5kZWxldGUoZSk7aWYoMD09PW8uc2l6ZSlyZXR1cm4gW107Y29uc3Qgcj1bXTtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuQyYmby5oYXModC5uYW1lKT9bbmV3IFQoaS5rZXksaS52YWx1ZSxgW1wiJHt0Lm5hbWV9XCJdIGV4cHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZCBpbiBhIGZpbHRlciBmb3IgYSAke2kub2JqZWN0LnR5cGV9IGxheWVyIHdpdGggaWQ6ICR7aS5vYmplY3QuaWR9YCldOih0LmVhY2hDaGlsZCgoZT0+e3IucHVzaCguLi5BKGUsaSkpO30pKSxyKX1mdW5jdGlvbiBSKHQpe2NvbnN0IGk9dC5rZXksbz10LnZhbHVlLHI9dC52YWx1ZVNwZWMscz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnZhbHVlcyk/LTE9PT1yLnZhbHVlcy5pbmRleE9mKGUudShvKSkmJnMucHVzaChuZXcgVChpLG8sYGV4cGVjdGVkIG9uZSBvZiBbJHtyLnZhbHVlcy5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShvKX0gZm91bmRgKSk6LTE9PT1PYmplY3Qua2V5cyhyLnZhbHVlcykuaW5kZXhPZihlLnUobykpJiZzLnB1c2gobmV3IFQoaSxvLGBleHBlY3RlZCBvbmUgb2YgWyR7T2JqZWN0LmtleXMoci52YWx1ZXMpLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KG8pfSBmb3VuZGApKSxzfWZ1bmN0aW9uIFAodCl7cmV0dXJuIGUueihlLm8odC52YWx1ZSkpP0woZS5qKHt9LHQse2V4cHJlc3Npb25Db250ZXh0OlwiZmlsdGVyXCIsdmFsdWVTcGVjOnQuc3R5bGVTcGVjW2BmaWx0ZXJfJHt0LmxheWVyVHlwZXx8XCJmaWxsXCJ9YF19KSk6TSh0KX1mdW5jdGlvbiBNKHQpe2NvbnN0IGk9dC52YWx1ZSxvPXQua2V5O2lmKFwiYXJyYXlcIiE9PWUuaShpKSlyZXR1cm4gW25ldyBUKG8saSxgYXJyYXkgZXhwZWN0ZWQsICR7ZS5pKGkpfSBmb3VuZGApXTtjb25zdCByPXQuc3R5bGVTcGVjO2xldCBzLG49W107aWYoaS5sZW5ndGg8MSlyZXR1cm4gW25ldyBUKG8saSxcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtzd2l0Y2gobj1uLmNvbmNhdChSKHtrZXk6YCR7b31bMF1gLHZhbHVlOmlbMF0sdmFsdWVTcGVjOnIuZmlsdGVyX29wZXJhdG9yLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpLGUudShpWzBdKSl7Y2FzZVwiPFwiOmNhc2VcIjw9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6aS5sZW5ndGg+PTImJlwiJHR5cGVcIj09PWUudShpWzFdKSYmbi5wdXNoKG5ldyBUKG8saSxgXCIkdHlwZVwiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciBcIiR7aVswXX1cImApKTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6MyE9PWkubGVuZ3RoJiZuLnB1c2gobmV3IFQobyxpLGBmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yIFwiJHtpWzBdfVwiIG11c3QgaGF2ZSAzIGVsZW1lbnRzYCkpO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6aS5sZW5ndGg+PTImJihzPWUuaShpWzFdKSxcInN0cmluZ1wiIT09cyYmbi5wdXNoKG5ldyBUKGAke299WzFdYCxpWzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7c30gZm91bmRgKSkpO2ZvcihsZXQgYT0yO2E8aS5sZW5ndGg7YSsrKXM9ZS5pKGlbYV0pLFwiJHR5cGVcIj09PWUudShpWzFdKT9uPW4uY29uY2F0KFIoe2tleTpgJHtvfVske2F9XWAsdmFsdWU6aVthXSx2YWx1ZVNwZWM6ci5nZW9tZXRyeV90eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpOlwic3RyaW5nXCIhPT1zJiZcIm51bWJlclwiIT09cyYmXCJib29sZWFuXCIhPT1zJiZuLnB1c2gobmV3IFQoYCR7b31bJHthfV1gLGlbYV0sYHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAke3N9IGZvdW5kYCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IobGV0IGU9MTtlPGkubGVuZ3RoO2UrKyluPW4uY29uY2F0KE0oe2tleTpgJHtvfVske2V9XWAsdmFsdWU6aVtlXSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKTticmVhaztjYXNlXCJoYXNcIjpjYXNlXCIhaGFzXCI6cz1lLmkoaVsxXSksMiE9PWkubGVuZ3RoP24ucHVzaChuZXcgVChvLGksYGZpbHRlciBhcnJheSBmb3IgXCIke2lbMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJzdHJpbmdcIiE9PXMmJm4ucHVzaChuZXcgVChgJHtvfVsxXWAsaVsxXSxgc3RyaW5nIGV4cGVjdGVkLCAke3N9IGZvdW5kYCkpO31yZXR1cm4gbn1mdW5jdGlvbiB6KHQsaSl7Y29uc3Qgbz10LmtleSxyPXQuc3R5bGUscz10LmxheWVyLG49dC5zdHlsZVNwZWMsYT10LnZhbHVlLGw9dC5vYmplY3RLZXksYz1uW2Ake2l9XyR7dC5sYXllclR5cGV9YF07aWYoIWMpcmV0dXJuIFtdO2NvbnN0IGg9bC5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT1pJiZoJiZjW2hbMV1dJiZjW2hbMV1dLnRyYW5zaXRpb24pcmV0dXJuICQoe2tleTpvLHZhbHVlOmEsdmFsdWVTcGVjOm4udHJhbnNpdGlvbixzdHlsZTpyLHN0eWxlU3BlYzpufSk7Y29uc3QgdT10LnZhbHVlU3BlY3x8Y1tsXTtpZighdSlyZXR1cm4gW25ldyBFKG8sYSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7bH1cImApXTtsZXQgZDtpZihcInN0cmluZ1wiPT09ZS5pKGEpJiZlLmsodSkmJiF1LnRva2VucyYmKGQ9L157KFtefV0rKX0kLy5leGVjKGEpKSl7Y29uc3QgZT1gXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7ZD9KU09OLnN0cmluZ2lmeShkWzFdKTonXCJfXCInfSB9XFxgYDtyZXR1cm4gW25ldyBUKG8sYSxgXCIke2x9XCIgZG9lcyBub3Qgc3VwcG9ydCBpbnRlcnBvbGF0aW9uIHN5bnRheFxcblVzZSBhbiBpZGVudGl0eSBwcm9wZXJ0eSBmdW5jdGlvbiBpbnN0ZWFkOiAke2V9LmApXX1jb25zdCBfPVtdO2lmKFwic3ltYm9sXCI9PT10LmxheWVyVHlwZSlcInRleHQtZmllbGRcIiE9PWx8fCFyfHxyLmdseXBoc3x8ci5pbXBvcnRzfHxfLnB1c2gobmV3IFQobyxhLCd1c2Ugb2YgXCJ0ZXh0LWZpZWxkXCIgcmVxdWlyZXMgYSBzdHlsZSBcImdseXBoc1wiIHByb3BlcnR5JykpLFwidGV4dC1mb250XCI9PT1sJiZlLkEoZS5vKGEpKSYmXCJpZGVudGl0eVwiPT09ZS51KGEudHlwZSkmJl8ucHVzaChuZXcgVChvLGEsJ1widGV4dC1mb250XCIgZG9lcyBub3Qgc3VwcG9ydCBpZGVudGl0eSBmdW5jdGlvbnMnKSk7ZWxzZSBpZihcIm1vZGVsXCI9PT10LmxheWVyVHlwZSYmXCJwYWludFwiPT09aSYmcyYmcy5sYXlvdXQmJnMubGF5b3V0Lmhhc093blByb3BlcnR5KFwibW9kZWwtaWRcIikmJmUuayh1KSYmKGUuQih1KXx8ZS5tKHUpKSl7Y29uc3QgdD1lLnEoZS5vKGEpLHUpLGk9dC52YWx1ZS5leHByZXNzaW9ufHx0LnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpJiYhZS52KGksW1wibWVhc3VyZS1saWdodFwiXSkmJihcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCI9PT1sJiZlLngoaSkmJmUudChpKXx8Xy5wdXNoKG5ldyBUKG8sYSxgJHtsfSBkb2VzIG5vdCBzdXBwb3J0IG1lYXN1cmUtbGlnaHQgZXhwcmVzc2lvbnMgd2hlbiB0aGUgbW9kZWwgbGF5ZXIgc291cmNlIGlzIHZlY3RvciB0aWxlIG9yIEdlb0pTT04uYCkpKTt9cmV0dXJuIF8uY29uY2F0KCQoe2tleTp0LmtleSx2YWx1ZTphLHZhbHVlU3BlYzp1LHN0eWxlOnIsc3R5bGVTcGVjOm4sZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTppLHByb3BlcnR5S2V5Omx9KSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4geihlLFwicGFpbnRcIil9ZnVuY3Rpb24gRihlKXtyZXR1cm4geihlLFwibGF5b3V0XCIpfWZ1bmN0aW9uIEIodCl7bGV0IGk9W107Y29uc3Qgbz10LnZhbHVlLHI9dC5rZXkscz10LnN0eWxlLG49dC5zdHlsZVNwZWM7by50eXBlfHxvLnJlZnx8aS5wdXNoKG5ldyBUKHIsbywnZWl0aGVyIFwidHlwZVwiIG9yIFwicmVmXCIgaXMgcmVxdWlyZWQnKSk7bGV0IGE9ZS51KG8udHlwZSk7Y29uc3QgbD1lLnUoby5yZWYpO2lmKG8uaWQpe2NvbnN0IG49ZS51KG8uaWQpO2ZvcihsZXQgYT0wO2E8dC5hcnJheUluZGV4O2ErKyl7Y29uc3QgdD1zLmxheWVyc1thXTtlLnUodC5pZCk9PT1uJiZpLnB1c2gobmV3IFQocixvLmlkLGBkdXBsaWNhdGUgbGF5ZXIgaWQgXCIke28uaWR9XCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICR7dC5pZC5fX2xpbmVfX31gKSk7fX1pZihcInJlZlwiaW4gbyl7bGV0IHQ7W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcImZpbHRlclwiLFwibGF5b3V0XCJdLmZvckVhY2goKGU9PntlIGluIG8mJmkucHVzaChuZXcgVChyLG9bZV0sYFwiJHtlfVwiIGlzIHByb2hpYml0ZWQgZm9yIHJlZiBsYXllcnNgKSk7fSkpLHMubGF5ZXJzLmZvckVhY2goKGk9PntlLnUoaS5pZCk9PT1sJiYodD1pKTt9KSksdD90LnJlZj9pLnB1c2gobmV3IFQocixvLnJlZixcInJlZiBjYW5ub3QgcmVmZXJlbmNlIGFub3RoZXIgcmVmIGxheWVyXCIpKTphPWUudSh0LnR5cGUpOlwic3RyaW5nXCI9PXR5cGVvZiBsJiZpLnB1c2gobmV3IFQocixvLnJlZixgcmVmIGxheWVyIFwiJHtsfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSBpZihcImJhY2tncm91bmRcIiE9PWEmJlwic2t5XCIhPT1hJiZcInNsb3RcIiE9PWEpaWYoby5zb3VyY2Upe2NvbnN0IHQ9cy5zb3VyY2VzJiZzLnNvdXJjZXNbby5zb3VyY2VdLG49dCYmZS51KHQudHlwZSk7dD9cInZlY3RvclwiPT09biYmXCJyYXN0ZXJcIj09PWE/aS5wdXNoKG5ldyBUKHIsby5zb3VyY2UsYGxheWVyIFwiJHtvLmlkfVwiIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZWApKTpcInJhc3RlclwiPT09biYmXCJyYXN0ZXJcIiE9PWE/aS5wdXNoKG5ldyBUKHIsby5zb3VyY2UsYGxheWVyIFwiJHtvLmlkfVwiIHJlcXVpcmVzIGEgdmVjdG9yIHNvdXJjZWApKTpcInZlY3RvclwiIT09bnx8b1tcInNvdXJjZS1sYXllclwiXT9cInJhc3Rlci1kZW1cIj09PW4mJlwiaGlsbHNoYWRlXCIhPT1hP2kucHVzaChuZXcgVChyLG8uc291cmNlLFwicmFzdGVyLWRlbSBzb3VyY2UgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGxheWVyIHR5cGUgJ2hpbGxzaGFkZScuXCIpKTpcInJhc3Rlci1hcnJheVwiIT09bnx8W1wicmFzdGVyXCIsXCJyYXN0ZXItcGFydGljbGVcIl0uaW5jbHVkZXMoYSk/XCJsaW5lXCIhPT1hfHwhby5wYWludHx8IW8ucGFpbnRbXCJsaW5lLWdyYWRpZW50XCJdJiYhby5wYWludFtcImxpbmUtdHJpbS1vZmZzZXRcIl18fFwiZ2VvanNvblwiPT09biYmdC5saW5lTWV0cmljcz9cInJhc3Rlci1wYXJ0aWNsZVwiPT09YSYmXCJyYXN0ZXItYXJyYXlcIiE9PW4mJmkucHVzaChuZXcgVChyLG8uc291cmNlLGBsYXllciBcIiR7by5pZH1cIiByZXF1aXJlcyBhICdyYXN0ZXItYXJyYXknIHNvdXJjZS5gKSk6aS5wdXNoKG5ldyBUKHIsbyxgbGF5ZXIgXCIke28uaWR9XCIgc3BlY2lmaWVzIGEgbGluZS1ncmFkaWVudCwgd2hpY2ggcmVxdWlyZXMgYSBHZW9KU09OIHNvdXJjZSB3aXRoIFxcYGxpbmVNZXRyaWNzXFxgIGVuYWJsZWQuYCkpOmkucHVzaChuZXcgVChyLG8uc291cmNlLFwicmFzdGVyLWFycmF5IHNvdXJjZSBjYW4gb25seSBiZSB1c2VkIHdpdGggbGF5ZXIgdHlwZSAncmFzdGVyJy5cIikpOmkucHVzaChuZXcgVChyLG8sYGxheWVyIFwiJHtvLmlkfVwiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCJgKSk6aS5wdXNoKG5ldyBUKHIsby5zb3VyY2UsYHNvdXJjZSBcIiR7by5zb3VyY2V9XCIgbm90IGZvdW5kYCkpO31lbHNlIGkucHVzaChuZXcgVChyLG8sJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gaT1pLmNvbmNhdChTKHtrZXk6cix2YWx1ZTpvLHZhbHVlU3BlYzpuLmxheWVyLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjooKT0+W10sdHlwZTooKT0+JCh7a2V5OmAke3J9LnR5cGVgLHZhbHVlOm8udHlwZSx2YWx1ZVNwZWM6bi5sYXllci50eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdDpvLG9iamVjdEtleTpcInR5cGVcIn0pLGZpbHRlcjp0PT5QKGUuaih7bGF5ZXJUeXBlOmF9LHQpKSxsYXlvdXQ6dD0+Uyh7bGF5ZXI6byxrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOnQ9PkYoZS5qKHtsYXllclR5cGU6YX0sdCkpfX0pLHBhaW50OnQ9PlMoe2xheWVyOm8sa2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOnt9LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjp0PT5PKGUuaih7bGF5ZXJUeXBlOmEsbGF5ZXI6b30sdCkpfX0pfX0pKSxpfWZ1bmN0aW9uIGsodCl7Y29uc3QgaT10LnZhbHVlLG89dC5rZXkscj1lLmkoaSk7cmV0dXJuIFwic3RyaW5nXCIhPT1yP1tuZXcgVChvLGksYHN0cmluZyBleHBlY3RlZCwgJHtyfSBmb3VuZGApXTpbXX1jb25zdCBOPXtwcm9tb3RlSWQ6ZnVuY3Rpb24oe2tleTp0LHZhbHVlOml9KXtpZihcInN0cmluZ1wiPT09ZS5pKGkpKXJldHVybiBrKHtrZXk6dCx2YWx1ZTppfSk7e2NvbnN0IGU9W107Zm9yKGNvbnN0IG8gaW4gaSllLnB1c2goLi4uayh7a2V5OmAke3R9LiR7b31gLHZhbHVlOmlbb119KSk7cmV0dXJuIGV9fX07ZnVuY3Rpb24gVSh0KXtjb25zdCBpPXQudmFsdWUsbz10LmtleSxyPXQuc3R5bGVTcGVjLHM9dC5zdHlsZTtpZighaS50eXBlKXJldHVybiBbbmV3IFQobyxpLCdcInR5cGVcIiBpcyByZXF1aXJlZCcpXTtjb25zdCBuPWUudShpLnR5cGUpO2xldCBhPVtdO3N3aXRjaChbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwicmFzdGVyLWRlbVwiLFwicmFzdGVyLWFycmF5XCJdLmluY2x1ZGVzKG4pJiYoaS51cmx8fGkudGlsZXN8fGEucHVzaChuZXcgRShvLGksJ0VpdGhlciBcInVybFwiIG9yIFwidGlsZXNcIiBpcyByZXF1aXJlZC4nKSkpLG4pe2Nhc2VcInZlY3RvclwiOmNhc2VcInJhc3RlclwiOmNhc2VcInJhc3Rlci1kZW1cIjpjYXNlXCJyYXN0ZXItYXJyYXlcIjpyZXR1cm4gYT1hLmNvbmNhdChTKHtrZXk6byx2YWx1ZTppLHZhbHVlU3BlYzpyW2Bzb3VyY2VfJHtuLnJlcGxhY2UoXCItXCIsXCJfXCIpfWBdLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnIsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6Tn0pKSxhO2Nhc2VcImdlb2pzb25cIjppZihhPVMoe2tleTpvLHZhbHVlOmksdmFsdWVTcGVjOnIuc291cmNlX2dlb2pzb24sc3R5bGU6cyxzdHlsZVNwZWM6cixvYmplY3RFbGVtZW50VmFsaWRhdG9yczpOfSksaS5jbHVzdGVyKWZvcihjb25zdCBlIGluIGkuY2x1c3RlclByb3BlcnRpZXMpe2NvbnN0W3Qscl09aS5jbHVzdGVyUHJvcGVydGllc1tlXSxzPVwic3RyaW5nXCI9PXR5cGVvZiB0P1t0LFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLGVdXTp0O2EucHVzaCguLi5MKHtrZXk6YCR7b30uJHtlfS5tYXBgLHZhbHVlOnIsZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLGEucHVzaCguLi5MKHtrZXk6YCR7b30uJHtlfS5yZWR1Y2VgLHZhbHVlOnMsZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLXJlZHVjZVwifSkpO31yZXR1cm4gYTtjYXNlXCJ2aWRlb1wiOnJldHVybiBTKHtrZXk6byx2YWx1ZTppLHZhbHVlU3BlYzpyLnNvdXJjZV92aWRlbyxzdHlsZTpzLHN0eWxlU3BlYzpyfSk7Y2FzZVwiaW1hZ2VcIjpyZXR1cm4gUyh7a2V5Om8sdmFsdWU6aSx2YWx1ZVNwZWM6ci5zb3VyY2VfaW1hZ2Usc3R5bGU6cyxzdHlsZVNwZWM6cn0pO2Nhc2VcImNhbnZhc1wiOnJldHVybiBbbmV3IFQobyxudWxsLFwiUGxlYXNlIHVzZSBydW50aW1lIEFQSXMgdG8gYWRkIGNhbnZhcyBzb3VyY2VzLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgdGhlbSBpbiBzdHlsZXNoZWV0cy5cIixcInNvdXJjZS5jYW52YXNcIildO2RlZmF1bHQ6cmV0dXJuIFIoe2tleTpgJHtvfS50eXBlYCx2YWx1ZTppLnR5cGUsdmFsdWVTcGVjOnt2YWx1ZXM6RyhyKX0sc3R5bGU6cyxzdHlsZVNwZWM6cn0pfX1mdW5jdGlvbiBHKGUpe3JldHVybiBlLnNvdXJjZS5yZWR1Y2UoKCh0LGkpPT57Y29uc3Qgbz1lW2ldO3JldHVybiBcImVudW1cIj09PW8udHlwZS50eXBlJiYodD10LmNvbmNhdChPYmplY3Qua2V5cyhvLnR5cGUudmFsdWVzKSkpLHR9KSxbXSl9ZnVuY3Rpb24gaih0KXtjb25zdCBpPXQudmFsdWU7bGV0IG89W107aWYoIWkpcmV0dXJuIG87Y29uc3Qgcj1lLmkoaSk7cmV0dXJuIFwic3RyaW5nXCIhPT1yPyhvPW8uY29uY2F0KFtuZXcgVCh0LmtleSxpLGBzdHJpbmcgZXhwZWN0ZWQsIFwiJHtyfVwiIGZvdW5kYCldKSxvKTooZnVuY3Rpb24oZSl7Y29uc3QgdD0tMT09PWUuaW5kZXhPZihcIjovL1wiKTt0cnl7cmV0dXJuIG5ldyBVUkwoZSx0P1wiaHR0cDovL2V4YW1wbGUuY29tXCI6dm9pZCAwKSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fShpKXx8KG89by5jb25jYXQoW25ldyBUKHQua2V5LGksYGludmFsaWQgdXJsIFwiJHtpfVwiYCldKSksbyl9ZnVuY3Rpb24gVih0KXtjb25zdCBpPXQudmFsdWUsbz10LnN0eWxlU3BlYyxyPW8ubGlnaHQscz10LnN0eWxlO2xldCBuPVtdO2NvbnN0IGE9ZS5pKGkpO2lmKHZvaWQgMD09PWkpcmV0dXJuIG47aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIG49bi5jb25jYXQoW25ldyBUKFwibGlnaHRcIixpLGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLG47Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO249bi5jb25jYXQodCYmclt0WzFdXSYmclt0WzFdXS50cmFuc2l0aW9uPyQoe2tleTplLHZhbHVlOmlbZV0sdmFsdWVTcGVjOm8udHJhbnNpdGlvbixzdHlsZTpzLHN0eWxlU3BlYzpvfSk6cltlXT8kKHtrZXk6ZSx2YWx1ZTppW2VdLHZhbHVlU3BlYzpyW2VdLHN0eWxlOnMsc3R5bGVTcGVjOm99KTpbbmV3IFQoZSxpW2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKTt9cmV0dXJuIG59ZnVuY3Rpb24gWih0KXtjb25zdCBpPXQudmFsdWU7bGV0IG89W107aWYoIWkpcmV0dXJuIG87Y29uc3Qgcj1lLmkoaSk7aWYoXCJvYmplY3RcIiE9PXIpcmV0dXJuIG89by5jb25jYXQoW25ldyBUKFwibGlnaHQtM2RcIixpLGBvYmplY3QgZXhwZWN0ZWQsICR7cn0gZm91bmRgKV0pLG87Y29uc3Qgcz10LnN0eWxlU3BlYyxuPXNbXCJsaWdodC0zZFwiXSxhPXQua2V5LGw9dC5zdHlsZSxjPXQuc3R5bGUubGlnaHRzO2Zvcihjb25zdCBlIG9mIFtcInR5cGVcIixcImlkXCJdKWlmKCEoZSBpbiBpKSlyZXR1cm4gbz1vLmNvbmNhdChbbmV3IFQoXCJsaWdodC0zZFwiLGksYG1pc3NpbmcgcHJvcGVydHkgJHtlfSBvbiBsaWdodGApXSksbztpZihpLnR5cGUmJmMpZm9yKGxldCByPTA7cjx0LmFycmF5SW5kZXg7cisrKXtjb25zdCB0PWUudShpLnR5cGUpLHM9Y1tyXTtlLnUocy50eXBlKT09PXQmJm8ucHVzaChuZXcgVChhLGkuaWQsYGR1cGxpY2F0ZSBsaWdodCB0eXBlIFwiJHtpLnR5cGV9XCIsIHByZXZpb3VzbHkgZGVmaW5lZCBhdCBsaW5lICR7cy5pZC5fX2xpbmVfX31gKSk7fWNvbnN0IGg9YHByb3BlcnRpZXNfbGlnaHRfJHtpLnR5cGV9YDtpZighKGggaW4gcykpcmV0dXJuIG89by5jb25jYXQoW25ldyBUKFwibGlnaHQtM2RcIixpLGBJbnZhbGlkIGxpZ2h0IHR5cGUgJHtpLnR5cGV9YCldKSxvO2NvbnN0IHU9c1toXTtmb3IoY29uc3QgciBpbiBpKWlmKFwicHJvcGVydGllc1wiPT09cil7Y29uc3Qgbj1pW3JdLGE9ZS5pKG4pO2lmKFwib2JqZWN0XCIhPT1hKXJldHVybiBvPW8uY29uY2F0KFtuZXcgVChcInByb3BlcnRpZXNcIixuLGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLG87Zm9yKGNvbnN0IGUgaW4gbilvPW8uY29uY2F0KHVbZV0/JCh7a2V5OmUsdmFsdWU6bltlXSx2YWx1ZVNwZWM6dVtlXSxzdHlsZTpsLHN0eWxlU3BlYzpzfSk6W25ldyBFKHQua2V5LG5bZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKV0pO31lbHNlIHtjb25zdCBlPXIubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7bz1vLmNvbmNhdChlJiZuW2VbMV1dJiZuW2VbMV1dLnRyYW5zaXRpb24/JCh7a2V5OnIsdmFsdWU6aVtyXSx2YWx1ZVNwZWM6cy50cmFuc2l0aW9uLHN0eWxlOmwsc3R5bGVTcGVjOnN9KTpuW3JdPyQoe2tleTpyLHZhbHVlOmlbcl0sdmFsdWVTcGVjOm5bcl0sc3R5bGU6bCxzdHlsZVNwZWM6c30pOltuZXcgRShyLGlbcl0sYHVua25vd24gcHJvcGVydHkgXCIke3J9XCJgKV0pO31yZXR1cm4gb31mdW5jdGlvbiBIKHQpe2NvbnN0IGk9dC52YWx1ZSxvPXQua2V5LHI9dC5zdHlsZSxzPXQuc3R5bGVTcGVjLG49cy50ZXJyYWluO2xldCBhPVtdO2NvbnN0IGw9ZS5pKGkpO2lmKHZvaWQgMD09PWkpcmV0dXJuIGE7aWYoXCJudWxsXCI9PT1sKXJldHVybiBhO2lmKFwib2JqZWN0XCIhPT1sKXJldHVybiBhPWEuY29uY2F0KFtuZXcgVChcInRlcnJhaW5cIixpLGBvYmplY3QgZXhwZWN0ZWQsICR7bH0gZm91bmRgKV0pLGE7Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9YS5jb25jYXQodCYmblt0WzFdXSYmblt0WzFdXS50cmFuc2l0aW9uPyQoe2tleTplLHZhbHVlOmlbZV0sdmFsdWVTcGVjOnMudHJhbnNpdGlvbixzdHlsZTpyLHN0eWxlU3BlYzpzfSk6bltlXT8kKHtrZXk6ZSx2YWx1ZTppW2VdLHZhbHVlU3BlYzpuW2VdLHN0eWxlOnIsc3R5bGVTcGVjOnN9KTpbbmV3IEUoZSxpW2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKTt9aWYoaS5zb3VyY2Upe2NvbnN0IHQ9ci5zb3VyY2VzJiZyLnNvdXJjZXNbaS5zb3VyY2VdLHM9dCYmZS51KHQudHlwZSk7dD9cInJhc3Rlci1kZW1cIiE9PXMmJmEucHVzaChuZXcgVChvLGkuc291cmNlLGB0ZXJyYWluIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBzb3VyY2Ugb2YgdHlwZSAke1N0cmluZyhzKX0sIGl0IG9ubHkgYmUgdXNlZCB3aXRoIGEgXCJyYXN0ZXItZGVtXCIgc291cmNlIHR5cGVgKSk6YS5wdXNoKG5ldyBUKG8saS5zb3VyY2UsYHNvdXJjZSBcIiR7aS5zb3VyY2V9XCIgbm90IGZvdW5kYCkpO31lbHNlIGEucHVzaChuZXcgVChvLGksJ3RlcnJhaW4gaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNvdXJjZVwiJykpO3JldHVybiBhfWZ1bmN0aW9uIFcodCl7Y29uc3QgaT10LnZhbHVlLG89dC5zdHlsZSxyPXQuc3R5bGVTcGVjLHM9ci5mb2c7bGV0IG49W107Y29uc3QgYT1lLmkoaSk7aWYodm9pZCAwPT09aSlyZXR1cm4gbjtpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gbj1uLmNvbmNhdChbbmV3IFQoXCJmb2dcIixpLGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLG47Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO249bi5jb25jYXQodCYmc1t0WzFdXSYmc1t0WzFdXS50cmFuc2l0aW9uPyQoe2tleTplLHZhbHVlOmlbZV0sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTpvLHN0eWxlU3BlYzpyfSk6c1tlXT8kKHtrZXk6ZSx2YWx1ZTppW2VdLHZhbHVlU3BlYzpzW2VdLHN0eWxlOm8sc3R5bGVTcGVjOnJ9KTpbbmV3IEUoZSxpW2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKTt9cmV0dXJuIG59Y29uc3QgcT17XCIqXCI6KCk9PltdLGFycmF5OkMsYm9vbGVhbjpmdW5jdGlvbih0KXtjb25zdCBpPXQudmFsdWUsbz10LmtleSxyPWUuaShpKTtyZXR1cm4gXCJib29sZWFuXCIhPT1yP1tuZXcgVChvLGksYGJvb2xlYW4gZXhwZWN0ZWQsICR7cn0gZm91bmRgKV06W119LG51bWJlcjpJLGNvbG9yOmZ1bmN0aW9uKHQpe2NvbnN0IGk9dC5rZXksbz10LnZhbHVlLHI9ZS5pKG8pO3JldHVybiBcInN0cmluZ1wiIT09cj9bbmV3IFQoaSxvLGBjb2xvciBleHBlY3RlZCwgJHtyfSBmb3VuZGApXTpudWxsPT09ZS55KG8pP1tuZXcgVChpLG8sYGNvbG9yIGV4cGVjdGVkLCBcIiR7b31cIiBmb3VuZGApXTpbXX0sZW51bTpSLGZpbHRlcjpQLGZ1bmN0aW9uOkQsbGF5ZXI6QixvYmplY3Q6Uyxzb3VyY2U6VSxtb2RlbDpqLGxpZ2h0OlYsXCJsaWdodC0zZFwiOlosdGVycmFpbjpILGZvZzpXLHN0cmluZzprLGZvcm1hdHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWsoZSkubGVuZ3RoP1tdOkwoZSl9LHJlc29sdmVkSW1hZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1rKGUpLmxlbmd0aD9bXTpMKGUpfSxwcm9qZWN0aW9uOmZ1bmN0aW9uKHQpe2NvbnN0IGk9dC52YWx1ZSxvPXQuc3R5bGVTcGVjLHI9by5wcm9qZWN0aW9uLHM9dC5zdHlsZTtsZXQgbj1bXTtjb25zdCBhPWUuaShpKTtpZihcIm9iamVjdFwiPT09YSlmb3IoY29uc3QgZSBpbiBpKW49bi5jb25jYXQoJCh7a2V5OmUsdmFsdWU6aVtlXSx2YWx1ZVNwZWM6cltlXSxzdHlsZTpzLHN0eWxlU3BlYzpvfSkpO2Vsc2UgXCJzdHJpbmdcIiE9PWEmJihuPW4uY29uY2F0KFtuZXcgVChcInByb2plY3Rpb25cIixpLGBvYmplY3Qgb3Igc3RyaW5nIGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSk7cmV0dXJuIG59LGltcG9ydDpmdW5jdGlvbih0KXtjb25zdHt2YWx1ZTppLHN0eWxlU3BlYzpvfT10LHtkYXRhOnIsLi4uc309aTtPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcIl9fbGluZV9fXCIse3ZhbHVlOmkuX19saW5lX18sZW51bWVyYWJsZTohMX0pO2xldCBuPVMoZS5qKHt9LHQse3ZhbHVlOnMsdmFsdWVTcGVjOm8uaW1wb3J0fSkpO3JldHVybiBcIlwiPT09ZS51KHMuaWQpJiZuLnB1c2gobmV3IFQoYCR7dC5rZXl9LmlkYCxzLFwiaW1wb3J0IGlkIGNhbid0IGJlIGFuIGVtcHR5IHN0cmluZ1wiKSksciYmKG49bi5jb25jYXQoSyhyLG8se2tleTpgJHt0LmtleX0uZGF0YWB9KSkpLG59fTtmdW5jdGlvbiAkKHQsaT0hMSl7Y29uc3Qgbz10LnZhbHVlLHI9dC52YWx1ZVNwZWMscz10LnN0eWxlU3BlYztpZihyLmV4cHJlc3Npb24mJmUuQShlLnUobykpKXJldHVybiBEKHQpO2lmKHIuZXhwcmVzc2lvbiYmZS5uKGUubyhvKSkpcmV0dXJuIEwodCk7aWYoci50eXBlJiZxW3IudHlwZV0pe2NvbnN0IG89cVtyLnR5cGVdKHQpO3JldHVybiAhMD09PWkmJm8ubGVuZ3RoPjAmJlwiYXJyYXlcIj09PWUuaSh0LnZhbHVlKT9MKHQpOm99cmV0dXJuIFMoZS5qKHt9LHQse3ZhbHVlU3BlYzpyLnR5cGU/c1tyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gWChlKXtjb25zdCB0PWUudmFsdWUsaT1lLmtleSxvPWsoZSk7cmV0dXJuIG8ubGVuZ3RofHwoLTE9PT10LmluZGV4T2YoXCJ7Zm9udHN0YWNrfVwiKSYmby5wdXNoKG5ldyBUKGksdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09dC5pbmRleE9mKFwie3JhbmdlfVwiKSYmby5wdXNoKG5ldyBUKGksdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7cmFuZ2V9XCIgdG9rZW4nKSkpLG99ZnVuY3Rpb24gSyh0LGk9ZS5ELG89e30pe3JldHVybiAkKHtrZXk6by5rZXl8fFwiXCIsdmFsdWU6dCx2YWx1ZVNwZWM6aS4kcm9vdCxzdHlsZVNwZWM6aSxzdHlsZTp0LG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntnbHlwaHM6WCxcIipcIjooKT0+W119fSl9ZnVuY3Rpb24gWSh0LGk9ZS5EKXtyZXR1cm4gbGUoSyh0LGkpKX1jb25zdCBKPWU9PmxlKFUoZSkpLFE9ZT0+bGUoVihlKSksZWU9ZT0+bGUoWihlKSksdGU9ZT0+bGUoSChlKSksaWU9ZT0+bGUoVyhlKSksb2U9ZT0+bGUoQihlKSkscmU9ZT0+bGUoUChlKSksc2U9ZT0+bGUoTyhlKSksbmU9ZT0+bGUoRihlKSksYWU9ZT0+bGUoaihlKSk7ZnVuY3Rpb24gbGUoZSl7cmV0dXJuIGUuc2xpY2UoKS5zb3J0KCgoZSx0KT0+ZS5saW5lJiZ0LmxpbmU/ZS5saW5lLXQubGluZTowKSl9ZnVuY3Rpb24gY2UodCxpKXtsZXQgbz0hMTtpZihpJiZpLmxlbmd0aClmb3IoY29uc3QgciBvZiBpKXIgaW5zdGFuY2VvZiBFP2UudyhyLm1lc3NhZ2UpOih0LmZpcmUobmV3IGUuYShuZXcgRXJyb3Ioci5tZXNzYWdlKSkpLG89ITApO3JldHVybiBvfWNvbnN0IGhlPW5ldyBlLkYoe2FuY2hvcjpuZXcgZS5HKGUuRC5saWdodC5hbmNob3IpLHBvc2l0aW9uOm5ldyBlLkgoZS5ELmxpZ2h0LnBvc2l0aW9uKSxjb2xvcjpuZXcgZS5HKGUuRC5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyBlLkcoZS5ELmxpZ2h0LmludGVuc2l0eSl9KTtjbGFzcyB1ZSBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0LGk9XCJmbGF0XCIpe3N1cGVyKCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IGUuSihoZSksdGhpcy5zZXRMaWdodCh0LGkpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0TGlnaHQoZSx0LGk9e30pe3RoaXMuX3ZhbGlkYXRlKFEsZSxpKXx8KHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKGUpLHRoaXMuaWQ9dCk7fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9X3ZhbGlkYXRlKHQsaSxvKXtyZXR1cm4gKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZjZSh0aGlzLHQuY2FsbChZLGUuZSh7dmFsdWU6aSxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuRH0pKSl9fWNvbnN0IGRlPW5ldyBlLkYoe3NvdXJjZTpuZXcgZS5HKGUuRC50ZXJyYWluLnNvdXJjZSksZXhhZ2dlcmF0aW9uOm5ldyBlLkcoZS5ELnRlcnJhaW4uZXhhZ2dlcmF0aW9uKX0pO2xldCBfZT1jbGFzcyBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0LGksbyxyKXtzdXBlcigpLHRoaXMuc2NvcGU9byx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5KKGRlLG8sciksdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUodCxyKSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kcmFwZVJlbmRlck1vZGU9aTt9Z2V0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldChlLHQpe3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKGUsdCk7fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9Z2V0RXhhZ2dlcmF0aW9uKHQpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUobmV3IGUuSyh0KSkuZ2V0KFwiZXhhZ2dlcmF0aW9uXCIpfWlzWm9vbURlcGVuZGVudCgpe2NvbnN0IHQ9dGhpcy5fdHJhbnNpdGlvbmFibGUuX3ZhbHVlcy5leGFnZ2VyYXRpb247cmV0dXJuIG51bGwhPXQmJm51bGwhPXQudmFsdWUmJm51bGwhPXQudmFsdWUuZXhwcmVzc2lvbiYmdC52YWx1ZS5leHByZXNzaW9uIGluc3RhbmNlb2YgZS5afX07Y29uc3QgcGU9NDUsZmU9NjUsbWU9LjA1O2Z1bmN0aW9uIGdlKHQsaSxvLHIpe2NvbnN0IHM9ZS5PKHBlLGZlLG8pLFtuLGFdPXZlKHQscik7bGV0IGw9MS1NYXRoLm1pbigxLE1hdGguZXhwKChpLW4pLyhhLW4pKi02KSk7cmV0dXJuIGwqPWwqbCxsPU1hdGgubWluKDEsMS4wMDc0NypsKSxsKnMqdC5hbHBoYX1mdW5jdGlvbiB2ZShlLHQpe2NvbnN0IGk9LjUvTWF0aC50YW4oLjUqdCk7cmV0dXJuIFtlLnJhbmdlWzBdK2ksZS5yYW5nZVsxXStpXX1mdW5jdGlvbiB4ZSh0LGksbyxyLHMpe2NvbnN0IG49ZS5OLnRyYW5zZm9ybU1hdDQoW10sW2ksbyxyXSxzLm1lcmNhdG9yRm9nTWF0cml4KTtyZXR1cm4gZ2UodCxlLk4ubGVuZ3RoKG4pLHMucGl0Y2gscy5fZm92KX1mdW5jdGlvbiB5ZSh0LGksbyxyLHMsbixhKXtjb25zdCBsPVtbbyxyLDBdLFtzLHIsMF0sW3MsbiwwXSxbbyxuLDBdXTtsZXQgYz1OdW1iZXIuTUFYX1ZBTFVFLGg9LU51bWJlci5NQVhfVkFMVUU7Zm9yKGNvbnN0IHQgb2YgbCl7Y29uc3Qgbz1lLk4udHJhbnNmb3JtTWF0NChbXSx0LGkpLHI9ZS5OLmxlbmd0aChvKTtjPU1hdGgubWluKGMsciksaD1NYXRoLm1heChoLHIpO31yZXR1cm4gW2dlKHQsYyxhLnBpdGNoLGEuX2ZvdiksZ2UodCxoLGEucGl0Y2gsYS5fZm92KV19Y29uc3QgYmU9bmV3IGUuRih7cmFuZ2U6bmV3IGUuRyhlLkQuZm9nLnJhbmdlKSxjb2xvcjpuZXcgZS5HKGUuRC5mb2cuY29sb3IpLFwiaGlnaC1jb2xvclwiOm5ldyBlLkcoZS5ELmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgZS5HKGUuRC5mb2dbXCJzcGFjZS1jb2xvclwiXSksXCJob3Jpem9uLWJsZW5kXCI6bmV3IGUuRyhlLkQuZm9nW1wiaG9yaXpvbi1ibGVuZFwiXSksXCJzdGFyLWludGVuc2l0eVwiOm5ldyBlLkcoZS5ELmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKSxcInZlcnRpY2FsLXJhbmdlXCI6bmV3IGUuRyhlLkQuZm9nW1widmVydGljYWwtcmFuZ2VcIl0pfSk7Y2xhc3Mgd2UgZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5KKGJlLG8sbmV3IE1hcChyKSksdGhpcy5zZXQodCxyKSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5fdHJhbnNmb3JtPWksdGhpcy5wcm9wZXJ0aWVzPW5ldyBlLlEoYmUpO31nZXQgc3RhdGUoKXtjb25zdCB0PXRoaXMuX3RyYW5zZm9ybSxpPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLG89ZS5TKHQuem9vbSkscj10aGlzLnByb3BlcnRpZXMuZ2V0KFwicmFuZ2VcIikscz1bLjUsM107cmV0dXJuIHtyYW5nZTppP1tlLlUoc1swXSxyWzBdLG8pLGUuVShzWzFdLHJbMV0sbyldOnIsaG9yaXpvbkJsZW5kOnRoaXMucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLGFscGhhOnRoaXMucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS5hfX1nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KHQsaSxvPXt9KXtpZih0aGlzLl92YWxpZGF0ZShpZSx0LG8pKXJldHVybjtjb25zdCByPWUuZSh7fSx0KTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlLkQuZm9nKSl2b2lkIDA9PT1yW3RdJiYoclt0XT1lLkQuZm9nW3RdLmRlZmF1bHQpO3RoaXMuX29wdGlvbnM9cix0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZSh0aGlzLl9vcHRpb25zLGkpO31nZXRPcGFjaXR5KHQpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gMDtjb25zdCBpPXRoaXMucHJvcGVydGllcyYmdGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpfHwxO3JldHVybiAoXCJnbG9iZVwiPT09dGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8xOmUuTyhwZSxmZSx0KSkqaS5hfWdldE9wYWNpdHlBdExhdExuZyh0LGkpe3JldHVybiB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz9mdW5jdGlvbih0LGksbyl7Y29uc3Qgcj1lLkwuZnJvbUxuZ0xhdChpKSxzPW8uZWxldmF0aW9uP28uZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8ocik6MDtyZXR1cm4geGUodCxyLngsci55LHMsbyl9KHRoaXMuc3RhdGUsdCxpKTowfWdldE9wYWNpdHlGb3JUaWxlKHQpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gWzEsMV07Y29uc3QgaT10aGlzLl90cmFuc2Zvcm0uY2FsY3VsYXRlRm9nVGlsZU1hdHJpeCh0LnRvVW53cmFwcGVkKCkpO3JldHVybiB5ZSh0aGlzLnN0YXRlLGksMCwwLGUuVixlLlYsdGhpcy5fdHJhbnNmb3JtKX1nZXRPcGFjaXR5Rm9yQm91bmRzKGUsdCxpLG8scil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP3llKHRoaXMuc3RhdGUsZSx0LGksbyxyLHRoaXMuX3RyYW5zZm9ybSk6WzEsMV19Z2V0Rm92QWRqdXN0ZWRSYW5nZShlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dmUodGhpcy5zdGF0ZSxlKTpbMCwxXX1pc1Zpc2libGVPbkZydXN0dW0odCl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAhMTtjb25zdCBpPVs0LDUsNiw3XTtmb3IoY29uc3QgbyBvZiBpKXtjb25zdCBpPXQucG9pbnRzW29dO2xldCByO2lmKGlbMl0+PTApcj1pO2Vsc2Uge2NvbnN0IHM9dC5wb2ludHNbby00XTtyPWUuVyhzLGksc1syXS8oc1syXS1pWzJdKSk7fWlmKHhlKHRoaXMuc3RhdGUsclswXSxyWzFdLDAsdGhpcy5fdHJhbnNmb3JtKT49bWUpcmV0dXJuICEwfXJldHVybiAhMX11cGRhdGVDb25maWcoZSl7dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUodGhpcy5fb3B0aW9ucyxuZXcgTWFwKGUpKTt9dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpO31fdmFsaWRhdGUodCxpLG8pe3JldHVybiAoIW98fCExIT09by52YWxpZGF0ZSkmJmNlKHRoaXMsdC5jYWxsKFksZS5lKHt2YWx1ZTppLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6ZS5EfSkpKX19Y2xhc3MgVGUgZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIoKSx0aGlzLnNjb3BlPW8sdGhpcy5fb3B0aW9ucz10LHRoaXMucHJvcGVydGllcz1uZXcgZS5RKGkpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLkooaSxvLG5ldyBNYXAocikpLHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKHQucHJvcGVydGllcyksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO311cGRhdGVDb25maWcoZSl7dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUodGhpcy5fb3B0aW9ucy5wcm9wZXJ0aWVzLG5ldyBNYXAoZSkpO311cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fWdldCgpe3JldHVybiB0aGlzLl9vcHRpb25zLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCksdGhpcy5fb3B0aW9uc31zZXQoZSx0KXt0aGlzLl9vcHRpb25zPWUsdGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUoZS5wcm9wZXJ0aWVzLHQpO31zaGFkb3dzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMucHJvcGVydGllcyYmITA9PT10aGlzLnByb3BlcnRpZXMuZ2V0KFwiY2FzdC1zaGFkb3dzXCIpfX1jb25zdCBFZT1uZXcgZS5GKHtjb2xvcjpuZXcgZS5HKGUuRC5wcm9wZXJ0aWVzX2xpZ2h0X2FtYmllbnQuY29sb3IpLGludGVuc2l0eTpuZXcgZS5HKGUuRC5wcm9wZXJ0aWVzX2xpZ2h0X2FtYmllbnQuaW50ZW5zaXR5KX0pLFNlPW5ldyBlLkYoe2RpcmVjdGlvbjpuZXcgZS5YKGUuRC5wcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsLmRpcmVjdGlvbiksY29sb3I6bmV3IGUuRyhlLkQucHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbC5jb2xvciksaW50ZW5zaXR5Om5ldyBlLkcoZS5ELnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWwuaW50ZW5zaXR5KSxcImNhc3Qtc2hhZG93c1wiOm5ldyBlLkcoZS5ELnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWxbXCJjYXN0LXNoYWRvd3NcIl0pLFwic2hhZG93LWludGVuc2l0eVwiOm5ldyBlLkcoZS5ELnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWxbXCJzaGFkb3ctaW50ZW5zaXR5XCJdKX0pO2NsYXNzIENle2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMuc2NyZWVuQm91bmRzPWUsdGhpcy5jYW1lcmFQb2ludD10LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZT17fSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGU9e30sdGhpcy5pc0Fib3ZlSG9yaXpvbj1pLHRoaXMuc2NyZWVuR2VvbWV0cnk9dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApLHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvcj10aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsbyk7fXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsaSl7bGV0IG8scjtpZih0IGluc3RhbmNlb2YgZS5QfHxcIm51bWJlclwiPT10eXBlb2YgdFswXSl7Y29uc3Qgcz1lLlAuY29udmVydCh0KTtvPVtzXSxyPWkuaXNQb2ludEFib3ZlSG9yaXpvbihzKTt9ZWxzZSB7Y29uc3Qgcz1lLlAuY29udmVydCh0WzBdKSxuPWUuUC5jb252ZXJ0KHRbMV0pO289W3Msbl0scj1lLlkocyxuKS5ldmVyeSgoZT0+aS5pc1BvaW50QWJvdmVIb3Jpem9uKGUpKSk7fXJldHVybiBuZXcgQ2UobyxpLmdldENhbWVyYVBvaW50KCkscixpKX1pc1BvaW50UXVlcnkoKXtyZXR1cm4gMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aH1idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHQpe3JldHVybiBlLlkodGhpcy5zY3JlZW5Cb3VuZHNbMF0sMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXTp0aGlzLnNjcmVlbkJvdW5kc1sxXSx0KX1idWZmZXJlZENhbWVyYUdlb21ldHJ5KHQpe2NvbnN0IGk9dGhpcy5zY3JlZW5Cb3VuZHNbMF0sbz0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5QKDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9ZS5ZKGksbywwLCExKTtyZXR1cm4gdGhpcy5jYW1lcmFQb2ludC55Pm8ueSYmKHRoaXMuY2FtZXJhUG9pbnQueD5pLngmJnRoaXMuY2FtZXJhUG9pbnQueDxvLng/ci5zcGxpY2UoMywwLHRoaXMuY2FtZXJhUG9pbnQpOnRoaXMuY2FtZXJhUG9pbnQueD49by54P3JbMl09dGhpcy5jYW1lcmFQb2ludDp0aGlzLmNhbWVyYVBvaW50Lng8PWkueCYmKHJbM109dGhpcy5jYW1lcmFQb2ludCkpLGUuXyhyLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZSh0KXtjb25zdCBpPXRoaXMuc2NyZWVuQm91bmRzWzBdLG89MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IGUuUCgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxyPWUuWShpLG8sdCkscz10aGlzLmNhbWVyYVBvaW50LmNsb25lKCk7c3dpdGNoKDMqKChzLnk+aS55KSsocy55Pm8ueSkpKygocy54PmkueCkrKHMueD5vLngpKSl7Y2FzZSAwOnJbMF09cyxyWzRdPXMuY2xvbmUoKTticmVhaztjYXNlIDE6ci5zcGxpY2UoMSwwLHMpO2JyZWFrO2Nhc2UgMjpyWzFdPXM7YnJlYWs7Y2FzZSAzOnIuc3BsaWNlKDQsMCxzKTticmVhaztjYXNlIDU6ci5zcGxpY2UoMiwwLHMpO2JyZWFrO2Nhc2UgNjpyWzNdPXM7YnJlYWs7Y2FzZSA3OnIuc3BsaWNlKDMsMCxzKTticmVhaztjYXNlIDg6clsyXT1zO31yZXR1cm4gcn1jb250YWluc1RpbGUodCxpLG8scj0wKXtjb25zdCBzPXQucXVlcnlQYWRkaW5nL2kuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrMSxuPW8/dGhpcy5fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihzLGkpOnRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IocyxpKTtsZXQgYT10LnRpbGVJRC53cmFwKyhuLnVud3JhcHBlZD9yOjApO2NvbnN0IGw9bi5wb2x5Z29uLm1hcCgoaT0+ZS4kKHQudGlsZVRyYW5zZm9ybSxpLGEpKSk7aWYoIWUuYTAobCwwLDAsZS5WLGUuVikpcmV0dXJuO2E9dC50aWxlSUQud3JhcCsodGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnVud3JhcHBlZD9yOjApO2NvbnN0IGM9dGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKChpPT5lLmExKHQudGlsZVRyYW5zZm9ybSxpLGEpKSksaD1jLm1hcCgodD0+bmV3IGUuUCh0WzBdLHRbMV0pKSksdT1pLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb258fG5ldyBlLkwoMCwwLDApLGQ9ZS5hMSh0LnRpbGVUcmFuc2Zvcm0sdSxhKSxfPWMubWFwKCh0PT57Y29uc3QgaT1lLk4uc3ViKHQsdCxkKTtyZXR1cm4gZS5OLm5vcm1hbGl6ZShpLGkpLG5ldyBlLmEyKGQsaSl9KSkscD1lLmEzKHQsMSxpLnpvb20pKmkuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7cmV0dXJuIHtxdWVyeUdlb21ldHJ5OnRoaXMsdGlsZXNwYWNlR2VvbWV0cnk6aCx0aWxlc3BhY2VSYXlzOl8sYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeTpsLGJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzOihmPWUuYTQobCksZi5taW4ueD1lLmFhKGYubWluLngsMCxlLlYpLGYubWluLnk9ZS5hYShmLm1pbi55LDAsZS5WKSxmLm1heC54PWUuYWEoZi5tYXgueCwwLGUuViksZi5tYXgueT1lLmFhKGYubWF4LnksMCxlLlYpLGYpLHRpbGU6dCx0aWxlSUQ6dC50aWxlSUQscGl4ZWxUb1RpbGVVbml0c0ZhY3RvcjpwfTt2YXIgZjt9X2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IoZSx0KXtjb25zdCBpPUxlKGUpO2lmKHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXSlyZXR1cm4gdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW2ldO3tsZXQgbztyZXR1cm4gbz1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKS5tYXAoKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXT1vLG99fV9idWZmZXJlZENhbWVyYU1lcmNhdG9yKGUsdCl7Y29uc3QgaT1MZShlKTtpZih0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbaV0pcmV0dXJuIHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXTt7bGV0IG87cmV0dXJuIG89XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeShlKS5tYXAoKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXT1vLG99fV9wcm9qZWN0QW5kUmVzYW1wbGUodCxpKXtjb25zdCBvPWZ1bmN0aW9uKHQsaSl7Y29uc3Qgbz1lLmE2Lm11bHRpcGx5KFtdLGkucGl4ZWxNYXRyaXgsaS5nbG9iZU1hdHJpeCkscj1bMCwtZS5hYiwwLDFdLHM9WzAsZS5hYiwwLDFdLG49WzAsMCwwLDFdO2UuYTcudHJhbnNmb3JtTWF0NChyLHIsbyksZS5hNy50cmFuc2Zvcm1NYXQ0KHMscyxvKSxlLmE3LnRyYW5zZm9ybU1hdDQobixuLG8pO2NvbnN0IGE9bmV3IGUuUChyWzBdL3JbM10sclsxXS9yWzNdKSxsPW5ldyBlLlAoc1swXS9zWzNdLHNbMV0vc1szXSksYz1lLmE4KHQsYSkmJnJbM108blszXSxoPWUuYTgodCxsKSYmc1szXTxuWzNdO2lmKCFjJiYhaClyZXR1cm4gbnVsbDtjb25zdCB1PWZ1bmN0aW9uKGUsdCxpKXtmb3IobGV0IG89MTtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj1EZSh0LnBvaW50Q29vcmRpbmF0ZTNEKGVbby0xXSkueCkscz1EZSh0LnBvaW50Q29vcmRpbmF0ZTNEKGVbb10pLngpO2lmKGk8MCl7aWYocjxzKXJldHVybiB7aWR4Om8sdDotci8ocy0xLXIpfX1lbHNlIGlmKHM8cilyZXR1cm4ge2lkeDpvLHQ6KDEtcikvKHMrMS1yKX19cmV0dXJuIG51bGx9KHQsaSxjPy0xOjEpO2lmKCF1KXJldHVybiBudWxsO2NvbnN0e2lkeDpkLHQ6X309dTtsZXQgcD1kPjE/SWUodC5zbGljZSgwLGQpLGkpOltdLGY9ZDx0Lmxlbmd0aD9JZSh0LnNsaWNlKGQpLGkpOltdO3A9cC5tYXAoKHQ9Pm5ldyBlLlAoRGUodC54KSx0LnkpKSksZj1mLm1hcCgodD0+bmV3IGUuUChEZSh0LngpLHQueSkpKTtjb25zdCBtPVsuLi5wXTswPT09bS5sZW5ndGgmJm0ucHVzaChmW2YubGVuZ3RoLTFdKTtjb25zdCBnPWUuVShtW20ubGVuZ3RoLTFdLnksKDA9PT1mLmxlbmd0aD9wWzBdOmZbMF0pLnksXyk7bGV0IHY7cmV0dXJuIHY9Yz9bbmV3IGUuUCgwLGcpLG5ldyBlLlAoMCwwKSxuZXcgZS5QKDEsMCksbmV3IGUuUCgxLGcpXTpbbmV3IGUuUCgxLGcpLG5ldyBlLlAoMSwxKSxuZXcgZS5QKDAsMSksbmV3IGUuUCgwLGcpXSxtLnB1c2goLi4udiksMD09PWYubGVuZ3RoP20ucHVzaChwWzBdKTptLnB1c2goLi4uZikse3BvbHlnb246bS5tYXAoKHQ9Pm5ldyBlLkwodC54LHQueSkpKSx1bndyYXBwZWQ6ITF9fSh0LGkpO2lmKG8pcmV0dXJuIG87Y29uc3Qgcj1mdW5jdGlvbih0LGkpe2xldCBvPSExLHI9LTEvMCxzPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl0W2VdLng+ciYmKHI9dFtlXS54LHM9ZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3QgaT0ocytlKSUodC5sZW5ndGgtMSkscj10W2ldLG49dFtpKzFdO01hdGguYWJzKHIueC1uLngpPi41JiYoci54PG4ueD8oci54Kz0xLDA9PT1pJiYodFt0Lmxlbmd0aC0xXS54Kz0xKSk6KG4ueCs9MSxpKzE9PT10Lmxlbmd0aC0xJiYodFswXS54Kz0xKSksbz0hMCk7fWNvbnN0IG49ZS5hNShpLmNlbnRlci5sbmcpO3JldHVybiBvJiZuPE1hdGguYWJzKG4tMSkmJnQuZm9yRWFjaCgoZT0+e2UueC09MTt9KSkse3BvbHlnb246dCx1bndyYXBwZWQ6b319KEllKHQsaSkubWFwKCh0PT5uZXcgZS5QKERlKHQueCksdC55KSkpLGkpO3JldHVybiB7cG9seWdvbjpyLnBvbHlnb24ubWFwKCh0PT5uZXcgZS5MKHQueCx0LnkpKSksdW53cmFwcGVkOnIudW53cmFwcGVkfX19ZnVuY3Rpb24gSWUodCxpKXtyZXR1cm4gZS5hOSh0LChlPT57Y29uc3QgdD1pLnBvaW50Q29vcmRpbmF0ZTNEKGUpO2UueD10LngsZS55PXQueTt9KSwxLzI1Nil9ZnVuY3Rpb24gRGUoZSl7cmV0dXJuIGU8MD8xK2UlMTplJTF9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuIDEwMCplfDB9ZnVuY3Rpb24gQWUodCxpLG8scixzKXtjb25zdCBuPWZ1bmN0aW9uKG8scil7aWYobylyZXR1cm4gcyhvKTtpZihyKXt0LnVybCYmci50aWxlcyYmdC50aWxlcyYmZGVsZXRlIHQudGlsZXM7Y29uc3Qgbz1lLmFjKGUuZShyLHQpLFtcInRpbGVzXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJhdHRyaWJ1dGlvblwiLFwibWFwYm94X2xvZ29cIixcImJvdW5kc1wiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwiZW5jb2RpbmdcIl0pO3IudmVjdG9yX2xheWVycyYmKG8udmVjdG9yTGF5ZXJzPXIudmVjdG9yX2xheWVycyxvLnZlY3RvckxheWVySWRzPW8udmVjdG9yTGF5ZXJzLm1hcCgoZT0+ZS5pZCkpKSxyLnJhc3Rlcl9sYXllcnMmJihvLnJhc3RlckxheWVycz1yLnJhc3Rlcl9sYXllcnMsby5yYXN0ZXJMYXllcklkcz1vLnJhc3RlckxheWVycy5tYXAoKGU9PmUuaWQpKSksby50aWxlcz1pLmNhbm9uaWNhbGl6ZVRpbGVzZXQobyx0LnVybCkscyhudWxsLG8pO319O3JldHVybiB0LnVybD9lLmcoaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU291cmNlVVJMKHQudXJsLG51bGwsbyxyKSxlLlIuU291cmNlKSxuKTplLmYuZnJhbWUoKCgpPT5uKG51bGwsdCkpKX1jbGFzcyBSZXtjb25zdHJ1Y3Rvcih0LGksbyl7dGhpcy5ib3VuZHM9ZS5hZC5jb252ZXJ0KHRoaXMudmFsaWRhdGVCb3VuZHModCkpLHRoaXMubWluem9vbT1pfHwwLHRoaXMubWF4em9vbT1vfHwyNDt9dmFsaWRhdGVCb3VuZHMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjQ9PT1lLmxlbmd0aD9bTWF0aC5tYXgoLTE4MCxlWzBdKSxNYXRoLm1heCgtOTAsZVsxXSksTWF0aC5taW4oMTgwLGVbMl0pLE1hdGgubWluKDkwLGVbM10pXTpbLTE4MCwtOTAsMTgwLDkwXX1jb250YWlucyh0KXtjb25zdCBpPU1hdGgucG93KDIsdC56KSxvPU1hdGguZmxvb3IoZS5hNSh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpKmkpLHI9TWF0aC5mbG9vcihlLmFlKHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKmkpLHM9TWF0aC5jZWlsKGUuYTUodGhpcy5ib3VuZHMuZ2V0RWFzdCgpKSppKSxuPU1hdGguY2VpbChlLmFlKHRoaXMuYm91bmRzLmdldFNvdXRoKCkpKmkpO3JldHVybiB0Lng+PW8mJnQueDxzJiZ0Lnk+PXImJnQueTxufX1jbGFzcyBQZSBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0LGksbyxyKXtpZihzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9byx0aGlzLnR5cGU9XCJ2ZWN0b3JcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsZS5lKHRoaXMsZS5hYyhpLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwicHJvbW90ZUlkXCJdKSksdGhpcy5fb3B0aW9ucz1lLmUoe3R5cGU6XCJ2ZWN0b3JcIn0saSksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPSEhaS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsNTEyIT09dGhpcy50aWxlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMlwiKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fdGlsZVdvcmtlcnM9e30sdGhpcy5fZGVkdXBlZD1uZXcgZS5hZjt9bG9hZCh0KXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpO2NvbnN0IGk9QXJyYXkuaXNBcnJheSh0aGlzLm1hcC5fbGFuZ3VhZ2UpP3RoaXMubWFwLl9sYW5ndWFnZS5qb2luKCk6dGhpcy5tYXAuX2xhbmd1YWdlLG89dGhpcy5tYXAuX3dvcmxkdmlldzt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9QWUodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsaSxvLCgocixzKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxyPyhpJiZjb25zb2xlLndhcm4oYEVuc3VyZSB0aGF0IHlvdXIgcmVxdWVzdGVkIGxhbmd1YWdlIHN0cmluZyBpcyBhIHZhbGlkIEJDUC00NyBjb2RlIG9yIGxpc3Qgb2YgY29kZXMuIEZvdW5kOiAke2l9YCksbyYmMiE9PW8ubGVuZ3RoJiZjb25zb2xlLndhcm4oYFJlcXVlc3RlZCB3b3JsZHZpZXcgc3RyaW5ncyBtdXN0IGJlIGEgdmFsaWQgSVNPIGFscGhhLTIgY29kZS4gRm91bmQ6ICR7b31gKSx0aGlzLmZpcmUobmV3IGUuYShyKSkpOnMmJihlLmUodGhpcyxzKSxzLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgUmUocy5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLGUuYWoocy50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpLHQmJnQocik7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWhhc1RpbGUoZSl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9cmVsb2FkKCl7dGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKTtjb25zdCB0PWUuYWcodGhpcy5pZCx0aGlzLnNjb3BlKTt0aGlzLmxvYWQoKCgpPT50aGlzLm1hcC5zdHlsZS5jbGVhclNvdXJjZSh0KSkpO31zZXRUaWxlcyhlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aWxlcz1lLHRoaXMucmVsb2FkKCksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5fb3B0aW9ucy51cmw9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9b25SZW1vdmUoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5lKHt9LHRoaXMuX29wdGlvbnMpfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxyPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sZS5SLlRpbGUpLGRhdGE6dm9pZCAwLHVpZDp0LnVpZCx0aWxlSUQ6dC50aWxlSUQsdGlsZVpvb206dC50aWxlWm9vbSx6b29tOnQudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqdC50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxwaXhlbFJhdGlvOmUuZi5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZSxicmlnaHRuZXNzOnRoaXMubWFwLnN0eWxlJiZ0aGlzLm1hcC5zdHlsZS5nZXRCcmlnaHRuZXNzKCl8fDAsZXh0cmFTaGFkb3dDYXN0ZXI6dC5pc0V4dHJhU2hhZG93Q2FzdGVyfTtpZihyLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyx0LmFjdG9yJiZcImV4cGlyZWRcIiE9PXQuc3RhdGUpXCJsb2FkaW5nXCI9PT10LnN0YXRlP3QucmVsb2FkQ2FsbGJhY2s9aTp0LnJlcXVlc3Q9dC5hY3Rvci5zZW5kKFwicmVsb2FkVGlsZVwiLHIscy5iaW5kKHRoaXMpKTtlbHNlIGlmKHQuYWN0b3I9dGhpcy5fdGlsZVdvcmtlcnNbb109dGhpcy5fdGlsZVdvcmtlcnNbb118fHRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpLHRoaXMuZGlzcGF0Y2hlci5yZWFkeSl0LnJlcXVlc3Q9dC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLHMuYmluZCh0aGlzKSx2b2lkIDAsITApO2Vsc2Uge2NvbnN0IGk9ZS5haC5jYWxsKHtkZWR1cGVkOnRoaXMuX2RlZHVwZWR9LHIsKChlLGkpPT57ZXx8IWk/cy5jYWxsKHRoaXMsZSk6KHIuZGF0YT17Y2FjaGVDb250cm9sOmkuY2FjaGVDb250cm9sLGV4cGlyZXM6aS5leHBpcmVzLHJhd0RhdGE6aS5yYXdEYXRhLnNsaWNlKDApfSx0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoXCJsb2FkVGlsZVwiLHIscy5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpO30pLCEwKTt0LnJlcXVlc3Q9e2NhbmNlbDppfTt9ZnVuY3Rpb24gcyhvLHIpe3JldHVybiBkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZD9pKG51bGwpOm8mJjQwNCE9PW8uc3RhdHVzP2kobyk6KHImJnIucmVzb3VyY2VUaW1pbmcmJih0LnJlc291cmNlVGltaW5nPXIucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZyJiZ0LnNldEV4cGlyeURhdGEociksdC5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIpLGUuYWkodGhpcy5kaXNwYXRjaGVyKSxpKG51bGwpLHZvaWQodC5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUodCx0LnJlbG9hZENhbGxiYWNrKSx0LnJlbG9hZENhbGxiYWNrPW51bGwpKSl9fWFib3J0VGlsZShlKXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwiYWJvcnRUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSk7fXVubG9hZFRpbGUoZSl7ZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZX0pLGUuZGVzdHJveSgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWFmdGVyVXBkYXRlKCl7dGhpcy5fdGlsZVdvcmtlcnM9e307fWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX1jbGFzcyBNZSBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0LGksbyxyKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9byx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy50eXBlPVwicmFzdGVyXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9ZS5lKHt0eXBlOlwicmFzdGVyXCJ9LGkpLGUuZSh0aGlzLGUuYWMoaSxbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIl0pKTt9bG9hZCh0KXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1BZSh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcixudWxsLG51bGwsKChpLG8pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLGk/dGhpcy5maXJlKG5ldyBlLmEoaSkpOm8mJihlLmUodGhpcyxvKSxvLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgUmUoby5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLGUuYWooby50aWxlcyksdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSx0JiZ0KGkpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpO2NvbnN0IHQ9ZS5hZyh0aGlzLmlkLHRoaXMuc2NvcGUpO3RoaXMubG9hZCgoKCk9PnRoaXMubWFwLnN0eWxlLmNsZWFyU291cmNlKHQpKSk7fXNldFRpbGVzKGUpe3JldHVybiB0aGlzLl9vcHRpb25zLnRpbGVzPWUsdGhpcy5yZWxvYWQoKSx0aGlzfXNldFVybChlKXtyZXR1cm4gdGhpcy51cmw9ZSx0aGlzLl9vcHRpb25zLnVybD1lLHRoaXMucmVsb2FkKCksdGhpc31vblJlbW92ZSgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLmUoe30sdGhpcy5fb3B0aW9ucyl9aGFzVGlsZShlKXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZSh0LGkpe2NvbnN0IG89ZS5mLmRldmljZVBpeGVsUmF0aW8+PTIscj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLG8sdGhpcy50aWxlU2l6ZSk7dC5yZXF1ZXN0PWUuZCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLGUuUi5UaWxlKSwoKG8scixzLG4pPT4oZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/KHQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCkpOm8/KHQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKSk6cj8odGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnQuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOnMsZXhwaXJlczpufSksdC5zZXRUZXh0dXJlKHIsdGhpcy5tYXAucGFpbnRlciksdC5zdGF0ZT1cImxvYWRlZFwiLGUuYWkodGhpcy5kaXNwYXRjaGVyKSx2b2lkIGkobnVsbCkpOmkobnVsbCkpKSk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fXVubG9hZFRpbGUodCxpKXt0LnRleHR1cmUmJnQudGV4dHVyZSBpbnN0YW5jZW9mIGUuVD8odC5kZXN0cm95KCEwKSx0LnRleHR1cmUmJnQudGV4dHVyZSBpbnN0YW5jZW9mIGUuVCYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodC50ZXh0dXJlKSk6dC5kZXN0cm95KCksaSgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX1jbGFzcyB6ZSBleHRlbmRzIE1le2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKHQsaSxvLHIpLHRoaXMudHlwZT1cInJhc3Rlci1hcnJheVwiLHRoaXMubWF4em9vbT0yMix0aGlzLl9vcHRpb25zPWUuZSh7dHlwZTpcInJhc3Rlci1hcnJheVwifSxpKTt9dHJpZ2dlclJlcGFpbnQoZSl7Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLl90ZXJyYWluLGk9dGhpcy5tYXAuc3R5bGUuZ2V0U291cmNlQ2FjaGUodGhpcy5pZCk7dCYmdC5lbmFibGVkJiZpJiZ0Ll9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShpLmlkLGUudGlsZUlEKSx0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpO31sb2FkVGlsZSh0LGkpe2NvbnN0IG89dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodC50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSwhMSx0aGlzLnRpbGVTaXplKSxyPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sZS5SLlRpbGUpO3QucmVxdWVzdFBhcmFtcz1yLHQuYWN0b3J8fCh0LmFjdG9yPXRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpKSx0LnJlcXVlc3Q9dC5mZXRjaEhlYWRlcih2b2lkIDAsKChlLG8scixzKT0+e2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXJldHVybiB0LnN0YXRlPVwidW5sb2FkZWRcIixpKG51bGwpO2lmKGUpe2lmKDIwPT09ZS5jb2RlKXJldHVybjtyZXR1cm4gdC5zdGF0ZT1cImVycm9yZWRcIixpKGUpfXRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDpyLGV4cGlyZXM6c30pLHQuc3RhdGU9XCJlbXB0eVwiLGkobnVsbCk7fSkpO311bmxvYWRUaWxlKHQpe2NvbnN0IGk9dC50ZXh0dXJlO2kmJmkgaW5zdGFuY2VvZiBlLlQ/KHQuZGVzdHJveSghMCksdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoaSkpOih0LmRlc3Ryb3koKSx0LmZsdXNoUXVldWVzKCksdC5faXNIZWFkZXJMb2FkZWQ9ITEsZGVsZXRlIHQuX21ydCxkZWxldGUgdC50ZXh0dXJlRGVzY3JpcHRvciksdC5mYm8mJih0LmZiby5kZXN0cm95KCksZGVsZXRlIHQuZmJvKSxkZWxldGUgdC5yZXF1ZXN0LGRlbGV0ZSB0LnJlcXVlc3RQYXJhbXMsZGVsZXRlIHQubmVpZ2hib3JpbmdUaWxlcyx0LnN0YXRlPVwidW5sb2FkZWRcIjt9cHJlcGFyZVRpbGUodCxpLG8pe3QuX2lzSGVhZGVyTG9hZGVkJiYoXCJlbXB0eVwiIT09dC5zdGF0ZSYmKHQuc3RhdGU9XCJyZWxvYWRpbmdcIiksdC5mZXRjaEJhbmQoaSxvLCgoaSxvKT0+e2lmKGkpcmV0dXJuIHQuc3RhdGU9XCJlcnJvcmVkXCIsdGhpcy5maXJlKG5ldyBlLmEoaSkpLHZvaWQgdGhpcy50cmlnZ2VyUmVwYWludCh0KTtvJiYodC5zZXRUZXh0dXJlKG8sdGhpcy5tYXAucGFpbnRlciksdC5zdGF0ZT1cImxvYWRlZFwiLHRoaXMudHJpZ2dlclJlcGFpbnQodCkpO30pKSk7fWdldEluaXRpYWxCYW5kKGUpe2lmKCF0aGlzLnJhc3RlckxheWVycylyZXR1cm4gMDtjb25zdCB0PXRoaXMucmFzdGVyTGF5ZXJzLmZpbmQoKCh7aWQ6dH0pPT50PT09ZSkpLGk9dCYmdC5maWVsZHMsbz1pJiZpLmJhbmRzJiZpLmJhbmRzO3JldHVybiBvP29bMF06MH1nZXRUZXh0dXJlRGVzY3JpcHRvcih0LGksbyl7aWYoIXQpcmV0dXJuO2NvbnN0IHI9aS5zb3VyY2VMYXllcnx8dGhpcy5yYXN0ZXJMYXllcklkcyYmdGhpcy5yYXN0ZXJMYXllcklkc1swXTtpZighcilyZXR1cm47bGV0IHM9bnVsbDtpIGluc3RhbmNlb2YgZS5hbj9zPWkucGFpbnQuZ2V0KFwicmFzdGVyLWFycmF5LWJhbmRcIik6aSBpbnN0YW5jZW9mIGUuYW8mJihzPWkucGFpbnQuZ2V0KFwicmFzdGVyLXBhcnRpY2xlLWFycmF5LWJhbmRcIikpO2NvbnN0IG49c3x8dGhpcy5nZXRJbml0aWFsQmFuZChyKTtpZihudWxsIT1uKWlmKHQudGV4dHVyZURlc2NyaXB0b3Ipe2lmKCF0LnVwZGF0ZU5lZWRlZChyLG4pfHxvKXJldHVybiBPYmplY3QuYXNzaWduKHt9LHQudGV4dHVyZURlc2NyaXB0b3Ise3RleHR1cmU6dC50ZXh0dXJlfSl9ZWxzZSB0aGlzLnByZXBhcmVUaWxlKHQscixuKTt9fWNvbnN0IE9lPTMyLEZlPTMzLEJlPW5ldyBVaW50MTZBcnJheSg4MTg0KTtmb3IobGV0IGU9MDtlPDIwNDY7ZSsrKXtsZXQgdD1lKzIsaT0wLG89MCxyPTAscz0wLG49MCxhPTA7Zm9yKDEmdD9yPXM9bj1PZTppPW89YT1PZTsodD4+PTEpPjE7KXtjb25zdCBlPWkrcj4+MSxsPW8rcz4+MTsxJnQ/KHI9aSxzPW8saT1uLG89YSk6KGk9cixvPXMscj1uLHM9YSksbj1lLGE9bDt9Y29uc3QgbD00KmU7QmVbbCswXT1pLEJlW2wrMV09byxCZVtsKzJdPXIsQmVbbCszXT1zO31jb25zdCBrZT1uZXcgVWludDE2QXJyYXkoMjE3OCksTmU9bmV3IFVpbnQ4QXJyYXkoMTA4OSksVWU9bmV3IFVpbnQxNkFycmF5KDEwODkpO2Z1bmN0aW9uIEdlKGUpe3JldHVybiAwPT09ZT8tLjAzMTI1OjMyPT09ZT8uMDMxMjU6MH1jbGFzcyBqZXtjb25zdHJ1Y3RvcihlLHQsaSxvKXt0aGlzLmlkPWplLnVuaXF1ZUlkeENvdW50ZXIsamUudW5pcXVlSWR4Q291bnRlcisrLHRoaXMuY29udGV4dD1lO2NvbnN0IHI9ZS5nbDt0aGlzLmJ1ZmZlcj1yLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihpKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksZS5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLHIuYnVmZmVyRGF0YShyLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9yLkRZTkFNSUNfRFJBVzpyLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxvfHx0LmRlc3Ryb3koKTt9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe3RoaXMuaWQ9amUudW5pcXVlSWR4Q291bnRlcixqZS51bmlxdWVJZHhDb3VudGVyKys7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcik7fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fX1qZS51bmlxdWVJZHhDb3VudGVyPTA7Y29uc3QgVmU9e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCIsSW50MzI6XCJJTlRcIixVaW50MzI6XCJVTlNJR05FRF9JTlRcIixGbG9hdDMyOlwiRkxPQVRcIn07Y2xhc3MgWmV7Y29uc3RydWN0b3IoZSx0LGksbyxyLHMpe3RoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1pLHRoaXMuaXRlbVNpemU9dC5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1vLHRoaXMuaW5zdGFuY2VDb3VudD1zLHRoaXMuY29udGV4dD1lO2NvbnN0IG49ZS5nbDt0aGlzLmJ1ZmZlcj1uLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG4uYnVmZmVyRGF0YShuLkFSUkFZX0JVRkZFUix0LmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/bi5EWU5BTUlDX0RSQVc6bi5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8cnx8dC5kZXN0cm95KCk7fWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO311cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpO31lbmFibGVBdHRyaWJ1dGVzKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO2krKyl7Y29uc3Qgbz10LmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWVdO3ZvaWQgMCE9PW8mJmUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobyk7fX1zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQsaSl7Zm9yKGxldCBvPTA7bzx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO28rKyl7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXNbb10scz10LmF0dHJpYnV0ZXNbci5uYW1lXTt2b2lkIDAhPT1zJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIocyxyLmNvbXBvbmVudHMsZVtWZVtyLnR5cGVdXSwhMSx0aGlzLml0ZW1TaXplLHIub2Zmc2V0K3RoaXMuaXRlbVNpemUqKGl8fDApKTt9fXNldFZlcnRleEF0dHJpYkRpdmlzb3IoZSx0LGkpe2ZvcihsZXQgbz0wO288dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtvKyspe2NvbnN0IHI9dC5hdHRyaWJ1dGVzW3RoaXMuYXR0cmlidXRlc1tvXS5uYW1lXTt2b2lkIDAhPT1yJiZ0aGlzLmluc3RhbmNlQ291bnQmJnRoaXMuaW5zdGFuY2VDb3VudD4wJiZlLnZlcnRleEF0dHJpYkRpdmlzb3IocixpKTt9fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fX1jbGFzcyBIZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5kZWZhdWx0PXRoaXMuZ2V0RGVmYXVsdCgpLHRoaXMuY3VycmVudD10aGlzLmRlZmF1bHQsdGhpcy5kaXJ0eT0hMTt9Z2V0KCl7cmV0dXJuIHRoaXMuY3VycmVudH1zZXQoZSl7fWdldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5kZWZhdWx0fXNldERlZmF1bHQoKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpO319Y2xhc3MgV2UgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIGUuYXgudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBxZSBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gMX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckRlcHRoKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgJGUgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIDB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgWGUgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIFshMCwhMCwhMCwhMF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayhlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIEtlIGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiAhMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBZZSBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gMjU1fXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgSmUgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIHtmdW5jOnRoaXMuZ2wuQUxXQVlTLHJlZjowLG1hc2s6MjU1fX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuZnVuYyE9PXQuZnVuY3x8ZS5yZWYhPT10LnJlZnx8ZS5tYXNrIT09dC5tYXNrfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbEZ1bmMoZS5mdW5jLGUucmVmLGUubWFzayksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBRZSBleHRlbmRzIEhle2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuIFtlLktFRVAsZS5LRUVQLGUuS0VFUF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKGVbMF0sZVsxXSxlWzJdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGV0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuU1RFTkNJTF9URVNUKTp0LmRpc2FibGUodC5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyB0dCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gWzAsMV19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aFJhbmdlKGVbMF0sZVsxXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBpdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkRFUFRIX1RFU1QpOnQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBvdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5MRVNTfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoRnVuYyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHJ0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQkxFTkQpOnQuZGlzYWJsZSh0LkJMRU5EKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3Mgc3QgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbZS5PTkUsZS5aRVJPLGUuT05FLGUuWkVST119c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgbnQgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIGUuYXgudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBhdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5GVU5DX0FERH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZSxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGx0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQ1VMTF9GQUNFKTp0LmRpc2FibGUodC5DVUxMX0ZBQ0UpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBjdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5CQUNLfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmN1bGxGYWNlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgaHQgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQ0NXfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmZyb250RmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWxldCB1dD1jbGFzcyBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC51c2VQcm9ncmFtKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319O2NsYXNzIGR0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLlRFWFRVUkUwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmFjdGl2ZVRleHR1cmUoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBfdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuIFswLDAsZS5kcmF3aW5nQnVmZmVyV2lkdGgsZS5kcmF3aW5nQnVmZmVySGVpZ2h0XX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fGVbM10hPT10WzNdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudmlld3BvcnQoZVswXSxlWzFdLGVbMl0sZVszXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBwdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBmdCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRSZW5kZXJidWZmZXIodC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIG10IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBndCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHZ0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHh0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXt0aGlzLmdsJiYoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJpbmRWZXJ0ZXhBcnJheShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHl0IGV4dGVuZHMgSGV7Z2V0RGVmYXVsdCgpe3JldHVybiA0fXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfQUxJR05NRU5ULGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBidCBleHRlbmRzIEhle2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3Mgd3QgZXh0ZW5kcyBIZXtnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBUdCBleHRlbmRzIEhle2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5jb250ZXh0PWUsdGhpcy5wYXJlbnQ9dDt9Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfX1jbGFzcyBFdCBleHRlbmRzIFR0e3NldERpcnR5KCl7dGhpcy5kaXJ0eT0hMDt9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxlLDApLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBTdCBleHRlbmRzIFR0e2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy5hdHRhY2htZW50KCksdC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIEN0IGV4dGVuZHMgVHR7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0aGlzLmF0dGFjaG1lbnQoKSx0LlRFWFRVUkVfMkQsZSwwKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgSXQgZXh0ZW5kcyBTdHthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UfX1jbGFzcyBEdHtjb25zdHJ1Y3RvcihlLHQsaSxvLHIpe3RoaXMuY29udGV4dD1lLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1pO2NvbnN0IHM9dGhpcy5mcmFtZWJ1ZmZlcj1lLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7byYmKHRoaXMuY29sb3JBdHRhY2htZW50PW5ldyBFdChlLHMpKSxyJiYodGhpcy5kZXB0aEF0dGFjaG1lbnRUeXBlPXIsdGhpcy5kZXB0aEF0dGFjaG1lbnQ9XCJyZW5kZXJidWZmZXJcIj09PXI/bmV3IFN0KGUscyk6bmV3IEN0KGUscykpO31kZXN0cm95KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7aWYodGhpcy5jb2xvckF0dGFjaG1lbnQpe2NvbnN0IHQ9dGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVUZXh0dXJlKHQpO31pZih0aGlzLmRlcHRoQXR0YWNobWVudCYmdGhpcy5kZXB0aEF0dGFjaG1lbnRUeXBlKWlmKFwicmVuZGVyYnVmZmVyXCI9PT10aGlzLmRlcHRoQXR0YWNobWVudFR5cGUpe2NvbnN0IHQ9dGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVSZW5kZXJidWZmZXIodCk7fWVsc2Uge2NvbnN0IHQ9dGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVUZXh0dXJlKHQpO31lLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO319Y2xhc3MgTHR7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuZnVuYz1lLHRoaXMubWFzaz10LHRoaXMucmFuZ2U9aTt9fUx0LlJlYWRPbmx5PSExLEx0LlJlYWRXcml0ZT0hMCxMdC5kaXNhYmxlZD1uZXcgTHQoNTE5LEx0LlJlYWRPbmx5LFswLDFdKTtjb25zdCBBdD03NjgwO2NsYXNzIFJ0e2NvbnN0cnVjdG9yKGUsdCxpLG8scixzKXt0aGlzLnRlc3Q9ZSx0aGlzLnJlZj10LHRoaXMubWFzaz1pLHRoaXMuZmFpbD1vLHRoaXMuZGVwdGhGYWlsPXIsdGhpcy5wYXNzPXM7fX1SdC5kaXNhYmxlZD1uZXcgUnQoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLEF0LEF0LEF0KTtjb25zdCBQdD03NzE7Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5ibGVuZEZ1bmN0aW9uPWUsdGhpcy5ibGVuZENvbG9yPXQsdGhpcy5tYXNrPWksdGhpcy5ibGVuZEVxdWF0aW9uPW87fX1NdC5SZXBsYWNlPVsxLDAsMSwwXSxNdC5kaXNhYmxlZD1uZXcgTXQoTXQuUmVwbGFjZSxlLmF4LnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLE10LnVuYmxlbmRlZD1uZXcgTXQoTXQuUmVwbGFjZSxlLmF4LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLE10LmFscGhhQmxlbmRlZD1uZXcgTXQoWzEsUHQsMSxQdF0sZS5heC50cmFuc3BhcmVudCxbITAsITAsITAsITBdKSxNdC5tdWx0aXBseT1uZXcgTXQoWzc3NCwwLDc3NCwwXSxlLmF4LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO2NvbnN0IHp0PTEwMjksT3Q9MjMwNTtjbGFzcyBGdHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5lbmFibGU9ZSx0aGlzLm1vZGU9dCx0aGlzLmZyb250RmFjZT1pO319RnQuZGlzYWJsZWQ9bmV3IEZ0KCExLHp0LE90KSxGdC5iYWNrQ0NXPW5ldyBGdCghMCx6dCxPdCksRnQuYmFja0NXPW5ldyBGdCghMCx6dCwyMzA0KSxGdC5mcm9udENXPW5ldyBGdCghMCwxMDI4LDIzMDQpLEZ0LmZyb250Q0NXPW5ldyBGdCghMCwxMDI4LE90KTtjbGFzcyBCdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZ2w9ZSx0aGlzLmNsZWFyQ29sb3I9bmV3IFdlKHRoaXMpLHRoaXMuY2xlYXJEZXB0aD1uZXcgcWUodGhpcyksdGhpcy5jbGVhclN0ZW5jaWw9bmV3ICRlKHRoaXMpLHRoaXMuY29sb3JNYXNrPW5ldyBYZSh0aGlzKSx0aGlzLmRlcHRoTWFzaz1uZXcgS2UodGhpcyksdGhpcy5zdGVuY2lsTWFzaz1uZXcgWWUodGhpcyksdGhpcy5zdGVuY2lsRnVuYz1uZXcgSmUodGhpcyksdGhpcy5zdGVuY2lsT3A9bmV3IFFlKHRoaXMpLHRoaXMuc3RlbmNpbFRlc3Q9bmV3IGV0KHRoaXMpLHRoaXMuZGVwdGhSYW5nZT1uZXcgdHQodGhpcyksdGhpcy5kZXB0aFRlc3Q9bmV3IGl0KHRoaXMpLHRoaXMuZGVwdGhGdW5jPW5ldyBvdCh0aGlzKSx0aGlzLmJsZW5kPW5ldyBydCh0aGlzKSx0aGlzLmJsZW5kRnVuYz1uZXcgc3QodGhpcyksdGhpcy5ibGVuZENvbG9yPW5ldyBudCh0aGlzKSx0aGlzLmJsZW5kRXF1YXRpb249bmV3IGF0KHRoaXMpLHRoaXMuY3VsbEZhY2U9bmV3IGx0KHRoaXMpLHRoaXMuY3VsbEZhY2VTaWRlPW5ldyBjdCh0aGlzKSx0aGlzLmZyb250RmFjZT1uZXcgaHQodGhpcyksdGhpcy5wcm9ncmFtPW5ldyB1dCh0aGlzKSx0aGlzLmFjdGl2ZVRleHR1cmU9bmV3IGR0KHRoaXMpLHRoaXMudmlld3BvcnQ9bmV3IF90KHRoaXMpLHRoaXMuYmluZEZyYW1lYnVmZmVyPW5ldyBwdCh0aGlzKSx0aGlzLmJpbmRSZW5kZXJidWZmZXI9bmV3IGZ0KHRoaXMpLHRoaXMuYmluZFRleHR1cmU9bmV3IG10KHRoaXMpLHRoaXMuYmluZFZlcnRleEJ1ZmZlcj1uZXcgZ3QodGhpcyksdGhpcy5iaW5kRWxlbWVudEJ1ZmZlcj1uZXcgdnQodGhpcyksdGhpcy5iaW5kVmVydGV4QXJyYXlPRVM9bmV3IHh0KHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFjaz1uZXcgeXQodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYT1uZXcgYnQodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFk9bmV3IHd0KHRoaXMpLHRoaXMub3B0aW9ucz10P3suLi50fTp7fSx0aGlzLm9wdGlvbnMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmZ8fCh0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz1lLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIiksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heD1lLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSksdGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mbz1lLmdldEV4dGVuc2lvbihcIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm9cIiksdGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mbyYmKHRoaXMucmVuZGVyZXI9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy52ZW5kb3I9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpKSx0aGlzLm9wdGlvbnMuZXh0VGV4dHVyZUZsb2F0TGluZWFyRm9yY2VPZmZ8fCh0aGlzLmV4dFRleHR1cmVGbG9hdExpbmVhcj1lLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiKSksdGhpcy5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ9ZS5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIiksdGhpcy5leHRUaW1lclF1ZXJ5PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMlwiKSx0aGlzLm1heFRleHR1cmVTaXplPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfU0laRSksdGhpcy5tYXhQb2ludFNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5BTElBU0VEX1BPSU5UX1NJWkVfUkFOR0UpWzFdO31zZXREZWZhdWx0KCl7dGhpcy51bmJpbmRWQU8oKSx0aGlzLmNsZWFyQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJEZXB0aC5zZXREZWZhdWx0KCksdGhpcy5jbGVhclN0ZW5jaWwuc2V0RGVmYXVsdCgpLHRoaXMuY29sb3JNYXNrLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoTWFzay5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsTWFzay5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsRnVuYy5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsT3Auc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbFRlc3Quc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhSYW5nZS5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFRlc3Quc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZENvbG9yLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kRXF1YXRpb24uc2V0RGVmYXVsdCgpLHRoaXMuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKSx0aGlzLmZyb250RmFjZS5zZXREZWZhdWx0KCksdGhpcy5wcm9ncmFtLnNldERlZmF1bHQoKSx0aGlzLmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuYmluZEZyYW1lYnVmZmVyLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2suc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTt9c2V0RGlydHkoKXt0aGlzLmNsZWFyQ29sb3IuZGlydHk9ITAsdGhpcy5jbGVhckRlcHRoLmRpcnR5PSEwLHRoaXMuY2xlYXJTdGVuY2lsLmRpcnR5PSEwLHRoaXMuY29sb3JNYXNrLmRpcnR5PSEwLHRoaXMuZGVwdGhNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsRnVuYy5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxPcC5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhSYW5nZS5kaXJ0eT0hMCx0aGlzLmRlcHRoVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kLmRpcnR5PSEwLHRoaXMuYmxlbmRGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmRDb2xvci5kaXJ0eT0hMCx0aGlzLmJsZW5kRXF1YXRpb24uZGlydHk9ITAsdGhpcy5jdWxsRmFjZS5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlU2lkZS5kaXJ0eT0hMCx0aGlzLmZyb250RmFjZS5kaXJ0eT0hMCx0aGlzLnByb2dyYW0uZGlydHk9ITAsdGhpcy5hY3RpdmVUZXh0dXJlLmRpcnR5PSEwLHRoaXMudmlld3BvcnQuZGlydHk9ITAsdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kUmVuZGVyYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFRleHR1cmUuZGlydHk9ITAsdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZEVsZW1lbnRCdWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITA7fWNyZWF0ZUluZGV4QnVmZmVyKGUsdCxpKXtyZXR1cm4gbmV3IGplKHRoaXMsZSx0LGkpfWNyZWF0ZVZlcnRleEJ1ZmZlcihlLHQsaSxvLHIpe3JldHVybiBuZXcgWmUodGhpcyxlLHQsaSxvLHIpfWNyZWF0ZVJlbmRlcmJ1ZmZlcihlLHQsaSl7Y29uc3Qgbz10aGlzLmdsLHI9by5jcmVhdGVSZW5kZXJidWZmZXIoKTtyZXR1cm4gdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChyKSxvLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uoby5SRU5ERVJCVUZGRVIsZSx0LGkpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQobnVsbCkscn1jcmVhdGVGcmFtZWJ1ZmZlcihlLHQsaSxvKXtyZXR1cm4gbmV3IER0KHRoaXMsZSx0LGksbyl9Y2xlYXIoe2NvbG9yOmUsZGVwdGg6dCxzdGVuY2lsOmksY29sb3JNYXNrOm99KXtjb25zdCByPXRoaXMuZ2w7bGV0IHM9MDtlJiYoc3w9ci5DT0xPUl9CVUZGRVJfQklULHRoaXMuY2xlYXJDb2xvci5zZXQoZSksdGhpcy5jb2xvck1hc2suc2V0KG98fFshMCwhMCwhMCwhMF0pKSx2b2lkIDAhPT10JiYoc3w9ci5ERVBUSF9CVUZGRVJfQklULHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsMV0pLHRoaXMuY2xlYXJEZXB0aC5zZXQodCksdGhpcy5kZXB0aE1hc2suc2V0KCEwKSksdm9pZCAwIT09aSYmKHN8PXIuU1RFTkNJTF9CVUZGRVJfQklULHRoaXMuY2xlYXJTdGVuY2lsLnNldChpKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCgyNTUpKSxyLmNsZWFyKHMpO31zZXRDdWxsRmFjZShlKXshMT09PWUuZW5hYmxlP3RoaXMuY3VsbEZhY2Uuc2V0KCExKToodGhpcy5jdWxsRmFjZS5zZXQoITApLHRoaXMuY3VsbEZhY2VTaWRlLnNldChlLm1vZGUpLHRoaXMuZnJvbnRGYWNlLnNldChlLmZyb250RmFjZSkpO31zZXREZXB0aE1vZGUoZSl7ZS5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5kZXB0aFRlc3Quc2V0KCEwKSx0aGlzLmRlcHRoRnVuYy5zZXQoZS5mdW5jKSx0aGlzLmRlcHRoTWFzay5zZXQoZS5tYXNrKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0KGUucmFuZ2UpKTp0aGlzLmRlcHRoVGVzdC5zZXQoITEpO31zZXRTdGVuY2lsTW9kZShlKXtlLnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldChlLm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbZS5mYWlsLGUuZGVwdGhGYWlsLGUucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOmUudGVzdC5mdW5jLHJlZjplLnJlZixtYXNrOmUudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9c2V0Q29sb3JNb2RlKGUpe3QoZS5ibGVuZEZ1bmN0aW9uLE10LlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChlLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoZS5ibGVuZENvbG9yKSxlLmJsZW5kRXF1YXRpb24/dGhpcy5ibGVuZEVxdWF0aW9uLnNldChlLmJsZW5kRXF1YXRpb24pOnRoaXMuYmxlbmRFcXVhdGlvbi5zZXREZWZhdWx0KCkpLHRoaXMuY29sb3JNYXNrLnNldChlLm1hc2spO311bmJpbmRWQU8oKXt0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCk7fX12YXIga3Q9ZS5heShbe25hbWU6XCJhX3Bvc1wiLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czozfV0pO2NsYXNzIE50e2NvbnN0cnVjdG9yKHQsaSxvLHIpe2NvbnN0IHM9e3dpZHRoOm9bMF0saGVpZ2h0Om9bMV0sZGF0YTpudWxsfSxuPXQuZ2w7dGhpcy50YXJnZXRDb2xvclRleHR1cmU9bmV3IGUuVCh0LHMsbi5SR0JBLHt1c2VNaXBtYXA6ITF9KSx0aGlzLmJhY2tncm91bmRDb2xvclRleHR1cmU9bmV3IGUuVCh0LHMsbi5SR0JBLHt1c2VNaXBtYXA6ITF9KSx0aGlzLmNvbnRleHQ9dCx0aGlzLnNldE51bVBhcnRpY2xlcyhpLHIpLHRoaXMubGFzdEludmFsaWRhdGVkQXQ9MDt9c2V0TnVtUGFydGljbGVzKHQsaSl7aWYodGhpcy5udW1QYXJ0aWNsZXM9PT1pKXJldHVybjsodGhpcy5wYXJ0aWNsZVZlcnRpY2VzMHx8dGhpcy5wYXJ0aWNsZVZlcnRpY2VzMXx8dGhpcy5wYXJ0aWNsZVNlZ21lbnQpJiYodGhpcy5wYXJ0aWNsZVZlcnRpY2VzMC5kZXN0cm95KCksdGhpcy5wYXJ0aWNsZVZlcnRpY2VzMS5kZXN0cm95KCksdGhpcy5wYXJ0aWNsZVNlZ21lbnQuZGVzdHJveSgpKTtjb25zdCBvPW5ldyBlLmF6O28ucmVzZXJ2ZShNYXRoLnJvdW5kKGkpKTtjb25zdCByPWUuYUEodC5rZXkpO2ZvcihsZXQgZT0wO2U8aTtlKyspby5lbXBsYWNlQmFjayhyKCkscigpLHIoKSk7dGhpcy5wYXJ0aWNsZVZlcnRpY2VzMD10aGlzLmNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKG8sa3QubWVtYmVycywhMCksdGhpcy5wYXJ0aWNsZVZlcnRpY2VzMT10aGlzLmNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKG8sa3QubWVtYmVycywhMCksdGhpcy5wYXJ0aWNsZVNlZ21lbnQ9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCx0aGlzLnBhcnRpY2xlVmVydGljZXMwLmxlbmd0aCwwKSx0aGlzLm51bVBhcnRpY2xlcz1pO311cGRhdGUodCl7cmV0dXJuICEodGhpcy5sYXN0SW52YWxpZGF0ZWRBdDx0JiYodGhpcy5sYXN0SW52YWxpZGF0ZWRBdD1lLmYubm93KCksMSkpfWRlc3Ryb3koKXt0aGlzLnRhcmdldENvbG9yVGV4dHVyZS5kZXN0cm95KCksdGhpcy5iYWNrZ3JvdW5kQ29sb3JUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLnBhcnRpY2xlVmVydGljZXMwLmRlc3Ryb3koKSx0aGlzLnBhcnRpY2xlVmVydGljZXMxLmRlc3Ryb3koKSx0aGlzLnBhcnRpY2xlU2VnbWVudC5kZXN0cm95KCk7fX1jb25zdCBVdD17dHlwZToyLGV4dGVudDplLlYsbG9hZEdlb21ldHJ5OigpPT5bW25ldyBlLlAoMCwwKSxuZXcgZS5QKGUuVisxLDApLG5ldyBlLlAoZS5WKzEsZS5WKzEpLG5ldyBlLlAoMCxlLlYrMSksbmV3IGUuUCgwLDApXV19O2NsYXNzIEd0e2NvbnN0cnVjdG9yKHQsaSxvLHIscyl7dGhpcy50aWxlSUQ9dCx0aGlzLnVpZD1lLmFDKCksdGhpcy51c2VzPTAsdGhpcy50aWxlU2l6ZT1pLHRoaXMudGlsZVpvb209byx0aGlzLmJ1Y2tldHM9e30sdGhpcy5leHBpcmF0aW9uVGltZT1udWxsLHRoaXMucXVlcnlQYWRkaW5nPTAsdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmRlcGVuZGVuY2llcz17fSx0aGlzLmlzUmFzdGVyPXMsciYmci5zdHlsZSYmKHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcz1yLnN0eWxlLmdldEJyaWdodG5lc3MoKSksdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT1cImxvYWRpbmdcIixyJiZyLnRyYW5zZm9ybSYmKHRoaXMucHJvamVjdGlvbj1yLnRyYW5zZm9ybS5wcm9qZWN0aW9uKTt9cmVnaXN0ZXJGYWRlRHVyYXRpb24odCl7Y29uc3QgaT10K3RoaXMudGltZUFkZGVkO2k8ZS5mLm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZpPHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPWkpO313YXNSZXF1ZXN0ZWQoKXtyZXR1cm4gXCJlcnJvcmVkXCI9PT10aGlzLnN0YXRlfHxcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV9Z2V0IHRpbGVUcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdGlsZVRyYW5zZm9ybXx8KHRoaXMuX3RpbGVUcmFuc2Zvcm09ZS5hcyh0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5wcm9qZWN0aW9uKSksdGhpcy5fdGlsZVRyYW5zZm9ybX1sb2FkVmVjdG9yRGF0YSh0LGksbyl7aWYodGhpcy51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLHQpe3QuZmVhdHVyZUluZGV4JiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9dC5mZWF0dXJlSW5kZXgsdC5yYXdUaWxlRGF0YT8odGhpcy5sYXRlc3RSYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhPXQucmF3VGlsZURhdGEpOnRoaXMubGF0ZXN0UmF3VGlsZURhdGEmJih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10aGlzLmxhdGVzdFJhd1RpbGVEYXRhKSksdGhpcy5jb2xsaXNpb25Cb3hBcnJheT10LmNvbGxpc2lvbkJveEFycmF5LHRoaXMuYnVja2V0cz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9e307aWYoIXQpcmV0dXJuIGk7Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1vLmxheWVySWRzLm1hcCgoZT0+dC5nZXRMYXllcihlKSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09ZS5sZW5ndGgpe28ubGF5ZXJzPWUsby5zdGF0ZURlcGVuZGVudExheWVySWRzJiYoby5zdGF0ZURlcGVuZGVudExheWVycz1vLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKCh0PT5lLmZpbHRlcigoZT0+ZS5pZD09PXQpKVswXSkpKTtmb3IoY29uc3QgdCBvZiBlKWlbdC5mcWlkXT1vO319cmV0dXJuIGl9KHQuYnVja2V0cyxpLnN0eWxlKSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITE7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCBpPXRoaXMuYnVja2V0c1t0XTtpZihpIGluc3RhbmNlb2YgZS5hRSl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFvKWJyZWFrO2kuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGk9dGhpcy5idWNrZXRzW3RdO2lmKGkgaW5zdGFuY2VvZiBlLmFFJiZpLmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxlLmFGKCk7YnJlYWt9fXRoaXMucXVlcnlQYWRkaW5nPTA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXSxvPWkuc3R5bGUuZ2V0T3duTGF5ZXIoZSk7aWYoIW8pY29udGludWU7Y29uc3Qgcj1vLnF1ZXJ5UmFkaXVzKHQpO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLHIpO310LmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9dC5pbWFnZUF0bGFzKSx0LmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPXQuZ2x5cGhBdGxhc0ltYWdlKSx0LmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPXQubGluZUF0bGFzKSx0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3M9dC5icmlnaHRuZXNzO31lbHNlIHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IGUuYUQ7fXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1tlXS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwiO319Z2V0QnVja2V0KGUpe3JldHVybiB0aGlzLmJ1Y2tldHNbZS5mcWlkXX11cGxvYWQodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCBpPXRoaXMuYnVja2V0c1tlXTtpLnVwbG9hZFBlbmRpbmcoKSYmaS51cGxvYWQodCk7fWNvbnN0IGk9dC5nbCxvPXRoaXMuaW1hZ2VBdGxhcztpZihvJiYhby51cGxvYWRlZCl7Y29uc3Qgcj0hIU9iamVjdC5rZXlzKG8ucGF0dGVyblBvc2l0aW9ucykubGVuZ3RoO3RoaXMuaW1hZ2VBdGxhc1RleHR1cmU9bmV3IGUuVCh0LG8uaW1hZ2UsaS5SR0JBLHt1c2VNaXBtYXA6cn0pLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMDt9dGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyBlLlQodCx0aGlzLmdseXBoQXRsYXNJbWFnZSxpLlI4KSx0aGlzLmdseXBoQXRsYXNJbWFnZT1udWxsKSx0aGlzLmxpbmVBdGxhcyYmIXRoaXMubGluZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5saW5lQXRsYXNUZXh0dXJlPW5ldyBlLlQodCx0aGlzLmxpbmVBdGxhcy5pbWFnZSxpLlI4KSx0aGlzLmxpbmVBdGxhcy51cGxvYWRlZD0hMCk7fXByZXBhcmUoZSx0LGkpe2lmKHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSYmdGhpcy5pbWFnZUF0bGFzLnBhdGNoVXBkYXRlZEltYWdlcyhlLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUsaSksIXR8fCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleHx8IXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhKXJldHVybjtjb25zdCBvPXQuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpOyh0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3N8fG8pJiYodGhpcy5fbGFzdFVwZGF0ZWRCcmlnaHRuZXNzJiZvJiZNYXRoLmFicyh0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3Mtbyk8LjAwMXx8KHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcz1vLHRoaXMudXBkYXRlQnVja2V0cyh2b2lkIDAsdCkpKTt9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUsdCxpLG8scixzLG4sYSl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGF8fHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmlzM0RUaWxlKT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7dGlsZVJlc3VsdDpvLHBpeGVsUG9zTWF0cml4Om4sdHJhbnNmb3JtOnMscGFyYW1zOnIsdGlsZVRyYW5zZm9ybTp0aGlzLnRpbGVUcmFuc2Zvcm19LGUsdCxpKTp7fX1xdWVyeVNvdXJjZUZlYXR1cmVzKHQsaSl7Y29uc3Qgbz10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZighb3x8IW8ucmF3VGlsZURhdGEpcmV0dXJuO2NvbnN0IHI9by5sb2FkVlRMYXllcnMoKSxzPWk/aS5zb3VyY2VMYXllcjpcIlwiLG49ci5fZ2VvanNvblRpbGVMYXllcnx8cltzXTtpZighbilyZXR1cm47Y29uc3QgYT1lLmFHKGkmJmkuZmlsdGVyKSx7ejpsLHg6Yyx5Omh9PXRoaXMudGlsZUlELmNhbm9uaWNhbCx1PXt6OmwseDpjLHk6aH07Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe2NvbnN0IHI9bi5mZWF0dXJlKGkpO2lmKGEubmVlZEdlb21ldHJ5KXtjb25zdCB0PWUuYUgociwhMCk7aWYoIWEuZmlsdGVyKG5ldyBlLksodGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLHQsdGhpcy50aWxlSUQuY2Fub25pY2FsKSljb250aW51ZX1lbHNlIGlmKCFhLmZpbHRlcihuZXcgZS5LKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxyKSljb250aW51ZTtjb25zdCBkPW8uZ2V0SWQocixzKSxfPW5ldyBlLmFJKHIsbCxjLGgsZCk7Xy50aWxlPXUsdC5wdXNoKF8pO319aGFzRGF0YSgpe3JldHVybiBcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV8fFwiZXhwaXJlZFwiPT09dGhpcy5zdGF0ZX1idWNrZXRzTG9hZGVkKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKWlmKHRoaXMuYnVja2V0c1tlXS51cGxvYWRQZW5kaW5nKCkpcmV0dXJuICExO3JldHVybiAhMH1wYXR0ZXJuc0xvYWRlZCgpe3JldHVybiAhIXRoaXMuaW1hZ2VBdGxhcyYmISFPYmplY3Qua2V5cyh0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9ucykubGVuZ3RofXNldEV4cGlyeURhdGEodCl7Y29uc3QgaT10aGlzLmV4cGlyYXRpb25UaW1lO2lmKHQuY2FjaGVDb250cm9sKXtjb25zdCBpPWUuYUoodC5jYWNoZUNvbnRyb2wpO2lbXCJtYXgtYWdlXCJdJiYodGhpcy5leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpKzFlMyppW1wibWF4LWFnZVwiXSk7fWVsc2UgdC5leHBpcmVzJiYodGhpcy5leHBpcmF0aW9uVGltZT1uZXcgRGF0ZSh0LmV4cGlyZXMpLmdldFRpbWUoKSk7aWYodGhpcy5leHBpcmF0aW9uVGltZSl7Y29uc3QgZT1EYXRlLm5vdygpO2xldCB0PSExO2lmKHRoaXMuZXhwaXJhdGlvblRpbWU+ZSl0PSExO2Vsc2UgaWYoaSlpZih0aGlzLmV4cGlyYXRpb25UaW1lPGkpdD0hMDtlbHNlIHtjb25zdCBvPXRoaXMuZXhwaXJhdGlvblRpbWUtaTtvP3RoaXMuZXhwaXJhdGlvblRpbWU9ZStNYXRoLm1heChvLDNlNCk6dD0hMDt9ZWxzZSB0PSEwO3Q/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wO319Z2V0RXhwaXJ5VGltZW91dCgpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX1zZXRGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGEmJjAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnQmJnRoaXMudXBkYXRlQnVja2V0cyhlLHQpO311cGRhdGVCdWNrZXRzKHQsaSl7aWYoIXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4KXJldHVybjtjb25zdCBvPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLHI9aS5zdHlsZS5saXN0SW1hZ2VzKCkscz1pLnN0eWxlLmdldEJyaWdodG5lc3MoKTtmb3IoY29uc3QgbiBpbiB0aGlzLmJ1Y2tldHMpe2lmKCFpLnN0eWxlLmhhc0xheWVyKG4pKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5idWNrZXRzW25dLGw9YS5sYXllcnNbMF0uc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixjPW9bbF07bGV0IGg9e307aWYodCYmKGg9dFtsXSwhY3x8IWh8fDA9PT1PYmplY3Qua2V5cyhoKS5sZW5ndGgpKWNvbnRpbnVlO2lmKGEudXBkYXRlKGgsYyxyLHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnN8fHt9LHMpLGEgaW5zdGFuY2VvZiBlLmFLfHxhIGluc3RhbmNlb2YgZS5hTCl7Y29uc3QgZT1pLnN0eWxlLmdldE93blNvdXJjZUNhY2hlKGEubGF5ZXJzWzBdLnNvdXJjZSk7aS5fdGVycmFpbiYmaS5fdGVycmFpbi5lbmFibGVkJiZlJiZhLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCYmaS5fdGVycmFpbi5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZS5pZCx0aGlzLnRpbGVJRCk7fWNvbnN0IHU9aSYmaS5zdHlsZSYmaS5zdHlsZS5nZXRPd25MYXllcihuKTt1JiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdS5xdWVyeVJhZGl1cyhhKSkpO319aG9sZGluZ0ZvckZhZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfXN5bWJvbEZhZGVGaW5pc2hlZCgpe3JldHVybiAhdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8ZS5mLm5vdygpfWNsZWFyRmFkZUhvbGQoKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwO31zZXRIb2xkRHVyYXRpb24odCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPWUuZi5ub3coKSt0O31zZXRUZXh0dXJlKHQsaSl7Y29uc3Qgbz1pLmNvbnRleHQscj1vLmdsO3RoaXMudGV4dHVyZT10aGlzLnRleHR1cmV8fGkuZ2V0VGlsZVRleHR1cmUodC53aWR0aCksdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBlLlQ/dGhpcy50ZXh0dXJlLnVwZGF0ZSh0LHt1c2VNaXBtYXA6ITB9KToodGhpcy50ZXh0dXJlPW5ldyBlLlQobyx0LHIuUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSk7fXNldERlcGVuZGVuY2llcyhlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IGUgb2YgdClpW2VdPSEwO3RoaXMuZGVwZW5kZW5jaWVzW2VdPWk7fWhhc0RlcGVuZGVuY3koZSx0KXtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXRoaXMuZGVwZW5kZW5jaWVzW2ldO2lmKGUpZm9yKGNvbnN0IGkgb2YgdClpZihlW2ldKXJldHVybiAhMH1yZXR1cm4gITF9Y2xlYXJRdWVyeURlYnVnVml6KCl7fV9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyh0LGkpe2lmKCFpfHxcIm1lcmNhdG9yXCI9PT1pLm5hbWV8fHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcilyZXR1cm47Y29uc3Qgbz1lLmFNKFV0LHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdLHI9bmV3IGUuYU4scz1uZXcgZS5hTztmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3R7eDp0LHk6aX09b1tlXTtyLmVtcGxhY2VCYWNrKHQsaSkscy5lbXBsYWNlQmFjayhlKTt9cy5lbXBsYWNlQmFjaygwKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLGUuYVAubWVtYmVycyksdGhpcy5fdGlsZURlYnVnU2VnbWVudHM9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCxyLmxlbmd0aCxzLmxlbmd0aCk7fV9tYWtlVGlsZUJvdW5kc0J1ZmZlcnModCxpKXtpZih0aGlzLl90aWxlQm91bmRzQnVmZmVyfHwhaXx8XCJtZXJjYXRvclwiPT09aS5uYW1lKXJldHVybjtjb25zdCBvPWUuYU0oVXQsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF07bGV0IHIscztpZih0aGlzLmlzUmFzdGVyKXtjb25zdCB0PWZ1bmN0aW9uKHQsaSl7Y29uc3Qgbz1lLmFzKHQsaSkscj1NYXRoLnBvdygyLHQueik7Zm9yKGxldCBzPTA7czxGZTtzKyspZm9yKGxldCBuPTA7bjxGZTtuKyspe2NvbnN0IGE9ZS5hdCgodC54KyhuK0dlKG4pKS9PZSkvciksbD1lLmF1KCh0LnkrKHMrR2UocykpL09lKS9yKSxjPWkucHJvamVjdChhLGwpLGg9cypGZStuO2tlWzIqaCswXT1NYXRoLnJvdW5kKChjLngqby5zY2FsZS1vLngpKmUuViksa2VbMipoKzFdPU1hdGgucm91bmQoKGMueSpvLnNjYWxlLW8ueSkqZS5WKTt9TmUuZmlsbCgwKSxVZS5maWxsKDApO2ZvcihsZXQgZT0yMDQ1O2U+PTA7ZS0tKXtjb25zdCB0PTQqZSxpPUJlW3QrMF0sbz1CZVt0KzFdLHI9QmVbdCsyXSxzPUJlW3QrM10sbj1pK3I+PjEsYT1vK3M+PjEsbD1uK2EtbyxjPWEraS1uLGg9bypGZStpLHU9cypGZStyLGQ9YSpGZStuLF89TWF0aC5oeXBvdCgoa2VbMipoKzBdK2tlWzIqdSswXSkvMi1rZVsyKmQrMF0sKGtlWzIqaCsxXStrZVsyKnUrMV0pLzIta2VbMipkKzFdKT49MTY7TmVbZF09TmVbZF18fChfPzE6MCksZTwxMDIyJiYoTmVbZF09TmVbZF18fE5lWyhvK2M+PjEpKkZlKyhpK2w+PjEpXXx8TmVbKHMrYz4+MSkqRmUrKHIrbD4+MSldKTt9Y29uc3Qgcz1uZXcgZS5hdixuPW5ldyBlLmF3O2xldCBhPTA7ZnVuY3Rpb24gbCh0LGkpe2NvbnN0IG89aSpGZSt0O3JldHVybiAwPT09VWVbb10mJihzLmVtcGxhY2VCYWNrKGtlWzIqbyswXSxrZVsyKm8rMV0sdCplLlYvT2UsaSplLlYvT2UpLFVlW29dPSsrYSksVWVbb10tMX1mdW5jdGlvbiBjKGUsdCxpLG8scixzKXtjb25zdCBhPWUraT4+MSxoPXQrbz4+MTtpZihNYXRoLmFicyhlLXIpK01hdGguYWJzKHQtcyk+MSYmTmVbaCpGZSthXSljKHIscyxlLHQsYSxoKSxjKGksbyxyLHMsYSxoKTtlbHNlIHtjb25zdCBhPWwoZSx0KSxjPWwoaSxvKSxoPWwocixzKTtuLmVtcGxhY2VCYWNrKGEsYyxoKTt9fXJldHVybiBjKDAsMCxPZSxPZSxPZSwwKSxjKE9lLE9lLDAsMCwwLE9lKSx7dmVydGljZXM6cyxpbmRpY2VzOm59fSh0aGlzLnRpbGVJRC5jYW5vbmljYWwsaSk7cj10LnZlcnRpY2VzLHM9dC5pbmRpY2VzO31lbHNlIHtyPW5ldyBlLmF2LHM9bmV3IGUuYXc7Zm9yKGNvbnN0e3g6ZSx5OnR9b2YgbylyLmVtcGxhY2VCYWNrKGUsdCwwLDApO2NvbnN0IHQ9ZS5hUShyLmludDE2LHZvaWQgMCw0KTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTMpcy5lbXBsYWNlQmFjayh0W2VdLHRbZSsxXSx0W2UrMl0pO310aGlzLl90aWxlQm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHIsZS5hUi5tZW1iZXJzKSx0aGlzLl90aWxlQm91bmRzSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHM9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCxyLmxlbmd0aCxzLmxlbmd0aCk7fV9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKHQsaSl7Y29uc3Qgbz1pLnByb2plY3Rpb247aWYoIW98fFwiZ2xvYmVcIiE9PW8ubmFtZXx8aS5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO2NvbnN0IHI9dGhpcy50aWxlSUQuY2Fub25pY2FsLHM9ZS5hUyhyLGkpLG49ZS5hVChzKSxhPWUuUyhpLnpvb20pO2xldCBsO2E+MCYmKGw9ZS5hNi5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksaS5nbG9iZU1hdHJpeCkpLHRoaXMuX21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcih0LHIsaSxuLGwsYSksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcih0LHIsaSxuLGwsYSk7fV9nbG9iZVBvaW50KHQsaSxvLHIscyxuLGEpe2xldCBsPWUuYVUodCxpLG8pO2lmKG4pe2NvbnN0IHM9MTw8by56LGM9ZS5hNShyLmNlbnRlci5sbmcpLGg9ZS5hZShyLmNlbnRlci5sYXQpLHU9KG8ueCsuNSkvcy1jO2xldCBkPTA7dT4uNT9kPS0xOnU8LS41JiYoZD0xKTtsZXQgXz0odC9lLlYrby54KS9zK2QscD0oaS9lLlYrby55KS9zO189KF8tYykqci5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCtjLHA9KHAtaCkqci5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCtoO2NvbnN0IGY9W18qci53b3JsZFNpemUscCpyLndvcmxkU2l6ZSwwXTtlLk4udHJhbnNmb3JtTWF0NChmLGYsbiksbD1lLmFWKGwsZixhKTt9cmV0dXJuIGUuTi50cmFuc2Zvcm1NYXQ0KGwsbCxzKX1fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKHQsaSxvLHIscyxuKXtjb25zdCBhPW5ldyBlLmFOLGw9bmV3IGUuYU8sYz1uZXcgZS5hVyxoPShlLHQsaCx1LGQpPT57Y29uc3QgXz0oaC1lKS8oZC0xKSxwPSh1LXQpLyhkLTEpLGY9YS5sZW5ndGg7Zm9yKGxldCBoPTA7aDxkO2grKyl7Y29uc3QgdT1lK2gqXyxkPXQraCpwO2EuZW1wbGFjZUJhY2sodSxkKTtjb25zdCBtPXRoaXMuX2dsb2JlUG9pbnQodSxkLGksbyxyLHMsbik7Yy5lbXBsYWNlQmFjayhtWzBdLG1bMV0sbVsyXSksbC5lbXBsYWNlQmFjayhmK2gpO319LHU9ZS5WO2goMCwwLHUsMCwxNiksaCh1LDAsdSx1LDE2KSxoKHUsdSwwLHUsMTYpLGgoMCx1LDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihsKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxlLmFQLm1lbWJlcnMpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGMsZS5hWC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cz1lLmFCLnNpbXBsZVNlZ21lbnQoMCwwLGEubGVuZ3RoLGwubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIodCxpLG8scixzLG4pe2NvbnN0IGE9ZS5WLzQsbD1uZXcgZS5hTixjPW5ldyBlLmF3LGg9bmV3IGUuYVcsdT0yNTtjLnJlc2VydmUoMzIpLGwucmVzZXJ2ZSh1KSxoLnJlc2VydmUodSk7Y29uc3QgZD0oZSx0KT0+dSplK3Q7Zm9yKGxldCBlPTA7ZTx1O2UrKyl7Y29uc3QgdD1lKmE7Zm9yKGxldCBlPTA7ZTx1O2UrKyl7Y29uc3QgYz1lKmE7bC5lbXBsYWNlQmFjayhjLHQpO2NvbnN0IHU9dGhpcy5fZ2xvYmVQb2ludChjLHQsaSxvLHIscyxuKTtoLmVtcGxhY2VCYWNrKHVbMF0sdVsxXSx1WzJdKTt9fWZvcihsZXQgZT0wO2U8NDtlKyspZm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3QgaT1kKGUsdCksbz1kKGUsdCsxKSxyPWQoZSsxLHQpLHM9ZChlKzEsdCsxKTtjLmVtcGxhY2VCYWNrKGksbyxyKSxjLmVtcGxhY2VCYWNrKHIsbyxzKTt9dGhpcy5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoYyksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihsLGUuYVAubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGgsZS5hWC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHM9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCx1LDMyKTt9ZGVzdHJveSh0PSExKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpdGhpcy5idWNrZXRzW2VdLmRlc3Ryb3koKTt0aGlzLmJ1Y2tldHM9e30sdGhpcy5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPW51bGwpLHRoaXMubGluZUF0bGFzJiYodGhpcy5saW5lQXRsYXM9bnVsbCksdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSYmKHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmltYWdlQXRsYXNUZXh0dXJlKSx0aGlzLmdseXBoQXRsYXNUZXh0dXJlJiYodGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksZGVsZXRlIHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmKHRoaXMubGluZUF0bGFzVGV4dHVyZS5kZXN0cm95KCksZGVsZXRlIHRoaXMubGluZUF0bGFzVGV4dHVyZSksdGhpcy5fdGlsZUJvdW5kc0J1ZmZlciYmKHRoaXMuX3RpbGVCb3VuZHNCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc1NlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlciYmKHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dFNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9bnVsbCksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9bnVsbCksIXQmJnRoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlIGluc3RhbmNlb2YgZS5UJiYodGhpcy50ZXh0dXJlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy50ZXh0dXJlKSx0aGlzLmhpbGxzaGFkZUZCTyYmKHRoaXMuaGlsbHNoYWRlRkJPLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5oaWxsc2hhZGVGQk8pLHRoaXMuZGVtJiZkZWxldGUgdGhpcy5kZW0sdGhpcy5uZWlnaGJvcmluZ1RpbGVzJiZkZWxldGUgdGhpcy5uZWlnaGJvcmluZ1RpbGVzLHRoaXMuZGVtVGV4dHVyZSYmKHRoaXMuZGVtVGV4dHVyZS5kZXN0cm95KCksZGVsZXRlIHRoaXMuZGVtVGV4dHVyZSksdGhpcy5yYXN0ZXJQYXJ0aWNsZVN0YXRlJiYodGhpcy5yYXN0ZXJQYXJ0aWNsZVN0YXRlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5yYXN0ZXJQYXJ0aWNsZVN0YXRlKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwiO319Y29uc3QganQ9e3ZlY3RvcjpQZSxyYXN0ZXI6TWUsXCJyYXN0ZXItZGVtXCI6Y2xhc3MgZXh0ZW5kcyBNZXtjb25zdHJ1Y3Rvcih0LGksbyxyKXtzdXBlcih0LGksbyxyKSx0aGlzLnR5cGU9XCJyYXN0ZXItZGVtXCIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9ZS5lKHt0eXBlOlwicmFzdGVyLWRlbVwifSxpKSx0aGlzLmVuY29kaW5nPWkuZW5jb2Rpbmd8fFwibWFwYm94XCI7fWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLCExLHRoaXMudGlsZVNpemUpO2Z1bmN0aW9uIHIoZSxvKXtlJiYodC5zdGF0ZT1cImVycm9yZWRcIixpKGUpKSxvJiYodC5kZW09byx0LmRlbS5vbkRlc2VyaWFsaXplKCksdC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpO310LnJlcXVlc3Q9ZS5kKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sZS5SLlRpbGUpLGZ1bmN0aW9uKG8scyxuLGEpe2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCk7ZWxzZSBpZihvKXQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKTtlbHNlIGlmKHMpe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDpuLGV4cGlyZXM6YX0pO2NvbnN0IGk9SW1hZ2VCaXRtYXAmJnMgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCYmZS5haygpLG89MS0ocy53aWR0aC1lLmFsKHMud2lkdGgpKS8yO288MXx8dC5uZWlnaGJvcmluZ1RpbGVzfHwodC5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModC50aWxlSUQpKTtjb25zdCBsPWk/czplLmYuZ2V0SW1hZ2VEYXRhKHMsbyksYz17dWlkOnQudWlkLGNvb3JkOnQudGlsZUlELHNvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUscmF3SW1hZ2VEYXRhOmwsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZyxwYWRkaW5nOm99O3QuYWN0b3ImJlwiZXhwaXJlZFwiIT09dC5zdGF0ZXx8KHQuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksdC5hY3Rvci5zZW5kKFwibG9hZERFTVRpbGVcIixjLHIuYmluZCh0aGlzKSx2b2lkIDAsITApKTt9fS5iaW5kKHRoaXMpKTt9X2dldE5laWdoYm9yaW5nVGlsZXModCl7Y29uc3QgaT10LmNhbm9uaWNhbCxvPU1hdGgucG93KDIsaS56KSxyPShpLngtMStvKSVvLHM9MD09PWkueD90LndyYXAtMTp0LndyYXAsbj0oaS54KzErbyklbyxhPWkueCsxPT09bz90LndyYXArMTp0LndyYXAsbD17fTtyZXR1cm4gbFtuZXcgZS5hbSh0Lm92ZXJzY2FsZWRaLHMsaS56LHIsaS55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLmFtKHQub3ZlcnNjYWxlZFosYSxpLnosbixpLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGkueT4wJiYobFtuZXcgZS5hbSh0Lm92ZXJzY2FsZWRaLHMsaS56LHIsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuYW0odC5vdmVyc2NhbGVkWix0LndyYXAsaS56LGkueCxpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5hbSh0Lm92ZXJzY2FsZWRaLGEsaS56LG4saS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxpLnkrMTxvJiYobFtuZXcgZS5hbSh0Lm92ZXJzY2FsZWRaLHMsaS56LHIsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuYW0odC5vdmVyc2NhbGVkWix0LndyYXAsaS56LGkueCxpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5hbSh0Lm92ZXJzY2FsZWRaLGEsaS56LG4saS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxsfX0sXCJyYXN0ZXItYXJyYXlcIjp6ZSxnZW9qc29uOmNsYXNzIGV4dGVuZHMgZS5Fe2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMudHlwZT1cImdlb2pzb25cIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MTgsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5fbG9hZGVkPSExLHRoaXMuYWN0b3I9by5nZXRBY3RvcigpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLl9kYXRhPWkuZGF0YSx0aGlzLl9vcHRpb25zPWUuZSh7fSxpKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9aS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdm9pZCAwIT09aS5tYXh6b29tJiYodGhpcy5tYXh6b29tPWkubWF4em9vbSksaS50eXBlJiYodGhpcy50eXBlPWkudHlwZSksaS5hdHRyaWJ1dGlvbiYmKHRoaXMuYXR0cmlidXRpb249aS5hdHRyaWJ1dGlvbiksdGhpcy5wcm9tb3RlSWQ9aS5wcm9tb3RlSWQ7Y29uc3Qgcz1lLlYvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9ZS5lKHtzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLGNsdXN0ZXI6aS5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PWkuYnVmZmVyP2kuYnVmZmVyOjEyOCkqcyx0b2xlcmFuY2U6KHZvaWQgMCE9PWkudG9sZXJhbmNlP2kudG9sZXJhbmNlOi4zNzUpKnMsZXh0ZW50OmUuVixtYXhab29tOnRoaXMubWF4em9vbSxsaW5lTWV0cmljczppLmxpbmVNZXRyaWNzfHwhMSxnZW5lcmF0ZUlkOmkuZ2VuZXJhdGVJZHx8ITF9LHN1cGVyY2x1c3Rlck9wdGlvbnM6e21heFpvb206dm9pZCAwIT09aS5jbHVzdGVyTWF4Wm9vbT9pLmNsdXN0ZXJNYXhab29tOnRoaXMubWF4em9vbS0xLG1pblBvaW50czpNYXRoLm1heCgyLGkuY2x1c3Rlck1pblBvaW50c3x8MiksZXh0ZW50OmUuVixyYWRpdXM6KHZvaWQgMCE9PWkuY2x1c3RlclJhZGl1cz9pLmNsdXN0ZXJSYWRpdXM6NTApKnMsbG9nOiExLGdlbmVyYXRlSWQ6aS5nZW5lcmF0ZUlkfHwhMX0sY2x1c3RlclByb3BlcnRpZXM6aS5jbHVzdGVyUHJvcGVydGllcyxmaWx0ZXI6aS5maWx0ZXJ9LGkud29ya2VyT3B0aW9ucyk7fW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5zZXREYXRhKHRoaXMuX2RhdGEpO31zZXREYXRhKGUpe3JldHVybiB0aGlzLl9kYXRhPWUsdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXN9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbVwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlblwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LGksbyl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLGNsdXN0ZXJJZDplLGxpbWl0OnQsb2Zmc2V0Oml9LG8pLHRoaXN9X3VwZGF0ZVdvcmtlckRhdGEoKXtpZih0aGlzLl9wZW5kaW5nTG9hZClyZXR1cm4gdm9pZCh0aGlzLl9jb2FsZXNjZT0hMCk7dGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2xvYWRlZD0hMTtjb25zdCB0PWUuZSh7fSx0aGlzLndvcmtlck9wdGlvbnMpO3Quc2NvcGU9dGhpcy5zY29wZTtjb25zdCBpPXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIGk/KHQucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLmYucmVzb2x2ZVVSTChpKSxlLlIuU291cmNlKSx0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyk6dC5kYXRhPUpTT04uc3RyaW5naWZ5KGkpLHRoaXMuX3BlbmRpbmdMb2FkPXRoaXMuYWN0b3Iuc2VuZChgJHt0aGlzLnR5cGV9LmxvYWREYXRhYCx0LCgodCxpKT0+e2lmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLl9wZW5kaW5nTG9hZD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLmEodCkpO2Vsc2Uge2NvbnN0IHQ9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmaSYmaS5yZXNvdXJjZVRpbWluZyYmaS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKHQucmVzb3VyY2VUaW1pbmc9aS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhXCIsdCkpLHRoaXMuX21ldGFkYXRhRmlyZWQ9ITA7fXRoaXMuX2NvYWxlc2NlJiYodGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXMuX2NvYWxlc2NlPSExKTt9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9bG9hZFRpbGUodCxpKXtjb25zdCBvPXQuYWN0b3I/XCJyZWxvYWRUaWxlXCI6XCJsb2FkVGlsZVwiO3QuYWN0b3I9dGhpcy5hY3Rvcjtjb25zdCByPXt0eXBlOnRoaXMudHlwZSx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWixtYXhab29tOnRoaXMubWF4em9vbSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHNvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUscGl4ZWxSYXRpbzplLmYuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZCxicmlnaHRuZXNzOnRoaXMubWFwLnN0eWxlJiZ0aGlzLm1hcC5zdHlsZS5nZXRCcmlnaHRuZXNzKCl8fDB9O3QucmVxdWVzdD10aGlzLmFjdG9yLnNlbmQobyxyLCgoZSxyKT0+KGRlbGV0ZSB0LnJlcXVlc3QsdC5kZXN0cm95KCksdC5hYm9ydGVkP2kobnVsbCk6ZT9pKGUpOih0LmxvYWRWZWN0b3JEYXRhKHIsdGhpcy5tYXAucGFpbnRlcixcInJlbG9hZFRpbGVcIj09PW8pLGkobnVsbCkpKSksdm9pZCAwLFwibG9hZFRpbGVcIj09PW8pO31hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWJvcnRlZD0hMDt9dW5sb2FkVGlsZShlKXt0aGlzLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSksZS5kZXN0cm95KCk7fW9uUmVtb3ZlKCl7dGhpcy5fcGVuZGluZ0xvYWQmJnRoaXMuX3BlbmRpbmdMb2FkLmNhbmNlbCgpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5lKHt9LHRoaXMuX29wdGlvbnMse3R5cGU6dGhpcy50eXBlLGRhdGE6dGhpcy5fZGF0YX0pfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9fSx2aWRlbzpjbGFzcyBleHRlbmRzIGUuYXB7Y29uc3RydWN0b3IoZSx0LGksbyl7c3VwZXIoZSx0LGksbyksdGhpcy5yb3VuZFpvb209ITAsdGhpcy50eXBlPVwidmlkZW9cIix0aGlzLm9wdGlvbnM9dDt9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMTtjb25zdCB0PXRoaXMub3B0aW9uczt0aGlzLnVybHM9W107Zm9yKGNvbnN0IGkgb2YgdC51cmxzKXRoaXMudXJscy5wdXNoKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGksZS5SLlNvdXJjZSkudXJsKTtlLmFxKHRoaXMudXJscywoKHQsaSk9Pnt0aGlzLl9sb2FkZWQ9ITAsdD90aGlzLmZpcmUobmV3IGUuYSh0KSk6aSYmKHRoaXMudmlkZW89aSx0aGlzLnZpZGVvLmxvb3A9ITAsdGhpcy52aWRlby5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwoKCk9Pnt0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpO30pKSx0aGlzLm1hcCYmdGhpcy52aWRlby5wbGF5KCksdGhpcy5fZmluaXNoTG9hZGluZygpKTt9KSk7fXBhdXNlKCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wYXVzZSgpO31wbGF5KCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wbGF5KCk7fXNlZWsodCl7aWYodGhpcy52aWRlbyl7Y29uc3QgaT10aGlzLnZpZGVvLnNlZWthYmxlO3Q8aS5zdGFydCgwKXx8dD5pLmVuZCgwKT90aGlzLmZpcmUobmV3IGUuYShuZXcgVChgc291cmNlcy4ke3RoaXMuaWR9YCxudWxsLGBQbGF5YmFjayBmb3IgdGhpcyB2aWRlbyBjYW4gYmUgc2V0IG9ubHkgYmV0d2VlbiB0aGUgJHtpLnN0YXJ0KDApfSBhbmQgJHtpLmVuZCgwKX0tc2Vjb25kIG1hcmsuYCkpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXQ7fX1nZXRWaWRlbygpe3JldHVybiB0aGlzLnZpZGVvfW9uQWRkKGUpe3RoaXMubWFwfHwodGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLnZpZGVvJiYodGhpcy52aWRlby5wbGF5KCksdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSkpO31wcmVwYXJlKCl7aWYoMD09PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aHx8dGhpcy52aWRlby5yZWFkeVN0YXRlPDIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGk9dC5nbDt0aGlzLnRleHR1cmU/dGhpcy52aWRlby5wYXVzZWR8fCh0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpLGkudGV4U3ViSW1hZ2UyRChpLlRFWFRVUkVfMkQsMCwwLDAsaS5SR0JBLGkuVU5TSUdORURfQllURSx0aGlzLnZpZGVvKSk6KHRoaXMudGV4dHVyZT1uZXcgZS5UKHQsdGhpcy52aWRlbyxpLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksdGhpcy53aWR0aD10aGlzLnZpZGVvLnZpZGVvV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy5fcHJlcGFyZURhdGEodCk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9fSxpbWFnZTplLmFwLG1vZGVsOmNsYXNzIGV4dGVuZHMgZS5Fe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMudHlwZT1cIm1vZGVsXCIsdGhpcy5tb2RlbHM9W10sdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9dDt9bG9hZCgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgaW4gdGhpcy5fb3B0aW9ucy5tb2RlbHMpe2NvbnN0IG89dGhpcy5fb3B0aW9ucy5tb2RlbHNbaV0scj1lLmwodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3Qoby51cmksZS5SLk1vZGVsKS51cmwpLnRoZW4oKHQ9PntpZighdClyZXR1cm47Y29uc3Qgcj1lLmModCkscz1uZXcgZS5NKGksby5wb3NpdGlvbixvLm9yaWVudGF0aW9uLHIpO3MuY29tcHV0ZUJvdW5kc0FuZEFwcGx5UGFyZW50KCksdGhpcy5tb2RlbHMucHVzaChzKTt9KSkuY2F0Y2goKHQ9Pnt0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIG1vZGVsICR7aX0gZnJvbSAke28udXJpfTogJHt0Lm1lc3NhZ2V9YCkpKTt9KSk7dC5wdXNoKHIpO31yZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKHQpLnRoZW4oKCgpPT57dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKTt9KSkuY2F0Y2goKHQ9Pnt0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIG1vZGVsczogJHt0Lm1lc3NhZ2V9YCkpKTt9KSl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWdldE1vZGVscygpe3JldHVybiB0aGlzLm1vZGVsc31sb2FkVGlsZShlLHQpe31zZXJpYWxpemUoKXtyZXR1cm4ge3R5cGU6XCJtb2RlbFwifX19LFwiYmF0Y2hlZC1tb2RlbFwiOmNsYXNzIGV4dGVuZHMgZS5Fe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3N1cGVyKCksdGhpcy50eXBlPVwiYmF0Y2hlZC1tb2RlbFwiLHRoaXMuaWQ9ZSx0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9vcHRpb25zPXQsdGhpcy50aWxlcz10aGlzLl9vcHRpb25zLnRpbGVzLHRoaXMubWF4em9vbT10Lm1heHpvb218fDE5LHRoaXMubWluem9vbT10Lm1pbnpvb218fDAsdGhpcy5yb3VuZFpvb209ITAsdGhpcy51c2VkSW5Db25mbGF0aW9uPSEwLHRoaXMuZGlzcGF0Y2hlcj1pLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITEsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KG8pO31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31sb2FkKHQpe3RoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3QgaT1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2Usbz10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1BZSh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcixpLG8sKChyLHMpPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHI/KGkmJmNvbnNvbGUud2FybihgRW5zdXJlIHRoYXQgeW91ciByZXF1ZXN0ZWQgbGFuZ3VhZ2Ugc3RyaW5nIGlzIGEgdmFsaWQgQkNQLTQ3IGNvZGUgb3IgbGlzdCBvZiBjb2Rlcy4gRm91bmQ6ICR7aX1gKSxvJiYyIT09by5sZW5ndGgmJmNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHtvfWApLHRoaXMuZmlyZShuZXcgZS5hKHIpKSk6cyYmKGUuZSh0aGlzLHMpLHMuYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBSZShzLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5haihzLnRpbGVzLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pLHRoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSksdCYmdChyKTt9KSk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9aGFzVGlsZShlKXtyZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxyPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sZS5SLlRpbGUpLGRhdGE6dm9pZCAwLHVpZDp0LnVpZCx0aWxlSUQ6dC50aWxlSUQsdGlsZVpvb206dC50aWxlWm9vbSx6b29tOnQudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqdC50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZSxicmlnaHRuZXNzOnRoaXMubWFwLnN0eWxlJiZ0aGlzLm1hcC5zdHlsZS5nZXRCcmlnaHRuZXNzKCl8fDB9O2lmKHQuYWN0b3ImJlwiZXhwaXJlZFwiIT09dC5zdGF0ZSlpZihcImxvYWRpbmdcIj09PXQuc3RhdGUpdC5yZWxvYWRDYWxsYmFjaz1pO2Vsc2Uge2lmKHQuYnVja2V0cyl7Y29uc3QgZT1PYmplY3QudmFsdWVzKHQuYnVja2V0cyk7Zm9yKGNvbnN0IHQgb2YgZSl0LmRpcnR5PSEwO3JldHVybiB2b2lkKHQuc3RhdGU9XCJsb2FkZWRcIil9dC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixyLHMuYmluZCh0aGlzKSk7fWVsc2UgdC5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0LnJlcXVlc3Q9dC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLHMuYmluZCh0aGlzKSx2b2lkIDAsITApO2Z1bmN0aW9uIHMoZSxvKXtyZXR1cm4gdC5hYm9ydGVkP2kobnVsbCk6ZSYmNDA0IT09ZS5zdGF0dXM/aShlKToobyYmKG8ucmVzb3VyY2VUaW1pbmcmJih0LnJlc291cmNlVGltaW5nPW8ucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEobyksdC5idWNrZXRzPXsuLi50LmJ1Y2tldHMsLi4uby5idWNrZXRzfSxvLmZlYXR1cmVJbmRleCYmKHQubGF0ZXN0RmVhdHVyZUluZGV4PW8uZmVhdHVyZUluZGV4KSksdC5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgaShudWxsKSl9fXNlcmlhbGl6ZSgpe3JldHVybiBlLmUoe30sdGhpcy5fb3B0aW9ucyl9fSxjYW52YXM6Y2xhc3MgZXh0ZW5kcyBlLmFwe2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKHQsaSxvLHIpLGkuY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShpLmNvb3JkaW5hdGVzKSYmND09PWkuY29vcmRpbmF0ZXMubGVuZ3RoJiYhaS5jb29yZGluYXRlcy5zb21lKChlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSkpKXx8dGhpcy5maXJlKG5ldyBlLmEobmV3IFQoYHNvdXJjZXMuJHt0fWAsbnVsbCwnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgZS5hKG5ldyBUKGBzb3VyY2VzLiR7dH1gLG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjb29yZGluYXRlc1wiJykpKSxpLmFuaW1hdGUmJlwiYm9vbGVhblwiIT10eXBlb2YgaS5hbmltYXRlJiZ0aGlzLmZpcmUobmV3IGUuYShuZXcgVChgc291cmNlcy4ke3R9YCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksaS5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIGkuY2FudmFzfHxpLmNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0aGlzLmZpcmUobmV3IGUuYShuZXcgVChgc291cmNlcy4ke3R9YCxudWxsLCdcImNhbnZhc1wiIG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgdGhlIGNhbnZhcyBlbGVtZW50IGZyb20gd2hpY2ggdG8gcmVhZCwgb3IgYW4gSFRNTENhbnZhc0VsZW1lbnQgaW5zdGFuY2UnKSkpOnRoaXMuZmlyZShuZXcgZS5hKG5ldyBUKGBzb3VyY2VzLiR7dH1gLG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjYW52YXNcIicpKSksdGhpcy5vcHRpb25zPWksdGhpcy5hbmltYXRlPXZvaWQgMD09PWkuYW5pbWF0ZXx8aS5hbmltYXRlO31sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuY2FudmFzfHwodGhpcy5jYW52YXM9dGhpcy5vcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50P3RoaXMub3B0aW9ucy5jYW52YXM6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcykpLHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCk/dGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiQ2FudmFzIGRpbWVuc2lvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvLlwiKSkpOih0aGlzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwLHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCk7fSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpO30sdGhpcy5fZmluaXNoTG9hZGluZygpKTt9Z2V0Q2FudmFzKCl7cmV0dXJuIHRoaXMuY2FudmFzfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCksdGhpcy5jYW52YXMmJnRoaXMuYW5pbWF0ZSYmdGhpcy5wbGF5KCk7fW9uUmVtb3ZlKCl7dGhpcy5wYXVzZSgpO31wcmVwYXJlKCl7bGV0IHQ9ITE7aWYodGhpcy5jYW52YXMud2lkdGghPT10aGlzLndpZHRoJiYodGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0PSEwKSx0aGlzLmNhbnZhcy5oZWlnaHQhPT10aGlzLmhlaWdodCYmKHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0PSEwKSx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKXJldHVybjtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoKXJldHVybjtjb25zdCBpPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dDt0aGlzLnRleHR1cmU/IXQmJiF0aGlzLl9wbGF5aW5nfHx0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBlLmFyfHx0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuY2FudmFzLHtwcmVtdWx0aXBseTohMH0pOnRoaXMudGV4dHVyZT1uZXcgZS5UKGksdGhpcy5jYW52YXMsaS5nbC5SR0JBLHtwcmVtdWx0aXBseTohMH0pLHRoaXMuX3ByZXBhcmVEYXRhKGkpO31zZXJpYWxpemUoKXtyZXR1cm4ge3R5cGU6XCJjYW52YXNcIixjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXlpbmd9X2hhc0ludmFsaWREaW1lbnNpb25zKCl7Zm9yKGNvbnN0IGUgb2YgW3RoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodF0paWYoaXNOYU4oZSl8fGU8PTApcmV0dXJuICEwO3JldHVybiAhMX19LGN1c3RvbTpjbGFzcyBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0LGksbyxyKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLnR5cGU9XCJjdXN0b21cIix0aGlzLl9kYXRhVHlwZT1cInJhc3RlclwiLHRoaXMuX2Rpc3BhdGNoZXI9byx0aGlzLl9pbXBsZW1lbnRhdGlvbj1pLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5faW1wbGVtZW50YXRpb258fHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZXx8dGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBNaXNzaW5nIGxvYWRUaWxlIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgUmUodGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxpLnVwZGF0ZT10aGlzLl91cGRhdGUuYmluZCh0aGlzKSxpLmNsZWFyVGlsZXM9dGhpcy5fY2xlYXJUaWxlcy5iaW5kKHRoaXMpLGkuY292ZXJpbmdUaWxlcz10aGlzLl9jb3ZlcmluZ1RpbGVzLmJpbmQodGhpcyksZS5lKHRoaXMsZS5hYyhpLFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5hYyh0aGlzLFtcInR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCJdKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZCh0KXt0aGlzLl9tYXA9dCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCh0KSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoZSl7dGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUpO31oYXNUaWxlKGUpe2lmKHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUpe2NvbnN0e3g6dCx5OmksejpvfT1lLmNhbm9uaWNhbDtyZXR1cm4gdGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSh7eDp0LHk6aSx6Om99KX1yZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZShlLHQpe2NvbnN0e3g6aSx5Om8sejpyfT1lLnRpbGVJRC5jYW5vbmljYWwscz1uZXcgQWJvcnRDb250cm9sbGVyO2UucmVxdWVzdD1Qcm9taXNlLnJlc29sdmUodGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGUoe3g6aSx5Om8sejpyfSx7c2lnbmFsOnMuc2lnbmFsfSkpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkPyhlLnN0YXRlPVwidW5sb2FkZWRcIix0KG51bGwpKTp2b2lkIDA9PT1pPyhlLnN0YXRlPVwiZXJyb3JlZFwiLHQobnVsbCkpOm51bGw9PT1pPyh0aGlzLmxvYWRUaWxlRGF0YShlLHt3aWR0aDp0aGlzLnRpbGVTaXplLGhlaWdodDp0aGlzLnRpbGVTaXplLGRhdGE6bnVsbH0pLGUuc3RhdGU9XCJsb2FkZWRcIix0KG51bGwpKTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEltYWdlRGF0YXx8ZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHxlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXB8fGUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fShpKT8odGhpcy5sb2FkVGlsZURhdGEoZSxpKSxlLnN0YXRlPVwibG9hZGVkXCIsdm9pZCB0KG51bGwpKTooZS5zdGF0ZT1cImVycm9yZWRcIix0KG5ldyBFcnJvcihgQ2FuJ3QgaW5mZXIgZGF0YSB0eXBlIGZvciAke3RoaXMuaWR9LCBvbmx5IHJhc3RlciBkYXRhIHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50YCkpKX0uYmluZCh0aGlzKSkuY2F0Y2goKGk9PnsyMCE9PWkuY29kZSYmKGUuc3RhdGU9XCJlcnJvcmVkXCIsdChpKSk7fSkpLGUucmVxdWVzdC5jYW5jZWw9KCk9PnMuYWJvcnQoKTt9bG9hZFRpbGVEYXRhKGUsdCl7ZS5zZXRUZXh0dXJlKHQsdGhpcy5fbWFwLnBhaW50ZXIpO311bmxvYWRUaWxlKHQsaSl7aWYodC50ZXh0dXJlJiZ0LnRleHR1cmUgaW5zdGFuY2VvZiBlLlQ/KHQuZGVzdHJveSghMCksdC50ZXh0dXJlJiZ0LnRleHR1cmUgaW5zdGFuY2VvZiBlLlQmJnRoaXMuX21hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0LnRleHR1cmUpKTp0LmRlc3Ryb3koKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKXtjb25zdHt4OmUseTppLHo6b309dC50aWxlSUQuY2Fub25pY2FsO3RoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUoe3g6ZSx5OmksejpvfSk7fWkoKTt9YWJvcnRUaWxlKGUsdCl7ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuY2FuY2VsJiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLHQoKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1fY292ZXJpbmdUaWxlcygpe3JldHVybiB0aGlzLl9tYXAudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMudGlsZVNpemUsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20scm91bmRab29tOnRoaXMucm91bmRab29tfSkubWFwKChlPT4oe3g6ZS5jYW5vbmljYWwueCx5OmUuY2Fub25pY2FsLnksejplLmNhbm9uaWNhbC56fSkpKX1fY2xlYXJUaWxlcygpe2NvbnN0IHQ9ZS5hZyh0aGlzLmlkLHRoaXMuc2NvcGUpO3RoaXMuX21hcC5zdHlsZS5jbGVhclNvdXJjZSh0KTt9X3VwZGF0ZSgpe3RoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpO319fSxWdD1mdW5jdGlvbih0LGksbyxyKXtjb25zdCBzPW5ldyBqdFtpLnR5cGVdKHQsaSxvLHIpO2lmKHMuaWQhPT10KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7dH0gaW5zdGVhZCBvZiAke3MuaWR9YCk7cmV0dXJuIGUuYVkoW1wibG9hZFwiLFwiYWJvcnRcIixcInVubG9hZFwiLFwic2VyaWFsaXplXCIsXCJwcmVwYXJlXCJdLHMpLHN9O2Z1bmN0aW9uIFp0KHQsaSl7Y29uc3Qgbz1lLmE2LmlkZW50aXR5KFtdKTtyZXR1cm4gZS5hNi5zY2FsZShvLG8sWy41KnQud2lkdGgsLjUqLXQuaGVpZ2h0LDFdKSxlLmE2LnRyYW5zbGF0ZShvLG8sWzEsLTEsMF0pLGUuYTYubXVsdGlwbHkobyxvLHQuY2FsY3VsYXRlUHJvak1hdHJpeChpLnRvVW53cmFwcGVkKCkpKSxGbG9hdDMyQXJyYXkuZnJvbShvKX1mdW5jdGlvbiBIdChlLHQsaSxvLHIscyxuLGE9ITEpe2NvbnN0IGw9ZS50aWxlc0luKG8sbixhKTtsLnNvcnQocXQpO2NvbnN0IGM9W107Zm9yKGNvbnN0IG8gb2YgbCljLnB1c2goe3dyYXBwZWRUaWxlSUQ6by50aWxlLnRpbGVJRC53cmFwcGVkKCkua2V5LHF1ZXJ5UmVzdWx0czpvLnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSxlLl9zdGF0ZSxvLHIscyxadChlLnRyYW5zZm9ybSxvLnRpbGUudGlsZUlEKSxhKX0pO2NvbnN0IGg9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxpPXt9O2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9by5xdWVyeVJlc3VsdHMscj1vLndyYXBwZWRUaWxlSUQscz1pW3JdPWlbcl18fHt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IG89ZVtpXSxyPXNbaV09c1tpXXx8e30sbj10W2ldPXRbaV18fFtdO2Zvcihjb25zdCBlIG9mIG8pcltlLmZlYXR1cmVJbmRleF18fChyW2UuZmVhdHVyZUluZGV4XT0hMCxuLnB1c2goZSkpO319cmV0dXJuIHR9KGMpO2Zvcihjb25zdCB0IGluIGgpaFt0XS5mb3JFYWNoKCh0PT57Y29uc3QgaT10LmZlYXR1cmUsbz1pLmxheWVyO28mJlwiYmFja2dyb3VuZFwiIT09by50eXBlJiZcInNreVwiIT09by50eXBlJiZcInNsb3RcIiE9PW8udHlwZSYmKGkuc291cmNlPW8uc291cmNlLG9bXCJzb3VyY2UtbGF5ZXJcIl0mJihpLnNvdXJjZUxheWVyPW9bXCJzb3VyY2UtbGF5ZXJcIl0pLGkuc3RhdGU9dm9pZCAwIT09aS5pZD9lLmdldEZlYXR1cmVTdGF0ZShvW1wic291cmNlLWxheWVyXCJdLGkuaWQpOnt9KTt9KSk7cmV0dXJuIGh9ZnVuY3Rpb24gV3QoZSx0KXtjb25zdCBpPWUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpLG89W10scj17fTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgcz1pW2VdLG49cy50aWxlSUQuY2Fub25pY2FsLmtleTtyW25dfHwocltuXT0hMCxzLnF1ZXJ5U291cmNlRmVhdHVyZXMobyx0KSk7fXJldHVybiBvfWZ1bmN0aW9uIHF0KGUsdCl7Y29uc3QgaT1lLnRpbGVJRCxvPXQudGlsZUlEO3JldHVybiBpLm92ZXJzY2FsZWRaLW8ub3ZlcnNjYWxlZFp8fGkuY2Fub25pY2FsLnktby5jYW5vbmljYWwueXx8aS53cmFwLW8ud3JhcHx8aS5jYW5vbmljYWwueC1vLmNhbm9uaWNhbC54fWNsYXNzICR0IGV4dGVuZHMgR3R7Y29uc3RydWN0b3IoZSx0LGksbyxyKXtzdXBlcihlLHQsaSxvLHIpLHRoaXMuX3dvcmtRdWV1ZT1bXSx0aGlzLl9mZXRjaFF1ZXVlPVtdLHRoaXMuX2lzSGVhZGVyTG9hZGVkPSExO31zZXRUZXh0dXJlKHQsaSl7Y29uc3Qgbz1pLmNvbnRleHQscj1vLmdsO3RoaXMudGV4dHVyZT10aGlzLnRleHR1cmV8fGkuZ2V0VGlsZVRleHR1cmUodC53aWR0aCksdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBlLlQ/dGhpcy50ZXh0dXJlLnVwZGF0ZSh0LHt1c2VNaXBtYXA6ITEscHJlbXVsdGlwbHk6ITF9KTp0aGlzLnRleHR1cmU9bmV3IGUuVChvLHQsci5SR0JBLHt1c2VNaXBtYXA6ITEscHJlbXVsdGlwbHk6ITF9KTt9Zmx1c2hRdWV1ZXMoKXtmb3IoO3RoaXMuX3dvcmtRdWV1ZS5sZW5ndGg7KXRoaXMuX3dvcmtRdWV1ZS5wb3AoKSgpO2Zvcig7dGhpcy5fZmV0Y2hRdWV1ZS5sZW5ndGg7KXRoaXMuX2ZldGNoUXVldWUucG9wKCkoKTt9ZmV0Y2hIZWFkZXIodD0xNjM4NCxpKXtjb25zdCBvPXRoaXMuX21ydD1uZXcgZS5hWigzMCkscj1PYmplY3QuYXNzaWduKHt9LHRoaXMucmVxdWVzdFBhcmFtcyx7aGVhZGVyczp7UmFuZ2U6XCJieXRlcz0wLVwiKyh0LTEpfX0pO3JldHVybiB0aGlzLmVudGlyZUJ1ZmZlcj1udWxsLHRoaXMucmVxdWVzdD1lLmFfKHIsKChlLHIscyxuKT0+e2lmKGUpaShlKTtlbHNlIHRyeXtjb25zdCBlPW8uZ2V0SGVhZGVyTGVuZ3RoKHIpO2lmKGU+dClyZXR1cm4gdm9pZCh0aGlzLnJlcXVlc3Q9dGhpcy5mZXRjaEhlYWRlcihlLGkpKTtvLnBhcnNlSGVhZGVyKHIpLHRoaXMuX2lzSGVhZGVyTG9hZGVkPSEwO2xldCBhPTA7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LnZhbHVlcyhvLmxheWVycykpYT1NYXRoLm1heChhLGUuZGF0YUluZGV4W2UuZGF0YUluZGV4Lmxlbmd0aC0xXS5sYXN0X2J5dGUpO3IuYnl0ZUxlbmd0aD49YSYmKHRoaXMuZW50aXJlQnVmZmVyPXIpLGkobnVsbCx0aGlzLmVudGlyZUJ1ZmZlcnx8cixzLG4pO31jYXRjaChlKXtpKGUpO319KSksdGhpcy5yZXF1ZXN0fWZldGNoQmFuZCh0LGksbyl7Y29uc3Qgcj10aGlzLl9tcnQ7aWYoIXRoaXMuX2lzSGVhZGVyTG9hZGVkfHwhcilyZXR1cm4gdm9pZCBvKG5ldyBFcnJvcihcIlRpbGUgaGVhZGVyIGlzIG5vdCByZWFkeVwiKSk7Y29uc3Qgcz10aGlzLmFjdG9yO2lmKCFzKXJldHVybiB2b2lkIG8obmV3IEVycm9yKFwiQ2FuJ3QgZmV0Y2ggdGlsZSBiYW5kIHdpdGhvdXQgYW4gYWN0b3JcIikpO2xldCBuO2NvbnN0IGE9KGUscik9PntuLmNvbXBsZXRlKGUsciksZT9vKGUpOih0aGlzLnVwZGF0ZVRleHR1cmVEZXNjcmlwdG9yKHQsaSksbyhudWxsLHRoaXMudGV4dHVyZURlc2NyaXB0b3ImJnRoaXMudGV4dHVyZURlc2NyaXB0b3IuaW1nKSk7fSxsPShlLHQpPT57aWYoZSlyZXR1cm4gbyhlKTtjb25zdCBpPXMuc2VuZChcImRlY29kZVJhc3RlckFycmF5XCIse2J1ZmZlcjp0LHRhc2s6bn0sYSx2b2lkIDAsITApO3RoaXMuX3dvcmtRdWV1ZS5wdXNoKCgoKT0+e2kmJmkuY2FuY2VsKCksbi5jYW5jZWwoKTt9KSk7fSxjPXIuZ2V0TGF5ZXIodCk7aWYoIWMpcmV0dXJuIHZvaWQgbyhuZXcgRXJyb3IoYFVua25vd24gc291cmNlTGF5ZXIgXCIke3R9XCJgKSk7aWYoYy5oYXNEYXRhRm9yQmFuZChpKSlyZXR1cm4gdGhpcy51cGRhdGVUZXh0dXJlRGVzY3JpcHRvcih0LGkpLHZvaWQgbyhudWxsLHRoaXMudGV4dHVyZURlc2NyaXB0b3I/dGhpcy50ZXh0dXJlRGVzY3JpcHRvci5pbWc6bnVsbCk7Y29uc3QgaD1jLmdldERhdGFSYW5nZShbaV0pO2lmKG49ci5jcmVhdGVEZWNvZGluZ1Rhc2soaCksIW58fG4udGFza3MubGVuZ3RoKWlmKHRoaXMuZmx1c2hRdWV1ZXMoKSx0aGlzLmVudGlyZUJ1ZmZlcilsKG51bGwsdGhpcy5lbnRpcmVCdWZmZXIuc2xpY2UoaC5maXJzdEJ5dGUsaC5sYXN0Qnl0ZSsxKSk7ZWxzZSB7Y29uc3QgdD1PYmplY3QuYXNzaWduKHt9LHRoaXMucmVxdWVzdFBhcmFtcyx7aGVhZGVyczp7UmFuZ2U6YGJ5dGVzPSR7aC5maXJzdEJ5dGV9LSR7aC5sYXN0Qnl0ZX1gfX0pLGk9ZS5hXyh0LGwpO3RoaXMuX2ZldGNoUXVldWUucHVzaCgoKCk9PntpLmNhbmNlbCgpLG4uY2FuY2VsKCk7fSkpO31lbHNlIG8obnVsbCk7fXVwZGF0ZU5lZWRlZChlLHQpe3JldHVybiAoIXRoaXMudGV4dHVyZURlc2NyaXB0b3J8fHRoaXMudGV4dHVyZURlc2NyaXB0b3IuYmFuZCE9PXR8fHRoaXMudGV4dHVyZURlc2NyaXB0b3IubGF5ZXIhPT1lKSYmXCJlcnJvcmVkXCIhPT10aGlzLnN0YXRlfXVwZGF0ZVRleHR1cmVEZXNjcmlwdG9yKHQsaSl7aWYoIXRoaXMuX21ydClyZXR1cm47Y29uc3Qgbz10aGlzLl9tcnQuZ2V0TGF5ZXIodCk7aWYoIW98fCFvLmhhc0JhbmQoaSl8fCFvLmhhc0RhdGFGb3JCYW5kKGkpKXJldHVybjtjb25zdHtieXRlczpyLHRpbGVTaXplOnMsYnVmZmVyOm4sb2Zmc2V0OmEsc2NhbGU6bH09by5nZXRCYW5kVmlldyhpKSxjPXMrMipuLGg9e2RhdGE6cix3aWR0aDpjLGhlaWdodDpjfSx1PXRoaXMudGV4dHVyZTt1JiZ1IGluc3RhbmNlb2YgZS5UJiZ1LnVwZGF0ZShoLHt1c2VNaXBtYXA6ITEscHJlbXVsdGlwbHk6ITF9KSx0aGlzLnRleHR1cmVEZXNjcmlwdG9yPXtsYXllcjp0LGJhbmQ6aSxpbWc6aCxidWZmZXI6bixvZmZzZXQ6YSx0aWxlU2l6ZTpzLGZvcm1hdDpvLnBpeGVsRm9ybWF0LG1peDpbbCwyNTYqbCw2NTUzNipsLDE2Nzc3MjE2KmxdfTt9fWNsYXNzIFh0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tYXg9ZSx0aGlzLm9uUmVtb3ZlPXQsdGhpcy5yZXNldCgpO31yZXNldCgpe2Zvcihjb25zdCBlIGluIHRoaXMuZGF0YSlmb3IoY29uc3QgdCBvZiB0aGlzLmRhdGFbZV0pdC50aW1lb3V0JiZjbGVhclRpbWVvdXQodC50aW1lb3V0KSx0aGlzLm9uUmVtb3ZlKHQudmFsdWUpO3JldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfWFkZChlLHQsaSl7Y29uc3Qgbz1lLndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW29dJiYodGhpcy5kYXRhW29dPVtdKTtjb25zdCByPXt2YWx1ZTp0LHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1pJiYoci50aW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5yZW1vdmUoZSxyKTt9KSxpKSksdGhpcy5kYXRhW29dLnB1c2gociksdGhpcy5vcmRlci5wdXNoKG8pLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSk7fXJldHVybiB0aGlzfWhhcyhlKXtyZXR1cm4gZS53cmFwcGVkKCkua2V5IGluIHRoaXMuZGF0YX1nZXRBbmRSZW1vdmUoZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KGUud3JhcHBlZCgpLmtleSk6bnVsbH1fZ2V0QW5kUmVtb3ZlQnlLZXkoZSl7Y29uc3QgdD10aGlzLmRhdGFbZV0uc2hpZnQoKTtyZXR1cm4gdC50aW1lb3V0JiZjbGVhclRpbWVvdXQodC50aW1lb3V0KSwwPT09dGhpcy5kYXRhW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtlXSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YoZSksMSksdC52YWx1ZX1nZXRCeUtleShlKXtjb25zdCB0PXRoaXMuZGF0YVtlXTtyZXR1cm4gdD90WzBdLnZhbHVlOm51bGx9Z2V0KGUpe3JldHVybiB0aGlzLmhhcyhlKT90aGlzLmRhdGFbZS53cmFwcGVkKCkua2V5XVswXS52YWx1ZTpudWxsfXJlbW92ZShlLHQpe2lmKCF0aGlzLmhhcyhlKSlyZXR1cm4gdGhpcztjb25zdCBpPWUud3JhcHBlZCgpLmtleSxvPXZvaWQgMD09PXQ/MDp0aGlzLmRhdGFbaV0uaW5kZXhPZih0KSxyPXRoaXMuZGF0YVtpXVtvXTtyZXR1cm4gdGhpcy5kYXRhW2ldLnNwbGljZShvLDEpLHIudGltZW91dCYmY2xlYXJUaW1lb3V0KHIudGltZW91dCksMD09PXRoaXMuZGF0YVtpXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbaV0sdGhpcy5vblJlbW92ZShyLnZhbHVlKSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YoaSksMSksdGhpc31zZXRNYXhTaXplKGUpe2Zvcih0aGlzLm1heD1lO3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7Y29uc3QgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpO31yZXR1cm4gdGhpc31maWx0ZXIoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IG8gb2YgdGhpcy5kYXRhW2ldKWUoby52YWx1ZSl8fHQucHVzaChvKTtmb3IoY29uc3QgZSBvZiB0KXRoaXMucmVtb3ZlKGUudmFsdWUudGlsZUlELGUpO319Y2xhc3MgS3QgZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMuX29ubHlTeW1ib2xzPWksdC5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT1lLnNvdXJjZURhdGFUeXBlJiYodGhpcy5fc291cmNlTG9hZGVkPSEwKSx0aGlzLl9zb3VyY2VMb2FkZWQmJiF0aGlzLl9wYXVzZWQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcImNvbnRlbnRcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO30pKSx0Lm9uKFwiZXJyb3JcIiwoKCk9Pnt0aGlzLl9zb3VyY2VFcnJvcmVkPSEwO30pKSx0aGlzLl9zb3VyY2U9dCx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgWHQoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLmNhc3RzU2hhZG93cz0hMSx0aGlzLnRpbGVDb3ZlckxpZnQ9MCx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc2hhZG93Q2FzdGVyVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IHksdGhpcy5faXNSYXN0ZXI9XCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcInJhc3Rlci1hcnJheVwiPT09dGhpcy5fc291cmNlLnR5cGV8fFwiY3VzdG9tXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmXCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS5fZGF0YVR5cGU7fW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT12b2lkIDA9PT10aGlzLl9taW5UaWxlQ2FjaGVTaXplJiZlP2UuX21pblRpbGVDYWNoZVNpemU6dGhpcy5fbWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21heFRpbGVDYWNoZVNpemUmJmU/ZS5fbWF4VGlsZUNhY2hlU2l6ZTp0aGlzLl9tYXhUaWxlQ2FjaGVTaXplO31sb2FkZWQoKXtpZih0aGlzLl9zb3VyY2VFcnJvcmVkKXJldHVybiAhMDtpZighdGhpcy5fc291cmNlTG9hZGVkKXJldHVybiAhMTtpZighdGhpcy5fc291cmNlLmxvYWRlZCgpKXJldHVybiAhMTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTtpZihcImVycm9yZWRcIiE9PXQuc3RhdGUmJihcImxvYWRlZFwiIT09dC5zdGF0ZXx8IXQuYnVja2V0c0xvYWRlZCgpKSlyZXR1cm4gITF9cmV0dXJuICEwfWdldFNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9cGF1c2UoKXt0aGlzLl9wYXVzZWQ9ITA7fXJlc3VtZSgpe2lmKCF0aGlzLl9wYXVzZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU7dGhpcy5fcGF1c2VkPSExLHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLGUmJnRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTt9X2xvYWRUaWxlKGUsdCl7cmV0dXJuIGUuaXNTeW1ib2xUaWxlPXRoaXMuX29ubHlTeW1ib2xzLGUuaXNFeHRyYVNoYWRvd0Nhc3Rlcj10aGlzLl9zaGFkb3dDYXN0ZXJUaWxlc1tlLnRpbGVJRC5rZXldLHRoaXMuX3NvdXJjZS5sb2FkVGlsZShlLHQpfV91bmxvYWRUaWxlKGUpe2lmKHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZShlLCgoKT0+e30pKX1fYWJvcnRUaWxlKGUpe2lmKHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUpcmV0dXJuIHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUoZSwoKCk9Pnt9KSl9c2VyaWFsaXplKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKX1wcmVwYXJlKGUpe3RoaXMuX3NvdXJjZS5wcmVwYXJlJiZ0aGlzLl9zb3VyY2UucHJlcGFyZSgpLHRoaXMuX3N0YXRlLmNvYWxlc2NlQ2hhbmdlcyh0aGlzLl90aWxlcyx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpO2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCBpPXRoaXMuX3RpbGVzW3RdO2kudXBsb2FkKGUpLGkucHJlcGFyZSh0aGlzLm1hcC5zdHlsZS5pbWFnZU1hbmFnZXIsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsLHRoaXMuX3NvdXJjZS5zY29wZSk7fX1nZXRJZHMoKXtyZXR1cm4gZS5hJCh0aGlzLl90aWxlcykubWFwKChlPT5lLnRpbGVJRCkpLnNvcnQoWXQpLm1hcCgoZT0+ZS5rZXkpKX1nZXRSZW5kZXJhYmxlSWRzKHQsaSl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl9pc0lkUmVuZGVyYWJsZSgrZSx0LGkpJiZvLnB1c2godGhpcy5fdGlsZXNbZV0pO3JldHVybiB0P28uc29ydCgoKHQsaSk9Pntjb25zdCBvPXQudGlsZUlELHI9aS50aWxlSUQscz1uZXcgZS5QKG8uY2Fub25pY2FsLngsby5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSksbj1uZXcgZS5QKHIuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIG8ub3ZlcnNjYWxlZFotci5vdmVyc2NhbGVkWnx8bi55LXMueXx8bi54LXMueH0pKS5tYXAoKGU9PmUudGlsZUlELmtleSkpOm8ubWFwKChlPT5lLnRpbGVJRCkpLnNvcnQoWXQpLm1hcCgoZT0+ZS5rZXkpKX1oYXNSZW5kZXJhYmxlUGFyZW50KGUpe2NvbnN0IHQ9dGhpcy5maW5kTG9hZGVkUGFyZW50KGUsMCk7cmV0dXJuICEhdCYmdGhpcy5faXNJZFJlbmRlcmFibGUodC50aWxlSUQua2V5KX1faXNJZFJlbmRlcmFibGUoZSx0LGkpe3JldHVybiB0aGlzLl90aWxlc1tlXSYmdGhpcy5fdGlsZXNbZV0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW2VdJiYodHx8IXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkpJiYoaXx8IXRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzW2VdKX1yZWxvYWQoKXtpZih0aGlzLl9wYXVzZWQpdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITA7ZWxzZSB7dGhpcy5fY2FjaGUucmVzZXQoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcylcImVycm9yZWRcIiE9PXRoaXMuX3RpbGVzW2VdLnN0YXRlJiZ0aGlzLl9yZWxvYWRUaWxlKCtlLFwicmVsb2FkaW5nXCIpO319X3JlbG9hZFRpbGUoZSx0KXtjb25zdCBpPXRoaXMuX3RpbGVzW2VdO2kmJihcImxvYWRpbmdcIiE9PWkuc3RhdGUmJihpLnN0YXRlPXQpLHRoaXMuX2xvYWRUaWxlKGksdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsaSxlLHQpKSk7fV90aWxlTG9hZGVkKHQsaSxvLHIpe2lmKHIpaWYodC5zdGF0ZT1cImVycm9yZWRcIiw0MDQhPT1yLnN0YXR1cyl0aGlzLl9zb3VyY2UuZmlyZShuZXcgZS5hKHIse3RpbGU6dH0pKTtlbHNlIHtpZighKHQudGlsZUlELmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcykpcmV0dXJuIHZvaWQgdGhpcy5fc291cmNlLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImVycm9yXCIsc291cmNlSWQ6dGhpcy5fc291cmNlLmlkfSkpO2lmKFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbil7Y29uc3QgZT10aGlzLm1hcC5wYWludGVyLnRlcnJhaW47dGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0sZS5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpLCEwKSxlLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpO31lbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTt9ZWxzZSB0LnRpbWVBZGRlZD1lLmYubm93KCksXCJleHBpcmVkXCI9PT1vJiYodC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGksdCksXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdC5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKHQpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyBlLmIoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsdGlsZTp0LGNvb3JkOnQudGlsZUlELHNvdXJjZUNhY2hlSWQ6dGhpcy5pZH0pKTt9X2JhY2tmaWxsREVNKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKCk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IHI9dFtvXTtpZihlLm5laWdoYm9yaW5nVGlsZXMmJmUubmVpZ2hib3JpbmdUaWxlc1tyXSl7Y29uc3QgdD10aGlzLmdldFRpbGVCeUlEKHIpO2koZSx0KSxpKHQsZSk7fX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUuZGVtfHxlLmRlbS5ib3JkZXJSZWFkeSlyZXR1cm47ZS5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITA7bGV0IGk9dC50aWxlSUQuY2Fub25pY2FsLngtZS50aWxlSUQuY2Fub25pY2FsLng7Y29uc3Qgbz10LnRpbGVJRC5jYW5vbmljYWwueS1lLnRpbGVJRC5jYW5vbmljYWwueSxyPU1hdGgucG93KDIsZS50aWxlSUQuY2Fub25pY2FsLnopLHM9dC50aWxlSUQua2V5OzA9PT1pJiYwPT09b3x8TWF0aC5hYnMobyk+MXx8KE1hdGguYWJzKGkpPjEmJigxPT09TWF0aC5hYnMoaStyKT9pKz1yOjE9PT1NYXRoLmFicyhpLXIpJiYoaS09cikpLHQuZGVtJiZlLmRlbSYmKGUuZGVtLmJhY2tmaWxsQm9yZGVyKHQuZGVtLGksbyksZS5uZWlnaGJvcmluZ1RpbGVzJiZlLm5laWdoYm9yaW5nVGlsZXNbc10mJihlLm5laWdoYm9yaW5nVGlsZXNbc10uYmFja2ZpbGxlZD0hMCkpKTt9fWdldFRpbGUoZSl7cmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQoZS5rZXkpfWdldFRpbGVCeUlEKGUpe3JldHVybiB0aGlzLl90aWxlc1tlXX1fcmV0YWluTG9hZGVkQ2hpbGRyZW4oZSx0LGksbyl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpe2xldCBzPXRoaXMuX3RpbGVzW3JdO2lmKG9bcl18fCFzLmhhc0RhdGEoKXx8cy50aWxlSUQub3ZlcnNjYWxlZFo8PXR8fHMudGlsZUlELm92ZXJzY2FsZWRaPmkpY29udGludWU7bGV0IG49cy50aWxlSUQ7Zm9yKDtzJiZzLnRpbGVJRC5vdmVyc2NhbGVkWj50KzE7KXtjb25zdCBlPXMudGlsZUlELnNjYWxlZFRvKHMudGlsZUlELm92ZXJzY2FsZWRaLTEpO3M9dGhpcy5fdGlsZXNbZS5rZXldLHMmJnMuaGFzRGF0YSgpJiYobj1lKTt9bGV0IGE9bjtmb3IoO2Eub3ZlcnNjYWxlZFo+dDspaWYoYT1hLnNjYWxlZFRvKGEub3ZlcnNjYWxlZFotMSksZVthLmtleV0pe29bbi5rZXldPW47YnJlYWt9fX1maW5kTG9hZGVkUGFyZW50KGUsdCl7aWYoZS5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2NvbnN0IGk9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbZS5rZXldO3JldHVybiBpJiZpLnRpbGVJRC5vdmVyc2NhbGVkWj49dD9pOm51bGx9Zm9yKGxldCBpPWUub3ZlcnNjYWxlZFotMTtpPj10O2ktLSl7Y29uc3QgdD1lLnNjYWxlZFRvKGkpLG89dGhpcy5fZ2V0TG9hZGVkVGlsZSh0KTtpZihvKXJldHVybiBvfX1fZ2V0TG9hZGVkVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2Uua2V5XTtyZXR1cm4gdCYmdC5oYXNEYXRhKCk/dDp0aGlzLl9jYWNoZS5nZXRCeUtleSh0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQ/ZS53cmFwcGVkKCkua2V5OmUuY2Fub25pY2FsLmtleSl9dXBkYXRlQ2FjaGVTaXplKGUsdCl7dD10fHx0aGlzLl9zb3VyY2UudGlsZVNpemU7Y29uc3QgaT1NYXRoLmNlaWwoZS53aWR0aC90KSsxLG89TWF0aC5jZWlsKGUuaGVpZ2h0L3QpKzEscj1NYXRoLmZsb29yKGkqbyo1KSxzPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9taW5UaWxlQ2FjaGVTaXplP01hdGgubWF4KHRoaXMuX21pblRpbGVDYWNoZVNpemUscik6cixuPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplP01hdGgubWluKHRoaXMuX21heFRpbGVDYWNoZVNpemUscyk6czt0aGlzLl9jYWNoZS5zZXRNYXhTaXplKG4pO31oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtKHZvaWQgMD09PXRoaXMuX3ByZXZMbmc/ZTp0aGlzLl9wcmV2TG5nKSkvMzYwKTtpZih0aGlzLl9wcmV2TG5nPWUsdCl7Y29uc3QgZT17fTtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgbz10aGlzLl90aWxlc1tpXTtvLnRpbGVJRD1vLnRpbGVJRC51bndyYXBUbyhvLnRpbGVJRC53cmFwK3QpLGVbby50aWxlSUQua2V5XT1vO310aGlzLl90aWxlcz1lO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbWVycyljbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcigrZSx0aGlzLl90aWxlc1tlXSk7fX11cGRhdGUodCxpLG8scil7aWYodGhpcy50cmFuc2Zvcm09dCwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIW8pcmV0dXJuO2xldCBzO2lmKHRoaXMudXBkYXRlQ2FjaGVTaXplKHQsaSksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzPXt9LHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4paWYodGhpcy5fc291cmNlLnRpbGVJRClzPXQuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcCgodD0+bmV3IGUuYW0odC5jYW5vbmljYWwueix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnkpKSk7ZWxzZSBpZigwIT09dGhpcy50aWxlQ292ZXJMaWZ0KXtjb25zdCByPXQuY2xvbmUoKTtyLnRpbGVDb3ZlckxpZnQ9dGhpcy50aWxlQ292ZXJMaWZ0LHM9ci5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTppfHx0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhbyxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KSx0aGlzLl9zb3VyY2UubWluem9vbTw9MSYmXCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWUmJihzLnB1c2gobmV3IGUuYW0oMSwwLDEsMCwwKSkscy5wdXNoKG5ldyBlLmFtKDEsMCwxLDEsMCkpLHMucHVzaChuZXcgZS5hbSgxLDAsMSwwLDEpKSxzLnB1c2gobmV3IGUuYW0oMSwwLDEsMSwxKSkpO31lbHNlIHM9dC5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTppfHx0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhbyxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KSx0aGlzLl9zb3VyY2UuaGFzVGlsZSYmKHM9cy5maWx0ZXIoKGU9PnRoaXMuX3NvdXJjZS5oYXNUaWxlKGUpKSkpO2Vsc2Ugcz1bXTtpZihzLmxlbmd0aD4wJiZ0aGlzLmNhc3RzU2hhZG93cyYmciYmXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiYhdGhpcy51c2VkRm9yVGVycmFpbiYmIUp0KHRoaXMuX3NvdXJjZS50eXBlKSl7Y29uc3QgZT10LmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTppfHx0aGlzLl9zb3VyY2UudGlsZVNpemUscm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiFvfSksbj1NYXRoLm1pbihlLHRoaXMuX3NvdXJjZS5tYXh6b29tKSxhPXQuZXh0ZW5kVGlsZUNvdmVyRm9yU2hhZG93cyhzLHIsbik7Zm9yKGNvbnN0IGUgb2YgYSl0aGlzLl9zaGFkb3dDYXN0ZXJUaWxlc1tlLmtleV09ITAscy5wdXNoKGUpO31jb25zdCBuPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMocyk7aWYoSnQodGhpcy5fc291cmNlLnR5cGUpJiYwIT09cy5sZW5ndGgpe2NvbnN0IHQ9e30saT17fSxvPU9iamVjdC5rZXlzKG4pO2Zvcihjb25zdCByIG9mIG8pe2NvbnN0IG89bltyXSxzPXRoaXMuX3RpbGVzW3JdO2lmKCFzfHxzLmZhZGVFbmRUaW1lJiZzLmZhZGVFbmRUaW1lPD1lLmYubm93KCkpY29udGludWU7Y29uc3QgYT10aGlzLmZpbmRMb2FkZWRQYXJlbnQobyxNYXRoLm1heChvLm92ZXJzY2FsZWRaLUt0Lm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSk7YSYmKHRoaXMuX2FkZFRpbGUoYS50aWxlSUQpLHRbYS50aWxlSUQua2V5XT1hLnRpbGVJRCksaVtyXT1vO31jb25zdCByPXNbcy5sZW5ndGgtMV0ub3ZlcnNjYWxlZFo7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYobltlXXx8IXQuaGFzRGF0YSgpKWNvbnRpbnVlO2xldCBvPXQudGlsZUlEO2Zvcig7by5vdmVyc2NhbGVkWj5yOyl7bz1vLnNjYWxlZFRvKG8ub3ZlcnNjYWxlZFotMSk7Y29uc3Qgcj10aGlzLl90aWxlc1tvLmtleV07aWYociYmci5oYXNEYXRhKCkmJmlbby5rZXldKXtuW2VdPXQudGlsZUlEO2JyZWFrfX19Zm9yKGNvbnN0IGUgaW4gdCluW2VdfHwodGhpcy5fY292ZXJlZFRpbGVzW2VdPSEwLG5bZV09dFtlXSk7fWZvcihjb25zdCBlIGluIG4pdGhpcy5fdGlsZXNbZV0uY2xlYXJGYWRlSG9sZCgpO2NvbnN0IGE9ZS5iMCh0aGlzLl90aWxlcyxuKTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QuaGFzU3ltYm9sQnVja2V0cyYmIXQuaG9sZGluZ0ZvckZhZGUoKT90LnNldEhvbGREdXJhdGlvbih0aGlzLm1hcC5fZmFkZUR1cmF0aW9uKTp0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LnN5bWJvbEZhZGVGaW5pc2hlZCgpfHx0aGlzLl9yZW1vdmVUaWxlKCtlKTt9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCksdGhpcy5fb25seVN5bWJvbHMmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlKCk7fXJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tlXS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKCtlKTt9X3VwZGF0ZVJldGFpbmVkVGlsZXMoZSl7Y29uc3QgdD17fTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQ7Y29uc3QgaT17fSxvPWUucmVkdWNlKCgoZSx0KT0+TWF0aC5taW4oZSx0Lm92ZXJzY2FsZWRaKSksMS8wKSxyPWVbMF0ub3ZlcnNjYWxlZFoscz1NYXRoLm1heChyLUt0Lm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxuPU1hdGgubWF4KHIrS3QubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxhPXt9O2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fYWRkVGlsZShpKTt0W2kua2V5XT1pLGUuaGFzRGF0YSgpfHxvPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYoYVtpLmtleV09aSk7fXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKGEsbyxuLHQpO2Zvcihjb25zdCBvIG9mIGUpe2xldCBlPXRoaXMuX3RpbGVzW28ua2V5XTtpZihlLmhhc0RhdGEoKSljb250aW51ZTtpZihvLmNhbm9uaWNhbC56Pj10aGlzLl9zb3VyY2UubWF4em9vbSl7Y29uc3QgZT1vLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXSxpPXRoaXMuZ2V0VGlsZShlKTtpZihpJiZpLmhhc0RhdGEoKSl7dFtlLmtleV09ZTtjb250aW51ZX19ZWxzZSB7Y29uc3QgZT1vLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZih0W2VbMF0ua2V5XSYmdFtlWzFdLmtleV0mJnRbZVsyXS5rZXldJiZ0W2VbM10ua2V5XSljb250aW51ZX1sZXQgcj1lLndhc1JlcXVlc3RlZCgpO2ZvcihsZXQgbj1vLm92ZXJzY2FsZWRaLTE7bj49czstLW4pe2NvbnN0IHM9by5zY2FsZWRUbyhuKTtpZihpW3Mua2V5XSlicmVhaztpZihpW3Mua2V5XT0hMCxlPXRoaXMuZ2V0VGlsZShzKSwhZSYmciYmKGU9dGhpcy5fYWRkVGlsZShzKSksZSYmKHRbcy5rZXldPXMscj1lLndhc1JlcXVlc3RlZCgpLGUuaGFzRGF0YSgpKSlicmVha319cmV0dXJuIHR9X3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpe3RoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PVtdO2xldCBpLG89dGhpcy5fdGlsZXNbZV0udGlsZUlEO2Zvcig7by5vdmVyc2NhbGVkWj4wOyl7aWYoby5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2k9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbby5rZXldO2JyZWFrfXQucHVzaChvLmtleSk7Y29uc3QgZT1vLnNjYWxlZFRvKG8ub3ZlcnNjYWxlZFotMSk7aWYoaT10aGlzLl9nZXRMb2FkZWRUaWxlKGUpLGkpYnJlYWs7bz1lO31mb3IoY29uc3QgZSBvZiB0KXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW2VdPWk7fX1fYWRkVGlsZSh0KXtsZXQgaT10aGlzLl90aWxlc1t0LmtleV07aWYoaSlyZXR1cm4gITAhPT1pLmlzRXh0cmFTaGFkb3dDYXN0ZXJ8fCEhdGhpcy5fc2hhZG93Q2FzdGVyVGlsZXNbdC5rZXldfHx0aGlzLl9yZWxvYWRUaWxlKHQua2V5LFwicmVsb2FkaW5nXCIpLGk7aT10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUodCksaSYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0LmtleSxpKSxpLnRpbGVJRD10LHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoaSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW3Qua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1t0LmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1t0LmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHQua2V5LGkpKSk7Y29uc3Qgbz1Cb29sZWFuKGkpO2lmKCFvKXtjb25zdCBlPXRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCxvPXRoaXMuX3NvdXJjZS50aWxlU2l6ZSp0Lm92ZXJzY2FsZUZhY3RvcigpO2k9XCJyYXN0ZXItYXJyYXlcIj09PXRoaXMuX3NvdXJjZS50eXBlP25ldyAkdCh0LG8sdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sZSx0aGlzLl9pc1Jhc3Rlcik6bmV3IEd0KHQsbyx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSxlLHRoaXMuX2lzUmFzdGVyKSx0aGlzLl9sb2FkVGlsZShpLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLGksdC5rZXksaS5zdGF0ZSkpO31yZXR1cm4gaT8oaS51c2VzKyssdGhpcy5fdGlsZXNbdC5rZXldPWksb3x8dGhpcy5fc291cmNlLmZpcmUobmV3IGUuYihcImRhdGFsb2FkaW5nXCIse3RpbGU6aSxjb29yZDppLnRpbGVJRCxkYXRhVHlwZTpcInNvdXJjZVwifSkpLGkpOm51bGx9X3NldFRpbGVSZWxvYWRUaW1lcihlLHQpe2UgaW4gdGhpcy5fdGltZXJzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSk7Y29uc3QgaT10LmdldEV4cGlyeVRpbWVvdXQoKTtpJiYodGhpcy5fdGltZXJzW2VdPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fcmVsb2FkVGlsZShlLFwiZXhwaXJlZFwiKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdO30pLGkpKTt9X3JlbW92ZVRpbGUoZSl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTt0JiYodC51c2VzLS0sZGVsZXRlIHRoaXMuX3RpbGVzW2VdLHRoaXMuX3RpbWVyc1tlXSYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV0pLHQudXNlcz4wfHwodC5oYXNEYXRhKCkmJlwicmVsb2FkaW5nXCIhPT10LnN0YXRlfHxcImVtcHR5XCI9PT10LnN0YXRlP3RoaXMuX2NhY2hlLmFkZCh0LnRpbGVJRCx0LHQuZ2V0RXhwaXJ5VGltZW91dCgpKToodC5hYm9ydGVkPSEwLHRoaXMuX2Fib3J0VGlsZSh0KSx0aGlzLl91bmxvYWRUaWxlKHQpKSkpO31jbGVhclRpbGVzKCl7dGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITEsdGhpcy5fcGF1c2VkPSExO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3JlbW92ZVRpbGUoK2UpO3RoaXMuX3NvdXJjZS5fY2xlYXImJnRoaXMuX3NvdXJjZS5fY2xlYXIoKSx0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMubWFwJiZ0aGlzLnVzZWRGb3JUZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbi5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLmlkKTt9dGlsZXNJbih0LGksbyl7Y29uc3Qgcj1bXSxzPXRoaXMudHJhbnNmb3JtO2lmKCFzKXJldHVybiByO2NvbnN0IG49XCJnbG9iZVwiPT09cy5wcm9qZWN0aW9uLm5hbWUsYT1lLmE1KHMuY2VudGVyLmxuZyk7Zm9yKGNvbnN0IGwgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IGM9dGhpcy5fdGlsZXNbbF07aWYobyYmYy5jbGVhclF1ZXJ5RGVidWdWaXooKSxjLmhvbGRpbmdGb3JGYWRlKCkpY29udGludWU7bGV0IGg7aWYobil7Y29uc3QgdD1jLnRpbGVJRC5jYW5vbmljYWw7aWYoMD09PXQueil7Y29uc3QgaT1bTWF0aC5hYnMoZS5hYShhLC4uLlF0KHQsLTEpKS1hKSxNYXRoLmFicyhlLmFhKGEsLi4uUXQodCwxKSktYSldO2g9WzAsMippLmluZGV4T2YoTWF0aC5taW4oLi4uaSkpLTFdO31lbHNlIHtjb25zdCBpPVtNYXRoLmFicyhlLmFhKGEsLi4uUXQodCwtMSkpLWEpLE1hdGguYWJzKGUuYWEoYSwuLi5RdCh0LDApKS1hKSxNYXRoLmFicyhlLmFhKGEsLi4uUXQodCwxKSktYSldO2g9W2kuaW5kZXhPZihNYXRoLm1pbiguLi5pKSktMV07fX1lbHNlIGg9WzBdO2Zvcihjb25zdCBlIG9mIGgpe2NvbnN0IG89dC5jb250YWluc1RpbGUoYyxzLGksZSk7byYmci5wdXNoKG8pO319cmV0dXJuIHJ9Z2V0U2hhZG93Q2FzdGVyQ29vcmRpbmF0ZXMoKXtyZXR1cm4gdGhpcy5fZ2V0UmVuZGVyYWJsZUNvb3JkaW5hdGVzKCExLCEwKX1nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoZSl7cmV0dXJuIHRoaXMuX2dldFJlbmRlcmFibGVDb29yZGluYXRlcyhlKX1fZ2V0UmVuZGVyYWJsZUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT10aGlzLmdldFJlbmRlcmFibGVJZHMoZSx0KS5tYXAoKGU9PnRoaXMuX3RpbGVzW2VdLnRpbGVJRCkpLG89XCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lO2Zvcihjb25zdCBlIG9mIGkpZS5wcm9qTWF0cml4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZS50b1Vud3JhcHBlZCgpKSxlLmV4cGFuZGVkUHJvak1hdHJpeD1vP3RoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZS50b1Vud3JhcHBlZCgpLCExLCEwKTplLnByb2pNYXRyaXg7cmV0dXJuIGl9c29ydENvb3JkaW5hdGVzQnlEaXN0YW5jZShlKXtjb25zdCB0PWUuc2xpY2UoKSxpPXRoaXMudHJhbnNmb3JtLl9jYW1lcmEucG9zaXRpb24sbz10aGlzLnRyYW5zZm9ybS5fY2FtZXJhLmZvcndhcmQoKSxyPXt9O2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9MS8oMTw8ZS5jYW5vbmljYWwueik7cltlLmtleV09KChlLmNhbm9uaWNhbC54Ky41KSp0K2Uud3JhcC1pWzBdKSpvWzBdKygoZS5jYW5vbmljYWwueSsuNSkqdC1pWzFdKSpvWzFdLWlbMl0qb1syXTt9cmV0dXJuIHQuc29ydCgoKGUsdCk9PnJbZS5rZXldLXJbdC5rZXldKSksdH1oYXNUcmFuc2l0aW9uKCl7aWYodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7aWYoSnQodGhpcy5fc291cmNlLnR5cGUpKWZvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCBpPXRoaXMuX3RpbGVzW3RdO2lmKHZvaWQgMCE9PWkuZmFkZUVuZFRpbWUmJmkuZmFkZUVuZFRpbWU+PWUuZi5ub3coKSlyZXR1cm4gITB9cmV0dXJuICExfXNldEZlYXR1cmVTdGF0ZShlLHQsaSl7dGhpcy5fc3RhdGUudXBkYXRlU3RhdGUoZT1lfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdCxpKTt9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxpKXt0aGlzLl9zdGF0ZS5yZW1vdmVGZWF0dXJlU3RhdGUoZT1lfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdCxpKTt9Z2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQpfXNldERlcGVuZGVuY2llcyhlLHQsaSl7Y29uc3Qgbz10aGlzLl90aWxlc1tlXTtvJiZvLnNldERlcGVuZGVuY2llcyh0LGkpO31yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhlLHQpe2Zvcihjb25zdCBpIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW2ldLmhhc0RlcGVuZGVuY3koZSx0KSYmdGhpcy5fcmVsb2FkVGlsZSgraSxcInJlbG9hZGluZ1wiKTt0aGlzLl9jYWNoZS5maWx0ZXIoKGk9PiFpLmhhc0RlcGVuZGVuY3koZSx0KSkpO31fcHJlbG9hZFRpbGVzKHQsaSl7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZCl7Y29uc3QgZT0oKT0+e3RoaXMuX3NvdXJjZUxvYWRlZCYmKHRoaXMuX3NvdXJjZS5vZmYoXCJkYXRhXCIsZSksdGhpcy5fcHJlbG9hZFRpbGVzKHQsaSkpO307cmV0dXJuIHZvaWQgdGhpcy5fc291cmNlLm9uKFwiZGF0YVwiLGUpfWNvbnN0IG89bmV3IE1hcCxyPUFycmF5LmlzQXJyYXkodCk/dDpbdF0scz10aGlzLm1hcC5wYWludGVyLnRlcnJhaW4sbj10aGlzLnVzZWRGb3JUZXJyYWluJiZzP3MuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTp0aGlzLl9zb3VyY2UudGlsZVNpemU7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOm4sbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhdGhpcy51c2VkRm9yVGVycmFpbixyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KTtmb3IoY29uc3QgZSBvZiB0KW8uc2V0KGUua2V5LGUpO3RoaXMudXNlZEZvclRlcnJhaW4mJmUudXBkYXRlRWxldmF0aW9uKCExKTt9Y29uc3QgYT1BcnJheS5mcm9tKG8udmFsdWVzKCkpO2UuYjEoYSwoKGUsdCk9Pntjb25zdCBpPW5ldyBHdChlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMubWFwLnBhaW50ZXIsdGhpcy5faXNSYXN0ZXIpO3RoaXMuX2xvYWRUaWxlKGksKGU9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZpLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oaSksdChlLGkpO30pKTt9KSxpKTt9fWZ1bmN0aW9uIFl0KGUsdCl7Y29uc3QgaT1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCksbz1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCk7cmV0dXJuIGUub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWnx8by1pfHx0LmNhbm9uaWNhbC55LWUuY2Fub25pY2FsLnl8fHQuY2Fub25pY2FsLngtZS5jYW5vbmljYWwueH1mdW5jdGlvbiBKdChlKXtyZXR1cm4gXCJyYXN0ZXJcIj09PWV8fFwiaW1hZ2VcIj09PWV8fFwidmlkZW9cIj09PWV8fFwiY3VzdG9tXCI9PT1lfWZ1bmN0aW9uIFF0KGUsdCl7Y29uc3QgaT0xPDxlLno7cmV0dXJuIFtlLngvaSt0LChlLngrMSkvaSt0XX1LdC5tYXhPdmVyem9vbWluZz0xMCxLdC5tYXhVbmRlcnpvb21pbmc9MztjbGFzcyBlaXtjb25zdHJ1Y3RvcihlKXt0aGlzLnN0eWxlPWUsdGhpcy5sYXllcnNHb3RIaWRkZW49ITEsdGhpcy5sYXllcnM9W107fXByb2Nlc3NMYXllcnNDaGFuZ2VkKCl7dGhpcy5sYXllcnM9W107Y29uc3QgZT0hMSx0PSExO2Zvcihjb25zdCBpIGluIHRoaXMuc3R5bGUuX21lcmdlZExheWVycyl7Y29uc3Qgbz10aGlzLnN0eWxlLl9tZXJnZWRMYXllcnNbaV07aWYoXCJmaWxsLWV4dHJ1c2lvblwiPT09by50eXBlKXRoaXMubGF5ZXJzLnB1c2goe2xheWVyOm8sdmlzaWJsZTplLHZpc2liaWxpdHlDaGFuZ2VkOnR9KTtlbHNlIGlmKFwibW9kZWxcIj09PW8udHlwZSl7Y29uc3QgaT10aGlzLnN0eWxlLmdldExheWVyU291cmNlKG8pO2kmJlwiYmF0Y2hlZC1tb2RlbFwiPT09aS50eXBlJiZ0aGlzLmxheWVycy5wdXNoKHtsYXllcjpvLHZpc2libGU6ZSx2aXNpYmlsaXR5Q2hhbmdlZDp0fSk7fX19b25OZXdGcmFtZShlKXt0aGlzLmxheWVyc0dvdEhpZGRlbj0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLmxheWVycyl7Y29uc3QgaT10LmxheWVyO2xldCBvPSExO1wiZmlsbC1leHRydXNpb25cIj09PWkudHlwZT9vPSFpLmlzSGlkZGVuKGUpJiZpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIik+MDpcIm1vZGVsXCI9PT1pLnR5cGUmJihvPSFpLmlzSGlkZGVuKGUpJiZpLnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIik+MCksdGhpcy5sYXllcnNHb3RIaWRkZW49dGhpcy5sYXllcnNHb3RIaWRkZW58fCFvJiZ0LnZpc2libGUsdC52aXNpYmxlPW87fX11cGRhdGVaT2Zmc2V0KGUsdCl7dGhpcy5jdXJyZW50QnVpbGRpbmdCdWNrZXRzPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBpPWUubGF5ZXIsbz10aGlzLnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7bGV0IHI9MTtcImZpbGwtZXh0cnVzaW9uXCI9PT1pLnR5cGUmJihyPWUudmlzaWJsZT9pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCIpOjApO2xldCBzPW8/by5nZXRUaWxlKHQpOm51bGw7aWYoIXMmJm8mJnQuY2Fub25pY2FsLno+by5nZXRTb3VyY2UoKS5taW56b29tKXtsZXQgZT10LnNjYWxlZFRvKE1hdGgubWluKG8uZ2V0U291cmNlKCkubWF4em9vbSx0Lm92ZXJzY2FsZWRaLTEpKTtmb3IoO2Uub3ZlcnNjYWxlZFo+PW8uZ2V0U291cmNlKCkubWluem9vbSYmKHM9by5nZXRUaWxlKGUpLCFzJiYwIT09ZS5vdmVyc2NhbGVkWik7KWU9ZS5zY2FsZWRUbyhlLm92ZXJzY2FsZWRaLTEpO310aGlzLmN1cnJlbnRCdWlsZGluZ0J1Y2tldHMucHVzaCh7YnVja2V0OnM/cy5nZXRCdWNrZXQoaSk6bnVsbCx0aWxlSUQ6cz9zLnRpbGVJRDp0LHZlcnRpY2FsU2NhbGU6cn0pO31lLmhhc0FueVpPZmZzZXQ9ITE7bGV0IGk9ITE7Zm9yKGxldCBvPTA7bzxlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7bysrKXtjb25zdCByPWUuc3ltYm9sSW5zdGFuY2VzLmdldChvKSxzPXIuek9mZnNldCxuPXRoaXMuX2dldEhlaWdodEF0VGlsZU9mZnNldCh0LHIudGlsZUFuY2hvclgsci50aWxlQW5jaG9yWSk7ci56T2Zmc2V0PW4hPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk/bjpzLGl8fHM9PT1yLnpPZmZzZXR8fChpPSEwKSxlLmhhc0FueVpPZmZzZXR8fDA9PT1yLnpPZmZzZXR8fChlLmhhc0FueVpPZmZzZXQ9ITApO31pJiYoZS56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQ9ITAsZS56T2Zmc2V0U29ydERpcnR5PSEwKTt9X21hcENvb3JkVG9PdmVybGFwcGluZ1RpbGUodCxpLG8scil7bGV0IHM9aSxuPW87aWYodC5jYW5vbmljYWwueiE9PXIuY2Fub25pY2FsLnope2NvbnN0IGE9ci5jYW5vbmljYWwsbD0xLygxPDx0LmNhbm9uaWNhbC56LWEueik7cz0oaSt0LmNhbm9uaWNhbC54KmUuVikqbC1hLngqZS5WfDAsbj0obyt0LmNhbm9uaWNhbC55KmUuVikqbC1hLnkqZS5WfDA7fXJldHVybiB7dGlsZVg6cyx0aWxlWTpufX1fZ2V0SGVpZ2h0QXRUaWxlT2Zmc2V0KGUsdCxpKXtsZXQgbyxyO2ZvcihsZXQgcz0wO3M8dGhpcy5sYXllcnMubGVuZ3RoOysrcyl7aWYoXCJmaWxsLWV4dHJ1c2lvblwiIT09dGhpcy5sYXllcnNbc10ubGF5ZXIudHlwZSljb250aW51ZTtjb25zdHtidWNrZXQ6bix0aWxlSUQ6YSx2ZXJ0aWNhbFNjYWxlOmx9PXRoaXMuY3VycmVudEJ1aWxkaW5nQnVja2V0c1tzXTtpZighbiljb250aW51ZTtjb25zdHt0aWxlWDpjLHRpbGVZOmh9PXRoaXMuX21hcENvb3JkVG9PdmVybGFwcGluZ1RpbGUoZSx0LGksYSksdT1uLmdldEhlaWdodEF0VGlsZUNvb3JkKGMsaCk7dSYmdm9pZCAwIT09dS5oZWlnaHQmJih1LmhpZGRlbj9vPXUuaGVpZ2h0OnI9TWF0aC5tYXgodS5oZWlnaHQqbCxyfHwwKSk7fWlmKHZvaWQgMCE9PXIpcmV0dXJuIHI7Zm9yKGxldCByPTA7cjx0aGlzLmxheWVycy5sZW5ndGg7KytyKXtjb25zdCBzPXRoaXMubGF5ZXJzW3JdO2lmKFwibW9kZWxcIiE9PXMubGF5ZXIudHlwZXx8IXMudmlzaWJsZSljb250aW51ZTtjb25zdHtidWNrZXQ6bix0aWxlSUQ6YX09dGhpcy5jdXJyZW50QnVpbGRpbmdCdWNrZXRzW3JdO2lmKCFuKWNvbnRpbnVlO2NvbnN0e3RpbGVYOmwsdGlsZVk6Y309dGhpcy5fbWFwQ29vcmRUb092ZXJsYXBwaW5nVGlsZShlLHQsaSxhKSxoPW4uZ2V0SGVpZ2h0QXRUaWxlQ29vcmQobCxjKTtpZihoJiYhaC5oaWRkZW4pcmV0dXJuIHZvaWQgMD09PWguaGVpZ2h0JiZ2b2lkIDAhPT1vP01hdGgubWluKGgubWF4SGVpZ2h0LG8pKmgudmVydGljYWxTY2FsZTooaC5oZWlnaHR8fDApKmgudmVydGljYWxTY2FsZX1yZXR1cm4gdGhpcy5sYXllcnNHb3RIaWRkZW4/MDpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9fWZ1bmN0aW9uIHRpKHQsaSl7Y29uc3Qgbz17fTtmb3IoY29uc3QgZSBpbiB0KVwicmVmXCIhPT1lJiYob1tlXT10W2VdKTtyZXR1cm4gZS5iMi5mb3JFYWNoKChlPT57ZSBpbiBpJiYob1tlXT1pW2VdKTt9KSksb31mdW5jdGlvbiBpaShlKXtlPWUuc2xpY2UoKTtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdFtlW2ldLmlkXT1lW2ldO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKVwicmVmXCJpbiBlW2ldJiYoZVtpXT10aShlW2ldLHRbZVtpXS5yZWZdKSk7cmV0dXJuIGV9Y29uc3Qgb2k9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldFNsb3Q6XCJzZXRTbG90XCIsc2V0RmlsdGVyOlwic2V0RmlsdGVyXCIsYWRkU291cmNlOlwiYWRkU291cmNlXCIscmVtb3ZlU291cmNlOlwicmVtb3ZlU291cmNlXCIsc2V0R2VvSlNPTlNvdXJjZURhdGE6XCJzZXRHZW9KU09OU291cmNlRGF0YVwiLHNldExheWVyWm9vbVJhbmdlOlwic2V0TGF5ZXJab29tUmFuZ2VcIixzZXRMYXllclByb3BlcnR5Olwic2V0TGF5ZXJQcm9wZXJ0eVwiLHNldENlbnRlcjpcInNldENlbnRlclwiLHNldFpvb206XCJzZXRab29tXCIsc2V0QmVhcmluZzpcInNldEJlYXJpbmdcIixzZXRQaXRjaDpcInNldFBpdGNoXCIsc2V0U3ByaXRlOlwic2V0U3ByaXRlXCIsc2V0R2x5cGhzOlwic2V0R2x5cGhzXCIsc2V0VHJhbnNpdGlvbjpcInNldFRyYW5zaXRpb25cIixzZXRMaWdodDpcInNldExpZ2h0XCIsc2V0VGVycmFpbjpcInNldFRlcnJhaW5cIixzZXRGb2c6XCJzZXRGb2dcIixzZXRDYW1lcmE6XCJzZXRDYW1lcmFcIixzZXRMaWdodHM6XCJzZXRMaWdodHNcIixzZXRQcm9qZWN0aW9uOlwic2V0UHJvamVjdGlvblwiLGFkZEltcG9ydDpcImFkZEltcG9ydFwiLHJlbW92ZUltcG9ydDpcInJlbW92ZUltcG9ydFwiLHVwZGF0ZUltcG9ydDpcInVwZGF0ZUltcG9ydFwifTtmdW5jdGlvbiByaShlLHQsaSl7aS5wdXNoKHtjb21tYW5kOm9pLmFkZFNvdXJjZSxhcmdzOltlLHRbZV1dfSk7fWZ1bmN0aW9uIHNpKGUsdCxpKXt0LnB1c2goe2NvbW1hbmQ6b2kucmVtb3ZlU291cmNlLGFyZ3M6W2VdfSksaVtlXT0hMDt9ZnVuY3Rpb24gbmkoZSx0LGksbyl7c2koZSxpLG8pLHJpKGUsdCxpKTt9ZnVuY3Rpb24gYWkoZSxpLG8pe2xldCByO2ZvcihyIGluIGVbb10paWYoZVtvXS5oYXNPd25Qcm9wZXJ0eShyKSYmXCJkYXRhXCIhPT1yJiYhdChlW29dW3JdLGlbb11bcl0pKXJldHVybiAhMTtmb3IociBpbiBpW29dKWlmKGlbb10uaGFzT3duUHJvcGVydHkocikmJlwiZGF0YVwiIT09ciYmIXQoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIGxpKGUsaSxvLHIscyxuKXtsZXQgYTtmb3IoYSBpbiBpPWl8fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHQoZVthXSxpW2FdKXx8by5wdXNoKHtjb21tYW5kOm4sYXJnczpbcixhLGlbYV0sc119KSk7Zm9yKGEgaW4gaSlpLmhhc093blByb3BlcnR5KGEpJiYhZS5oYXNPd25Qcm9wZXJ0eShhKSYmKHQoZVthXSxpW2FdKXx8by5wdXNoKHtjb21tYW5kOm4sYXJnczpbcixhLGlbYV0sc119KSk7fWZ1bmN0aW9uIGNpKGUpe3JldHVybiBlLmlkfWZ1bmN0aW9uIGhpKGUsdCl7cmV0dXJuIGVbdC5pZF09dCxlfWNsYXNzIHVpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5yZXNldChlLHQpO31yZXNldChlLHQpe3RoaXMucG9pbnRzPWV8fFtdLHRoaXMuX2Rpc3RhbmNlcz1bMF07Zm9yKGxldCBlPTE7ZTx0aGlzLnBvaW50cy5sZW5ndGg7ZSsrKXRoaXMuX2Rpc3RhbmNlc1tlXT10aGlzLl9kaXN0YW5jZXNbZS0xXSt0aGlzLnBvaW50c1tlXS5kaXN0KHRoaXMucG9pbnRzW2UtMV0pO3RoaXMubGVuZ3RoPXRoaXMuX2Rpc3RhbmNlc1t0aGlzLl9kaXN0YW5jZXMubGVuZ3RoLTFdLHRoaXMucGFkZGluZz1NYXRoLm1pbih0fHwwLC41KnRoaXMubGVuZ3RoKSx0aGlzLnBhZGRlZExlbmd0aD10aGlzLmxlbmd0aC0yKnRoaXMucGFkZGluZzt9bGVycCh0KXtpZigxPT09dGhpcy5wb2ludHMubGVuZ3RoKXJldHVybiB0aGlzLnBvaW50c1swXTt0PWUuYWEodCwwLDEpO2xldCBpPTEsbz10aGlzLl9kaXN0YW5jZXNbaV07Y29uc3Qgcj10KnRoaXMucGFkZGVkTGVuZ3RoK3RoaXMucGFkZGluZztmb3IoO288ciYmaTx0aGlzLl9kaXN0YW5jZXMubGVuZ3RoOylvPXRoaXMuX2Rpc3RhbmNlc1srK2ldO2NvbnN0IHM9aS0xLG49dGhpcy5fZGlzdGFuY2VzW3NdLGE9by1uLGw9YT4wPyhyLW4pL2E6MDtyZXR1cm4gdGhpcy5wb2ludHNbc10ubXVsdCgxLWwpLmFkZCh0aGlzLnBvaW50c1tpXS5tdWx0KGwpKX19Y2xhc3MgZGl7Y29uc3RydWN0b3IoZSx0LGkpe2NvbnN0IG89dGhpcy5ib3hDZWxscz1bXSxyPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbChlL2kpLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwodC9pKTtmb3IobGV0IGU9MDtlPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7ZSsrKW8ucHVzaChbXSksci5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvZSx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvdCx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTA7fWtleXNMZW5ndGgoKXtyZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCt0aGlzLmNpcmNsZUtleXMubGVuZ3RofWluc2VydChlLHQsaSxvLHIpe3RoaXMuX2ZvckVhY2hDZWxsKHQsaSxvLHIsdGhpcy5faW5zZXJ0Qm94Q2VsbCx0aGlzLmJveFVpZCsrKSx0aGlzLmJveEtleXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2goaSksdGhpcy5iYm94ZXMucHVzaChvKSx0aGlzLmJib3hlcy5wdXNoKHIpO31pbnNlcnRDaXJjbGUoZSx0LGksbyl7dGhpcy5fZm9yRWFjaENlbGwodC1vLGktbyx0K28saStvLHRoaXMuX2luc2VydENpcmNsZUNlbGwsdGhpcy5jaXJjbGVVaWQrKyksdGhpcy5jaXJjbGVLZXlzLnB1c2goZSksdGhpcy5jaXJjbGVzLnB1c2godCksdGhpcy5jaXJjbGVzLnB1c2goaSksdGhpcy5jaXJjbGVzLnB1c2gobyk7fV9pbnNlcnRCb3hDZWxsKGUsdCxpLG8scixzKXt0aGlzLmJveENlbGxzW3JdLnB1c2gocyk7fV9pbnNlcnRDaXJjbGVDZWxsKGUsdCxpLG8scixzKXt0aGlzLmNpcmNsZUNlbGxzW3JdLnB1c2gocyk7fV9xdWVyeShlLHQsaSxvLHIscyl7aWYoaTwwfHxlPnRoaXMud2lkdGh8fG88MHx8dD50aGlzLmhlaWdodClyZXR1cm4gIXImJltdO2NvbnN0IG49W107aWYoZTw9MCYmdDw9MCYmdGhpcy53aWR0aDw9aSYmdGhpcy5oZWlnaHQ8PW8pe2lmKHIpcmV0dXJuICEwO2ZvcihsZXQgZT0wO2U8dGhpcy5ib3hLZXlzLmxlbmd0aDtlKyspbi5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2VdLHgxOnRoaXMuYmJveGVzWzQqZV0seTE6dGhpcy5iYm94ZXNbNCplKzFdLHgyOnRoaXMuYmJveGVzWzQqZSsyXSx5Mjp0aGlzLmJib3hlc1s0KmUrM119KTtmb3IobGV0IGU9MDtlPHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuY2lyY2xlc1szKmVdLGk9dGhpcy5jaXJjbGVzWzMqZSsxXSxvPXRoaXMuY2lyY2xlc1szKmUrMl07bi5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2VdLHgxOnQtbyx5MTppLW8seDI6dCtvLHkyOmkrb30pO31yZXR1cm4gcz9uLmZpbHRlcihzKTpufXJldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChlLHQsaSxvLHRoaXMuX3F1ZXJ5Q2VsbCxuLHtoaXRUZXN0OnIsc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxzKSxyP24ubGVuZ3RoPjA6bn1fcXVlcnlDaXJjbGUoZSx0LGksbyxyKXtjb25zdCBzPWUtaSxuPWUraSxhPXQtaSxsPXQraTtpZihuPDB8fHM+dGhpcy53aWR0aHx8bDwwfHxhPnRoaXMuaGVpZ2h0KXJldHVybiAhbyYmW107Y29uc3QgYz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwocyxhLG4sbCx0aGlzLl9xdWVyeUNlbGxDaXJjbGUsYyx7aGl0VGVzdDpvLGNpcmNsZTp7eDplLHk6dCxyYWRpdXM6aX0sc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxyKSxvP2MubGVuZ3RoPjA6Y31xdWVyeShlLHQsaSxvLHIpe3JldHVybiB0aGlzLl9xdWVyeShlLHQsaSxvLCExLHIpfWhpdFRlc3QoZSx0LGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LGksbywhMCxyKX1oaXRUZXN0Q2lyY2xlKGUsdCxpLG8pe3JldHVybiB0aGlzLl9xdWVyeUNpcmNsZShlLHQsaSwhMCxvKX1fcXVlcnlDZWxsKGUsdCxpLG8scixzLG4sYSl7Y29uc3QgbD1uLnNlZW5VaWRzLGM9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09Yyl7Y29uc3Qgcj10aGlzLmJib3hlcztmb3IoY29uc3QgaCBvZiBjKWlmKCFsLmJveFtoXSl7bC5ib3hbaF09ITA7Y29uc3QgYz00Kmg7aWYoZTw9cltjKzJdJiZ0PD1yW2MrM10mJmk+PXJbYyswXSYmbz49cltjKzFdJiYoIWF8fGEodGhpcy5ib3hLZXlzW2hdKSkpe2lmKG4uaGl0VGVzdClyZXR1cm4gcy5wdXNoKCEwKSwhMDtzLnB1c2goe2tleTp0aGlzLmJveEtleXNbaF0seDE6cltjXSx5MTpyW2MrMV0seDI6cltjKzJdLHkyOnJbYyszXX0pO319fWNvbnN0IGg9dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09aCl7Y29uc3Qgcj10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IGMgb2YgaClpZighbC5jaXJjbGVbY10pe2wuY2lyY2xlW2NdPSEwO2NvbnN0IGg9MypjO2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKHJbaF0scltoKzFdLHJbaCsyXSxlLHQsaSxvKSYmKCFhfHxhKHRoaXMuY2lyY2xlS2V5c1tjXSkpKXtpZihuLmhpdFRlc3QpcmV0dXJuIHMucHVzaCghMCksITA7e2NvbnN0IGU9cltoXSx0PXJbaCsxXSxpPXJbaCsyXTtzLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbY10seDE6ZS1pLHkxOnQtaSx4MjplK2kseTI6dCtpfSk7fX19fX1fcXVlcnlDZWxsQ2lyY2xlKGUsdCxpLG8scixzLG4sYSl7Y29uc3QgbD1uLmNpcmNsZSxjPW4uc2VlblVpZHMsaD10aGlzLmJveENlbGxzW3JdO2lmKG51bGwhPT1oKXtjb25zdCBlPXRoaXMuYmJveGVzO2Zvcihjb25zdCB0IG9mIGgpaWYoIWMuYm94W3RdKXtjLmJveFt0XT0hMDtjb25zdCBpPTQqdDtpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShsLngsbC55LGwucmFkaXVzLGVbaSswXSxlW2krMV0sZVtpKzJdLGVbaSszXSkmJighYXx8YSh0aGlzLmJveEtleXNbdF0pKSlyZXR1cm4gcy5wdXNoKCEwKSwhMH19Y29uc3QgdT10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT11KXtjb25zdCBlPXRoaXMuY2lyY2xlcztmb3IoY29uc3QgdCBvZiB1KWlmKCFjLmNpcmNsZVt0XSl7Yy5jaXJjbGVbdF09ITA7Y29uc3QgaT0zKnQ7aWYodGhpcy5fY2lyY2xlc0NvbGxpZGUoZVtpXSxlW2krMV0sZVtpKzJdLGwueCxsLnksbC5yYWRpdXMpJiYoIWF8fGEodGhpcy5jaXJjbGVLZXlzW3RdKSkpcmV0dXJuIHMucHVzaCghMCksITB9fX1fZm9yRWFjaENlbGwoZSx0LGksbyxyLHMsbixhKXtjb25zdCBsPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoZSksYz10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHQpLGg9dGhpcy5fY29udmVydFRvWENlbGxDb29yZChpKSx1PXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQobyk7Zm9yKGxldCBkPWw7ZDw9aDtkKyspZm9yKGxldCBsPWM7bDw9dTtsKyspaWYoci5jYWxsKHRoaXMsZSx0LGksbyx0aGlzLnhDZWxsQ291bnQqbCtkLHMsbixhKSlyZXR1cm59X2NvbnZlcnRUb1hDZWxsQ29vcmQoZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy54Q2VsbENvdW50LTEsTWF0aC5mbG9vcihlKnRoaXMueFNjYWxlKSkpfV9jb252ZXJ0VG9ZQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueUNlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnlTY2FsZSkpKX1fY2lyY2xlc0NvbGxpZGUoZSx0LGksbyxyLHMpe2NvbnN0IG49by1lLGE9ci10LGw9aStzO3JldHVybiBsKmw+bipuK2EqYX1fY2lyY2xlQW5kUmVjdENvbGxpZGUoZSx0LGksbyxyLHMsbil7Y29uc3QgYT0ocy1vKS8yLGw9TWF0aC5hYnMoZS0obythKSk7aWYobD5hK2kpcmV0dXJuICExO2NvbnN0IGM9KG4tcikvMixoPU1hdGguYWJzKHQtKHIrYykpO2lmKGg+YytpKXJldHVybiAhMTtpZihsPD1hfHxoPD1jKXJldHVybiAhMDtjb25zdCB1PWwtYSxkPWgtYztyZXR1cm4gdSp1K2QqZDw9aSppfX1jb25zdCBfaT17dW5rbm93bjowLGZsaXBSZXF1aXJlZDoxLGZsaXBOb3RSZXF1aXJlZDoyfSxwaT1NYXRoLnRhbig4NSpNYXRoLlBJLzE4MCk7ZnVuY3Rpb24gZmkodCxpLG8scixzLG4sYSl7Y29uc3QgbD1lLmE2LmNyZWF0ZSgpO2lmKG8paWYoXCJnbG9iZVwiPT09bi5uYW1lKXtjb25zdCB0PWUuYjMocyxpKTtlLmE2Lm11bHRpcGx5KGwsbCx0KTt9ZWxzZSB7Y29uc3QgdD1lLmI0LmludmVydChbXSxhKTtsWzBdPXRbMF0sbFsxXT10WzFdLGxbNF09dFsyXSxsWzVdPXRbM10scnx8ZS5hNi5yb3RhdGVaKGwsbCxzLmFuZ2xlKTt9ZWxzZSBlLmE2Lm11bHRpcGx5KGwscy5sYWJlbFBsYW5lTWF0cml4LHQpO3JldHVybiBsfWZ1bmN0aW9uIG1pKGUsdCxpLG8scixzLG4pe2NvbnN0IGE9ZmkoZSx0LGksbyxyLHMsbik7cmV0dXJuIFwiZ2xvYmVcIj09PXMubmFtZSYmaXx8KGFbMl09YVs2XT1hWzEwXT1hWzE0XT0wKSxhfWZ1bmN0aW9uIGdpKHQsaSxvLHIscyxuLGEpe2lmKG8pe2lmKFwiZ2xvYmVcIj09PW4ubmFtZSl7Y29uc3QgbD1maSh0LGksbyxyLHMsbixhKTtyZXR1cm4gZS5hNi5pbnZlcnQobCxsKSxlLmE2Lm11bHRpcGx5KGwsdCxsKSxsfXtjb25zdCBpPWUuYTYuY2xvbmUodCksbz1lLmE2LmlkZW50aXR5KFtdKTtyZXR1cm4gb1swXT1hWzBdLG9bMV09YVsxXSxvWzRdPWFbMl0sb1s1XT1hWzNdLGUuYTYubXVsdGlwbHkoaSxpLG8pLHJ8fGUuYTYucm90YXRlWihpLGksLXMuYW5nbGUpLGl9fXJldHVybiBzLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gdmkodCxpLG8scil7Y29uc3Qgcz1bdCxpLG8sMV07bz9lLmE3LnRyYW5zZm9ybU1hdDQocyxzLHIpOkxpKHMscyxyKTtjb25zdCBuPXNbM107cmV0dXJuIHNbMF0vPW4sc1sxXS89bixzWzJdLz1uLHN9ZnVuY3Rpb24geGkoZSx0KXtyZXR1cm4gTWF0aC5taW4oLjUrZS90Ki41LDEuNSl9ZnVuY3Rpb24geWkoZSx0KXtjb25zdCBpPWVbMF0vZVszXSxvPWVbMV0vZVszXTtyZXR1cm4gaT49LXRbMF0mJmk8PXRbMF0mJm8+PS10WzFdJiZvPD10WzFdfWZ1bmN0aW9uIGJpKHQsaSxvLHIscyxuLGEsbCxjLGgpe2NvbnN0IHU9by50cmFuc2Zvcm0sZD1yP3QudGV4dFNpemVEYXRhOnQuaWNvblNpemVEYXRhLF89ZS5iNShkLG8udHJhbnNmb3JtLnpvb20pLHA9XCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWUsZj1bMjU2L28ud2lkdGgqMisxLDI1Ni9vLmhlaWdodCoyKzFdLG09cj90LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5OnQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7bS5jbGVhcigpO2xldCBnPW51bGw7cCYmKGc9cj90LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheTp0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhBcnJheSk7Y29uc3Qgdj10LmxpbmVWZXJ0ZXhBcnJheSx4PXI/dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5OnQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSx5PW8udHJhbnNmb3JtLndpZHRoL28udHJhbnNmb3JtLmhlaWdodDtsZXQgYix3PSExO2ZvcihsZXQgcj0wO3I8eC5sZW5ndGg7cisrKXtjb25zdCBwPXguZ2V0KHIpLHtudW1HbHlwaHM6VCx3cml0aW5nTW9kZTpFfT1wO2lmKEUhPT1lLmI2LnZlcnRpY2FsfHx3fHxiPT09ZS5iNi5ob3Jpem9udGFsfHwodz0hMCksYj1FLChwLmhpZGRlbnx8RT09PWUuYjYudmVydGljYWwpJiYhdyl7RGkoVCxtKTtjb250aW51ZX13PSExO2NvbnN0IFM9bmV3IGUuUChwLnRpbGVBbmNob3JYLHAudGlsZUFuY2hvclkpO2xldHt4OkMseTpJLHo6RH09dS5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoUy54LFMueSxoLmNhbm9uaWNhbCk7aWYoYyl7Y29uc3RbZSx0LGldPWMoUyk7Qys9ZSxJKz10LEQrPWk7fWNvbnN0IEw9W0MsSSxELDFdO2lmKGUuYTcudHJhbnNmb3JtTWF0NChMLEwsaSksIXlpKEwsZikpe0RpKFQsbSk7Y29udGludWV9Y29uc3QgQT1MWzNdLFI9eGkoby50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh1LnByb2plY3Rpb24pLEEpLFA9ZS5iNyhkLF8scCksTT1hP1AvUjpQKlIsej12aShDLEksRCxzKTtpZih6WzNdPD0wKXtEaShULG0pO2NvbnRpbnVlfWxldCBPPXt9O2NvbnN0IEY9YT9udWxsOmMsQj1FaShwLE0sITEsbCxpLHMsbix0LmdseXBoT2Zmc2V0QXJyYXksdixtLGcseixTLE8seSxGLHUucHJvamVjdGlvbixoLGEpO3c9Qi51c2VWZXJ0aWNhbCxGJiZCLm5lZWRzRmxpcHBpbmcmJihPPXt9KSwoQi5ub3RFbm91Z2hSb29tfHx3fHxCLm5lZWRzRmxpcHBpbmcmJkVpKHAsTSwhMCxsLGkscyxuLHQuZ2x5cGhPZmZzZXRBcnJheSx2LG0sZyx6LFMsTyx5LEYsdS5wcm9qZWN0aW9uLGgsYSkubm90RW5vdWdoUm9vbSkmJkRpKFQsbSk7fXI/KHQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEobSksZyYmdC50ZXh0Lmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSk6KHQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEobSksZyYmdC5pY29uLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSk7fWZ1bmN0aW9uIHdpKGUsdCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwLGYpe2NvbnN0e2xpbmVTdGFydEluZGV4Om0sZ2x5cGhTdGFydEluZGV4Omcsc2VnbWVudDp2fT1hLHg9ZythLm51bUdseXBocyx5PW0rYS5saW5lTGVuZ3RoLGI9dC5nZXRvZmZzZXRYKGcpLHc9dC5nZXRvZmZzZXRYKHgtMSksVD1JaShlKmIsaSxvLHIscyxuLHYsbSx5LGwsYyxoLHUsZCwhMCxfLHAsZik7aWYoIVQpcmV0dXJuIG51bGw7Y29uc3QgRT1JaShlKncsaSxvLHIscyxuLHYsbSx5LGwsYyxoLHUsZCwhMCxfLHAsZik7cmV0dXJuIEU/e2ZpcnN0OlQsbGFzdDpFfTpudWxsfWZ1bmN0aW9uIFRpKHQsaSxvLHIpe3JldHVybiB0PT09ZS5iNi5ob3Jpem9udGFsJiZNYXRoLmFicyhyKT5NYXRoLmFicyhvKT97dXNlVmVydGljYWw6ITB9OnQ9PT1lLmI2LnZlcnRpY2FsP3I+MD97bmVlZHNGbGlwcGluZzohMH06bnVsbDppIT09X2kudW5rbm93biYmZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWV8fE1hdGguYWJzKHQvZSk+cGl9KG8scik/aT09PV9pLmZsaXBSZXF1aXJlZD97bmVlZHNGbGlwcGluZzohMH06bnVsbDpvPDA/e25lZWRzRmxpcHBpbmc6ITB9Om51bGx9ZnVuY3Rpb24gRWkodCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwLGYsbSxnLHYseCl7Y29uc3QgeT1pLzI0LGI9dC5saW5lT2Zmc2V0WCp5LHc9dC5saW5lT2Zmc2V0WSp5LHtsaW5lU3RhcnRJbmRleDpULGdseXBoU3RhcnRJbmRleDpFLG51bUdseXBoczpTLHNlZ21lbnQ6Qyx3cml0aW5nTW9kZTpJLGZsaXBTdGF0ZTpEfT10LEw9VCt0LmxpbmVMZW5ndGgsQT10PT57aWYodSl7Y29uc3RbaSxvLHJdPXQudXAscz1oLmxlbmd0aDtlLmI4KHUscyswLGksbyxyKSxlLmI4KHUscysxLGksbyxyKSxlLmI4KHUscysyLGksbyxyKSxlLmI4KHUscyszLGksbyxyKTt9Y29uc3RbaSxvLHJdPXQucG9pbnQ7ZS5iOShoLGksbyxyLHQuYW5nbGUpO307aWYoUz4xKXtjb25zdCBlPXdpKHksbCxiLHcsbyxkLF8sdCxjLG4scCxtLCExLGcsdix4KTtpZighZSlyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O2lmKHImJiFvKXtsZXRbaSxvLHJdPWUuZmlyc3QucG9pbnQsW3MsbixsXT1lLmxhc3QucG9pbnQ7W2ksb109dmkoaSxvLHIsYSksW3Msbl09dmkocyxuLGwsYSk7Y29uc3QgYz1UaShJLEQsKHMtaSkqZixuLW8pO2lmKHQuZmxpcFN0YXRlPWMmJmMubmVlZHNGbGlwcGluZz9faS5mbGlwUmVxdWlyZWQ6X2kuZmxpcE5vdFJlcXVpcmVkLGMpcmV0dXJuIGN9QShlLmZpcnN0KTtmb3IobGV0IGU9RSsxO2U8RStTLTE7ZSsrKXtjb25zdCB0PUlpKHkqbC5nZXRvZmZzZXRYKGUpLGIsdyxvLGQsXyxDLFQsTCxjLG4scCxtLCExLCExLGcsdix4KTtpZighdClyZXR1cm4gaC5sZW5ndGgtPTQqKGUtRSkse25vdEVub3VnaFJvb206ITB9O0EodCk7fUEoZS5sYXN0KTt9ZWxzZSB7aWYociYmIW8pe2NvbnN0IGk9dmkoXy54LF8ueSwwLHMpLG89VCtDKzEscj1uZXcgZS5QKGMuZ2V0eChvKSxjLmdldHkobykpLG49dmkoci54LHIueSwwLHMpLGE9blszXT4wP246Q2koXyxyLGksMSxzLHZvaWQgMCxnLHYuY2Fub25pY2FsKSxsPVRpKEksRCwoYVswXS1pWzBdKSpmLGFbMV0taVsxXSk7aWYodC5mbGlwU3RhdGU9bCYmbC5uZWVkc0ZsaXBwaW5nP19pLmZsaXBSZXF1aXJlZDpfaS5mbGlwTm90UmVxdWlyZWQsbClyZXR1cm4gbH1jb25zdCBpPUlpKHkqbC5nZXRvZmZzZXRYKEUpLGIsdyxvLGQsXyxDLFQsTCxjLG4scCxtLCExLCExLGcsdix4KTtpZighaSlyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O0EoaSk7fXJldHVybiB7fX1mdW5jdGlvbiBTaShlLHQsaSxvLHIpe2NvbnN0e3g6cyx5Om4sejphfT1vLnByb2plY3RUaWxlUG9pbnQoZS54LGUueSx0KTtpZighcilyZXR1cm4gdmkocyxuLGEsaSk7Y29uc3RbbCxjLGhdPXIoZSk7cmV0dXJuIHZpKHMrbCxuK2MsYStoLGkpfWZ1bmN0aW9uIENpKHQsaSxvLHIscyxuLGEsbCl7Y29uc3QgYz1TaSh0LnN1YihpKS5fdW5pdCgpLl9hZGQodCksbCxzLGEsbik7cmV0dXJuIGUuTi5zdWIoYyxvLGMpLGUuTi5ub3JtYWxpemUoYyxjKSxlLk4uc2NhbGVBbmRBZGQoYyxvLGMscil9ZnVuY3Rpb24gSWkodCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwLGYsbSxnLHYpe2NvbnN0IHg9cj90LWk6dCtpO2xldCB5PXg+MD8xOi0xLGI9MDtyJiYoeSo9LTEsYj1NYXRoLlBJKSx5PDAmJihiKz1NYXRoLlBJKTtsZXQgdz1sK2ErKHk+MD8wOjEpfDAsVD1zLEU9cyxTPTAsQz0wO2NvbnN0IEk9TWF0aC5hYnMoeCksRD1bXSxMPVtdO2xldCBBPW4sUj1BO2NvbnN0IFA9KCk9PkNpKFIsQSxFLEktUysxLHUsXyxtLGcuY2Fub25pY2FsKTtmb3IoO1MrQzw9STspe2lmKHcrPXksdzxsfHx3Pj1jKXJldHVybiBudWxsO2lmKEU9VCxSPUEsRC5wdXNoKEUpLHAmJkwucHVzaChSKSxBPW5ldyBlLlAoaC5nZXR4KHcpLGguZ2V0eSh3KSksVD1kW3ddLCFUKXtjb25zdCBlPVNpKEEsZy5jYW5vbmljYWwsdSxtLF8pO1Q9ZVszXT4wP2Rbd109ZTpQKCk7fVMrPUMsQz1lLk4uZGlzdGFuY2UoRSxUKTt9ZiYmXyYmKGRbd10mJihUPVAoKSxDPWUuTi5kaXN0YW5jZShFLFQpKSxkW3ddPVQpO2NvbnN0IE09KEktUykvQyx6PUEuc3ViKFIpLl9tdWx0KE0pLl9hZGQoUiksTz1lLk4uc3ViKFtdLFQsRSksRj1lLk4uc2NhbGVBbmRBZGQoW10sRSxPLE0pO2xldCBCPVswLDAsMV0saz1PWzBdLE49T1sxXTtpZih2JiYoQj1tLnVwVmVjdG9yKGcuY2Fub25pY2FsLHoueCx6LnkpLDAhPT1CWzBdfHwwIT09QlsxXXx8MSE9PUJbMl0pKXtjb25zdCB0PVtCWzJdLDAsLUJbMF1dLGk9ZS5OLmNyb3NzKFtdLEIsdCk7ZS5OLm5vcm1hbGl6ZSh0LHQpLGUuTi5ub3JtYWxpemUoaSxpKSxrPWUuTi5kb3QoTyx0KSxOPWUuTi5kb3QoTyxpKTt9aWYobyl7Y29uc3QgdD1lLk4uY3Jvc3MoW10sQixPKTtlLk4ubm9ybWFsaXplKHQsdCksZS5OLnNjYWxlQW5kQWRkKEYsRix0LG8qeSk7fWNvbnN0IFU9YitNYXRoLmF0YW4yKE4sayk7cmV0dXJuIEQucHVzaChGKSxwJiZMLnB1c2goeikse3BvaW50OkYsYW5nbGU6VSxwYXRoOkQsdGlsZVBhdGg6TCx1cDpCfX1mdW5jdGlvbiBEaShlLHQpe2NvbnN0IGk9dC5sZW5ndGgsbz1pKzQqZTt0LnJlc2l6ZShvKSx0LmZsb2F0MzIuZmlsbCgtMS8wLDQqaSw0Km8pO31mdW5jdGlvbiBMaShlLHQsaSl7Y29uc3Qgbz10WzBdLHI9dFsxXTtyZXR1cm4gZVswXT1pWzBdKm8raVs0XSpyK2lbMTJdLGVbMV09aVsxXSpvK2lbNV0qcitpWzEzXSxlWzNdPWlbM10qbytpWzddKnIraVsxNV0sZX1jb25zdCBBaT0xMDA7Y2xhc3MgUml7Y29uc3RydWN0b3IoZSx0LGk9bmV3IGRpKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSksbz1uZXcgZGkoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSl7dGhpcy50cmFuc2Zvcm09ZSx0aGlzLmdyaWQ9aSx0aGlzLmlnbm9yZWRHcmlkPW8sdGhpcy5waXRjaGZhY3Rvcj1NYXRoLmNvcyhlLl9waXRjaCkqZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeT1lLndpZHRoK0FpLHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrQWksdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT1lLndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT1lLmhlaWdodCsyMDAsdGhpcy5mb2dTdGF0ZT10O31wbGFjZUNvbGxpc2lvbkJveChlLHQsaSxvLHIscyxuLGEpe2xldCBsPWkucHJvamVjdGVkQW5jaG9yWCxjPWkucHJvamVjdGVkQW5jaG9yWSxoPWkucHJvamVjdGVkQW5jaG9yWjtjb25zdCB1PWkuZWxldmF0aW9uLGQ9aS50aWxlSUQsXz1lLmdldFByb2plY3Rpb24oKTtpZih1JiZkKXtjb25zdFtlLHQsb109Xy51cFZlY3RvcihkLmNhbm9uaWNhbCxpLnRpbGVBbmNob3JYLGkudGlsZUFuY2hvclkpLHI9Xy51cFZlY3RvclNjYWxlKGQuY2Fub25pY2FsLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7bCs9ZSp1KnIsYys9dCp1KnIsaCs9byp1KnI7fWNvbnN0IHA9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhuLGwsYyxoLGkudGlsZUlELFwiZ2xvYmVcIj09PV8ubmFtZXx8ISF1fHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wLF8pLGY9cypwLnBlcnNwZWN0aXZlUmF0aW8sbT0oaS54MSp0K28ueC1pLnBhZGRpbmcpKmYrcC5wb2ludC54LGc9KGkueTEqdCtvLnktaS5wYWRkaW5nKSpmK3AucG9pbnQueSx2PShpLngyKnQrby54K2kucGFkZGluZykqZitwLnBvaW50LngseD0oaS55Mip0K28ueStpLnBhZGRpbmcpKmYrcC5wb2ludC55LHk9cC5wZXJzcGVjdGl2ZVJhdGlvPD0uNTV8fHAub2NjbHVkZWQ7cmV0dXJuICF0aGlzLmlzSW5zaWRlR3JpZChtLGcsdix4KXx8IXImJnRoaXMuZ3JpZC5oaXRUZXN0KG0sZyx2LHgsYSl8fHk/e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6cC5vY2NsdWRlZH06e2JveDpbbSxnLHYseF0sb2Zmc2NyZWVuOnRoaXMuaXNPZmZzY3JlZW4obSxnLHYseCksb2NjbHVkZWQ6ITF9fXBsYWNlQ29sbGlzaW9uQ2lyY2xlcyh0LGksbyxyLHMsbixhLGwsYyxoLHUsZCxfLHAsZil7Y29uc3QgbT1bXSxnPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbix2PXQuZ2V0UHJvamVjdGlvbigpLHg9Zz9nLmdldEF0VGlsZU9mZnNldEZ1bmMoZix0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSx2KTpudWxsLHk9bmV3IGUuUChvLnRpbGVBbmNob3JYLG8udGlsZUFuY2hvclkpO2xldHt4OmIseTp3LHo6VH09di5wcm9qZWN0VGlsZVBvaW50KHkueCx5LnksZi5jYW5vbmljYWwpO2lmKHgpe2NvbnN0W2UsdCxpXT14KHkpO2IrPWUsdys9dCxUKz1pO31jb25zdCBFPVwiZ2xvYmVcIj09PXYubmFtZSxTPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8oYSxiLHcsVCxmLEV8fCEhZ3x8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCx2KSx7cGVyc3BlY3RpdmVSYXRpbzpDfT1TLEk9KHU/bi9DOm4qQykvZS5iYyxEPXZpKGIsdyxULGwpLEw9Uy5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD93aShJLHMsby5saW5lT2Zmc2V0WCpJLG8ubGluZU9mZnNldFkqSSwhMSxELHksbyxyLGwse30sZyYmIXU/eDpudWxsLHUmJiEhZyx2LGYsdSk6bnVsbDtsZXQgQT0hMSxSPSExLFA9ITA7aWYoTCYmIVMub2NjbHVkZWQpe2NvbnN0IHQ9LjUqXypDK3Asbz1uZXcgZS5QKC0xMDAsLTEwMCkscj1uZXcgZS5QKHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5KSxzPW5ldyB1aSx7Zmlyc3Q6bixsYXN0OmF9PUwsbD1uLnBhdGgubGVuZ3RoO2xldCB1PVtdO2ZvcihsZXQgZT1sLTE7ZT49MTtlLS0pdS5wdXNoKG4ucGF0aFtlXSk7Zm9yKGxldCBlPTE7ZTxhLnBhdGgubGVuZ3RoO2UrKyl1LnB1c2goYS5wYXRoW2VdKTtjb25zdCBmPTIuNSp0O2MmJih1PXUubWFwKCgoW2UsdCxpXSxvKT0+KHgmJiFFJiYoaT14KG88bC0xP24udGlsZVBhdGhbbC0xLW9dOmEudGlsZVBhdGhbby1sKzJdKVsyXSksdmkoZSx0LGksYykpKSksdS5zb21lKChlPT5lWzNdPD0wKSkmJih1PVtdKSk7bGV0IGc9W107aWYodS5sZW5ndGg+MCl7bGV0IHQ9MS8wLGk9LTEvMCxzPTEvMCxuPS0xLzA7Zm9yKGNvbnN0IGUgb2YgdSl0PU1hdGgubWluKHQsZVswXSkscz1NYXRoLm1pbihzLGVbMV0pLGk9TWF0aC5tYXgoaSxlWzBdKSxuPU1hdGgubWF4KG4sZVsxXSk7aT49by54JiZ0PD1yLngmJm4+PW8ueSYmczw9ci55JiYoZz1bdS5tYXAoKHQ9Pm5ldyBlLlAodFswXSx0WzFdKSkpXSwodDxvLnh8fGk+ci54fHxzPG8ueXx8bj5yLnkpJiYoZz1lLmJhKGcsby54LG8ueSxyLngsci55KSkpO31mb3IoY29uc3QgZSBvZiBnKXtzLnJlc2V0KGUsLjI1KnQpO2xldCBvPTA7bz1zLmxlbmd0aDw9LjUqdD8xOk1hdGguY2VpbChzLnBhZGRlZExlbmd0aC9mKSsxO2ZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IHI9ZS9NYXRoLm1heChvLTEsMSksbj1zLmxlcnAociksYT1uLngrQWksbD1uLnkrQWk7bS5wdXNoKGEsbCx0LDApO2NvbnN0IGM9YS10LHU9bC10LF89YSt0LHA9bCt0O2lmKFA9UCYmdGhpcy5pc09mZnNjcmVlbihjLHUsXyxwKSxSPVJ8fHRoaXMuaXNJbnNpZGVHcmlkKGMsdSxfLHApLCFpJiZ0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShhLGwsdCxkKSYmKEE9ITAsIWgpKXJldHVybiB7Y2lyY2xlczpbXSxvZmZzY3JlZW46ITEsY29sbGlzaW9uRGV0ZWN0ZWQ6QSxvY2NsdWRlZDohMX19fX1yZXR1cm4ge2NpcmNsZXM6IWgmJkF8fCFSP1tdOm0sb2Zmc2NyZWVuOlAsY29sbGlzaW9uRGV0ZWN0ZWQ6QSxvY2NsdWRlZDpTLm9jY2x1ZGVkfX1xdWVyeVJlbmRlcmVkU3ltYm9scyh0KXtpZigwPT09dC5sZW5ndGh8fDA9PT10aGlzLmdyaWQua2V5c0xlbmd0aCgpJiYwPT09dGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkpcmV0dXJuIHt9O2NvbnN0IGk9W107bGV0IG89MS8wLHI9MS8wLHM9LTEvMCxuPS0xLzA7Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3QgdD1uZXcgZS5QKGEueCtBaSxhLnkrQWkpO289TWF0aC5taW4obyx0LngpLHI9TWF0aC5taW4ocix0LnkpLHM9TWF0aC5tYXgocyx0LngpLG49TWF0aC5tYXgobix0LnkpLGkucHVzaCh0KTt9Y29uc3QgYT10aGlzLmdyaWQucXVlcnkobyxyLHMsbikuY29uY2F0KHRoaXMuaWdub3JlZEdyaWQucXVlcnkobyxyLHMsbikpLGw9e30sYz17fTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCBvPXQua2V5O2lmKHZvaWQgMD09PWxbby5idWNrZXRJbnN0YW5jZUlkXSYmKGxbby5idWNrZXRJbnN0YW5jZUlkXT17fSksbFtvLmJ1Y2tldEluc3RhbmNlSWRdW28uZmVhdHVyZUluZGV4XSljb250aW51ZTtjb25zdCByPVtuZXcgZS5QKHQueDEsdC55MSksbmV3IGUuUCh0LngyLHQueTEpLG5ldyBlLlAodC54Mix0LnkyKSxuZXcgZS5QKHQueDEsdC55MildO2UuYmIoaSxyKSYmKGxbby5idWNrZXRJbnN0YW5jZUlkXVtvLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09Y1tvLmJ1Y2tldEluc3RhbmNlSWRdJiYoY1tvLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxjW28uYnVja2V0SW5zdGFuY2VJZF0ucHVzaChvLmZlYXR1cmVJbmRleCkpO31yZXR1cm4gY31pbnNlcnRDb2xsaXNpb25Cb3goZSx0LGksbyxyKXsodD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCkuaW5zZXJ0KHtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfSxlWzBdLGVbMV0sZVsyXSxlWzNdKTt9aW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhlLHQsaSxvLHIpe2NvbnN0IHM9dD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCxuPXtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpcy5pbnNlcnRDaXJjbGUobixlW3RdLGVbdCsxXSxlW3QrMl0pO31wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyh0LGksbyxyLHMsbixhKXtjb25zdCBsPVtpLG8sciwxXTtsZXQgYz0hMTtpZihyfHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wKXtpZihlLmE3LnRyYW5zZm9ybU1hdDQobCxsLHQpLHRoaXMuZm9nU3RhdGUmJnMmJlwiZ2xvYmVcIiE9PWEubmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0LGksbyxyLHMsbil7Y29uc3QgYT1uLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgocyksbD1baSxvLHJdO3JldHVybiBlLk4udHJhbnNmb3JtTWF0NChsLGwsYSksZ2UodCxlLk4ubGVuZ3RoKGwpLG4ucGl0Y2gsbi5fZm92KX0odGhpcy5mb2dTdGF0ZSxpLG8scixzLnRvVW53cmFwcGVkKCksdGhpcy50cmFuc2Zvcm0pO2M9dD4uOTt9fWVsc2UgTGkobCxsLHQpO2NvbnN0IGg9bFszXTtyZXR1cm4ge3BvaW50Om5ldyBlLlAoKGxbMF0vaCsxKS8yKnRoaXMudHJhbnNmb3JtLndpZHRoK0FpLCgtbFsxXS9oKzEpLzIqdGhpcy50cmFuc2Zvcm0uaGVpZ2h0K0FpKSxwZXJzcGVjdGl2ZVJhdGlvOk1hdGgubWluKC41K3RoaXMudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoYSkvaCouNSwxLjUpLHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTpoLG9jY2x1ZGVkOm4mJmxbMl0+aHx8Y319aXNPZmZzY3JlZW4oZSx0LGksbyl7cmV0dXJuIGk8QWl8fGU+PXRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeXx8bzxBaXx8dD50aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5fWlzSW5zaWRlR3JpZChlLHQsaSxvKXtyZXR1cm4gaT49MCYmZTx0aGlzLmdyaWRSaWdodEJvdW5kYXJ5JiZvPj0wJiZ0PHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5fWdldFZpZXdwb3J0TWF0cml4KCl7Y29uc3QgdD1lLmE2LmlkZW50aXR5KFtdKTtyZXR1cm4gZS5hNi50cmFuc2xhdGUodCx0LFstMTAwLC0xMDAsMF0pLHR9fWZ1bmN0aW9uIFBpKHQsaSxvKXtjb25zdCByPWkuY3JlYXRlVGlsZU1hdHJpeCh0LHQud29ybGRTaXplLG8udG9VbndyYXBwZWQoKSk7cmV0dXJuIGUuYTYubXVsdGlwbHkobmV3IEZsb2F0MzJBcnJheSgxNiksdC5wcm9qTWF0cml4LHIpfWZ1bmN0aW9uIE1pKGUsdCxpKXtpZih0LnByb2plY3Rpb24ubmFtZT09PWkucHJvamVjdGlvbi5uYW1lKXJldHVybiBlLnByb2pNYXRyaXg7Y29uc3Qgbz1pLmNsb25lKCk7cmV0dXJuIG8uc2V0UHJvamVjdGlvbih0LnByb2plY3Rpb24pLFBpKG8sdC5nZXRQcm9qZWN0aW9uKCksZSl9ZnVuY3Rpb24gemkoZSx0LGkpe3JldHVybiB0Lm5hbWU9PT1pLnByb2plY3Rpb24ubmFtZT9lLnByb2pNYXRyaXg6UGkoaSx0LGUpfWNsYXNzIE9pe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMub3BhY2l0eT1lP01hdGgubWF4KDAsTWF0aC5taW4oMSxlLm9wYWNpdHkrKGUucGxhY2VkP3Q6LXQpKSk6byYmaT8xOjAsdGhpcy5wbGFjZWQ9aTt9aXNIaWRkZW4oKXtyZXR1cm4gMD09PXRoaXMub3BhY2l0eSYmIXRoaXMucGxhY2VkfX1jbGFzcyBGaXtjb25zdHJ1Y3RvcihlLHQsaSxvLHIscz0hMSl7dGhpcy50ZXh0PW5ldyBPaShlP2UudGV4dDpudWxsLHQsaSxyKSx0aGlzLmljb249bmV3IE9pKGU/ZS5pY29uOm51bGwsdCxvLHIpLHRoaXMuY2xpcHBlZD1zO31pc0hpZGRlbigpe3JldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSYmdGhpcy5pY29uLmlzSGlkZGVuKCl9fWNsYXNzIEJpe2NvbnN0cnVjdG9yKGUsdCxpLG89ITEpe3RoaXMudGV4dD1lLHRoaXMuaWNvbj10LHRoaXMuc2tpcEZhZGU9aSx0aGlzLmNsaXBwZWQ9bzt9fWNsYXNzIGtpe2NvbnN0cnVjdG9yKCl7dGhpcy5pbnZQcm9qTWF0cml4PWUuYTYuY3JlYXRlKCksdGhpcy52aWV3cG9ydE1hdHJpeD1lLmE2LmNyZWF0ZSgpLHRoaXMuY2lyY2xlcz1bXTt9fWNsYXNzIE5pe2NvbnN0cnVjdG9yKGUsdCxpLG8scil7dGhpcy5idWNrZXRJbnN0YW5jZUlkPWUsdGhpcy5mZWF0dXJlSW5kZXg9dCx0aGlzLnNvdXJjZUxheWVySW5kZXg9aSx0aGlzLmJ1Y2tldEluZGV4PW8sdGhpcy50aWxlSUQ9cjt9fWNsYXNzIFVpe2NvbnN0cnVjdG9yKGUpe3RoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zPWUsdGhpcy5tYXhHcm91cElEPTAsdGhpcy5jb2xsaXNpb25Hcm91cHM9e307fWdldChlKXtpZih0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucylyZXR1cm4ge0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXSl7Y29uc3QgdD0rK3RoaXMubWF4R3JvdXBJRDt0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXT17SUQ6dCxwcmVkaWNhdGU6ZT0+ZS5jb2xsaXNpb25Hcm91cElEPT09dH07fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXX19ZnVuY3Rpb24gR2kodCxpLG8scixzKXtjb25zdHtob3Jpem9udGFsQWxpZ246bix2ZXJ0aWNhbEFsaWduOmF9PWUuYmYodCksbD0tKG4tLjUpKmksYz0tKGEtLjUpKm8saD1lLmJkKHQscik7cmV0dXJuIG5ldyBlLlAobCtoWzBdKnMsYytoWzFdKnMpfWZ1bmN0aW9uIGppKHQsaSxvLHIscyl7Y29uc3Qgbj1uZXcgZS5QKHQsaSk7cmV0dXJuIG8mJm4uX3JvdGF0ZShyP3M6LXMpLG59Y2xhc3MgVml7Y29uc3RydWN0b3IoZSx0LGksbyxyLHMpe3RoaXMudHJhbnNmb3JtPWUuY2xvbmUoKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLm5hbWUsdGhpcy5jb2xsaXNpb25JbmRleD1uZXcgUmkodGhpcy50cmFuc2Zvcm0sciksdGhpcy5idWlsZGluZ0luZGV4PXMsdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249dCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBVaShpKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fWdldEJ1Y2tldFBhcnRzKHQsaSxvLHIpe2NvbnN0IHM9by5nZXRCdWNrZXQoaSksbj1vLmxhdGVzdEZlYXR1cmVJbmRleDtpZighc3x8IW58fGkuZnFpZCE9PXMubGF5ZXJJZHNbMF0pcmV0dXJuO2NvbnN0IGE9cy5sYXllcnNbMF0ubGF5b3V0LGw9by5jb2xsaXNpb25Cb3hBcnJheSxjPU1hdGgucG93KDIsdGhpcy50cmFuc2Zvcm0uem9vbS1vLnRpbGVJRC5vdmVyc2NhbGVkWiksaD1vLnRpbGVTaXplL2UuVix1PW8udGlsZUlELnRvVW53cmFwcGVkKCk7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihzLnByb2plY3Rpb24pO2NvbnN0IGQ9KF89by50aWxlSUQscD1zLmdldFByb2plY3Rpb24oKSxmPXRoaXMudHJhbnNmb3JtLHAubmFtZT09PXRoaXMucHJvamVjdGlvbj9mLmNhbGN1bGF0ZVByb2pNYXRyaXgoXy50b1Vud3JhcHBlZCgpKTpQaShmLHAsXykpO3ZhciBfLHAsZjtjb25zdCBtPVwibWFwXCI9PT1hLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLGc9XCJtYXBcIj09PWEuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIik7aS5jb21waWxlRmlsdGVyKCk7Y29uc3Qgdj1pLmR5bmFtaWNGaWx0ZXIoKSx4PWkuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpLHk9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgobyksYj1taShkLG8udGlsZUlELmNhbm9uaWNhbCxtLGcsdGhpcy50cmFuc2Zvcm0scy5nZXRQcm9qZWN0aW9uKCkseSk7bGV0IHc9bnVsbDtpZihtKXtjb25zdCB0PWdpKGQsby50aWxlSUQuY2Fub25pY2FsLG0sZyx0aGlzLnRyYW5zZm9ybSxzLmdldFByb2plY3Rpb24oKSx5KTt3PWUuYTYubXVsdGlwbHkoW10sdGhpcy50cmFuc2Zvcm0ubGFiZWxQbGFuZU1hdHJpeCx0KTt9bGV0IFQ9bnVsbDt2JiZvLmxhdGVzdEZlYXR1cmVJbmRleCYmKFQ9e3Vud3JhcHBlZFRpbGVJRDp1LGR5bmFtaWNGaWx0ZXI6dixkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlOngsZmVhdHVyZUluZGV4Om8ubGF0ZXN0RmVhdHVyZUluZGV4fSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtzLmJ1Y2tldEluc3RhbmNlSWRdPW5ldyBOaShzLmJ1Y2tldEluc3RhbmNlSWQsbixzLnNvdXJjZUxheWVySW5kZXgscy5pbmRleCxvLnRpbGVJRCk7Y29uc3QgRT17YnVja2V0OnMsbGF5b3V0OmEscG9zTWF0cml4OmQsdGV4dExhYmVsUGxhbmVNYXRyaXg6YixsYWJlbFRvU2NyZWVuTWF0cml4OncsY2xpcHBpbmdEYXRhOlQsc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpsLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOmUuYjUocy50ZXh0U2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSkscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6ZS5iNShzLmljb25TaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQocy5zb3VyY2VJRCl9O2lmKHIpZm9yKGNvbnN0IGUgb2Ygcy5zb3J0S2V5UmFuZ2VzKXtjb25zdHtzb3J0S2V5Omksc3ltYm9sSW5zdGFuY2VTdGFydDpvLHN5bWJvbEluc3RhbmNlRW5kOnJ9PWU7dC5wdXNoKHtzb3J0S2V5Omksc3ltYm9sSW5zdGFuY2VTdGFydDpvLHN5bWJvbEluc3RhbmNlRW5kOnIscGFyYW1ldGVyczpFfSk7fWVsc2UgdC5wdXNoKHtzeW1ib2xJbnN0YW5jZVN0YXJ0OjAsc3ltYm9sSW5zdGFuY2VFbmQ6cy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoLHBhcmFtZXRlcnM6RX0pO31hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGUsdCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwLGYsbSxnKXtjb25zdHt0ZXh0T2Zmc2V0MDp2LHRleHRPZmZzZXQxOngsY3Jvc3NUaWxlSUQ6eX09dSxiPVt2LHhdLHc9R2koZSxpLG8sYixyKSxUPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goXyxyLHQsamkody54LHcueSxzLG4sdGhpcy50cmFuc2Zvcm0uYW5nbGUpLGgsYSxsLGMucHJlZGljYXRlKTtpZihmKXtjb25zdCBlPV8uZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShnLHRoaXMudHJhbnNmb3JtLnpvb20sdS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO2lmKDA9PT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KF8sZSxmLGppKHcueCx3LnkscyxuLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxoLGEsbCxjLnByZWRpY2F0ZSkuYm94Lmxlbmd0aClyZXR1cm59aWYoVC5ib3gubGVuZ3RoPjApe2xldCB0O3JldHVybiB0aGlzLnByZXZQbGFjZW1lbnQmJnRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbeV0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW3ldJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1t5XS50ZXh0JiYodD10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3ldLmFuY2hvciksdGhpcy52YXJpYWJsZU9mZnNldHNbeV09e3RleHRPZmZzZXQ6Yix3aWR0aDppLGhlaWdodDpvLGFuY2hvcjplLHRleHRTY2FsZTpyLHByZXZBbmNob3I6dH0sdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24oXyxlLHUscCksXy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKF8scCx1KSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1t5XT1wKSx7c2hpZnQ6dyxwbGFjZWRHbHlwaEJveGVzOlR9fX1wbGFjZUxheWVyQnVja2V0UGFydCh0LGksbyxyKXtjb25zdHtidWNrZXQ6cyxsYXlvdXQ6bixwb3NNYXRyaXg6YSx0ZXh0TGFiZWxQbGFuZU1hdHJpeDpsLGxhYmVsVG9TY3JlZW5NYXRyaXg6YyxjbGlwcGluZ0RhdGE6aCx0ZXh0UGl4ZWxSYXRpbzp1LGhvbGRpbmdGb3JGYWRlOmQsY29sbGlzaW9uQm94QXJyYXk6XyxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTpwLHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplOmYsY29sbGlzaW9uR3JvdXA6bX09dC5wYXJhbWV0ZXJzLGc9bi5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpLHY9bi5nZXQoXCJpY29uLW9wdGlvbmFsXCIpLHg9bi5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIikseT1uLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxiPVwibWFwXCI9PT1uLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHc9XCJtYXBcIj09PW4uZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksVD1cInZpZXdwb3J0LXlcIj09PW4uZ2V0KFwic3ltYm9sLXotb3JkZXJcIiksRT1uLmdldChcInN5bWJvbC16LWVsZXZhdGVcIik7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihzLnByb2plY3Rpb24pO2xldCBTPXgmJih5fHwhcy5oYXNJY29uRGF0YSgpfHx2KSxDPXkmJih4fHwhcy5oYXNUZXh0RGF0YSgpfHxnKTshcy5jb2xsaXNpb25BcnJheXMmJl8mJnMuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhfKSxvJiZyJiZzLnVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0aGlzLnRyYW5zZm9ybS56b29tLF8pO2NvbnN0IEk9KHQscixfKT0+e2NvbnN0e2Nyb3NzVGlsZUlEOlQsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOkV9PXQ7aWYoaCl7Y29uc3Qgbz17em9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHBpdGNoOnRoaXMudHJhbnNmb3JtLnBpdGNofTtsZXQgcj1udWxsO2lmKGguZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSl7Y29uc3QgZT10aGlzLnJldGFpbmVkUXVlcnlEYXRhW3MuYnVja2V0SW5zdGFuY2VJZF07cj1oLmZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7ZmVhdHVyZUluZGV4OnQuZmVhdHVyZUluZGV4LGJ1Y2tldEluZGV4OmUuYnVja2V0SW5kZXgsc291cmNlTGF5ZXJJbmRleDplLnNvdXJjZUxheWVySW5kZXgsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0pO31pZighKDAsaC5keW5hbWljRmlsdGVyKShvLHIsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtzLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRC5jYW5vbmljYWwsbmV3IGUuUCh0LnRpbGVBbmNob3JYLHQudGlsZUFuY2hvclkpLHRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZURpc3RhbmNlVGlsZURhdGEoaC51bndyYXBwZWRUaWxlSUQpKSlyZXR1cm4gdGhpcy5wbGFjZW1lbnRzW1RdPW5ldyBCaSghMSwhMSwhMSwhMCksdm9pZCBpLmFkZChUKX1pZihpLmhhcyhUKSlyZXR1cm47aWYoZClyZXR1cm4gdm9pZCh0aGlzLnBsYWNlbWVudHNbVF09bmV3IEJpKCExLCExLCExKSk7bGV0IEk9ITEsRD0hMSxMPSEwLEE9ITEsUj0hMSxQPW51bGwsTT17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sej17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sTz1udWxsLEY9bnVsbCxCPW51bGwsaz0wLE49MCxVPTA7Xy50ZXh0RmVhdHVyZUluZGV4P2s9Xy50ZXh0RmVhdHVyZUluZGV4OnQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMmJihrPXQuZmVhdHVyZUluZGV4KSxfLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCYmKE49Xy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpO2NvbnN0IEc9ZT0+e2UudGlsZUlEPXRoaXMucmV0YWluZWRRdWVyeURhdGFbcy5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQ7Y29uc3QgaT10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247ZS5lbGV2YXRpb249dC56T2Zmc2V0KyhpP2kuZ2V0QXRUaWxlT2Zmc2V0KGUudGlsZUlELGUudGlsZUFuY2hvclgsZS50aWxlQW5jaG9yWSk6MCk7fSxqPV8udGV4dEJveDtpZihqKXtHKGopO2NvbnN0IGk9aT0+e2xldCBvPWUuYjYuaG9yaXpvbnRhbDtpZihzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiFpJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlZE9yaWVudGF0aW9uc1tUXTtlJiYodGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbVF09ZSxvPWUsdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHMsbyx0KSk7fXJldHVybiBvfSxvPSh0LGkpPT57aWYocy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZFPjAmJl8udmVydGljYWxUZXh0Qm94KXtmb3IoY29uc3QgbyBvZiBzLndyaXRpbmdNb2RlcylpZihvPT09ZS5iNi52ZXJ0aWNhbD8oTT1pKCksej1NKTpNPXQoKSxNJiZNLmJveCYmTS5ib3gubGVuZ3RoKWJyZWFrfWVsc2UgTT10KCk7fTtpZihuLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpKXtsZXQgbD1uLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tUXSl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW1RdO2wuaW5kZXhPZihlLmFuY2hvcik+MCYmKGw9bC5maWx0ZXIoKHQ9PnQhPT1lLmFuY2hvcikpLGwudW5zaGlmdChlLmFuY2hvcikpO31jb25zdCBjPShlLGksbyk9Pntjb25zdCBuPXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShwLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxjPShlLngyLWUueDEpKm4rMiplLnBhZGRpbmcsaD0oZS55Mi1lLnkxKSpuKzIqZS5wYWRkaW5nLGQ9dC5oYXNJY29uVGV4dEZpdCYmIXk/aTpudWxsO2QmJkcoZCk7bGV0IF89e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ITF9O2NvbnN0IGc9eD8yKmwubGVuZ3RoOmwubGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZzsrK2kpe2NvbnN0IGc9dGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGxbaSVsLmxlbmd0aF0sZSxjLGgsbixiLHcsdSxhLG0saT49bC5sZW5ndGgsdCxyLHMsbyxkLHAsZik7aWYoZyYmKF89Zy5wbGFjZWRHbHlwaEJveGVzLF8mJl8uYm94JiZfLmJveC5sZW5ndGgpKXtJPSEwLFA9Zy5zaGlmdDticmVha319cmV0dXJuIF99O28oKCgpPT5jKGosXy5pY29uQm94LGUuYjYuaG9yaXpvbnRhbCkpLCgoKT0+e2NvbnN0IHQ9Xy52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIHQmJkcodCkscy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhKE0mJk0uYm94JiZNLmJveC5sZW5ndGgpJiZFPjAmJnQ/Yyh0LF8udmVydGljYWxJY29uQm94LGUuYjYudmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pKSxNJiYoST1NLmJveCxMPU0ub2Zmc2NyZWVuLEE9TS5vY2NsdWRlZCk7Y29uc3QgaD1pKCEoIU18fCFNLmJveCkpO2lmKCFJJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tUXTtlJiYodGhpcy52YXJpYWJsZU9mZnNldHNbVF09ZSx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihzLGUuYW5jaG9yLHQsaCkpO319ZWxzZSB7Y29uc3Qgbj0oaSxvKT0+e2NvbnN0IG49cy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHAsdCx0aGlzLnRyYW5zZm9ybS56b29tLHIpLGw9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChzLG4saSxuZXcgZS5QKDAsMCkseCx1LGEsbS5wcmVkaWNhdGUpO3JldHVybiBsJiZsLmJveCYmbC5ib3gubGVuZ3RoJiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHMsbyx0KSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tUXT1vKSxsfTtvKCgoKT0+bihqLGUuYjYuaG9yaXpvbnRhbCkpLCgoKT0+e2NvbnN0IHQ9Xy52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIHMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmRT4wJiZ0PyhHKHQpLG4odCxlLmI2LnZlcnRpY2FsKSk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSkpLGkoISEoTSYmTS5ib3gmJk0uYm94Lmxlbmd0aCkpO319aWYoTz1NLEk9TyYmTy5ib3gmJk8uYm94Lmxlbmd0aD4wLEw9TyYmTy5vZmZzY3JlZW4sQT1PJiZPLm9jY2x1ZGVkLHQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpe2NvbnN0IGk9cy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxyPWUuYjcocy50ZXh0U2l6ZURhdGEscCxpKSxoPW4uZ2V0KFwidGV4dC1wYWRkaW5nXCIpO0Y9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXMocyx4LGkscy5saW5lVmVydGV4QXJyYXkscy5nbHlwaE9mZnNldEFycmF5LHIsYSxsLGMsbyx3LG0ucHJlZGljYXRlLHQuY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIqci9lLmJjLGgsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtzLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCksST14fHxGLmNpcmNsZXMubGVuZ3RoPjAmJiFGLmNvbGxpc2lvbkRldGVjdGVkLEw9TCYmRi5vZmZzY3JlZW4sQT1GLm9jY2x1ZGVkO31pZihfLmljb25GZWF0dXJlSW5kZXgmJihVPV8uaWNvbkZlYXR1cmVJbmRleCksXy5pY29uQm94KXtjb25zdCBpPWk9PntHKGkpO2NvbnN0IG89dC5oYXNJY29uVGV4dEZpdCYmUD9qaShQLngsUC55LGIsdyx0aGlzLnRyYW5zZm9ybS5hbmdsZSk6bmV3IGUuUCgwLDApLHI9cy5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGYsdGhpcy50cmFuc2Zvcm0uem9vbSx0LnBsYWNlZEljb25TeW1ib2xJbmRleCk7cmV0dXJuIHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gocyxyLGksbyx5LHUsYSxtLnByZWRpY2F0ZSl9O3omJnouYm94JiZ6LmJveC5sZW5ndGgmJl8udmVydGljYWxJY29uQm94PyhCPWkoXy52ZXJ0aWNhbEljb25Cb3gpLEQ9Qi5ib3gubGVuZ3RoPjApOihCPWkoXy5pY29uQm94KSxEPUIuYm94Lmxlbmd0aD4wKSxMPUwmJkIub2Zmc2NyZWVuLFI9Qi5vY2NsdWRlZDt9Y29uc3QgVj1nfHwwPT09dC5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyYmMD09PUUsWj12fHwwPT09dC5udW1JY29uVmVydGljZXM7aWYoVnx8Wj9aP1Z8fChEPUQmJkkpOkk9RCYmSTpEPUk9RCYmSSxJJiZPJiZPLmJveCYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3goTy5ib3gsbi5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIikscy5idWNrZXRJbnN0YW5jZUlkLHomJnouYm94JiZOP046ayxtLklEKSxEJiZCJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChCLmJveCxuLmdldChcImljb24taWdub3JlLXBsYWNlbWVudFwiKSxzLmJ1Y2tldEluc3RhbmNlSWQsVSxtLklEKSxGJiYoSSYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25DaXJjbGVzKEYuY2lyY2xlcyxuLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxzLmJ1Y2tldEluc3RhbmNlSWQsayxtLklEKSxvKSl7Y29uc3QgZT1zLmJ1Y2tldEluc3RhbmNlSWQ7bGV0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZV07dm9pZCAwPT09dCYmKHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZV09bmV3IGtpKTtmb3IobGV0IGU9MDtlPEYuY2lyY2xlcy5sZW5ndGg7ZSs9NCl0LmNpcmNsZXMucHVzaChGLmNpcmNsZXNbZSswXSksdC5jaXJjbGVzLnB1c2goRi5jaXJjbGVzW2UrMV0pLHQuY2lyY2xlcy5wdXNoKEYuY2lyY2xlc1tlKzJdKSx0LmNpcmNsZXMucHVzaChGLmNvbGxpc2lvbkRldGVjdGVkPzE6MCk7fWNvbnN0IEg9XCJnbG9iZVwiIT09cy5wcm9qZWN0aW9uLm5hbWU7Uz1TJiYoSHx8IUEpLEM9QyYmKEh8fCFSKSx0aGlzLnBsYWNlbWVudHNbVF09bmV3IEJpKEl8fFMsRHx8QyxMfHxzLmp1c3RSZWxvYWRlZCksaS5hZGQoVCk7fTtpZihFJiZ0aGlzLmJ1aWxkaW5nSW5kZXgmJih0aGlzLmJ1aWxkaW5nSW5kZXgudXBkYXRlWk9mZnNldChzLHRoaXMucmV0YWluZWRRdWVyeURhdGFbcy5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQpLHMudXBkYXRlWk9mZnNldCgpKSxUKXtjb25zdCB0PXMuZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7Zm9yKGxldCBlPXQubGVuZ3RoLTE7ZT49MDstLWUpe2NvbnN0IGk9dFtlXTtJKHMuc3ltYm9sSW5zdGFuY2VzLmdldChpKSxpLHMuY29sbGlzaW9uQXJyYXlzW2ldKTt9cy5oYXNBbnlaT2Zmc2V0JiZlLncoYCR7cy5sYXllcklkc1swXX0gbGF5ZXIgc3ltYm9sLXotZWxldmF0ZTogc3ltYm9scyBhcmUgbm90IHNvcnRlZCBieSBlbGV2YXRpb24gaWYgc3ltYm9sLXotb3JkZXIgaXMgZXZhbHVhdGVkIHRvIHZpZXdwb3J0LXlgKTt9ZWxzZSBpZihzLmhhc0FueVpPZmZzZXQpe2NvbnN0IGU9cy5nZXRTb3J0ZWRJbmRleGVzQnlaT2Zmc2V0KCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDsrK3Qpe2NvbnN0IGk9ZVt0XTtJKHMuc3ltYm9sSW5zdGFuY2VzLmdldChpKSxpLHMuY29sbGlzaW9uQXJyYXlzW2ldKTt9fWVsc2UgZm9yKGxldCBlPXQuc3ltYm9sSW5zdGFuY2VTdGFydDtlPHQuc3ltYm9sSW5zdGFuY2VFbmQ7ZSsrKUkocy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLGUscy5jb2xsaXNpb25BcnJheXNbZV0pO2lmKG8mJnMuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tzLmJ1Y2tldEluc3RhbmNlSWRdO2UuYTYuaW52ZXJ0KHQuaW52UHJvak1hdHJpeCxhKSx0LnZpZXdwb3J0TWF0cml4PXRoaXMuY29sbGlzaW9uSW5kZXguZ2V0Vmlld3BvcnRNYXRyaXgoKTt9cy5qdXN0UmVsb2FkZWQ9ITE7fW1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LGksbyxyKXtjb25zdHtsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnMsY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Om4scmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6YSx2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpsLGNyb3NzVGlsZUlEOmN9PW8saD1lLmJlKGkpLHU9cj09PWUuYjYudmVydGljYWw/bDpcImxlZnRcIj09PWg/czpcImNlbnRlclwiPT09aD9uOlwicmlnaHRcIj09PWg/YTotMTtzPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChzKS5jcm9zc1RpbGVJRD11Pj0wJiZzIT09dT8wOmMpLG4+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG4pLmNyb3NzVGlsZUlEPXU+PTAmJm4hPT11PzA6YyksYT49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYSkuY3Jvc3NUaWxlSUQ9dT49MCYmYSE9PXU/MDpjKSxsPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChsKS5jcm9zc1RpbGVJRD11Pj0wJiZsIT09dT8wOmMpO31tYXJrVXNlZE9yaWVudGF0aW9uKHQsaSxvKXtjb25zdCByPWk9PT1lLmI2Lmhvcml6b250YWx8fGk9PT1lLmI2Lmhvcml6b250YWxPbmx5P2k6MCxzPWk9PT1lLmI2LnZlcnRpY2FsP2k6MCx7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpuLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDphLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmwsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6Y309byxoPXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheTtuPj0wJiYoaC5nZXQobikucGxhY2VkT3JpZW50YXRpb249ciksYT49MCYmKGguZ2V0KGEpLnBsYWNlZE9yaWVudGF0aW9uPXIpLGw+PTAmJihoLmdldChsKS5wbGFjZWRPcmllbnRhdGlvbj1yKSxjPj0wJiYoaC5nZXQoYykucGxhY2VkT3JpZW50YXRpb249cyk7fWNvbW1pdChlKXt0aGlzLmNvbW1pdFRpbWU9ZSx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTtjb25zdCB0PXRoaXMucHJldlBsYWNlbWVudDtsZXQgaT0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD10P3Quem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDtjb25zdCBvPXQ/dC5zeW1ib2xGYWRlQ2hhbmdlKGUpOjEscj10P3Qub3BhY2l0aWVzOnt9LHM9dD90LnZhcmlhYmxlT2Zmc2V0czp7fSxuPXQ/dC5wbGFjZWRPcmllbnRhdGlvbnM6e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5wbGFjZW1lbnRzKXtjb25zdCB0PXRoaXMucGxhY2VtZW50c1tlXSxzPXJbZV07cz8odGhpcy5vcGFjaXRpZXNbZV09bmV3IEZpKHMsbyx0LnRleHQsdC5pY29uLG51bGwsdC5jbGlwcGVkKSxpPWl8fHQudGV4dCE9PXMudGV4dC5wbGFjZWR8fHQuaWNvbiE9PXMuaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tlXT1uZXcgRmkobnVsbCxvLHQudGV4dCx0Lmljb24sdC5za2lwRmFkZSx0LmNsaXBwZWQpLGk9aXx8dC50ZXh0fHx0Lmljb24pO31mb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07aWYoIXRoaXMub3BhY2l0aWVzW2VdKXtjb25zdCByPW5ldyBGaSh0LG8sITEsITEpO3IuaXNIaWRkZW4oKXx8KHRoaXMub3BhY2l0aWVzW2VdPXIsaT1pfHx0LnRleHQucGxhY2VkfHx0Lmljb24ucGxhY2VkKTt9fWZvcihjb25zdCBlIGluIHMpdGhpcy52YXJpYWJsZU9mZnNldHNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2VdPXNbZV0pO2Zvcihjb25zdCBlIGluIG4pdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdPW5bZV0pO2k/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT1lOlwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lJiYodGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10P3QubGFzdFBsYWNlbWVudENoYW5nZVRpbWU6ZSk7fXVwZGF0ZUxheWVyT3BhY2l0aWVzKGUsdCl7Y29uc3QgaT1uZXcgU2V0O2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by5nZXRCdWNrZXQoZSk7dCYmby5sYXRlc3RGZWF0dXJlSW5kZXgmJmUuZnFpZD09PXQubGF5ZXJJZHNbMF0mJih0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LGksby5jb2xsaXNpb25Cb3hBcnJheSksdC5sYXllcnNbMF0ubGF5b3V0LmdldChcInN5bWJvbC16LWVsZXZhdGVcIikmJnRoaXMuYnVpbGRpbmdJbmRleCYmKHRoaXMuYnVpbGRpbmdJbmRleC51cGRhdGVaT2Zmc2V0KHQsby50aWxlSUQpLHQudXBkYXRlWk9mZnNldCgpKSk7fX11cGRhdGVCdWNrZXRPcGFjaXRpZXModCxpLG8pe3QuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkRhdGEoKSYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtjb25zdCByPXQubGF5ZXJzWzBdLmxheW91dCxzPSEhdC5sYXllcnNbMF0uZHluYW1pY0ZpbHRlcigpLG49bmV3IEZpKG51bGwsMCwhMSwhMSwhMCksYT1yLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSxsPXIuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGM9ci5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxoPVwibWFwXCI9PT1yLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHU9XCJtYXBcIj09PXIuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksZD1uZXcgRmkobnVsbCwwLGEmJihsfHwhdC5oYXNJY29uRGF0YSgpfHxyLmdldChcImljb24tb3B0aW9uYWxcIikpLGwmJihhfHwhdC5oYXNUZXh0RGF0YSgpfHxyLmdldChcInRleHQtb3B0aW9uYWxcIikpLCEwKTshdC5jb2xsaXNpb25BcnJheXMmJm8mJih0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl8fHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkmJnQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhvKTtjb25zdCBfPShlLHQsaSk9Pntmb3IobGV0IG89MDtvPHQvNDtvKyspZS5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soaSk7fTtsZXQgcD0wO2ZvcihsZXQgbz0wO288dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO28rKyl7Y29uc3Qgcj10LnN5bWJvbEluc3RhbmNlcy5nZXQobykse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOmEsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmwsY3Jvc3NUaWxlSUQ6ZixudW1JY29uVmVydGljZXM6bX09cixnPWkuaGFzKGYpO2xldCB2PXRoaXMub3BhY2l0aWVzW2ZdO2c/dj1uOnZ8fCh2PWQsdGhpcy5vcGFjaXRpZXNbZl09diksaS5hZGQoZik7Y29uc3QgeD1hPjB8fGw+MCx5PW0+MCxiPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ZdLHc9Yj09PWUuYjYudmVydGljYWwsVD1iPT09ZS5iNi5ob3Jpem9udGFsfHxiPT09ZS5iNi5ob3Jpem9udGFsT25seTtpZigheCYmIXl8fHYuaXNIaWRkZW4oKXx8cCsrLHgpe2NvbnN0IGU9Smkodi50ZXh0KTtfKHQudGV4dCxhLHc/UWk6ZSksXyh0LnRleHQsbCxUP1FpOmUpO2NvbnN0IGk9di50ZXh0LmlzSGlkZGVuKCkse2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6cyxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpuLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OmN9PXIsaD10LnRleHQucGxhY2VkU3ltYm9sQXJyYXksdT1pfHx3PzE6MDtvPj0wJiYoaC5nZXQobykuaGlkZGVuPXUpLHM+PTAmJihoLmdldChzKS5oaWRkZW49dSksbj49MCYmKGguZ2V0KG4pLmhpZGRlbj11KSxjPj0wJiYoaC5nZXQoYykuaGlkZGVuPWl8fFQ/MTowKTtjb25zdCBkPXRoaXMudmFyaWFibGVPZmZzZXRzW2ZdO2QmJnRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsZC5hbmNob3IscixiKTtjb25zdCBwPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ZdO3AmJih0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LFwibGVmdFwiLHIscCksdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHQscCxyKSk7fWlmKHkpe2NvbnN0IGU9Smkodi5pY29uKSx7cGxhY2VkSWNvblN5bWJvbEluZGV4OmksdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg6b309cixzPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSxuPXYuaWNvbi5pc0hpZGRlbigpPzE6MDtpPj0wJiYoXyh0Lmljb24sbSx3P1FpOmUpLHMuZ2V0KGkpLmhpZGRlbj1uKSxvPj0wJiYoXyh0Lmljb24sci5udW1WZXJ0aWNhbEljb25WZXJ0aWNlcyxUP1FpOmUpLHMuZ2V0KG8pLmhpZGRlbj1uKTt9aWYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpe2NvbnN0IGk9dC5jb2xsaXNpb25BcnJheXNbb107aWYoaSl7bGV0IG89bmV3IGUuUCgwLDApLG49ITA7aWYoaS50ZXh0Qm94fHxpLnZlcnRpY2FsVGV4dEJveCl7aWYoYyl7Y29uc3QgZT10aGlzLnZhcmlhYmxlT2Zmc2V0c1tmXTtlPyhvPUdpKGUuYW5jaG9yLGUud2lkdGgsZS5oZWlnaHQsZS50ZXh0T2Zmc2V0LGUudGV4dFNjYWxlKSxoJiZvLl9yb3RhdGUodT90aGlzLnRyYW5zZm9ybS5hbmdsZTotdGhpcy50cmFuc2Zvcm0uYW5nbGUpKTpuPSExO31zJiYobj0hdi5jbGlwcGVkKSxpLnRleHRCb3gmJlppKHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSx2LnRleHQucGxhY2VkLCFufHx3LG8ueCxvLnkpLGkudmVydGljYWxUZXh0Qm94JiZaaSh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksdi50ZXh0LnBsYWNlZCwhbnx8VCxvLngsby55KTt9Y29uc3QgYT1uJiZCb29sZWFuKCFUJiZpLnZlcnRpY2FsSWNvbkJveCk7aS5pY29uQm94JiZaaSh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksdi5pY29uLnBsYWNlZCxhLHIuaGFzSWNvblRleHRGaXQ/by54OjAsci5oYXNJY29uVGV4dEZpdD9vLnk6MCksaS52ZXJ0aWNhbEljb25Cb3gmJlppKHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSx2Lmljb24ucGxhY2VkLCFhLHIuaGFzSWNvblRleHRGaXQ/by54OjAsci5oYXNJY29uVGV4dEZpdD9vLnk6MCk7fX19aWYodC5mdWxseUNsaXBwZWQ9MD09PXAsdC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPXQuZmVhdHVyZVNvcnRPcmRlciksdC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0LmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IGU9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt0LnBsYWNlbWVudEludlByb2pNYXRyaXg9ZS5pbnZQcm9qTWF0cml4LHQucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9ZS52aWV3cG9ydE1hdHJpeCx0LmNvbGxpc2lvbkNpcmNsZUFycmF5PWUuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt9fXN5bWJvbEZhZGVDaGFuZ2UoZSl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOihlLXRoaXMuY29tbWl0VGltZSkvdGhpcy5mYWRlRHVyYXRpb24rdGhpcy5wcmV2Wm9vbUFkanVzdG1lbnR9em9vbUFkanVzdG1lbnQoZSl7cmV0dXJuIE1hdGgubWF4KDAsKHRoaXMudHJhbnNmb3JtLnpvb20tZSkvMS41KX1oYXNUcmFuc2l0aW9ucyhlKXtyZXR1cm4gdGhpcy5zdGFsZXx8ZS10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufXN0aWxsUmVjZW50KGUsdCl7Y29uc3QgaT10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT10PzEtdGhpcy56b29tQWRqdXN0bWVudCh0KToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dCx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qaT5lfXNldFN0YWxlKCl7dGhpcy5zdGFsZT0hMDt9fWZ1bmN0aW9uIFppKGUsdCxpLG8scil7ZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxvfHwwLHJ8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAsb3x8MCxyfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLG98fDAscnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxvfHwwLHJ8fDApO31jb25zdCBIaT1NYXRoLnBvdygyLDI1KSxXaT1NYXRoLnBvdygyLDI0KSxxaT1NYXRoLnBvdygyLDE3KSwkaT1NYXRoLnBvdygyLDE2KSxYaT1NYXRoLnBvdygyLDkpLEtpPU1hdGgucG93KDIsOCksWWk9TWF0aC5wb3coMiwxKTtmdW5jdGlvbiBKaShlKXtpZigwPT09ZS5vcGFjaXR5JiYhZS5wbGFjZWQpcmV0dXJuIDA7aWYoMT09PWUub3BhY2l0eSYmZS5wbGFjZWQpcmV0dXJuIDQyOTQ5NjcyOTU7Y29uc3QgdD1lLnBsYWNlZD8xOjAsaT1NYXRoLmZsb29yKDEyNyplLm9wYWNpdHkpO3JldHVybiBpKkhpK3QqV2kraSpxaSt0KiRpK2kqWGkrdCpLaStpKllpK3R9Y29uc3QgUWk9MDtjbGFzcyBlb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9zb3J0QWNyb3NzVGlsZXM9XCJ2aWV3cG9ydC15XCIhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtei1vcmRlclwiKSYmdm9pZCAwIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSksdGhpcy5fY3VycmVudFRpbGVJbmRleD0wLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXg9MCx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzPW5ldyBTZXQsdGhpcy5fYnVja2V0UGFydHM9W107fWNvbnRpbnVlUGxhY2VtZW50KGUsdCxpLG8scil7Y29uc3Qgcz10aGlzLl9idWNrZXRQYXJ0cztmb3IoO3RoaXMuX2N1cnJlbnRUaWxlSW5kZXg8ZS5sZW5ndGg7KWlmKHQuZ2V0QnVja2V0UGFydHMocyxvLGVbdGhpcy5fY3VycmVudFRpbGVJbmRleF0sdGhpcy5fc29ydEFjcm9zc1RpbGVzKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4KysscigpKXJldHVybiAhMDtmb3IodGhpcy5fc29ydEFjcm9zc1RpbGVzJiYodGhpcy5fc29ydEFjcm9zc1RpbGVzPSExLHMuc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKSk7dGhpcy5fY3VycmVudFBhcnRJbmRleDxzLmxlbmd0aDspe2NvbnN0IGU9c1t0aGlzLl9jdXJyZW50UGFydEluZGV4XTtpZih0LnBsYWNlTGF5ZXJCdWNrZXRQYXJ0KGUsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyxpLDA9PT1lLnN5bWJvbEluc3RhbmNlU3RhcnQpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxyKCkpcmV0dXJuICEwfXJldHVybiAhMX19Y2xhc3MgdG97Y29uc3RydWN0b3IoZSx0LGksbyxyLHMsbixhLGwpe3RoaXMucGxhY2VtZW50PW5ldyBWaShlLHIscyxuLGEsbCksdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4PXQubGVuZ3RoLTEsdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50PWksdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPW8sdGhpcy5fZG9uZT0hMTt9aXNEb25lKCl7cmV0dXJuIHRoaXMuX2RvbmV9Y29udGludWVQbGFjZW1lbnQodCxpLG8scil7Y29uc3Qgcz1lLmYubm93KCksbj0oKT0+e2NvbnN0IHQ9ZS5mLm5vdygpLXM7cmV0dXJuICF0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQmJnQ+Mn07Zm9yKDt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXtjb25zdCBzPWlbdFt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXhdXSxhPXRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO2lmKFwic3ltYm9sXCI9PT1zLnR5cGUmJighcy5taW56b29tfHxzLm1pbnpvb208PWEpJiYoIXMubWF4em9vbXx8cy5tYXh6b29tPmEpKXtjb25zdCB0PXMsaT10LmxheW91dC5nZXQoXCJzeW1ib2wtei1lbGV2YXRlXCIpLGE9dGhpcy5faW5Qcm9ncmVzc0xheWVyPXRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8bmV3IGVvKHQpLGw9ZS5hZyhzLnNvdXJjZSxzLnNjb3BlKTtpZihhLmNvbnRpbnVlUGxhY2VtZW50KGk/cltsXTpvW2xdLHRoaXMucGxhY2VtZW50LHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyxzLG4pKXJldHVybjtkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyO310aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLTt9dGhpcy5fZG9uZT0hMDt9Y29tbWl0KGUpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQoZSksdGhpcy5wbGFjZW1lbnR9fWNvbnN0IGlvPTUxMi9lLlYvMjtjbGFzcyBvb3tjb25zdHJ1Y3Rvcih0LGksbyl7dGhpcy50aWxlSUQ9dCx0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9byx0aGlzLmluZGV4PW5ldyBlLmJnKGkubGVuZ3RoLDE2LEludDMyQXJyYXkpLHRoaXMua2V5cz1bXSx0aGlzLmNyb3NzVGlsZUlEcz1bXTtjb25zdCByPXQuY2Fub25pY2FsLngqZS5WLHM9dC5jYW5vbmljYWwueSplLlY7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0e2tleTp0LGNyb3NzVGlsZUlEOm8sdGlsZUFuY2hvclg6bix0aWxlQW5jaG9yWTphfT1pLmdldChlKSxsPU1hdGguZmxvb3IoKHIrbikqaW8pLGM9TWF0aC5mbG9vcigocythKSppbyk7dGhpcy5pbmRleC5hZGQobCxjKSx0aGlzLmtleXMucHVzaCh0KSx0aGlzLmNyb3NzVGlsZUlEcy5wdXNoKG8pO310aGlzLmluZGV4LmZpbmlzaCgpO31maW5kTWF0Y2hlcyh0LGksbyl7Y29uc3Qgcj10aGlzLnRpbGVJRC5jYW5vbmljYWwuejxpLmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei1pLmNhbm9uaWNhbC56KSxzPWlvL01hdGgucG93KDIsaS5jYW5vbmljYWwuei10aGlzLnRpbGVJRC5jYW5vbmljYWwueiksbj1pLmNhbm9uaWNhbC54KmUuVixhPWkuY2Fub25pY2FsLnkqZS5WO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBpPXQuZ2V0KGUpO2lmKGkuY3Jvc3NUaWxlSUQpY29udGludWU7Y29uc3R7a2V5OmwsdGlsZUFuY2hvclg6Yyx0aWxlQW5jaG9yWTpofT1pLHU9TWF0aC5mbG9vcigobitjKSpzKSxkPU1hdGguZmxvb3IoKGEraCkqcyksXz10aGlzLmluZGV4LnJhbmdlKHUtcixkLXIsdStyLGQrcik7Zm9yKGNvbnN0IGUgb2YgXyl7Y29uc3QgdD10aGlzLmNyb3NzVGlsZUlEc1tlXTtpZih0aGlzLmtleXNbZV09PT1sJiYhby5oYXModCkpe28uYWRkKHQpLGkuY3Jvc3NUaWxlSUQ9dDticmVha319fX19Y2xhc3Mgcm97Y29uc3RydWN0b3IoKXt0aGlzLm1heENyb3NzVGlsZUlEPTA7fWdlbmVyYXRlKCl7cmV0dXJuICsrdGhpcy5tYXhDcm9zc1RpbGVJRH19Y2xhc3Mgc297Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZXM9e30sdGhpcy51c2VkQ3Jvc3NUaWxlSURzPXt9LHRoaXMubG5nPTA7fWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS10aGlzLmxuZykvMzYwKTtpZigwIT09dClmb3IoY29uc3QgZSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IGk9dGhpcy5pbmRleGVzW2VdLG89e307Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3Qgcj1pW2VdO3IudGlsZUlEPXIudGlsZUlELnVud3JhcFRvKHIudGlsZUlELndyYXArdCksb1tyLnRpbGVJRC5rZXldPXI7fXRoaXMuaW5kZXhlc1tlXT1vO310aGlzLmxuZz1lO31hZGRCdWNrZXQoZSx0LGkpe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSl7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XS5idWNrZXRJbnN0YW5jZUlkPT09dC5idWNrZXRJbnN0YW5jZUlkKXJldHVybiAhMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pO31mb3IobGV0IGU9MDtlPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspdC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLmNyb3NzVGlsZUlEPTA7dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdfHwodGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdPW5ldyBTZXQpO2NvbnN0IG89dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdO2Zvcihjb25zdCBpIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgcj10aGlzLmluZGV4ZXNbaV07aWYoTnVtYmVyKGkpPmUub3ZlcnNjYWxlZFopZm9yKGNvbnN0IGkgaW4gcil7Y29uc3Qgcz1yW2ldO3MudGlsZUlELmlzQ2hpbGRPZihlKSYmcy5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG8pO31lbHNlIHtjb25zdCBzPXJbZS5zY2FsZWRUbyhOdW1iZXIoaSkpLmtleV07cyYmcy5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG8pO319Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXtjb25zdCByPXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtyLmNyb3NzVGlsZUlEfHwoci5jcm9zc1RpbGVJRD1pLmdlbmVyYXRlKCksby5hZGQoci5jcm9zc1RpbGVJRCkpO31yZXR1cm4gdm9pZCAwPT09dGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdPXt9KSx0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldPW5ldyBvbyhlLHQuc3ltYm9sSW5zdGFuY2VzLHQuYnVja2V0SW5zdGFuY2VJZCksITB9cmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdC5jcm9zc1RpbGVJRHMpdGhpcy51c2VkQ3Jvc3NUaWxlSURzW2VdLmRlbGV0ZShpKTt9cmVtb3ZlU3RhbGVCdWNrZXRzKGUpe2xldCB0PSExO2Zvcihjb25zdCBpIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgbz10aGlzLmluZGV4ZXNbaV07Zm9yKGNvbnN0IHIgaW4gbyllW29bcl0uYnVja2V0SW5zdGFuY2VJZF18fCh0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhpLG9bcl0pLGRlbGV0ZSBvW3JdLHQ9ITApO31yZXR1cm4gdH19Y2xhc3Mgbm97Y29uc3RydWN0b3IoKXt0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmNyb3NzVGlsZUlEcz1uZXcgcm8sdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkPTAsdGhpcy5idWNrZXRzSW5DdXJyZW50UGxhY2VtZW50PXt9O31hZGRMYXllcihlLHQsaSxvKXtsZXQgcj10aGlzLmxheWVySW5kZXhlc1tlLmZxaWRdO3ZvaWQgMD09PXImJihyPXRoaXMubGF5ZXJJbmRleGVzW2UuZnFpZF09bmV3IHNvKTtsZXQgcz0hMTtjb25zdCBuPXt9O1wiZ2xvYmVcIiE9PW8ubmFtZSYmci5oYW5kbGVXcmFwSnVtcChpKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkuZ2V0QnVja2V0KGUpO3QmJmUuZnFpZD09PXQubGF5ZXJJZHNbMF0mJih0LmJ1Y2tldEluc3RhbmNlSWR8fCh0LmJ1Y2tldEluc3RhbmNlSWQ9Kyt0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQpLHIuYWRkQnVja2V0KGkudGlsZUlELHQsdGhpcy5jcm9zc1RpbGVJRHMpJiYocz0hMCksblt0LmJ1Y2tldEluc3RhbmNlSWRdPSEwKTt9cmV0dXJuIHIucmVtb3ZlU3RhbGVCdWNrZXRzKG4pJiYocz0hMCksc31wcnVuZVVudXNlZExheWVycyhlKXtjb25zdCB0PXt9O2UuZm9yRWFjaCgoZT0+e3RbZV09ITA7fSkpO2Zvcihjb25zdCBlIGluIHRoaXMubGF5ZXJJbmRleGVzKXRbZV18fGRlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXTt9fWNsYXNzIGFve2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLG89MCl7aWYoaXNOYU4oZSl8fGU8MHx8aXNOYU4odCl8fHQ8MHx8aXNOYU4oaSl8fGk8MHx8aXNOYU4obyl8fG88MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBlZGdlLWluc2V0cywgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0IG11c3QgYWxsIGJlIG51bWJlcnNcIik7dGhpcy50b3A9ZSx0aGlzLmJvdHRvbT10LHRoaXMubGVmdD1pLHRoaXMucmlnaHQ9bzt9aW50ZXJwb2xhdGUodCxpLG8pe3JldHVybiBudWxsIT1pLnRvcCYmbnVsbCE9dC50b3AmJih0aGlzLnRvcD1lLlUodC50b3AsaS50b3AsbykpLG51bGwhPWkuYm90dG9tJiZudWxsIT10LmJvdHRvbSYmKHRoaXMuYm90dG9tPWUuVSh0LmJvdHRvbSxpLmJvdHRvbSxvKSksbnVsbCE9aS5sZWZ0JiZudWxsIT10LmxlZnQmJih0aGlzLmxlZnQ9ZS5VKHQubGVmdCxpLmxlZnQsbykpLG51bGwhPWkucmlnaHQmJm51bGwhPXQucmlnaHQmJih0aGlzLnJpZ2h0PWUuVSh0LnJpZ2h0LGkucmlnaHQsbykpLHRoaXN9Z2V0Q2VudGVyKHQsaSl7Y29uc3Qgbz1lLmFhKCh0aGlzLmxlZnQrdC10aGlzLnJpZ2h0KS8yLDAsdCkscj1lLmFhKCh0aGlzLnRvcCtpLXRoaXMuYm90dG9tKS8yLDAsaSk7cmV0dXJuIG5ldyBlLlAobyxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IGFvKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm4ge3RvcDp0aGlzLnRvcCxib3R0b206dGhpcy5ib3R0b20sbGVmdDp0aGlzLmxlZnQscmlnaHQ6dGhpcy5yaWdodH19fWZ1bmN0aW9uIGxvKHQsaSl7Y29uc3Qgbz1lLmJrKHQsMyk7ZS5hNi5mcm9tUXVhdCh0LGkpLGUuYm0odCwzLG8pO31mdW5jdGlvbiBjbyh0LGkpe2NvbnN0IG89ZS5iaS5pZGVudGl0eShbXSk7cmV0dXJuIGUuYmkucm90YXRlWihvLG8sLWkpLGUuYmkucm90YXRlWChvLG8sLXQpLG99ZnVuY3Rpb24gaG8odCxpKXtjb25zdCBvPVt0WzBdLHRbMV0sMF0scj1baVswXSxpWzFdLDBdO2lmKGUuTi5sZW5ndGgobyk+PTFlLTE1KXtjb25zdCB0PWUuTi5ub3JtYWxpemUoW10sbyk7ZS5OLnNjYWxlKHIsdCxlLk4uZG90KHIsdCkpLGlbMF09clswXSxpWzFdPXJbMV07fWNvbnN0IHM9ZS5OLmNyb3NzKFtdLGksdCk7aWYoZS5OLmxlbihzKTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBuPU1hdGguYXRhbjIoLXNbMV0sc1swXSk7cmV0dXJuIGNvKE1hdGguYXRhbjIoTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pLC10WzJdKSxuKX1jbGFzcyB1b3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLm9yaWVudGF0aW9uPXQ7fWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24odCl7aWYodCl7Y29uc3QgaT10IGluc3RhbmNlb2YgZS5MP3Q6bmV3IGUuTCh0WzBdLHRbMV0sdFsyXSk7dGhpcy5fcmVuZGVyV29ybGRDb3BpZXMmJihpLng9ZS5iaChpLngsMCwxKSksdGhpcy5fcG9zaXRpb249aTt9ZWxzZSB0aGlzLl9wb3NpdGlvbj1udWxsO31sb29rQXRQb2ludCh0LGkpe2lmKHRoaXMub3JpZW50YXRpb249bnVsbCwhdGhpcy5wb3NpdGlvbilyZXR1cm47Y29uc3Qgbz10aGlzLnBvc2l0aW9uLHI9dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGUuTC5mcm9tTG5nTGF0KHQpKTowLHM9ZS5MLmZyb21MbmdMYXQodCxyKSxuPVtzLngtby54LHMueS1vLnkscy56LW8uel07aXx8KGk9WzAsMCwxXSksaVsyXT1NYXRoLmFicyhpWzJdKSx0aGlzLm9yaWVudGF0aW9uPWhvKG4saSk7fXNldFBpdGNoQmVhcmluZyh0LGkpe3RoaXMub3JpZW50YXRpb249Y28oZS5iaih0KSxlLmJqKC1pKSk7fX1jbGFzcyBfb3tjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuX3RyYW5zZm9ybT1lLmE2LmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPWksdGhpcy5wb3NpdGlvbj10O31nZXQgbWVyY2F0b3JQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbjtyZXR1cm4gbmV3IGUuTCh0WzBdLHRbMV0sdFsyXSl9Z2V0IHBvc2l0aW9uKCl7Y29uc3QgdD1lLmJrKHRoaXMuX3RyYW5zZm9ybSwzKTtyZXR1cm4gW3RbMF0sdFsxXSx0WzJdXX1zZXQgcG9zaXRpb24odCl7dmFyIGk7dCYmZS5ibSh0aGlzLl90cmFuc2Zvcm0sMyxbKGk9dClbMF0saVsxXSxpWzJdLDFdKTt9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj10fHxlLmJpLmlkZW50aXR5KFtdKSx0JiZsbyh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pO31nZXRQaXRjaEJlYXJpbmcoKXtjb25zdCBlPXRoaXMuZm9yd2FyZCgpLHQ9dGhpcy5yaWdodCgpO3JldHVybiB7YmVhcmluZzpNYXRoLmF0YW4yKC10WzFdLHRbMF0pLHBpdGNoOk1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKX19c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5fb3JpZW50YXRpb249Y28oZSx0KSxsbyh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pO31mb3J3YXJkKCl7Y29uc3QgdD1lLmJrKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm4gWy10WzBdLC10WzFdLC10WzJdXX11cCgpe2NvbnN0IHQ9ZS5iayh0aGlzLl90cmFuc2Zvcm0sMSk7cmV0dXJuIFstdFswXSwtdFsxXSwtdFsyXV19cmlnaHQoKXtjb25zdCB0PWUuYmsodGhpcy5fdHJhbnNmb3JtLDApO3JldHVybiBbdFswXSx0WzFdLHRbMl1dfWdldENhbWVyYVRvV29ybGQodCxpKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLmE2LmludmVydChvLHRoaXMuZ2V0V29ybGRUb0NhbWVyYSh0LGkpKSxvfWdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm19Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsaSxvKXtjb25zdCByPXRoaXMucG9zaXRpb247ZS5OLnNjYWxlKHIsciwtdCk7Y29uc3Qgcz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5hNi5mcm9tU2NhbGluZyhzLFtvLG8sb10pLGUuYTYudHJhbnNsYXRlKHMscyxyKSxzWzEwXSo9aSxzfWdldFdvcmxkVG9DYW1lcmEodCxpKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpLHI9bmV3IEZsb2F0NjRBcnJheSg0KSxzPXRoaXMucG9zaXRpb247cmV0dXJuIGUuYmkuY29uanVnYXRlKHIsdGhpcy5fb3JpZW50YXRpb24pLGUuTi5zY2FsZShzLHMsLXQpLGUuYTYuZnJvbVF1YXQobyxyKSxlLmE2LnRyYW5zbGF0ZShvLG8scyksb1sxXSo9LTEsb1s1XSo9LTEsb1s5XSo9LTEsb1sxM10qPS0xLG9bOF0qPWksb1s5XSo9aSxvWzEwXSo9aSxvWzExXSo9aSxvfWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHQsaSxvLHIpe2NvbnN0IHM9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuYTYucGVyc3BlY3RpdmUocyx0LGksbyxyKSxzfWdldENhbWVyYVRvQ2xpcE9ydGhvZ3JhcGhpYyh0LGksbyxyLHMsbil7Y29uc3QgYT1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5hNi5vcnRobyhhLHQsaSxvLHIscyxuKSxhfWdldERpc3RhbmNlVG9FbGV2YXRpb24odCxpPSExKXtjb25zdCBvPTA9PT10PzA6ZS5ibCh0LGk/ZS5hdSh0aGlzLnBvc2l0aW9uWzFdKTp0aGlzLnBvc2l0aW9uWzFdKSxyPXRoaXMuZm9yd2FyZCgpO3JldHVybiAoby10aGlzLnBvc2l0aW9uWzJdKS9yWzJdfWNsb25lKCl7cmV0dXJuIG5ldyBfbyhbLi4udGhpcy5wb3NpdGlvbl0sWy4uLnRoaXMub3JpZW50YXRpb25dKX19Y29uc3QgcG89KGUsdCxpKT0+KDEtaSkqZStpKnQsZm89ZT0+ZSplKmUqZSplO2NsYXNzIG1ve2NvbnN0cnVjdG9yKHQsaSxvLHIscyxuLGEpe3RoaXMudGlsZVNpemU9NTEyLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzPXZvaWQgMD09PXN8fHMsdGhpcy5fbWluWm9vbT10fHwwLHRoaXMuX21heFpvb209aXx8MjIsdGhpcy5fbWluUGl0Y2g9bnVsbD09bz8wOm8sdGhpcy5fbWF4UGl0Y2g9bnVsbD09cj82MDpyLHRoaXMuc2V0UHJvamVjdGlvbihuKSx0aGlzLnNldE1heEJvdW5kcyhhKSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLl9jZW50ZXI9bmV3IGUuYm4oMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fbmVhclo9MCx0aGlzLl9mYXJaPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBhbyx0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU9e30sdGhpcy5fZXhwYW5kZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LHRoaXMuX2NhbWVyYT1uZXcgX28sdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPTAsdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsPTEsdGhpcy5nbG9iZVJhZGl1cz0wLHRoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1bMCwwLDBdLHRoaXMuX3RpbGVDb3ZlckxpZnQ9MCx0aGlzLl9ob3Jpem9uU2hpZnQ9LjEsdGhpcy5fb3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2g9ITE7fWNsb25lKCl7Y29uc3QgZT1uZXcgbW8odGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tLHRoaXMuX21pblBpdGNoLHRoaXMubWF4UGl0Y2gsdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMsdGhpcy5nZXRQcm9qZWN0aW9uKCkpO3JldHVybiBlLl9lbGV2YXRpb249dGhpcy5fZWxldmF0aW9uLGUuX2NlbnRlckFsdGl0dWRlPXRoaXMuX2NlbnRlckFsdGl0dWRlLGUuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbixlLnRpbGVTaXplPXRoaXMudGlsZVNpemUsZS5tZXJjYXRvckZyb21UcmFuc2l0aW9uPXRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbixlLndpZHRoPXRoaXMud2lkdGgsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsZS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UsZS5fY2VudGVyPXRoaXMuX2NlbnRlcixlLl9zZXRab29tKHRoaXMuem9vbSksZS5fc2VhTGV2ZWxab29tPXRoaXMuX3NlYUxldmVsWm9vbSxlLmFuZ2xlPXRoaXMuYW5nbGUsZS5fZm92PXRoaXMuX2ZvdixlLl9waXRjaD10aGlzLl9waXRjaCxlLl9uZWFyWj10aGlzLl9uZWFyWixlLl9mYXJaPXRoaXMuX2ZhclosZS5fYXZlcmFnZUVsZXZhdGlvbj10aGlzLl9hdmVyYWdlRWxldmF0aW9uLGUuX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoPXRoaXMuX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoLGUuX3VubW9kaWZpZWQ9dGhpcy5fdW5tb2RpZmllZCxlLl9lZGdlSW5zZXRzPXRoaXMuX2VkZ2VJbnNldHMuY2xvbmUoKSxlLl9jYW1lcmE9dGhpcy5fY2FtZXJhLmNsb25lKCksZS5fY2FsY01hdHJpY2VzKCksZS5mcmVlemVUaWxlQ292ZXJhZ2U9dGhpcy5mcmVlemVUaWxlQ292ZXJhZ2UsZS5mcnVzdHVtQ29ybmVycz10aGlzLmZydXN0dW1Db3JuZXJzLGV9Z2V0IGlzT3J0aG9ncmFwaGljKCl7cmV0dXJuIFwiZ2xvYmVcIiE9PXRoaXMucHJvamVjdGlvbi5uYW1lJiZ0aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCYmdGhpcy5waXRjaDwxNX1nZXQgZWxldmF0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbn1zZXQgZWxldmF0aW9uKGUpe3RoaXMuX2VsZXZhdGlvbiE9PWUmJih0aGlzLl9lbGV2YXRpb249ZSx0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fWdldCBkZXB0aE9jY2x1c2lvbkZvclN5bWJvbHNBbmRDaXJjbGVzKCl7cmV0dXJuIFwiZ2xvYmVcIiE9PXRoaXMucHJvamVjdGlvbi5uYW1lJiYhdGhpcy5pc09ydGhvZ3JhcGhpY311cGRhdGVFbGV2YXRpb24oZSx0PSExKXtjb25zdCBpPXRoaXMuX2VsZXZhdGlvbiYmdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbjsobnVsbD09dGhpcy5fc2VhTGV2ZWxab29tfHxpKSYmdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksKGV8fGkpJiZ0aGlzLl9jb25zdHJhaW5DYW1lcmEodCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWdldFByb2plY3Rpb24oKXtyZXR1cm4gZS5hYyh0aGlzLnByb2plY3Rpb24sW1wibmFtZVwiLFwiY2VudGVyXCIsXCJwYXJhbGxlbHNcIl0pfXNldFByb2plY3Rpb24oaSl7dGhpcy5wcm9qZWN0aW9uT3B0aW9ucz1pfHx7bmFtZTpcIm1lcmNhdG9yXCJ9O2NvbnN0IG89dGhpcy5wcm9qZWN0aW9uP3RoaXMuZ2V0UHJvamVjdGlvbigpOnZvaWQgMDt0aGlzLnByb2plY3Rpb249ZS5ibyh0aGlzLnByb2plY3Rpb25PcHRpb25zKTtjb25zdCByPSF0KG8sdGhpcy5nZXRQcm9qZWN0aW9uKCkpO3JldHVybiByJiZ0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITEscn1zZXRPcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaChlKXtyZXR1cm4gdGhpcy5fb3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2ghPT1lJiYodGhpcy5fb3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2g9ZSx0aGlzLl9jYWxjTWF0cmljZXMoKSwhMCl9c2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpe2NvbnN0IHQ9dGhpcy5wcm9qZWN0aW9uLm5hbWU7dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uPSEwLHRoaXMucHJvamVjdGlvbk9wdGlvbnM9e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnByb2plY3Rpb249ZS5ibyh7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCBpPXQhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gaSYmdGhpcy5fY2FsY01hdHJpY2VzKCksaX1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpO31nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpO31nZXQgbWluUGl0Y2goKXtyZXR1cm4gdGhpcy5fbWluUGl0Y2h9c2V0IG1pblBpdGNoKGUpe3RoaXMuX21pblBpdGNoIT09ZSYmKHRoaXMuX21pblBpdGNoPWUsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLGUpKTt9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSk7fWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZTt9Z2V0IHdvcmxkU2l6ZSgpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9Z2V0IGNhbWVyYVdvcmxkU2l6ZUZvckZvZygpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IGNhbWVyYVdvcmxkU2l6ZSgpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiwhMCksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IHBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUpfWdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpe3JldHVybiBlLmJsKDEsdGhpcy5jZW50ZXIubGF0KSp0aGlzLmNhbWVyYVdvcmxkU2l6ZUZvckZvZ31nZXQgY2VudGVyT2Zmc2V0KCl7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuX3N1Yih0aGlzLnNpemUuX2RpdigyKSl9Z2V0IHNpemUoKXtyZXR1cm4gbmV3IGUuUCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1nZXQgYmVhcmluZygpe3JldHVybiBlLmJoKHRoaXMucm90YXRpb24sLTE4MCwxODApfXNldCBiZWFyaW5nKGUpe3RoaXMucm90YXRpb249ZTt9Z2V0IHJvdGF0aW9uKCl7cmV0dXJuIC10aGlzLmFuZ2xlL01hdGguUEkqMTgwfXNldCByb3RhdGlvbih0KXtjb25zdCBpPS10Kk1hdGguUEkvMTgwO3RoaXMuYW5nbGUhPT1pJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLmFuZ2xlPWksdGhpcy5fY2FsY01hdHJpY2VzKCksdGhpcy5yb3RhdGlvbk1hdHJpeD1lLmI0LmNyZWF0ZSgpLGUuYjQucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLmFuZ2xlKSk7fWdldCBwaXRjaCgpe3JldHVybiB0aGlzLl9waXRjaC9NYXRoLlBJKjE4MH1zZXQgcGl0Y2godCl7Y29uc3QgaT1lLmFhKHQsdGhpcy5taW5QaXRjaCx0aGlzLm1heFBpdGNoKS8xODAqTWF0aC5QSTt0aGlzLl9waXRjaCE9PWkmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3BpdGNoPWksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31nZXQgYXNwZWN0KCl7cmV0dXJuIHRoaXMud2lkdGgvdGhpcy5oZWlnaHR9Z2V0IGZvdigpe3JldHVybiB0aGlzLl9mb3YvTWF0aC5QSSoxODB9Z2V0IGZvdlgoKXtyZXR1cm4gdGhpcy5fZm92fWdldCBmb3ZZKCl7Y29uc3QgZT0xL01hdGgudGFuKC41KnRoaXMuZm92WCk7cmV0dXJuIDIqTWF0aC5hdGFuKDEvdGhpcy5hc3BlY3QvZSl9c2V0IGZvdih0KXt0PU1hdGgubWF4KC4wMSxNYXRoLm1pbig2MCx0KSksdGhpcy5fZm92IT09dCYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZm92PWUuYmoodCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31nZXQgYXZlcmFnZUVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9ufXNldCBhdmVyYWdlRWxldmF0aW9uKGUpe3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl9jYWxjRm9nTWF0cmljZXMoKSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e307fWdldCB6b29tKCl7cmV0dXJuIHRoaXMuX3pvb219c2V0IHpvb20oZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09dCYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fc2V0Wm9vbSh0KSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fV9zZXRab29tKGUpe3RoaXMuX3pvb209ZSx0aGlzLnNjYWxlPXRoaXMuem9vbVNjYWxlKGUpLHRoaXMudGlsZVpvb209TWF0aC5mbG9vcihlKSx0aGlzLnpvb21GcmFjdGlvbj1lLXRoaXMudGlsZVpvb207fWdldCB0aWxlQ292ZXJMaWZ0KCl7cmV0dXJuIHRoaXMuX3RpbGVDb3ZlckxpZnR9c2V0IHRpbGVDb3ZlckxpZnQoZSl7dGhpcy5fdGlsZUNvdmVyTGlmdCE9PWUmJih0aGlzLl90aWxlQ292ZXJMaWZ0PWUpO31fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0PXRoaXMuZWxldmF0aW9uJiZlPT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZJiZ0aGlzLmVsZXZhdGlvbi52aXNpYmxlRGVtVGlsZXMubGVuZ3RoPjAmJnRoaXMuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpPjAmJnRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247aWYoIXRoaXMuX2VsZXZhdGlvbnx8ZT09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSYmKCF0fHwhdGhpcy5fY2VudGVyQWx0aXR1ZGUpKXJldHVybiB0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX3NlYUxldmVsWm9vbT1udWxsLHZvaWQodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj12b2lkIDApO2NvbnN0IGk9dGhpcy5fZWxldmF0aW9uO3R8fHRoaXMuX2NlbnRlckFsdGl0dWRlJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uJiZpLmV4YWdnZXJhdGlvbigpJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uIT09aS5leGFnZ2VyYXRpb24oKT8odGhpcy5fY2VudGVyQWx0aXR1ZGU9dGhpcy5fY2VudGVyQWx0aXR1ZGUvdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbippLmV4YWdnZXJhdGlvbigpLHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249aS5leGFnZ2VyYXRpb24oKSk6KHRoaXMuX2NlbnRlckFsdGl0dWRlPWV8fDAsdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1pLmV4YWdnZXJhdGlvbigpKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTt9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpO31zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbixpPVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLG89dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgcj0wLHM9MDtmb3IobGV0IG49MDtuPGkubGVuZ3RoO24rKyl7Y29uc3QgYT1uZXcgZS5QKGlbbl1bMF0qdGhpcy53aWR0aCxvK2lbbl1bMV0qKHRoaXMuaGVpZ2h0LW8pKSxsPXQucG9pbnRDb29yZGluYXRlKGEpO2lmKCFsKWNvbnRpbnVlO2NvbnN0IGM9MS9NYXRoLmh5cG90KGxbMF0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLGxbMV0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzFdKTtyKz1sWzNdKmMscys9Yzt9cmV0dXJuIDA9PT1zP05hTjpyL3N9Z2V0IGNlbnRlcigpe3JldHVybiB0aGlzLl9jZW50ZXJ9c2V0IGNlbnRlcihlKXtlLmxhdD09PXRoaXMuX2NlbnRlci5sYXQmJmUubG5nPT09dGhpcy5fY2VudGVyLmxuZ3x8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY2VudGVyPWUsdGhpcy5fdGVycmFpbkVuYWJsZWQoKSYmKFwiZ3JvdW5kXCI9PT10aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT90aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKTp0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fV91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpe2lmKG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8IXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgZT10aGlzLl9zZWFMZXZlbFpvb20sdD10aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpLGk9dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSp0LG89dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSkscj10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSxzPU1hdGgubWF4KG8taSxyKTt0aGlzLl9zZXRab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHMpKTt9Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX1zZXQgcGFkZGluZyhlKXt0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKXx8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZSh0aGlzLl9lZGdlSW5zZXRzLGUsMSksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31jb21wdXRlWm9vbVJlbGF0aXZlVG8odCl7Y29uc3QgaT10aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodGhpcy5wb2ludFJheUludGVyc2VjdGlvbih0aGlzLmNlbnRlclBvaW50LHQudG9BbHRpdHVkZSgpKSk7bGV0IG87bz10Lno8dGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdP1tpLngsaS55LGkuel06W3QueCx0LnksdC56XTtjb25zdCByPWUuTi5sZW5ndGgoZS5OLnN1YihbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sbykpO3JldHVybiBlLmFhKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHIpLHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSl9c2V0RnJlZUNhbWVyYU9wdGlvbnModCl7aWYoIXRoaXMuaGVpZ2h0KXJldHVybjtpZighdC5wb3NpdGlvbiYmIXQub3JpZW50YXRpb24pcmV0dXJuO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7bGV0IGk9ITE7aWYodC5vcmllbnRhdGlvbiYmIWUuYmkuZXhhY3RFcXVhbHModC5vcmllbnRhdGlvbix0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pJiYoaT10aGlzLl9zZXRDYW1lcmFPcmllbnRhdGlvbih0Lm9yaWVudGF0aW9uKSksdC5wb3NpdGlvbil7Y29uc3Qgbz1bdC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSx0LnBvc2l0aW9uLnpdO2UuTi5leGFjdEVxdWFscyhvLHRoaXMuX2NhbWVyYS5wb3NpdGlvbil8fCh0aGlzLl9zZXRDYW1lcmFQb3NpdGlvbihvKSxpPSEwKTt9aSYmKHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpLHRoaXMucmVjZW50ZXJPblRlcnJhaW4oKSk7fWdldEZyZWVDYW1lcmFPcHRpb25zKCl7dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCB0PXRoaXMuX2NhbWVyYS5wb3NpdGlvbixpPW5ldyB1bztyZXR1cm4gaS5wb3NpdGlvbj1uZXcgZS5MKHRbMF0sdFsxXSx0WzJdKSxpLm9yaWVudGF0aW9uPXRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbixpLl9lbGV2YXRpb249dGhpcy5lbGV2YXRpb24saS5fcmVuZGVyV29ybGRDb3BpZXM9dGhpcy5yZW5kZXJXb3JsZENvcGllcyxpfV9zZXRDYW1lcmFPcmllbnRhdGlvbih0KXtpZighZS5iaS5sZW5ndGgodCkpcmV0dXJuICExO2UuYmkubm9ybWFsaXplKHQsdCk7Y29uc3QgaT1lLk4udHJhbnNmb3JtUXVhdChbXSxbMCwwLC0xXSx0KSxvPWUuTi50cmFuc2Zvcm1RdWF0KFtdLFswLC0xLDBdLHQpO2lmKG9bMl08MClyZXR1cm4gITE7Y29uc3Qgcj1obyhpLG8pO3JldHVybiAhIXImJih0aGlzLl9jYW1lcmEub3JpZW50YXRpb249ciwhMCl9X3NldENhbWVyYVBvc2l0aW9uKHQpe2NvbnN0IGk9dGhpcy56b29tU2NhbGUodGhpcy5taW5ab29tKSp0aGlzLnRpbGVTaXplLG89dGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSp0aGlzLnRpbGVTaXplLHI9dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO3RbMl09ZS5hYSh0WzJdLHIvbyxyL2kpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10O31nZXQgY2VudGVyUG9pbnQoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGZvdkFib3ZlQ2VudGVyKCl7cmV0dXJuIHRoaXMuX2ZvdiooLjUrdGhpcy5jZW50ZXJPZmZzZXQueS90aGlzLmhlaWdodCl9aXNQYWRkaW5nRXF1YWwoZSl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfWludGVycG9sYXRlUGFkZGluZyhlLHQsaSl7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKGUsdCxpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9Y292ZXJpbmdab29tTGV2ZWwoZSl7Y29uc3QgdD0oZS5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLnpvb20rdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZS9lLnRpbGVTaXplKSk7cmV0dXJuIE1hdGgubWF4KDAsdCl9Z2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHQpe2NvbnN0IGk9W25ldyBlLmJwKDAsdCldO2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpe2NvbnN0IG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUuUCgwLDApKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLlAodGhpcy53aWR0aCwwKSkscz10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5QKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxuPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLlAoMCx0aGlzLmhlaWdodCkpLGE9TWF0aC5mbG9vcihNYXRoLm1pbihvLngsci54LHMueCxuLngpKSxsPU1hdGguZmxvb3IoTWF0aC5tYXgoby54LHIueCxzLngsbi54KSksYz0xO2ZvcihsZXQgbz1hLWM7bzw9bCtjO28rKykwIT09byYmaS5wdXNoKG5ldyBlLmJwKG8sdCkpO31yZXR1cm4gaX1pc0xPRERpc2FibGVkKGUpe3JldHVybiAoIWV8fHRoaXMucGl0Y2g8PTYwKSYmdGhpcy5fZWRnZUluc2V0cy50b3A8PXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tJiYhdGhpcy5fZWxldmF0aW9uJiYhdGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZX1leHRlbmRUaWxlQ292ZXJGb3JTaGFkb3dzKHQsaSxvKXtsZXQgcj1bXTtpZigwPT09aVswXSYmMD09PWlbMV0pcmV0dXJuIHI7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1vLmNhbm9uaWNhbCxzPW8ub3ZlcnNjYWxlZFosbj1vLndyYXAsYT0xPDx0LnosbD10LngrMTxhLGM9dC54PjAsaD10LnkrMTxhLHU9dC55PjAsZD1vLndyYXAtKGM/MDoxKSxfPW8ud3JhcCsobD8wOjEpLHA9Yz90LngtMTphLTEsZj1sP3QueCsxOjA7aVswXTwwPyhyLnB1c2gobmV3IGUuYW0ocyxfLHQueixmLHQueSkpLGlbMV08MCYmaCYmKHIucHVzaChuZXcgZS5hbShzLG4sdC56LHQueCx0LnkrMSkpLHIucHVzaChuZXcgZS5hbShzLF8sdC56LGYsdC55KzEpKSksaVsxXT4wJiZ1JiYoci5wdXNoKG5ldyBlLmFtKHMsbix0LnosdC54LHQueS0xKSksci5wdXNoKG5ldyBlLmFtKHMsXyx0LnosZix0LnktMSkpKSk6aVswXT4wPyhyLnB1c2gobmV3IGUuYW0ocyxkLHQueixwLHQueSkpLGlbMV08MCYmaCYmKHIucHVzaChuZXcgZS5hbShzLG4sdC56LHQueCx0LnkrMSkpLHIucHVzaChuZXcgZS5hbShzLGQsdC56LHAsdC55KzEpKSksaVsxXT4wJiZ1JiYoci5wdXNoKG5ldyBlLmFtKHMsbix0LnosdC54LHQueS0xKSksci5wdXNoKG5ldyBlLmFtKHMsZCx0LnoscCx0LnktMSkpKSk6aVsxXTwwJiZoP3IucHVzaChuZXcgZS5hbShzLG4sdC56LHQueCx0LnkrMSkpOnUmJnIucHVzaChuZXcgZS5hbShzLG4sdC56LHQueCx0LnktMSkpO31pZihyLmxlbmd0aD4xKXtyLnNvcnQoKChlLHQpPT5lLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFp8fGUud3JhcC10LndyYXB8fGUuY2Fub25pY2FsLnotdC5jYW5vbmljYWwuenx8ZS5jYW5vbmljYWwueC10LmNhbm9uaWNhbC54fHxlLmNhbm9uaWNhbC55LXQuY2Fub25pY2FsLnkpKTtsZXQgZT0wLHQ9MDtmb3IoO3Q8ci5sZW5ndGg7KXJbdF0uZXF1YWxzKHJbZV0pPysrdDpyWysrZV09clt0KytdO3IubGVuZ3RoPWUrMTt9Y29uc3Qgcz1bXTtmb3IoY29uc3QgZSBvZiByKXIuc29tZSgodD0+ZS5pc0NoaWxkT2YodCkpKXx8cy5wdXNoKGUpO3JldHVybiByPXMuZmlsdGVyKChlPT4hdC5zb21lKCh0PT4hIShlLm92ZXJzY2FsZWRaPG8mJnQuaXNDaGlsZE9mKGUpKXx8ZS5lcXVhbHModCl8fGUuaXNDaGlsZE9mKHQpKSkpKSxyfWNvdmVyaW5nVGlsZXModCl7bGV0IGk9dGhpcy5jb3ZlcmluZ1pvb21MZXZlbCh0KTtjb25zdCBvPWkscj10aGlzLmVsZXZhdGlvbiYmdGhpcy5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkscz1yJiYhdC5pc1RlcnJhaW5ERU0sbj1cIm1lcmNhdG9yXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZTtpZih2b2lkIDAhPT10Lm1pbnpvb20mJmk8dC5taW56b29tKXJldHVybiBbXTt2b2lkIDAhPT10Lm1heHpvb20mJmk+dC5tYXh6b29tJiYoaT10Lm1heHpvb20pO2NvbnN0IGE9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLGw9dGhpcy5jZW50ZXIubGF0LGM9MTw8aSxoPVtjKmEueCxjKmEueSwwXSx1PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGQ9IXUsXz1lLmJxLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxpLGQpLHA9dT90aGlzLl9jYW1lcmEubWVyY2F0b3JQb3NpdGlvbjp0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpLGY9YyplLmJsKDEsdGhpcy5jZW50ZXIubGF0KSxtPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS9lLmJsKDEsdGhpcy5jZW50ZXIubGF0KSxnPVtjKnAueCxjKnAueSxtKihkPzE6ZildLHY9dXx8cix4PXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90LnRpbGVTaXplKih0LnJvdW5kWm9vbT8xOi41MDIpLHk9dGhpcy5pc0xPRERpc2FibGVkKCEwKT9pOjA7bGV0IGI7aWYodGhpcy5fZWxldmF0aW9uJiZ0LmlzVGVycmFpbkRFTSliPTFlNCp0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCk7ZWxzZSBpZih0aGlzLl9lbGV2YXRpb24pe2NvbnN0IGU9dGhpcy5fZWxldmF0aW9uLmdldE1pbk1heEZvclZpc2libGVUaWxlcygpO2I9ZT9lLm1heDp0aGlzLl9jZW50ZXJBbHRpdHVkZTt9ZWxzZSBiPXRoaXMuX2NlbnRlckFsdGl0dWRlO2NvbnN0IHc9dC5pc1RlcnJhaW5ERU0/LWI6dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOjAsVD10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP2UuYnIodGhpcyk6MSxFPXQ9Pntjb25zdCBpPTEvNGU0LG89bmV3IGUuTCh0LngraSx0LnksdC56KSxyPW5ldyBlLkwodC54LHQueStpLHQueikscz10LnRvTG5nTGF0KCksbj1vLnRvTG5nTGF0KCksYT1yLnRvTG5nTGF0KCksbD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShzKSxjPXRoaXMubG9jYXRpb25Db29yZGluYXRlKG4pLGg9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUoYSksdT1NYXRoLmh5cG90KGMueC1sLngsYy55LWwueSksZD1NYXRoLmh5cG90KGgueC1sLngsaC55LWwueSk7cmV0dXJuIE1hdGguc3FydCh1KmQpKlQvaX0sUz10PT57Y29uc3QgaT1iLG89dztyZXR1cm4ge2FhYmI6ZS5idSh0aGlzLGMsMCwwLDAsdCxvLGksdGhpcy5wcm9qZWN0aW9uKSx6b29tOjAseDowLHk6MCxtaW5aOm8sbWF4WjppLHdyYXA6dCxmdWxseVZpc2libGU6ITF9fSxDPVtdO2xldCBJPVtdO2NvbnN0IEQ9aSxMPXQucmVwYXJzZU92ZXJzY2FsZWQ/bzppLEE9ZT0+ZSplLFI9QSgobS10aGlzLl9jZW50ZXJBbHRpdHVkZSkqZiksUD1lPT57aWYoIXRoaXMuX2VsZXZhdGlvbnx8IWUudGlsZUlEfHwhbilyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb24uZ2V0TWluTWF4Rm9yVGlsZShlLnRpbGVJRCksaT1lLmFhYmI7dD8oaS5taW5bMl09dC5taW4saS5tYXhbMl09dC5tYXgsaS5jZW50ZXJbMl09KGkubWluWzJdK2kubWF4WzJdKS8yKTooZS5zaG91bGRTcGxpdD1NKGUpLGUuc2hvdWxkU3BsaXR8fChpLm1pblsyXT1pLm1heFsyXT1pLmNlbnRlclsyXT10aGlzLl9jZW50ZXJBbHRpdHVkZSkpO30sTT10PT57aWYodC56b29tPHkpcmV0dXJuICEwO2lmKHQuem9vbT09PUQpcmV0dXJuICExO2lmKG51bGwhPXQuc2hvdWxkU3BsaXQpcmV0dXJuIHQuc2hvdWxkU3BsaXQ7Y29uc3QgaT10LmFhYmIuZGlzdGFuY2VYKGcpLHI9dC5hYWJiLmRpc3RhbmNlWShnKTtsZXQgbj1SLGE9MTtpZih1KXtuPUEodC5hYWJiLmRpc3RhbmNlWihnKSk7Y29uc3QgaT1NYXRoLnBvdygyLHQuem9vbSksbz1lLmF1KCh0LnkrMSkvaSkscj1lLmF1KHQueS9pKSxzPU1hdGgubWluKE1hdGgubWF4KGwsbyksciksYz1lLmJKKHMpL2UuYkoobCk7aWYoYT1zPT09bD8xL01hdGgubWF4KDEsdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvLS4zKTpNYXRoLm1pbigxLGMvdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvKSx0aGlzLnpvb208PWUuYkcmJnQuem9vbT09PUQtMSYmYz49LjkpcmV0dXJuICEwfWVsc2UgaWYocyYmKG49QSh0LmFhYmIuZGlzdGFuY2VaKGcpKmYpKSx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlJiZvPD01KXtjb25zdCBpPU1hdGgucG93KDIsdC56b29tKSxvPUUobmV3IGUuTCgodC54Ky41KS9pLCh0LnkrLjUpL2kpKTthPW8+Ljg1PzE6bzt9Y29uc3QgYz1pKmkrcipyK24saD1BKCgxPDxELXQuem9vbSkqeCphKigoZSx0KT0+e2lmKHQqQSguNzA3KTxlKXJldHVybiAxO2NvbnN0IGk9TWF0aC5zcXJ0KHQvZSk7cmV0dXJuIGkvKDEuNDE0NDI3MTU3MDAxNDE0NCsoTWF0aC5wb3coMS4xLGktMS40MTQ0MjcxNTcwMDE0MTQ0KzEpLTEpLygxLjEtMSktMSl9KShNYXRoLm1heChuLFIpLGMpKTtyZXR1cm4gYzxofTtpZih0aGlzLnJlbmRlcldvcmxkQ29waWVzKWZvcihsZXQgZT0xO2U8PTM7ZSsrKUMucHVzaChTKC1lKSksQy5wdXNoKFMoZSkpO2ZvcihDLnB1c2goUygwKSk7Qy5sZW5ndGg+MDspe2NvbnN0IG89Qy5wb3AoKSxyPW8ueCxhPW8ueTtsZXQgbD1vLmZ1bGx5VmlzaWJsZTtjb25zdCBkPSgpPT5cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKDA9PT1vLnl8fG8ueT09PSgxPDxvLnpvb20pLTEpO2lmKCFsKXtsZXQgdD12P28uYWFiYi5pbnRlcnNlY3RzKF8pOm8uYWFiYi5pbnRlcnNlY3RzRmxhdChfKTtpZigwPT09dCYmZCgpKXtjb25zdCBpPW5ldyBlLmJzKG8uem9vbSxyLGEpO3Q9ZS5idCh0aGlzLGMsaSwhMCkuaW50ZXJzZWN0cyhfKTt9aWYoMD09PXQpY29udGludWU7bD0yPT09dDt9aWYoby56b29tIT09RCYmTShvKSlmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBpPShyPDwxKSt0JTIsaD0oYTw8MSkrKHQ+PjEpLGQ9e2FhYmI6bj9vLmFhYmIucXVhZHJhbnQodCk6ZS5idSh0aGlzLGMsby56b29tKzEsaSxoLG8ud3JhcCxvLm1pblosby5tYXhaLHRoaXMucHJvamVjdGlvbiksem9vbTpvLnpvb20rMSx4OmkseTpoLHdyYXA6by53cmFwLGZ1bGx5VmlzaWJsZTpsLHRpbGVJRDp2b2lkIDAsc2hvdWxkU3BsaXQ6dm9pZCAwLG1pblo6by5taW5aLG1heFo6by5tYXhafTtzJiYhdSYmKGQudGlsZUlEPW5ldyBlLmFtKG8uem9vbSsxPT09RD9MOm8uem9vbSsxLG8ud3JhcCxvLnpvb20rMSxpLGgpLFAoZCkpLEMucHVzaChkKTt9ZWxzZSB7Y29uc3Qgcz1vLnpvb209PT1EP0w6by56b29tO2lmKHQubWluem9vbSYmdC5taW56b29tPnMpY29udGludWU7aWYoIWwpe2xldCB0PXY/by5hYWJiLmludGVyc2VjdHNQcmVjaXNlKF8pOm8uYWFiYi5pbnRlcnNlY3RzUHJlY2lzZUZsYXQoXyk7aWYoMD09PXQmJmQoKSl7Y29uc3QgaT1uZXcgZS5icyhvLnpvb20scixhKTt0PWUuYnQodGhpcyxjLGksITApLmludGVyc2VjdHNQcmVjaXNlKF8pO31pZigwPT09dCljb250aW51ZX1jb25zdCBuPWhbMF0tKC41K3IrKG8ud3JhcDw8by56b29tKSkqKDE8PGktby56b29tKSx1PWhbMV0tLjUtYSxwPW8udGlsZUlEP28udGlsZUlEOm5ldyBlLmFtKHMsby53cmFwLG8uem9vbSxyLGEpO0kucHVzaCh7dGlsZUlEOnAsZGlzdGFuY2VTcTpuKm4rdSp1fSk7fX1pZih0aGlzLmZvZ0N1bGxEaXN0U3Epe2NvbnN0IGk9dGhpcy5mb2dDdWxsRGlzdFNxLG89dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtJPUkuZmlsdGVyKChyPT57Y29uc3Qgcz1bMCwwLDAsMV0sbj1bZS5WLGUuViwwLDFdLGE9dGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO2UuYTcudHJhbnNmb3JtTWF0NChzLHMsYSksZS5hNy50cmFuc2Zvcm1NYXQ0KG4sbixhKTtjb25zdCBsPWUuYTcubWluKFtdLHMsbiksYz1lLmE3Lm1heChbXSxzLG4pLGg9ZS5idihsLGMpO2lmKDA9PT1oKXJldHVybiAhMDtsZXQgdT0hMTtjb25zdCBkPXRoaXMuX2VsZXZhdGlvbjtpZihkJiZoPmkmJjAhPT1vKXtjb25zdCBpPXRoaXMuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtsZXQgczt0LmlzVGVycmFpbkRFTXx8KHM9ZC5nZXRNaW5NYXhGb3JUaWxlKHIudGlsZUlEKSksc3x8KHM9e21pbjp3LG1heDpifSk7Y29uc3Qgbj1lLmJIKHRoaXMucm90YXRpb24pLGE9W25bMF0qZS5WLG5bMV0qZS5WLHMubWF4XTtlLk4udHJhbnNmb3JtTWF0NChhLGEsaSksdT0oMS1hWzFdKSp0aGlzLmhlaWdodCouNTxvO31yZXR1cm4gaDxpfHx1fSkpO31yZXR1cm4gSS5zb3J0KCgoZSx0KT0+ZS5kaXN0YW5jZVNxLXQuZGlzdGFuY2VTcSkpLm1hcCgoZT0+ZS50aWxlSUQpKX1yZXNpemUoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi9lLC0yL3RdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXQgdW5tb2RpZmllZCgpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfXpvb21TY2FsZShlKXtyZXR1cm4gTWF0aC5wb3coMixlKX1zY2FsZVpvb20oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfXByb2plY3QodCl7Y29uc3QgaT1lLmFhKHQubGF0LC1lLmJ3LGUuYncpLG89dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcsaSk7cmV0dXJuIG5ldyBlLlAoby54KnRoaXMud29ybGRTaXplLG8ueSp0aGlzLndvcmxkU2l6ZSl9dW5wcm9qZWN0KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueC90aGlzLndvcmxkU2l6ZSxlLnkvdGhpcy53b3JsZFNpemUpfWdldCBwb2ludCgpe3JldHVybiB0aGlzLnByb2plY3QodGhpcy5jZW50ZXIpfWdldCBwb2ludE1lcmMoKXtyZXR1cm4gdGhpcy5wb2ludC5fZGl2KHRoaXMud29ybGRTaXplKX1nZXQgcGl4ZWxzUGVyTWV0ZXJSYXRpbygpe3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyL2UuYmwoMSx0aGlzLmNlbnRlci5sYXQpL3RoaXMud29ybGRTaXplfXNldExvY2F0aW9uQXRQb2ludCh0LGkpe2xldCBvLHI7Y29uc3Qgcz10aGlzLmNlbnRlclBvaW50O2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMud29ybGRTaXplO289KGkueC1zLngpL2Uscj0oaS55LXMueSkvZTt9ZWxzZSB7Y29uc3QgZT10aGlzLnBvaW50Q29vcmRpbmF0ZShpKSx0PXRoaXMucG9pbnRDb29yZGluYXRlKHMpO289ZS54LXQueCxyPWUueS10Lnk7fWNvbnN0IG49dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodCk7dGhpcy5zZXRMb2NhdGlvbihuZXcgZS5MKG4ueC1vLG4ueS1yKSk7fXNldExvY2F0aW9uKGUpe3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGUpLHRoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9bG9jYXRpb25Qb2ludChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlKX1sb2NhdGlvblBvaW50M0QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSwhMCl9cG9pbnRMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUoZSkpfXBvaW50TG9jYXRpb24zRChlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChlKSl9bG9jYXRpb25Db29yZGluYXRlKHQsaSl7Y29uc3Qgbz1pP2UuYmwoaSx0LmxhdCk6dm9pZCAwLHI9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcsdC5sYXQpO3JldHVybiBuZXcgZS5MKHIueCxyLnksbyl9Y29vcmRpbmF0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueCxlLnkpfXBvaW50UmF5SW50ZXJzZWN0aW9uKHQsaSl7Y29uc3Qgbz1udWxsIT1pP2k6dGhpcy5fY2VudGVyQWx0aXR1ZGUscj1bdC54LHQueSwwLDFdLHM9W3QueCx0LnksMSwxXTtlLmE3LnRyYW5zZm9ybU1hdDQocixyLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLmE3LnRyYW5zZm9ybU1hdDQocyxzLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtjb25zdCBuPXNbM107ZS5hNy5zY2FsZShyLHIsMS9yWzNdKSxlLmE3LnNjYWxlKHMscywxL24pO2NvbnN0IGE9clsyXSxsPXNbMl07cmV0dXJuIHtwMDpyLHAxOnMsdDphPT09bD8wOihvLWEpLyhsLWEpfX1zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkodCl7Y29uc3QgaT1bdC54LHQueSwwLDFdLG89W3QueCx0LnksMSwxXTtyZXR1cm4gZS5hNy50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS5hNy50cmFuc2Zvcm1NYXQ0KG8sbyx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS5hNy5zY2FsZShpLGksMS9pWzNdKSxlLmE3LnNjYWxlKG8sbywxL29bM10pLGlbMl09ZS5ibChpWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG9bMl09ZS5ibChvWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGUuYTcuc2NhbGUoaSxpLDEvdGhpcy53b3JsZFNpemUpLGUuYTcuc2NhbGUobyxvLDEvdGhpcy53b3JsZFNpemUpLG5ldyBlLmEyKFtpWzBdLGlbMV0saVsyXV0sZS5OLm5vcm1hbGl6ZShbXSxlLk4uc3ViKFtdLG8saSkpKX1yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpe2NvbnN0e3AwOmkscDE6byx0OnJ9PXQscz1lLmJsKGlbMl0sdGhpcy5fY2VudGVyLmxhdCksbj1lLmJsKG9bMl0sdGhpcy5fY2VudGVyLmxhdCk7cmV0dXJuIG5ldyBlLkwoZS5VKGlbMF0sb1swXSxyKS90aGlzLndvcmxkU2l6ZSxlLlUoaVsxXSxvWzFdLHIpL3RoaXMud29ybGRTaXplLGUuVShzLG4scikpfXBvaW50Q29vcmRpbmF0ZShlLHQ9dGhpcy5fY2VudGVyQWx0aXR1ZGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsZS54LGUueSx0KX1wb2ludENvb3JkaW5hdGUzRCh0KXtpZighdGhpcy5lbGV2YXRpb24pcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2xldCBpPXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLHQueCx0LnkpO2lmKGkpcmV0dXJuIG5ldyBlLkwoaVswXSxpWzFdLGlbMl0pO2xldCBvPTAscj10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2lmKHQueT5yKXJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtjb25zdCBzPS4wMipyLG49dC5jbG9uZSgpO2ZvcihsZXQgdD0wO3Q8MTAmJnItbz5zO3QrKyl7bi55PWUuVShvLHIsLjY2KTtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLG4ueCxuLnkpO3Q/KHI9bi55LGk9dCk6bz1uLnk7fXJldHVybiBpP25ldyBlLkwoaVswXSxpWzFdLGlbMl0pOnRoaXMucG9pbnRDb29yZGluYXRlKHQpfWlzUG9pbnRBYm92ZUhvcml6b24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsZSl9aXNQb2ludE9uU3VyZmFjZSh0KXtpZih0Lnk8MHx8dC55PnRoaXMuaGVpZ2h0fHx0Lng8MHx8dC54PnRoaXMud2lkdGgpcmV0dXJuICExO2lmKHRoaXMuZWxldmF0aW9ufHx0aGlzLnpvb20+PWUuYngpcmV0dXJuICF0aGlzLmlzUG9pbnRBYm92ZUhvcml6b24odCk7Y29uc3QgaT10aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtyZXR1cm4gaS55Pj0wJiZpLnk8PTF9X2Nvb3JkaW5hdGVQb2ludCh0LGkpe2NvbnN0IG89aSYmdGhpcy5lbGV2YXRpb24/dGhpcy5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0LHRoaXMuX2NlbnRlckFsdGl0dWRlKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLG8rdC50b0FsdGl0dWRlKCksMV07cmV0dXJuIGUuYTcudHJhbnNmb3JtTWF0NChyLHIsdGhpcy5waXhlbE1hdHJpeCksclszXT4wP25ldyBlLlAoclswXS9yWzNdLHJbMV0vclszXSk6bmV3IGUuUChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfV9nZXRCb3VuZHNOb25SZWN0YW5ndWxhcigpe2NvbnN0e3RvcDp0LGxlZnQ6aX09dGhpcy5fZWRnZUluc2V0cyxvPXRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tLHI9dGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHM9dGhpcy5wb2ludExvY2F0aW9uM0QobmV3IGUuUChpLHQpKSxuPXRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyBlLlAocix0KSksYT10aGlzLnBvaW50TG9jYXRpb24zRChuZXcgZS5QKHIsbykpLGw9dGhpcy5wb2ludExvY2F0aW9uM0QobmV3IGUuUChpLG8pKTtsZXQgYz1NYXRoLm1pbihzLmxuZyxuLmxuZyxhLmxuZyxsLmxuZyksaD1NYXRoLm1heChzLmxuZyxuLmxuZyxhLmxuZyxsLmxuZyksdT1NYXRoLm1pbihzLmxhdCxuLmxhdCxhLmxhdCxsLmxhdCksZD1NYXRoLm1heChzLmxhdCxuLmxhdCxhLmxhdCxsLmxhdCk7Y29uc3QgXz1NYXRoLnBvdygyLC10aGlzLnpvb20pLzE2KjI3MCxwPVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lPzE6NCxmPSh0LGksbyxyLHMpPT57Y29uc3Qgbj0odCtvKS8yLGE9KGkrcikvMixsPW5ldyBlLlAobixhKSx7bG5nOm0sbGF0Omd9PXRoaXMucG9pbnRMb2NhdGlvbjNEKGwpLHY9TWF0aC5tYXgoMCxjLW0sdS1nLG0taCxnLWQpO2M9TWF0aC5taW4oYyxtKSxoPU1hdGgubWF4KGgsbSksdT1NYXRoLm1pbih1LGcpLGQ9TWF0aC5tYXgoZCxnKSwoczxwfHx2Pl8pJiYoZih0LGksbixhLHMrMSksZihuLGEsbyxyLHMrMSkpO307aWYoZihpLHQscix0LDEpLGYocix0LHIsbywxKSxmKHIsbyxpLG8sMSksZihpLG8saSx0LDEpLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdFt0LGldPWUuYnkodGhpcyk7dD8oZD05MCxoPTE4MCxjPS0xODApOmkmJih1PS05MCxoPTE4MCxjPS0xODApO31yZXR1cm4gbmV3IGUuYWQobmV3IGUuYm4oYyx1KSxuZXcgZS5ibihoLGQpKX1fZ2V0Qm91bmRzUmVjdGFuZ3VsYXIodCxpKXtjb25zdHt0b3A6byxsZWZ0OnJ9PXRoaXMuX2VkZ2VJbnNldHMscz10aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSxuPXRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCxhPW5ldyBlLlAocixvKSxsPW5ldyBlLlAobixvKSxjPW5ldyBlLlAobixzKSxoPW5ldyBlLlAocixzKTtsZXQgdT10aGlzLnBvaW50Q29vcmRpbmF0ZShhLHQpLGQ9dGhpcy5wb2ludENvb3JkaW5hdGUobCx0KTtjb25zdCBfPXRoaXMucG9pbnRDb29yZGluYXRlKGMsaSkscD10aGlzLnBvaW50Q29vcmRpbmF0ZShoLGkpLGY9KGUsdCk9Pih0LnktZS55KS8odC54LWUueCk7cmV0dXJuIHUueT4xJiZkLnk+PTA/dT1uZXcgZS5MKCgxLXAueSkvZihwLHUpK3AueCwxKTp1Lnk8MCYmZC55PD0xJiYodT1uZXcgZS5MKC1wLnkvZihwLHUpK3AueCwwKSksZC55PjEmJnUueT49MD9kPW5ldyBlLkwoKDEtXy55KS9mKF8sZCkrXy54LDEpOmQueTwwJiZ1Lnk8PTEmJihkPW5ldyBlLkwoLV8ueS9mKF8sZCkrXy54LDApKSwobmV3IGUuYWQpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih1KSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGQpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24ocCkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihfKSl9X2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpe2NvbnN0IGU9dGhpcy5lbGV2YXRpb247aWYoIWUudmlzaWJsZURlbVRpbGVzLmxlbmd0aHx8ZS5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiB0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLDApO2NvbnN0IHQ9ZS52aXNpYmxlRGVtVGlsZXMucmVkdWNlKCgoZSx0KT0+e2lmKHQuZGVtKXtjb25zdCBpPXQuZGVtLnRyZWU7ZS5taW49TWF0aC5taW4oZS5taW4saS5taW5pbXVtc1swXSksZS5tYXg9TWF0aC5tYXgoZS5tYXgsaS5tYXhpbXVtc1swXSk7fXJldHVybiBlfSkse21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDowfSk7cmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKHQubWluKmUuZXhhZ2dlcmF0aW9uKCksdC5tYXgqZS5leGFnZ2VyYXRpb24oKSl9Z2V0Qm91bmRzKCl7cmV0dXJuIFwibWVyY2F0b3JcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHxcImVxdWlyZWN0YW5ndWxhclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fdGVycmFpbkVuYWJsZWQoKT90aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhclRlcnJhaW4oKTp0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLDApOnRoaXMuX2dldEJvdW5kc05vblJlY3Rhbmd1bGFyKCl9aG9yaXpvbkxpbmVGcm9tVG9wKGU9ITApe2NvbnN0IHQ9dGhpcy5oZWlnaHQvMi9NYXRoLnRhbih0aGlzLl9mb3YvMikvTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsLjEpKS10aGlzLmNlbnRlck9mZnNldC55LGk9dGhpcy5oZWlnaHQvMi10KigxLXRoaXMuX2hvcml6b25TaGlmdCk7cmV0dXJuIGU/TWF0aC5tYXgoMCxpKTppfWdldE1heEJvdW5kcygpe3JldHVybiB0aGlzLm1heEJvdW5kc31zZXRNYXhCb3VuZHModCl7dGhpcy5tYXhCb3VuZHM9dCx0aGlzLm1pbkxhdD0tZS5idyx0aGlzLm1heExhdD1lLmJ3LHRoaXMubWluTG5nPS0xODAsdGhpcy5tYXhMbmc9MTgwLHQmJih0aGlzLm1pbkxhdD10LmdldFNvdXRoKCksdGhpcy5tYXhMYXQ9dC5nZXROb3J0aCgpLHRoaXMubWluTG5nPXQuZ2V0V2VzdCgpLHRoaXMubWF4TG5nPXQuZ2V0RWFzdCgpLHRoaXMubWF4TG5nPHRoaXMubWluTG5nJiYodGhpcy5tYXhMbmcrPTM2MCkpLHRoaXMud29ybGRNaW5YPWUuYTUodGhpcy5taW5MbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFg9ZS5hNSh0aGlzLm1heExuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWluWT1lLmFlKHRoaXMubWF4TGF0KSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhZPWUuYWUodGhpcy5taW5MYXQpKnRoaXMudGlsZVNpemUsdGhpcy5fY29uc3RyYWluKCk7fWNhbGN1bGF0ZVBvc01hdHJpeChlLHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHQsZSl9Y2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSh0KXtjb25zdCBpPXQua2V5LG89dGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO2lmKG9baV0pcmV0dXJuIG9baV07Y29uc3Qgcj10LmNhbm9uaWNhbCxzPTEvdGhpcy5oZWlnaHQsbj10aGlzLmNhbWVyYVdvcmxkU2l6ZSxhPW4vdGhpcy56b29tU2NhbGUoci56KSxsPShyLngrTWF0aC5wb3coMixyLnopKnQud3JhcCkqYSxjPXIueSphLGg9dGhpcy5wb2ludDtoLngqPW4vdGhpcy53b3JsZFNpemUsaC55Kj1uL3RoaXMud29ybGRTaXplO2NvbnN0IHU9dGhpcy5hbmdsZSxkPU1hdGguc2luKC11KSxfPS1NYXRoLmNvcygtdSk7cmV0dXJuIG9baV09e2JlYXJpbmc6W2QsX10sY2VudGVyOlsoaC54LWwpKnMsKGgueS1jKSpzXSxzY2FsZTphL2UuVipzfSxvW2ldfWNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodCl7Y29uc3QgaT10LmtleSxvPXRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZTtpZihvW2ldKXJldHVybiBvW2ldO2NvbnN0IHI9dGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcyx0aGlzLmNhbWVyYVdvcmxkU2l6ZUZvckZvZyx0KTtyZXR1cm4gZS5hNi5tdWx0aXBseShyLHRoaXMud29ybGRUb0ZvZ01hdHJpeCxyKSxvW2ldPW5ldyBGbG9hdDMyQXJyYXkociksb1tpXX1jYWxjdWxhdGVQcm9qTWF0cml4KHQsaT0hMSxvPSExKXtjb25zdCByPXQua2V5O2xldCBzO2lmKHM9bz90aGlzLl9leHBhbmRlZFByb2pNYXRyaXhDYWNoZTppP3RoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6dGhpcy5fcHJvak1hdHJpeENhY2hlLHNbcl0pcmV0dXJuIHNbcl07Y29uc3Qgbj10aGlzLmNhbGN1bGF0ZVBvc01hdHJpeCh0LHRoaXMud29ybGRTaXplKTtsZXQgYTtyZXR1cm4gYT10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3RoaXMubWVyY2F0b3JNYXRyaXg6bz90aGlzLmV4cGFuZGVkRmFyWlByb2pNYXRyaXg6aT90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxlLmE2Lm11bHRpcGx5KG4sYSxuKSxzW3JdPW5ldyBGbG9hdDMyQXJyYXkobiksc1tyXX1jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KXtjb25zdCBpPXQudGlsZUlELmtleSxvPXRoaXMuX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGU7aWYob1tpXSlyZXR1cm4gb1tpXTtjb25zdCByPWUuYnoodCx0aGlzKTtyZXR1cm4gb1tpXT1yLG9baV19Y3VzdG9tTGF5ZXJNYXRyaXgoKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfWdsb2JlVG9NZXJjYXRvck1hdHJpeCgpe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCB0PTEvdGhpcy53b3JsZFNpemUsaT1lLmE2LmZyb21TY2FsaW5nKFtdLFt0LHQsdF0pO3JldHVybiBlLmE2Lm11bHRpcGx5KGksaSx0aGlzLmdsb2JlTWF0cml4KSxpfX1yZWNlbnRlck9uVGVycmFpbigpe2lmKCF0aGlzLl9lbGV2YXRpb258fFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IGk9ZS5ibCgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG89dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGkpLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxzPWUuYmwoMSx0aGlzLl9jZW50ZXIubGF0KTtvWzJdLz1zLHJbMl0vPXMsZS5OLm5vcm1hbGl6ZShyLHIpO2NvbnN0IG49dC5yYXljYXN0KG8scix0LmV4YWdnZXJhdGlvbigpKTtpZihuKXtjb25zdCB0PWUuTi5zY2FsZUFuZEFkZChbXSxvLHIsbiksaT1uZXcgZS5MKHRbMF0sdFsxXSxlLmJsKHRbMl0sZS5hdSh0WzFdKSkpLGE9KGkueitlLk4ubGVuZ3RoKFtpLngtb1swXSxpLnktb1sxXSxpLnotb1syXSpzXSkpKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7dGhpcy5fc2VhTGV2ZWxab29tPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGEpLHRoaXMuX2NlbnRlckFsdGl0dWRlPWkudG9BbHRpdHVkZSgpLHRoaXMuX2NlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihpKSx0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO319X2NvbnN0cmFpbkNhbWVyYSh0PSExKXtpZighdGhpcy5fZWxldmF0aW9uKXJldHVybjtjb25zdCBpPXRoaXMuX2VsZXZhdGlvbixvPWUuYmwoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxyPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihvKSxzPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgZS5MKC4uLnIpKSxuPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqcyxhPXRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpLGw9clsyXS1uO2lmKGw8PWEpaWYobDwwfHx0KXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuX2NlbnRlcix0aGlzLl9jZW50ZXJBbHRpdHVkZSksaT1bclswXSxyWzFdLHQuei1yWzJdXSxvPWUuTi5sZW5ndGgoaSk7aVsyXS09KGEtbCkvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjb25zdCBzPWUuTi5sZW5ndGgoaSk7aWYoMD09PXMpcmV0dXJuO2UuTi5zY2FsZShpLGksby9zKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj1bclswXSxyWzFdLHQueip0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLWlbMl1dLHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpO31lbHNlIHRoaXMuX2lzQ2FtZXJhQ29uc3RyYWluZWQ9ITA7fV9jb25zdHJhaW4oKXtpZighdGhpcy5jZW50ZXJ8fCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHR8fHRoaXMuX2NvbnN0cmFpbmluZylyZXR1cm47dGhpcy5fY29uc3RyYWluaW5nPSEwO2NvbnN0IHQ9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlfHx0KXtjb25zdCBpPXRoaXMuY2VudGVyO3JldHVybiBpLmxhdD1lLmFhKGkubGF0LHRoaXMubWluTGF0LHRoaXMubWF4TGF0KSwodGhpcy5tYXhCb3VuZHN8fCF0aGlzLnJlbmRlcldvcmxkQ29waWVzJiYhdCkmJihpLmxuZz1lLmFhKGkubG5nLHRoaXMubWluTG5nLHRoaXMubWF4TG5nKSksdGhpcy5jZW50ZXI9aSx2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSl9Y29uc3QgaT10aGlzLl91bm1vZGlmaWVkLHt4Om8seTpyfT10aGlzLnBvaW50O2xldCBzPTAsbj1vLGE9cjtjb25zdCBsPXRoaXMud2lkdGgvMixjPXRoaXMuaGVpZ2h0LzIsaD10aGlzLndvcmxkTWluWSp0aGlzLnNjYWxlLHU9dGhpcy53b3JsZE1heFkqdGhpcy5zY2FsZTtpZihyLWM8aCYmKGE9aCtjKSxyK2M+dSYmKGE9dS1jKSx1LWg8dGhpcy5oZWlnaHQmJihzPU1hdGgubWF4KHMsdGhpcy5oZWlnaHQvKHUtaCkpLGE9KHUraCkvMiksdGhpcy5tYXhCb3VuZHN8fCF0aGlzLl9yZW5kZXJXb3JsZENvcGllc3x8IXRoaXMucHJvamVjdGlvbi53cmFwKXtjb25zdCBlPXRoaXMud29ybGRNaW5YKnRoaXMuc2NhbGUsdD10aGlzLndvcmxkTWF4WCp0aGlzLnNjYWxlLGk9dGhpcy53b3JsZFNpemUvMi0oZSt0KS8yO249KG8raSt0aGlzLndvcmxkU2l6ZSkldGhpcy53b3JsZFNpemUtaSxuLWw8ZSYmKG49ZStsKSxuK2w+dCYmKG49dC1sKSx0LWU8dGhpcy53aWR0aCYmKHM9TWF0aC5tYXgocyx0aGlzLndpZHRoLyh0LWUpKSxuPSh0K2UpLzIpO31uPT09byYmYT09PXJ8fCh0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgZS5QKG4sYSkpKSxzJiYodGhpcy56b29tKz10aGlzLnNjYWxlWm9vbShzKSksdGhpcy5fY29uc3RyYWluQ2FtZXJhKCksdGhpcy5fdW5tb2RpZmllZD1pLHRoaXMuX2NvbnN0cmFpbmluZz0hMTt9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgdD10aGlzLmNlbnRlck9mZnNldCxpPVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLG89dGhpcy5waXhlbHNQZXJNZXRlcjtcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpbz1lLmJsKDEsdGhpcy5jZW50ZXIubGF0KS9lLmJsKDEsZS5iSSkpO2NvbnN0IHI9ZS5iQSh0aGlzLnByb2plY3Rpb24sdGhpcy56b29tLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCk7dGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbD10aGlzLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplLHIpLHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZT0uNS9NYXRoLnRhbiguNSp0aGlzLl9mb3YpKnRoaXMuaGVpZ2h0KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKSx0aGlzLl9mYXJaPXRoaXMucHJvamVjdGlvbi5mYXJ0aGVzdFBpeGVsRGlzdGFuY2UodGhpcyksdGhpcy5fbmVhclo9dGhpcy5oZWlnaHQvNTA7Y29uc3Qgcz1cIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD9vOjEsbj10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxzKTtsZXQgYTtjb25zdCBsPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTtpZihsWzhdPTIqLXQueC90aGlzLndpZHRoLGxbOV09Mip0LnkvdGhpcy5oZWlnaHQsdGhpcy5pc09ydGhvZ3JhcGhpYyl7bGV0IGU9LjUqdGhpcy5oZWlnaHQvTWF0aC50YW4odGhpcy5fZm92LzIpKjEqTWF0aC50YW4oLjUqdGhpcy5fZm92KSxpPWUqdGhpcy5hc3BlY3Qsbz0taSxyPS1lO2ktPXQueCxvLT10LngsZSs9dC55LHIrPXQueSxhPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBPcnRob2dyYXBoaWMobyxpLHIsZSx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKSwoKGUsdCxpLG8pPT57Zm9yKGxldCByPTA7cjwxNjtyKyspZVtyXT1wbyh0W3JdLGlbcl0sbyk7fSkoYSxhLGwsZm8odGhpcy5waXRjaD49MTU/MTp0aGlzLnBpdGNoLzE1KSk7fWVsc2UgYT1sO2NvbnN0IGM9ZS5hNi5tdWwoW10sbCxuKTtsZXQgaD1lLmE2Lm11bChbXSxhLG4pO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IHQ9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLGk9ZS5hNi5pZGVudGl0eShbXSk7ZS5hNi50cmFuc2xhdGUoaSxpLFt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLDBdKSxlLmE2Lm11bHRpcGx5KGksaSxlLmJCKHRoaXMpKSxlLmE2LnRyYW5zbGF0ZShpLGksWy10LngqdGhpcy53b3JsZFNpemUsLXQueSp0aGlzLndvcmxkU2l6ZSwwXSksZS5hNi5tdWx0aXBseShoLGgsaSksZS5hNi5tdWx0aXBseShjLGMsaSksdGhpcy5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeD1lLmJDKHRoaXMpO31lbHNlIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9WzEsMCwwLDFdO2lmKHRoaXMubWVyY2F0b3JNYXRyaXg9ZS5hNi5zY2FsZShbXSxoLFt0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZSx0aGlzLndvcmxkU2l6ZS9zLDFdKSx0aGlzLnByb2pNYXRyaXg9aCx0aGlzLmludlByb2pNYXRyaXg9ZS5hNi5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5wcm9qTWF0cml4KSxpKXtjb25zdCBpPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWiwxLzApO2lbOF09MiotdC54L3RoaXMud2lkdGgsaVs5XT0yKnQueS90aGlzLmhlaWdodCx0aGlzLmV4cGFuZGVkRmFyWlByb2pNYXRyaXg9ZS5hNi5tdWwoW10saSxuKTt9ZWxzZSB0aGlzLmV4cGFuZGVkRmFyWlByb2pNYXRyaXg9dGhpcy5wcm9qTWF0cml4O2NvbnN0IHU9ZS5hNi5pbnZlcnQoW10sYSk7dGhpcy5mcnVzdHVtQ29ybmVycz1lLmJELmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHUsdGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKSx0aGlzLmhlaWdodCksdGhpcy5jYW1lcmFGcnVzdHVtPWUuYnEuZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLDAsIWkpO2NvbnN0IGQ9bmV3IEZsb2F0MzJBcnJheSgxNik7ZS5hNi5pZGVudGl0eShkKSxlLmE2LnNjYWxlKGQsZCxbMSwtMSwxXSksZS5hNi5yb3RhdGVYKGQsZCx0aGlzLl9waXRjaCksZS5hNi5yb3RhdGVaKGQsZCx0aGlzLmFuZ2xlKTtjb25zdCBfPWUuYTYucGVyc3BlY3RpdmUobmV3IEZsb2F0MzJBcnJheSgxNiksdGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWik7dGhpcy5zdGFyc1Byb2pNYXRyaXg9ZS5hNi5jbG9uZShfKTtjb25zdCBwPShNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKih0aGlzLmhlaWdodC90aGlzLl9mb3YpKnRoaXMuX2hvcml6b25TaGlmdDtfWzhdPTIqLXQueC90aGlzLndpZHRoLF9bOV09MioodC55K3ApL3RoaXMuaGVpZ2h0LHRoaXMuc2t5Ym94TWF0cml4PWUuYTYubXVsdGlwbHkoZCxfLGQpO2NvbnN0IGY9dGhpcy5wb2ludCxtPWYueCxnPWYueSx2PXRoaXMud2lkdGglMi8yLHg9dGhpcy5oZWlnaHQlMi8yLHk9TWF0aC5jb3ModGhpcy5hbmdsZSksYj1NYXRoLnNpbih0aGlzLmFuZ2xlKSx3PW0tTWF0aC5yb3VuZChtKSt5KnYrYip4LFQ9Zy1NYXRoLnJvdW5kKGcpK3kqeCtiKnYsRT1uZXcgRmxvYXQ2NEFycmF5KGgpO2lmKGUuYTYudHJhbnNsYXRlKEUsRSxbdz4uNT93LTE6dyxUPi41P1QtMTpULDBdKSx0aGlzLmFsaWduZWRQcm9qTWF0cml4PUUsaD1lLmE2LmNyZWF0ZSgpLGUuYTYuc2NhbGUoaCxoLFt0aGlzLndpZHRoLzIsLXRoaXMuaGVpZ2h0LzIsMV0pLGUuYTYudHJhbnNsYXRlKGgsaCxbMSwtMSwwXSksdGhpcy5sYWJlbFBsYW5lTWF0cml4PWgsaD1lLmE2LmNyZWF0ZSgpLGUuYTYuc2NhbGUoaCxoLFsxLC0xLDFdKSxlLmE2LnRyYW5zbGF0ZShoLGgsWy0xLC0xLDBdKSxlLmE2LnNjYWxlKGgsaCxbMi90aGlzLndpZHRoLDIvdGhpcy5oZWlnaHQsMV0pLHRoaXMuZ2xDb29yZE1hdHJpeD1oLHRoaXMucGl4ZWxNYXRyaXg9ZS5hNi5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLmxhYmVsUGxhbmVNYXRyaXgsYyksdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LGg9ZS5hNi5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5waXhlbE1hdHJpeCksIWgpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGludmVydCBtYXRyaXhcIik7aWYodGhpcy5waXhlbE1hdHJpeEludmVyc2U9aCxcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uKXt0aGlzLmdsb2JlTWF0cml4PWUuYkUodGhpcyk7Y29uc3QgdD1bdGhpcy5nbG9iZU1hdHJpeFsxMl0sdGhpcy5nbG9iZU1hdHJpeFsxM10sdGhpcy5nbG9iZU1hdHJpeFsxNF1dO3RoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1lLk4udHJhbnNmb3JtTWF0NCh0LHQsbiksdGhpcy5nbG9iZVJhZGl1cz10aGlzLndvcmxkU2l6ZS8yL01hdGguUEktMTt9ZWxzZSB0aGlzLmdsb2JlTWF0cml4PWg7dGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZT17fSx0aGlzLl9leHBhbmRlZFByb2pNYXRyaXhDYWNoZT17fTt9X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCB0PXRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLGk9dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixvPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixyPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxzPVt0LHQsaV07ZS5OLnNjYWxlKHMscyxyKSxlLk4uc2NhbGUobyxvLC0xKSxlLk4ubXVsdGlwbHkobyxvLHMpO2NvbnN0IG49ZS5hNi5jcmVhdGUoKTtlLmE2LnRyYW5zbGF0ZShuLG4sbyksZS5hNi5zY2FsZShuLG4scyksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1uLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsaSxyKTt9X2NvbXB1dGVDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PShlPWV8fHRoaXMucGl4ZWxzUGVyTWV0ZXIpL3RoaXMucGl4ZWxzUGVyTWV0ZXIsaT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLG89dGhpcy5wb2ludCxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkqdC1lL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlO3JldHVybiBbby54L3RoaXMud29ybGRTaXplLWlbMF0qcixvLnkvdGhpcy53b3JsZFNpemUtaVsxXSpyLGUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGUtaVsyXSpyXX1fdXBkYXRlQ2FtZXJhU3RhdGUoKXt0aGlzLmhlaWdodCYmKHRoaXMuX2NhbWVyYS5zZXRQaXRjaEJlYXJpbmcodGhpcy5fcGl0Y2gsdGhpcy5hbmdsZSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpKTt9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKHQpe2NvbnN0IGk9dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksbz10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0scj10WzJdO2xldCBzPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLHI+MCYmKHM9TWF0aC5taW4oKGktbykvciwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPWUuTi5zY2FsZUFuZEFkZChbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24sdCxzKSx0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKTt9X3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpe2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLGk9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSx7cGl0Y2g6byxiZWFyaW5nOnJ9PXRoaXMuX2NhbWVyYS5nZXRQaXRjaEJlYXJpbmcoKSxzPWUuYmwodGhpcy5fY2VudGVyQWx0aXR1ZGUsdGhpcy5jZW50ZXIubGF0KSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLG49dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSkqTWF0aC5jb3MoZS5iaih0aGlzLl9tYXhQaXRjaCkpLGE9TWF0aC5tYXgoKHRbMl0tcykvTWF0aC5jb3MobyksbiksbD10aGlzLl96b29tRnJvbU1lcmNhdG9yWihhKTtlLk4uc2NhbGVBbmRBZGQodCx0LGksYSksdGhpcy5fcGl0Y2g9ZS5hYShvLGUuYmoodGhpcy5taW5QaXRjaCksZS5iaih0aGlzLm1heFBpdGNoKSksdGhpcy5hbmdsZT1lLmJoKHIsLU1hdGguUEksTWF0aC5QSSksdGhpcy5fc2V0Wm9vbShlLmFhKGwsdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKSksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG5ldyBlLkwodFswXSx0WzFdLHRbMl0pKSx0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31fd29ybGRTaXplRnJvbVpvb20oZSl7cmV0dXJuIE1hdGgucG93KDIsZSkqdGhpcy50aWxlU2l6ZX1fbWVyY2F0b3JaZnJvbVpvb20oZSl7cmV0dXJuIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90aGlzLl93b3JsZFNpemVGcm9tWm9vbShlKX1fbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCl7Y29uc3QgZT1NYXRoLm1pbihudWxsIT10aGlzLl9zZWFMZXZlbFpvb20/dGhpcy5fc2VhTGV2ZWxab29tOnRoaXMuX3pvb20sdGhpcy5fbWF4Wm9vbSkrNDtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSl9X3pvb21Gcm9tTWVyY2F0b3JaKGUpe3JldHVybiB0aGlzLnNjYWxlWm9vbSh0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvKGUqdGhpcy50aWxlU2l6ZSkpfXpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQodCl7bGV0IGk9MCxvPWUuYngscj0wLHM9MS8wO2Zvcig7by1pPjFlLTYmJm8+aTspe2NvbnN0IGU9aSsuNSooby1pKSxuPXRoaXMudGlsZVNpemUqTWF0aC5wb3coMixlKSxhPXRoaXMuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0aGlzLnByb2plY3Rpb24sZSxuKSxsPXRoaXMuc2NhbGVab29tKGEvKHQqdGhpcy50aWxlU2l6ZSkpLGM9TWF0aC5hYnMoZS1sKTtjPHMmJihzPWMscj1lKSxlPGw/aT1lOm89ZTt9cmV0dXJuIHJ9X3RlcnJhaW5FbmFibGVkKCl7cmV0dXJuICEoIXRoaXMuX2VsZXZhdGlvbnx8IXRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW4mJihlLncoXCJUZXJyYWluIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggYWx0ZXJuYXRlIHByb2plY3Rpb25zLiBVc2UgbWVyY2F0b3Igb3IgZ2xvYmUgdG8gZW5hYmxlIHRlcnJhaW4uXCIpLDEpKX1hbnlDb3JuZXJPZmZFZGdlKHQsaSl7Y29uc3Qgbz1NYXRoLm1pbih0LngsaS54KSxyPU1hdGgubWF4KHQueCxpLngpLHM9TWF0aC5taW4odC55LGkueSksbj1NYXRoLm1heCh0LnksaS55KTtpZihzPHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCExKSlyZXR1cm4gITA7aWYoXCJtZXJjYXRvclwiIT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuICExO2NvbnN0IGE9W25ldyBlLlAobyxzKSxuZXcgZS5QKHIsbiksbmV3IGUuUChvLG4pLG5ldyBlLlAocixzKV0sbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsYz10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuICEwO2NvbnN0IGk9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpO2lmKGkueDxsfHxpLnk8MHx8aS54PmN8fGkueT4xKXJldHVybiAhMH1yZXR1cm4gITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK2UuYkYodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgZS5QKDAsMCksbmV3IGUuUCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSl9em9vbURlbHRhVG9Nb3ZlbWVudCh0LGkpe2NvbnN0IG89ZS5OLmxlbmd0aChlLk4uc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbix0KSkscj10aGlzLl96b29tRnJvbU1lcmNhdG9yWihvKStpO3JldHVybiBvLXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHIpfWdldENhbWVyYVBvaW50KCl7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IHQ9ZnVuY3Rpb24oW3QsaSxvXSxyKXtjb25zdCBzPVt0LGksbywxXTtlLmE3LnRyYW5zZm9ybU1hdDQocyxzLHIpO2NvbnN0IG49c1szXT1NYXRoLm1heChzWzNdLDFlLTYpO3JldHVybiBzWzBdLz1uLHNbMV0vPW4sc1syXS89bixzfShbdGhpcy5nbG9iZU1hdHJpeFsxMl0sdGhpcy5nbG9iZU1hdHJpeFsxM10sdGhpcy5nbG9iZU1hdHJpeFsxNF1dLHRoaXMucGl4ZWxNYXRyaXgpO3JldHVybiBuZXcgZS5QKHRbMF0sdFsxXSl9e2NvbnN0IHQ9TWF0aC50YW4odGhpcy5fcGl0Y2gpKih0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V8fDEpO3JldHVybiB0aGlzLmNlbnRlclBvaW50LmFkZChuZXcgZS5QKDAsdCkpfX1nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHQsaT10aGlzLnpvb20sbz10aGlzLndvcmxkU2l6ZSl7Y29uc3Qgcj1lLmJBKHQsaSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpLHM9dC5waXhlbFNwYWNlQ29udmVyc2lvbih0aGlzLmNlbnRlci5sYXQsbyxyKTtsZXQgbj0uNS9NYXRoLnRhbiguNSp0aGlzLl9mb3YpKnRoaXMuaGVpZ2h0KnM7cmV0dXJuIHRoaXMuaXNPcnRob2dyYXBoaWMmJihuPXBvKDEsbixmbyh0aGlzLnBpdGNoPj0xNT8xOnRoaXMucGl0Y2gvMTUpKSksbn1nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCl7Y29uc3QgdD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD90aGlzLnBpeGVsc1Blck1ldGVyOjEpO3JldHVybiBcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmZS5hNi5tdWx0aXBseSh0LHQsdGhpcy5nbG9iZU1hdHJpeCksdH1nZXRGcnVzdHVtKHQpe3JldHVybiBlLmJxLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSx0LFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0KX19Y29uc3QgZ289e0Jhc2VDb2xvcjo1LE1ldGFsbGljUm91Z2huZXNzOjYsTm9ybWFsOjcsT2NjbHVzaW9uOjgsRW1pc3Npb246OSxTaGFkb3dNYXAwOjEwfSx2bz0odCxpKT0+e2lmKGk+MCYmdC50ZXJyYWluJiZlLncoXCJDdXRvZmYgaXMgY3VycmVudGx5IGRpc2FibGVkIG9uIHRlcnJhaW5cIiksaTw9MHx8dC50ZXJyYWluKXJldHVybiB7c2hvdWxkUmVuZGVyQ3V0b2ZmOiExLHVuaWZvcm1WYWx1ZXM6e3VfY3V0b2ZmX3BhcmFtczpbMCwwLDAsMV19fTtjb25zdCBvPXQudHJhbnNmb3JtLHI9TWF0aC5tYXgoTWF0aC5hYnMoby5fem9vbS0odC5taW5DdXRvZmZab29tLTEpKSwxKSxzPW8uaXNMT0REaXNhYmxlZCghMSk/ZS5PKDYwLDQ1LG8ucGl0Y2gpOmUuTygzMCwxNSxvLnBpdGNoKSxuPW8uX2Zhclotby5fbmVhclosYT1pKm8uaGVpZ2h0LGw9KCgxLShjPXMpKSpvLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UrYyooby5fZmFyWithKSkqcjt2YXIgYztyZXR1cm4ge3Nob3VsZFJlbmRlckN1dG9mZjpzPDEsdW5pZm9ybVZhbHVlczp7dV9jdXRvZmZfcGFyYW1zOltvLl9uZWFyWixvLl9mYXJaLChsLW8uX25lYXJaKS9uLChsLWEtby5fbmVhclopL25dfX19LHhvPXtjYXNjYWRlQ291bnQ6MixzaGFkb3dNYXBSZXNvbHV0aW9uOjIwNDh9O2NsYXNzIHlve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5hYWJiPWUsdGhpcy5sYXN0Q2FzY2FkZT10O319Y2xhc3MgYm97YWRkKGUsdCl7Y29uc3QgaT10aGlzLnJlY2VpdmVyc1tlLmtleV07dm9pZCAwIT09aT8oaS5hYWJiLm1pblswXT1NYXRoLm1pbihpLmFhYmIubWluWzBdLHQubWluWzBdKSxpLmFhYmIubWluWzFdPU1hdGgubWluKGkuYWFiYi5taW5bMV0sdC5taW5bMV0pLGkuYWFiYi5taW5bMl09TWF0aC5taW4oaS5hYWJiLm1pblsyXSx0Lm1pblsyXSksaS5hYWJiLm1heFswXT1NYXRoLm1heChpLmFhYmIubWF4WzBdLHQubWF4WzBdKSxpLmFhYmIubWF4WzFdPU1hdGgubWF4KGkuYWFiYi5tYXhbMV0sdC5tYXhbMV0pLGkuYWFiYi5tYXhbMl09TWF0aC5tYXgoaS5hYWJiLm1heFsyXSx0Lm1heFsyXSkpOnRoaXMucmVjZWl2ZXJzW2Uua2V5XT1uZXcgeW8odCxudWxsKTt9Y2xlYXIoKXt0aGlzLnJlY2VpdmVycz17fTt9Z2V0KGUpe3JldHVybiB0aGlzLnJlY2VpdmVyc1tlLmtleV19Y29tcHV0ZVJlcXVpcmVkQ2FzY2FkZXModCxpLG8pe2NvbnN0IHI9ZS5iUy5mcm9tUG9pbnRzKHQucG9pbnRzKTtsZXQgcz0wO2Zvcihjb25zdCB0IGluIHRoaXMucmVjZWl2ZXJzKXtjb25zdCBuPXRoaXMucmVjZWl2ZXJzW3RdO2lmKCFuKWNvbnRpbnVlO2lmKCFyLmludGVyc2VjdHNBYWJiKG4uYWFiYikpY29udGludWU7bi5hYWJiLm1pbj1yLmNsb3Nlc3RQb2ludChuLmFhYmIubWluKSxuLmFhYmIubWF4PXIuY2xvc2VzdFBvaW50KG4uYWFiYi5tYXgpO2NvbnN0IGE9bi5hYWJiLmdldENvcm5lcnMoKTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7bGV0IHI9ITA7Zm9yKGNvbnN0IHMgb2YgYSl7Y29uc3Qgbj1bc1swXSppLHNbMV0qaSxzWzJdXTtpZihlLk4udHJhbnNmb3JtTWF0NChuLG4sb1t0XS5tYXRyaXgpLG5bMF08LTF8fG5bMF0+MXx8blsxXTwtMXx8blsxXT4xKXtyPSExO2JyZWFrfX1pZihuLmxhc3RDYXNjYWRlPXQscz1NYXRoLm1heChzLHQpLHIpYnJlYWt9fXJldHVybiBzKzF9fWNsYXNzIHdve2NvbnN0cnVjdG9yKGUpe3RoaXMucGFpbnRlcj1lLHRoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fc2hhZG93TGF5ZXJDb3VudD0wLHRoaXMuX251bUNhc2NhZGVzVG9SZW5kZXI9MCx0aGlzLl9jYXNjYWRlcz1bXSx0aGlzLl9ncm91bmRTaGFkb3dUaWxlcz1bXSx0aGlzLl9yZWNlaXZlcnM9bmV3IGJvLHRoaXMuX2RlcHRoTW9kZT1uZXcgTHQoZS5jb250ZXh0LmdsLkxFUVVBTCxMdC5SZWFkV3JpdGUsWzAsMV0pLHRoaXMuX3VuaWZvcm1WYWx1ZXM9e3VfbGlnaHRfbWF0cml4XzA6bmV3IEZsb2F0MzJBcnJheSgxNiksdV9saWdodF9tYXRyaXhfMTpuZXcgRmxvYXQzMkFycmF5KDE2KSx1X3NoYWRvd19pbnRlbnNpdHk6MCx1X2ZhZGVfcmFuZ2U6WzAsMF0sdV9zaGFkb3dfbm9ybWFsX29mZnNldDpbMSwxLDFdLHVfc2hhZG93X3RleGVsX3NpemU6MSx1X3NoYWRvd19tYXBfcmVzb2x1dGlvbjoxLHVfc2hhZG93X2RpcmVjdGlvbjpbMCwwLDFdLHVfc2hhZG93X2JpYXM6WzM2ZS01LC4wMDEyLC4wMTJdLHVfc2hhZG93bWFwXzA6MCx1X3NoYWRvd21hcF8xOjB9LHRoaXMudXNlTm9ybWFsT2Zmc2V0PSExLGUudHAucmVnaXN0ZXJQYXJhbWV0ZXIoeG8sW1wiU2hhZG93c1wiXSxcImNhc2NhZGVDb3VudFwiLHttaW46MSxtYXg6MixzdGVwOjF9KSxlLnRwLnJlZ2lzdGVyUGFyYW1ldGVyKHhvLFtcIlNoYWRvd3NcIl0sXCJzaGFkb3dNYXBSZXNvbHV0aW9uXCIse21pbjozMixtYXg6MjA0OCxzdGVwOjMyfSk7fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jYXNjYWRlcyllLnRleHR1cmUuZGVzdHJveSgpLGUuZnJhbWVidWZmZXIuZGVzdHJveSgpO3RoaXMuX2Nhc2NhZGVzPVtdO311cGRhdGVTaGFkb3dQYXJhbWV0ZXJzKHQsaSl7Y29uc3Qgbz10aGlzLnBhaW50ZXI7aWYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zaGFkb3dMYXllckNvdW50PTAsdGhpcy5fcmVjZWl2ZXJzLmNsZWFyKCksIWl8fCFpLnByb3BlcnRpZXMpcmV0dXJuO2NvbnN0IHI9aS5wcm9wZXJ0aWVzLmdldChcInNoYWRvdy1pbnRlbnNpdHlcIik7aWYoIWkuc2hhZG93c0VuYWJsZWQoKXx8cjw9MClyZXR1cm47aWYodGhpcy5fc2hhZG93TGF5ZXJDb3VudD1vLnN0eWxlLm9yZGVyLnJlZHVjZSgoKGUsaSk9Pntjb25zdCByPW8uc3R5bGUuX21lcmdlZExheWVyc1tpXTtyZXR1cm4gZSsoci5oYXNTaGFkb3dQYXNzKCkmJiFyLmlzSGlkZGVuKHQuem9vbSk/MTowKX0pLDApLHRoaXMuX2VuYWJsZWQ9dGhpcy5fc2hhZG93TGF5ZXJDb3VudD4wLCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBzPW8uY29udGV4dCxuPXhvLnNoYWRvd01hcFJlc29sdXRpb24sYT14by5zaGFkb3dNYXBSZXNvbHV0aW9uO2lmKDA9PT10aGlzLl9jYXNjYWRlcy5sZW5ndGh8fHhvLnNoYWRvd01hcFJlc29sdXRpb24hPT10aGlzLl9jYXNjYWRlc1swXS50ZXh0dXJlLnNpemVbMF0pe3RoaXMuX2Nhc2NhZGVzPVtdO2ZvcihsZXQgdD0wO3Q8eG8uY2FzY2FkZUNvdW50OysrdCl7Y29uc3QgdD1vLl9zaGFkb3dNYXBEZWJ1ZyxpPXMuZ2wscj1zLmNyZWF0ZUZyYW1lYnVmZmVyKG4sYSx0LFwidGV4dHVyZVwiKSxsPW5ldyBlLlQocyx7d2lkdGg6bixoZWlnaHQ6YSxkYXRhOm51bGx9LGkuREVQVEhfQ09NUE9ORU5UKTtpZihyLmRlcHRoQXR0YWNobWVudC5zZXQobC50ZXh0dXJlKSx0KXtjb25zdCB0PW5ldyBlLlQocyx7d2lkdGg6bixoZWlnaHQ6YSxkYXRhOm51bGx9LGkuUkdCQSk7ci5jb2xvckF0dGFjaG1lbnQuc2V0KHQudGV4dHVyZSk7fXRoaXMuX2Nhc2NhZGVzLnB1c2goe2ZyYW1lYnVmZmVyOnIsdGV4dHVyZTpsLG1hdHJpeDpbXSxmYXI6MCxib3VuZGluZ1NwaGVyZVJhZGl1czowLGZydXN0dW06bmV3IGUuYnEsc2NhbGU6MH0pO319dGhpcy5zaGFkb3dEaXJlY3Rpb249RW8oaSk7bGV0IGw9MDtpZih0LmVsZXZhdGlvbil7Y29uc3QgZT10LmVsZXZhdGlvbixpPVsxZTQsLTFlNF07ZS52aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLmZvckVhY2goKGU9Pntjb25zdCB0PWUuZGVtLnRyZWU7aVswXT1NYXRoLm1pbihpWzBdLHQubWluaW11bXNbMF0pLGlbMV09TWF0aC5tYXgoaVsxXSx0Lm1heGltdW1zWzBdKTt9KSksMWU0IT09aVswXSYmKGw9KGlbMV0taVswXSkqZS5leGFnZ2VyYXRpb24oKSk7fWNvbnN0IGM9MS41KnQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxoPTMqYyx1PW5ldyBGbG9hdDY0QXJyYXkoMTYpO2ZvcihsZXQgaT0wO2k8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysraSl7Y29uc3Qgbz10aGlzLl9jYXNjYWRlc1tpXTtsZXQgcj10LmhlaWdodC81MCxzPTE7MT09PXhvLmNhc2NhZGVDb3VudD9zPWg6MD09PWk/cz1jOihyPWMscz1oKTtjb25zdFtuLGFdPUNvKHQsdGhpcy5zaGFkb3dEaXJlY3Rpb24scixzLHhvLnNoYWRvd01hcFJlc29sdXRpb24sbCk7by5zY2FsZT10LnNjYWxlLG8ubWF0cml4PW4sby5ib3VuZGluZ1NwaGVyZVJhZGl1cz1hLGUuYTYuaW52ZXJ0KHUsby5tYXRyaXgpLG8uZnJ1c3R1bT1lLmJxLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHUsMSwwLCEwKSxvLmZhcj1zO31jb25zdCBkPXRoaXMuX2Nhc2NhZGVzLmxlbmd0aC0xO3RoaXMuX3VuaWZvcm1WYWx1ZXMudV9mYWRlX3JhbmdlPVsuNzUqdGhpcy5fY2FzY2FkZXNbZF0uZmFyLHRoaXMuX2Nhc2NhZGVzW2RdLmZhcl0sdGhpcy5fdW5pZm9ybVZhbHVlcy51X3NoYWRvd19pbnRlbnNpdHk9cix0aGlzLl91bmlmb3JtVmFsdWVzLnVfc2hhZG93X2RpcmVjdGlvbj1bdGhpcy5zaGFkb3dEaXJlY3Rpb25bMF0sdGhpcy5zaGFkb3dEaXJlY3Rpb25bMV0sdGhpcy5zaGFkb3dEaXJlY3Rpb25bMl1dLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dfdGV4ZWxfc2l6ZT0xL3hvLnNoYWRvd01hcFJlc29sdXRpb24sdGhpcy5fdW5pZm9ybVZhbHVlcy51X3NoYWRvd19tYXBfcmVzb2x1dGlvbj14by5zaGFkb3dNYXBSZXNvbHV0aW9uLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMD1nby5TaGFkb3dNYXAwLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMT1nby5TaGFkb3dNYXAwKzEsdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXM9by50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyLHJlbmRlcldvcmxkQ29waWVzOiEwfSk7Y29uc3QgXz1vLnRyYW5zZm9ybS5lbGV2YXRpb247Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXMpe2xldCB0PXttaW46MCxtYXg6MH07aWYoXyl7Y29uc3QgaT1fLmdldE1pbk1heEZvclRpbGUoZSk7aSYmKHQ9aSk7fXRoaXMuYWRkU2hhZG93UmVjZWl2ZXIoZS50b1Vud3JhcHBlZCgpLHQubWluLHQubWF4KTt9fWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lO31kcmF3U2hhZG93UGFzcyh0LGkpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBvPXRoaXMucGFpbnRlcixyPW8uY29udGV4dDt0aGlzLl9udW1DYXNjYWRlc1RvUmVuZGVyPXRoaXMuX3JlY2VpdmVycy5jb21wdXRlUmVxdWlyZWRDYXNjYWRlcyhvLnRyYW5zZm9ybS5nZXRGcnVzdHVtKDApLG8udHJhbnNmb3JtLndvcmxkU2l6ZSx0aGlzLl9jYXNjYWRlcyksci52aWV3cG9ydC5zZXQoWzAsMCx4by5zaGFkb3dNYXBSZXNvbHV0aW9uLHhvLnNoYWRvd01hcFJlc29sdXRpb25dKTtmb3IobGV0IHM9MDtzPHRoaXMuX251bUNhc2NhZGVzVG9SZW5kZXI7KytzKXtvLmN1cnJlbnRTaGFkb3dDYXNjYWRlPXMsci5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMuX2Nhc2NhZGVzW3NdLmZyYW1lYnVmZmVyLmZyYW1lYnVmZmVyKSxyLmNsZWFyKHtjb2xvcjplLmF4LndoaXRlLGRlcHRoOjF9KTtmb3IoY29uc3QgZSBvZiB0Lm9yZGVyKXtjb25zdCByPXQuX21lcmdlZExheWVyc1tlXTtpZighci5oYXNTaGFkb3dQYXNzKCl8fHIuaXNIaWRkZW4oby50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgcz10LmdldExheWVyU291cmNlQ2FjaGUociksbj1zP2lbcy5pZF06dm9pZCAwOyhcIm1vZGVsXCI9PT1yLnR5cGV8fG4mJm4ubGVuZ3RoKSYmby5yZW5kZXJMYXllcihvLHMscixuKTt9fW8uY3VycmVudFNoYWRvd0Nhc2NhZGU9MDt9ZHJhd0dyb3VuZFNoYWRvd3MoKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3QgZT10aGlzLnBhaW50ZXIsdD1lLnN0eWxlLGk9ZS5jb250ZXh0LG89dC5kaXJlY3Rpb25hbExpZ2h0LHI9dC5hbWJpZW50TGlnaHQ7aWYoIW98fCFyKXJldHVybjtjb25zdCBzPVtdLG49dm8oZSxlLmxvbmdlc3RDdXRvZmZSYW5nZSk7bi5zaG91bGRSZW5kZXJDdXRvZmYmJnMucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Y29uc3QgYT1TbyhvLHIpLGw9bmV3IEx0KGkuZ2wuTEVRVUFMLEx0LlJlYWRPbmx5LGUuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9ncm91bmRTaGFkb3dUaWxlcyl7Y29uc3Qgbz10LnRvVW53cmFwcGVkKCkscj1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksYz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImdyb3VuZFNoYWRvd1wiLHtkZWZpbmVzOnMsb3ZlcnJpZGVGb2c6cn0pO3RoaXMuc2V0dXBTaGFkb3dzKG8sYyksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhpLGMsbyxudWxsLG4pO2NvbnN0IGg9e3VfbWF0cml4OmUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgobyksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjphfTtjLmRyYXcoZSxpLmdsLlRSSUFOR0xFUyxsLFJ0LmRpc2FibGVkLE10Lm11bHRpcGx5LEZ0LmRpc2FibGVkLGgsXCJncm91bmRfc2hhZG93XCIsZS50aWxlRXh0ZW50QnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS50aWxlRXh0ZW50U2VnbWVudHMse30sZS50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwpO319Z2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpe3JldHVybiB0aGlzLnBhaW50ZXIuX3NoYWRvd01hcERlYnVnP010LnVuYmxlbmRlZDpNdC5kaXNhYmxlZH1nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCl7cmV0dXJuIHRoaXMuX2RlcHRoTW9kZX1nZXRTaGFkb3dDYXN0aW5nTGF5ZXJDb3VudCgpe3JldHVybiB0aGlzLl9zaGFkb3dMYXllckNvdW50fWNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tVGlsZSh0KXtjb25zdCBpPXRoaXMucGFpbnRlci50cmFuc2Zvcm0sbz1pLmNhbGN1bGF0ZVBvc01hdHJpeCh0LGkud29ybGRTaXplKTtyZXR1cm4gZS5hNi5tdWx0aXBseShvLHRoaXMuX2Nhc2NhZGVzW3RoaXMucGFpbnRlci5jdXJyZW50U2hhZG93Q2FzY2FkZV0ubWF0cml4LG8pLEZsb2F0MzJBcnJheS5mcm9tKG8pfWNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tTWF0cml4KHQpe3JldHVybiBlLmE2Lm11bHRpcGx5KHQsdGhpcy5fY2FzY2FkZXNbdGhpcy5wYWludGVyLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5tYXRyaXgsdCksRmxvYXQzMkFycmF5LmZyb20odCl9c2V0dXBTaGFkb3dzKHQsaSxvLHI9MCl7aWYoIXRoaXMuX2VuYWJsZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5wYWludGVyLnRyYW5zZm9ybSxuPXRoaXMucGFpbnRlci5jb250ZXh0LGE9bi5nbCxsPXRoaXMuX3VuaWZvcm1WYWx1ZXMsYz1uZXcgRmxvYXQ2NEFycmF5KDE2KSxoPXMuY2FsY3VsYXRlUG9zTWF0cml4KHQscy53b3JsZFNpemUpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fY2FzY2FkZXMubGVuZ3RoO3QrKyllLmE2Lm11bHRpcGx5KGMsdGhpcy5fY2FzY2FkZXNbdF0ubWF0cml4LGgpLGxbMD09PXQ/XCJ1X2xpZ2h0X21hdHJpeF8wXCI6XCJ1X2xpZ2h0X21hdHJpeF8xXCJdPUZsb2F0MzJBcnJheS5mcm9tKGMpLG4uYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMCtnby5TaGFkb3dNYXAwK3QpLHRoaXMuX2Nhc2NhZGVzW3RdLnRleHR1cmUuYmluZChhLk5FQVJFU1QsYS5DTEFNUF9UT19FREdFKTtpZih0aGlzLnVzZU5vcm1hbE9mZnNldD0hIW8sdGhpcy51c2VOb3JtYWxPZmZzZXQpe2NvbnN0IGk9ZS5iUih0LmNhbm9uaWNhbCksbj0yL3MudGlsZVNpemUqZS5WL3hvLnNoYWRvd01hcFJlc29sdXRpb24sYT1uKnRoaXMuX2Nhc2NhZGVzWzBdLmJvdW5kaW5nU3BoZXJlUmFkaXVzLGM9bip0aGlzLl9jYXNjYWRlc1t0aGlzLl9jYXNjYWRlcy5sZW5ndGgtMV0uYm91bmRpbmdTcGhlcmVSYWRpdXMsaD0oXCJ2ZWN0b3ItdGlsZVwiPT09bz8xOjMpL01hdGgucG93KDIsci10LmNhbm9uaWNhbC56LSgxLXMuem9vbStNYXRoLmZsb29yKHMuem9vbSkpKTtsLnVfc2hhZG93X25vcm1hbF9vZmZzZXQ9W2ksYSpoLGMqaF0sbC51X3NoYWRvd19iaWFzPVs2ZS01LC4wMDEyLC4wMTJdO31lbHNlIGwudV9zaGFkb3dfYmlhcz1bMzZlLTUsLjAwMTIsLjAxMl07aS5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKG4sbCk7fXNldHVwU2hhZG93c0Zyb21NYXRyaXgodCxpLG89ITEpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LHM9ci5nbCxuPXRoaXMuX3VuaWZvcm1WYWx1ZXMsYT1uZXcgRmxvYXQ2NEFycmF5KDE2KTtmb3IobGV0IGk9MDtpPHhvLmNhc2NhZGVDb3VudDtpKyspZS5hNi5tdWx0aXBseShhLHRoaXMuX2Nhc2NhZGVzW2ldLm1hdHJpeCx0KSxuWzA9PT1pP1widV9saWdodF9tYXRyaXhfMFwiOlwidV9saWdodF9tYXRyaXhfMVwiXT1GbG9hdDMyQXJyYXkuZnJvbShhKSxyLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTArZ28uU2hhZG93TWFwMCtpKSx0aGlzLl9jYXNjYWRlc1tpXS50ZXh0dXJlLmJpbmQocy5ORUFSRVNULHMuQ0xBTVBfVE9fRURHRSk7aWYodGhpcy51c2VOb3JtYWxPZmZzZXQ9byxvKXtjb25zdCBlPTU7bi51X3NoYWRvd19ub3JtYWxfb2Zmc2V0PVsxLGUsZV0sbi51X3NoYWRvd19iaWFzPVs2ZS01LC4wMDEyLC4wMTJdO31lbHNlIG4udV9zaGFkb3dfYmlhcz1bMzZlLTUsLjAwMTIsLjAxMl07aS5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKHIsbik7fWdldFNoYWRvd1VuaWZvcm1WYWx1ZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybVZhbHVlc31nZXRDdXJyZW50Q2FzY2FkZUZydXN0dW0oKXtyZXR1cm4gdGhpcy5fY2FzY2FkZXNbdGhpcy5wYWludGVyLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5mcnVzdHVtfWNvbXB1dGVTaW1wbGlmaWVkVGlsZVNoYWRvd1ZvbHVtZSh0LGksbyxyKXtpZihyWzJdPj0wKXJldHVybiB7fTtjb25zdCBzPWZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPW8vKDE8PHQuY2Fub25pY2FsLnopO3JldHVybiBuZXcgZS5iUyhbdC5jYW5vbmljYWwueCpyK3Qud3JhcCpvLHQuY2Fub25pY2FsLnkqcit0LndyYXAqbywwXSxbKHQuY2Fub25pY2FsLngrMSkqcit0LndyYXAqbywodC5jYW5vbmljYWwueSsxKSpyK3Qud3JhcCpvLGldKX0odCxpLG8pLmdldENvcm5lcnMoKSxuPWkvLXJbMl07clswXTwwPyhlLk4uYWRkKHNbMF0sc1swXSxbclswXSpuLDAsMF0pLGUuTi5hZGQoc1szXSxzWzNdLFtyWzBdKm4sMCwwXSkpOnJbMF0+MCYmKGUuTi5hZGQoc1sxXSxzWzFdLFtyWzBdKm4sMCwwXSksZS5OLmFkZChzWzJdLHNbMl0sW3JbMF0qbiwwLDBdKSksclsxXTwwPyhlLk4uYWRkKHNbMF0sc1swXSxbMCxyWzFdKm4sMF0pLGUuTi5hZGQoc1sxXSxzWzFdLFswLHJbMV0qbiwwXSkpOnJbMV0+MCYmKGUuTi5hZGQoc1syXSxzWzJdLFswLHJbMV0qbiwwXSksZS5OLmFkZChzWzNdLHNbM10sWzAsclsxXSpuLDBdKSk7Y29uc3QgYT17fTtyZXR1cm4gYS52ZXJ0aWNlcz1zLGEucGxhbmVzPVtUbyhzWzFdLHNbMF0sc1s0XSksVG8oc1syXSxzWzFdLHNbNV0pLFRvKHNbM10sc1syXSxzWzZdKSxUbyhzWzBdLHNbM10sc1s3XSldLGF9YWRkU2hhZG93UmVjZWl2ZXIodCxpLG8pe3RoaXMuX3JlY2VpdmVycy5hZGQodCxlLmJTLmZyb21UaWxlSWRBbmRIZWlnaHQodCxpLG8pKTt9Z2V0TWF4Q2FzY2FkZUZvclRpbGUoZSl7Y29uc3QgdD10aGlzLl9yZWNlaXZlcnMuZ2V0KGUpO3JldHVybiB0JiZ0Lmxhc3RDYXNjYWRlP3QubGFzdENhc2NhZGU6MH19ZnVuY3Rpb24gVG8odCxpLG8pe2NvbnN0IHI9ZS5OLnN1YihbXSxvLGkpLHM9ZS5OLnN1YihbXSx0LGkpLG49ZS5OLmNyb3NzKFtdLHIscyksYT1lLk4ubGVuZ3RoKG4pO3JldHVybiAwPT09YT9bMCwwLDEsMF06KGUuTi5zY2FsZShuLG4sMS9hKSxbblswXSxuWzFdLG5bMl0sLWUuTi5kb3QobixpKV0pfWZ1bmN0aW9uIEVvKHQpe2NvbnN0IGk9dC5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxvPWUuYlEoaS54LGkueSxpLnopO29bMl09ZS5hYShvWzJdLDAsNzUpO2NvbnN0IHI9ZS5iVChbb1swXSxvWzFdLG9bMl1dKTtyZXR1cm4gZS5OLmZyb21WYWx1ZXMoci54LHIueSxyLnopfWZ1bmN0aW9uIFNvKHQsaSl7Y29uc3Qgbz10LnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikscj10LnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHM9dC5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxuPVtzLngscy55LHMuel0sYT1pLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIiksbD1pLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLGM9TWF0aC5tYXgoZS5OLmRvdChbMCwwLDFdLG4pLDApLGg9WzAsMCwwXTtlLk4uc2NhbGUoaCxhLnRvQXJyYXkwMUxpbmVhcigpLnNsaWNlKDAsMyksbCk7Y29uc3QgdT1bMCwwLDBdO3JldHVybiBlLk4uc2NhbGUodSxvLnRvQXJyYXkwMUxpbmVhcigpLnNsaWNlKDAsMyksYypyKSxlLmJVKFtoWzBdPjA/aFswXS8oaFswXSt1WzBdKTowLGhbMV0+MD9oWzFdLyhoWzFdK3VbMV0pOjAsaFsyXT4wP2hbMl0vKGhbMl0rdVsyXSk6MF0pfWZ1bmN0aW9uIENvKHQsaSxvLHIscyxuKXtjb25zdCBhPXQuem9vbSxsPXQuc2NhbGUsYz10LndvcmxkU2l6ZSxoPTEvYyx1PXQuYXNwZWN0LGQ9TWF0aC5zcXJ0KDErdSp1KSpNYXRoLnRhbiguNSp0LmZvdlgpLF89ZCpkLHA9ci1vLGY9citvO2xldCBtLGc7Xz5wL2Y/KG09cixnPXIqZCk6KG09LjUqZiooMStfKSxnPS41Kk1hdGguc3FydChwKnArMioocipyK28qbykqXytmKmYqXypfKSk7Y29uc3Qgdj10LnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIodC5jZW50ZXIubGF0LGMpLHg9dC5fY2FtZXJhLmdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpLHk9WzAsMCwtbSpoXTtlLk4udHJhbnNmb3JtTWF0NCh5LHkseCk7bGV0IGI9ZypoO2NvbnN0IHc9dC5fZWRnZUluc2V0cztpZighKDA9PT13LmxlZnQmJjA9PT13LnRvcCYmMD09PXcucmlnaHQmJjA9PT13LmJvdHRvbXx8dy5sZWZ0PT09dy5yaWdodCYmdy50b3A9PT13LmJvdHRvbSkpe2NvbnN0IGk9dC5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodC53b3JsZFNpemUsXCJtZXRlcnNcIj09PXQucHJvamVjdGlvbi56QXhpc1VuaXQ/djoxKSxzPXQuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0Ll9mb3YsdC53aWR0aC90LmhlaWdodCxvLHIpO3NbOF09MiotdC5jZW50ZXJPZmZzZXQueC90LndpZHRoLHNbOV09Mip0LmNlbnRlck9mZnNldC55L3QuaGVpZ2h0O2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7ZS5hNi5tdWwobixzLGkpO2NvbnN0IGg9bmV3IEZsb2F0NjRBcnJheSgxNik7ZS5hNi5pbnZlcnQoaCxuKTtjb25zdCB1PWUuYnEuZnJvbUludlByb2plY3Rpb25NYXRyaXgoaCxjLGEsITApO2Zvcihjb25zdCBpIG9mIHUucG9pbnRzKXtjb25zdCBvPSgoVD1pKVswXS89bCxUWzFdLz1sLFRbMl09ZS5ibChUWzJdLHQuX2NlbnRlci5sYXQpLFQpO2I9TWF0aC5tYXgoYixlLk4ubGVuKGUuTi5zdWJ0cmFjdChbXSx5LG8pKSk7fX12YXIgVDtiKj1zLyhzLTEpO2NvbnN0IEU9TWF0aC5hY29zKGlbMl0pLFM9TWF0aC5hdGFuMigtaVswXSwtaVsxXSksQz1uZXcgX287Qy5wb3NpdGlvbj15LEMuc2V0UGl0Y2hCZWFyaW5nKEUsUyk7Y29uc3QgST1DLmdldFdvcmxkVG9DYW1lcmEoYyx2KSxEPWIqYyxMPU1hdGgubWluKHQuX21lcmNhdG9yWmZyb21ab29tKDE3KSpjKi0yLC0yKkQpLEE9Qy5nZXRDYW1lcmFUb0NsaXBPcnRob2dyYXBoaWMoLUQsRCwtRCxELEwsKEQrbip2KS9pWzJdKSxSPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2UuYTYubXVsdGlwbHkoUixBLEkpO2NvbnN0IFA9ZS5OLmZyb21WYWx1ZXMoTWF0aC5mbG9vcigxZTYqeVswXSkvMWU2KmMsTWF0aC5mbG9vcigxZTYqeVsxXSkvMWU2KmMsMCksTT0uNSpzLHo9WzAsMCwwXTtlLk4udHJhbnNmb3JtTWF0NCh6LFAsUiksZS5OLnNjYWxlKHoseixNKTtjb25zdCBPPVtNYXRoLmZsb29yKHpbMF0pLE1hdGguZmxvb3IoelsxXSksTWF0aC5mbG9vcih6WzJdKV0sRj1bMCwwLDBdO2UuTi5zdWIoRix6LE8pLGUuTi5zY2FsZShGLEYsLTEvTSk7Y29uc3QgQj1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5hNi5pZGVudGl0eShCKSxlLmE2LnRyYW5zbGF0ZShCLEIsRiksZS5hNi5tdWx0aXBseShSLEIsUiksW1IsRF19Y29uc3QgSW89KGUsdCk9PmNlKGUsdCYmdC5maWx0ZXIoKGU9Plwic291cmNlLmNhbnZhc1wiIT09ZS5pZGVudGlmaWVyKSkpLERvPWUuYWMob2ksW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRMaWdodHNcIixcInNldFBhaW50UHJvcGVydHlcIixcInNldExheW91dFByb3BlcnR5XCIsXCJzZXRTbG90XCIsXCJzZXRGaWx0ZXJcIixcImFkZFNvdXJjZVwiLFwicmVtb3ZlU291cmNlXCIsXCJzZXRMYXllclpvb21SYW5nZVwiLFwic2V0TGlnaHRcIixcInNldFRyYW5zaXRpb25cIixcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsXCJzZXRUZXJyYWluXCIsXCJzZXRGb2dcIixcInNldFByb2plY3Rpb25cIixcInNldENhbWVyYVwiLFwiYWRkSW1wb3J0XCIsXCJyZW1vdmVJbXBvcnRcIixcInVwZGF0ZUltcG9ydFwiXSksTG89ZS5hYyhvaSxbXCJzZXRDZW50ZXJcIixcInNldFpvb21cIixcInNldEJlYXJpbmdcIixcInNldFBpdGNoXCJdKSxBbz17dmVyc2lvbjo4LGxheWVyczpbXSxzb3VyY2VzOnt9fSxSbz17ZHVyYXRpb246MzAwLGRlbGF5OjB9LFBvPW5ldyBTZXQoW1wiZmlsbFwiLFwibGluZVwiLFwiYmFja2dyb3VuZFwiLFwiaGlsbHNoYWRlXCIsXCJyYXN0ZXJcIl0pO2NsYXNzIE1vIGV4dGVuZHMgZS5Fe2NvbnN0cnVjdG9yKHQsaT17fSl7c3VwZXIoKSx0aGlzLm1hcD10LHRoaXMuc2NvcGU9aS5zY29wZXx8XCJcIix0aGlzLmZyYWdtZW50cz1bXSx0aGlzLmltcG9ydERlcHRoPWkuaW1wb3J0RGVwdGh8fDAsdGhpcy5pbXBvcnRzQ2FjaGU9aS5pbXBvcnRzQ2FjaGV8fG5ldyBNYXAsdGhpcy5yZXNvbHZlZEltcG9ydHM9aS5yZXNvbHZlZEltcG9ydHN8fG5ldyBTZXQsdGhpcy50cmFuc2l0aW9uPWUuZSh7fSxSbyksdGhpcy5fYnVpbGRpbmdJbmRleD1uZXcgZWkodGhpcyksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgbm8sdGhpcy5fbWVyZ2VkT3JkZXI9W10sdGhpcy5fZHJhcGVkRmlyc3RPcmRlcj1bXSx0aGlzLl9tZXJnZWRMYXllcnM9e30sdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzPXt9LHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzPXt9LHRoaXMuX21lcmdlZFN5bWJvbFNvdXJjZUNhY2hlcz17fSx0aGlzLl9oYXMzRExheWVycz0hMSx0aGlzLl9oYXNDaXJjbGVMYXllcnM9ITEsdGhpcy5faGFzU3ltYm9sTGF5ZXJzPSExLHRoaXMuX2NoYW5nZXM9aS5zdHlsZUNoYW5nZXN8fG5ldyB2LHRoaXMuZGlzcGF0Y2hlcj1pLmRpc3BhdGNoZXI/aS5kaXNwYXRjaGVyOm5ldyBlLmJXKGUuYlgoKSx0aGlzKSxpLmltYWdlTWFuYWdlcj90aGlzLmltYWdlTWFuYWdlcj1pLmltYWdlTWFuYWdlcjoodGhpcy5pbWFnZU1hbmFnZXI9bmV3IHcsdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5pbWFnZU1hbmFnZXIuY3JlYXRlU2NvcGUodGhpcy5zY29wZSksdGhpcy5nbHlwaE1hbmFnZXI9aS5nbHlwaE1hbmFnZXI/aS5nbHlwaE1hbmFnZXI6bmV3IGUuYlkodC5fcmVxdWVzdE1hbmFnZXIsaS5sb2NhbEZvbnRGYW1pbHk/ZS5iWi5hbGw6aS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk/ZS5iWi5pZGVvZ3JhcGhzOmUuYloubm9uZSxpLmxvY2FsRm9udEZhbWlseXx8aS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkpLGkubW9kZWxNYW5hZ2VyP3RoaXMubW9kZWxNYW5hZ2VyPWkubW9kZWxNYW5hZ2VyOih0aGlzLm1vZGVsTWFuYWdlcj1uZXcgeCh0Ll9yZXF1ZXN0TWFuYWdlciksdGhpcy5tb2RlbE1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e30sdGhpcy5fc291cmNlQ2FjaGVzPXt9LHRoaXMuX290aGVyU291cmNlQ2FjaGVzPXt9LHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fcHJlY29tcGlsZURvbmU9ITEsdGhpcy5fc2hvdWxkUHJlY29tcGlsZT0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fb3JkZXI9W10sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEsdGhpcy5vcHRpb25zPWkuY29uZmlnT3B0aW9ucz9pLmNvbmZpZ09wdGlvbnM6bmV3IE1hcCx0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnM9aS5jb25maWdEZXBlbmRlbnRMYXllcnM/aS5jb25maWdEZXBlbmRlbnRMYXllcnM6bmV3IFNldCx0aGlzLl9jb25maWc9aS5jb25maWcsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFJlZmVycmVyXCIsZS5iXygpKTtjb25zdCBvPXRoaXM7dGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrPU1vLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UoKHQ9PntvLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3luY1JUTFBsdWdpblN0YXRlXCIse3BsdWdpblN0YXR1czp0LnBsdWdpblN0YXR1cyxwbHVnaW5VUkw6dC5wbHVnaW5VUkx9LCgodCxpKT0+e2lmKGUuYiQodCksaSYmaS5ldmVyeSgoZT0+ZSkpKWZvcihjb25zdCBlIGluIG8uX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD1vLl9zb3VyY2VDYWNoZXNbZV0saT10LmdldFNvdXJjZSgpLnR5cGU7XCJ2ZWN0b3JcIiE9PWkmJlwiZ2VvanNvblwiIT09aXx8dC5yZWxvYWQoKTt9fSkpO30pKSx0aGlzLm9uKFwiZGF0YVwiLChlPT57aWYoXCJzb3VyY2VcIiE9PWUuZGF0YVR5cGV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2UoZS5zb3VyY2VJZCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IGk9dGhpcy5fbGF5ZXJzW2VdO2kuc291cmNlPT09dC5pZCYmdGhpcy5fdmFsaWRhdGVMYXllcihpKTt9fSkpO31sb2FkVVJMKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7Y29uc3Qgbz1cImJvb2xlYW5cIj09dHlwZW9mIGkudmFsaWRhdGU/aS52YWxpZGF0ZTohZS5jMCh0KTt0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0LGkuYWNjZXNzVG9rZW4pLHRoaXMucmVzb2x2ZWRJbXBvcnRzLmFkZCh0KTtjb25zdCByPXRoaXMuaW1wb3J0c0NhY2hlLmdldCh0KTtpZihyKXJldHVybiB0aGlzLl9sb2FkKHIsbyk7Y29uc3Qgcz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0LGUuUi5TdHlsZSk7dGhpcy5fcmVxdWVzdD1lLmcocywoKGkscik9PntpZih0aGlzLl9yZXF1ZXN0PW51bGwsaSl0aGlzLmZpcmUobmV3IGUuYShpKSk7ZWxzZSBpZihyKXJldHVybiB0aGlzLmltcG9ydHNDYWNoZS5zZXQodCxyKSx0aGlzLl9sb2FkKHIsbyl9KSk7fWxvYWRKU09OKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fcmVxdWVzdD1lLmYuZnJhbWUoKCgpPT57dGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2xvYWQodCwhMSE9PWkudmFsaWRhdGUpO30pKTt9bG9hZEVtcHR5KCl7dGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChBbywhMSk7fV9sb2FkSW1wb3J0cyh0LGksbyl7aWYodGhpcy5pbXBvcnREZXB0aD49NClyZXR1cm4gZS53KFwiU3R5bGUgZG9lc24ndCBzdXBwb3J0IG5lc3RpbmcgZGVlcGVyIHRoYW4gNVwiKSxQcm9taXNlLnJlc29sdmUoKTtjb25zdCByPVtdO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlRnJhZ21lbnRTdHlsZShlKSxzPW5ldyBQcm9taXNlKChlPT57dC5vbmNlKFwic3R5bGUuaW1wb3J0LmxvYWRcIixlKSx0Lm9uY2UoXCJlcnJvclwiLGUpO30pKS50aGVuKCgoKT0+dGhpcy5tZXJnZUFsbCgpKSk7aWYoci5wdXNoKHMpLHRoaXMucmVzb2x2ZWRJbXBvcnRzLmhhcyhlLnVybCkpe3QubG9hZEVtcHR5KCk7Y29udGludWV9Y29uc3Qgbj1lLmRhdGF8fHRoaXMuaW1wb3J0c0NhY2hlLmdldChlLnVybCk7bj90LmxvYWRKU09OKG4se3ZhbGlkYXRlOml9KTplLnVybD90LmxvYWRVUkwoZS51cmwse3ZhbGlkYXRlOml9KTp0LmxvYWRFbXB0eSgpO2NvbnN0IGE9e3N0eWxlOnQsaWQ6ZS5pZCxjb25maWc6ZS5jb25maWd9O2lmKG8pe2NvbnN0IGU9dGhpcy5mcmFnbWVudHMuZmluZEluZGV4KCgoe2lkOmV9KT0+ZT09PW8pKTt0aGlzLmZyYWdtZW50cz10aGlzLmZyYWdtZW50cy5zbGljZSgwLGUpLmNvbmNhdChhKS5jb25jYXQodGhpcy5mcmFnbWVudHMuc2xpY2UoZSkpO31lbHNlIHRoaXMuZnJhZ21lbnRzLnB1c2goYSk7fXJldHVybiBQcm9taXNlLmFsbFNldHRsZWQocil9X2NyZWF0ZUZyYWdtZW50U3R5bGUodCl7Y29uc3QgaT10aGlzLnNjb3BlP2UuYWcodC5pZCx0aGlzLnNjb3BlKTp0LmlkLG89bmV3IE1vKHRoaXMubWFwLHtzY29wZTppLHN0eWxlQ2hhbmdlczp0aGlzLl9jaGFuZ2VzLGltcG9ydERlcHRoOnRoaXMuaW1wb3J0RGVwdGgrMSxpbXBvcnRzQ2FjaGU6dGhpcy5pbXBvcnRzQ2FjaGUscmVzb2x2ZWRJbXBvcnRzOm5ldyBTZXQodGhpcy5yZXNvbHZlZEltcG9ydHMpLGRpc3BhdGNoZXI6dGhpcy5kaXNwYXRjaGVyLGltYWdlTWFuYWdlcjp0aGlzLmltYWdlTWFuYWdlcixnbHlwaE1hbmFnZXI6dGhpcy5nbHlwaE1hbmFnZXIsbW9kZWxNYW5hZ2VyOnRoaXMubW9kZWxNYW5hZ2VyLGNvbmZpZzp0LmNvbmZpZyxjb25maWdPcHRpb25zOnRoaXMub3B0aW9ucyxjb25maWdEZXBlbmRlbnRMYXllcnM6dGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzfSk7cmV0dXJuIG8uc2V0RXZlbnRlZFBhcmVudCh0aGlzLm1hcCx7c3R5bGU6b30pLG99X3JlbG9hZEltcG9ydHMoKXt0aGlzLm1lcmdlQWxsKCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpLHRoaXMudXBkYXRlQ29uZmlnRGVwZW5kZW5jaWVzKCksdGhpcy5tYXAuX3RyaWdnZXJDYW1lcmFVcGRhdGUodGhpcy5jYW1lcmEpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix7bGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlciksc2NvcGU6dGhpcy5zY29wZSxvcHRpb25zOnRoaXMub3B0aW9uc30pO2NvbnN0IHQ9dGhpcy5pc1Jvb3RTdHlsZSgpO3RoaXMuX3Nob3VsZFByZWNvbXBpbGU9dCx0aGlzLmZpcmUobmV3IGUuYih0P1wic3R5bGUubG9hZFwiOlwic3R5bGUuaW1wb3J0LmxvYWRcIikpO31fbG9hZCh0LGkpe2NvbnN0IG89dC5zY2hlbWE7aWYodGhpcy5pc1Jvb3RTdHlsZSgpJiYodC5mcmFnbWVudHx8byYmITEhPT10LmZyYWdtZW50KSl7Y29uc3Qgbz1lLmUoe30sQW8se2ltcG9ydHM6W3tpZDpcImJhc2VtYXBcIixkYXRhOnQsdXJsOlwiXCJ9XX0pO3JldHVybiB2b2lkIHRoaXMuX2xvYWQobyxpKX1pZih0aGlzLnNldENvbmZpZyh0aGlzLl9jb25maWcsbyksaSYmSW8odGhpcyxZKHQpKSlyZXR1cm47dGhpcy5fbG9hZGVkPSEwLHRoaXMuc3R5bGVzaGVldD1lLmMxKHQpO2Zvcihjb25zdCBlIGluIHQuc291cmNlcyl0aGlzLmFkZFNvdXJjZShlLHQuc291cmNlc1tlXSx7dmFsaWRhdGU6ITEsaXNJbml0aWFsTG9hZDohMH0pO3Quc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUodC5zcHJpdGUpOih0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITAsdGhpcy5zY29wZSksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLHtzY29wZTp0aGlzLnNjb3BlLGlzTG9hZGVkOiEwfSkpLHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTCh0LmdseXBocyx0aGlzLnNjb3BlKTtjb25zdCByPWlpKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO2lmKHRoaXMuX29yZGVyPXIubWFwKChlPT5lLmlkKSksdGhpcy5zdHlsZXNoZWV0LmxpZ2h0JiZlLncoXCJUaGUgYGxpZ2h0YCByb290IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHByZWZlciB1c2luZyBgbGlnaHRzYCB3aXRoIGBmbGF0YCBsaWdodCB0eXBlIGluc3RlYWQuXCIpLHRoaXMuc3R5bGVzaGVldC5saWdodHMpaWYoMT09PXRoaXMuc3R5bGVzaGVldC5saWdodHMubGVuZ3RoJiZcImZsYXRcIj09PXRoaXMuc3R5bGVzaGVldC5saWdodHNbMF0udHlwZSl7Y29uc3QgZT10aGlzLnN0eWxlc2hlZXQubGlnaHRzWzBdO3RoaXMubGlnaHQ9bmV3IHVlKGUucHJvcGVydGllcyxlLmlkKTt9ZWxzZSB0aGlzLnNldExpZ2h0cyh0aGlzLnN0eWxlc2hlZXQubGlnaHRzKTt0aGlzLmxpZ2h0fHwodGhpcy5saWdodD1uZXcgdWUodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3QgaT1lLmMyKHQsdGhpcy5zY29wZSx0aGlzLm9wdGlvbnMpO2kuaXNDb25maWdEZXBlbmRlbnQmJnRoaXMuX2NvbmZpZ0RlcGVuZGVudExheWVycy5hZGQoaS5mcWlkKSxpLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOmkuaWR9fSksdGhpcy5fbGF5ZXJzW2kuaWRdPWksdGhpcy5fc2VyaWFsaXplZExheWVyc1tpLmlkXT1pLnNlcmlhbGl6ZSgpO2NvbnN0IG89dGhpcy5nZXRPd25MYXllclNvdXJjZUNhY2hlKGkpLHI9ISF0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dzRW5hYmxlZCgpO28mJmkuY2FuQ2FzdFNoYWRvd3MoKSYmciYmKG8uY2FzdHNTaGFkb3dzPSEwKTt9dGhpcy5zdHlsZXNoZWV0Lm1vZGVscyYmdGhpcy5tb2RlbE1hbmFnZXIuYWRkTW9kZWxzKHRoaXMuc3R5bGVzaGVldC5tb2RlbHMsdGhpcy5zY29wZSk7Y29uc3Qgcz10aGlzLnN0eWxlc2hlZXQudGVycmFpbjtzJiYodm9pZCAwPT09dGhpcy5kaXNhYmxlRWxldmF0ZWRUZXJyYWluJiYodGhpcy5kaXNhYmxlRWxldmF0ZWRUZXJyYWluPWUuZi5oYXNDYW52YXNGaW5nZXJwcmludE5vaXNlKCkpLHRoaXMuZGlzYWJsZUVsZXZhdGVkVGVycmFpbj9lLncoXCJUZXJyYWluIGFuZCBoaWxsc2hhZGUgYXJlIGRpc2FibGVkIGJlY2F1c2Ugb2YgQ2FudmFzMkQgbGltaXRhdGlvbnMgd2hlbiBmaW5nZXJwcmludGluZyBwcm90ZWN0aW9uIGlzIGVuYWJsZWQgKGUuZy4gaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlKS5cIik6dGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKXx8dGhpcy5fY3JlYXRlVGVycmFpbihzLDEpKSx0aGlzLnN0eWxlc2hlZXQuZm9nJiZ0aGlzLl9jcmVhdGVGb2codGhpcy5zdHlsZXNoZWV0LmZvZyksdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24mJnRoaXMuc2V0VHJhbnNpdGlvbih0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbiksdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0LmltcG9ydHM/dGhpcy5fbG9hZEltcG9ydHModC5pbXBvcnRzLGkpLnRoZW4oKCgpPT50aGlzLl9yZWxvYWRJbXBvcnRzKCkpKTp0aGlzLl9yZWxvYWRJbXBvcnRzKCk7fWlzUm9vdFN0eWxlKCl7cmV0dXJuIDA9PT10aGlzLmltcG9ydERlcHRofW1lcmdlQWxsKCl7bGV0IHQsaSxvLHIscyxuLGEsbDt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5zY29wZSE9PXRoaXMuc2NvcGUmJmRlbGV0ZSB0aGlzLnRlcnJhaW4sdGhpcy5mb3JFYWNoRnJhZ21lbnRTdHlsZSgoZT0+e2lmKGUuc3R5bGVzaGVldCl7aWYobnVsbCE9ZS5saWdodCYmKHQ9ZS5saWdodCksZS5zdHlsZXNoZWV0LmxpZ2h0cylmb3IoY29uc3QgdCBvZiBlLnN0eWxlc2hlZXQubGlnaHRzKVwiYW1iaWVudFwiPT09dC50eXBlJiZudWxsIT1lLmFtYmllbnRMaWdodCYmKGk9ZS5hbWJpZW50TGlnaHQpLFwiZGlyZWN0aW9uYWxcIj09PXQudHlwZSYmbnVsbCE9ZS5kaXJlY3Rpb25hbExpZ2h0JiYobz1lLmRpcmVjdGlvbmFsTGlnaHQpO3I9dGhpcy5fcHJpb3JpdGl6ZVRlcnJhaW4ocixlLnRlcnJhaW4sZS5zdHlsZXNoZWV0LnRlcnJhaW4pLGUuc3R5bGVzaGVldC5mb2cmJm51bGwhPWUuZm9nJiYocz1lLmZvZyksbnVsbCE9ZS5zdHlsZXNoZWV0LmNhbWVyYSYmKGw9ZS5zdHlsZXNoZWV0LmNhbWVyYSksbnVsbCE9ZS5zdHlsZXNoZWV0LnByb2plY3Rpb24mJihuPWUuc3R5bGVzaGVldC5wcm9qZWN0aW9uKSxudWxsIT1lLnN0eWxlc2hlZXQudHJhbnNpdGlvbiYmKGE9ZS5zdHlsZXNoZWV0LnRyYW5zaXRpb24pO319KSksdGhpcy5saWdodD10LHRoaXMuYW1iaWVudExpZ2h0PWksdGhpcy5kaXJlY3Rpb25hbExpZ2h0PW8sdGhpcy5mb2c9cyxudWxsPT09cj9kZWxldGUgdGhpcy50ZXJyYWluOnRoaXMudGVycmFpbj1yLHRoaXMuY2FtZXJhPWx8fHtcImNhbWVyYS1wcm9qZWN0aW9uXCI6XCJwZXJzcGVjdGl2ZVwifSx0aGlzLnByb2plY3Rpb249bnx8e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnRyYW5zaXRpb249ZS5lKHt9LFJvLGEpLHRoaXMubWVyZ2VTb3VyY2VzKCksdGhpcy5tZXJnZUxheWVycygpO31mb3JFYWNoRnJhZ21lbnRTdHlsZShlKXtjb25zdCB0PWk9Pntmb3IoY29uc3QgZSBvZiBpLmZyYWdtZW50cyl0KGUuc3R5bGUpO2UoaSk7fTt0KHRoaXMpO31fcHJpb3JpdGl6ZVRlcnJhaW4oZSx0LGkpe2NvbnN0IG89ZSYmMD09PWUuZHJhcGVSZW5kZXJNb2RlO3JldHVybiBudWxsPT09aT90JiYwPT09dC5kcmFwZVJlbmRlck1vZGU/dDpvP2U6bnVsbDpudWxsIT10JiYoIWV8fG98fHQmJjE9PT10LmRyYXBlUmVuZGVyTW9kZSk/dDplfW1lcmdlVGVycmFpbigpe2xldCBlO3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnNjb3BlIT09dGhpcy5zY29wZSYmZGVsZXRlIHRoaXMudGVycmFpbix0aGlzLmZvckVhY2hGcmFnbWVudFN0eWxlKCh0PT57ZT10aGlzLl9wcmlvcml0aXplVGVycmFpbihlLHQudGVycmFpbix0LnN0eWxlc2hlZXQudGVycmFpbik7fSkpLG51bGw9PT1lP2RlbGV0ZSB0aGlzLnRlcnJhaW46dGhpcy50ZXJyYWluPWU7fW1lcmdlUHJvamVjdGlvbigpe2xldCBlO3RoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKHQ9PntudWxsIT10LnN0eWxlc2hlZXQucHJvamVjdGlvbiYmKGU9dC5zdHlsZXNoZWV0LnByb2plY3Rpb24pO30pKSx0aGlzLnByb2plY3Rpb249ZXx8e25hbWU6XCJtZXJjYXRvclwifTt9bWVyZ2VTb3VyY2VzKCl7Y29uc3QgdD17fSxpPXt9LG89e307dGhpcy5mb3JFYWNoRnJhZ21lbnRTdHlsZSgocj0+e2Zvcihjb25zdCBpIGluIHIuX3NvdXJjZUNhY2hlcyl7Y29uc3Qgbz1lLmFnKGksci5zY29wZSk7dFtvXT1yLl9zb3VyY2VDYWNoZXNbaV07fWZvcihjb25zdCB0IGluIHIuX290aGVyU291cmNlQ2FjaGVzKXtjb25zdCBvPWUuYWcodCxyLnNjb3BlKTtpW29dPXIuX290aGVyU291cmNlQ2FjaGVzW3RdO31mb3IoY29uc3QgdCBpbiByLl9zeW1ib2xTb3VyY2VDYWNoZXMpe2NvbnN0IGk9ZS5hZyh0LHIuc2NvcGUpO29baV09ci5fc3ltYm9sU291cmNlQ2FjaGVzW3RdO319KSksdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzPXQsdGhpcy5fbWVyZ2VkT3RoZXJTb3VyY2VDYWNoZXM9aSx0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXM9bzt9bWVyZ2VMYXllcnMoKXtjb25zdCB0PXt9LGk9W10sbz17fTt0aGlzLl9oYXMzRExheWVycz0hMSx0aGlzLl9oYXNDaXJjbGVMYXllcnM9ITEsdGhpcy5faGFzU3ltYm9sTGF5ZXJzPSExLHRoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKG89Pntmb3IoY29uc3QgciBvZiBvLl9vcmRlcil7Y29uc3Qgcz1vLl9sYXllcnNbcl07aWYoXCJzbG90XCI9PT1zLnR5cGUpe2NvbnN0IGk9ZS5jMyhyKTtpZih0W2ldKWNvbnRpbnVlO3RbaV09W107fXMuc2xvdCYmdFtzLnNsb3RdP3Rbcy5zbG90XS5wdXNoKHMpOmkucHVzaChzKTt9fSkpLHRoaXMuX21lcmdlZE9yZGVyPVtdO2NvbnN0IHI9KGk9W10pPT57Zm9yKGNvbnN0IHMgb2YgaSlpZihcInNsb3RcIj09PXMudHlwZSl7Y29uc3QgaT1lLmMzKHMuaWQpO3RbaV0mJnIodFtpXSk7fWVsc2Uge2NvbnN0IHQ9ZS5hZyhzLmlkLHMuc2NvcGUpO3RoaXMuX21lcmdlZE9yZGVyLnB1c2godCksb1t0XT1zLHMuaXMzRCgpJiYodGhpcy5faGFzM0RMYXllcnM9ITApLFwiY2lyY2xlXCI9PT1zLnR5cGUmJih0aGlzLl9oYXNDaXJjbGVMYXllcnM9ITApLFwic3ltYm9sXCI9PT1zLnR5cGUmJih0aGlzLl9oYXNTeW1ib2xMYXllcnM9ITApO319O3IoaSksdGhpcy5fbWVyZ2VkTGF5ZXJzPW8sdGhpcy51cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5fYnVpbGRpbmdJbmRleC5wcm9jZXNzTGF5ZXJzQ2hhbmdlZCgpO310ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKXtyZXR1cm4gISF0aGlzLnRlcnJhaW4mJjA9PT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlfWdldENhbWVyYSgpe3JldHVybiB0aGlzLnN0eWxlc2hlZXQuY2FtZXJhfXNldENhbWVyYSh0KXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LmNhbWVyYT1lLmUoe30sdGhpcy5zdHlsZXNoZWV0LmNhbWVyYSx0KSx0aGlzLmNhbWVyYT10aGlzLnN0eWxlc2hlZXQuY2FtZXJhLHRoaXN9c2V0UHJvamVjdGlvbihlKXtlP3RoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uPWU6ZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHRoaXMubWVyZ2VQcm9qZWN0aW9uKCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpO31hcHBseVByb2plY3Rpb25VcGRhdGUoKXt0aGlzLl9sb2FkZWQmJih0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0UHJvamVjdGlvblwiLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uT3B0aW9ucyksdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nPyh0aGlzLmdldFRlcnJhaW4oKXx8dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4pJiYhdGhpcy5kaXNhYmxlRWxldmF0ZWRUZXJyYWlufHx0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5zZXRUZXJyYWluKG51bGwsMCkpO31fdXBkYXRlTWFwUHJvamVjdGlvbigpe3RoaXMuaXNSb290U3R5bGUoKSYmKHRoaXMubWFwLl91c2VFeHBsaWNpdFByb2plY3Rpb24/dGhpcy5hcHBseVByb2plY3Rpb25VcGRhdGUoKTp0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCx0aGlzLnByb2plY3Rpb24pKTt9X2xvYWRTcHJpdGUodCl7dGhpcy5fc3ByaXRlUmVxdWVzdD1mdW5jdGlvbih0LGksbyl7bGV0IHIscyxuO2NvbnN0IGE9ZS5mLmRldmljZVBpeGVsUmF0aW8+MT9cIkAyeFwiOlwiXCI7bGV0IGw9ZS5nKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNwcml0ZVVSTCh0LGEsXCIuanNvblwiKSxlLlIuU3ByaXRlSlNPTiksKChlLHQpPT57bD1udWxsLG58fChuPWUscj10LGgoKSk7fSkpLGM9ZS5kKGkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZVNwcml0ZVVSTCh0LGEsXCIucG5nXCIpLGUuUi5TcHJpdGVJbWFnZSksKChlLHQpPT57Yz1udWxsLG58fChuPWUscz10LGgoKSk7fSkpO2Z1bmN0aW9uIGgoKXtpZihuKW8obik7ZWxzZSBpZihyJiZzKXtjb25zdCB0PWUuZi5nZXRJbWFnZURhdGEocyksaT17fTtmb3IoY29uc3QgbyBpbiByKXtjb25zdHt3aWR0aDpzLGhlaWdodDpuLHg6YSx5Omwsc2RmOmMscGl4ZWxSYXRpbzpoLHN0cmV0Y2hYOnUsc3RyZXRjaFk6ZCxjb250ZW50Ol99PXJbb10scD1uZXcgZS5oKHt3aWR0aDpzLGhlaWdodDpufSk7ZS5oLmNvcHkodCxwLHt4OmEseTpsfSx7eDowLHk6MH0se3dpZHRoOnMsaGVpZ2h0Om59KSxpW29dPXtkYXRhOnAscGl4ZWxSYXRpbzpoLHNkZjpjLHN0cmV0Y2hYOnUsc3RyZXRjaFk6ZCxjb250ZW50Ol99O31vKG51bGwsaSk7fX1yZXR1cm4ge2NhbmNlbCgpe2wmJihsLmNhbmNlbCgpLGw9bnVsbCksYyYmKGMuY2FuY2VsKCksYz1udWxsKTt9fX0odCx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsKCh0LGkpPT57aWYodGhpcy5fc3ByaXRlUmVxdWVzdD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLmEodCkpO2Vsc2UgaWYoaSlmb3IoY29uc3QgZSBpbiBpKXRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGUsdGhpcy5zY29wZSxpW2VdKTt0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITAsdGhpcy5zY29wZSksdGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXModGhpcy5zY29wZSksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEltYWdlc1wiLHtzY29wZTp0aGlzLnNjb3BlLGltYWdlczp0aGlzLl9hdmFpbGFibGVJbWFnZXN9KSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3ByaXRlTG9hZGVkXCIse3Njb3BlOnRoaXMuc2NvcGUsaXNMb2FkZWQ6ITB9KSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKTt9X3ZhbGlkYXRlTGF5ZXIodCl7Y29uc3QgaT10aGlzLmdldE93blNvdXJjZSh0LnNvdXJjZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG89dC5zb3VyY2VMYXllcjtvJiYoXCJnZW9qc29uXCI9PT1pLnR5cGV8fGkudmVjdG9yTGF5ZXJJZHMmJi0xPT09aS52ZWN0b3JMYXllcklkcy5pbmRleE9mKG8pKSYmdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBTb3VyY2UgbGF5ZXIgXCIke299XCIgZG9lcyBub3QgZXhpc3Qgb24gc291cmNlIFwiJHtpLmlkfVwiIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciBcIiR7dC5pZH1cImApKSk7fWxvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuICExO2lmKE9iamVjdC5rZXlzKHRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZFNvdXJjZUNhY2hlcygpKS5sZW5ndGgpcmV0dXJuICExO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZighdGhpcy5fc291cmNlQ2FjaGVzW2VdLmxvYWRlZCgpKXJldHVybiAhMTtpZighdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKSlyZXR1cm4gITE7aWYoIXRoaXMubW9kZWxNYW5hZ2VyLmlzTG9hZGVkKCkpcmV0dXJuICExO2Zvcihjb25zdHtzdHlsZTplfW9mIHRoaXMuZnJhZ21lbnRzKWlmKCFlLmxvYWRlZCgpKXJldHVybiAhMTtyZXR1cm4gITB9X3NlcmlhbGl6ZUltcG9ydHMoKXtpZih0aGlzLnN0eWxlc2hlZXQuaW1wb3J0cylyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LmltcG9ydHMubWFwKCgoZSx0KT0+e2NvbnN0IGk9dGhpcy5mcmFnbWVudHNbdF07cmV0dXJuIGkmJmkuc3R5bGUmJihlLmRhdGE9aS5zdHlsZS5zZXJpYWxpemUoKSksZX0pKX1fc2VyaWFsaXplU291cmNlcygpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5nZXRTb3VyY2UoKTtlW2kuaWRdfHwoZVtpLmlkXT1pLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIGV9X3NlcmlhbGl6ZUxheWVycyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fbGF5ZXJzW2ldO2UmJlwiY3VzdG9tXCIhPT1lLnR5cGUmJnQucHVzaChlLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHR9aGFzTGlnaHRUcmFuc2l0aW9ucygpe3JldHVybiAhKCF0aGlzLmxpZ2h0fHwhdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpfHwhKCF0aGlzLmFtYmllbnRMaWdodHx8IXRoaXMuYW1iaWVudExpZ2h0Lmhhc1RyYW5zaXRpb24oKSl8fCEoIXRoaXMuZGlyZWN0aW9uYWxMaWdodHx8IXRoaXMuZGlyZWN0aW9uYWxMaWdodC5oYXNUcmFuc2l0aW9uKCkpfWhhc0ZvZ1RyYW5zaXRpb24oKXtyZXR1cm4gISF0aGlzLmZvZyYmdGhpcy5mb2cuaGFzVHJhbnNpdGlvbigpfWhhc1RyYW5zaXRpb25zKCl7aWYodGhpcy5oYXNMaWdodFRyYW5zaXRpb25zKCkpcmV0dXJuICEwO2lmKHRoaXMuaGFzRm9nVHJhbnNpdGlvbigpKXJldHVybiAhMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO3JldHVybiAhMX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy50ZXJyYWluP3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI6dGhpcy5fbWVyZ2VkT3JkZXJ9aXNMYXllckRyYXBlZChlKXtyZXR1cm4gISF0aGlzLnRlcnJhaW4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmlzTGF5ZXJEcmFwZWQ/ZS5pc0xheWVyRHJhcGVkKHRoaXMuZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKSk6UG8uaGFzKGUudHlwZSkpfV9jaGVja0xvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX1fY2hlY2tMYXllcih0KXtjb25zdCBpPXRoaXMuZ2V0T3duTGF5ZXIodCk7aWYoaSlyZXR1cm4gaTt0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7fV9jaGVja1NvdXJjZSh0KXtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlKHQpO2lmKGkpcmV0dXJuIGk7dGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBUaGUgc291cmNlICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTt9dXBkYXRlKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuO3RoaXMuYW1iaWVudExpZ2h0JiZ0aGlzLmFtYmllbnRMaWdodC5yZWNhbGN1bGF0ZSh0KSx0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5yZWNhbGN1bGF0ZSh0KTtjb25zdCBpPXRoaXMuY2FsY3VsYXRlTGlnaHRzQnJpZ2h0bmVzcygpO3QuYnJpZ2h0bmVzcz1pfHwwLGkhPT10aGlzLl9icmlnaHRuZXNzJiYodGhpcy5fYnJpZ2h0bmVzcz1pLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRCcmlnaHRuZXNzXCIsaSkpO2NvbnN0IG89dGhpcy5fY2hhbmdlcy5pc0RpcnR5KCk7aWYodGhpcy5fY2hhbmdlcy5pc0RpcnR5KCkpe2NvbnN0IGU9dGhpcy5fY2hhbmdlcy5nZXRMYXllclVwZGF0ZXNCeVNjb3BlKCk7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3R7dXBkYXRlZElkczppLHJlbW92ZWRJZHM6b309ZVt0XTsoaXx8bykmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyh0LGksbyk7fXRoaXMudXBkYXRlU291cmNlQ2FjaGVzKCksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCksdGhpcy51cGRhdGVMYXllcnModCksdGhpcy5saWdodCYmdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmFtYmllbnRMaWdodCYmdGhpcy5hbWJpZW50TGlnaHQudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5mb2cmJnRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHQpLHRoaXMuX2NoYW5nZXMucmVzZXQoKTt9Y29uc3Qgcj17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdO3JbZV09dC51c2VkLHQudXNlZD0hMSx0LnRpbGVDb3ZlckxpZnQ9MDt9Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbWVyZ2VkT3JkZXIpe2NvbnN0IGk9dGhpcy5fbWVyZ2VkTGF5ZXJzW2VdO2lmKGkucmVjYWxjdWxhdGUodCx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFpLmlzSGlkZGVuKHQuem9vbSkpe2NvbnN0IGU9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGkpO2UmJihlLnVzZWQ9ITAsZS50aWxlQ292ZXJMaWZ0PU1hdGgubWF4KGUudGlsZUNvdmVyTGlmdCxpLnRpbGVDb3ZlckxpZnQoKSkpO31pZighdGhpcy5fcHJlY29tcGlsZURvbmUmJnRoaXMuX3Nob3VsZFByZWNvbXBpbGUpZm9yKGxldCBlPWkubWluem9vbXx8MDtlPChpLm1heHpvb218fDI1LjUpO2UrKyl7Y29uc3QgZT10aGlzLm1hcC5wYWludGVyO2lmKGUpe2NvbnN0IG89aS5nZXRQcm9ncmFtSWRzKCk7aWYoIW8pY29udGludWU7Zm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbz1pLmdldERlZmF1bHRQcm9ncmFtUGFyYW1zKHIsdC56b29tKTtvJiYoZS5zdHlsZT10aGlzLHRoaXMuZm9nJiYoZS5fZm9nVmlzaWJsZT0hMCxvLm92ZXJyaWRlRm9nPSEwLGUuZ2V0T3JDcmVhdGVQcm9ncmFtKHIsbykpLGUuX2ZvZ1Zpc2libGU9ITEsby5vdmVycmlkZUZvZz0hMSxlLmdldE9yQ3JlYXRlUHJvZ3JhbShyLG8pLCh0aGlzLnN0eWxlc2hlZXQudGVycmFpbnx8dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24mJlwiZ2xvYmVcIj09PXRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLm5hbWUpJiYoby5vdmVycmlkZVJ0dD0hMCxlLmdldE9yQ3JlYXRlUHJvZ3JhbShyLG8pKSk7fX19fXRoaXMuX3Nob3VsZFByZWNvbXBpbGUmJih0aGlzLl9wcmVjb21waWxlRG9uZT0hMCk7Zm9yKGNvbnN0IHQgaW4gcil7Y29uc3QgaT10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbdF07clt0XSE9PWkudXNlZCYmaS5nZXRTb3VyY2UoKS5maXJlKG5ldyBlLmIoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwidmlzaWJpbGl0eVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6aS5nZXRTb3VyY2UoKS5pZH0pKTt9dGhpcy5saWdodCYmdGhpcy5saWdodC5yZWNhbGN1bGF0ZSh0KSx0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZWNhbGN1bGF0ZSh0KSx0aGlzLmZvZyYmdGhpcy5mb2cucmVjYWxjdWxhdGUodCksdGhpcy56PXQuem9vbSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSYmKHRoaXMuX3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEpLG8mJnRoaXMuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7fV91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKXtjb25zdCBlPXRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZEltYWdlcygpO2lmKGUubGVuZ3RoKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW3RdLnJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKFtcImljb25zXCIsXCJwYXR0ZXJuc1wiXSxlKTt0aGlzLl9jaGFuZ2VzLnJlc2V0VXBkYXRlZEltYWdlcygpO319X3VwZGF0ZVdvcmtlckxheWVycyhlLHQsaSl7Y29uc3Qgbz10aGlzLmdldEZyYWdtZW50U3R5bGUoZSk7byYmdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInVwZGF0ZUxheWVyc1wiLHtsYXllcnM6dD9vLl9zZXJpYWxpemVMYXllcnModCk6W10sc2NvcGU6ZSxyZW1vdmVkSWRzOml8fFtdLG9wdGlvbnM6by5vcHRpb25zfSk7fXNldFN0YXRlKGkpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksSW8odGhpcyxZKGkpKSlyZXR1cm4gITE7KGk9ZS5jMShpKSkubGF5ZXJzPWlpKGkubGF5ZXJzKTtjb25zdCBvPWZ1bmN0aW9uKGUsaSl7aWYoIWUpcmV0dXJuIFt7Y29tbWFuZDpvaS5zZXRTdHlsZSxhcmdzOltpXX1dO2xldCBvPVtdO3RyeXtpZighdChlLnZlcnNpb24saS52ZXJzaW9uKSlyZXR1cm4gW3tjb21tYW5kOm9pLnNldFN0eWxlLGFyZ3M6W2ldfV07dChlLmNlbnRlcixpLmNlbnRlcil8fG8ucHVzaCh7Y29tbWFuZDpvaS5zZXRDZW50ZXIsYXJnczpbaS5jZW50ZXJdfSksdChlLnpvb20saS56b29tKXx8by5wdXNoKHtjb21tYW5kOm9pLnNldFpvb20sYXJnczpbaS56b29tXX0pLHQoZS5iZWFyaW5nLGkuYmVhcmluZyl8fG8ucHVzaCh7Y29tbWFuZDpvaS5zZXRCZWFyaW5nLGFyZ3M6W2kuYmVhcmluZ119KSx0KGUucGl0Y2gsaS5waXRjaCl8fG8ucHVzaCh7Y29tbWFuZDpvaS5zZXRQaXRjaCxhcmdzOltpLnBpdGNoXX0pLHQoZS5zcHJpdGUsaS5zcHJpdGUpfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0U3ByaXRlLGFyZ3M6W2kuc3ByaXRlXX0pLHQoZS5nbHlwaHMsaS5nbHlwaHMpfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0R2x5cGhzLGFyZ3M6W2kuZ2x5cGhzXX0pLHQoZS5pbXBvcnRzLGkuaW1wb3J0cyl8fGZ1bmN0aW9uKGU9W10saT1bXSxvKXtpPWl8fFtdO2NvbnN0IHI9KGU9ZXx8W10pLm1hcChjaSkscz1pLm1hcChjaSksbj1lLnJlZHVjZShoaSx7fSksYT1pLnJlZHVjZShoaSx7fSksbD1yLnNsaWNlKCk7bGV0IGMsaCx1LGQ7Zm9yKGM9MCxoPTA7YzxyLmxlbmd0aDtjKyspdT1yW2NdLGEuaGFzT3duUHJvcGVydHkodSk/aCsrOihvLnB1c2goe2NvbW1hbmQ6b2kucmVtb3ZlSW1wb3J0LGFyZ3M6W3VdfSksbC5zcGxpY2UobC5pbmRleE9mKHUsaCksMSkpO2ZvcihjPTAsaD0wO2M8cy5sZW5ndGg7YysrKXU9c1tzLmxlbmd0aC0xLWNdLGxbbC5sZW5ndGgtMS1jXSE9PXUmJihuLmhhc093blByb3BlcnR5KHUpPyhvLnB1c2goe2NvbW1hbmQ6b2kucmVtb3ZlSW1wb3J0LGFyZ3M6W3VdfSksbC5zcGxpY2UobC5sYXN0SW5kZXhPZih1LGwubGVuZ3RoLWgpLDEpKTpoKyssZD1sW2wubGVuZ3RoLWNdLG8ucHVzaCh7Y29tbWFuZDpvaS5hZGRJbXBvcnQsYXJnczpbYVt1XSxkXX0pLGwuc3BsaWNlKGwubGVuZ3RoLWMsMCx1KSk7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT1uW2UuaWRdO2kmJiF0KGksZSkmJm8ucHVzaCh7Y29tbWFuZDpvaS51cGRhdGVJbXBvcnQsYXJnczpbZS5pZCxlXX0pO319KGUuaW1wb3J0cyxpLmltcG9ydHMsbyksdChlLnRyYW5zaXRpb24saS50cmFuc2l0aW9uKXx8by5wdXNoKHtjb21tYW5kOm9pLnNldFRyYW5zaXRpb24sYXJnczpbaS50cmFuc2l0aW9uXX0pLHQoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOm9pLnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSksdChlLmZvZyxpLmZvZyl8fG8ucHVzaCh7Y29tbWFuZDpvaS5zZXRGb2csYXJnczpbaS5mb2ddfSksdChlLnByb2plY3Rpb24saS5wcm9qZWN0aW9uKXx8by5wdXNoKHtjb21tYW5kOm9pLnNldFByb2plY3Rpb24sYXJnczpbaS5wcm9qZWN0aW9uXX0pLHQoZS5saWdodHMsaS5saWdodHMpfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0TGlnaHRzLGFyZ3M6W2kubGlnaHRzXX0pLHQoZS5jYW1lcmEsaS5jYW1lcmEpfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0Q2FtZXJhLGFyZ3M6W2kuY2FtZXJhXX0pO2NvbnN0IHI9e30scz1bXTshZnVuY3Rpb24oZSxpLG8scil7bGV0IHM7Zm9yKHMgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkocykmJihpLmhhc093blByb3BlcnR5KHMpfHxzaShzLG8scikpO2ZvcihzIGluIGkpe2lmKCFpLmhhc093blByb3BlcnR5KHMpKWNvbnRpbnVlO2NvbnN0IG49aVtzXTtlLmhhc093blByb3BlcnR5KHMpP3QoZVtzXSxuKXx8KFwiZ2VvanNvblwiPT09ZVtzXS50eXBlJiZcImdlb2pzb25cIj09PW4udHlwZSYmYWkoZSxpLHMpP28ucHVzaCh7Y29tbWFuZDpvaS5zZXRHZW9KU09OU291cmNlRGF0YSxhcmdzOltzLG4uZGF0YV19KTpuaShzLGksbyxyKSk6cmkocyxpLG8pO319KGUuc291cmNlcyxpLnNvdXJjZXMscyxyKTtjb25zdCBuPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKChlPT57ZS5zb3VyY2UmJnJbZS5zb3VyY2VdP28ucHVzaCh7Y29tbWFuZDpvaS5yZW1vdmVMYXllcixhcmdzOltlLmlkXX0pOm4ucHVzaChlKTt9KSk7bGV0IGE9ZS50ZXJyYWluO2EmJnJbYS5zb3VyY2VdJiYoby5wdXNoKHtjb21tYW5kOm9pLnNldFRlcnJhaW4sYXJnczpbdm9pZCAwXX0pLGE9dm9pZCAwKSxvPW8uY29uY2F0KHMpLHQoYSxpLnRlcnJhaW4pfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0VGVycmFpbixhcmdzOltpLnRlcnJhaW5dfSksZnVuY3Rpb24oZSxpLG8pe2k9aXx8W107Y29uc3Qgcj0oZT1lfHxbXSkubWFwKGNpKSxzPWkubWFwKGNpKSxuPWUucmVkdWNlKGhpLHt9KSxhPWkucmVkdWNlKGhpLHt9KSxsPXIuc2xpY2UoKSxjPU9iamVjdC5jcmVhdGUobnVsbCk7bGV0IGgsdSxkLF8scCxmLG07Zm9yKGg9MCx1PTA7aDxyLmxlbmd0aDtoKyspZD1yW2hdLGEuaGFzT3duUHJvcGVydHkoZCk/dSsrOihvLnB1c2goe2NvbW1hbmQ6b2kucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxsLnNwbGljZShsLmluZGV4T2YoZCx1KSwxKSk7Zm9yKGg9MCx1PTA7aDxzLmxlbmd0aDtoKyspZD1zW3MubGVuZ3RoLTEtaF0sbFtsLmxlbmd0aC0xLWhdIT09ZCYmKG4uaGFzT3duUHJvcGVydHkoZCk/KG8ucHVzaCh7Y29tbWFuZDpvaS5yZW1vdmVMYXllcixhcmdzOltkXX0pLGwuc3BsaWNlKGwubGFzdEluZGV4T2YoZCxsLmxlbmd0aC11KSwxKSk6dSsrLGY9bFtsLmxlbmd0aC1oXSxvLnB1c2goe2NvbW1hbmQ6b2kuYWRkTGF5ZXIsYXJnczpbYVtkXSxmXX0pLGwuc3BsaWNlKGwubGVuZ3RoLWgsMCxkKSxjW2RdPSEwKTtmb3IoaD0wO2g8cy5sZW5ndGg7aCsrKWlmKGQ9c1toXSxfPW5bZF0scD1hW2RdLCFjW2RdJiYhdChfLHApKWlmKHQoXy5zb3VyY2UscC5zb3VyY2UpJiZ0KF9bXCJzb3VyY2UtbGF5ZXJcIl0scFtcInNvdXJjZS1sYXllclwiXSkmJnQoXy50eXBlLHAudHlwZSkpe2ZvcihtIGluIGxpKF8ubGF5b3V0LHAubGF5b3V0LG8sZCxudWxsLG9pLnNldExheW91dFByb3BlcnR5KSxsaShfLnBhaW50LHAucGFpbnQsbyxkLG51bGwsb2kuc2V0UGFpbnRQcm9wZXJ0eSksdChfLnNsb3QscC5zbG90KXx8by5wdXNoKHtjb21tYW5kOm9pLnNldFNsb3QsYXJnczpbZCxwLnNsb3RdfSksdChfLmZpbHRlcixwLmZpbHRlcil8fG8ucHVzaCh7Y29tbWFuZDpvaS5zZXRGaWx0ZXIsYXJnczpbZCxwLmZpbHRlcl19KSx0KF8ubWluem9vbSxwLm1pbnpvb20pJiZ0KF8ubWF4em9vbSxwLm1heHpvb20pfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbZCxwLm1pbnpvb20scC5tYXh6b29tXX0pLF8pXy5oYXNPd25Qcm9wZXJ0eShtKSYmXCJsYXlvdXRcIiE9PW0mJlwicGFpbnRcIiE9PW0mJlwiZmlsdGVyXCIhPT1tJiZcIm1ldGFkYXRhXCIhPT1tJiZcIm1pbnpvb21cIiE9PW0mJlwibWF4em9vbVwiIT09bSYmXCJzbG90XCIhPT1tJiYoMD09PW0uaW5kZXhPZihcInBhaW50LlwiKT9saShfW21dLHBbbV0sbyxkLG0uc2xpY2UoNiksb2kuc2V0UGFpbnRQcm9wZXJ0eSk6dChfW21dLHBbbV0pfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltkLG0scFttXV19KSk7Zm9yKG0gaW4gcClwLmhhc093blByb3BlcnR5KG0pJiYhXy5oYXNPd25Qcm9wZXJ0eShtKSYmXCJsYXlvdXRcIiE9PW0mJlwicGFpbnRcIiE9PW0mJlwiZmlsdGVyXCIhPT1tJiZcIm1ldGFkYXRhXCIhPT1tJiZcIm1pbnpvb21cIiE9PW0mJlwibWF4em9vbVwiIT09bSYmXCJzbG90XCIhPT1tJiYoMD09PW0uaW5kZXhPZihcInBhaW50LlwiKT9saShfW21dLHBbbV0sbyxkLG0uc2xpY2UoNiksb2kuc2V0UGFpbnRQcm9wZXJ0eSk6dChfW21dLHBbbV0pfHxvLnB1c2goe2NvbW1hbmQ6b2kuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltkLG0scFttXV19KSk7fWVsc2Ugby5wdXNoKHtjb21tYW5kOm9pLnJlbW92ZUxheWVyLGFyZ3M6W2RdfSksZj1sW2wubGFzdEluZGV4T2YoZCkrMV0sby5wdXNoKHtjb21tYW5kOm9pLmFkZExheWVyLGFyZ3M6W3AsZl19KTt9KG4saS5sYXllcnMsbyk7fWNhdGNoKGUpe2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBjb21wdXRlIHN0eWxlIGRpZmY6XCIsZSksbz1be2NvbW1hbmQ6b2kuc2V0U3R5bGUsYXJnczpbaV19XTt9cmV0dXJuIG99KHRoaXMuc2VyaWFsaXplKCksaSkuZmlsdGVyKChlPT4hKGUuY29tbWFuZCBpbiBMbykpKTtpZigwPT09by5sZW5ndGgpcmV0dXJuICExO2NvbnN0IHI9by5maWx0ZXIoKGU9PiEoZS5jb21tYW5kIGluIERvKSkpO2lmKHIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBVbmltcGxlbWVudGVkOiAke3IubWFwKChlPT5lLmNvbW1hbmQpKS5qb2luKFwiLCBcIil9LmApO3JldHVybiBvLmZvckVhY2goKGU9Pnt0aGlzW2UuY29tbWFuZF0uYXBwbHkodGhpcyxlLmFyZ3MpO30pKSx0aGlzLnN0eWxlc2hlZXQ9aSx0aGlzLm1lcmdlQWxsKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldExheWVyc1wiLHtsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKSxzY29wZTp0aGlzLnNjb3BlLG9wdGlvbnM6dGhpcy5vcHRpb25zfSksITB9YWRkSW1hZ2UodCxpKXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT90aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UodCx0aGlzLnNjb3BlLGkpLHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKHQpLHRoaXMpfXVwZGF0ZUltYWdlKGUsdCl7dGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoZSx0aGlzLnNjb3BlLHQpO31nZXRJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoZSx0aGlzLnNjb3BlKX1yZW1vdmVJbWFnZSh0KXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UodCx0aGlzLnNjb3BlKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKTp0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJObyBpbWFnZSB3aXRoIHRoaXMgbmFtZSBleGlzdHMuXCIpKSl9X2FmdGVySW1hZ2VVcGRhdGVkKHQpe3RoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKHRoaXMuc2NvcGUpLHRoaXMuX2NoYW5nZXMudXBkYXRlSW1hZ2UodCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEltYWdlc1wiLHtzY29wZTp0aGlzLnNjb3BlLGltYWdlczp0aGlzLl9hdmFpbGFibGVJbWFnZXN9KSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO31saXN0SW1hZ2VzKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fYXZhaWxhYmxlSW1hZ2VzLnNsaWNlKCl9YWRkTW9kZWwoZSx0LGk9e30pe3JldHVybiB0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX3ZhbGlkYXRlKGFlLGBtb2RlbHMuJHtlfWAsdCxudWxsLGkpfHwodGhpcy5tb2RlbE1hbmFnZXIuYWRkTW9kZWwoZSx0LHRoaXMuc2NvcGUpLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKSksdGhpc31oYXNNb2RlbChlKXtyZXR1cm4gdGhpcy5tb2RlbE1hbmFnZXIuaGFzTW9kZWwoZSx0aGlzLnNjb3BlKX1yZW1vdmVNb2RlbCh0KXtyZXR1cm4gdGhpcy5oYXNNb2RlbCh0KT8odGhpcy5tb2RlbE1hbmFnZXIucmVtb3ZlTW9kZWwodCx0aGlzLnNjb3BlKSx0aGlzKTp0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJObyBtb2RlbCB3aXRoIHRoaXMgSUQgZXhpc3RzLlwiKSkpfWxpc3RNb2RlbHMoKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLm1vZGVsTWFuYWdlci5saXN0TW9kZWxzKHRoaXMuc2NvcGUpfWFkZFNvdXJjZSh0LGksbz17fSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx2b2lkIDAhPT10aGlzLmdldE93blNvdXJjZSh0KSl0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCBJRCBcIiR7dH1cIi5gKTtpZighaS50eXBlKXRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyhpKS5qb2luKFwiLCBcIil9LmApO2lmKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZShKLGBzb3VyY2VzLiR7dH1gLGksbnVsbCxvKSlyZXR1cm47dGhpcy5tYXAmJnRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJihpLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hMCk7Y29uc3Qgcj1WdCh0LGksdGhpcy5kaXNwYXRjaGVyLHRoaXMpO3Iuc2NvcGU9dGhpcy5zY29wZSxyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywoKCk9Pih7aXNTb3VyY2VMb2FkZWQ6dGhpcy5faXNTb3VyY2VDYWNoZUxvYWRlZChyLmlkKSxzb3VyY2U6ci5zZXJpYWxpemUoKSxzb3VyY2VJZDpyLmlkfSkpKTtjb25zdCBzPXQ9Pntjb25zdCBpPSh0P1wic3ltYm9sOlwiOlwib3RoZXI6XCIpK3IuaWQsbz1lLmFnKGksdGhpcy5zY29wZSkscz10aGlzLl9zb3VyY2VDYWNoZXNbaV09bmV3IEt0KG8scix0KTsodD90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXM6dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpW3IuaWRdPXMscy5vbkFkZCh0aGlzLm1hcCk7fTtzKCExKSxcInZlY3RvclwiIT09aS50eXBlJiZcImdlb2pzb25cIiE9PWkudHlwZXx8cyghMCksci5vbkFkZCYmci5vbkFkZCh0aGlzLm1hcCksby5pc0luaXRpYWxMb2FkfHwodGhpcy5tZXJnZVNvdXJjZXMoKSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCkpO31yZW1vdmVTb3VyY2UodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlKHQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tpXS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7aX1cIiBpcyB1c2luZyBpdC5gKSkpO2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnNjb3BlPT09dGhpcy5zY29wZSYmdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBvPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKHQpO2Zvcihjb25zdCB0IG9mIG8pe2NvbnN0IGk9ZS5jMyh0LmlkKTtkZWxldGUgdGhpcy5fc291cmNlQ2FjaGVzW2ldLHRoaXMuX2NoYW5nZXMuZGlzY2FyZFNvdXJjZUNhY2hlVXBkYXRlKHQuaWQpLHQuZmlyZShuZXcgZS5iKFwiZGF0YVwiLHtzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDp0LmdldFNvdXJjZSgpLmlkfSkpLHQuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0LmNsZWFyVGlsZXMoKTt9cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3RdLHRoaXMubWVyZ2VTb3VyY2VzKCksaS5zZXRFdmVudGVkUGFyZW50KG51bGwpLGkub25SZW1vdmUmJmkub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKSx0aGlzfXNldEdlb0pTT05Tb3VyY2VEYXRhKGUsdCl7dGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLmdldE93blNvdXJjZShlKS5zZXREYXRhKHQpLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKTt9Z2V0T3duU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2VDYWNoZShlKTtyZXR1cm4gdCYmdC5nZXRTb3VyY2UoKX1nZXRPd25Tb3VyY2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlcyl7Y29uc3QgaT10aGlzLmdldE93blNvdXJjZUNhY2hlKHQpO2kmJmUucHVzaChpLmdldFNvdXJjZSgpKTt9cmV0dXJuIGV9YXJlVGlsZXNMb2FkZWQoKXtjb25zdCBlPXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF0uX3RpbGVzO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTtpZihcImxvYWRlZFwiIT09dC5zdGF0ZSYmXCJlcnJvcmVkXCIhPT10LnN0YXRlKXJldHVybiAhMX19cmV0dXJuICEwfXNldExpZ2h0cyh0KXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCF0KXJldHVybiBkZWxldGUgdGhpcy5hbWJpZW50TGlnaHQsdm9pZCBkZWxldGUgdGhpcy5kaXJlY3Rpb25hbExpZ2h0O2NvbnN0IGk9dGhpcy5fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoKTtmb3IoY29uc3QgZSBvZiB0KXtpZih0aGlzLl92YWxpZGF0ZShlZSxcImxpZ2h0c1wiLGUpKXJldHVybjtzd2l0Y2goZS50eXBlKXtjYXNlXCJhbWJpZW50XCI6aWYodGhpcy5hbWJpZW50TGlnaHQpe2NvbnN0IHQ9dGhpcy5hbWJpZW50TGlnaHQ7dC5zZXQoZSksdC51cGRhdGVUcmFuc2l0aW9ucyhpKTt9ZWxzZSB0aGlzLmFtYmllbnRMaWdodD1uZXcgVGUoZSxFZSx0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyk7YnJlYWs7Y2FzZVwiZGlyZWN0aW9uYWxcIjppZih0aGlzLmRpcmVjdGlvbmFsTGlnaHQpe2NvbnN0IHQ9dGhpcy5kaXJlY3Rpb25hbExpZ2h0O3Quc2V0KGUpLHQudXBkYXRlVHJhbnNpdGlvbnMoaSk7fWVsc2UgdGhpcy5kaXJlY3Rpb25hbExpZ2h0PW5ldyBUZShlLFNlLHRoaXMuc2NvcGUsdGhpcy5vcHRpb25zKTt9fWNvbnN0IG89bmV3IGUuSyh0aGlzLnp8fDAsaSk7dGhpcy5hbWJpZW50TGlnaHQmJnRoaXMuYW1iaWVudExpZ2h0LnJlY2FsY3VsYXRlKG8pLHRoaXMuZGlyZWN0aW9uYWxMaWdodCYmdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnJlY2FsY3VsYXRlKG8pLHRoaXMuX2JyaWdodG5lc3M9dGhpcy5jYWxjdWxhdGVMaWdodHNCcmlnaHRuZXNzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEJyaWdodG5lc3NcIix0aGlzLl9icmlnaHRuZXNzKTt9Y2FsY3VsYXRlTGlnaHRzQnJpZ2h0bmVzcygpe2NvbnN0IHQ9dGhpcy5kaXJlY3Rpb25hbExpZ2h0LGk9dGhpcy5hbWJpZW50TGlnaHQ7aWYoIXR8fCFpKXJldHVybjtjb25zdCBvPWU9Pi4yMTI2KihlWzBdPD0uMDM5Mjg/ZVswXS8xMi45MjpNYXRoLnBvdygoZVswXSsuMDU1KS8xLjA1NSwyLjQpKSsuNzE1MiooZVsxXTw9LjAzOTI4P2VbMV0vMTIuOTI6TWF0aC5wb3coKGVbMV0rLjA1NSkvMS4wNTUsMi40KSkrLjA3MjIqKGVbMl08PS4wMzkyOD9lWzJdLzEyLjkyOk1hdGgucG93KChlWzJdKy4wNTUpLzEuMDU1LDIuNCkpLHI9dC5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLHM9dC5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSxuPXQucHJvcGVydGllcy5nZXQoXCJkaXJlY3Rpb25cIiksYT0xLWUuYlEobi54LG4ueSxuLnopWzJdLzkwLGw9byhyKSpzKmEsYz1pLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCksaD1pLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpO3JldHVybiAobCtvKGMpKmgpLzJ9Z2V0QnJpZ2h0bmVzcygpe3JldHVybiB0aGlzLl9icmlnaHRuZXNzfWdldExpZ2h0cygpe2lmKCF0aGlzLmVuYWJsZTNkTGlnaHRzKCkpcmV0dXJuIG51bGw7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZlLnB1c2godGhpcy5kaXJlY3Rpb25hbExpZ2h0LmdldCgpKSx0aGlzLmFtYmllbnRMaWdodCYmZS5wdXNoKHRoaXMuYW1iaWVudExpZ2h0LmdldCgpKSxlfWVuYWJsZTNkTGlnaHRzKCl7cmV0dXJuICEhdGhpcy5hbWJpZW50TGlnaHQmJiEhdGhpcy5kaXJlY3Rpb25hbExpZ2h0fWdldEZyYWdtZW50U3R5bGUodCl7aWYoIXQpcmV0dXJuIHRoaXM7aWYoZS5jNCh0KSl7Y29uc3QgaT1lLmM1KHQpLG89dGhpcy5mcmFnbWVudHMuZmluZCgoKHtpZDplfSk9PmU9PT1pKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKGBTdHlsZSBpbXBvcnQgbm90IGZvdW5kOiAke3R9YCk7Y29uc3Qgcj1lLmMzKHQpO3JldHVybiBvLnN0eWxlLmdldEZyYWdtZW50U3R5bGUocil9e2NvbnN0IGU9dGhpcy5mcmFnbWVudHMuZmluZCgoKHtpZDplfSk9PmU9PT10KSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKGBTdHlsZSBpbXBvcnQgbm90IGZvdW5kOiAke3R9YCk7cmV0dXJuIGUuc3R5bGV9fWdldENvbmZpZ1Byb3BlcnR5KHQsaSl7Y29uc3Qgbz10aGlzLmdldEZyYWdtZW50U3R5bGUodCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3Qgcj1lLmFnKGksby5zY29wZSkscz1vLm9wdGlvbnMuZ2V0KHIpLG49cz9zLnZhbHVlfHxzLmRlZmF1bHQ6bnVsbDtyZXR1cm4gbj9uLnNlcmlhbGl6ZSgpOm51bGx9c2V0Q29uZmlnUHJvcGVydHkodCxpLG8pe2NvbnN0IHI9ZS5yKG8pO2lmKFwic3VjY2Vzc1wiIT09ci5yZXN1bHQpcmV0dXJuIHZvaWQgSW8odGhpcyxyLnZhbHVlKTtjb25zdCBzPXIudmFsdWUuZXhwcmVzc2lvbixuPXRoaXMuZ2V0RnJhZ21lbnRTdHlsZSh0KTtpZighbilyZXR1cm47Y29uc3QgYT1lLmFnKGksbi5zY29wZSksbD1uLm9wdGlvbnMuZ2V0KGEpO2wmJih0aGlzLm9wdGlvbnMuc2V0KGEsey4uLmwsdmFsdWU6c30pLHRoaXMudXBkYXRlQ29uZmlnRGVwZW5kZW5jaWVzKCkpO31zZXRDb25maWcodCxpKXtpZih0aGlzLl9jb25maWc9dCx0fHxpKWlmKGkpZm9yKGNvbnN0IG8gaW4gaSl7bGV0IHIscztjb25zdCBuPWUucihpW29dLmRlZmF1bHQpO2lmKFwic3VjY2Vzc1wiPT09bi5yZXN1bHQmJihyPW4udmFsdWUuZXhwcmVzc2lvbiksdCYmdm9pZCAwIT09dFtvXSl7Y29uc3QgaT1lLnIodFtvXSk7XCJzdWNjZXNzXCI9PT1pLnJlc3VsdCYmKHM9aS52YWx1ZS5leHByZXNzaW9uKTt9Y29uc3R7bWluVmFsdWU6YSxtYXhWYWx1ZTpsLHN0ZXBWYWx1ZTpjLHR5cGU6aCx2YWx1ZXM6dX09aVtvXTtpZihyKXtjb25zdCB0PWUuYWcobyx0aGlzLnNjb3BlKTt0aGlzLm9wdGlvbnMuc2V0KHQse2RlZmF1bHQ6cix2YWx1ZTpzLG1pblZhbHVlOmEsbWF4VmFsdWU6bCxzdGVwVmFsdWU6Yyx0eXBlOmgsdmFsdWVzOnV9KTt9ZWxzZSB0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoYE5vIHNjaGVtYSBkZWZpbmVkIGZvciBjb25maWcgb3B0aW9uIFwiJHtvfVwiLmApKSk7fWVsc2UgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byBzZXQgY29uZmlnIGZvciBhIHN0eWxlIHdpdGhvdXQgc2NoZW1hLlwiKSkpO311cGRhdGVDb25maWdEZXBlbmRlbmNpZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMpe2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTt0JiYodC5wb3NzaWJseUV2YWx1YXRlVmlzaWJpbGl0eSgpLHRoaXMuX3VwZGF0ZUxheWVyKHQpKTt9dGhpcy5hbWJpZW50TGlnaHQmJnRoaXMuYW1iaWVudExpZ2h0LnVwZGF0ZUNvbmZpZyh0aGlzLm9wdGlvbnMpLHRoaXMuZGlyZWN0aW9uYWxMaWdodCYmdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnVwZGF0ZUNvbmZpZyh0aGlzLm9wdGlvbnMpLHRoaXMuZm9nJiZ0aGlzLmZvZy51cGRhdGVDb25maWcodGhpcy5vcHRpb25zKSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCk7fWFkZExheWVyKHQsaSxvPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dC5pZDtpZih0aGlzLl9sYXllcnNbcl0pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtsZXQgcztpZihcImN1c3RvbVwiPT09dC50eXBlKXtpZihJbyh0aGlzLGUuYzYodCkpKXJldHVybjtzPWUuYzIodCx0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyk7fWVsc2Uge2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKHIsdC5zb3VyY2UpLHQ9ZS5jMSh0KSx0PWUuZSh0LHtzb3VyY2U6cn0pKSx0aGlzLl92YWxpZGF0ZShvZSxgbGF5ZXJzLiR7cn1gLHQse2FycmF5SW5kZXg6LTF9LG8pKXJldHVybjtzPWUuYzIodCx0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyksdGhpcy5fdmFsaWRhdGVMYXllcihzKSxzLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnJ9fSksdGhpcy5fc2VyaWFsaXplZExheWVyc1tzLmlkXT1zLnNlcmlhbGl6ZSgpO31zLmlzQ29uZmlnRGVwZW5kZW50JiZ0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMuYWRkKHMuZnFpZCk7bGV0IG49dGhpcy5fb3JkZXIubGVuZ3RoO2lmKGkpe2NvbnN0IHQ9dGhpcy5fb3JkZXIuaW5kZXhPZihpKTtpZigtMT09PXQpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7cy5zbG90PT09dGhpcy5fbGF5ZXJzW2ldLnNsb3Q/bj10OmUudyhgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBoYXMgYSBkaWZmZXJlbnQgc2xvdC4gTGF5ZXJzIGNhbiBvbmx5IGJlIHJlYXJyYW5nZWQgd2l0aGluIHRoZSBzYW1lIHNsb3QuYCk7fXRoaXMuX29yZGVyLnNwbGljZShuLDAsciksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW3JdPXM7Y29uc3QgYT10aGlzLmdldE93bkxheWVyU291cmNlQ2FjaGUocyksbD0hIXRoaXMuZGlyZWN0aW9uYWxMaWdodCYmdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvd3NFbmFibGVkKCk7YSYmcy5jYW5DYXN0U2hhZG93cygpJiZsJiYoYS5jYXN0c1NoYWRvd3M9ITApO2NvbnN0IGM9dGhpcy5fY2hhbmdlcy5nZXRSZW1vdmVkTGF5ZXIocyk7aWYoYyYmcy5zb3VyY2UmJmEmJlwiY3VzdG9tXCIhPT1zLnR5cGUpe3RoaXMuX2NoYW5nZXMuZGlzY2FyZExheWVyUmVtb3ZhbChzKTtjb25zdCB0PWUuYWcocy5zb3VyY2Uscy5zY29wZSk7Yy50eXBlIT09cy50eXBlP3RoaXMuX2NoYW5nZXMudXBkYXRlU291cmNlQ2FjaGUodCxcImNsZWFyXCIpOih0aGlzLl9jaGFuZ2VzLnVwZGF0ZVNvdXJjZUNhY2hlKHQsXCJyZWxvYWRcIiksYS5wYXVzZSgpKTt9dGhpcy5fdXBkYXRlTGF5ZXIocykscy5vbkFkZCYmcy5vbkFkZCh0aGlzLm1hcCkscy5zY29wZT10aGlzLnNjb3BlLHRoaXMubWVyZ2VMYXllcnMoKTt9bW92ZUxheWVyKHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMuX2NoZWNrTGF5ZXIodCk7aWYoIW8pcmV0dXJuO2lmKHQ9PT1pKXJldHVybjtjb25zdCByPXRoaXMuX29yZGVyLmluZGV4T2YodCk7dGhpcy5fb3JkZXIuc3BsaWNlKHIsMSk7bGV0IHM9dGhpcy5fb3JkZXIubGVuZ3RoO2lmKGkpe2NvbnN0IHQ9dGhpcy5fb3JkZXIuaW5kZXhPZihpKTtpZigtMT09PXQpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7by5zbG90PT09dGhpcy5fbGF5ZXJzW2ldLnNsb3Q/cz10OmUudyhgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBoYXMgYSBkaWZmZXJlbnQgc2xvdC4gTGF5ZXJzIGNhbiBvbmx5IGJlIHJlYXJyYW5nZWQgd2l0aGluIHRoZSBzYW1lIHNsb3QuYCk7fXRoaXMuX29yZGVyLnNwbGljZShzLDAsdCksdGhpcy5fY2hhbmdlcy5zZXREaXJ0eSgpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMubWVyZ2VMYXllcnMoKTt9cmVtb3ZlTGF5ZXIoZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCB0PXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIXQpcmV0dXJuO3Quc2V0RXZlbnRlZFBhcmVudChudWxsKTtjb25zdCBpPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKGksMSksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmRlbGV0ZSh0LmZxaWQpLHRoaXMuX2NoYW5nZXMucmVtb3ZlTGF5ZXIodCk7Y29uc3Qgbz10aGlzLmdldE93bkxheWVyU291cmNlQ2FjaGUodCk7aWYobyYmby5jYXN0c1NoYWRvd3Mpe2xldCBlPSExO2Zvcihjb25zdCBpIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbaV0uc291cmNlPT09dC5zb3VyY2UmJnRoaXMuX2xheWVyc1tpXS5jYW5DYXN0U2hhZG93cygpKXtlPSEwO2JyZWFrfW8uY2FzdHNTaGFkb3dzPWU7fXQub25SZW1vdmUmJnQub25SZW1vdmUodGhpcy5tYXApLHRoaXMubWVyZ2VMYXllcnMoKTt9Z2V0T3duTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2xheWVyc1tlXX1oYXNMYXllcihlKXtyZXR1cm4gZSBpbiB0aGlzLl9tZXJnZWRMYXllcnN9aGFzTGF5ZXJUeXBlKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbdF0udHlwZT09PWUpcmV0dXJuICEwO3JldHVybiAhMX1zZXRMYXllclpvb21SYW5nZShlLHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMuX2NoZWNrTGF5ZXIoZSk7byYmKG8ubWluem9vbT09PXQmJm8ubWF4em9vbT09PWl8fChudWxsIT10JiYoby5taW56b29tPXQpLG51bGwhPWkmJihvLm1heHpvb209aSksdGhpcy5fdXBkYXRlTGF5ZXIobykpKTt9c2V0U2xvdChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLl9jaGVja0xheWVyKGUpO2kmJmkuc2xvdCE9PXQmJihpLnNsb3Q9dCx0aGlzLl91cGRhdGVMYXllcihpKSk7fXNldEZpbHRlcihpLG8scj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBzPXRoaXMuX2NoZWNrTGF5ZXIoaSk7aWYocyYmIXQocy5maWx0ZXIsbykpcmV0dXJuIG51bGw9PW8/KHMuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHMpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKHJlLGBsYXllcnMuJHtzLmlkfS5maWx0ZXJgLG8se2xheWVyVHlwZTpzLnR5cGV9LHIpfHwocy5maWx0ZXI9ZS5jMShvKSx0aGlzLl91cGRhdGVMYXllcihzKSkpfWdldEZpbHRlcih0KXtjb25zdCBpPXRoaXMuX2NoZWNrTGF5ZXIodCk7aWYoaSlyZXR1cm4gZS5jMShpLmZpbHRlcil9c2V0TGF5b3V0UHJvcGVydHkoaSxvLHIscz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuX2NoZWNrTGF5ZXIoaSk7aWYobiYmIXQobi5nZXRMYXlvdXRQcm9wZXJ0eShvKSxyKSl7aWYobnVsbCE9ciYmKCFzfHwhMSE9PXMudmFsaWRhdGUpJiZJbyhuLG5lLmNhbGwoWSx7a2V5OmBsYXllcnMuJHtpfS5sYXlvdXQuJHtvfWAsbGF5ZXJUeXBlOm4udHlwZSxvYmplY3RLZXk6byx2YWx1ZTpyLHN0eWxlU3BlYzplLkQsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpKXJldHVybjtuLnNldExheW91dFByb3BlcnR5KG8sciksbi5pc0NvbmZpZ0RlcGVuZGVudCYmdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmFkZChuLmZxaWQpLHRoaXMuX3VwZGF0ZUxheWVyKG4pO319Z2V0TGF5b3V0UHJvcGVydHkoZSx0KXtjb25zdCBpPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoaSlyZXR1cm4gaS5nZXRMYXlvdXRQcm9wZXJ0eSh0KX1zZXRQYWludFByb3BlcnR5KGksbyxyLHM9e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbj10aGlzLl9jaGVja0xheWVyKGkpO2lmKCFuKXJldHVybjtpZih0KG4uZ2V0UGFpbnRQcm9wZXJ0eShvKSxyKSlyZXR1cm47aWYobnVsbCE9ciYmKCFzfHwhMSE9PXMudmFsaWRhdGUpJiZJbyhuLHNlLmNhbGwoWSx7a2V5OmBsYXllcnMuJHtpfS5wYWludC4ke299YCxsYXllclR5cGU6bi50eXBlLG9iamVjdEtleTpvLHZhbHVlOnIsc3R5bGVTcGVjOmUuRH0pKSlyZXR1cm47Y29uc3QgYT1uLnNldFBhaW50UHJvcGVydHkobyxyKTtuLmlzQ29uZmlnRGVwZW5kZW50JiZ0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMuYWRkKG4uZnFpZCksYSYmdGhpcy5fdXBkYXRlTGF5ZXIobiksdGhpcy5fY2hhbmdlcy51cGRhdGVQYWludFByb3BlcnRpZXMobik7fWdldFBhaW50UHJvcGVydHkoZSx0KXtjb25zdCBpPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoaSlyZXR1cm4gaS5nZXRQYWludFByb3BlcnR5KHQpfXNldEZlYXR1cmVTdGF0ZSh0LGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10LnNvdXJjZSxyPXQuc291cmNlTGF5ZXIscz10aGlzLl9jaGVja1NvdXJjZShvKTtpZighcylyZXR1cm47Y29uc3Qgbj1zLnR5cGU7aWYoXCJnZW9qc29uXCI9PT1uJiZyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihcIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci5cIikpKTtpZihcInZlY3RvclwiPT09biYmIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO3ZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpO2NvbnN0IGE9dGhpcy5nZXRPd25Tb3VyY2VDYWNoZXMobyk7Zm9yKGNvbnN0IGUgb2YgYSllLnNldEZlYXR1cmVTdGF0ZShyLHQuaWQsaSk7fXJlbW92ZUZlYXR1cmVTdGF0ZSh0LGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10LnNvdXJjZSxyPXRoaXMuX2NoZWNrU291cmNlKG8pO2lmKCFyKXJldHVybjtjb25zdCBzPXIudHlwZSxuPVwidmVjdG9yXCI9PT1zP3Quc291cmNlTGF5ZXI6dm9pZCAwO2lmKFwidmVjdG9yXCI9PT1zJiYhbilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYoaSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihcIkEgZmVhdHVyZSBpZCBpcyByZXF1aXJlZCB0byByZW1vdmUgaXRzIHNwZWNpZmljIHN0YXRlIHByb3BlcnR5LlwiKSkpO2NvbnN0IGE9dGhpcy5nZXRPd25Tb3VyY2VDYWNoZXMobyk7Zm9yKGNvbnN0IGUgb2YgYSllLnJlbW92ZUZlYXR1cmVTdGF0ZShuLHQuaWQsaSk7fWdldEZlYXR1cmVTdGF0ZSh0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dC5zb3VyY2Usbz10LnNvdXJjZUxheWVyLHI9dGhpcy5fY2hlY2tTb3VyY2UoaSk7aWYocil7aWYoXCJ2ZWN0b3JcIiE9PXIudHlwZXx8bylyZXR1cm4gdm9pZCAwPT09dC5pZCYmdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuXCIpKSksdGhpcy5nZXRPd25Tb3VyY2VDYWNoZXMoaSlbMF0uZ2V0RmVhdHVyZVN0YXRlKG8sdC5pZCk7dGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO319c2V0VHJhbnNpdGlvbih0KXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb249ZS5lKHt9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHQpLHRoaXMudHJhbnNpdGlvbj10aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbix0aGlzfWdldFRyYW5zaXRpb24oKXtyZXR1cm4gZS5lKHt9LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX1zZXJpYWxpemUoKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHQ9dGhpcy5nZXRUZXJyYWluKCksaT10JiZ0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5zY29wZT09PXRoaXMuc2NvcGU/dDp0aGlzLnN0eWxlc2hlZXQudGVycmFpbjtyZXR1cm4gZS5jNyh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxpbXBvcnRzOnRoaXMuX3NlcmlhbGl6ZUltcG9ydHMoKSxzY2hlbWE6dGhpcy5zdHlsZXNoZWV0LnNjaGVtYSxjYW1lcmE6dGhpcy5zdHlsZXNoZWV0LmNhbWVyYSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsbGlnaHRzOnRoaXMuc3R5bGVzaGVldC5saWdodHMsdGVycmFpbjppLGZvZzp0aGlzLnN0eWxlc2hlZXQuZm9nLGNlbnRlcjp0aGlzLnN0eWxlc2hlZXQuY2VudGVyLHpvb206dGhpcy5zdHlsZXNoZWV0Lnpvb20sYmVhcmluZzp0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxwaXRjaDp0aGlzLnN0eWxlc2hlZXQucGl0Y2gsc3ByaXRlOnRoaXMuc3R5bGVzaGVldC5zcHJpdGUsZ2x5cGhzOnRoaXMuc3R5bGVzaGVldC5nbHlwaHMsdHJhbnNpdGlvbjp0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixwcm9qZWN0aW9uOnRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHNvdXJjZXM6dGhpcy5fc2VyaWFsaXplU291cmNlcygpLGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSwoZT0+dm9pZCAwIT09ZSkpfV91cGRhdGVMYXllcih0KXt0aGlzLl9jaGFuZ2VzLnVwZGF0ZUxheWVyKHQpO2NvbnN0IGk9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKHQpLG89ZS5hZyh0LnNvdXJjZSx0LnNjb3BlKSxyPXRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZFNvdXJjZUNhY2hlcygpO3Quc291cmNlJiYhcltvXSYmaSYmXCJyYXN0ZXJcIiE9PWkuZ2V0U291cmNlKCkudHlwZSYmKHRoaXMuX2NoYW5nZXMudXBkYXRlU291cmNlQ2FjaGUobyxcInJlbG9hZFwiKSxpLnBhdXNlKCkpLHQuaW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCk7fV9mbGF0dGVuQW5kU29ydFJlbmRlcmVkRmVhdHVyZXMoZSl7Y29uc3QgdD1lPT5cImZpbGwtZXh0cnVzaW9uXCI9PT10aGlzLl9tZXJnZWRMYXllcnNbZV0udHlwZXx8XCJtb2RlbFwiPT09dGhpcy5fbWVyZ2VkTGF5ZXJzW2VdLnR5cGUsaT10aGlzLm9yZGVyLG89e30scj1bXTtmb3IobGV0IHM9aS5sZW5ndGgtMTtzPj0wO3MtLSl7Y29uc3Qgbj1pW3NdO2lmKHQobikpe29bbl09cztmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbbl07aWYoZSlmb3IoY29uc3QgdCBvZiBlKXIucHVzaCh0KTt9fX1yLnNvcnQoKChlLHQpPT50LmludGVyc2VjdGlvblotZS5pbnRlcnNlY3Rpb25aKSk7Y29uc3Qgcz1bXTtmb3IobGV0IG49aS5sZW5ndGgtMTtuPj0wO24tLSl7Y29uc3QgYT1pW25dO2lmKHQoYSkpZm9yKGxldCBlPXIubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9cltlXS5mZWF0dXJlO2lmKG9bdC5sYXllci5pZF08bilicmVhaztzLnB1c2godCksci5wb3AoKTt9ZWxzZSBmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbYV07aWYoZSlmb3IoY29uc3QgdCBvZiBlKXMucHVzaCh0LmZlYXR1cmUpO319cmV0dXJuIHN9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSxvKXtpJiZpLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUocmUsXCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyXCIsaS5maWx0ZXIsbnVsbCxpKSxpLnNjb3BlPXRoaXMuc2NvcGUsaS5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzLGkuc2VyaWFsaXplZExheWVycz10aGlzLl9zZXJpYWxpemVkTGF5ZXJzO2NvbnN0IHI9e307aWYoaSYmaS5sYXllcnMpe2lmKCFBcnJheS5pc0FycmF5KGkubGF5ZXJzKSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS5cIikpKSxbXTtmb3IoY29uc3QgdCBvZiBpLmxheWVycyl7Y29uc3QgaT10aGlzLl9tZXJnZWRMYXllcnNbdF07aWYoIWkpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpLFtdO3JbaS5zb3VyY2VdPSEwO319Y29uc3Qgcz1bXSxuPWkuc2VyaWFsaXplZExheWVyc3x8e30sYT1pJiZpLmxheWVycz9pLmxheWVycy5zb21lKChlPT57Y29uc3QgdD10aGlzLmdldExheWVyKGUpO3JldHVybiB0JiZ0LmlzM0QoKX0pKTp0aGlzLmhhczNETGF5ZXJzKCksbD1DZS5jcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsbyk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKTtpZighdHx8dC5zY29wZSE9PWkuc2NvcGUpY29udGludWU7Y29uc3QgYz10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCkuaWQ7aS5sYXllcnMmJiFyW2NdfHxzLnB1c2goSHQodGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLHRoaXMuX21lcmdlZExheWVycyxuLGwsaSxvLGEsISF0aGlzLm1hcC5fc2hvd1F1ZXJ5R2VvbWV0cnkpKTt9cmV0dXJuIHRoaXMucGxhY2VtZW50JiZzLnB1c2goZnVuY3Rpb24oZSx0LGksbyxyLHMsbil7Y29uc3QgYT17fSxsPXMucXVlcnlSZW5kZXJlZFN5bWJvbHMobyksYz1bXTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhsKS5tYXAoTnVtYmVyKSljLnB1c2gobltlXSk7Yy5zb3J0KHF0KTtmb3IoY29uc3QgaSBvZiBjKXtjb25zdCBvPWkuZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbaS5idWNrZXRJbnN0YW5jZUlkXSx0LGkuYnVja2V0SW5kZXgsaS5zb3VyY2VMYXllckluZGV4LHIuZmlsdGVyLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLGUpO2Zvcihjb25zdCBlIGluIG8pe2NvbnN0IHQ9YVtlXT1hW2VdfHxbXSxyPW9bZV07ci5zb3J0KCgoZSx0KT0+e2NvbnN0IG89aS5mZWF0dXJlU29ydE9yZGVyO2lmKG8pe2NvbnN0IGk9by5pbmRleE9mKGUuZmVhdHVyZUluZGV4KTtyZXR1cm4gby5pbmRleE9mKHQuZmVhdHVyZUluZGV4KS1pfXJldHVybiB0LmZlYXR1cmVJbmRleC1lLmZlYXR1cmVJbmRleH0pKTtmb3IoY29uc3QgZSBvZiByKXQucHVzaChlKTt9fWZvcihjb25zdCB0IGluIGEpYVt0XS5mb3JFYWNoKChvPT57Y29uc3Qgcj1vLmZlYXR1cmUscz1pKGVbdF0pO2lmKCFzKXJldHVybjtjb25zdCBuPXMuZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0sci5pZCk7ci5zb3VyY2U9ci5sYXllci5zb3VyY2Usci5sYXllcltcInNvdXJjZS1sYXllclwiXSYmKHIuc291cmNlTGF5ZXI9ci5sYXllcltcInNvdXJjZS1sYXllclwiXSksci5zdGF0ZT1uO30pKTtyZXR1cm4gYX0odGhpcy5fbWVyZ2VkTGF5ZXJzLG4sdGhpcy5nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcyksbC5zY3JlZW5HZW9tZXRyeSxpLHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKSksdGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKHMpfXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXt0JiZ0LmZpbHRlciYmdGhpcy5fdmFsaWRhdGUocmUsXCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlclwiLHQuZmlsdGVyLG51bGwsdCk7Y29uc3QgaT10aGlzLmdldE93blNvdXJjZUNhY2hlcyhlKTtsZXQgbz1bXTtmb3IoY29uc3QgZSBvZiBpKW89by5jb25jYXQoV3QoZSx0KSk7cmV0dXJuIG99YWRkU291cmNlVHlwZShlLHQsaSl7cmV0dXJuIE1vLmdldFNvdXJjZVR5cGUoZSk/aShuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLmApKTooTW8uc2V0U291cmNlVHlwZShlLHQpLHQud29ya2VyU291cmNlVVJMP3ZvaWQgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRXb3JrZXJTb3VyY2VcIix7bmFtZTplLHVybDp0LndvcmtlclNvdXJjZVVSTH0saSk6aShudWxsLG51bGwpKX1nZXRGbGF0TGlnaHQoKXtyZXR1cm4gdGhpcy5saWdodC5nZXRMaWdodCgpfXNldEZsYXRMaWdodChlLGksbz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMubGlnaHQuZ2V0TGlnaHQoKTtsZXQgcz0hMTtmb3IoY29uc3QgaSBpbiBlKWlmKCF0KGVbaV0scltpXSkpe3M9ITA7YnJlYWt9aWYoIXMpcmV0dXJuO2NvbnN0IG49dGhpcy5fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoKTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUsaSxvKSx0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKG4pO31nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMudGVycmFpbiYmMT09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy50ZXJyYWluLmdldCgpOm51bGx9c2V0VGVycmFpbkZvckRyYXBpbmcoKXt0aGlzLnNldFRlcnJhaW4oe3NvdXJjZTpcIlwiLGV4YWdnZXJhdGlvbjowfSwwKTt9c2V0VGVycmFpbihpLG89MSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhaSlyZXR1cm4gdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmMCE9PW98fGRlbGV0ZSB0aGlzLnRlcnJhaW4sbnVsbD09PWk/dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49bnVsbDpkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4sdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCksdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7bGV0IHI9aTtjb25zdCBzPW51bGw9PWkuc291cmNlO2lmKDE9PT1vKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygci5zb3VyY2Upe2NvbnN0IHQ9XCJ0ZXJyYWluLWRlbS1zcmNcIjt0aGlzLmFkZFNvdXJjZSh0LHIuc291cmNlKSxyPWUuYzEocikscj1lLmUocix7c291cmNlOnR9KTt9Y29uc3QgdD1lLmUoe30sciksaT17fTtpZih0aGlzLnRlcnJhaW4mJnMpe3Quc291cmNlPXRoaXMudGVycmFpbi5nZXQoKS5zb3VyY2U7Y29uc3QgZT10aGlzLnRlcnJhaW4/dGhpcy5nZXRGcmFnbWVudFN0eWxlKHRoaXMudGVycmFpbi5zY29wZSk6bnVsbDtlJiYoaS5zdHlsZT1lLnNlcmlhbGl6ZSgpKTt9aWYodGhpcy5fdmFsaWRhdGUodGUsXCJ0ZXJyYWluXCIsdCxpKSlyZXR1cm59aWYoIXRoaXMudGVycmFpbnx8dGhpcy50ZXJyYWluLnNjb3BlIT09dGhpcy5zY29wZSYmIXN8fHRoaXMudGVycmFpbiYmbyE9PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGUpe2lmKCFyKXJldHVybjt0aGlzLl9jcmVhdGVUZXJyYWluKHIsbyksdGhpcy5maXJlKG5ldyBlLmIoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9ZWxzZSB7Y29uc3Qgbz10aGlzLnRlcnJhaW4scz1vLmdldCgpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKGUuRC50ZXJyYWluKSkhci5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5ELnRlcnJhaW5bdF0uZGVmYXVsdCYmKHJbdF09ZS5ELnRlcnJhaW5bdF0uZGVmYXVsdCk7Zm9yKGNvbnN0IHIgaW4gaSlpZighdChpW3JdLHNbcl0pKXtvLnNldChpLHRoaXMub3B0aW9ucyksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49aTtjb25zdCB0PXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7by51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmZpcmUobmV3IGUuYihcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2JyZWFrfX10aGlzLm1lcmdlVGVycmFpbigpLHRoaXMudXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwO31fY3JlYXRlRm9nKGUpe2NvbnN0IHQ9dGhpcy5mb2c9bmV3IHdlKGUsdGhpcy5tYXAudHJhbnNmb3JtLHRoaXMuc2NvcGUsdGhpcy5vcHRpb25zKTt0aGlzLnN0eWxlc2hlZXQuZm9nPXQuZ2V0KCk7Y29uc3QgaT10aGlzLl9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMoaSk7fV91cGRhdGVNYXJrZXJzT3BhY2l0eSgpezAhPT10aGlzLm1hcC5fbWFya2Vycy5sZW5ndGgmJnRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLm1hcC5fbWFya2VycyllLl9ldmFsdWF0ZU9wYWNpdHkoKTt9KSk7fWdldEZvZygpe3JldHVybiB0aGlzLmZvZz90aGlzLmZvZy5nZXQoKTpudWxsfXNldEZvZyhlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFlKXJldHVybiBkZWxldGUgdGhpcy5mb2csZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2csdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7aWYodGhpcy5mb2cpe2NvbnN0IGk9dGhpcy5mb2c7aWYoIXQoaS5nZXQoKSxlKSl7aS5zZXQoZSx0aGlzLm9wdGlvbnMpLHRoaXMuc3R5bGVzaGVldC5mb2c9aS5nZXQoKTtjb25zdCB0PXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7aS51cGRhdGVUcmFuc2l0aW9ucyh0KTt9fWVsc2UgdGhpcy5fY3JlYXRlRm9nKGUpO3RoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwO31fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnModCl7cmV0dXJuIHtub3c6ZS5mLm5vdygpLHRyYW5zaXRpb246ZS5lKHRoaXMudHJhbnNpdGlvbix0KX19dXBkYXRlRHJhcGVGaXJzdExheWVycygpe2lmKCF0aGlzLnRlcnJhaW4pcmV0dXJuO2NvbnN0IGU9W10sdD1bXTtmb3IoY29uc3QgaSBpbiB0aGlzLl9tZXJnZWRMYXllcnMpdGhpcy5pc0xheWVyRHJhcGVkKHRoaXMuX21lcmdlZExheWVyc1tpXSk/ZS5wdXNoKGkpOnQucHVzaChpKTt0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi5lKSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4udCk7fV9jcmVhdGVUZXJyYWluKGUsdCl7Y29uc3QgaT10aGlzLnRlcnJhaW49bmV3IF9lKGUsdCx0aGlzLnNjb3BlLHRoaXMub3B0aW9ucyk7MT09PXQmJih0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1lKSx0aGlzLm1lcmdlVGVycmFpbigpLHRoaXMudXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO2NvbnN0IG89dGhpcy5fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtpLnVwZGF0ZVRyYW5zaXRpb25zKG8pO31fZm9yY2UzRExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcImZpbGwtZXh0cnVzaW9uXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpO319X2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wic3ltYm9sXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpO319X3ZhbGlkYXRlKHQsaSxvLHIscz17fSl7aWYocyYmITE9PT1zLnZhbGlkYXRlKXJldHVybiAhMTtjb25zdCBuPWUuZSh7fSx0aGlzLnNlcmlhbGl6ZSgpKTtyZXR1cm4gSW8odGhpcyx0LmNhbGwoWSxlLmUoe2tleTppLHN0eWxlOm4sdmFsdWU6byxzdHlsZVNwZWM6ZS5EfSxyKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksZS5jOC5vZmYoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbWVyZ2VkTGF5ZXJzKXRoaXMuX21lcmdlZExheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcihjb25zdCBlIGluIHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcyl0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpLHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChudWxsKSxkZWxldGUgdGhpcy5mb2csZGVsZXRlIHRoaXMudGVycmFpbixkZWxldGUgdGhpcy5hbWJpZW50TGlnaHQsZGVsZXRlIHRoaXMuZGlyZWN0aW9uYWxMaWdodCx0aGlzLmlzUm9vdFN0eWxlKCkmJih0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMubW9kZWxNYW5hZ2VyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpKTt9Y2xlYXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmdldFNvdXJjZUNhY2hlcyhlKTtmb3IoY29uc3QgZSBvZiB0KWUuY2xlYXJUaWxlcygpO31jbGVhclNvdXJjZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKTt9cmVsb2FkU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlc3VtZSgpLGUucmVsb2FkKCk7fXJlbG9hZFNvdXJjZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNvdXJjZXMoKSllLnJlbG9hZCYmZS5yZWxvYWQoKTt9dXBkYXRlU291cmNlcyhlKXtsZXQgdDt0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJih0PUVvKHRoaXMuZGlyZWN0aW9uYWxMaWdodCkpO2Zvcihjb25zdCBpIGluIHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcyl0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbaV0udXBkYXRlKGUsdm9pZCAwLHZvaWQgMCx0KTt9X2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdO3QucmVzdW1lKCksdC5yZWxvYWQoKTt9fV91cGRhdGVQbGFjZW1lbnQodCxpLG8scixzPSExKXtsZXQgbj0hMSxhPSExO2NvbnN0IGw9e30sYz17fTtmb3IoY29uc3QgaSBvZiB0aGlzLl9tZXJnZWRPcmRlcil7Y29uc3Qgbz10aGlzLl9tZXJnZWRMYXllcnNbaV07aWYoXCJzeW1ib2xcIiE9PW8udHlwZSljb250aW51ZTtjb25zdCByPWUuYWcoby5zb3VyY2Usby5zY29wZSk7bGV0IHM9bFtyXTtpZighcyl7Y29uc3QgZT10aGlzLmdldExheWVyU291cmNlQ2FjaGUobyk7aWYoIWUpY29udGludWU7Y29uc3QgdD1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpO2Nbcl09dC5zbGljZSgpLHM9bFtyXT10LnNvcnQoKChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKSk7fWNvbnN0IGE9dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihvLHMsdC5jZW50ZXIubG5nLHQucHJvamVjdGlvbik7bj1ufHxhO31pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX21lcmdlZE9yZGVyKSxzPXN8fHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkfHwwPT09byx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCYmdGhpcy5maXJlKG5ldyBlLmIoXCJuZXdvcmRlclwiKSksKHN8fCF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudHx8dGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJiF0aGlzLnBsYWNlbWVudC5zdGlsbFJlY2VudChlLmYubm93KCksdC56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgdG8odCx0aGlzLl9tZXJnZWRPcmRlcixzLGksbyxyLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZ0LnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCx0aGlzLl9idWlsZGluZ0luZGV4KSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMSksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCk/dGhpcy5wbGFjZW1lbnQuc2V0U3RhbGUoKToodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29udGludWVQbGFjZW1lbnQodGhpcy5fbWVyZ2VkT3JkZXIsdGhpcy5fbWVyZ2VkTGF5ZXJzLGwsYyksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQoZS5mLm5vdygpKSxhPSEwKSxuJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksYXx8bil7dGhpcy5fYnVpbGRpbmdJbmRleC5vbk5ld0ZyYW1lKHQuem9vbSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVyZ2VkT3JkZXIpe2NvbnN0IGk9dGhpcy5fbWVyZ2VkTGF5ZXJzW3RdO1wic3ltYm9sXCI9PT1pLnR5cGUmJnRoaXMucGxhY2VtZW50LnVwZGF0ZUxheWVyT3BhY2l0aWVzKGksbFtlLmFnKGkuc291cmNlLGkuc2NvcGUpXSk7fX1yZXR1cm4gIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpfHx0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhlLmYubm93KCkpfV9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCk7fWFkZEltcG9ydCh0LGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10aGlzLnN0eWxlc2hlZXQuaW1wb3J0cz10aGlzLnN0eWxlc2hlZXQuaW1wb3J0c3x8W107aWYoLTEhPT1vLmZpbmRJbmRleCgoKHtpZDplfSk9PmU9PT10LmlkKSkpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgSW1wb3J0IHdpdGggaWQgJyR7dC5pZH0nIGFscmVhZHkgZXhpc3RzIGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO2lmKCFpKXJldHVybiBvLnB1c2godCksdGhpcy5fbG9hZEltcG9ydHMoW3RdLCEwKSx0aGlzO2NvbnN0IHI9by5maW5kSW5kZXgoKCh7aWQ6ZX0pPT5lPT09aSkpO3JldHVybiAtMT09PXI/dGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBJbXBvcnQgd2l0aCBpZCBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpOih0aGlzLnN0eWxlc2hlZXQuaW1wb3J0cz1vLnNsaWNlKDAscikuY29uY2F0KHQpLmNvbmNhdChvLnNsaWNlKHIpKSx0aGlzLl9sb2FkSW1wb3J0cyhbdF0sITAsaSksdGhpcyl9dXBkYXRlSW1wb3J0KGUsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXSxyPXRoaXMuZ2V0SW1wb3J0SW5kZXgoZSk7cmV0dXJuIC0xPT09cj90aGlzOlwic3RyaW5nXCI9PXR5cGVvZiBpPyh0aGlzLnNldEltcG9ydFVybChlLGkpLHRoaXMpOihpLnVybCYmaS51cmwhPT1vW3JdLnVybCYmdGhpcy5zZXRJbXBvcnRVcmwoZSxpLnVybCksdChpLmNvbmZpZyxvW3JdLmNvbmZpZyl8fHRoaXMuc2V0SW1wb3J0Q29uZmlnKGUsaS5jb25maWcpLHQoaS5kYXRhLG9bcl0uZGF0YSl8fHRoaXMuc2V0SW1wb3J0RGF0YShlLGkuZGF0YSksdGhpcyl9bW92ZUltcG9ydChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7bGV0IGk9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdO2NvbnN0IG89dGhpcy5nZXRJbXBvcnRJbmRleChlKTtpZigtMT09PW8pcmV0dXJuIHRoaXM7Y29uc3Qgcj10aGlzLmdldEltcG9ydEluZGV4KHQpO2lmKC0xPT09cilyZXR1cm4gdGhpcztjb25zdCBzPWlbb10sbj10aGlzLmZyYWdtZW50c1tvXTtyZXR1cm4gaT1pLmZpbHRlcigoKHtpZDp0fSk9PnQhPT1lKSksdGhpcy5mcmFnbWVudHM9dGhpcy5mcmFnbWVudHMuZmlsdGVyKCgoe2lkOnR9KT0+dCE9PWUpKSx0aGlzLnN0eWxlc2hlZXQuaW1wb3J0cz1pLnNsaWNlKDAscikuY29uY2F0KHMpLmNvbmNhdChpLnNsaWNlKHIpKSx0aGlzLmZyYWdtZW50cz10aGlzLmZyYWdtZW50cy5zbGljZSgwLHIpLmNvbmNhdChuKS5jb25jYXQodGhpcy5mcmFnbWVudHMuc2xpY2UocikpLHRoaXMubWVyZ2VMYXllcnMoKSx0aGlzfXNldEltcG9ydFVybChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLnN0eWxlc2hlZXQuaW1wb3J0c3x8W10sbz10aGlzLmdldEltcG9ydEluZGV4KGUpO2lmKC0xPT09bylyZXR1cm4gdGhpcztpW29dLnVybD10O2NvbnN0IHI9dGhpcy5mcmFnbWVudHNbb107cmV0dXJuIHIuc3R5bGU9dGhpcy5fY3JlYXRlRnJhZ21lbnRTdHlsZShpW29dKSxyLnN0eWxlLm9uKFwic3R5bGUuaW1wb3J0LmxvYWRcIiwoKCk9PnRoaXMubWVyZ2VBbGwoKSkpLHIuc3R5bGUubG9hZFVSTCh0KSx0aGlzfXNldEltcG9ydERhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dGhpcy5nZXRJbXBvcnRJbmRleChlKSxvPXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXTtyZXR1cm4gLTE9PT1pP3RoaXM6dD8odGhpcy5mcmFnbWVudHNbaV0uc3R5bGUuc2V0U3RhdGUodCksdGhpcy5fcmVsb2FkSW1wb3J0cygpLHRoaXMpOihkZWxldGUgb1tpXS5kYXRhLHRoaXMuc2V0SW1wb3J0VXJsKGUsb1tpXS51cmwpKX1zZXRJbXBvcnRDb25maWcoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dGhpcy5nZXRJbXBvcnRJbmRleChlKSxvPXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXTtpZigtMT09PWkpcmV0dXJuIHRoaXM7dD9vW2ldLmNvbmZpZz10OmRlbGV0ZSBvW2ldLmNvbmZpZztjb25zdCByPXRoaXMuZnJhZ21lbnRzW2ldLHM9ci5zdHlsZS5zdHlsZXNoZWV0JiZyLnN0eWxlLnN0eWxlc2hlZXQuc2NoZW1hO3JldHVybiByLmNvbmZpZz10LHIuc3R5bGUuc2V0Q29uZmlnKHQscyksdGhpcy51cGRhdGVDb25maWdEZXBlbmRlbmNpZXMoKSx0aGlzfXJlbW92ZUltcG9ydChlKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHQ9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdLGk9dGhpcy5nZXRJbXBvcnRJbmRleChlKTtyZXR1cm4gLTE9PT1pfHwodC5zcGxpY2UoaSwxKSx0aGlzLmZyYWdtZW50c1tpXS5zdHlsZS5fcmVtb3ZlKCksdGhpcy5mcmFnbWVudHMuc3BsaWNlKGksMSksdGhpcy5fcmVsb2FkSW1wb3J0cygpKSx0aGlzfWdldEltcG9ydEluZGV4KHQpe2NvbnN0IGk9KHRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXSkuZmluZEluZGV4KChlPT5lLmlkPT09dCkpO3JldHVybiAtMT09PWkmJnRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgSW1wb3J0ICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSB1cGRhdGVkLmApKSksaX1nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5fbWVyZ2VkTGF5ZXJzW2VdfWdldFNvdXJjZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW3RdO2kmJmUucHVzaChpLmdldFNvdXJjZSgpKTt9cmV0dXJuIGV9Z2V0U291cmNlKGUsdCl7Y29uc3QgaT10aGlzLmdldFNvdXJjZUNhY2hlKGUsdCk7cmV0dXJuIGkmJmkuZ2V0U291cmNlKCl9Z2V0TGF5ZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmdldExheWVyU291cmNlQ2FjaGUoZSk7cmV0dXJuIHQmJnQuZ2V0U291cmNlKCl9Z2V0U291cmNlQ2FjaGUodCxpKXtjb25zdCBvPWUuYWcodCxpKTtyZXR1cm4gdGhpcy5fbWVyZ2VkT3RoZXJTb3VyY2VDYWNoZXNbb119Z2V0TGF5ZXJTb3VyY2VDYWNoZSh0KXtjb25zdCBpPWUuYWcodC5zb3VyY2UsdC5zY29wZSk7cmV0dXJuIFwic3ltYm9sXCI9PT10LnR5cGU/dGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzW2ldOnRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW2ldfWdldFNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9dXBkYXRlU291cmNlQ2FjaGVzKCl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzLmdldFVwZGF0ZWRTb3VyY2VDYWNoZXMoKTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF07XCJyZWxvYWRcIj09PWk/dGhpcy5yZWxvYWRTb3VyY2UodCk6XCJjbGVhclwiPT09aSYmdGhpcy5jbGVhclNvdXJjZSh0KTt9fXVwZGF0ZUxheWVycyhlKXtjb25zdCB0PXRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZFBhaW50UHJvcGVydGllcygpO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9dGhpcy5nZXRMYXllcihpKTt0JiZ0LnVwZGF0ZVRyYW5zaXRpb25zKGUpO319Z2V0SW1hZ2VzKGUsdCxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXModC5pY29ucyx0LnNjb3BlLGkpLHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO2NvbnN0IG89ZT0+e2UmJmUuc2V0RGVwZW5kZW5jaWVzKHQudGlsZUlELmtleSx0LnR5cGUsdC5pY29ucyk7fTtvKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3Quc291cmNlXSksbyh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKTt9Z2V0R2x5cGhzKGUsdCxpKXt0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHModC5zdGFja3MsdC5zY29wZSxpKTt9Z2V0UmVzb3VyY2UodCxpLG8pe3JldHVybiBlLmM5KGksbyl9Z2V0T3duU291cmNlQ2FjaGUoZSl7cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdfWdldE93bkxheWVyU291cmNlQ2FjaGUoZSl7cmV0dXJuIFwic3ltYm9sXCI9PT1lLnR5cGU/dGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2Uuc291cmNlXTp0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlLnNvdXJjZV19Z2V0T3duU291cmNlQ2FjaGVzKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0pLHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSksdH1faXNTb3VyY2VDYWNoZUxvYWRlZCh0KXtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKHQpO3JldHVybiAwPT09aS5sZW5ndGg/KHRoaXMuZmlyZShuZXcgZS5hKG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7dH0nYCkpKSwhMSk6aS5ldmVyeSgoZT0+ZS5sb2FkZWQoKSkpfWhhczNETGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhczNETGF5ZXJzfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9oYXNTeW1ib2xMYXllcnN9aGFzQ2lyY2xlTGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhc0NpcmNsZUxheWVyc31fY2xlYXJXb3JrZXJDYWNoZXMoKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiY2xlYXJDYWNoZXNcIik7fWRlc3Ryb3koKXt0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpLHRoaXMuZnJhZ21lbnRzLmZvckVhY2goKGU9PntlLnN0eWxlLl9yZW1vdmUoKTt9KSksdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmKGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluKTt9fU1vLmdldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGp0W2VdfSxNby5zZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUsdCl7anRbZV09dDt9LE1vLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9ZS5iVjt2YXIgem89XCJcXG4jZGVmaW5lIEVQU0lMT04gMC4wMDAwMDAxXFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZmxvYXQgY3V0b2ZmX29wYWNpdHkodmVjNCBjdXRvZmZfcGFyYW1zLGZsb2F0IGRlcHRoKSB7ZmxvYXQgbmVhcj1jdXRvZmZfcGFyYW1zLng7ZmxvYXQgZmFyPWN1dG9mZl9wYXJhbXMueTtmbG9hdCBjdXRvZmZTdGFydD1jdXRvZmZfcGFyYW1zLno7ZmxvYXQgY3V0b2ZmRW5kPWN1dG9mZl9wYXJhbXMudztmbG9hdCBsaW5lYXJEZXB0aD0oZGVwdGgtbmVhcikvKGZhci1uZWFyKTtyZXR1cm4gY2xhbXAoKGxpbmVhckRlcHRoLWN1dG9mZlN0YXJ0KS8oY3V0b2ZmRW5kLWN1dG9mZlN0YXJ0KSwwLjAsMS4wKTt9XFxuI2VuZGlmXCIsT289XCJcXG5vdXQgdmVjNCBnbEZyYWdDb2xvcjtoaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWhpZ2hwIHZlYzQgcGFja19kZXB0aChoaWdocCBmbG9hdCBuZGNfeikge2hpZ2hwIGZsb2F0IGRlcHRoPW5kY196KjAuNSswLjU7Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgyNTUuMCoyNTUuMCoyNTUuMCwyNTUuMCoyNTUuMCwyNTUuMCwxLjApO2NvbnN0IGhpZ2hwIHZlYzQgYml0X21hc2sgPXZlYzQoMC4wLDEuMC8yNTUuMCwxLjAvMjU1LjAsMS4wLzI1NS4wKTtoaWdocCB2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpO3Jlcy09cmVzLnh4eXoqYml0X21hc2s7cmV0dXJuIHJlczt9XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG51bmlmb3JtIHZlYzIgdV9pbmRpY2F0b3JfY3V0b3V0X2NlbnRlcnM7dW5pZm9ybSB2ZWM0IHVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXM7XFxuI2VuZGlmXFxudmVjNCBhcHBseUN1dG91dCh2ZWM0IGNvbG9yKSB7XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5mbG9hdCBob2xlTWluT3BhY2l0eT11X2luZGljYXRvcl9jdXRvdXRfcGFyYW1zLng7ZmxvYXQgaG9sZVJhZGl1cz1tYXgodV9pbmRpY2F0b3JfY3V0b3V0X3BhcmFtcy55LDAuMCk7ZmxvYXQgaG9sZUFzcGVjdFJhdGlvPXVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXMuejtmbG9hdCBmYWRlU3RhcnQ9dV9pbmRpY2F0b3JfY3V0b3V0X3BhcmFtcy53O2Zsb2F0IGRpc3RBPWRpc3RhbmNlKHZlYzIoZ2xfRnJhZ0Nvb3JkLngsZ2xfRnJhZ0Nvb3JkLnkqaG9sZUFzcGVjdFJhdGlvKSx2ZWMyKHVfaW5kaWNhdG9yX2N1dG91dF9jZW50ZXJzWzBdLHVfaW5kaWNhdG9yX2N1dG91dF9jZW50ZXJzWzFdKmhvbGVBc3BlY3RSYXRpbykpO3JldHVybiBjb2xvciptaW4oc21vb3Roc3RlcChmYWRlU3RhcnQsaG9sZVJhZGl1cyxkaXN0QSkraG9sZU1pbk9wYWNpdHksMS4wKTtcXG4jZWxzZVxcbnJldHVybiBjb2xvcjtcXG4jZW5kaWZcXG59XFxuI2lmZGVmIERFQlVHX1dJUkVGUkFNRVxcbiNkZWZpbmUgSEFORExFX1dJUkVGUkFNRV9ERUJVRyBcXFxcXFxuZ2xGcmFnQ29sb3I9dmVjNCgwLjcsMC4wLDAuMCwwLjcpOyBcXFxcXFxuZ2xfRnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56LTAuMDAwMTtcXG4jZWxzZVxcbiNkZWZpbmUgSEFORExFX1dJUkVGUkFNRV9ERUJVR1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudW5pZm9ybSBoaWdocCB2ZWM0IHVfY3V0b2ZmX3BhcmFtcztpbiBmbG9hdCB2X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlxcbnZlYzQgdGV4dHVyZUxvZEN1c3RvbShzYW1wbGVyMkQgaW1hZ2UsdmVjMiBwb3MsdmVjMiBsb2RfY29vcmQpIHt2ZWMyIHNpemU9dmVjMih0ZXh0dXJlU2l6ZShpbWFnZSwwKSk7dmVjMiBkeD1kRmR4KGxvZF9jb29yZC54eSpzaXplKTt2ZWMyIGR5PWRGZHkobG9kX2Nvb3JkLnh5KnNpemUpO2Zsb2F0IGRlbHRhX21heF9zcXI9bWF4KGRvdChkeCxkeCksZG90KGR5LGR5KSk7ZmxvYXQgbG9kPTAuNSpsb2cyKGRlbHRhX21heF9zcXIpO3JldHVybiB0ZXh0dXJlTG9kKGltYWdlLHBvcyxsb2QpO31cIixGbz1cIlxcbiNkZWZpbmUgRVhURU5UIDgxOTIuMFxcbiNkZWZpbmUgUkFEX1RPX0RFRyAxODAuMC9QSVxcbiNkZWZpbmUgREVHX1RPX1JBRCBQSS8xODAuMFxcbiNkZWZpbmUgR0xPQkVfUkFESVVTIEVYVEVOVC9QSS8yLjBcXG5mbG9hdCB3cmFwKGZsb2F0IG4sZmxvYXQgbWluLGZsb2F0IG1heCkge2Zsb2F0IGQ9bWF4LW1pbjtmbG9hdCB3PW1vZChtb2Qobi1taW4sZCkrZCxkKSttaW47cmV0dXJuICh3PT1taW4pID8gbWF4IDogdzt9XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgbWVyY2F0b3JfdGlsZV9wb3NpdGlvbihtYXQ0IG1hdHJpeCx2ZWMyIHRpbGVfYW5jaG9yLHZlYzMgdGlsZV9pZCx2ZWMyIG1lcmNhdG9yX2NlbnRlcikge1xcbiNpZm5kZWYgUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFxcbmZsb2F0IHRpbGVzPXRpbGVfaWQuejt2ZWMyIG1lcmNhdG9yPSh0aWxlX2FuY2hvci9FWFRFTlQrdGlsZV9pZC54eSkvdGlsZXM7bWVyY2F0b3ItPW1lcmNhdG9yX2NlbnRlcjttZXJjYXRvci54PXdyYXAobWVyY2F0b3IueCwtMC41LDAuNSk7dmVjNCBtZXJjYXRvcl90aWxlPXZlYzQobWVyY2F0b3IueHkqRVhURU5ULEVYVEVOVC8oMi4wKlBJKSwxLjApO21lcmNhdG9yX3RpbGU9bWF0cml4Km1lcmNhdG9yX3RpbGU7cmV0dXJuIG1lcmNhdG9yX3RpbGUueHl6O1xcbiNlbHNlXFxucmV0dXJuIHZlYzMoMC4wKTtcXG4jZW5kaWZcXG59dmVjMyBtaXhfZ2xvYmVfbWVyY2F0b3IodmVjMyBnbG9iZSx2ZWMzIG1lcmNhdG9yLGZsb2F0IHQpIHtyZXR1cm4gbWl4KGdsb2JlLG1lcmNhdG9yLHQpO31tYXQzIGdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyh2ZWMzIHBvc19ub3JtYWwsdmVjMyB1cF9kaXIsZmxvYXQgem9vbV90cmFuc2l0aW9uKSB7dmVjMyBub3JtYWw9em9vbV90cmFuc2l0aW9uPT0wLjAgPyBwb3Nfbm9ybWFsIDogbm9ybWFsaXplKG1peChwb3Nfbm9ybWFsLHVwX2Rpcix6b29tX3RyYW5zaXRpb24pKTt2ZWMzIHhBeGlzPW5vcm1hbGl6ZSh2ZWMzKG5vcm1hbC56LDAuMCwtbm9ybWFsLngpKTt2ZWMzIHlBeGlzPW5vcm1hbGl6ZShjcm9zcyhub3JtYWwseEF4aXMpKTtyZXR1cm4gbWF0Myh4QXhpcyx5QXhpcyxub3JtYWwpO31cXG4jZW5kaWZcXG52ZWMyIHVucGFja19mbG9hdChjb25zdCBmbG9hdCBwYWNrZWRWYWx1ZSkge2ludCBwYWNrZWRJbnRWYWx1ZT1pbnQocGFja2VkVmFsdWUpO2ludCB2MD1wYWNrZWRJbnRWYWx1ZS8yNTY7cmV0dXJuIHZlYzIodjAscGFja2VkSW50VmFsdWUtdjAqMjU2KTt9dmVjMiB1bnBhY2tfb3BhY2l0eShjb25zdCBmbG9hdCBwYWNrZWRPcGFjaXR5KSB7aW50IGludE9wYWNpdHk9aW50KHBhY2tlZE9wYWNpdHkpLzI7cmV0dXJuIHZlYzIoZmxvYXQoaW50T3BhY2l0eSkvMTI3LjAsbW9kKHBhY2tlZE9wYWNpdHksMi4wKSk7fXZlYzQgZGVjb2RlX2NvbG9yKGNvbnN0IHZlYzIgZW5jb2RlZENvbG9yKSB7cmV0dXJuIHZlYzQoXFxudW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclswXSkvMjU1LjAsdW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclsxXSkvMjU1LjBcXG4pO31mbG9hdCB1bnBhY2tfbWl4X3ZlYzIoY29uc3QgdmVjMiBwYWNrZWRWYWx1ZSxjb25zdCBmbG9hdCB0KSB7cmV0dXJuIG1peChwYWNrZWRWYWx1ZVswXSxwYWNrZWRWYWx1ZVsxXSx0KTt9dmVjNCB1bnBhY2tfbWl4X2NvbG9yKGNvbnN0IHZlYzQgcGFja2VkQ29sb3JzLGNvbnN0IGZsb2F0IHQpIHt2ZWM0IG1pbkNvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1swXSxwYWNrZWRDb2xvcnNbMV0pKTt2ZWM0IG1heENvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSxwYWNrZWRDb2xvcnNbM10pKTtyZXR1cm4gbWl4KG1pbkNvbG9yLG1heENvbG9yLHQpO312ZWMyIGdldF9wYXR0ZXJuX3Bvcyhjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX3VwcGVyLGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsY29uc3QgdmVjMiBwYXR0ZXJuX3NpemUsY29uc3QgZmxvYXQgdGlsZV91bml0c190b19waXhlbHMsY29uc3QgdmVjMiBwb3MpIHt2ZWMyIG9mZnNldD1tb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlcixwYXR0ZXJuX3NpemUpKjI1Ni4wLHBhdHRlcm5fc2l6ZSkqMjU2LjArcGl4ZWxfY29vcmRfbG93ZXIscGF0dGVybl9zaXplKTtyZXR1cm4gKHRpbGVfdW5pdHNfdG9fcGl4ZWxzKnBvcytvZmZzZXQpL3BhdHRlcm5fc2l6ZTt9ZmxvYXQgbWVyY2F0b3JYZnJvbUxuZyhmbG9hdCBsbmcpIHtyZXR1cm4gKDE4MC4wK2xuZykvMzYwLjA7fWZsb2F0IG1lcmNhdG9yWWZyb21MYXQoZmxvYXQgbGF0KSB7cmV0dXJuICgxODAuMC0oUkFEX1RPX0RFRypsb2codGFuKFBJLzQuMCtsYXQvMi4wKkRFR19UT19SQUQpKSkpLzM2MC4wO312ZWMzIGxhdExuZ1RvRUNFRih2ZWMyIGxhdExuZykge2xhdExuZz1ERUdfVE9fUkFEKmxhdExuZztmbG9hdCBjb3NMYXQ9Y29zKGxhdExuZ1swXSk7ZmxvYXQgc2luTGF0PXNpbihsYXRMbmdbMF0pO2Zsb2F0IGNvc0xuZz1jb3MobGF0TG5nWzFdKTtmbG9hdCBzaW5Mbmc9c2luKGxhdExuZ1sxXSk7ZmxvYXQgc3g9Y29zTGF0KnNpbkxuZypHTE9CRV9SQURJVVM7ZmxvYXQgc3k9LXNpbkxhdCpHTE9CRV9SQURJVVM7ZmxvYXQgc3o9Y29zTGF0KmNvc0xuZypHTE9CRV9SQURJVVM7cmV0dXJuIHZlYzMoc3gsc3ksc3opO31cXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbnVuaWZvcm0gdmVjNCB1X2N1dG9mZl9wYXJhbXM7b3V0IGZsb2F0IHZfY3V0b2ZmX29wYWNpdHk7XFxuI2VuZGlmXFxuY29uc3QgdmVjNCBBV0FZPXZlYzQoLTEwMDAuMCwtMTAwMC4wLC0xMDAwLjAsMSk7Y29uc3QgZmxvYXQgc2tpcnRPZmZzZXQ9MjQ1NzUuMDt2ZWMzIGRlY29tcG9zZVRvUG9zQW5kU2tpcnQodmVjMiBwb3NXaXRoQ29tcG9zZWRTa2lydClcXG57ZmxvYXQgc2tpcnQ9ZmxvYXQocG9zV2l0aENvbXBvc2VkU2tpcnQueCA+PXNraXJ0T2Zmc2V0KTt2ZWMyIHBvcz1wb3NXaXRoQ29tcG9zZWRTa2lydC12ZWMyKHNraXJ0KnNraXJ0T2Zmc2V0LDAuMCk7cmV0dXJuIHZlYzMocG9zLHNraXJ0KTt9XCIsQm89XCJpbiBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbG93cCBtYXQ0IHVfbWF0cml4O291dCBoaWdocCB2ZWMzIHZfdXY7dm9pZCBtYWluKCkge2NvbnN0IG1hdDMgaGFsZl9uZWdfcGlfYXJvdW5kX3g9bWF0MygxLjAsMC4wLCAwLjAsMC4wLDAuMCwtMS4wLDAuMCwxLjAsIDAuMCk7dl91dj1oYWxmX25lZ19waV9hcm91bmRfeCphX3Bvc18zZjt2ZWM0IHBvcz11X21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEuMCk7Z2xfUG9zaXRpb249cG9zLnh5d3c7fVwiLGtvPVwiXFxuI2RlZmluZSBFTEVWQVRJT05fU0NBTEUgNy4wXFxuI2RlZmluZSBFTEVWQVRJT05fT0ZGU0VUIDQ1MC4wXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfdGxfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV90cl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JyX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfYmxfdXA7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdXBfc2NhbGU7dmVjMyBlbGV2YXRpb25WZWN0b3IodmVjMiBwb3MpIHt2ZWMyIHV2PXBvcy9FWFRFTlQ7dmVjMyB1cD1ub3JtYWxpemUobWl4KFxcbm1peCh1X3RpbGVfdGxfdXAsdV90aWxlX3RyX3VwLHV2Lnh4eCksbWl4KHVfdGlsZV9ibF91cCx1X3RpbGVfYnJfdXAsdXYueHh4KSx1di55eXkpKTtyZXR1cm4gdXAqdV90aWxlX3VwX3NjYWxlO31cXG4jZWxzZVxcbnZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7IHJldHVybiB2ZWMzKDAsMCwxKTsgfVxcbiNlbmRpZlxcbiNpZmRlZiBURVJSQUlOXFxudW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW1fcHJldjt1bmlmb3JtIHZlYzIgdV9kZW1fdGw7dW5pZm9ybSB2ZWMyIHVfZGVtX3RsX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zaXplO3VuaWZvcm0gZmxvYXQgdV9kZW1fbGVycDt1bmlmb3JtIGZsb2F0IHVfZXhhZ2dlcmF0aW9uO3VuaWZvcm0gZmxvYXQgdV9tZXRlcl90b19kZW07dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjt1bmlmb3JtIHNhbXBsZXIyRCB1X2RlcHRoO3VuaWZvcm0gdmVjMiB1X2RlcHRoX3NpemVfaW52O3ZlYzQgdGlsZVV2VG9EZW1TYW1wbGUodmVjMiB1dixmbG9hdCBkZW1fc2l6ZSxmbG9hdCBkZW1fc2NhbGUsdmVjMiBkZW1fdGwpIHt2ZWMyIHBvcz1kZW1fc2l6ZSoodXYqZGVtX3NjYWxlK2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3JldHVybiB2ZWM0KChwb3MtZiswLjUpLyhkZW1fc2l6ZSsyLjApLGYpO31mbG9hdCBjdXJyZW50RWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG52ZWMyIHBvcz0odV9kZW1fc2l6ZSooYXBvcy84MTkyLjAqdV9kZW1fc2NhbGUrdV9kZW1fdGwpKzEuNSkvKHVfZGVtX3NpemUrMi4wKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qdGV4dHVyZSh1X2RlbSxwb3MpLnI7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZSx1X2RlbV90bCk7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD10ZXh0dXJlKHVfZGVtLHBvcykucjtmbG9hdCB0cj10ZXh0dXJlKHVfZGVtLHBvcyt2ZWMyKGRkLDApKS5yO2Zsb2F0IGJsPXRleHR1cmUodV9kZW0scG9zK3ZlYzIoMCxkZCkpLnI7ZmxvYXQgYnI9dGV4dHVyZSh1X2RlbSxwb3MrdmVjMihkZCxkZCkpLnI7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1mbG9hdCBwcmV2RWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG52ZWMyIHBvcz0odV9kZW1fc2l6ZSooYXBvcy84MTkyLjAqdV9kZW1fc2NhbGVfcHJldit1X2RlbV90bF9wcmV2KSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUodV9kZW1fcHJldixwb3MpLnI7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZV9wcmV2LHVfZGVtX3RsX3ByZXYpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9dGV4dHVyZSh1X2RlbV9wcmV2LHBvcykucjtmbG9hdCB0cj10ZXh0dXJlKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsMCkpLnI7ZmxvYXQgYmw9dGV4dHVyZSh1X2RlbV9wcmV2LHBvcyt2ZWMyKDAsZGQpKS5yO2Zsb2F0IGJyPXRleHR1cmUodV9kZW1fcHJldixwb3MrdmVjMihkZCxkZCkpLnI7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1cXG4jaWZkZWYgVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG5mbG9hdCBuZXh0RWxldmF0aW9uPWN1cnJlbnRFbGV2YXRpb24oYXBvcyk7ZmxvYXQgcHJldkVsZXZhdGlvbj1wcmV2RWxldmF0aW9uKGFwb3MpO3JldHVybiBtaXgocHJldkVsZXZhdGlvbixuZXh0RWxldmF0aW9uLHVfZGVtX2xlcnApO31cXG4jZWxzZVxcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbnJldHVybiBjdXJyZW50RWxldmF0aW9uKGFwb3MpO31cXG4jZW5kaWZcXG5oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWJvb2wgaXNPY2NsdWRlZCh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudztmbG9hdCBkZXB0aD11bnBhY2tfZGVwdGgodGV4dHVyZSh1X2RlcHRoLChjb29yZC54eSsxLjApKjAuNSkpO3JldHVybiBjb29yZC56ID4gZGVwdGgrMC4wMDA1O31mbG9hdCBvY2NsdXNpb25GYWRlKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O3ZlYzMgZGY9dmVjMyg1LjAqdV9kZXB0aF9zaXplX2ludiwwLjApO3ZlYzIgdXY9MC41KmNvb3JkLnh5KzAuNTt2ZWM0IGRlcHRoPXZlYzQoXFxudW5wYWNrX2RlcHRoKHRleHR1cmUodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlKHVfZGVwdGgsdXYrZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZSh1X2RlcHRoLHV2LWRmLnp5KSksdW5wYWNrX2RlcHRoKHRleHR1cmUodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge2Zsb2F0IHRsPXRleHR1cmUodV9kZW0scG9zKS5yO2Zsb2F0IHRyPXRleHR1cmUodV9kZW0scG9zK3ZlYzIob2ZmLngsMC4wKSkucjtmbG9hdCBibD10ZXh0dXJlKHVfZGVtLHBvcyt2ZWMyKDAuMCxvZmYueSkpLnI7ZmxvYXQgYnI9dGV4dHVyZSh1X2RlbSxwb3Mrb2ZmKS5yO3JldHVybiB2ZWM0KHRsLHRyLGJsLGJyKTt9ZmxvYXQgZmxhdEVsZXZhdGlvbih2ZWMyIHBhY2spIHt2ZWMyIGFwb3M9Zmxvb3IocGFjay84LjApO3ZlYzIgc3Bhbj0xMC4wKihwYWNrLWFwb3MqOC4wKTt2ZWMyIHV2VGV4PShhcG9zLXZlYzIoMS4wLDEuMCkpLzgxOTAuMDtmbG9hdCBzaXplPXVfZGVtX3NpemUrMi4wO2Zsb2F0IGRkPTEuMC9zaXplO3ZlYzIgcG9zPXVfZGVtX3NpemUqKHV2VGV4KnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjA7dmVjMiBmPWZyYWN0KHBvcyk7cG9zPShwb3MtZiswLjUpKmRkO3ZlYzQgaD1mb3VyU2FtcGxlKHBvcyx2ZWMyKGRkKSk7ZmxvYXQgej1taXgobWl4KGgueCxoLnksZi54KSxtaXgoaC56LGgudyxmLngpLGYueSk7dmVjMiB3PWZsb29yKDAuNSooc3Bhbip1X21ldGVyX3RvX2RlbS0xLjApKTt2ZWMyIGQ9ZGQqdztoPWZvdXJTYW1wbGUocG9zLWQsMi4wKmQrdmVjMihkZCkpO3ZlYzQgZGlmZj1hYnMoaC54enh5LWgueXd6dyk7dmVjMiBzbG9wZT1taW4odmVjMigwLjI1KSx1X21ldGVyX3RvX2RlbSowLjUqKGRpZmYueHorZGlmZi55dykvKDIuMCp3K3ZlYzIoMS4wKSkpO3ZlYzIgZml4PXNsb3BlKnNwYW47ZmxvYXQgYmFzZT16K21heChmaXgueCxmaXgueSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKmJhc2U7fWZsb2F0IGVsZXZhdGlvbkZyb21VaW50MTYoZmxvYXQgd29yZCkge3JldHVybiB1X2V4YWdnZXJhdGlvbiood29yZC9FTEVWQVRJT05fU0NBTEUtRUxFVkFUSU9OX09GRlNFVCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgcG9zKSB7IHJldHVybiAwLjA7IH1ib29sIGlzT2NjbHVkZWQodmVjNCBmcmFnKSB7IHJldHVybiBmYWxzZTsgfWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7IHJldHVybiAxLjA7IH1cXG4jZW5kaWZcIixObz1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgbWF0NCB1X2ZvZ19tYXRyaXg7b3V0IHZlYzMgdl9mb2dfcG9zO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fXZlYzMgZm9nX3Bvc2l0aW9uKHZlYzMgcG9zKSB7cmV0dXJuICh1X2ZvZ19tYXRyaXgqdmVjNChwb3MsMS4wKSkueHl6O312ZWMzIGZvZ19wb3NpdGlvbih2ZWMyIHBvcykge3JldHVybiBmb2dfcG9zaXRpb24odmVjMyhwb3MsMC4wKSk7fWZsb2F0IGZvZyh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7cmV0dXJuIG9wYWNpdHkqZm9nX2hvcml6b25fYmxlbmRpbmcocG9zL2RlcHRoKTt9XFxuI2VuZGlmXCIsVW89XCJoaWdocCB2ZWMzIGhhc2goaGlnaHAgdmVjMiBwKSB7aGlnaHAgdmVjMyBwMz1mcmFjdChwLnh5eCp2ZWMzKDQ0My44OTc1LDM5Ny4yOTczLDQ5MS4xODcxKSk7cDMrPWRvdChwMyxwMy55eHorMTkuMTkpO3JldHVybiBmcmFjdCgocDMueHh5K3AzLnl6eikqcDMuenl4KTt9dmVjMyBkaXRoZXIodmVjMyBjb2xvcixoaWdocCB2ZWMyIHNlZWQpIHt2ZWMzIHJuZD1oYXNoKHNlZWQpK2hhc2goc2VlZCswLjU5Mzc0KS0wLjU7cmV0dXJuIGNvbG9yK3JuZC8yNTUuMDt9XFxuI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3ZlcnRpY2FsX2xpbWl0O3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7aW4gdmVjMyB2X2ZvZ19wb3M7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV92aWV3cG9ydDt1bmlmb3JtIGZsb2F0IHVfZ2xvYmVfdHJhbnNpdGlvbjt1bmlmb3JtIGludCB1X2lzX2dsb2JlO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fWZsb2F0IGdsb2JlX2dsb3dfcHJvZ3Jlc3MoKSB7aGlnaHAgdmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydDtoaWdocCB2ZWMzIHJheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLHV2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLHV2LngpLDEuMC11di55KTtoaWdocCB2ZWMzIGRpcj1ub3JtYWxpemUocmF5X2Rpcik7aGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50PWRvdCh1X2dsb2JlX3BvcyxkaXIpKmRpcjtoaWdocCBmbG9hdCBzZGY9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO3JldHVybiBzZGYrUEkqMC41O31mbG9hdCBmb2dfb3BhY2l0eSh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO3JldHVybiBmb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTt9dmVjMyBmb2dfYXBwbHkodmVjMyBjb2xvcix2ZWMzIHBvcyxmbG9hdCBvcGFjaXR5X2xpbWl0KSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eTtpZiAodV9pc19nbG9iZT09MSkge2Zsb2F0IGdsb3dfcHJvZ3Jlc3M9Z2xvYmVfZ2xvd19wcm9ncmVzcygpO2Zsb2F0IHQ9bWl4KGdsb3dfcHJvZ3Jlc3MsZGVwdGgsdV9nbG9iZV90cmFuc2l0aW9uKTtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZSh0KSk7fSBlbHNlIHtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO29wYWNpdHkqPWZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fXJldHVybiBtaXgoY29sb3IsdV9mb2dfY29sb3IucmdiLG1pbihvcGFjaXR5LG9wYWNpdHlfbGltaXQpKTt9dmVjMyBmb2dfYXBwbHkodmVjMyBjb2xvcix2ZWMzIHBvcykge3JldHVybiBmb2dfYXBwbHkoY29sb3IscG9zLDEuMCk7fXZlYzQgZm9nX2FwcGx5X2Zyb21fdmVydCh2ZWM0IGNvbG9yLGZsb2F0IGZvZ19vcGFjKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1taXgoY29sb3IucmdiL2FscGhhLHVfZm9nX2NvbG9yLnJnYixmb2dfb3BhYykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWMzIGZvZ19hcHBseV9za3lfZ3JhZGllbnQodmVjMyBjYW1lcmFfcmF5LHZlYzMgc2t5X2NvbG9yKSB7ZmxvYXQgaG9yaXpvbl9ibGVuZD1mb2dfaG9yaXpvbl9ibGVuZGluZyhub3JtYWxpemUoY2FtZXJhX3JheSkpO3JldHVybiBtaXgoc2t5X2NvbG9yLHVfZm9nX2NvbG9yLnJnYixob3Jpem9uX2JsZW5kKTt9dmVjNCBmb2dfYXBwbHlfcHJlbXVsdGlwbGllZCh2ZWM0IGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1mb2dfYXBwbHkoY29sb3IucmdiL2FscGhhLHBvcykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWM0IGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKHZlYzQgY29sb3IsdmVjMyBwb3MsZmxvYXQgaGVpZ2h0TWV0ZXJzKSB7ZmxvYXQgdmVydGljYWxQcm9ncmVzcz0odV9mb2dfdmVydGljYWxfbGltaXQueCA+IDAuMCB8fCB1X2ZvZ192ZXJ0aWNhbF9saW1pdC55ID4gMC4wKSA/IHNtb290aHN0ZXAodV9mb2dfdmVydGljYWxfbGltaXQueCx1X2ZvZ192ZXJ0aWNhbF9saW1pdC55LGhlaWdodE1ldGVycykgOiAwLjA7ZmxvYXQgb3BhY2l0eUxpbWl0PTEuMC1zbW9vdGhzdGVwKDAuOSwxLjAsZm9nX29wYWNpdHkocG9zKSk7cmV0dXJuIG1peChmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcixwb3MpLGNvbG9yLG1pbih2ZXJ0aWNhbFByb2dyZXNzLG9wYWNpdHlMaW1pdCkpO312ZWMzIGZvZ19kaXRoZXIodmVjMyBjb2xvcikge1xcbiNpZmRlZiBGT0dfRElUSEVSSU5HXFxudmVjMiBkaXRoZXJfc2VlZD1nbF9GcmFnQ29vcmQueHkrdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3JldHVybiBkaXRoZXIoY29sb3IsZGl0aGVyX3NlZWQpO1xcbiNlbHNlXFxucmV0dXJuIGNvbG9yO1xcbiNlbmRpZlxcbn12ZWM0IGZvZ19kaXRoZXIodmVjNCBjb2xvcikge3JldHVybiB2ZWM0KGZvZ19kaXRoZXIoY29sb3IucmdiKSxjb2xvci5hKTt9XFxuI2VuZGlmXCIsR289XCIjaWZkZWYgUkFTVEVSX0FSUkFZXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTE7Y29uc3QgdmVjNCBOT0RBVEE9dmVjNCgxKTtpdmVjNCBfcmFUZXhMaW5lYXJDb29yZChoaWdocCB2ZWMyIHRleENvb3JkLGhpZ2hwIHZlYzIgdGV4UmVzb2x1dGlvbixvdXQgaGlnaHAgdmVjMiBmeHkpIHt0ZXhDb29yZD10ZXhDb29yZCp0ZXhSZXNvbHV0aW9uLTAuNTtmeHk9ZnJhY3QodGV4Q29vcmQpO3RleENvb3JkLT1meHk7cmV0dXJuIGl2ZWM0KHRleENvb3JkLnh4eXkrdmVjMigxLjUsMC41KS54eXh5KTt9dmVjMiBfcmFUZXhMaW5lYXJNaXgoaGlnaHAgdmVjMiBmeHksaGlnaHAgdmVjNCBjb2xvck1peCxoaWdocCBmbG9hdCBjb2xvck9mZnNldCxoaWdocCB2ZWM0IHQwMCxoaWdocCB2ZWM0IHQxMCxoaWdocCB2ZWM0IHQwMSxoaWdocCB2ZWM0IHQxMSkge3ZlYzIgYzAwPXQwMD09Tk9EQVRBID8gdmVjMigwKSA6IHZlYzIoY29sb3JPZmZzZXQrZG90KHQwMCxjb2xvck1peCksMSk7dmVjMiBjMTA9dDEwPT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodDEwLGNvbG9yTWl4KSwxKTt2ZWMyIGMwMT10MDE9PU5PREFUQSA/IHZlYzIoMCkgOiB2ZWMyKGNvbG9yT2Zmc2V0K2RvdCh0MDEsY29sb3JNaXgpLDEpO3ZlYzIgYzExPXQxMT09Tk9EQVRBID8gdmVjMigwKSA6IHZlYzIoY29sb3JPZmZzZXQrZG90KHQxMSxjb2xvck1peCksMSk7cmV0dXJuIG1peChtaXgoYzAxLGMxMSxmeHkueCksbWl4KGMwMCxjMTAsZnh5LngpLGZ4eS55KTt9dmVjMiByYVRleHR1cmUyRF9pbWFnZTBfbGluZWFyKGhpZ2hwIHZlYzIgdGV4Q29vcmQsaGlnaHAgdmVjMiB0ZXhSZXNvbHV0aW9uLGhpZ2hwIHZlYzQgY29sb3JNaXgsaGlnaHAgZmxvYXQgY29sb3JPZmZzZXQpIHt2ZWMyIGZ4eTtpdmVjNCBjPV9yYVRleExpbmVhckNvb3JkKHRleENvb3JkLHRleFJlc29sdXRpb24sZnh5KTtyZXR1cm4gX3JhVGV4TGluZWFyTWl4KGZ4eSxjb2xvck1peCxjb2xvck9mZnNldCx0ZXhlbEZldGNoKHVfaW1hZ2UwLGMueXosMCksdGV4ZWxGZXRjaCh1X2ltYWdlMCxjLnh6LDApLHRleGVsRmV0Y2godV9pbWFnZTAsYy55dywwKSx0ZXhlbEZldGNoKHVfaW1hZ2UwLGMueHcsMClcXG4pO312ZWMyIHJhVGV4dHVyZTJEX2ltYWdlMV9saW5lYXIoaGlnaHAgdmVjMiB0ZXhDb29yZCxoaWdocCB2ZWMyIHRleFJlc29sdXRpb24saGlnaHAgdmVjNCBjb2xvck1peCxoaWdocCBmbG9hdCBjb2xvck9mZnNldCkge3ZlYzIgZnh5O2l2ZWM0IGM9X3JhVGV4TGluZWFyQ29vcmQodGV4Q29vcmQsdGV4UmVzb2x1dGlvbixmeHkpO3JldHVybiBfcmFUZXhMaW5lYXJNaXgoZnh5LGNvbG9yTWl4LGNvbG9yT2Zmc2V0LHRleGVsRmV0Y2godV9pbWFnZTEsYy55eiwwKSx0ZXhlbEZldGNoKHVfaW1hZ2UxLGMueHosMCksdGV4ZWxGZXRjaCh1X2ltYWdlMSxjLnl3LDApLHRleGVsRmV0Y2godV9pbWFnZTEsYy54dywwKVxcbik7fXZlYzIgcmFUZXh0dXJlMkRfaW1hZ2UwX25lYXJlc3QoaGlnaHAgdmVjMiB0ZXhDb29yZCxoaWdocCB2ZWMyIHRleFJlc29sdXRpb24saGlnaHAgdmVjNCBjb2xvck1peCxoaWdocCBmbG9hdCBjb2xvck9mZnNldCkge3ZlYzQgdD10ZXhlbEZldGNoKHVfaW1hZ2UwLGl2ZWMyKHRleENvb3JkKnRleFJlc29sdXRpb24pLDApO3JldHVybiB0PT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodCxjb2xvck1peCksMSk7fXZlYzIgcmFUZXh0dXJlMkRfaW1hZ2UxX25lYXJlc3QoaGlnaHAgdmVjMiB0ZXhDb29yZCxoaWdocCB2ZWMyIHRleFJlc29sdXRpb24saGlnaHAgdmVjNCBjb2xvck1peCxoaWdocCBmbG9hdCBjb2xvck9mZnNldCkge3ZlYzQgdD10ZXhlbEZldGNoKHVfaW1hZ2UxLGl2ZWMyKHRleENvb3JkKnRleFJlc29sdXRpb24pLDApO3JldHVybiB0PT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodCxjb2xvck1peCksMSk7fVxcbiNlbmRpZlwiLGpvPVwiI2lmZGVmIFJBU1RFUl9BUlJBWVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdmVsb2NpdHk7dW5pZm9ybSB2ZWMyIHVfdmVsb2NpdHlfcmVzO3VuaWZvcm0gZmxvYXQgdV9tYXhfc3BlZWQ7Y29uc3QgdmVjMiBJTlZBTElEX1ZFTE9DSVRZPXZlYzIoLTEpO3VuaWZvcm0gdmVjMiB1X3RleHR1cmVfb2Zmc2V0O3VuaWZvcm0gZmxvYXQgdV9kYXRhX29mZnNldDt1bmlmb3JtIHZlYzQgdV9kYXRhX3NjYWxlO3ZlYzIgbG9va3VwX3ZlbG9jaXR5KHZlYzIgdXYpIHt1dj11X3RleHR1cmVfb2Zmc2V0LngrdV90ZXh0dXJlX29mZnNldC55KnV2O3ZlYzIgZnh5O2l2ZWM0IGM9X3JhVGV4TGluZWFyQ29vcmQodXYsdV92ZWxvY2l0eV9yZXMsZnh5KTt2ZWM0IHRsPXRleGVsRmV0Y2godV92ZWxvY2l0eSxjLnl6LDApO3ZlYzQgdHI9dGV4ZWxGZXRjaCh1X3ZlbG9jaXR5LGMueHosMCk7dmVjNCBibD10ZXhlbEZldGNoKHVfdmVsb2NpdHksYy55dywwKTt2ZWM0IGJyPXRleGVsRmV0Y2godV92ZWxvY2l0eSxjLnh3LDApO2lmICh0bD09Tk9EQVRBKSB7cmV0dXJuIElOVkFMSURfVkVMT0NJVFk7fWlmICh0cj09Tk9EQVRBKSB7cmV0dXJuIElOVkFMSURfVkVMT0NJVFk7fWlmIChibD09Tk9EQVRBKSB7cmV0dXJuIElOVkFMSURfVkVMT0NJVFk7fWlmIChicj09Tk9EQVRBKSB7cmV0dXJuIElOVkFMSURfVkVMT0NJVFk7fXZlYzQgdD1taXgobWl4KGJsLGJyLGZ4eS54KSxtaXgodGwsdHIsZnh5LngpLGZ4eS55KTtcXG4jaWZkZWYgREFUQV9GT1JNQVRfVUlOVDMyXFxudmVjMiB2ZWxvY2l0eT12ZWMyKHVfZGF0YV9vZmZzZXQrZG90KHQsdV9kYXRhX3NjYWxlKSwwKTtyZXR1cm4gdmVsb2NpdHk7XFxuI2Vsc2VcXG52ZWMyIHZlbG9jaXR5PXZlYzIodV9kYXRhX29mZnNldCtkb3QodC5yZyx1X2RhdGFfc2NhbGUueXgpLC0odV9kYXRhX29mZnNldCtkb3QodC5iYSx1X2RhdGFfc2NhbGUueXgpKSk7XFxuI2VuZGlmXFxucmV0dXJuIHZlbG9jaXR5L21heCh1X21heF9zcGVlZCxsZW5ndGgodmVsb2NpdHkpKTt9XFxuI2VuZGlmXCIsVm89XCIjaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1lZGl1bXAgdmVjMyB1X3NoYWRvd19kaXJlY3Rpb247dW5pZm9ybSBoaWdocCB2ZWMzIHVfc2hhZG93X25vcm1hbF9vZmZzZXQ7dmVjMyBzaGFkb3dfbm9ybWFsX29mZnNldCh2ZWMzIG5vcm1hbCkge2Zsb2F0IHRpbGVJbk1ldGVycz11X3NoYWRvd19ub3JtYWxfb2Zmc2V0WzBdO3ZlYzMgbj12ZWMzKC1ub3JtYWwueHksdGlsZUluTWV0ZXJzKm5vcm1hbC56KTtmbG9hdCBkb3RTY2FsZT1taW4oMS4wLWRvdChub3JtYWwsdV9zaGFkb3dfZGlyZWN0aW9uKSwxLjApKjAuNSswLjU7cmV0dXJuIG4qZG90U2NhbGU7fXZlYzMgc2hhZG93X25vcm1hbF9vZmZzZXRfbW9kZWwodmVjMyBub3JtYWwpIHtmbG9hdCBkb3RTY2FsZT1taW4oMS4wLWRvdChub3JtYWwsdV9zaGFkb3dfZGlyZWN0aW9uKSwxLjApKjAuNSswLjU7cmV0dXJuIG5vcm1hbCpkb3RTY2FsZTt9ZmxvYXQgc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKSB7cmV0dXJuIHVfc2hhZG93X25vcm1hbF9vZmZzZXRbMV07fWZsb2F0IHNoYWRvd19ub3JtYWxfb2Zmc2V0X211bHRpcGxpZXIxKCkge3JldHVybiB1X3NoYWRvd19ub3JtYWxfb2Zmc2V0WzJdO31cXG4jZW5kaWYvL1JFTkRFUl9TSEFET1dTXCIsWm89XCIjaWZkZWYgUkVOREVSX1NIQURPV1NcXG4jaWZkZWYgREVQVEhfVEVYVFVSRVxcbnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfc2hhZG93bWFwXzA7dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMTtcXG4jZWxzZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc2hhZG93bWFwXzA7dW5pZm9ybSBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMTtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVfc2hhZG93X2ludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfc2hhZG93X21hcF9yZXNvbHV0aW9uO3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dfdGV4ZWxfc2l6ZTt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zaGFkb3dfbm9ybWFsX29mZnNldDt1bmlmb3JtIHZlYzIgdV9mYWRlX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2hhZG93X2RpcmVjdGlvbjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zaGFkb3dfYmlhcztoaWdocCBmbG9hdCBzaGFkb3dfc2FtcGxlXzEoaGlnaHAgdmVjMiB1dixoaWdocCBmbG9hdCBjb21wYXJlKSB7aGlnaHAgZmxvYXQgc2hhZG93X2RlcHRoO1xcbiNpZmRlZiBERVBUSF9URVhUVVJFXFxuc2hhZG93X2RlcHRoPXRleHR1cmUodV9zaGFkb3dtYXBfMSx1dikucjtcXG4jZWxzZVxcbnNoYWRvd19kZXB0aD11bnBhY2tfZGVwdGgodGV4dHVyZSh1X3NoYWRvd21hcF8xLHV2KSkqMC41KzAuNTtcXG4jZW5kaWZcXG5yZXR1cm4gc3RlcChzaGFkb3dfZGVwdGgsY29tcGFyZSk7fWhpZ2hwIGZsb2F0IHNoYWRvd19zYW1wbGVfMChoaWdocCB2ZWMyIHV2LGhpZ2hwIGZsb2F0IGNvbXBhcmUpIHtoaWdocCBmbG9hdCBzaGFkb3dfZGVwdGg7XFxuI2lmZGVmIERFUFRIX1RFWFRVUkVcXG5zaGFkb3dfZGVwdGg9dGV4dHVyZSh1X3NoYWRvd21hcF8wLHV2KS5yO1xcbiNlbHNlXFxuc2hhZG93X2RlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlKHVfc2hhZG93bWFwXzAsdXYpKSowLjUrMC41O1xcbiNlbmRpZlxcbnJldHVybiBzdGVwKHNoYWRvd19kZXB0aCxjb21wYXJlKTt9ZmxvYXQgc2hhZG93X29jY2x1c2lvbl8xKGhpZ2hwIHZlYzQgcG9zLGhpZ2hwIGZsb2F0IGJpYXMpIHtoaWdocCB2ZWMyIHV2PXBvcy54eTtyZXR1cm4gc2hhZG93X3NhbXBsZV8xKHV2LHBvcy56LWJpYXMpO31mbG9hdCBzaGFkb3dfb2NjbHVzaW9uXzAoaGlnaHAgdmVjNCBwb3MsaGlnaHAgZmxvYXQgYmlhcykge2hpZ2hwIGZsb2F0IGNvbXBhcmUwPXBvcy56LWJpYXM7XFxuI2lmZGVmIE5BVElWRVxcbmhpZ2hwIHZlYzIgdXY9cG9zLnh5O2hpZ2hwIHZlYzQgc2FtcGxlcz10ZXh0dXJlR2F0aGVyKHVfc2hhZG93bWFwXzAsdXYsMCk7bG93cCB2ZWM0IHN0ZXBTYW1wbGVzPXN0ZXAoc2FtcGxlcyx2ZWM0KGNvbXBhcmUwKSk7XFxuI2Vsc2VcXG5oaWdocCB2ZWMyIHV2MDA9cG9zLnh5LXZlYzIoMC41KnVfc2hhZG93X3RleGVsX3NpemUpO2hpZ2hwIHZlYzIgdXYxMD11djAwK3ZlYzIodV9zaGFkb3dfdGV4ZWxfc2l6ZSwwLjApO2hpZ2hwIHZlYzIgdXYwMT11djAwK3ZlYzIoMC4wLHVfc2hhZG93X3RleGVsX3NpemUpO2hpZ2hwIHZlYzIgdXYxMT11djAxK3ZlYzIodV9zaGFkb3dfdGV4ZWxfc2l6ZSwwLjApO2xvd3AgdmVjNCBzdGVwU2FtcGxlcz12ZWM0KFxcbnNoYWRvd19zYW1wbGVfMCh1djAxLGNvbXBhcmUwKSxzaGFkb3dfc2FtcGxlXzAodXYxMSxjb21wYXJlMCksc2hhZG93X3NhbXBsZV8wKHV2MTAsY29tcGFyZTApLHNoYWRvd19zYW1wbGVfMCh1djAwLGNvbXBhcmUwKVxcbik7XFxuI2VuZGlmXFxudmVjMiBmPWZyYWN0KHBvcy54eSp1X3NoYWRvd19tYXBfcmVzb2x1dGlvbi12ZWMyKDAuNSkpO2xvd3AgdmVjMiBsZXJweD1taXgoc3RlcFNhbXBsZXMud3gsc3RlcFNhbXBsZXMuenksZi54eCk7cmV0dXJuIG1peChsZXJweC54LGxlcnB4LnksZi55KTt9ZmxvYXQgc2hhZG93X29jY2x1c2lvbihoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoLGhpZ2hwIGZsb2F0IGJpYXMpIHtcXG4jaWZkZWYgU0hBRE9XU19TSU5HTEVfQ0FTQ0FERVxcbmxpZ2h0X3ZpZXdfcG9zMC54eXo9bGlnaHRfdmlld19wb3MwLnh5ei9saWdodF92aWV3X3BvczAudyowLjUrMC41O3JldHVybiBzaGFkb3dfb2NjbHVzaW9uXzAobGlnaHRfdmlld19wb3MwLGJpYXMpO1xcbiNlbHNlXFxubGlnaHRfdmlld19wb3MwLnh5ei89bGlnaHRfdmlld19wb3MwLnc7bGlnaHRfdmlld19wb3MxLnh5ei89bGlnaHRfdmlld19wb3MxLnc7dmVjNCB1dj12ZWM0KGxpZ2h0X3ZpZXdfcG9zMC54eSxsaWdodF92aWV3X3BvczEueHkpO3ZlYzQgYWJzX2JvdW5kcz1hYnModXYpO2lmIChhYnNfYm91bmRzLnggPCAxLjAgJiYgYWJzX2JvdW5kcy55IDwgMS4wKSB7bGlnaHRfdmlld19wb3MwLnh5ej1saWdodF92aWV3X3BvczAueHl6KjAuNSswLjU7cmV0dXJuIHNoYWRvd19vY2NsdXNpb25fMChsaWdodF92aWV3X3BvczAsYmlhcyk7fWlmIChhYnNfYm91bmRzLnogPj0xLjAgfHwgYWJzX2JvdW5kcy53ID49MS4wKSB7cmV0dXJuIDAuMDt9bGlnaHRfdmlld19wb3MxLnh5ej1saWdodF92aWV3X3BvczEueHl6KjAuNSswLjU7ZmxvYXQgb2NjbHVzaW9uMT1zaGFkb3dfb2NjbHVzaW9uXzEobGlnaHRfdmlld19wb3MxLGJpYXMpO3JldHVybiBtaXgob2NjbHVzaW9uMSwwLjAsc21vb3Roc3RlcCh1X2ZhZGVfcmFuZ2UueCx1X2ZhZGVfcmFuZ2UueSx2aWV3X2RlcHRoKSk7XFxuI2VuZGlmXFxufWhpZ2hwIGZsb2F0IGNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhmbG9hdCBORG90TCkge1xcbiNpZmRlZiBOT1JNQUxfT0ZGU0VUXFxucmV0dXJuIDAuNSp1X3NoYWRvd19iaWFzLng7XFxuI2Vsc2VcXG5yZXR1cm4gMC41Kih1X3NoYWRvd19iaWFzLngrY2xhbXAodV9zaGFkb3dfYmlhcy55KnRhbihhY29zKE5Eb3RMKSksMC4wLHVfc2hhZG93X2JpYXMueikpO1xcbiNlbmRpZlxcbn1mbG9hdCBzaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsKHZlYzMgTixoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgTkRvdEw9ZG90KE4sdV9zaGFkb3dfZGlyZWN0aW9uKTtmbG9hdCBiaWFzPWNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhORG90TCk7ZmxvYXQgb2NjbHVzaW9uPXNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO3JldHVybiBtaXgoMC4wLCgxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pKSpORG90TCxzdGVwKDAuMCxORG90TCkpO31mbG9hdCBzaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsX3VuYmlhc2VkKHZlYzMgTixoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgTkRvdEw9ZG90KE4sdV9zaGFkb3dfZGlyZWN0aW9uKTtmbG9hdCBiaWFzPTAuMDtmbG9hdCBvY2NsdXNpb249c2hhZG93X29jY2x1c2lvbihsaWdodF92aWV3X3BvczAsbGlnaHRfdmlld19wb3MxLHZpZXdfZGVwdGgsYmlhcyk7cmV0dXJuIG1peCgwLjAsKDEuMC0odV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbikpKk5Eb3RMLHN0ZXAoMC4wLE5Eb3RMKSk7fWZsb2F0IHNoYWRvd2VkX2xpZ2h0X2ZhY3RvcihoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMCxoaWdocCB2ZWM0IGxpZ2h0X3ZpZXdfcG9zMSxmbG9hdCB2aWV3X2RlcHRoKSB7ZmxvYXQgYmlhcz0wLjA7ZmxvYXQgb2NjbHVzaW9uPXNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO3JldHVybiAxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pO31mbG9hdCBzaGFkb3dfb2NjbHVzaW9uKGZsb2F0IG5kb3RsLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgpIHtmbG9hdCBiaWFzPWNhbGN1bGF0ZV9zaGFkb3dfYmlhcyhuZG90bCk7cmV0dXJuIHNoYWRvd19vY2NsdXNpb24obGlnaHRfdmlld19wb3MwLGxpZ2h0X3ZpZXdfcG9zMSx2aWV3X2RlcHRoLGJpYXMpO31cXG4jZW5kaWZcIjtjb25zdCBIbz1bXTtZbyh6byxIbyksWW8oRm8sSG8pLFlvKE9vLEhvKTtjb25zdCBXbz17XCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIjpObyxcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIjprbyxcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiOlZvLFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIjpVbyxcIl9wcmVsdWRlX3NoYWRvdy5mcmFnbWVudC5nbHNsXCI6Wm8sXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCI6XCJcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnVuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfbGlnaHRpbmdfYW1iaWVudF9jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2Rpcjt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfZ3JvdW5kX3JhZGlhbmNlO2Zsb2F0IGNhbGN1bGF0ZV9hbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcih2ZWMzIG5vcm1hbCkge2Zsb2F0IE5kb3RMPWRvdChub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpO2NvbnN0IGZsb2F0IGZhY3Rvcl9yZWR1Y3Rpb25fbWF4PTAuMztmbG9hdCBkaXJfbHVtaW5hbmNlPWRvdCh1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2NvbG9yLHZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpKTtmbG9hdCBkaXJlY3Rpb25hbF9mYWN0b3JfbWluPTEuMC1mYWN0b3JfcmVkdWN0aW9uX21heCptaW4oZGlyX2x1bWluYW5jZSwxLjApO2Zsb2F0IGFtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yPW1peChkaXJlY3Rpb25hbF9mYWN0b3JfbWluLDEuMCxtaW4oKE5kb3RMKzEuMCksMS4wKSk7Y29uc3QgZmxvYXQgdmVydGljYWxfZmFjdG9yX21pbj0wLjkyO2Zsb2F0IHZlcnRpY2FsX2ZhY3Rvcj1taXgodmVydGljYWxfZmFjdG9yX21pbiwxLjAsbm9ybWFsLnoqMC41KzAuNSk7cmV0dXJuIHZlcnRpY2FsX2ZhY3RvciphbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcjt9dmVjMyBsaW5lYXJQcm9kdWN0KHZlYzMgc3JnYkluLHZlYzMgaykge3JldHVybiBzcmdiSW4qcG93KGssdmVjMygxLi8yLjIpKTt9dmVjMyBhcHBseV9saWdodGluZyh2ZWMzIGNvbG9yLHZlYzMgbm9ybWFsLGZsb2F0IGRpcl9mYWN0b3IpIHtmbG9hdCBhbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcj1jYWxjdWxhdGVfYW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3Iobm9ybWFsKTt2ZWMzIGFtYmllbnRfY29udHJpYj1hbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcip1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I7dmVjMyBkaXJlY3Rpb25hbF9jb250cmliPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3IqZGlyX2ZhY3RvcjtyZXR1cm4gbGluZWFyUHJvZHVjdChjb2xvcixhbWJpZW50X2NvbnRyaWIrZGlyZWN0aW9uYWxfY29udHJpYik7fXZlYzQgYXBwbHlfbGlnaHRpbmcodmVjNCBjb2xvcix2ZWMzIG5vcm1hbCxmbG9hdCBkaXJfZmFjdG9yKSB7cmV0dXJuIHZlYzQoYXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxkaXJfZmFjdG9yKSxjb2xvci5hKTt9dmVjMyBhcHBseV9saWdodGluZyh2ZWMzIGNvbG9yLHZlYzMgbm9ybWFsKSB7ZmxvYXQgZGlyX2ZhY3Rvcj1tYXgoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksMC4wKTtyZXR1cm4gYXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxkaXJfZmFjdG9yKTt9dmVjNCBhcHBseV9saWdodGluZyh2ZWM0IGNvbG9yLHZlYzMgbm9ybWFsKSB7ZmxvYXQgZGlyX2ZhY3Rvcj1tYXgoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksMC4wKTtyZXR1cm4gdmVjNChhcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLGRpcl9mYWN0b3IpLGNvbG9yLmEpO312ZWMzIGFwcGx5X2xpZ2h0aW5nX2dyb3VuZCh2ZWMzIGNvbG9yKSB7cmV0dXJuIGNvbG9yKnVfZ3JvdW5kX3JhZGlhbmNlO312ZWM0IGFwcGx5X2xpZ2h0aW5nX2dyb3VuZCh2ZWM0IGNvbG9yKSB7cmV0dXJuIHZlYzQoYXBwbHlfbGlnaHRpbmdfZ3JvdW5kKGNvbG9yLnJnYiksY29sb3IuYSk7fWZsb2F0IGNhbGN1bGF0ZV9OZG90TCh2ZWMzIG5vcm1hbCkge2NvbnN0IGZsb2F0IGV4dD0wLjcwNzEwNjc4MTE4O3JldHVybiAoY2xhbXAoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksLWV4dCwxLjApK2V4dCkvKDEuMCtleHQpO312ZWM0IGFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKHZlYzQgY29sb3IsZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGgpIHtyZXR1cm4gbWl4KGFwcGx5X2xpZ2h0aW5nX2dyb3VuZChjb2xvciksY29sb3IsZW1pc3NpdmVfc3RyZW5ndGgpO312ZWMzIGNvbXB1dGVfZmxvb2RfbGlnaHRpbmcodmVjMyBmbG9vZF9saWdodF9jb2xvcixmbG9hdCBmdWxseV9vY2NsdWRlZF9mYWN0b3IsZmxvYXQgb2NjbHVzaW9uLHZlYzMgZ3JvdW5kX3NoYWRvd19mYWN0b3IpIHt2ZWMzIGZ1bGx5X29jY2x1ZGVkX2NvbG9yPWZsb29kX2xpZ2h0X2NvbG9yKm1peChncm91bmRfc2hhZG93X2ZhY3Rvcix2ZWMzKDEuMCksZnVsbHlfb2NjbHVkZWRfZmFjdG9yKTtmbG9hdCBvY2NsdXNpb25fcmFtcD1zbW9vdGhzdGVwKDAuMCwwLjIsMS4wLW9jY2x1c2lvbik7cmV0dXJuIG1peChmdWxseV9vY2NsdWRlZF9jb2xvcixmbG9vZF9saWdodF9jb2xvcixvY2NsdXNpb25fcmFtcCk7fXZlYzMgY29tcHV0ZV9lbWlzc2l2ZV9kcmFwZWQodmVjMyB1bmxpdF9jb2xvcixmbG9hdCBmdWxseV9vY2NsdWRlZF9mYWN0b3IsZmxvYXQgb2NjbHVzaW9uLHZlYzMgZ3JvdW5kX3NoYWRvd19mYWN0b3IpIHt2ZWMzIGZ1bGx5X29jY2x1ZGVkX2NvbG9yPXVubGl0X2NvbG9yKm1peChncm91bmRfc2hhZG93X2ZhY3Rvcix2ZWMzKDEuMCksZnVsbHlfb2NjbHVkZWRfZmFjdG9yKTtyZXR1cm4gbWl4KGZ1bGx5X29jY2x1ZGVkX2NvbG9yLHVubGl0X2NvbG9yLDEuMC1vY2NsdXNpb24pO31cXG4jZW5kaWYvL0xJR0hUSU5HXzNEX01PREVcIixcIl9wcmVsdWRlX3Jhc3Rlcl9hcnJheS5nbHNsXCI6R28sXCJfcHJlbHVkZV9yYXN0ZXJfcGFydGljbGUuZ2xzbFwiOmpvfSxxbz17fTtKbyhcIlwiLGtvKSxKbyhVbyxObyksSm8oWm8sVm8pLEpvKEdvLFwiXCIpLEpvKGpvLFwiXCIpO2NvbnN0ICRvPUpvKE9vLEZvKSxYbz16bzt2YXIgS289e2JhY2tncm91bmQ6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5pbiB2ZWM0IHZfY29sb3I7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgb3V0X2NvbG9yO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPXZfY29sb3I7XFxuI2Vsc2VcXG5vdXRfY29sb3I9dV9jb2xvcjtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG5pbiB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfY29sb3I7b3V0IHZlYzQgdl9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQodV9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGJhY2tncm91bmRQYXR0ZXJuOkpvKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fdGw7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icjt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO2luIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsL3VfdGV4c2l6ZSx1X3BhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmVMb2RDdXN0b20odV9pbWFnZSxwb3Msdl9wb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZTt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7aW4gdmVjMiBhX3BvcztvdXQgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9wYXR0ZXJuX3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn0nKSxjaXJjbGU6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuaW4gdmVjMyB2X2RhdGE7aW4gZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG51bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3Bvcyk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9b3V0X2NvbG9yKih2X3Zpc2liaWxpdHkqb3BhY2l0eV90KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn0nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG4jZGVmaW5lIE5VTV9WSVNJQklMSVRZX1JJTkdTIDJcXG4jZGVmaW5lIElOVl9TUVJUMiAwLjcwNzEwNjc4XFxuI2RlZmluZSBFTEVWQVRJT05fQklBUyAwLjAwMDFcXG4jZGVmaW5lIE5VTV9TQU1QTEVTX1BFUl9SSU5HIDE2XFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2luIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmluIHZlYzMgYV9wb3NfMztpbiB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxub3V0IHZlYzMgdl9kYXRhO291dCBmbG9hdCB2X3Zpc2liaWxpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgY2FsY19vZmZzZXQodmVjMiBleHRydXNpb24sZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSkge3JldHVybiBleHRydXNpb24qKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp2aWV3X3NjYWxlO31mbG9hdCBjYW50aWxldmVyZWRfZWxldmF0aW9uKHZlYzIgcG9zLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsZmxvYXQgdmlld19zY2FsZSkge3ZlYzIgYzE9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMj1wb3MrY2FsY19vZmZzZXQodmVjMigxLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzM9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzQ9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtmbG9hdCBoMT1lbGV2YXRpb24oYzEpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgyPWVsZXZhdGlvbihjMikrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDM9ZWxldmF0aW9uKGMzKStFTEVWQVRJT05fQklBUztmbG9hdCBoND1lbGV2YXRpb24oYzQpK0VMRVZBVElPTl9CSUFTO3JldHVybiBtYXgoaDQsbWF4KGgzLG1heChoMSxoMikpKTt9ZmxvYXQgY2lyY2xlX2VsZXZhdGlvbih2ZWMyIHBvcykge1xcbiNpZiBkZWZpbmVkKFRFUlJBSU4pXFxucmV0dXJuIGVsZXZhdGlvbihwb3MpK0VMRVZBVElPTl9CSUFTO1xcbiNlbHNlXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG59dmVjNCBwcm9qZWN0X3ZlcnRleCh2ZWMyIGV4dHJ1c2lvbix2ZWM0IHdvcmxkX2NlbnRlcix2ZWM0IHByb2plY3RlZF9jZW50ZXIsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSxtYXQzIHN1cmZhY2VfdmVjdG9ycykge3ZlYzIgc2FtcGxlX29mZnNldD1jYWxjX29mZnNldChleHRydXNpb24scmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldC54KnN1cmZhY2VfdmVjdG9yc1swXStzYW1wbGVfb2Zmc2V0Lnkqc3VyZmFjZV92ZWN0b3JzWzFdLDApICk7XFxuI2Vsc2VcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCkgKTtcXG4jZW5kaWZcXG4jZWxzZVxcbnJldHVybiBwcm9qZWN0ZWRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApO1xcbiNlbmRpZlxcbn1mbG9hdCBnZXRfc2FtcGxlX3N0ZXAoKSB7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxucmV0dXJuIDIuMCpQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG5yZXR1cm4gUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbmRpZlxcbn12b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7dmVjMiBjaXJjbGVfY2VudGVyPWZsb29yKGFfcG9zKjAuNSk7dmVjNCB3b3JsZF9jZW50ZXI7bWF0MyBzdXJmYWNlX3ZlY3RvcnM7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7c3VyZmFjZV92ZWN0b3JzPWdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyhwb3Nfbm9ybWFsXzMsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pO3ZlYzMgc3VyZmFjZV9leHRydXNpb249ZXh0cnVkZS54KnN1cmZhY2VfdmVjdG9yc1swXStleHRydWRlLnkqc3VyZmFjZV92ZWN0b3JzWzFdO3ZlYzMgZ2xvYmVfZWxldmF0aW9uPWVsZXZhdGlvblZlY3RvcihjaXJjbGVfY2VudGVyKSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LGNpcmNsZV9jZW50ZXIsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjt2ZWMzIHBvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt3b3JsZF9jZW50ZXI9dmVjNChwb3MsMSk7XFxuI2Vsc2UgXFxuc3VyZmFjZV92ZWN0b3JzPW1hdDMoMS4wKTtmbG9hdCBoZWlnaHQ9Y2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt3b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGhlaWdodCwxKTtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqd29ybGRfY2VudGVyO2Zsb2F0IHZpZXdfc2NhbGU9MC4wO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9MS4wO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbmRpZlxcbiNlbHNlXFxuI2lmZGVmIFNDQUxFX1dJVEhfTUFQXFxudmlld19zY2FsZT11X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuI2Vsc2VcXG52aWV3X3NjYWxlPXByb2plY3RlZF9jZW50ZXIudztcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj1wcm9qZWN0X3ZlcnRleChleHRydWRlLHdvcmxkX2NlbnRlcixwcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO2Zsb2F0IHZpc2liaWxpdHk9MC4wO1xcbiNpZmRlZiBURVJSQUlOXFxuZmxvYXQgc3RlcD1nZXRfc2FtcGxlX3N0ZXAoKTt2ZWM0IG9jY2x1c2lvbl93b3JsZF9jZW50ZXI7dmVjNCBvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcjtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5mbG9hdCBjYW50aWxldmVyZWRfaGVpZ2h0PWNhbnRpbGV2ZXJlZF9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO29jY2x1c2lvbl93b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGNhbnRpbGV2ZXJlZF9oZWlnaHQsMSk7b2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqb2NjbHVzaW9uX3dvcmxkX2NlbnRlcjtcXG4jZWxzZVxcbm9jY2x1c2lvbl93b3JsZF9jZW50ZXI9d29ybGRfY2VudGVyO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXByb2plY3RlZF9jZW50ZXI7XFxuI2VuZGlmXFxuZm9yKGludCByaW5nPTA7IHJpbmcgPCBOVU1fVklTSUJJTElUWV9SSU5HUzsgcmluZysrKSB7ZmxvYXQgc2NhbGU9KGZsb2F0KHJpbmcpKzEuMCkvZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpO2ZvcihpbnQgaT0wOyBpIDwgTlVNX1NBTVBMRVNfUEVSX1JJTkc7IGkrKykge3ZlYzIgZXh0cnVzaW9uPXZlYzIoY29zKHN0ZXAqZmxvYXQoaSkpLC1zaW4oc3RlcCpmbG9hdChpKSkpKnNjYWxlO3ZlYzQgZnJhZ19wb3M9cHJvamVjdF92ZXJ0ZXgoZXh0cnVzaW9uLG9jY2x1c2lvbl93b3JsZF9jZW50ZXIsb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7dmlzaWJpbGl0eSs9ZmxvYXQoIWlzT2NjbHVkZWQoZnJhZ19wb3MpKTt9fXZpc2liaWxpdHkvPWZsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKSpmbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxudl92aXNpYmlsaXR5PXZpc2liaWxpdHk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8ocmFkaXVzK3N0cm9rZV93aWR0aCk7dl9kYXRhPXZlYzMoZXh0cnVkZS54LGV4dHJ1ZGUueSxhbnRpYWxpYXNibHVyKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbih3b3JsZF9jZW50ZXIueHl6KTtcXG4jZW5kaWZcXG59JyksY2xpcHBpbmdNYXNrOkpvKFwidm9pZCBtYWluKCkge2dsRnJhZ0NvbG9yPXZlYzQoMS4wKTt9XCIsXCJpbiB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO31cIiksaGVhdG1hcDpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X2ludGVuc2l0eTtpbiB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xGcmFnQ29sb3I9dmVjNCh2YWwsMS4wLDEuMCwxLjApO1xcbiNpZmRlZiBGT0dcXG5pZiAodV9pc19nbG9iZT09MCkge2dsRnJhZ0NvbG9yLnIqPXBvdygxLjAtZm9nX29wYWNpdHkodl9mb2dfcG9zKSwyLjApO31cXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5O2luIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmluIHZlYzMgYV9wb3NfMztpbiB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxub3V0IHZlYzIgdl9leHRydWRlO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbmNvbnN0IGhpZ2hwIGZsb2F0IFpFUk89MS4wLzI1NS4wLzE2LjA7XFxuI2RlZmluZSBHQVVTU19DT0VGIDAuMzk4OTQyMjgwNDAxNDMyN1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG52ZWMyIHVuc2NhbGVkX2V4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTtmbG9hdCBTPXNxcnQoLTIuMCpsb2coWkVSTy93ZWlnaHQvdV9pbnRlbnNpdHkvR0FVU1NfQ09FRikpLzMuMDt2X2V4dHJ1ZGU9Uyp1bnNjYWxlZF9leHRydWRlO3ZlYzIgZXh0cnVkZT12X2V4dHJ1ZGUqcmFkaXVzKnVfZXh0cnVkZV9zY2FsZTt2ZWMyIHRpbGVQb3M9Zmxvb3IoYV9wb3MqMC41KTt2ZWMzIHBvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDttYXQzIHN1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IodGlsZVBvcykqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSplbGV2YXRpb24odGlsZVBvcyk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZVBvcyx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrc3VyZmFjZV9leHRydXNpb24rbWVyY2F0b3JfZWxldmF0aW9uO3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHRpbGVQb3MrZXh0cnVkZSxlbGV2YXRpb24odGlsZVBvcykpO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufScpLGhlYXRtYXBUZXh0dXJlOkpvKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7aW4gdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7ZmxvYXQgdD10ZXh0dXJlKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlKHVfY29sb3JfcmFtcCx2ZWMyKHQsMC41KSk7Z2xGcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDAuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9XCIsXCJpbiB2ZWMyIGFfcG9zO291dCB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV9wb3MqMC41KzAuNTt9XCIpLGNvbGxpc2lvbkJveDpKbyhcImluIGZsb2F0IHZfcGxhY2VkO2luIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCByZWQgPXZlYzQoMS4wLDAuMCwwLjAsMS4wKTt2ZWM0IGJsdWU9dmVjNCgwLjAsMC4wLDEuMCwwLjUpO2dsRnJhZ0NvbG9yID1taXgocmVkLGJsdWUsc3RlcCgwLjUsdl9wbGFjZWQpKSowLjU7Z2xGcmFnQ29sb3IqPW1peCgxLjAsMC4xLHN0ZXAoMC41LHZfbm90VXNlZCkpO31cIiwnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG5pbiB2ZWMzIGFfcG9zO2luIHZlYzIgYV9hbmNob3JfcG9zO2luIHZlYzIgYV9leHRydWRlO2luIHZlYzIgYV9wbGFjZWQ7aW4gdmVjMiBhX3NoaWZ0O2luIGZsb2F0IGFfc2l6ZV9zY2FsZTtpbiB2ZWMyIGFfcGFkZGluZztpbiBmbG9hdCBhX3pfb2Zmc2V0O3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO291dCBmbG9hdCB2X3BsYWNlZDtvdXQgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHByb2plY3RlZFBvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrZWxldmF0aW9uVmVjdG9yKGFfYW5jaG9yX3BvcykqKGFfel9vZmZzZXQrZWxldmF0aW9uKGFfYW5jaG9yX3BvcykpLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCwxLjUpO2dsX1Bvc2l0aW9uPXByb2plY3RlZFBvaW50O2dsX1Bvc2l0aW9uLnh5Kz0oYV9leHRydWRlKmFfc2l6ZV9zY2FsZSthX3NoaWZ0K2FfcGFkZGluZykqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fScpLGNvbGxpc2lvbkNpcmNsZTpKbyhcImluIGZsb2F0IHZfcmFkaXVzO2luIHZlYzIgdl9leHRydWRlO2luIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87aW4gZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbEZyYWdDb2xvcj1jb2xvciphbHBoYSpvcGFjaXR5X3Q7fVwiLFwiaW4gdmVjMiBhX3Bvc18yZjtpbiBmbG9hdCBhX3JhZGl1cztpbiB2ZWMyIGFfZmxhZ3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2ludl9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnRfc2l6ZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtvdXQgZmxvYXQgdl9yYWRpdXM7b3V0IHZlYzIgdl9leHRydWRlO291dCBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO291dCBmbG9hdCB2X2NvbGxpc2lvbjt2ZWMzIHRvVGlsZVBvc2l0aW9uKHZlYzIgc2NyZWVuUG9zKSB7dmVjNCByYXlTdGFydD11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsLTEuMCwxLjApO3ZlYzQgcmF5RW5kICA9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLCAxLjAsMS4wKTtyYXlTdGFydC54eXovPXJheVN0YXJ0Lnc7cmF5RW5kLnh5eiAgLz1yYXlFbmQudztoaWdocCBmbG9hdCB0PSgwLjAtcmF5U3RhcnQueikvKHJheUVuZC56LXJheVN0YXJ0LnopO3JldHVybiBtaXgocmF5U3RhcnQueHl6LHJheUVuZC54eXosdCk7fXZvaWQgbWFpbigpIHt2ZWMyIHF1YWRDZW50ZXJQb3M9YV9wb3NfMmY7ZmxvYXQgcmFkaXVzPWFfcmFkaXVzO2Zsb2F0IGNvbGxpc2lvbj1hX2ZsYWdzLng7ZmxvYXQgdmVydGV4SWR4PWFfZmxhZ3MueTt2ZWMyIHF1YWRWZXJ0ZXhPZmZzZXQ9dmVjMihcXG5taXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49Mi4wKSksbWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTEuMCAmJiB2ZXJ0ZXhJZHggPD0yLjApKSk7dmVjMiBxdWFkVmVydGV4RXh0ZW50PXF1YWRWZXJ0ZXhPZmZzZXQqcmFkaXVzO3ZlYzMgdGlsZVBvcz10b1RpbGVQb3NpdGlvbihxdWFkQ2VudGVyUG9zKTt2ZWM0IGNsaXBQb3M9dV9tYXRyaXgqdmVjNCh0aWxlUG9zLDEuMCk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1jbGlwUG9zLnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsNC4wKTtmbG9hdCBwYWRkaW5nX2ZhY3Rvcj0xLjI7dl9yYWRpdXM9cmFkaXVzO3ZfZXh0cnVkZT1xdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yO3ZfcGVyc3BlY3RpdmVfcmF0aW89Y29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfY29sbGlzaW9uPWNvbGxpc2lvbjtnbF9Qb3NpdGlvbj12ZWM0KGNsaXBQb3MueHl6L2NsaXBQb3MudywxLjApK3ZlYzQocXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvci91X3ZpZXdwb3J0X3NpemUqMi4wLDAuMCwwLjApO31cIiksZGVidWc6Sm8oXCJ1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHNhbXBsZXIyRCB1X292ZXJsYXk7aW4gdmVjMiB2X3V2O3ZvaWQgbWFpbigpIHt2ZWM0IG92ZXJsYXlfY29sb3I9dGV4dHVyZSh1X292ZXJsYXksdl91dik7Z2xGcmFnQ29sb3I9bWl4KHVfY29sb3Isb3ZlcmxheV9jb2xvcixvdmVybGF5X2NvbG9yLmEpO31cIiwnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG5pbiB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiB2ZWMzIGFfcG9zXzM7XFxuI2VuZGlmXFxub3V0IHZlYzIgdl91djt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X292ZXJsYXlfc2NhbGU7dm9pZCBtYWluKCkge2Zsb2F0IGg9ZWxldmF0aW9uKGFfcG9zKTt2X3V2PWFfcG9zLzgxOTIuMDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvc18zK2VsZXZhdGlvblZlY3RvcihhX3BvcykqaCwxKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV9vdmVybGF5X3NjYWxlLGgsMSk7XFxuI2VuZGlmXFxufScpLGZpbGw6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG51bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWM0IG91dF9jb2xvcj1jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG5pbiB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbE91dGxpbmU6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuaW4gaGlnaHAgdmVjMiB2X3Bvczt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9b3V0bGluZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbmluIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO291dCBoaWdocCB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn0nKSxmaWxsT3V0bGluZVBhdHRlcm46Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDtpbiBoaWdocCB2ZWMyIHZfcG9zO2luIGhpZ2hwIHZlYzIgdl9wb3Nfd29ybGQ7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWMyIGxvZF9wb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLHZfcG9zKTtmbG9hdCBkaXN0PWxlbmd0aCh2X3Bvc193b3JsZC1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZUxvZEN1c3RvbSh1X2ltYWdlLHBvcyxsb2RfcG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7aW4gdmVjMiBhX3BvcztvdXQgaGlnaHAgdmVjMiB2X3BvcztvdXQgaGlnaHAgdmVjMiB2X3Bvc193b3JsZDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO3ZfcG9zX3dvcmxkPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn0nKSxmaWxsUGF0dGVybjpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7aW4gdmVjMiB2X3Bvczt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWMyIGxvZF9wb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLHZfcG9zKTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlTG9kQ3VzdG9tKHVfaW1hZ2UscG9zLGxvZF9wb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7aW4gdmVjMiBhX3BvcztvdXQgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbEV4dHJ1c2lvbjpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG5pbiB2ZWM0IHZfY29sb3I7aW4gdmVjNCB2X2ZsYXQ7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuaW4gaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7aW4gaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7XFxuI2VuZGlmXFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTtcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87aW4gdmVjMiB2X2FvO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpICYmICFkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuaW4gdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUykgfHwgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbmluIGhpZ2hwIHZlYzMgdl9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSB2ZWMzIHVfZmxvb2RfbGlnaHRfY29sb3I7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSB2ZWMzIHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I7XFxuI2lmIGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSkgJiYgZGVmaW5lZChGTE9PRF9MSUdIVClcXG5pbiBmbG9hdCB2X2Zsb29kX3JhZGl1cztpbiBmbG9hdCB2X2hhc19mbG9vZGxpZ2h0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDtpbiBmbG9hdCB2X2hlaWdodDt2b2lkIG1haW4oKSB7XFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUykgfHwgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbnZlYzMgbm9ybWFsPW5vcm1hbGl6ZSh2X25vcm1hbCk7XFxuI2VuZGlmXFxuZmxvYXQgejt2ZWM0IGNvbG9yPXZfY29sb3I7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG56PWZsb2F0KG5vcm1hbC56ID4gMC4wMDAwMSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5ub3JtYWw9bWl4KG5vcm1hbCx2ZWMzKDAuMCwwLjAsMS4wKSx6KTtcXG4jZWxzZVxcbmNvbG9yPW1peCh2X2NvbG9yLHZfcm9vZl9jb2xvcix6KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBoPW1heCgwLjAsdl9oZWlnaHQpO2Zsb2F0IGFvX3NoYWRlPTEuMDtcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGhfZmxvb3JzPWgvKHVfYW9bMV0qdV92ZXJ0aWNhbF9zY2FsZSk7ZmxvYXQgeV9zaGFkZT0xLjAtMC45KmludGVuc2l0eSptaW4odl9hby55LDEuMCk7YW9fc2hhZGU9KDEuMC0wLjA4KmludGVuc2l0eSkqKHlfc2hhZGUrKDEuMC15X3NoYWRlKSooMS4wLXBvdygxLjAtbWluKGhfZmxvb3JzLzE2LjAsMS4wKSwxNi4wKSkpKzAuMDgqaW50ZW5zaXR5Km1pbihoX2Zsb29ycy8xNjAuMCwxLjApO2Zsb2F0IGNvbmNhdmU9dl9hby54KnZfYW8ueDtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbmNvbmNhdmUqPSgxLjAteik7XFxuI2VuZGlmXFxuZmxvYXQgeF9zaGFkZT1taXgoMS4wLG1peCgwLjYsMC43NSxtaW4oaF9mbG9vcnMvMzAuMCwxLjApKSxpbnRlbnNpdHkpKzAuMSppbnRlbnNpdHkqbWluKGgsMS4wKTthb19zaGFkZSo9bWl4KDEuMCx4X3NoYWRlKnhfc2hhZGUqeF9zaGFkZSxjb25jYXZlKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmNvbG9yLnJnYio9bWl4KGFvX3NoYWRlLDEuMCx2X2hhc19mbG9vZGxpZ2h0KTtcXG4jZWxzZVxcbmNvbG9yLnJnYio9YW9fc2hhZGU7XFxuI2VuZGlmXFxuI2Vsc2VcXG5jb2xvci5yZ2IqPWFvX3NoYWRlO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuZmxvYXQgZmxvb2RfcmFkaWFuY2U9MC4wO1xcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmZsb29kX3JhZGlhbmNlPSgxLjAtbWluKGgvdl9mbG9vZF9yYWRpdXMsMS4wKSkqdV9mbG9vZF9saWdodF9pbnRlbnNpdHkqdl9oYXNfZmxvb2RsaWdodDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG4jaWZkZWYgRkxPT0RfTElHSFRcXG5mbG9hdCBuZG90bF91bmNsYW1wZWQ9ZG90KG5vcm1hbCx1X3NoYWRvd19kaXJlY3Rpb24pO2Zsb2F0IG5kb3RsPW1heCgwLjAsbmRvdGxfdW5jbGFtcGVkKTtmbG9hdCBvY2NsdXNpb249bmRvdGxfdW5jbGFtcGVkIDwgMC4wID8gMS4wIDogc2hhZG93X29jY2x1c2lvbihuZG90bCx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLDEuMC9nbF9GcmFnQ29vcmQudyk7dmVjMyBsaXRDb2xvcj1hcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLCgxLjAtdV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbikqbmRvdGwpO3ZlYzMgZmxvb2RMaXRDb2xvcj1jb21wdXRlX2Zsb29kX2xpZ2h0aW5nKHVfZmxvb2RfbGlnaHRfY29sb3IqdV9vcGFjaXR5LDEuMC11X3NoYWRvd19pbnRlbnNpdHksb2NjbHVzaW9uLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3IpO2NvbG9yLnJnYj1taXgobGl0Q29sb3IsZmxvb2RMaXRDb2xvcixmbG9vZF9yYWRpYW5jZSk7XFxuI2Vsc2VcXG5mbG9hdCBzaGFkb3dlZF9saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbChub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSwxLjAvZ2xfRnJhZ0Nvb3JkLncpO2NvbG9yLnJnYj1hcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLHNoYWRvd2VkX2xpZ2h0aW5nX2ZhY3Rvcik7XFxuI2VuZGlmXFxuI2Vsc2VcXG5jb2xvci5yZ2I9YXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCk7XFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuY29sb3IucmdiPW1peChjb2xvci5yZ2IsdV9mbG9vZF9saWdodF9jb2xvcip1X29wYWNpdHksZmxvb2RfcmFkaWFuY2UpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmNvbG9yLnJnYj1taXgoY29sb3IucmdiLHZfZmxhdC5yZ2IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7Y29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MsaCkpO1xcbiNlbmRpZlxcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxuY29sb3I9YXBwbHlDdXRvdXQoY29sb3IpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7aW4gdmVjNCBhX3Bvc19ub3JtYWxfZWQ7aW4gdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX3Bvc18zO2luIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO291dCB2ZWM0IHZfY29sb3I7b3V0IHZlYzQgdl9mbGF0O1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO291dCBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtvdXQgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7b3V0IGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgJiYgIWRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG5vdXQgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUykgfHwgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbm91dCBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbztvdXQgdmVjMiB2X2FvO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpICYmIGRlZmluZWQoRkxPT0RfTElHSFQpXFxub3V0IGZsb2F0IHZfZmxvb2RfcmFkaXVzO291dCBmbG9hdCB2X2hhc19mbG9vZGxpZ2h0O1xcbiNlbmRpZlxcbm91dCBmbG9hdCB2X2hlaWdodDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgZmxvb2RfbGlnaHRfd2FsbF9yYWRpdXNcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF93YWxsX3JhZGl1c1xcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzQgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZCowLjUpO3ZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O3ZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpIHx8IGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52X25vcm1hbD1ub3JtYWw7XFxuI2VuZGlmXFxuYmFzZT1tYXgoMC4wLGJhc2UpO2Zsb2F0IGF0dHJfaGVpZ2h0PWhlaWdodDtoZWlnaHQ9bWF4KDAuMCx0b3BfdXBfbnkueT09MC4wICYmIHRvcF91cF9ueS54PT0xLjAgPyBoZWlnaHQtdV9lZGdlX3JhZGl1cyA6IGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD0wLjA7ZmxvYXQgY19lbGU9MC4wO3ZlYzMgcG9zO1xcbiNpZmRlZiBURVJSQUlOXFxuYm9vbCBmbGF0X3Jvb2Y9Y2VudHJvaWRfcG9zLnggIT0wLjAgJiYgdCA+IDAuMDtlbGU9ZWxldmF0aW9uKHBvc19ueC54eSk7Y19lbGU9ZmxhdF9yb29mID8gY2VudHJvaWRfcG9zLnk9PTAuMCA/IGVsZXZhdGlvbkZyb21VaW50MTYoY2VudHJvaWRfcG9zLngpIDogZmxhdEVsZXZhdGlvbihjZW50cm9pZF9wb3MpIDogZWxlO2g9ZmxhdF9yb29mID8gbWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApIDogZWxlKyh0ID4gMC4wID8gaGVpZ2h0IDogYmFzZT09MC4wID8tNS4wIDogYmFzZSk7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbHNlXFxuaD10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTtwb3M9dmVjMyhwb3NfbngueHksaCk7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKmgpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHBvcy54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnBvcy56O3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBjdXRvZmY9MS4wO3ZlYzMgc2NhbGVkX3Bvcz1wb3M7XFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG52ZWMzIGNlbnRyb2lkX3JhbmRvbT12ZWMzKGNlbnRyb2lkX3Bvcy54eSxjZW50cm9pZF9wb3MueCtjZW50cm9pZF9wb3MueSsxLjApO3ZlYzMgZ3JvdW5kX3Bvcz1jZW50cm9pZF9wb3MueD09MC4wID8gcG9zLnh5eiA6IChjZW50cm9pZF9yYW5kb20vOC4wKTt2ZWM0IGdyb3VuZD11X21hdHJpeCp2ZWM0KGdyb3VuZF9wb3MueHksZWxlLDEuMCk7Y3V0b2ZmPW1heCgwLjAxLGN1dG9mZl9vcGFjaXR5KHVfY3V0b2ZmX3BhcmFtcyxncm91bmQueikpO2lmIChjZW50cm9pZF9wb3MueSAhPTAuMCAmJiBjZW50cm9pZF9wb3MueCAhPTAuMCkge3ZlYzMgZz1mbG9vcihncm91bmRfcG9zKTt2ZWMzIG1vZF89Y2VudHJvaWRfcmFuZG9tLWcqOC4wO2Zsb2F0IHNlZWQ9bWluKDEuMCwwLjEqKG1pbigzLjUsbWF4KG1vZF8ueCttb2RfLnksMC4yKmF0dHJfaGVpZ2h0KSkqMC4zNSttb2RfLnopKTtpZiAoY3V0b2ZmIDwgMC44LXNlZWQpIHtjdXRvZmY9MC4wO319ZmxvYXQgY3V0b2ZmX3NjYWxlPWN1dG9mZjtzY2FsZWRfcG9zLno9bWl4KGNfZWxlLGgsY3V0b2ZmX3NjYWxlKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoKGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCkgfHwgKGN1dG9mZiA8IDAuMDEgJiYgY2VudHJvaWRfcG9zLnggIT0wLjApKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChzY2FsZWRfcG9zLDEpLEFXQVksaGlkZGVuKTtoPWgtZWxlO3ZfaGVpZ2h0PWg7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBzaGRfcG9zMD1wb3M7dmVjMyBzaGRfcG9zMT1wb3M7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG52ZWMzIG9mZnNldD1zaGFkb3dfbm9ybWFsX29mZnNldChub3JtYWwpO3NoZF9wb3MwKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtzaGRfcG9zMSs9b2Zmc2V0KnNoYWRvd19ub3JtYWxfb2Zmc2V0X211bHRpcGxpZXIxKCk7XFxuI2VuZGlmXFxudl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChzaGRfcG9zMCwxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHNoZF9wb3MxLDEpO1xcbiNlbmRpZlxcbmZsb2F0IE5kb3RMPTAuMDtmbG9hdCBjb2xvcnZhbHVlPTAuMDtcXG4jaWZuZGVmIExJR0hUSU5HXzNEX01PREVcXG5jb2xvcnZhbHVlPWNvbG9yLnIqMC4yMTI2K2NvbG9yLmcqMC43MTUyK2NvbG9yLmIqMC4wNzIyO3ZlYzQgYW1iaWVudGxpZ2h0PXZlYzQoMC4wMywwLjAzLDAuMDMsMS4wKTtjb2xvcis9YW1iaWVudGxpZ2h0O05kb3RMPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7TmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtpZiAobm9ybWFsLnkgIT0wLjApIHtmbG9hdCByPTAuODQ7cj1taXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpO05kb3RMKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksciwxLjApKSk7fVxcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMyKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCk7TmRvdEwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuZmxvYXQgaXNfd2FsbD0xLjAtZmxvYXQodCA+IDAuMCAmJiB0b3BfdXBfbnkueSA+IDAuMCk7dl9oYXNfZmxvb2RsaWdodD1mbG9hdChmbG9vZF9saWdodF93YWxsX3JhZGl1cyA+IDAuMCAmJiBpc193YWxsID4gMC4wKTt2X2Zsb29kX3JhZGl1cz1mbG9vZF9saWdodF93YWxsX3JhZGl1cyp1X3ZlcnRpY2FsX3NjYWxlO1xcbiNlbmRpZlxcbnZfY29sb3I9dmVjNChjb2xvci5yZ2IsMS4wKTt2X2ZsYXQ9dmVjNChsaW5lYXJQcm9kdWN0KGNvbG9yLnJnYix2ZWMzKGNhbGN1bGF0ZV9OZG90TChub3JtYWwpKSksMS4wKTtcXG4jZWxzZVxcbnZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO3ZfY29sb3IucmdiKz1jbGFtcChjb2xvci5yZ2IqTmRvdEwqdV9saWdodGNvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLDEuMC11X2xpZ2h0Y29sb3IpLHZlYzMoMS4wKSk7dl9jb2xvcio9dV9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpICYmICFkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuZmxvYXQgcm9vZk5kb3RMPWNsYW1wKHVfbGlnaHRwb3MueiwwLjAsMS4wKTtyb29mTmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLHJvb2ZOZG90TCk7dl9yb29mX2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2X3Jvb2ZfY29sb3IucmdiKz1jbGFtcChjb2xvci5yZ2Iqcm9vZk5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3Zfcm9vZl9jb2xvcio9dV9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxFeHRydXNpb25EZXB0aDpKbyhcImluIGhpZ2hwIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge1xcbiNpZm5kZWYgREVQVEhfVEVYVFVSRVxcbmdsRnJhZ0NvbG9yPXBhY2tfZGVwdGgodl9kZXB0aCk7XFxuI2VuZGlmXFxufVwiLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO2luIHZlYzQgYV9wb3Nfbm9ybWFsX2VkO2luIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG5vdXQgaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzMgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZC54eXoqMC41KTttZWRpdW1wIHZlYzMgdG9wX3VwX255PWFfcG9zX25vcm1hbF9lZC54eXotMi4wKnBvc19ueDtiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsdG9wX3VwX255Lnk9PTAuMCAmJiB0b3BfdXBfbnkueD09MS4wID8gaGVpZ2h0LXVfZWRnZV9yYWRpdXMgOiBoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG52ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZmxvYXQgZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2Zsb2F0IGNfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtmbG9hdCBoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHBvc19ueC54eSx0ID4gMC4wID8gaGVpZ2h0IDogYmFzZSk7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9JyksZmlsbEV4dHJ1c2lvblBhdHRlcm46Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbztpbiB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5pbiB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbmluIHZlYzIgdl9wb3M7aW4gdmVjNCB2X2xpZ2h0aW5nO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjMiBsb2RfcG9zPW1peChwYXR0ZXJuX3RsL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyL3VfdGV4c2l6ZSx2X3Bvcyk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZUxvZEN1c3RvbSh1X2ltYWdlLHBvcyxsb2RfcG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3Isbm9ybWFsaXplKHZfbm9ybWFsKSkqdV9vcGFjaXR5O1xcbiNlbHNlXFxub3V0X2NvbG9yPW91dF9jb2xvcip2X2xpZ2h0aW5nO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaD1tYXgoMC4wLHZfYW8ueik7ZmxvYXQgaF9mbG9vcnM9aC91X2FvWzFdO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2Zsb2F0IHNoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7ZmxvYXQgeF9zaGFkZT1taXgoMS4wLG1peCgwLjYsMC43NSxtaW4oaF9mbG9vcnMvMzAuMCwxLjApKSxpbnRlbnNpdHkpKzAuMSppbnRlbnNpdHkqbWluKGgsMS4wKTtzaGFkZSo9bWl4KDEuMCx4X3NoYWRlKnhfc2hhZGUqeF9zaGFkZSxjb25jYXZlKTtvdXRfY29sb3IucmdiPW91dF9jb2xvci5yZ2Iqc2hhZGU7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgSU5ESUNBVE9SX0NVVE9VVFxcbm91dF9jb2xvcj1hcHBseUN1dG91dChvdXRfY29sb3IpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO3VuaWZvcm0gbG93cCB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBsb3dwIGZsb2F0IHVfbGlnaHRpbnRlbnNpdHk7aW4gdmVjNCBhX3Bvc19ub3JtYWxfZWQ7aW4gdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX3Bvc18zO2luIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxub3V0IHZlYzIgdl9wb3M7b3V0IHZlYzQgdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87b3V0IHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO2Jhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCxoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7ZmxvYXQgej10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD16O3ZlYzMgcDtmbG9hdCBjX2VsZTtcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3A9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG5wPXZlYzMocG9zX254Lnh5LHopO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSoocC56K2xpZnQpKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwLnh5LHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKSt1X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqcC56O3A9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocCwxKSxBV0FZLGhpZGRlbik7dmVjMiBwb3M9bm9ybWFsLno9PTEuMFxcbj8gcG9zX254Lnh5XFxuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixkaXNwbGF5X3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IE5kb3RMPTAuMDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbk5kb3RMPWNhbGN1bGF0ZV9OZG90TChub3JtYWwpO1xcbiNlbHNlXFxuTmRvdEw9Y2xhbXAoZG90KG5vcm1hbCx1X2xpZ2h0cG9zKSwwLjAsMS4wKTtOZG90TD1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDAuNSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5pZiAobm9ybWFsLnkgIT0wLjApIHtmbG9hdCByPTAuODQ7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxucj1taXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpO1xcbiNlbmRpZlxcbk5kb3RMKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksciwxLjApKSk7fVxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMzKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCxoLWVsZSk7TmRvdEwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudl9ub3JtYWw9bm9ybWFsO1xcbiNlbHNlXFxudl9saWdodGluZy5yZ2IrPWNsYW1wKE5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTtcXG4jZW5kaWYgXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocCk7XFxuI2VuZGlmXFxufScpLGdyb3VuZFNoYWRvdzpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gdmVjMyB1X2dyb3VuZF9zaGFkb3dfZmFjdG9yO2luIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO2luIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO1xcbiNpZmRlZiBGT0dcXG5pbiBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtmbG9hdCBsaWdodD1zaGFkb3dlZF9saWdodF9mYWN0b3Iodl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSwxLjAvZ2xfRnJhZ0Nvb3JkLncpO3ZlYzMgc2hhZG93PW1peCh1X2dyb3VuZF9zaGFkb3dfZmFjdG9yLHZlYzMoMS4wKSxsaWdodCk7XFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5zaGFkb3c9bWl4KHZlYzMoMS4wKSxzaGFkb3csY3V0b2ZmX29wYWNpdHkodV9jdXRvZmZfcGFyYW1zLDEuMC9nbF9GcmFnQ29vcmQudykpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5zaGFkb3c9bWl4KHNoYWRvdyx2ZWMzKDEuMCksdl9mb2dfb3BhY2l0eSk7XFxuI2VuZGlmXFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5zaGFkb3c9bWl4KHNoYWRvdyx2ZWMzKDEuMCksMS4wLWFwcGx5Q3V0b3V0KHZlYzQoMS4wKSkucik7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9dmVjNChzaGFkb3csMS4wKTt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMTtpbiB2ZWMyIGFfcG9zO291dCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtvdXQgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7XFxuI2lmZGVmIEZPR1xcbm91dCBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAuMCwxLjApO3ZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQoYV9wb3MsMC4wLDEuMCk7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChhX3BvcywwLjAsMS4wKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7dl9mb2dfb3BhY2l0eT1mb2codl9mb2dfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdDpKbyhcInVuaWZvcm0gaGlnaHAgZmxvYXQgdV9hb19wYXNzO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZmxvb2RfbGlnaHRfY29sb3I7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2F0dGVudWF0aW9uO3VuaWZvcm0gc2FtcGxlcjJEIHVfZmI7dW5pZm9ybSBmbG9hdCB1X2ZiX3NpemU7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxuaW4gaGlnaHAgdmVjMiB2X3BvcztpbiBoaWdocCB2ZWM0IHZfbGluZV9zZWdtZW50O2luIGhpZ2hwIGZsb2F0IHZfZmxvb2RfbGlnaHRfcmFkaXVzX3RpbGU7aW4gaGlnaHAgdmVjMiB2X2FvO2Zsb2F0IGxpbmVfZGYoaGlnaHAgdmVjMiBhLGhpZ2hwIHZlYzIgYixoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMyIGJhPWItYTtoaWdocCB2ZWMyIHBhPXAtYTtoaWdocCBmbG9hdCByPWNsYW1wKGRvdChwYSxiYSkvZG90KGJhLGJhKSwwLjAsMS4wKTtyZXR1cm4gbGVuZ3RoKHBhLXIqYmEpO31cXG4jaWZkZWYgRk9HXFxuaW4gaGlnaHAgZmxvYXQgdl9mb2c7XFxuI2VuZGlmXFxuI2VuZGlmXFxudm9pZCBtYWluKCkge1xcbiNpZmRlZiBDTEVBUl9TVUJQQVNTXFxudmVjNCBjb2xvcj12ZWM0KDEuMCk7XFxuI2lmZGVmIENMRUFSX0ZST01fVEVYVFVSRVxcbmNvbG9yPXRleHR1cmUodV9mYixnbF9GcmFnQ29vcmQueHkvdmVjMih1X2ZiX3NpemUpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jZWxzZVxcbiNpZmRlZiBTREZfU1VCUEFTU1xcbmhpZ2hwIGZsb2F0IGQ9bGluZV9kZih2X2xpbmVfc2VnbWVudC54eSx2X2xpbmVfc2VnbWVudC56dyx2X3Bvcyk7aGlnaHAgZmxvYXQgZWZmZWN0X3JhZGl1cz1taXgodl9mbG9vZF9saWdodF9yYWRpdXNfdGlsZSx2X2FvLnksdV9hb19wYXNzKTtkLz1lZmZlY3RfcmFkaXVzO2Q9bWluKGQsMS4wKTtkPTEuMC1wb3coMS4wLWQsdV9hdHRlbnVhdGlvbik7aGlnaHAgZmxvYXQgZWZmZWN0X2ludGVuc2l0eT1taXgodV9mbG9vZF9saWdodF9pbnRlbnNpdHksdl9hby54LHVfYW9fcGFzcyk7aGlnaHAgZmxvYXQgZm9nPTEuMDtcXG4jaWZkZWYgRk9HXFxuZm9nPXZfZm9nO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZm9nKj12X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPXZlYzQodmVjMygwLjApLG1peCgxLjAsZCxlZmZlY3RfaW50ZW5zaXR5KnVfb3BhY2l0eSpmb2cpKTtcXG4jZWxzZVxcbnZlYzQgY29sb3I9bWl4KHZlYzQodV9mbG9vZF9saWdodF9jb2xvciwxLjApLHZlYzQodmVjMygwLjApLDEuMCksdV9hb19wYXNzKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuY29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPWNvbG9yO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7XFxuI2VuZGlmXFxufVwiLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuaW4gaGlnaHAgdmVjNCBhX3Bvc19lbmQ7aW4gaGlnaHAgZmxvYXQgYV9hbmd1bGFyX29mZnNldF9mYWN0b3I7aW4gaGlnaHAgZmxvYXQgYV9oaWRkZW5fYnlfbGFuZG1hcms7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxub3V0IGhpZ2hwIHZlYzIgdl9wb3M7b3V0IGhpZ2hwIHZlYzQgdl9saW5lX3NlZ21lbnQ7b3V0IGhpZ2hwIGZsb2F0IHZfZmxvb2RfbGlnaHRfcmFkaXVzX3RpbGU7b3V0IGhpZ2hwIHZlYzIgdl9hbztcXG4jaWZkZWYgRk9HXFxub3V0IGhpZ2hwIGZsb2F0IHZfZm9nO1xcbiNlbmRpZlxcbiNlbmRpZlxcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hb19wYXNzO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9tZXRlcl90b190aWxlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9lZGdlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV9hbztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGZsb29kX2xpZ2h0X2dyb3VuZF9yYWRpdXNcXG5jb25zdCBmbG9hdCBUQU5HRU5UX0NVVE9GRj00LjA7Y29uc3QgZmxvYXQgTk9STT0zMjc2Ny4wO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzXFxudmVjMiBwPWFfcG9zX2VuZC54eTt2ZWMyIHE9Zmxvb3IoYV9wb3NfZW5kLnp3KjAuNSk7dmVjMiBzdGFydF9ib3R0b209YV9wb3NfZW5kLnp3LXEqMi4wO2Zsb2F0IGZsX2dyb3VuZF9yYWRpdXM9Zmxvb2RfbGlnaHRfZ3JvdW5kX3JhZGl1cztmbF9ncm91bmRfcmFkaXVzPWFicyhmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzKTtmbG9hdCBkaXJlY3Rpb249Zmxvb2RfbGlnaHRfZ3JvdW5kX3JhZGl1cyA8IDAuMCA/LTEuMCA6IDEuMDtmbG9hdCBmbG9vZF9yYWRpdXNfdGlsZT1mbF9ncm91bmRfcmFkaXVzKnVfbWV0ZXJfdG9fdGlsZTt2ZWMyIHY9bm9ybWFsaXplKHEtcCk7ZmxvYXQgYW9fcmFkaXVzPXVfYW8ueS8zLjU7ZmxvYXQgZWZmZWN0X3JhZGl1cz1taXgoZmxvb2RfcmFkaXVzX3RpbGUsYW9fcmFkaXVzLHVfYW9fcGFzcykrdV9lZGdlX3JhZGl1cztmbG9hdCBhbmd1bGFyX29mZnNldF9mYWN0b3I9YV9hbmd1bGFyX29mZnNldF9mYWN0b3IvTk9STSpUQU5HRU5UX0NVVE9GRjtmbG9hdCBhbmd1bGFyX29mZnNldD1kaXJlY3Rpb24qYW5ndWxhcl9vZmZzZXRfZmFjdG9yKmVmZmVjdF9yYWRpdXM7ZmxvYXQgdG9wPTEuMC1zdGFydF9ib3R0b20ueTtmbG9hdCBzaWRlPSgwLjUtc3RhcnRfYm90dG9tLngpKjIuMDt2ZWMyIGV4dHJ1c2lvbl9wYXJhbGxlbD12KnNpZGUqbWl4KDEuMCxhbmd1bGFyX29mZnNldCx0b3ApO3ZlYzIgcGVycD12ZWMyKHYueSwtdi54KTt2ZWMyIGV4dHJ1c2lvbl9wZXJwPWRpcmVjdGlvbipwZXJwKmVmZmVjdF9yYWRpdXMqdG9wO3ZlYzMgcG9zPXZlYzMobWl4KHEscCxzdGFydF9ib3R0b20ueCksMC4wKTtwb3MueHkrPWV4dHJ1c2lvbl9wYXJhbGxlbCtleHRydXNpb25fcGVycDtcXG4jaWZkZWYgU0RGX1NVQlBBU1NcXG52X3Bvcz1wb3MueHk7dl9saW5lX3NlZ21lbnQ9dmVjNChwLHEpK3BlcnAueHl4eSp1X2VkZ2VfcmFkaXVzO3ZfZmxvb2RfbGlnaHRfcmFkaXVzX3RpbGU9Zmxvb2RfcmFkaXVzX3RpbGU7dl9hbz12ZWMyKHVfYW8ueCxhb19yYWRpdXMpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7dl9mb2c9MS4wLWZvZyh2X2ZvZ19wb3MpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IGhpZGRlbl9ieV9sYW5kbWFyaz0wLjA7XFxuI2lmZGVmIEhBU19DRU5UUk9JRFxcbmhpZGRlbl9ieV9sYW5kbWFyaz1hX2hpZGRlbl9ieV9sYW5kbWFyaztcXG4jZW5kaWZcXG5mbG9hdCBpc0Zsb29kbGl0PWZsb2F0KGZsX2dyb3VuZF9yYWRpdXMgPiAwLjAgJiYgdV9mbG9vZF9saWdodF9pbnRlbnNpdHkgPiAwLjApO2Zsb2F0IGhpZGRlbj1taXgoMS4wLWlzRmxvb2RsaXQsaXNGbG9vZGxpdCx1X2FvX3Bhc3MpO2hpZGRlbis9aGlkZGVuX2J5X2xhbmRtYXJrO2dsX1Bvc2l0aW9uPW1peCh1X21hdHJpeCp2ZWM0KHBvcywxLjApLEFXQVksZmxvYXQoaGlkZGVuID4gMC4wKSk7XFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG52X2N1dG9mZl9vcGFjaXR5PWN1dG9mZl9vcGFjaXR5KHVfY3V0b2ZmX3BhcmFtcyxnbF9Qb3NpdGlvbi56KTtcXG4jZW5kaWZcXG59JyksaGlsbHNoYWRlUHJlcGFyZTpKbyhcInByZWNpc2lvbiBoaWdocCBmbG9hdDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO2luIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO2Zsb2F0IGdldEVsZXZhdGlvbih2ZWMyIGNvb3JkKSB7cmV0dXJuIHRleHR1cmUodV9pbWFnZSxjb29yZCkuci80LjA7fXZvaWQgbWFpbigpIHt2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IGE9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgYj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigwLC1lcHNpbG9uLnkpKTtmbG9hdCBjPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgZD1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LDApKTtmbG9hdCBlPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwwKSk7ZmxvYXQgZj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGc9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpKTtmbG9hdCBoPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBleGFnZ2VyYXRpb25GYWN0b3I9dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMTUuMCA/ICh1X3pvb20tMTUuMCkqZXhhZ2dlcmF0aW9uRmFjdG9yIDogMC4wO3ZlYzIgZGVyaXY9dmVjMihcXG4oYytlK2UraCktKGErZCtkK2YpLChmK2crZytoKS0oYStiK2IrYylcXG4pL3BvdygyLjAsZXhhZ2dlcmF0aW9uKygxOS4yNTYyLXVfem9vbSkpO2dsRnJhZ0NvbG9yPWNsYW1wKHZlYzQoXFxuZGVyaXYueC8yLjArMC41LGRlcml2LnkvMi4wKzAuNSwxLjAsMS4wKSwwLjAsMS4wKTt9XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO2luIHZlYzIgYV9wb3M7aW4gdmVjMiBhX3RleHR1cmVfcG9zO291dCB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgdmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBzY2FsZT0odV9kaW1lbnNpb24ueC0yLjApL3VfZGltZW5zaW9uLng7dl9wb3M9KGFfdGV4dHVyZV9wb3MvODE5Mi4wKSpzY2FsZStlcHNpbG9uO31cIiksaGlsbHNoYWRlOkpvKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7aW4gdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9sYXRyYW5nZTt1bmlmb3JtIHZlYzIgdV9saWdodDt1bmlmb3JtIHZlYzQgdV9zaGFkb3c7dW5pZm9ybSB2ZWM0IHVfaGlnaGxpZ2h0O3VuaWZvcm0gdmVjNCB1X2FjY2VudDt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dm9pZCBtYWluKCkge3ZlYzQgcGl4ZWw9dGV4dHVyZSh1X2ltYWdlLHZfcG9zKTt2ZWMyIGRlcml2PSgocGl4ZWwucmcqMi4wKS0xLjApO2Zsb2F0IHNjYWxlRmFjdG9yPWNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdLXVfbGF0cmFuZ2VbMV0pKigxLjAtdl9wb3MueSkrdV9sYXRyYW5nZVsxXSkpO2Zsb2F0IHNsb3BlPWF0YW4oMS4yNSpsZW5ndGgoZGVyaXYpL3NjYWxlRmFjdG9yKTtmbG9hdCBhc3BlY3Q9ZGVyaXYueCAhPTAuMCA/IGF0YW4oZGVyaXYueSwtZGVyaXYueCkgOiBQSS8yLjAqKGRlcml2LnkgPiAwLjAgPyAxLjAgOi0xLjApO2Zsb2F0IGludGVuc2l0eT11X2xpZ2h0Lng7ZmxvYXQgYXppbXV0aD11X2xpZ2h0LnkrUEk7ZmxvYXQgYmFzZT0xLjg3NS1pbnRlbnNpdHkqMS43NTtmbG9hdCBtYXhWYWx1ZT0wLjUqUEk7ZmxvYXQgc2NhbGVkU2xvcGU9aW50ZW5zaXR5ICE9MC41ID8gKChwb3coYmFzZSxzbG9wZSktMS4wKS8ocG93KGJhc2UsbWF4VmFsdWUpLTEuMCkpKm1heFZhbHVlIDogc2xvcGU7ZmxvYXQgYWNjZW50PWNvcyhzY2FsZWRTbG9wZSk7dmVjNCBhY2NlbnRfY29sb3I9KDEuMC1hY2NlbnQpKnVfYWNjZW50KmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7ZmxvYXQgc2hhZGU9YWJzKG1vZCgoYXNwZWN0K2F6aW11dGgpL1BJKzAuNSwyLjApLTEuMCk7dmVjNCBzaGFkZV9jb2xvcj1taXgodV9zaGFkb3csdV9oaWdobGlnaHQsc2hhZGUpKnNpbihzY2FsZWRTbG9wZSkqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtnbEZyYWdDb2xvcj1hY2NlbnRfY29sb3IqKDEuMC1zaGFkZV9jb2xvci5hKStzaGFkZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmdsRnJhZ0NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKGdsRnJhZ0NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5nbEZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsRnJhZ0NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDtpbiB2ZWMyIGFfcG9zO2luIHZlYzIgYV90ZXh0dXJlX3BvcztvdXQgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWFfdGV4dHVyZV9wb3MvODE5Mi4wO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksbGluZTpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBmbG9hdCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkO3VuaWZvcm0gaGlnaHAgdmVjMiB1X3RyaW1fb2Zmc2V0O2luIHZlYzIgdl93aWR0aDI7aW4gdmVjMiB2X25vcm1hbDtpbiBmbG9hdCB2X2dhbW1hX3NjYWxlO2luIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGFzaF9pbWFnZTtpbiB2ZWMyIHZfdGV4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxuZmxvYXQgbHVtaW5hbmNlKHZlYzMgYykge3JldHVybiAoYy5yK2MucitjLmIrYy5nK2MuZytjLmcpKjAuMTY2Nzt9dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYm9yZGVyX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgYm9yZGVyX2NvbG9yXFxuZmxvYXQgbGluZWFyc3RlcChmbG9hdCBlZGdlMCxmbG9hdCBlZGdlMSxmbG9hdCB4KSB7cmV0dXJuICBjbGFtcCgoeC1lZGdlMCkvKGVkZ2UxLWVkZ2UwKSwwLjAsMS4wKTt9dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYm9yZGVyX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHNkZmRpc3Q9dGV4dHVyZSh1X2Rhc2hfaW1hZ2Usdl90ZXgpLnI7ZmxvYXQgc2RmZ2FtbWE9MS4wLygyLjAqdV9kZXZpY2VfcGl4ZWxfcmF0aW8pL2Rhc2guejthbHBoYSo9bGluZWFyc3RlcCgwLjUtc2RmZ2FtbWEvZmxvb3J3aWR0aCwwLjUrc2RmZ2FtbWEvZmxvb3J3aWR0aCxzZGZkaXN0KTtcXG4jZW5kaWZcXG5oaWdocCB2ZWM0IG91dF9jb2xvcjtcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5vdXRfY29sb3I9dGV4dHVyZSh1X2dyYWRpZW50X2ltYWdlLHZfdXYueHkpO1xcbiNlbHNlXFxub3V0X2NvbG9yPWNvbG9yO1xcbiNlbmRpZlxcbmZsb2F0IHRyaW1tZWQ9MS4wO1xcbiNpZmRlZiBSRU5ERVJfTElORV9UUklNX09GRlNFVFxcbmhpZ2hwIGZsb2F0IHN0YXJ0PXZfdXZbMl07aGlnaHAgZmxvYXQgZW5kPXZfdXZbM107aGlnaHAgZmxvYXQgdHJpbV9zdGFydD11X3RyaW1fb2Zmc2V0WzBdO2hpZ2hwIGZsb2F0IHRyaW1fZW5kPXVfdHJpbV9vZmZzZXRbMV07aGlnaHAgZmxvYXQgbGluZV9wcm9ncmVzcz0oc3RhcnQrKHZfdXYueCkqKGVuZC1zdGFydCkpO2lmICh0cmltX2VuZCA+IHRyaW1fc3RhcnQpIHtpZiAobGluZV9wcm9ncmVzcyA8PXRyaW1fZW5kICYmIGxpbmVfcHJvZ3Jlc3MgPj10cmltX3N0YXJ0KSB7b3V0X2NvbG9yPXZlYzQoMCwwLDAsMCk7dHJpbW1lZD0wLjA7fX1cXG4jZW5kaWZcXG5pZiAodV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCAhPTAuMCkge2lmIChhbHBoYSA8IHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQpIHtkaXNjYXJkO319XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0JPUkRFUlxcbmZsb2F0IGVkZ2VCbHVyPShib3JkZXJfd2lkdGgrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKTtmbG9hdCBhbHBoYTI9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtZWRnZUJsdXIpLHZfd2lkdGgyLnMtZGlzdCkvZWRnZUJsdXIsMC4wLDEuMCk7aWYgKGFscGhhMiA8IDEuKSB7ZmxvYXQgc21vb3RoQWxwaGE9c21vb3Roc3RlcCgwLjYsMS4wLGFscGhhMik7aWYgKGJvcmRlcl9jb2xvci5hPT0wLjApIHsgICAgXFxuZmxvYXQgWT0ob3V0X2NvbG9yLmEgPiAwLjAxKSA/IGx1bWluYW5jZShvdXRfY29sb3IucmdiL291dF9jb2xvci5hKSA6IDEuO2Zsb2F0IGFkanVzdG1lbnQ9KFkgPiAwLikgPyAwLjUvWSA6IDAuNDU7aWYgKG91dF9jb2xvci5hID4gMC4yNSAmJiBZIDwgMC4yNSkge3ZlYzMgYm9yZGVyQ29sb3I9KFkgPiAwLikgPyBvdXRfY29sb3IucmdiIDogdmVjMygxLDEsMSkqb3V0X2NvbG9yLmE7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiK2JvcmRlckNvbG9yKihhZGp1c3RtZW50KigxLjAtc21vb3RoQWxwaGEpKTt9IGVsc2Uge291dF9jb2xvci5yZ2IqPSgwLjYgKzAuNCpzbW9vdGhBbHBoYSk7fX0gZWxzZSB7b3V0X2NvbG9yLnJnYj1taXgoYm9yZGVyX2NvbG9yLnJnYipib3JkZXJfY29sb3IuYSp0cmltbWVkLG91dF9jb2xvci5yZ2Isc21vb3RoQWxwaGEpO319XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxub3V0X2NvbG9yKj0oYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5vdXRfY29sb3I9YXBwbHlDdXRvdXQob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2RlZmluZSBFWFRSVURFX1NDQUxFIDAuMDE1ODczMDE2XFxuaW4gdmVjMiBhX3Bvc19ub3JtYWw7aW4gdmVjNCBhX2RhdGE7XFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuaW4gaGlnaHAgdmVjNCBhX3BhY2tlZDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmluIGZsb2F0IGFfbGluZXNvZmFyO1xcbiNlbmRpZlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO291dCB2ZWMyIHZfbm9ybWFsO291dCB2ZWMyIHZfd2lkdGgyO291dCBmbG9hdCB2X2dhbW1hX3NjYWxlO291dCBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVscztvdXQgdmVjMiB2X3RleDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIGZsb2F0IHVfaW1hZ2VfaGVpZ2h0O1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJvcmRlcl93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBib3JkZXJfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgYm9yZGVyX2NvbG9yXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5mbG9hdCBhX3V2X3g9YV9wYWNrZWRbMF07ZmxvYXQgYV9zcGxpdF9pbmRleD1hX3BhY2tlZFsxXTtoaWdocCBmbG9hdCBhX2NsaXBfc3RhcnQ9YV9wYWNrZWRbMl07aGlnaHAgZmxvYXQgYV9jbGlwX2VuZD1hX3BhY2tlZFszXTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5oaWdocCBmbG9hdCB0ZXhlbF9oZWlnaHQ9MS4wL3VfaW1hZ2VfaGVpZ2h0O2hpZ2hwIGZsb2F0IGhhbGZfdGV4ZWxfaGVpZ2h0PTAuNSp0ZXhlbF9oZWlnaHQ7dl91dj12ZWM0KGFfdXZfeCxhX3NwbGl0X2luZGV4KnRleGVsX2hlaWdodC1oYWxmX3RleGVsX2hlaWdodCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2Vsc2VcXG52X3V2PXZlYzQoYV91dl94LDAuMCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5mbG9hdCBzY2FsZT1kYXNoLno9PTAuMCA/IDAuMCA6IHVfdGlsZV91bml0c190b19waXhlbHMvZGFzaC56O2Zsb2F0IGhlaWdodD1kYXNoLnk7dl90ZXg9dmVjMihhX2xpbmVzb2ZhcipzY2FsZS9mbG9vcndpZHRoLCgtbm9ybWFsLnkqaGVpZ2h0K2Rhc2gueCswLjUpL3VfdGV4c2l6ZS55KTtcXG4jZW5kaWZcXG52X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59JyksbGluZVBhdHRlcm46Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gaGlnaHAgdmVjMiB1X3RyaW1fb2Zmc2V0O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7aW4gdmVjMiB2X25vcm1hbDtpbiB2ZWMyIHZfd2lkdGgyO2luIGZsb2F0IHZfbGluZXNvZmFyO2luIGZsb2F0IHZfZ2FtbWFfc2NhbGU7aW4gZmxvYXQgdl93aWR0aDtcXG4jaWZkZWYgUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcXG5pbiBoaWdocCB2ZWM0IHZfdXY7XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87dmVjMiBwYXR0ZXJuX3NpemU9dmVjMihkaXNwbGF5X3NpemUueC91X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGRpc3BsYXlfc2l6ZS55KTtmbG9hdCBhc3BlY3Q9ZGlzcGxheV9zaXplLnkvdl93aWR0aDtmbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgcGF0dGVybl94PXZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZS54KmFzcGVjdDtmbG9hdCB4PW1vZChwYXR0ZXJuX3gsMS4wKTtmbG9hdCB5PTAuNSp2X25vcm1hbC55KzAuNTt2ZWMyIHRleGVsX3NpemU9MS4wL3VfdGV4c2l6ZTt2ZWMyIHBvcz1taXgocGF0dGVybl90bCp0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icip0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4LHkpKTt2ZWMyIGxvZF9wb3M9bWl4KHBhdHRlcm5fdGwqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnIqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIocGF0dGVybl94LHkpKTt2ZWM0IGNvbG9yPXRleHR1cmVMb2RDdXN0b20odV9pbWFnZSxwb3MsbG9kX3Bvcyk7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXFxuaGlnaHAgZmxvYXQgc3RhcnQ9dl91dlsyXTtoaWdocCBmbG9hdCBlbmQ9dl91dlszXTtoaWdocCBmbG9hdCB0cmltX3N0YXJ0PXVfdHJpbV9vZmZzZXRbMF07aGlnaHAgZmxvYXQgdHJpbV9lbmQ9dV90cmltX29mZnNldFsxXTtoaWdocCBmbG9hdCBsaW5lX3Byb2dyZXNzPShzdGFydCsodl91di54KSooZW5kLXN0YXJ0KSk7aWYgKHRyaW1fZW5kID4gdHJpbV9zdGFydCkge2lmIChsaW5lX3Byb2dyZXNzIDw9dHJpbV9lbmQgJiYgbGluZV9wcm9ncmVzcyA+PXRyaW1fc3RhcnQpIHtjb2xvcj12ZWM0KDAsMCwwLDApO319XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5jb2xvcj1hcHBseV9saWdodGluZ19ncm91bmQoY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmNvbG9yKj0oYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5jb2xvcj1hcHBseUN1dG91dChjb2xvcik7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcbmluIHZlYzIgYV9wb3Nfbm9ybWFsO2luIHZlYzQgYV9kYXRhO1xcbiNpZmRlZiBSRU5ERVJfTElORV9UUklNX09GRlNFVFxcbmluIGhpZ2hwIHZlYzQgYV9wYWNrZWQ7XFxuI2VuZGlmXFxuaW4gZmxvYXQgYV9saW5lc29mYXI7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87b3V0IHZlYzIgdl9ub3JtYWw7b3V0IHZlYzIgdl93aWR0aDI7b3V0IGZsb2F0IHZfbGluZXNvZmFyO291dCBmbG9hdCB2X2dhbW1hX3NjYWxlO291dCBmbG9hdCB2X3dpZHRoO1xcbiNpZmRlZiBSRU5ERVJfTElORV9UUklNX09GRlNFVFxcbm91dCBoaWdocCB2ZWM0IHZfdXY7XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcXG5mbG9hdCBhX3V2X3g9YV9wYWNrZWRbMF07aGlnaHAgZmxvYXQgYV9jbGlwX3N0YXJ0PWFfcGFja2VkWzJdO2hpZ2hwIGZsb2F0IGFfY2xpcF9lbmQ9YV9wYWNrZWRbM107dl91dj12ZWM0KGFfdXZfeCwwLjAsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbmRpZlxcbnZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59JykscmFzdGVyOkpvKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfcmFzdGVyX2FycmF5Lmdsc2xcIlxcbnVuaWZvcm0gZmxvYXQgdV9mYWRlX3Q7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3Jhc3Rlcl9lbGV2YXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjtpbiB2ZWMyIHZfcG9zMDtpbiB2ZWMyIHZfcG9zMTtpbiBmbG9hdCB2X2RlcHRoO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiBmbG9hdCB2X3NwbGl0X2ZhZGU7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7dW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO3VuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDtcXG4jaWZuZGVmIFJBU1RFUl9BUlJBWVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UxO1xcbiNlbmRpZlxcbiNpZmRlZiBSQVNURVJfQ09MT1JcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3JpemF0aW9uX21peDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY29sb3JpemF0aW9uX29mZnNldDt1bmlmb3JtIHZlYzIgdV90ZXh0dXJlX3JlcztcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcjAsY29sb3IxLGNvbG9yO3ZlYzIgdmFsdWU7XFxuI2lmZGVmIFJBU1RFUl9DT0xPUlxcbiNpZmRlZiBSQVNURVJfQVJSQVlcXG4jaWZkZWYgUkFTVEVSX0FSUkFZX0xJTkVBUlxcbnZhbHVlPW1peChcXG5yYVRleHR1cmUyRF9pbWFnZTBfbGluZWFyKHZfcG9zMCx1X3RleHR1cmVfcmVzLHVfY29sb3JpemF0aW9uX21peCx1X2NvbG9yaXphdGlvbl9vZmZzZXQpLHJhVGV4dHVyZTJEX2ltYWdlMV9saW5lYXIodl9wb3MxLHVfdGV4dHVyZV9yZXMsdV9jb2xvcml6YXRpb25fbWl4LHVfY29sb3JpemF0aW9uX29mZnNldCksdV9mYWRlX3RcXG4pO1xcbiNlbHNlXFxudmFsdWU9bWl4KFxcbnJhVGV4dHVyZTJEX2ltYWdlMF9uZWFyZXN0KHZfcG9zMCx1X3RleHR1cmVfcmVzLHVfY29sb3JpemF0aW9uX21peCx1X2NvbG9yaXphdGlvbl9vZmZzZXQpLHJhVGV4dHVyZTJEX2ltYWdlMV9uZWFyZXN0KHZfcG9zMSx1X3RleHR1cmVfcmVzLHVfY29sb3JpemF0aW9uX21peCx1X2NvbG9yaXphdGlvbl9vZmZzZXQpLHVfZmFkZV90XFxuKTtcXG4jZW5kaWZcXG5pZiAodmFsdWUueSA+IDAuMCkgdmFsdWUueC89dmFsdWUueTtcXG4jZWxzZVxcbmNvbG9yPW1peCh0ZXh0dXJlKHVfaW1hZ2UwLHZfcG9zMCksdGV4dHVyZSh1X2ltYWdlMSx2X3BvczEpLHVfZmFkZV90KTt2YWx1ZT12ZWMyKHVfY29sb3JpemF0aW9uX29mZnNldCtkb3QoY29sb3IucmdiLHVfY29sb3JpemF0aW9uX21peC5yZ2IpLGNvbG9yLmEpO1xcbiNlbmRpZlxcbmNvbG9yPXRleHR1cmUodV9jb2xvcl9yYW1wLHZlYzIodmFsdWUueCwwLjUpKTtpZiAoY29sb3IuYSA+IDAuMCkgY29sb3IucmdiLz1jb2xvci5hO2NvbG9yLmEqPXZhbHVlLnk7XFxuI2Vsc2VcXG5jb2xvcjA9dGV4dHVyZSh1X2ltYWdlMCx2X3BvczApO2NvbG9yMT10ZXh0dXJlKHVfaW1hZ2UxLHZfcG9zMSk7aWYgKGNvbG9yMC5hID4gMC4wKSBjb2xvcjAucmdiLz1jb2xvcjAuYTtpZiAoY29sb3IxLmEgPiAwLjApIGNvbG9yMS5yZ2IvPWNvbG9yMS5hO2NvbG9yPW1peChjb2xvcjAsY29sb3IxLHVfZmFkZV90KTtcXG4jZW5kaWZcXG5jb2xvci5hKj11X29wYWNpdHk7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuY29sb3IuYSo9MS4wLXNtb290aHN0ZXAoMC4wLDAuMDUsdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbnZlYzMgcmdiPWNvbG9yLnJnYjtyZ2I9dmVjMyhcXG5kb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnh5eiksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy56eHkpLGRvdChyZ2IsdV9zcGluX3dlaWdodHMueXp4KSk7ZmxvYXQgYXZlcmFnZT0oY29sb3Iucitjb2xvci5nK2NvbG9yLmIpLzMuMDtyZ2IrPShhdmVyYWdlLXJnYikqdV9zYXR1cmF0aW9uX2ZhY3RvcjtyZ2I9KHJnYi0wLjUpKnVfY29udHJhc3RfZmFjdG9yKzAuNTt2ZWMzIHVfaGlnaF92ZWM9dmVjMyh1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyk7dmVjMyB1X2xvd192ZWM9dmVjMyh1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCk7dmVjMyBvdXRfY29sb3I9bWl4KHVfaGlnaF92ZWMsdV9sb3dfdmVjLHJnYik7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQodmVjNChvdXRfY29sb3IsMS4wKSx1X2VtaXNzaXZlX3N0cmVuZ3RoKS5yZ2I7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmhpZ2hwIGZsb2F0IGZvZ19saW1pdF9oaWdoX21ldGVycz0xMDAwMDAwLjA7aGlnaHAgZmxvYXQgZm9nX2xpbWl0X2xvd19tZXRlcnM9NjAwMDAwLjA7ZmxvYXQgZm9nX2xpbWl0PTEuMC1zbW9vdGhzdGVwKGZvZ19saW1pdF9sb3dfbWV0ZXJzLGZvZ19saW1pdF9oaWdoX21ldGVycyx1X3Jhc3Rlcl9lbGV2YXRpb24pO291dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseShvdXRfY29sb3Isdl9mb2dfcG9zLGZvZ19saW1pdCkpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPXZlYzQob3V0X2NvbG9yKmNvbG9yLmEsY29sb3IuYSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsRnJhZ0NvbG9yKj1taXgoMS4wLDEuMC1zbW9vdGhzdGVwKDAuMCwwLjA1LHVfem9vbV90cmFuc2l0aW9uKSxzbW9vdGhzdGVwKDAuOCwwLjksdl9zcGxpdF9mYWRlKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5nbEZyYWdDb2xvcj1nbEZyYWdDb2xvcipjdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X25vcm1hbGl6ZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfZ2xvYmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X21lcmNfbWF0cml4O3VuaWZvcm0gbWF0MyB1X2dyaWRfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O3VuaWZvcm0gdmVjMiB1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTt1bmlmb3JtIHZlYzIgdV90ZXh0dXJlX29mZnNldDt1bmlmb3JtIGZsb2F0IHVfcmFzdGVyX2VsZXZhdGlvbjt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO1xcbiNkZWZpbmUgR0xPQkVfVVBTQ0FMRSBHTE9CRV9SQURJVVMvNjM3MTAwOC44XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuaW4gdmVjMyBhX2dsb2JlX3BvcztpbiB2ZWMyIGFfdXY7XFxuI2Vsc2VcXG5pbiB2ZWMyIGFfcG9zO2luIHZlYzIgYV90ZXh0dXJlX3BvcztcXG4jZW5kaWZcXG5vdXQgdmVjMiB2X3BvczA7b3V0IHZlYzIgdl9wb3MxO291dCBmbG9hdCB2X2RlcHRoO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5vdXQgZmxvYXQgdl9zcGxpdF9mYWRlO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWMyIHV2O1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgZ2xvYmVfcG9zPWFfZ2xvYmVfcG9zO2dsb2JlX3Bvcys9bm9ybWFsaXplKGdsb2JlX3BvcykqdV9yYXN0ZXJfZWxldmF0aW9uKkdMT0JFX1VQU0NBTEU7Z2xfUG9zaXRpb249dV9tYXRyaXgqdV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MgICAsMS4wKTt1dj1hX3V2O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKCh1X25vcm1hbGl6ZV9tYXRyaXgqdmVjNChhX2dsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgdz0xLjArZG90KGFfdGV4dHVyZV9wb3MsdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0pO3V2PWFfdGV4dHVyZV9wb3MvODE5Mi4wO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRlY29tcG9zZWRfcG9zX2FuZF9za2lydD1kZWNvbXBvc2VUb1Bvc0FuZFNraXJ0KGFfcG9zKTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0Lnh5LDEuMCk7dmVjMyBnbG9iZV9wb3M9bGF0TG5nVG9FQ0VGKGxhdExuZy54eSk7Z2xvYmVfcG9zKz1ub3JtYWxpemUoZ2xvYmVfcG9zKSp1X3Jhc3Rlcl9lbGV2YXRpb24qR0xPQkVfVVBTQ0FMRTt2ZWM0IGdsb2JlX3dvcmxkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO3ZlYzQgbWVyY193b3JsZF9wb3M9dmVjNCgwLjApO2Zsb2F0IG1lcmNhdG9yWT1tZXJjYXRvcllmcm9tTGF0KGxhdExuZ1swXSk7ZmxvYXQgbWVyY2F0b3JYPW1lcmNhdG9yWGZyb21MbmcobGF0TG5nWzFdKTsgICAgXFxudl9zcGxpdF9mYWRlPTAuMDtpZiAodV96b29tX3RyYW5zaXRpb24gPiAwLjApIHt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3Bvcyx1X3Jhc3Rlcl9lbGV2YXRpb24sMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3BvcztmbG9hdCBvcHBvc2l0ZV9tZXJjX2NlbnRlcj1tb2QodV9tZXJjX2NlbnRlci54KzAuNSwxLjApO2Zsb2F0IGRpc3RfZnJvbV9wb2xlcz0oYWJzKG1lcmNhdG9yWS0wLjUpKjIuMCk7ZmxvYXQgcmFuZ2U9MC4xO3Zfc3BsaXRfZmFkZT1hYnMob3Bwb3NpdGVfbWVyY19jZW50ZXItbWVyY2F0b3JYKTt2X3NwbGl0X2ZhZGU9Y2xhbXAoMS4wLXZfc3BsaXRfZmFkZSwwLjAsMS4wKTt2X3NwbGl0X2ZhZGU9bWF4KHNtb290aHN0ZXAoMS4wLXJhbmdlLDEuMCxkaXN0X2Zyb21fcG9sZXMpLG1heChzbW9vdGhzdGVwKDEuMC1yYW5nZSwxLjAsdl9zcGxpdF9mYWRlKSxzbW9vdGhzdGVwKDEuMC1yYW5nZSwxLjAsMS4wLXZfc3BsaXRfZmFkZSkpKTt9ZmxvYXQgdGlsZXM9dV9ncmlkX21hdHJpeFswXVsyXTtpZiAodGlsZXMgPiAwLjApIHtmbG9hdCBpZHg9dV9ncmlkX21hdHJpeFsxXVsyXTtmbG9hdCBpZHk9dV9ncmlkX21hdHJpeFsyXVsyXTtmbG9hdCB1dlk9bWVyY2F0b3JZKnRpbGVzLWlkeTtmbG9hdCB1dlg9bWVyY2F0b3JYKnRpbGVzLWlkeDt1dj12ZWMyKHV2WCx1dlkpO312ZWM0IGludGVycG9sYXRlZF9wb3M9dmVjNChtaXgoZ2xvYmVfd29ybGRfcG9zLnh5eixtZXJjX3dvcmxkX3Bvcy54eXosdV96b29tX3RyYW5zaXRpb24pKncsdyk7Z2xfUG9zaXRpb249dV9tYXRyaXgqaW50ZXJwb2xhdGVkX3BvcztcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbigodV9ub3JtYWxpemVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCkpLnh5eik7XFxuI2VuZGlmXFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKncsdV9yYXN0ZXJfZWxldmF0aW9uKncsdyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNlbmRpZlxcbnZfcG9zMD11djt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7dl9wb3MwPXVfdGV4dHVyZV9vZmZzZXQueCt1X3RleHR1cmVfb2Zmc2V0Lnkqdl9wb3MwO3ZfcG9zMT11X3RleHR1cmVfb2Zmc2V0LngrdV90ZXh0dXJlX29mZnNldC55KnZfcG9zMTtcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbnZfZGVwdGg9Z2xfUG9zaXRpb24uejtcXG4jZW5kaWZcXG59JykscmFzdGVyUGFydGljbGU6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfcmFzdGVyX2VsZXZhdGlvbjtpbiB2ZWMyIHZfcG9zMDtpbiB2ZWMyIHZfcG9zMTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcjAsY29sb3IxLGNvbG9yO2NvbG9yMD10ZXh0dXJlKHVfaW1hZ2UwLHZfcG9zMCk7Y29sb3IxPXRleHR1cmUodV9pbWFnZTEsdl9wb3MxKTtpZiAoY29sb3IwLmEgPiAwLjApIGNvbG9yMC5yZ2IvPWNvbG9yMC5hO2lmIChjb2xvcjEuYSA+IDAuMCkgY29sb3IxLnJnYi89Y29sb3IxLmE7Y29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO2NvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIG91dF9jb2xvcj1jb2xvci5yZ2I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQodmVjNChvdXRfY29sb3IsMS4wKSwwLjApLnJnYjtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuaGlnaHAgZmxvYXQgZm9nX2xpbWl0X2hpZ2hfbWV0ZXJzPTEwMDAwMDAuMDtoaWdocCBmbG9hdCBmb2dfbGltaXRfbG93X21ldGVycz02MDAwMDAuMDtmbG9hdCBmb2dfbGltaXQ9MS4wLXNtb290aHN0ZXAoZm9nX2xpbWl0X2xvd19tZXRlcnMsZm9nX2xpbWl0X2hpZ2hfbWV0ZXJzLHVfcmFzdGVyX2VsZXZhdGlvbik7b3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5KG91dF9jb2xvcix2X2ZvZ19wb3MsZm9nX2xpbWl0KSk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9dmVjNChvdXRfY29sb3IqY29sb3IuYSxjb2xvci5hKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbm9ybWFsaXplX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9nbG9iZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbWVyY19tYXRyaXg7dW5pZm9ybSBtYXQzIHVfZ3JpZF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X3Jhc3Rlcl9lbGV2YXRpb247dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjtcXG4jZGVmaW5lIEdMT0JFX1VQU0NBTEUgR0xPQkVfUkFESVVTLzYzNzEwMDguOFxcbmluIHZlYzIgYV9wb3M7aW4gdmVjMiBhX3RleHR1cmVfcG9zO291dCB2ZWMyIHZfcG9zMDtvdXQgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge2Zsb2F0IHc9MS4wO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRlY29tcG9zZWRfcG9zX2FuZF9za2lydD1kZWNvbXBvc2VUb1Bvc0FuZFNraXJ0KGFfcG9zKTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0Lnh5LDEuMCk7ZmxvYXQgbWVyY2F0b3JZPW1lcmNhdG9yWWZyb21MYXQobGF0TG5nWzBdKTtmbG9hdCBtZXJjYXRvclg9bWVyY2F0b3JYZnJvbUxuZyhsYXRMbmdbMV0pO2Zsb2F0IHRpbGVzPXVfZ3JpZF9tYXRyaXhbMF1bMl07ZmxvYXQgaWR4PXVfZ3JpZF9tYXRyaXhbMV1bMl07ZmxvYXQgaWR5PXVfZ3JpZF9tYXRyaXhbMl1bMl07ZmxvYXQgdXZYPW1lcmNhdG9yWCp0aWxlcy1pZHg7ZmxvYXQgdXZZPW1lcmNhdG9yWSp0aWxlcy1pZHk7dmVjMiB1dj12ZWMyKHV2WCx1dlkpO3ZlYzMgZ2xvYmVfcG9zPWxhdExuZ1RvRUNFRihsYXRMbmcueHkpO2dsb2JlX3Bvcys9bm9ybWFsaXplKGdsb2JlX3BvcykqdV9yYXN0ZXJfZWxldmF0aW9uKkdMT0JFX1VQU0NBTEU7dmVjNCBnbG9iZV93b3JsZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTt2ZWM0IG1lcmNfd29ybGRfcG9zPXZlYzQoMC4wKTtpZiAodV96b29tX3RyYW5zaXRpb24gPiAwLjApIHt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3Bvcyx1X3Jhc3Rlcl9lbGV2YXRpb24sMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3Bvczt9dmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXZlYzQobWl4KGdsb2JlX3dvcmxkX3Bvcy54eXosbWVyY193b3JsZF9wb3MueHl6LHVfem9vbV90cmFuc2l0aW9uKSp3LHcpO2dsX1Bvc2l0aW9uPXVfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbiNlbHNlXFxudmVjMiB1dj1hX3RleHR1cmVfcG9zLzgxOTIuMDtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKncsdV9yYXN0ZXJfZWxldmF0aW9uKncsdyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbnZfcG9zMD11djt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7fScpLHJhc3RlclBhcnRpY2xlRHJhdzpKbyhcInByZWNpc2lvbiBoaWdocCBmbG9hdDt1bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7aW4gZmxvYXQgdl9wYXJ0aWNsZV9zcGVlZDt2b2lkIG1haW4oKSB7Z2xGcmFnQ29sb3I9dGV4dHVyZSh1X2NvbG9yX3JhbXAsdmVjMih2X3BhcnRpY2xlX3NwZWVkLDAuNSkpO31cIiwncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfcmFzdGVyX2FycmF5Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfcmFzdGVyX3BhcnRpY2xlLmdsc2xcIlxcbmluIHZlYzMgYV9wb3M7dW5pZm9ybSB2ZWMyIHVfdGlsZV9vZmZzZXQ7b3V0IGZsb2F0IHZfcGFydGljbGVfc3BlZWQ7dm9pZCBtYWluKCkge3ZlYzIgcG9zPWFfcG9zLnh5K3VfdGlsZV9vZmZzZXQ7dmVjMiB0ZXhfY29vcmRzPWZyYWN0KHBvcyk7Z2xfUG9pbnRTaXplPTEuMDt2ZWMyIHZlbG9jaXR5PWxvb2t1cF92ZWxvY2l0eSh0ZXhfY29vcmRzKTtpZiAodmVsb2NpdHk9PUlOVkFMSURfVkVMT0NJVFkpIHt2X3BhcnRpY2xlX3NwZWVkPTAuMDtnbF9Qb3NpdGlvbj12ZWM0KDIuMCwyLjAsMi4wLDEuMCk7fSBlbHNlIHt2X3BhcnRpY2xlX3NwZWVkPWxlbmd0aCh2ZWxvY2l0eSk7Z2xfUG9zaXRpb249dmVjNCgyLjAqcG9zLXZlYzIoMS4wKSwwLjAsMS4wKTt9fScpLHJhc3RlclBhcnRpY2xlVGV4dHVyZTpKbyhcInVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTtpbiB2ZWMyIHZfdGV4X3Bvczt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcj10ZXh0dXJlKHVfdGV4dHVyZSx2X3RleF9wb3MpO2dsRnJhZ0NvbG9yPXZlYzQoZmxvb3IoMjU1LjAqY29sb3IqdV9vcGFjaXR5KS8yNTUuMCk7fVwiLFwiaW4gdmVjMiBhX3BvcztvdXQgdmVjMiB2X3RleF9wb3M7dm9pZCBtYWluKCkge3ZfdGV4X3Bvcz0wLjUqYV9wb3MrdmVjMigwLjUpO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMC4wLDEuMCk7fVwiKSxyYXN0ZXJQYXJ0aWNsZVVwZGF0ZTpKbyhcInZvaWQgbWFpbigpIHt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfcmFzdGVyX2FycmF5Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfcmFzdGVyX3BhcnRpY2xlLmdsc2xcIlxcbmluIHZlYzMgYV9wb3M7dW5pZm9ybSBmbG9hdCB1X3NwZWVkX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfbGlmZXRpbWVfZGVsdGE7dW5pZm9ybSBmbG9hdCB1X3JhbmRfc2VlZDtvdXQgdmVjMyB2X25ld19wYXJ0aWNsZTtjb25zdCB2ZWMzIHJhbmRfY29uc3RhbnRzPXZlYzMoMTIuOTg5OCw3OC4yMzMsNDM3NS44NTQ1Myk7ZmxvYXQgcmFuZChjb25zdCB2ZWMyIGNvKSB7ZmxvYXQgdD1kb3QocmFuZF9jb25zdGFudHMueHksY28pO3JldHVybiBmcmFjdChzaW4odCkqKHJhbmRfY29uc3RhbnRzLnordCkpO312b2lkIG1haW4oKSB7ZmxvYXQgbGlmZXRpbWU9YV9wb3Muejt2ZWMyIHBvcz1hX3Bvcy54eTt2ZWMyIHV2PWNsYW1wKHBvcyx2ZWMyKDAuMCksdmVjMigxLjApKTt2ZWMyIHZlbG9jaXR5PWxvb2t1cF92ZWxvY2l0eSh1dik7ZmxvYXQgbmV4dF9saWZldGltZT1saWZldGltZS11X2xpZmV0aW1lX2RlbHRhO2Zsb2F0IHQ9c3RlcCgwLjAsbmV4dF9saWZldGltZSk7XFxuI2lmZGVmIERBVEFfRk9STUFUX1VJTlQzMlxcbnZlYzIgZHA9dmVjMigwKTtcXG4jZWxzZVxcbnZlYzIgZHA9dmVsb2NpdHk9PUlOVkFMSURfVkVMT0NJVFkgPyB2ZWMyKDApIDogdmVsb2NpdHkqdV9zcGVlZF9mYWN0b3I7XFxuI2VuZGlmXFxudmVjMiBzZWVkPXBvcyp1X3JhbmRfc2VlZDt2ZWMyIG5leHRfcG9zPXBvcytkcDt2ZWMyIHJhbmRvbV9wb3M9dmVjMihyYW5kKHNlZWQrMS4zKSxyYW5kKHNlZWQrMi4xKSk7dl9uZXdfcGFydGljbGU9dmVjMyhcXG52ZWMyKG1peChyYW5kb21fcG9zLG5leHRfcG9zLHQpKSxtaXgoMS4wLG5leHRfbGlmZXRpbWUsdClcXG4pO30nKSxzeW1ib2xJY29uOkpvKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxudW5pZm9ybSBmbG9hdCB1X2ljb25fdHJhbnNpdGlvbjtcXG4jZW5kaWZcXG5pbiBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtpbiB2ZWMyIHZfdGV4X2E7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbmluIHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG51bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9pY29uX3NhdHVyYXRpb247XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbmxvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSp2X2ZhZGVfb3BhY2l0eTt2ZWM0IG91dF9jb2xvcjtcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxudmVjNCBhPXRleHR1cmUodV90ZXh0dXJlLHZfdGV4X2EpKigxLjAtdV9pY29uX3RyYW5zaXRpb24pO3ZlYzQgYj10ZXh0dXJlKHVfdGV4dHVyZSx2X3RleF9iKSp1X2ljb25fdHJhbnNpdGlvbjtvdXRfY29sb3I9KGErYikqYWxwaGE7XFxuI2Vsc2VcXG5vdXRfY29sb3I9dGV4dHVyZSh1X3RleHR1cmUsdl90ZXhfYSkqYWxwaGE7XFxuI2VuZGlmXFxuI2lmZGVmIFNBVFVSQVRJT05cXG52ZWMzIGx1bWE9dmVjMyhkb3Qob3V0X2NvbG9yLnJnYix2ZWMzKDAuMjEyNiwwLjcxNTIsMC4wNzIyKSkpO291dF9jb2xvci5yZ2I9bWl4KGx1bWEsb3V0X2NvbG9yLnJnYix1X2ljb25fc2F0dXJhdGlvbik7XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLGVtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbmluIHZlYzQgYV9wb3Nfb2Zmc2V0O2luIHZlYzQgYV90ZXhfc2l6ZTtpbiB2ZWM0IGFfcGl4ZWxvZmZzZXQ7aW4gdmVjNCBhX3Byb2plY3RlZF9wb3M7aW4gZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuaW4gZmxvYXQgYV96X29mZnNldDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX2dsb2JlX2FuY2hvcjtpbiB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG5pbiB2ZWMyIGFfdGV4YjtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxub3V0IHZlYzIgdl90ZXhfYTtcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxub3V0IHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG5vdXQgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7dmVjMiBhX21pbl9mb250X3NjYWxlPWFfcGl4ZWxvZmZzZXQuencvMjU2LjA7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3BvcztmbG9hdCBlPWVsZXZhdGlvbih0aWxlX2FuY2hvcik7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuZSs9YV96X29mZnNldDtcXG4jZW5kaWZcXG52ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udF9zY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0UHJvamVjdGVkX3BvaW50O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRpc3BsYWNlbWVudD12ZWMzKGFfZ2xvYmVfbm9ybWFsLnosMCwtYV9nbG9iZV9ub3JtYWwueCk7b2Zmc2V0UHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQoYV9nbG9iZV9hbmNob3IrZGlzcGxhY2VtZW50LDEpO1xcbiNlbHNlXFxub2Zmc2V0UHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQodGlsZV9hbmNob3IrdmVjMigxLDApLDAsMSk7XFxuI2VuZGlmXFxudmVjMiBhPXByb2plY3RlZF9wb2ludC54eS9wcm9qZWN0ZWRfcG9pbnQudzt2ZWMyIGI9b2Zmc2V0UHJvamVjdGVkX3BvaW50Lnh5L29mZnNldFByb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKm1heChhX21pbl9mb250X3NjYWxlLGZvbnRfc2NhbGUpK2FfcHhvZmZzZXQvMTYuMCk7XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlxcbnZlYzQgdGlsZV9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5K29mZnNldCwwLjAsMS4wKTt6PWVsZXZhdGlvbih0aWxlX3Bvcy54eSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgb2NjbHVzaW9uX2ZhZGU9b2NjbHVzaW9uRmFkZShwcm9qZWN0ZWRfcG9pbnQpKmdsb2JlX29jY2x1c2lvbl9mYWRlO2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgb3V0X2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTtmbG9hdCBhbHBoYT1vcGFjaXR5Km91dF9mYWRlX29wYWNpdHk7ZmxvYXQgaGlkZGVuPWZsb2F0KGFscGhhPT0wLjAgfHwgcHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGhpZGRlbik7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksaGlkZGVuKTtcXG4jZW5kaWZcXG52X3RleF9hPWFfdGV4L3VfdGV4c2l6ZTtcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxudl90ZXhfYj1hX3RleGIvdV90ZXhzaXplO1xcbiNlbmRpZlxcbnZfZmFkZV9vcGFjaXR5PW91dF9mYWRlX29wYWNpdHk7fScpLHN5bWJvbFNERjpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG4jZGVmaW5lIFNERl9QWCA4LjBcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X2lzX2hhbG87aW4gZmxvYXQgdl9kcmF3X2hhbG87aW4gdmVjMiB2X2RhdGEwO2luIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxuZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbzt2ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtib29sIGRyYXdfaGFsbz12X2RyYXdfaGFsbyA+IDAuMDtpZiAoZHJhd19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlKHVfdGV4dHVyZSx0ZXgpLnI7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7dmVjNCBvdXRfY29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjNCBhX3Bvc19vZmZzZXQ7aW4gdmVjNCBhX3RleF9zaXplO2luIHZlYzQgYV9waXhlbG9mZnNldDtpbiB2ZWM0IGFfcHJvamVjdGVkX3BvcztpbiBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgWl9PRkZTRVRcXG5pbiBmbG9hdCBhX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2luIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3Rvcjt1bmlmb3JtIGJvb2wgdV9pc19oYWxvO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxub3V0IGZsb2F0IHZfZHJhd19oYWxvO291dCB2ZWMyIHZfZGF0YTA7b3V0IHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO2Zsb2F0IGU9ZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtcXG4jaWZkZWYgWl9PRkZTRVRcXG5lKz1hX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmU7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldHByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldHByb2plY3RlZF9wb2ludC54eS9vZmZzZXRwcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUrYV9weG9mZnNldCk7XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlxcbnZlYzQgdGlsZV9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5K29mZnNldCwwLjAsMS4wKTt6PWVsZXZhdGlvbih0aWxlX3Bvcy54eSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgb2NjbHVzaW9uX2ZhZGU9b2NjbHVzaW9uRmFkZShwcm9qZWN0ZWRfcG9pbnQpKmdsb2JlX29jY2x1c2lvbl9mYWRlO2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTtmbG9hdCBvdXRfZmFkZV9vcGFjaXR5PWludGVycG9sYXRlZF9mYWRlX29wYWNpdHkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU7ZmxvYXQgYWxwaGE9b3BhY2l0eSpvdXRfZmFkZV9vcGFjaXR5O2Zsb2F0IGhpZGRlbj1mbG9hdChhbHBoYT09MC4wIHx8IHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGhpZGRlbik7XFxuI2VuZGlmXFxuZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2X2RyYXdfaGFsbz0odV9pc19oYWxvICYmIGZsb2F0KGdsX0luc3RhbmNlSUQpPT0wLjApID8gMS4wIDogMC4wO3ZfZGF0YTA9YV90ZXgvdV90ZXhzaXplO3ZfZGF0YTE9dmVjMyhnYW1tYV9zY2FsZSxzaXplLG91dF9mYWRlX29wYWNpdHkpO30nKSxzeW1ib2xUZXh0QW5kSWNvbjpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG4jZGVmaW5lIFNERl9QWCA4LjBcXG4jZGVmaW5lIFNERiAxLjBcXG4jZGVmaW5lIElDT04gMC4wXFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfaGFsbztpbiBmbG9hdCB2X2RyYXdfaGFsbztpbiB2ZWM0IHZfZGF0YTA7aW4gdmVjNCB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG5mbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtpZiAodl9kYXRhMS53PT1JQ09OKSB7dmVjMiB0ZXhfaWNvbj12X2RhdGEwLnp3O2xvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSpmYWRlX29wYWNpdHk7Z2xGcmFnQ29sb3I9dGV4dHVyZSh1X3RleHR1cmVfaWNvbix0ZXhfaWNvbikqYWxwaGE7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5yZXR1cm47fXZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbztmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZm9udFNjYWxlPXNpemUvMjQuMDtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtib29sIGRyYXdfaGFsbz12X2RyYXdfaGFsbyA+IDAuMDtpZiAoZHJhd19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlKHVfdGV4dHVyZSx0ZXgpLnI7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7dmVjNCBvdXRfY29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjNCBhX3Bvc19vZmZzZXQ7aW4gdmVjNCBhX3RleF9zaXplO2luIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2luIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBaX09GRlNFVFxcbmluIGZsb2F0IGFfel9vZmZzZXQ7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmluIHZlYzMgYV9nbG9iZV9hbmNob3I7aW4gdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO3VuaWZvcm0gdmVjMiB1X3RleHNpemVfaWNvbjt1bmlmb3JtIGJvb2wgdV9pc19oYWxvO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxub3V0IGZsb2F0IHZfZHJhd19oYWxvO291dCB2ZWM0IHZfZGF0YTA7b3V0IHZlYzQgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTtmbG9hdCBpc19zZGY9YV9zaXplWzBdLTIuMCphX3NpemVfbWluO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7ZmxvYXQgZT1lbGV2YXRpb24odGlsZV9hbmNob3IpO1xcbiNpZmRlZiBaX09GRlNFVFxcbmUrPWFfel9vZmZzZXQ7XFxuI2VuZGlmXFxudmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0X3Byb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldF9wcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0X3Byb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRfc2NhbGUpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgb3V0X2ZhZGVfb3BhY2l0eT1pbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlO2Zsb2F0IGFscGhhPW9wYWNpdHkqb3V0X2ZhZGVfb3BhY2l0eTtmbG9hdCBoaWRkZW49ZmxvYXQoYWxwaGE9PTAuMCB8fCBwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksaGlkZGVuKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbmRpZlxcbmZsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7dl9kcmF3X2hhbG89KHVfaXNfaGFsbyAmJiBmbG9hdChnbF9JbnN0YW5jZUlEKT09MC4wKSA/IDEuMCA6IDAuMDt2X2RhdGEwLnh5PWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGEwLnp3PWFfdGV4L3VfdGV4c2l6ZV9pY29uO3ZfZGF0YTE9dmVjNChnYW1tYV9zY2FsZSxzaXplLG91dF9mYWRlX29wYWNpdHksaXNfc2RmKTt9JyksdGVycmFpblJhc3RlcjpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDtpbiB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxuaW4gZmxvYXQgdl9mb2dfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5pbiB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtpbiB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzMgdV9ncm91bmRfc2hhZG93X2ZhY3Rvcjt2b2lkIG1haW4oKSB7dmVjNCBpbWFnZV9jb2xvcj10ZXh0dXJlKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmNvbnN0IHZlYzMgbm9ybWFsPXZlYzMoMC4wLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmZsb2F0IGN1dG9mZk9wYWNpdHk9MS4wO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuY3V0b2ZmT3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsMS4wL2dsX0ZyYWdDb29yZC53KTtcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfQUxQSEFfRU1JU1NJVkVORVNTXFxudmVjMyB1bmxpdF9iYXNlPWltYWdlX2NvbG9yLnJnYiooMS4wLWltYWdlX2NvbG9yLmEpO3ZlYzMgZW1pc3NpdmVfYmFzZT1pbWFnZV9jb2xvci5yZ2IqaW1hZ2VfY29sb3IuYTtmbG9hdCBuZG90bD11X3NoYWRvd19kaXJlY3Rpb24uejtmbG9hdCBvY2NsdXNpb249bmRvdGwgPCAwLjAgPyAxLjAgOiBzaGFkb3dfb2NjbHVzaW9uKHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsMS4wL2dsX0ZyYWdDb29yZC53LDAuMCk7bmRvdGw9bWF4KDAuMCxuZG90bCk7dmVjMyBsaXQ9YXBwbHlfbGlnaHRpbmcodW5saXRfYmFzZSxub3JtYWwsbWl4KDEuMCwoMS4wLSh1X3NoYWRvd19pbnRlbnNpdHkqb2NjbHVzaW9uKSkqbmRvdGwsY3V0b2ZmT3BhY2l0eSkpO3ZlYzMgZW1pc3NpdmU9Y29tcHV0ZV9lbWlzc2l2ZV9kcmFwZWQoZW1pc3NpdmVfYmFzZSwxLjAtdV9zaGFkb3dfaW50ZW5zaXR5LG9jY2x1c2lvbix1X2dyb3VuZF9zaGFkb3dfZmFjdG9yKTtjb2xvci5yZ2I9bGl0K2VtaXNzaXZlO2NvbG9yLmE9MS4wO1xcbiNlbHNlXFxuZmxvYXQgbGlnaHRpbmdfZmFjdG9yPXNoYWRvd2VkX2xpZ2h0X2ZhY3Rvcl9ub3JtYWxfdW5iaWFzZWQobm9ybWFsLHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsMS4wL2dsX0ZyYWdDb29yZC53KTtjb2xvcj1hcHBseV9saWdodGluZyhpbWFnZV9jb2xvcixub3JtYWwsbWl4KDEuMCxsaWdodGluZ19mYWN0b3IsY3V0b2ZmT3BhY2l0eSkpO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgbGlnaHRpbmdfZmFjdG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyLno7Y29sb3I9YXBwbHlfbGlnaHRpbmcoaW1hZ2VfY29sb3Isbm9ybWFsLGxpZ2h0aW5nX2ZhY3Rvcik7XFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbmNvbG9yLnJnYj1taXgoY29sb3IucmdiLGltYWdlX2NvbG9yLnJnYixpbWFnZV9jb2xvci5hKTtjb2xvci5hPTEuMDtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yPWltYWdlX2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbHNlXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfZnJvbV92ZXJ0KGNvbG9yLHZfZm9nX29wYWNpdHkpKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfc2tpcnRfaGVpZ2h0O2luIHZlYzIgYV9wb3M7b3V0IHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG5vdXQgZmxvYXQgdl9mb2dfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMTtvdXQgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7b3V0IHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO291dCBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWMzIGRlY29tcG9zZWRQb3NBbmRTa2lydD1kZWNvbXBvc2VUb1Bvc0FuZFNraXJ0KGFfcG9zKTtmbG9hdCBza2lydD1kZWNvbXBvc2VkUG9zQW5kU2tpcnQuejt2ZWMyIGRlY29kZWRQb3M9ZGVjb21wb3NlZFBvc0FuZFNraXJ0Lnh5O2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oZGVjb2RlZFBvcyktc2tpcnQqdV9za2lydF9oZWlnaHQ7dl9wb3MwPWRlY29kZWRQb3MvODE5Mi4wO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoZGVjb2RlZFBvcyxlbGV2YXRpb24sMS4wKTtcXG4jaWZkZWYgRk9HXFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihkZWNvZGVkUG9zKTtcXG4jZWxzZVxcbnZfZm9nX29wYWNpdHk9Zm9nKGZvZ19wb3NpdGlvbih2ZWMzKGRlY29kZWRQb3MsZWxldmF0aW9uKSkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZlYzMgcG9zPXZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pO3ZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEuKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHBvcywxLik7XFxuI2VuZGlmXFxufScpLHRlcnJhaW5EZXB0aDpKbyhcInByZWNpc2lvbiBoaWdocCBmbG9hdDtpbiBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtnbEZyYWdDb2xvcj1wYWNrX2RlcHRoKHZfZGVwdGgpO31cIiwnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7aW4gdmVjMiBhX3BvcztvdXQgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3Bvcyk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcyxlbGV2YXRpb24sMS4wKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9Jyksc2t5Ym94OkpvKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG5pbiBsb3dwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlckN1YmUgdV9jdWJlbWFwO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO2Zsb2F0IHN1bl9kaXNrKGhpZ2hwIHZlYzMgcmF5X2RpcmVjdGlvbixoaWdocCB2ZWMzIHN1bl9kaXJlY3Rpb24pIHtoaWdocCBmbG9hdCBjb3NfYW5nbGU9ZG90KG5vcm1hbGl6ZShyYXlfZGlyZWN0aW9uKSxzdW5fZGlyZWN0aW9uKTtjb25zdCBoaWdocCBmbG9hdCBjb3Nfc3VuX2FuZ3VsYXJfZGlhbWV0ZXI9MC45OTk5NjE5MjMwNjtjb25zdCBoaWdocCBmbG9hdCBzbW9vdGhzdGVwX2RlbHRhPTFlLTU7cmV0dXJuIHNtb290aHN0ZXAoXFxuY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyLXNtb290aHN0ZXBfZGVsdGEsY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyK3Ntb290aHN0ZXBfZGVsdGEsY29zX2FuZ2xlKTt9ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWMzIHV2PXZfdXY7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3V2LnkrPXlfYmlhczt1di55PXBvdyhhYnModXYueSksMS4wLzUuMCk7dXYueT1tYXAodXYueSwwLjAsMS4wLC0xLjAsMS4wKTt2ZWMzIHNreV9jb2xvcj10ZXh0dXJlKHVfY3ViZW1hcCx1dikucmdiO1xcbiNpZmRlZiBGT0dcXG5za3lfY29sb3I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxza3lfY29sb3IpO1xcbiNlbmRpZlxcbnNreV9jb2xvci5yZ2I9ZGl0aGVyKHNreV9jb2xvci5yZ2IsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtza3lfY29sb3IrPTAuMSpzdW5fZGlzayh2X3V2LHVfc3VuX2RpcmVjdGlvbik7Z2xGcmFnQ29sb3I9dmVjNChza3lfY29sb3IqdV9vcGFjaXR5LHVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59JyxCbyksc2t5Ym94R3JhZGllbnQ6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbmluIGhpZ2hwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9jZW50ZXJfZGlyZWN0aW9uO3VuaWZvcm0gbG93cCBmbG9hdCB1X3JhZGl1czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dm9pZCBtYWluKCkge2Zsb2F0IHByb2dyZXNzPWFjb3MoZG90KG5vcm1hbGl6ZSh2X3V2KSx1X2NlbnRlcl9kaXJlY3Rpb24pKS91X3JhZGl1czt2ZWM0IGNvbG9yPXRleHR1cmUodV9jb2xvcl9yYW1wLHZlYzIocHJvZ3Jlc3MsMC41KSk7XFxuI2lmZGVmIEZPR1xcbmNvbG9yLnJnYj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LGNvbG9yLnJnYi9jb2xvci5hKSpjb2xvci5hO1xcbiNlbmRpZlxcbmNvbG9yKj11X29wYWNpdHk7Y29sb3IucmdiPWRpdGhlcihjb2xvci5yZ2IsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtnbEZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn0nLEJvKSxza3lib3hDYXB0dXJlOkpvKFwiXFxuaW4gaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zdW5faW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9sdW1pbmFuY2U7dW5pZm9ybSBsb3dwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfcjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X207cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgQkVUQV9SICAgICAgICAgICAgICAgICAgdmVjMyg1LjVlLTYsMTMuMGUtNiwyMi40ZS02KVxcbiNkZWZpbmUgQkVUQV9NICAgICAgICAgICAgICAgICAgdmVjMygyMWUtNiwyMWUtNiwyMWUtNilcXG4jZGVmaW5lIE1JRV9HICAgICAgICAgICAgICAgICAgIDAuNzZcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX1IgIDgwMDAuMFxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfTSAgMTIwMC4wXFxuI2RlZmluZSBQTEFORVRfUkFESVVTICAgICAgICAgICA2MzYwZTNcXG4jZGVmaW5lIEFUTU9TUEhFUkVfUkFESVVTICAgICAgIDY0MjBlM1xcbiNkZWZpbmUgU0FNUExFX1NURVBTICAgICAgICAgICAgMTBcXG4jZGVmaW5lIERFTlNJVFlfU1RFUFMgICAgICAgICAgIDRcXG5mbG9hdCByYXlfc3BoZXJlX2V4aXQodmVjMyBvcmlnLHZlYzMgZGlyLGZsb2F0IHJhZGl1cykge2Zsb2F0IGE9ZG90KGRpcixkaXIpO2Zsb2F0IGI9Mi4wKmRvdChkaXIsb3JpZyk7ZmxvYXQgYz1kb3Qob3JpZyxvcmlnKS1yYWRpdXMqcmFkaXVzO2Zsb2F0IGQ9c3FydChiKmItNC4wKmEqYyk7cmV0dXJuICgtYitkKS8oMi4wKmEpO312ZWMzIGV4dGluY3Rpb24odmVjMiBkZW5zaXR5KSB7cmV0dXJuIGV4cCgtdmVjMyhCRVRBX1IqdV9jb2xvcl90aW50X3IuYSpkZW5zaXR5LngrQkVUQV9NKnVfY29sb3JfdGludF9tLmEqZGVuc2l0eS55KSk7fXZlYzIgbG9jYWxfZGVuc2l0eSh2ZWMzIHBvaW50KSB7ZmxvYXQgaGVpZ2h0PW1heChsZW5ndGgocG9pbnQpLVBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCBleHBfcj1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9SKTtmbG9hdCBleHBfbT1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9NKTtyZXR1cm4gdmVjMihleHBfcixleHBfbSk7fWZsb2F0IHBoYXNlX3JheShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oMTYuMCpQSSkpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSk7fWZsb2F0IHBoYXNlX21pZShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oOC4wKlBJKSkqKCgxLjAtTUlFX0cqTUlFX0cpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSkpLygoMi4wK01JRV9HKk1JRV9HKSpwb3coMS4wK01JRV9HKk1JRV9HLTIuMCpNSUVfRypjb3NfYW5nbGUsMS41KSk7fXZlYzIgZGVuc2l0eV90b19hdG1vc3BoZXJlKHZlYzMgcG9pbnQsdmVjMyBsaWdodF9kaXIpIHtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChwb2ludCxsaWdodF9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoREVOU0lUWV9TVEVQUyk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9dmVjMigwLjApO2ZvciAoaW50IGk9MDsgaSA8IERFTlNJVFlfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9cG9pbnQrbGlnaHRfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7ZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlKz1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47O31yZXR1cm4gZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO312ZWMzIGF0bW9zcGhlcmUodmVjMyByYXlfZGlyLHZlYzMgc3VuX2RpcmVjdGlvbixmbG9hdCBzdW5faW50ZW5zaXR5KSB7dmVjMiBkZW5zaXR5X29yaWdfdG9fcG9pbnQ9dmVjMigwLjApO3ZlYzMgc2NhdHRlcl9yPXZlYzMoMC4wKTt2ZWMzIHNjYXR0ZXJfbT12ZWMzKDAuMCk7dmVjMyBvcmlnaW49dmVjMygwLjAsUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KG9yaWdpbixyYXlfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KFNBTVBMRV9TVEVQUyk7Zm9yIChpbnQgaT0wOyBpIDwgU0FNUExFX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PW9yaWdpbityYXlfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7dmVjMiBkZW5zaXR5PWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjtkZW5zaXR5X29yaWdfdG9fcG9pbnQrPWRlbnNpdHk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV90b19hdG1vc3BoZXJlKHBvaW50X29uX3JheSxzdW5fZGlyZWN0aW9uKTt2ZWMyIGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlPWRlbnNpdHlfb3JpZ190b19wb2ludCtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7dmVjMyBleHRpbmN0aW9uPWV4dGluY3Rpb24oZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmUpO3NjYXR0ZXJfcis9ZGVuc2l0eS54KmV4dGluY3Rpb247c2NhdHRlcl9tKz1kZW5zaXR5LnkqZXh0aW5jdGlvbjt9ZmxvYXQgY29zX2FuZ2xlPWRvdChyYXlfZGlyLHN1bl9kaXJlY3Rpb24pO2Zsb2F0IHBoYXNlX3I9cGhhc2VfcmF5KGNvc19hbmdsZSk7ZmxvYXQgcGhhc2VfbT1waGFzZV9taWUoY29zX2FuZ2xlKTt2ZWMzIGJldGFfcj1CRVRBX1IqdV9jb2xvcl90aW50X3IucmdiKnVfY29sb3JfdGludF9yLmE7dmVjMyBiZXRhX209QkVUQV9NKnVfY29sb3JfdGludF9tLnJnYip1X2NvbG9yX3RpbnRfbS5hO3JldHVybiAoc2NhdHRlcl9yKnBoYXNlX3IqYmV0YV9yK3NjYXR0ZXJfbSpwaGFzZV9tKmJldGFfbSkqc3VuX2ludGVuc2l0eTt9Y29uc3QgZmxvYXQgQT0wLjE1O2NvbnN0IGZsb2F0IEI9MC41MDtjb25zdCBmbG9hdCBDPTAuMTA7Y29uc3QgZmxvYXQgRD0wLjIwO2NvbnN0IGZsb2F0IEU9MC4wMjtjb25zdCBmbG9hdCBGPTAuMzA7dmVjMyB1bmNoYXJ0ZWQyX3RvbmVtYXAodmVjMyB4KSB7cmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjt9dm9pZCBtYWluKCkge3ZlYzMgcmF5X2RpcmVjdGlvbj12X3Bvc2l0aW9uO3JheV9kaXJlY3Rpb24ueT1wb3cocmF5X2RpcmVjdGlvbi55LDUuMCk7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3JheV9kaXJlY3Rpb24ueSs9eV9iaWFzO3ZlYzMgY29sb3I9YXRtb3NwaGVyZShub3JtYWxpemUocmF5X2RpcmVjdGlvbiksdV9zdW5fZGlyZWN0aW9uLHVfc3VuX2ludGVuc2l0eSk7ZmxvYXQgd2hpdGVfc2NhbGU9MS4wNzQ4NzI0Njc1NjMzODU0O2NvbG9yPXVuY2hhcnRlZDJfdG9uZW1hcCgobG9nMigyLjAvcG93KHVfbHVtaW5hbmNlLDQuMCkpKSpjb2xvcikqd2hpdGVfc2NhbGU7Z2xGcmFnQ29sb3I9dmVjNChjb2xvciwxLjApO31cIixcImluIGhpZ2hwIHZlYzMgYV9wb3NfM2Y7dW5pZm9ybSBtYXQzIHVfbWF0cml4XzNmO291dCBoaWdocCB2ZWMzIHZfcG9zaXRpb247ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWM0IHBvcz12ZWM0KHVfbWF0cml4XzNmKmFfcG9zXzNmLDEuMCk7dl9wb3NpdGlvbj1wb3MueHl6O3ZfcG9zaXRpb24ueSo9LTEuMDt2X3Bvc2l0aW9uLnk9bWFwKHZfcG9zaXRpb24ueSwtMS4wLDEuMCwwLjAsMS4wKTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zXzNmLnh5LDAuMCwxLjApO31cIiksZ2xvYmVSYXN0ZXI6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBmbG9hdCB1X2Zhcl96X2N1dG9mZjtpbiB2ZWMyIHZfcG9zMDtcXG4jaWZuZGVmIEZPR1xcbnVuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnQ7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3I7XFxuI2lmZGVmIENVU1RPTV9BTlRJQUxJQVNJTkdcXG52ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO3ZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTt2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj0xLjAtbGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2NvbnN0IGZsb2F0IGFudGlhbGlhc19waXhlbD0yLjA7ZmxvYXQgYW50aWFsaWFzX2ZhY3Rvcj1hbnRpYWxpYXNfcGl4ZWwqZndpZHRoKG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7ZmxvYXQgYW50aWFsaWFzPXNtb290aHN0ZXAoMC4wLGFudGlhbGlhc19mYWN0b3Isbm9ybV9kaXN0X2Zyb21fY2VudGVyKTt2ZWM0IHJhc3Rlcj10ZXh0dXJlKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG4jaWZkZWYgTElHSFRJTkdfM0RfQUxQSEFfRU1JU1NJVkVORVNTXFxucmFzdGVyPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKHJhc3RlcixyYXN0ZXIuYSk7Y29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxhbnRpYWxpYXMpO1xcbiNlbHNlXFxucmFzdGVyPWFwcGx5X2xpZ2h0aW5nX2dyb3VuZChyYXN0ZXIpO2NvbG9yPXZlYzQocmFzdGVyLnJnYiphbnRpYWxpYXMscmFzdGVyLmEqYW50aWFsaWFzKTtcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yPXZlYzQocmFzdGVyLnJnYiphbnRpYWxpYXMscmFzdGVyLmEqYW50aWFsaWFzKTtcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yPXRleHR1cmUodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBMSUdIVElOR18zRF9BTFBIQV9FTUlTU0lWRU5FU1NcXG5jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChjb2xvcixjb2xvci5hKTtjb2xvci5hPTEuMDtcXG4jZWxzZVxcbmNvbG9yPWFwcGx5X2xpZ2h0aW5nX2dyb3VuZChjb2xvcik7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuY29sb3IqPTEuMC1zdGVwKHVfZmFyX3pfY3V0b2ZmLDEuMC9nbF9GcmFnQ29vcmQudyk7Z2xGcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9wcm9qX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9ub3JtYWxpemVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2dsb2JlX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9tZXJjX21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gbWF0MyB1X2dyaWRfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuaW4gdmVjMyBhX2dsb2JlX3BvcztpbiB2ZWMyIGFfdXY7XFxuI2Vsc2VcXG5pbiB2ZWMyIGFfcG9zO1xcbiNlbmRpZlxcbm91dCB2ZWMyIHZfcG9zMDt2b2lkIG1haW4oKSB7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyBnbG9iZV9wb3M9YV9nbG9iZV9wb3M7dmVjMiB1dj1hX3V2O1xcbiNlbHNlXFxuZmxvYXQgdGlsZXM9dV9ncmlkX21hdHJpeFswXVsyXTtmbG9hdCBpZHg9dV9ncmlkX21hdHJpeFsxXVsyXTtmbG9hdCBpZHk9dV9ncmlkX21hdHJpeFsyXVsyXTt2ZWMzIGRlY29tcG9zZWRfcG9zX2FuZF9za2lydD1kZWNvbXBvc2VUb1Bvc0FuZFNraXJ0KGFfcG9zKTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0Lnh5LDEuMCk7ZmxvYXQgbWVyY2F0b3JZPW1lcmNhdG9yWWZyb21MYXQobGF0TG5nWzBdKTtmbG9hdCB1dlk9bWVyY2F0b3JZKnRpbGVzLWlkeTtmbG9hdCBtZXJjYXRvclg9bWVyY2F0b3JYZnJvbUxuZyhsYXRMbmdbMV0pO2Zsb2F0IHV2WD1tZXJjYXRvclgqdGlsZXMtaWR4O3ZlYzMgZ2xvYmVfcG9zPWxhdExuZ1RvRUNFRihsYXRMbmcueHkpO3ZlYzIgbWVyY19wb3M9dmVjMihtZXJjYXRvclgsbWVyY2F0b3JZKTt2ZWMyIHV2PXZlYzIodXZYLHV2WSk7XFxuI2VuZGlmXFxudl9wb3MwPXV2O3ZlYzIgdGlsZV9wb3M9dXYqRVhURU5UO3ZlYzMgZ2xvYmVfZGVyaXZlZF91cF92ZWN0b3I9bm9ybWFsaXplKGdsb2JlX3BvcykqdV90aWxlX3VwX3NjYWxlO1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgdXBfdmVjdG9yPWdsb2JlX2Rlcml2ZWRfdXBfdmVjdG9yO1xcbiNlbHNlXFxudmVjMyB1cF92ZWN0b3I9ZWxldmF0aW9uVmVjdG9yKHRpbGVfcG9zKTtcXG4jZW5kaWZcXG5mbG9hdCBoZWlnaHQ9ZWxldmF0aW9uKHRpbGVfcG9zKTtnbG9iZV9wb3MrPXVwX3ZlY3RvcipoZWlnaHQ7XFxuI2lmbmRlZiBHTE9CRV9QT0xFU1xcbmdsb2JlX3Bvcy09Z2xvYmVfZGVyaXZlZF91cF92ZWN0b3IqdV9za2lydF9oZWlnaHQqZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0Lno7XFxuI2VuZGlmXFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7XFxuI2Vsc2VcXG52ZWM0IGdsb2JlX3dvcmxkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO3ZlYzQgbWVyY193b3JsZF9wb3M9dmVjNCgwLjApO2lmICh1X3pvb21fdHJhbnNpdGlvbiA+IDAuMCkge21lcmNfd29ybGRfcG9zPXZlYzQobWVyY19wb3MsaGVpZ2h0LXVfc2tpcnRfaGVpZ2h0KmRlY29tcG9zZWRfcG9zX2FuZF9za2lydC56LDEuMCk7bWVyY193b3JsZF9wb3MueHktPXVfbWVyY19jZW50ZXI7bWVyY193b3JsZF9wb3MueD13cmFwKG1lcmNfd29ybGRfcG9zLngsLTAuNSwwLjUpO21lcmNfd29ybGRfcG9zPXVfbWVyY19tYXRyaXgqbWVyY193b3JsZF9wb3M7fXZlYzQgaW50ZXJwb2xhdGVkX3Bvcz12ZWM0KG1peChnbG9iZV93b3JsZF9wb3MueHl6LG1lcmNfd29ybGRfcG9zLnh5eix1X3pvb21fdHJhbnNpdGlvbiksMS4wKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X3Byb2pfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbn0nKSxnbG9iZUF0bW9zcGhlcmU6Sm8oJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbnVuaWZvcm0gZmxvYXQgdV90cmFuc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9mYWRlb3V0X3JhbmdlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSB2ZWM0IHVfaGlnaF9jb2xvcjt1bmlmb3JtIHZlYzQgdV9zcGFjZV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbl9hbmdsZTtpbiBoaWdocCB2ZWMzIHZfcmF5X2RpcjtpbiBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7dm9pZCBtYWluKCkge2hpZ2hwIHZlYzMgZGlyPW5vcm1hbGl6ZSh2X3JheV9kaXIpO2Zsb2F0IGdsb2JlX3Bvc19kb3RfZGlyO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5nbG9iZV9wb3NfZG90X2Rpcj1kb3QodV9nbG9iZV9wb3MsZGlyKTtoaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnRfZm9yd2FyZD1hYnMoZ2xvYmVfcG9zX2RvdF9kaXIpKmRpcjtmbG9hdCBub3JtX2Rpc3RfZnJvbV9jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnRfZm9yd2FyZC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7aWYgKG5vcm1fZGlzdF9mcm9tX2NlbnRlciA8IDAuOTgpIHtcXG4jaWZkZWYgQUxQSEFfUEFTU1xcbmdsRnJhZ0NvbG9yPXZlYzQoMCwwLDAsMCk7cmV0dXJuO1xcbiNlbHNlXFxuI2lmZGVmIE5BVElWRVxcbmdsRnJhZ0NvbG9yPXZlYzQoMSwxLDEsMSk7XFxuI2Vsc2VcXG5nbEZyYWdDb2xvcj12ZWM0KDAsMCwwLDEpO1xcbiNlbmRpZlxcbnJldHVybjtcXG4jZW5kaWZcXG59XFxuI2VuZGlmXFxuaGlnaHAgdmVjMyBob3Jpem9uX2Rpcj1ub3JtYWxpemUodl9ob3Jpem9uX2Rpcik7ZmxvYXQgaG9yaXpvbl9hbmdsZV9tZXJjYXRvcj1kaXIueSA8IGhvcml6b25fZGlyLnkgP1xcbjAuMCA6IG1heChhY29zKGNsYW1wKGRvdChkaXIsaG9yaXpvbl9kaXIpLC0xLjAsMS4wKSksMC4wKTtmbG9hdCBob3Jpem9uX2FuZ2xlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5oaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9Z2xvYmVfcG9zX2RvdF9kaXIqZGlyO2hpZ2hwIGZsb2F0IGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKTtoaWdocCBmbG9hdCB0aGV0YT1hc2luKGNsYW1wKGNsb3Nlc3RfcG9pbnRfdG9fY2VudGVyL2xlbmd0aCh1X2dsb2JlX3BvcyksLTEuMCwxLjApKTtob3Jpem9uX2FuZ2xlPWdsb2JlX3Bvc19kb3RfZGlyIDwgMC4wID9cXG5QSS10aGV0YS11X2hvcml6b25fYW5nbGUgOiB0aGV0YS11X2hvcml6b25fYW5nbGU7ZmxvYXQgYW5nbGVfdD1wb3codV90cmFuc2l0aW9uLDEwLjApO2hvcml6b25fYW5nbGU9bWl4KGhvcml6b25fYW5nbGUsaG9yaXpvbl9hbmdsZV9tZXJjYXRvcixhbmdsZV90KTtcXG4jZWxzZVxcbmhvcml6b25fYW5nbGU9aG9yaXpvbl9hbmdsZV9tZXJjYXRvcjtcXG4jZW5kaWZcXG5ob3Jpem9uX2FuZ2xlLz1QSTtmbG9hdCB0PWV4cCgtaG9yaXpvbl9hbmdsZS91X2ZhZGVvdXRfcmFuZ2UpO2Zsb2F0IGFscGhhXzA9dV9jb2xvci5hO2Zsb2F0IGFscGhhXzE9dV9oaWdoX2NvbG9yLmE7ZmxvYXQgYWxwaGFfMj11X3NwYWNlX2NvbG9yLmE7dmVjMyBjb2xvcl9zdG9wXzA9dV9jb2xvci5yZ2I7dmVjMyBjb2xvcl9zdG9wXzE9dV9oaWdoX2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMj11X3NwYWNlX2NvbG9yLnJnYjtcXG4jaWZkZWYgQUxQSEFfUEFTU1xcbmZsb2F0IGEwPW1peChhbHBoYV8yLDEuMCxhbHBoYV8xKTtmbG9hdCBhMT1taXgoYTAsMS4wLGFscGhhXzApO2Zsb2F0IGEyPW1peChhMCxhMSx0KTtmbG9hdCBhID1taXgoYWxwaGFfMixhMix0KTtnbEZyYWdDb2xvcj12ZWM0KDEuMCwxLjAsMS4wLGEpO1xcbiNlbHNlXFxudmVjMyBjMD1taXgoY29sb3Jfc3RvcF8yLGNvbG9yX3N0b3BfMSxhbHBoYV8xKTt2ZWMzIGMxPW1peChjMCxjb2xvcl9zdG9wXzAsYWxwaGFfMCk7dmVjMyBjMj1taXgoYzAsYzEsdCk7dmVjMyBjPWMyO1xcbiNpZm5kZWYgTkFUSVZFXFxuYz1kaXRoZXIoYyxnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPXZlYzQoYyp0LHQpO1xcbiNlbmRpZlxcbn0nLFwiaW4gdmVjMyBhX3BvcztpbiB2ZWMyIGFfdXY7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGZsb2F0IHVfaG9yaXpvbjtvdXQgaGlnaHAgdmVjMyB2X3JheV9kaXI7b3V0IGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2Rpcjt2b2lkIG1haW4oKSB7dl9yYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cixhX3V2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLGFfdXYueCksYV91di55KTt2X2hvcml6b25fZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV9ibCx1X2hvcml6b24pLG1peCh1X2ZydXN0dW1fdHIsdV9mcnVzdHVtX2JyLHVfaG9yaXpvbiksYV91di54KTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDEuMCk7fVwiKSxtb2RlbDpKbygnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHZlYzMgdV9saWdodGNvbG9yO3VuaWZvcm0gdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIHZlYzQgdV9iYXNlQ29sb3JGYWN0b3I7dW5pZm9ybSB2ZWM0IHVfZW1pc3NpdmVGYWN0b3I7dW5pZm9ybSBmbG9hdCB1X21ldGFsbGljRmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9yb3VnaG5lc3NGYWN0b3I7dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO2luIGhpZ2hwIHZlYzQgdl9wb3NpdGlvbl9oZWlnaHQ7aW4gbG93cCB2ZWM0IHZfY29sb3JfbWl4O1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmluIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO2luIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO2luIGZsb2F0IHZfZGVwdGhfc2hhZG93cztcXG4jZW5kaWZcXG4jaWZkZWYgT0NDTFVTSU9OX1RFWFRVUkVfVFJBTlNGT1JNXFxudW5pZm9ybSB2ZWM0IHVfb2NjbHVzaW9uVGV4dHVyZVRyYW5zZm9ybTtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgY29sb3JfM2ZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWM0IGNvbG9yXzRmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxuaW4gbG93cCB2ZWM0IHZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhO2luIG1lZGl1bXAgdmVjNCB2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXM7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19URVhUVVJFX3VfYmFzZUNvbG9yVGV4dHVyZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfYmFzZUNvbG9yVGV4dHVyZTt1bmlmb3JtIGJvb2wgdV9iYXNlVGV4dHVyZUlzQWxwaGE7dW5pZm9ybSBib29sIHVfYWxwaGFNYXNrO3VuaWZvcm0gZmxvYXQgdV9hbHBoYUN1dG9mZjtcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9tZXRhbGxpY1JvdWdobmVzc1RleHR1cmVcXG51bmlmb3JtIHNhbXBsZXIyRCB1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZTtcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9vY2NsdXNpb25UZXh0dXJlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9vY2NsdXNpb25UZXh0dXJlO3VuaWZvcm0gZmxvYXQgdV9hb0ludGVuc2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9ub3JtYWxUZXh0dXJlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9ub3JtYWxUZXh0dXJlO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZW1pc3Npb25UZXh0dXJlO1xcbiNlbmRpZlxcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbmluIGhpZ2hwIGZsb2F0IHZfZGVwdGg7dW5pZm9ybSBzYW1wbGVyMkQgdV9kZXB0aFRleHR1cmU7dW5pZm9ybSB2ZWMyIHVfaW52X2RlcHRoX3NpemU7Ym9vbCBpc09jY2x1ZGVkKCkge3ZlYzIgY29vcmQ9Z2xfRnJhZ0Nvb3JkLnh5KnVfaW52X2RlcHRoX3NpemU7aGlnaHAgZmxvYXQgZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUodV9kZXB0aFRleHR1cmUsY29vcmQpKTtyZXR1cm4gdl9kZXB0aCA+IGRlcHRoKzAuMDAwNTt9XFxuI2VuZGlmXFxuI2RlZmluZSBzYXR1cmF0ZShfeCkgY2xhbXAoX3gsMC4sMS4pXFxudmVjMyBsaW5lYXJUb3NSR0IodmVjMyBjb2xvcikge3JldHVybiBwb3coY29sb3IsdmVjMygxLi8yLjIpKTt9dmVjMyBzUkdCVG9MaW5lYXIodmVjMyBzcmdiSW4pIHtyZXR1cm4gcG93KHNyZ2JJbix2ZWMzKDIuMikpO31mbG9hdCBjYWxjdWxhdGVfTmRvdEwodmVjMyBub3JtYWwsdmVjMyBsaWdodERpcikge2NvbnN0IGZsb2F0IGV4dD0wLjcwNzEwNjc4MTE4O3JldHVybiAoY2xhbXAoZG90KG5vcm1hbCxsaWdodERpciksLWV4dCwxLjApK2V4dCkvKDEuMCtleHQpO312ZWMzIGdldERpZmZ1c2VTaGFkZWRDb2xvcih2ZWMzIGFsYmVkbyx2ZWMzIG5vcm1hbCx2ZWMzIGxpZ2h0RGlyLHZlYzMgbGlnaHRDb2xvcilcXG57XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52ZWMzIHRyYW5zZm9ybWVkX25vcm1hbD12ZWMzKC1ub3JtYWwueHksbm9ybWFsLnopO2Zsb2F0IGxpZ2h0aW5nX2ZhY3RvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbCh0cmFuc2Zvcm1lZF9ub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoX3NoYWRvd3MpO1xcbiNlbHNlXFxubGlnaHRpbmdfZmFjdG9yPXNhdHVyYXRlKGRvdCh0cmFuc2Zvcm1lZF9ub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpKTtcXG4jZW5kaWZcXG5yZXR1cm4gYXBwbHlfbGlnaHRpbmcoYWxiZWRvLHRyYW5zZm9ybWVkX25vcm1hbCxsaWdodGluZ19mYWN0b3IpO1xcbiNlbHNlXFxudmVjMyBuPW5vcm1hbDtmbG9hdCBjb2xvcnZhbHVlPSgoYWxiZWRvLngqMC4yMTI2KSsoYWxiZWRvLnkqMC43MTUyKSkrKGFsYmVkby56KjAuMDcyMik7dmVjMyBjPXZlYzMoMC4wMywwLjAzLDAuMDMpO2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChuLHZlYzMobGlnaHREaXIpKSwwLjAsMS4wKTtkaXJlY3Rpb25hbD1taXgoMS4wLXVfbGlnaHRpbnRlbnNpdHksbWF4KCgxLjAtY29sb3J2YWx1ZSkrdV9saWdodGludGVuc2l0eSwxLjApLGRpcmVjdGlvbmFsKTt2ZWMzIGMzPWMrY2xhbXAoKGFsYmVkbypkaXJlY3Rpb25hbCkqbGlnaHRDb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSx2ZWMzKDEuMCktbGlnaHRDb2xvciksdmVjMygxLjApKTtyZXR1cm4gYzM7XFxuI2VuZGlmXFxufXZlYzQgZ2V0QmFzZUNvbG9yKCkge3ZlYzQgYWxiZWRvPXVfYmFzZUNvbG9yRmFjdG9yO1xcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfY29sb3JfM2ZcXG5hbGJlZG8qPXZlYzQoY29sb3JfM2YsMS4wKTtcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbiNlbHNlXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlxcbmFsYmVkbyo9Y29sb3JfNGY7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmIGRlZmluZWQgKEhBU19URVhUVVJFX3VfYmFzZUNvbG9yVGV4dHVyZSkgJiYgZGVmaW5lZCAoSEFTX0FUVFJJQlVURV9hX3V2XzJmKVxcbnZlYzQgdGV4Q29sb3I9dGV4dHVyZSh1X2Jhc2VDb2xvclRleHR1cmUsdXZfMmYpO2lmKHVfYWxwaGFNYXNrKSB7aWYgKHRleENvbG9yLncgPCB1X2FscGhhQ3V0b2ZmKSB7ZGlzY2FyZDt9fVxcbiNpZmRlZiBVTlBSRU1VTFRfVEVYVFVSRV9JTl9TSEFERVJcXG5pZih0ZXhDb2xvci53ID4gMC4wKSB7dGV4Q29sb3IucmdiLz10ZXhDb2xvci53O310ZXhDb2xvci53PTEuMDtcXG4jZW5kaWZcXG5pZih1X2Jhc2VUZXh0dXJlSXNBbHBoYSkge2lmICh0ZXhDb2xvci5yIDwgMC41KSB7ZGlzY2FyZDt9fSBlbHNlIHt0ZXhDb2xvci5yZ2I9c1JHQlRvTGluZWFyKHRleENvbG9yLnJnYik7YWxiZWRvKj10ZXhDb2xvcjt9XFxuI2VuZGlmXFxucmV0dXJuIHZlYzQobWl4KGFsYmVkby5yZ2Isdl9jb2xvcl9taXgucmdiLHZfY29sb3JfbWl4LmEpLGFsYmVkby5hKTt9aGlnaHAgbWF0MyBjb3RhbmdlbnRGcmFtZShoaWdocCB2ZWMzIE4saGlnaHAgdmVjMyBwLGhpZ2hwIHZlYzIgdXYgKSB7XFxuI2lmZGVmIEhBU19URVhUVVJFX3Vfbm9ybWFsVGV4dHVyZVxcbmhpZ2hwIHZlYzMgZHAxPXZlYzMoZEZkeChwLngpLGRGZHgocC55KSxkRmR4KHAueikpO2hpZ2hwIHZlYzMgZHAyPXZlYzMoZEZkeShwLngpLGRGZHkocC55KSxkRmR5KHAueikpO2hpZ2hwIHZlYzIgZHV2MT12ZWMyKGRGZHgodXYueCksZEZkeCh1di55KSk7aGlnaHAgdmVjMiBkdXYyPXZlYzIoZEZkeSh1di54KSxkRmR5KHV2LnkpKTtoaWdocCB2ZWMzIGRwMnBlcnA9Y3Jvc3MoIGRwMixOICk7aGlnaHAgdmVjMyBkcDFwZXJwPWNyb3NzKCBOLGRwMSApO2hpZ2hwIHZlYzMgVD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDtoaWdocCB2ZWMzIEI9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7aGlnaHAgZmxvYXQgbGVuZ3RoVD1kb3QoVCxUKTtoaWdocCBmbG9hdCBsZW5ndGhCPWRvdChCLEIpO2hpZ2hwIGZsb2F0IG1heExlbmd0aD1tYXgobGVuZ3RoVCxsZW5ndGhCKTtoaWdocCBmbG9hdCBpbnZtYXg9aW52ZXJzZXNxcnQoIG1heExlbmd0aCApO2hpZ2hwIG1hdDMgcmVzPW1hdDMoIFQqaW52bWF4LEIqaW52bWF4LE4gKTtyZXR1cm4gcmVzO1xcbiNlbHNlXFxucmV0dXJuIG1hdDMoMS4wKTtcXG4jZW5kaWZcXG59aGlnaHAgdmVjMyBnZXROb3JtYWwoKXtoaWdocCB2ZWMzIG47XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9ub3JtYWxfM2ZcXG5uPW5vcm1hbGl6ZShub3JtYWxfM2YpO1xcbiNlbHNlXFxuaGlnaHAgdmVjMyBmZHg9dmVjMyhkRmR4KHZfcG9zaXRpb25faGVpZ2h0LngpLGRGZHgodl9wb3NpdGlvbl9oZWlnaHQueSksZEZkeCh2X3Bvc2l0aW9uX2hlaWdodC56KSk7aGlnaHAgdmVjMyBmZHk9dmVjMyhkRmR5KHZfcG9zaXRpb25faGVpZ2h0LngpLGRGZHkodl9wb3NpdGlvbl9oZWlnaHQueSksZEZkeSh2X3Bvc2l0aW9uX2hlaWdodC56KSk7bj1ub3JtYWxpemUoY3Jvc3MoZmR4LGZkeSkpKi0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoSEFTX1RFWFRVUkVfdV9ub3JtYWxUZXh0dXJlKSAmJiBkZWZpbmVkKEhBU19BVFRSSUJVVEVfYV91dl8yZilcXG52ZWMzIG5NYXA9dGV4dHVyZSggdV9ub3JtYWxUZXh0dXJlLHV2XzJmKS54eXo7bk1hcD1ub3JtYWxpemUoMi4wKm5NYXAtdmVjMygxLjApKTtoaWdocCB2ZWMzIHY9bm9ybWFsaXplKC12X3Bvc2l0aW9uX2hlaWdodC54eXopO2hpZ2hwIG1hdDMgVEJOPWNvdGFuZ2VudEZyYW1lKG4sdix1dl8yZik7bj1ub3JtYWxpemUoVEJOKm5NYXApO1xcbiNlbmRpZlxcbnJldHVybiBuO31zdHJ1Y3QgTWF0ZXJpYWwge2Zsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3M7ZmxvYXQgYWxwaGFSb3VnaG5lc3M7ZmxvYXQgbWV0YWxsaWM7dmVjMyBmOTA7dmVjNCBiYXNlQ29sb3I7dmVjMyBkaWZmdXNlQ29sb3I7dmVjMyBzcGVjdWxhckNvbG9yO2hpZ2hwIHZlYzMgbm9ybWFsO307TWF0ZXJpYWwgZ2V0UEJSTWF0ZXJpYWwoKSB7TWF0ZXJpYWwgbWF0O21hdC5iYXNlQ29sb3I9Z2V0QmFzZUNvbG9yKCk7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9dV9yb3VnaG5lc3NGYWN0b3I7bWF0Lm1ldGFsbGljPXVfbWV0YWxsaWNGYWN0b3I7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9wYnJcXG5tYXQucGVyY2VwdHVhbFJvdWdobmVzcz12X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS54O21hdC5tZXRhbGxpYz12X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS55O21hdC5iYXNlQ29sb3Iudyo9dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEudztcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpIFxcbnZlYzQgbXJTYW1wbGU9dGV4dHVyZSh1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZSx1dl8yZik7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqPW1yU2FtcGxlLmc7bWF0Lm1ldGFsbGljKj1tclNhbXBsZS5iO1xcbiNlbmRpZlxcbmNvbnN0IGZsb2F0IGNfbWluUm91Z2huZXNzPTAuMDQ7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9Y2xhbXAobWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MsY19taW5Sb3VnaG5lc3MsMS4wKTttYXQubWV0YWxsaWM9c2F0dXJhdGUobWF0Lm1ldGFsbGljKTttYXQuYWxwaGFSb3VnaG5lc3M9bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqbWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M7Y29uc3QgdmVjMyBmMD12ZWMzKDAuMDQpO21hdC5kaWZmdXNlQ29sb3I9bWF0LmJhc2VDb2xvci5yZ2IqKHZlYzMoMS4wKS1mMCk7bWF0LmRpZmZ1c2VDb2xvcio9MS4wLW1hdC5tZXRhbGxpYzttYXQuc3BlY3VsYXJDb2xvcj1taXgoZjAsbWF0LmJhc2VDb2xvci5yZ2IsbWF0Lm1ldGFsbGljKTtoaWdocCBmbG9hdCByZWZsZWN0YW5jZT1tYXgobWF4KG1hdC5zcGVjdWxhckNvbG9yLnIsbWF0LnNwZWN1bGFyQ29sb3IuZyksbWF0LnNwZWN1bGFyQ29sb3IuYik7aGlnaHAgZmxvYXQgcmVmbGVjdGFuY2U5MD1zYXR1cmF0ZShyZWZsZWN0YW5jZSoyNS4wKTttYXQuZjkwPXZlYzMocmVmbGVjdGFuY2U5MCk7bWF0Lm5vcm1hbD1nZXROb3JtYWwoKTtyZXR1cm4gbWF0O31mbG9hdCBWX0dHWChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpXFxue2Zsb2F0IGEyPXJvdWdobmVzcypyb3VnaG5lc3M7ZmxvYXQgR0dYVj1OZG90TCpzcXJ0KE5kb3RWKk5kb3RWKigxLjAtYTIpK2EyKTtmbG9hdCBHR1hMPU5kb3RWKnNxcnQoTmRvdEwqTmRvdEwqKDEuMC1hMikrYTIpO3JldHVybiAwLjUvKEdHWFYrR0dYTCk7fWZsb2F0IFZfR0dYRmFzdChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpIHtmbG9hdCBhPXJvdWdobmVzcztmbG9hdCBHR1hWPU5kb3RMKihOZG90ViooMS4wLWEpK2EpO2Zsb2F0IEdHWEw9TmRvdFYqKE5kb3RMKigxLjAtYSkrYSk7cmV0dXJuIDAuNS8oR0dYVitHR1hMKTt9dmVjMyBGX1NjaGxpY2sodmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZjkwLGZsb2F0IFZkb3RIKVxcbntyZXR1cm4gc3BlY3VsYXJDb2xvcisoZjkwLXNwZWN1bGFyQ29sb3IpKnBvdyhjbGFtcCgxLjAtVmRvdEgsMC4wLDEuMCksNS4wKTt9dmVjMyBGX1NjaGxpY2tGYXN0KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCBWZG90SClcXG57ZmxvYXQgeD0xLjAtVmRvdEg7ZmxvYXQgeDQ9eCp4KngqeDtyZXR1cm4gc3BlY3VsYXJDb2xvcisoMS4wLXNwZWN1bGFyQ29sb3IpKng0Kng7fWZsb2F0IERfR0dYKGhpZ2hwIGZsb2F0IE5kb3RILGZsb2F0IGFscGhhUm91Z2huZXNzKVxcbntoaWdocCBmbG9hdCBhND1hbHBoYVJvdWdobmVzcyphbHBoYVJvdWdobmVzcztoaWdocCBmbG9hdCBmPShOZG90SCphNC1OZG90SCkqTmRvdEgrMS4wO3JldHVybiBhNC8oUEkqZipmKTt9dmVjMyBkaWZmdXNlQnVybGV5KE1hdGVyaWFsIG1hdCxmbG9hdCBMZG90SCxmbG9hdCBOZG90TCxmbG9hdCBOZG90VilcXG57ZmxvYXQgZjkwPTIuMCpMZG90SCpMZG90SCptYXQuYWxwaGFSb3VnaG5lc3MtMC41O3JldHVybiAobWF0LmRpZmZ1c2VDb2xvci9QSSkqKDEuMCtmOTAqcG93KCgxLjAtTmRvdEwpLDUuMCkpKigxLjArZjkwKnBvdygoMS4wLU5kb3RWKSw1LjApKTt9dmVjMyBkaWZmdXNlTGFtYmVydGlhbihNYXRlcmlhbCBtYXQpXFxue1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxucmV0dXJuIG1hdC5kaWZmdXNlQ29sb3I7XFxuI2Vsc2VcXG5yZXR1cm4gbWF0LmRpZmZ1c2VDb2xvci9QSTtcXG4jZW5kaWZcXG59dmVjMyBFbnZCUkRGQXBwcm94KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByb3VnaG5lc3MsaGlnaHAgZmxvYXQgTmRvdFYpXFxue3ZlYzQgYzA9dmVjNCgtMSwtMC4wMjc1LC0wLjU3MiwwLjAyMik7dmVjNCBjMT12ZWM0KDEsMC4wNDI1LDEuMDQsLTAuMDQpO2hpZ2hwIHZlYzQgcj1yb3VnaG5lc3MqYzArYzE7aGlnaHAgZmxvYXQgYTAwND1taW4oci54KnIueCxleHAyKC05LjI4Kk5kb3RWKSkqci54K3IueTt2ZWMyIEFCPXZlYzIoLTEuMDQsMS4wNCkqYTAwNCtyLnp3O3JldHVybiBzcGVjdWxhckNvbG9yKkFCLngrQUIueTt9dmVjMyBjb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihNYXRlcmlhbCBtYXQsZmxvYXQgTmRvdFYsdmVjMyBub3JtYWwpXFxue3ZlYzMgZW52X2xpZ2h0PXZlYzMoMC42NSwwLjY1LDAuNjUpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuZmxvYXQgYW1iaWVudF9mYWN0b3I9Y2FsY3VsYXRlX2FtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yKG5vcm1hbCk7ZW52X2xpZ2h0PXVfbGlnaHRpbmdfYW1iaWVudF9jb2xvciphbWJpZW50X2ZhY3RvcjtcXG4jZW5kaWZcXG52ZWMzIGVudkJSREY9RW52QlJERkFwcHJveChtYXQuc3BlY3VsYXJDb2xvcixtYXQucGVyY2VwdHVhbFJvdWdobmVzcyxOZG90Vik7dmVjMyBpbmRpcmVjdFNwZWN1bGFyPSBlbnZCUkRGKmVudl9saWdodDt2ZWMzIGluZGlyZWN0RGlmZnVzZT1tYXQuZGlmZnVzZUNvbG9yKmVudl9saWdodDtyZXR1cm4gaW5kaXJlY3RTcGVjdWxhcitpbmRpcmVjdERpZmZ1c2U7fXZlYzMgY29tcHV0ZUxpZ2h0Q29udHJpYnV0aW9uKE1hdGVyaWFsIG1hdCx2ZWMzIGxpZ2h0UG9zaXRpb24sdmVjMyBsaWdodENvbG9yKVxcbntoaWdocCB2ZWMzIG49bWF0Lm5vcm1hbDtoaWdocCB2ZWMzIHY9bm9ybWFsaXplKC12X3Bvc2l0aW9uX2hlaWdodC54eXopO2hpZ2hwIHZlYzMgbD1ub3JtYWxpemUobGlnaHRQb3NpdGlvbik7aGlnaHAgdmVjMyBoPW5vcm1hbGl6ZSh2K2wpO2Zsb2F0IE5kb3RWPWNsYW1wKGFicyhkb3Qobix2KSksMC4wMDEsMS4wKTtmbG9hdCBOZG90TD1zYXR1cmF0ZShkb3QobixsKSk7aGlnaHAgZmxvYXQgTmRvdEg9c2F0dXJhdGUoZG90KG4saCkpO2Zsb2F0IFZkb3RIPXNhdHVyYXRlKGRvdCh2LGgpKTt2ZWMzIGY9Rl9TY2hsaWNrRmFzdChtYXQuc3BlY3VsYXJDb2xvcixWZG90SCk7ZmxvYXQgZz1WX0dHWEZhc3QoTmRvdEwsTmRvdFYsbWF0LmFscGhhUm91Z2huZXNzKTtmbG9hdCBkPURfR0dYKE5kb3RILG1hdC5hbHBoYVJvdWdobmVzcyk7dmVjMyBkaWZmdXNlVGVybT0oMS4wLWYpKmRpZmZ1c2VMYW1iZXJ0aWFuKG1hdCk7dmVjMyBzcGVjdWxhclRlcm09ZipnKmQ7dmVjMyB0cmFuc2Zvcm1lZF9ub3JtYWw9dmVjMygtbi54eSxuLnopO2Zsb2F0IGxpZ2h0aW5nX2ZhY3RvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbCh0cmFuc2Zvcm1lZF9ub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoX3NoYWRvd3MpO1xcbiNlbHNlXFxubGlnaHRpbmdfZmFjdG9yPU5kb3RMO1xcbiNlbmRpZlxcbnZlYzMgZGlyZWN0TGlnaHRDb2xvcj0oc3BlY3VsYXJUZXJtK2RpZmZ1c2VUZXJtKSpsaWdodGluZ19mYWN0b3IqbGlnaHRDb2xvcjt2ZWMzIGluZGlyZWN0TGlnaHRDb2xvcj1jb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihtYXQsTmRvdFYsdHJhbnNmb3JtZWRfbm9ybWFsKTt2ZWMzIGNvbG9yPShzYXR1cmF0ZShkaXJlY3RMaWdodENvbG9yKStpbmRpcmVjdExpZ2h0Q29sb3IpO2Zsb2F0IGludGVuc2l0eUZhY3Rvcj0xLjA7XFxuI2lmICFkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuY29uc3QgdmVjMyBsdW1pbm9zaXR5RmFjdG9yPXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpO2Zsb2F0IGx1bWluYW5jZT1kb3QoZGlmZnVzZVRlcm0sbHVtaW5vc2l0eUZhY3Rvcik7aW50ZW5zaXR5RmFjdG9yPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWx1bWluYW5jZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5jb2xvcio9aW50ZW5zaXR5RmFjdG9yO3JldHVybiBjb2xvcjt9dm9pZCBtYWluKCkge1xcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbmlmIChpc09jY2x1ZGVkKCkpIHtkaXNjYXJkO31cXG4jZW5kaWZcXG52ZWMzIGxpZ2h0RGlyPXVfbGlnaHRwb3M7dmVjMyBsaWdodENvbG9yPXVfbGlnaHRjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmxpZ2h0RGlyPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyO2xpZ2h0RGlyLnh5PS1saWdodERpci54eTtsaWdodENvbG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I7XFxuI2VuZGlmXFxudmVjNCBmaW5hbENvbG9yO1xcbiNpZmRlZiBESUZGVVNFX1NIQURFRFxcbnZlYzMgTj1nZXROb3JtYWwoKTt2ZWMzIGJhc2VDb2xvcj1nZXRCYXNlQ29sb3IoKS5yZ2I7dmVjMyBkaWZmdXNlPWdldERpZmZ1c2VTaGFkZWRDb2xvcihiYXNlQ29sb3IsTixsaWdodERpcixsaWdodENvbG9yKTtcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9vY2NsdXNpb25UZXh0dXJlXFxuZmxvYXQgYW89KHRleHR1cmUodV9vY2NsdXNpb25UZXh0dXJlLHV2XzJmKS5yLTEuMCkqdV9hb0ludGVuc2l0eSsxLjA7ZGlmZnVzZSo9YW87XFxuI2VuZGlmXFxuZmluYWxDb2xvcj12ZWM0KG1peChkaWZmdXNlLGJhc2VDb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKSwxLjApKnVfb3BhY2l0eTtcXG4jZWxzZVxcbk1hdGVyaWFsIG1hdD1nZXRQQlJNYXRlcmlhbCgpO3ZlYzMgY29sb3I9Y29tcHV0ZUxpZ2h0Q29udHJpYnV0aW9uKG1hdCxsaWdodERpcixsaWdodENvbG9yKTtmbG9hdCBhbz0xLjA7XFxuI2lmIGRlZmluZWQgKEhBU19URVhUVVJFX3Vfb2NjbHVzaW9uVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxuI2lmZGVmIE9DQ0xVU0lPTl9URVhUVVJFX1RSQU5TRk9STVxcbnZlYzIgdXY9dXZfMmYueHkqdV9vY2NsdXNpb25UZXh0dXJlVHJhbnNmb3JtLnp3K3Vfb2NjbHVzaW9uVGV4dHVyZVRyYW5zZm9ybS54eTtcXG4jZWxzZVxcbnZlYzIgdXY9dXZfMmY7XFxuI2VuZGlmXFxuYW89KHRleHR1cmUodV9vY2NsdXNpb25UZXh0dXJlLHV2KS54LTEuMCkqdV9hb0ludGVuc2l0eSsxLjA7Y29sb3IqPWFvO1xcbiNlbmRpZlxcbnZlYzQgZW1pc3NpdmU9dV9lbWlzc2l2ZUZhY3RvcjtcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxuZW1pc3NpdmUucmdiKj1zUkdCVG9MaW5lYXIodGV4dHVyZSh1X2VtaXNzaW9uVGV4dHVyZSx1dl8yZikucmdiKTtcXG4jZW5kaWZcXG5jb2xvcis9ZW1pc3NpdmUucmdiO2Zsb2F0IG9wYWNpdHk9bWF0LmJhc2VDb2xvci53KnVfb3BhY2l0eTtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbmZsb2F0IHJlc0VtaXNzaW9uPXZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLno7cmVzRW1pc3Npb24qPXZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy56K3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy53KnBvdyhjbGFtcCh2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMueCwwLjAsMS4wKSx2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMueSk7Y29sb3I9bWl4KGNvbG9yLHZfY29sb3JfbWl4LnJnYixtaW4oMS4wLHJlc0VtaXNzaW9uKSk7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlxcbmZsb2F0IGRpc3RhbmNlPWxlbmd0aCh2ZWMyKDEuMyptYXgoMC4wLGFicyhjb2xvcl80Zi54KS1jb2xvcl80Zi56KSxjb2xvcl80Zi55KSk7ZGlzdGFuY2UrPSBtaXgoMC41LDAuMCxjbGFtcChyZXNFbWlzc2lvbi0xLjAsMC4wLDEuMCkpO29wYWNpdHkqPXZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLncqc2F0dXJhdGUoMS4wLWRpc3RhbmNlKmRpc3RhbmNlKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG52ZWMzIHVubGl0Q29sb3I9bWF0LmJhc2VDb2xvci5yZ2IqYW8rZW1pc3NpdmUucmdiO2NvbG9yPW1peChjb2xvcix1bmxpdENvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO2NvbG9yPWxpbmVhclRvc1JHQihjb2xvcik7Y29sb3IqPW9wYWNpdHk7ZmluYWxDb2xvcj12ZWM0KGNvbG9yLG9wYWNpdHkpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5maW5hbENvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoZmluYWxDb2xvcix2X2ZvZ19wb3Msdl9wb3NpdGlvbl9oZWlnaHQudykpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZmluYWxDb2xvcio9dl9jdXRvZmZfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgSU5ESUNBVE9SX0NVVE9VVFxcbmZpbmFsQ29sb3I9YXBwbHlDdXRvdXQoZmluYWxDb2xvcik7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9ZmluYWxDb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjMyBhX3Bvc18zZjtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzIgdXZfMmZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjNCBjb2xvcl80ZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlLXZlcnRleC1zaGFkZXItb25seSBoaWdocCB2ZWM0IHBiclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlLXZlcnRleC1zaGFkZXItb25seSBoaWdocCB2ZWMzIGhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9saWdodGluZ19tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX3Bvczt1bmlmb3JtIHZlYzQgdV9jb2xvcl9taXg7XFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDA7aW4gdmVjNCBhX25vcm1hbF9tYXRyaXgxO2luIHZlYzQgYV9ub3JtYWxfbWF0cml4MjtpbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDM7XFxuI2Vsc2VcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9ub3JtYWxfbWF0cml4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO291dCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtvdXQgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7b3V0IGZsb2F0IHZfZGVwdGhfc2hhZG93cztcXG4jZW5kaWZcXG5vdXQgdmVjNCB2X3Bvc2l0aW9uX2hlaWdodDtvdXQgbG93cCB2ZWM0IHZfY29sb3JfbWl4O1xcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbm91dCBoaWdocCBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxub3V0IGxvd3AgdmVjNCB2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYTtvdXQgbWVkaXVtcCB2ZWM0IHZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcztcXG4jZW5kaWZcXG52ZWMzIHNSR0JUb0xpbmVhcih2ZWMzIHNyZ2JJbikge3JldHVybiBwb3coc3JnYkluLHZlYzMoMi4yKSk7fXZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMyBub3JtYWxfM2ZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tIGhpZ2hwIHZlYzQgcGJyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlLWN1c3RvbSBoaWdocCB2ZWMzIGhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFxcbmhpZ2hwIG1hdDQgbm9ybWFsX21hdHJpeDtcXG4jaWZkZWYgSU5TVEFOQ0VEX0FSUkFZU1xcbm5vcm1hbF9tYXRyaXg9bWF0NChhX25vcm1hbF9tYXRyaXgwLGFfbm9ybWFsX21hdHJpeDEsYV9ub3JtYWxfbWF0cml4MixhX25vcm1hbF9tYXRyaXgzKTtcXG4jZWxzZVxcbm5vcm1hbF9tYXRyaXg9dV9ub3JtYWxfbWF0cml4O1xcbiNlbmRpZlxcbnZlYzMgbG9jYWxfcG9zO21hdDMgcnM7XFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbnZlYzMgcG9zX2NvbG9yPW5vcm1hbF9tYXRyaXhbMF0ueHl6O3ZlYzQgdHJhbnNsYXRlPW5vcm1hbF9tYXRyaXhbMV07dmVjMyBwb3NfYT1mbG9vcihwb3NfY29sb3IpO3ZlYzMgcmdiPTEuMDUqKHBvc19jb2xvci1wb3NfYSk7ZmxvYXQgY29sb3JfbWl4PXBvc19hLnovMTAwLjA7dl9jb2xvcl9taXg9dmVjNChzUkdCVG9MaW5lYXIocmdiKSxjb2xvcl9taXgpO2Zsb2F0IG1ldGVyX3RvX3RpbGU9bm9ybWFsX21hdHJpeFswXS53O3ZlYzQgcG9zPXZlYzQocG9zX2EueHksdHJhbnNsYXRlLnosMS4wKTtyc1swXS54PW5vcm1hbF9tYXRyaXhbMV0udztyc1swXS55ej1ub3JtYWxfbWF0cml4WzJdLnh5O3JzWzFdLnh5PW5vcm1hbF9tYXRyaXhbMl0uenc7cnNbMV0uej1ub3JtYWxfbWF0cml4WzNdLng7cnNbMl0ueHl6PW5vcm1hbF9tYXRyaXhbM10ueXp3O3ZlYzQgcG9zX25vZGU9dV9saWdodGluZ19tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO3ZlYzMgcm90YXRlZF9wb3Nfbm9kZT1ycypwb3Nfbm9kZS54eXo7dmVjMyBwb3NfbW9kZWxfdGlsZT0ocm90YXRlZF9wb3Nfbm9kZSt2ZWMzKHRyYW5zbGF0ZS54eSwwLjApKSp2ZWMzKG1ldGVyX3RvX3RpbGUsbWV0ZXJfdG9fdGlsZSwxLjApO3Bvcy54eXorPXBvc19tb2RlbF90aWxlO2xvY2FsX3Bvcz1wb3MueHl6O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnBvcztwb3Mueio9bWV0ZXJfdG9fdGlsZTt2X3Bvc2l0aW9uX2hlaWdodC54eXo9cG9zLnh5ei11X2NhbWVyYV9wb3M7XFxuI2Vsc2VcXG5sb2NhbF9wb3M9YV9wb3NfM2Y7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxKTt2X3Bvc2l0aW9uX2hlaWdodC54eXo9dmVjMyh1X2xpZ2h0aW5nX21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEpKTt2X2NvbG9yX21peD12ZWM0KHNSR0JUb0xpbmVhcih1X2NvbG9yX21peC5yZ2IpLHVfY29sb3JfbWl4LmEpO1xcbiNlbmRpZlxcbnZfcG9zaXRpb25faGVpZ2h0Lnc9YV9wb3NfM2YuejtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbnZlYzQgYWxiZWRvX2M9ZGVjb2RlX2NvbG9yKHBici54eSk7dmVjMiBlX3JfbT11bnBhY2tfZmxvYXQocGJyLnopO3ZlYzIgcl9tPSB1bnBhY2tfZmxvYXQoZV9yX20ueSoxNi4wKTtyX20ucj1yX20ucioxNi4wO3ZfY29sb3JfbWl4PXZlYzQoYWxiZWRvX2MucmdiLDEuMCk7dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGE9dmVjNCh2ZWMzKHJfbSxlX3JfbS54KS8yNTUuMCxhbGJlZG9fYy5hKTt2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS56Kj0yLjA7ZmxvYXQgaGVpZ2h0QmFzZWRSZWxhdGl2ZUludGVwb2xhdGlvbj1hX3Bvc18zZi56KmhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aC54K2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aC55O3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy54PWhlaWdodEJhc2VkUmVsYXRpdmVJbnRlcG9sYXRpb247dl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zLnk9aGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoLno7dmVjMiBlbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXM9dW5wYWNrX2Zsb2F0KHBici53KS8yNTYuMDt2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMuej1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueDt2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMudz1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueS1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueDtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihsb2NhbF9wb3MpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxuI2lmZGVmIFRFUlJBSU5fRlJBR01FTlRfT0NDTFVTSU9OXFxudl9kZXB0aD1nbF9Qb3NpdGlvbi56L2dsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9ub3JtYWxfM2ZcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxuZmxvYXQgeF9zcXVhcmVkX3NjYWxlPWRvdChyc1swXSxyc1swXSk7ZmxvYXQgeV9zcXVhcmVkX3NjYWxlPWRvdChyc1sxXSxyc1sxXSk7ZmxvYXQgel9zcXVhcmVkX3NjYWxlPWRvdChyc1syXSxyc1syXSk7dmVjMyBzcXVhcmVkX3NjYWxlPXZlYzMoeF9zcXVhcmVkX3NjYWxlLHlfc3F1YXJlZF9zY2FsZSx6X3NxdWFyZWRfc2NhbGUpO25vcm1hbF8zZj1ycyooKHVfbGlnaHRpbmdfbWF0cml4KnZlYzQobm9ybWFsXzNmLDAuMCkpLnh5ei9zcXVhcmVkX3NjYWxlKTtub3JtYWxfM2Y9bm9ybWFsaXplKG5vcm1hbF8zZik7XFxuI2Vsc2VcXG5ub3JtYWxfM2Y9dmVjMyhub3JtYWxfbWF0cml4KnZlYzQobm9ybWFsXzNmLDApKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfY29sb3JfNGZcXG52X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS53PWNsYW1wKGNvbG9yXzRmLmEqdl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEudyoodl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEuei0xLjApLDAuMCwxLjApO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZlYzMgc2hhZG93X3Bvcz1sb2NhbF9wb3M7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlxcbiNpZmRlZiBNT0RFTF9QT1NJVElPTl9PTl9HUFVcXG52ZWMzIG9mZnNldD1zaGFkb3dfbm9ybWFsX29mZnNldCh2ZWMzKC1ub3JtYWxfM2YueHksbm9ybWFsXzNmLnopKTtzaGFkb3dfcG9zKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtcXG4jZWxzZVxcbnZlYzMgb2Zmc2V0PXNoYWRvd19ub3JtYWxfb2Zmc2V0X21vZGVsKG5vcm1hbGl6ZShub3JtYWxfM2YpKTtzaGFkb3dfcG9zKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZW5kaWZcXG52X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHNoYWRvd19wb3MsMSk7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChzaGFkb3dfcG9zLDEpO3ZfZGVwdGhfc2hhZG93cz1nbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbn0nKSxtb2RlbERlcHRoOkpvKFwiaW4gaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI2lmbmRlZiBERVBUSF9URVhUVVJFXFxuZ2xGcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTtcXG4jZW5kaWZcXG59XCIsXCJpbiB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtvdXQgaGlnaHAgZmxvYXQgdl9kZXB0aDtcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDA7aW4gdmVjNCBhX25vcm1hbF9tYXRyaXgxO2luIHZlYzQgYV9ub3JtYWxfbWF0cml4MjtpbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDM7XFxuI2Vsc2VcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9pbnN0YW5jZTtcXG4jZW5kaWZcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9ub2RlX21hdHJpeDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbmhpZ2hwIG1hdDQgaW5zdGFuY2U7XFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbnN0YW5jZT1tYXQ0KGFfbm9ybWFsX21hdHJpeDAsYV9ub3JtYWxfbWF0cml4MSxhX25vcm1hbF9tYXRyaXgyLGFfbm9ybWFsX21hdHJpeDMpO1xcbiNlbHNlXFxuaW5zdGFuY2U9dV9pbnN0YW5jZTtcXG4jZW5kaWZcXG52ZWMzIHBvc19jb2xvcj1pbnN0YW5jZVswXS54eXo7dmVjNCB0cmFuc2xhdGU9aW5zdGFuY2VbMV07dmVjMyBwb3NfYT1mbG9vcihwb3NfY29sb3IpO2Zsb2F0IG1ldGVyX3RvX3RpbGU9aW5zdGFuY2VbMF0udzt2ZWM0IHBvcz12ZWM0KHBvc19hLnh5LHRyYW5zbGF0ZS56LDEuMCk7bWF0MyBycztyc1swXS54PWluc3RhbmNlWzFdLnc7cnNbMF0ueXo9aW5zdGFuY2VbMl0ueHk7cnNbMV0ueHk9aW5zdGFuY2VbMl0uenc7cnNbMV0uej1pbnN0YW5jZVszXS54O3JzWzJdLnh5ej1pbnN0YW5jZVszXS55enc7dmVjNCBwb3Nfbm9kZT11X25vZGVfbWF0cml4KnZlYzQoYV9wb3NfM2YsMS4wKTt2ZWMzIHJvdGF0ZWRfcG9zX25vZGU9cnMqcG9zX25vZGUueHl6O3ZlYzMgcG9zX21vZGVsX3RpbGU9KHJvdGF0ZWRfcG9zX25vZGUrdmVjMyh0cmFuc2xhdGUueHksMC4wKSkqdmVjMyhtZXRlcl90b190aWxlLG1ldGVyX3RvX3RpbGUsMS4wKTtwb3MueHl6Kz1wb3NfbW9kZWxfdGlsZTtnbF9Qb3NpdGlvbj11X21hdHJpeCpwb3M7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEpO1xcbiNlbmRpZlxcbnZfZGVwdGg9Z2xfUG9zaXRpb24uei9nbF9Qb3NpdGlvbi53O31cIiksc3RhcnM6Sm8oXCJpbiBoaWdocCB2ZWMyIHZfdXY7aW4gbWVkaXVtcCBmbG9hdCB2X2ludGVuc2l0eTtmbG9hdCBzaGFwZUNpcmNsZShpbiB2ZWMyIHV2KVxcbntmbG9hdCBiZWdpbkZhZGU9MC42O2Zsb2F0IGxlbmd0aEZyb21DZW50ZXI9bGVuZ3RoKHZfdXYpO3JldHVybiAxLjAtY2xhbXAoKGxlbmd0aEZyb21DZW50ZXItYmVnaW5GYWRlKS8oMS4wLWJlZ2luRmFkZSksMC4wLDEuMCk7fXZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT1zaGFwZUNpcmNsZSh2X3V2KTt2ZWMzIGNvbG9yPXZlYzMoMS4wLDEuMCwxLjApO2FscGhhKj12X2ludGVuc2l0eTtnbEZyYWdDb2xvcj12ZWM0KGNvbG9yKmFscGhhLGFscGhhKTtIQU5ETEVfV0lSRUZSQU1FX0RFQlVHO31cIixcIlxcbmluIHZlYzMgYV9wb3NfM2Y7aW4gdmVjMiBhX3V2O2luIGZsb2F0IGFfc2l6ZV9zY2FsZTtpbiBmbG9hdCBhX2ZhZGVfb3BhY2l0eTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfdXA7dW5pZm9ybSB2ZWMzIHVfcmlnaHQ7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eV9tdWx0aXBsaWVyO291dCBoaWdocCB2ZWMyIHZfdXY7b3V0IG1lZGl1bXAgZmxvYXQgdl9pbnRlbnNpdHk7dm9pZCBtYWluKCkge3ZfdXY9YV91djt2X2ludGVuc2l0eT1hX2ZhZGVfb3BhY2l0eSp1X2ludGVuc2l0eV9tdWx0aXBsaWVyO3ZlYzMgcG9zPWFfcG9zXzNmO3Bvcys9YV91di54KnVfcmlnaHQqYV9zaXplX3NjYWxlO3Bvcys9YV91di55KnVfdXAqYV9zaXplX3NjYWxlO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEuMCk7fVwiKX07ZnVuY3Rpb24gWW8oZSx0KXtjb25zdCBpPWUucmVwbGFjZSgvXFxzKlxcL1xcL1teXFxuXSpcXG4vZyxcIlxcblwiKS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGUgb2YgaSlpZihlPWUudHJpbSgpLFwiI1wiPT09ZVswXSYmZS5pbmNsdWRlcyhcImlmXCIpJiYhZS5pbmNsdWRlcyhcImVuZGlmXCIpKXtlPWUucmVwbGFjZShcIiNcIixcIlwiKS5yZXBsYWNlKC9pZmRlZnxpZm5kZWZ8ZWxpZnxpZi9nLFwiXCIpLnJlcGxhY2UoLyF8ZGVmaW5lZHxcXCh8XFwpfFxcfFxcfHwmJi9nLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO2NvbnN0IGk9ZS5zcGxpdChcIiBcIik7Zm9yKGNvbnN0IGUgb2YgaSl0LmluY2x1ZGVzKGUpfHx0LnB1c2goZSk7fX1mdW5jdGlvbiBKbyhlLHQpe2NvbnN0IGk9LyNpbmNsdWRlXFxzK1wiKFteXCJdKylcIi9nLG89LyNwcmFnbWEgbWFwYm94OiAoW1xcd1xcLV0rKSAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKS9nO2xldCByPXQubWF0Y2goLyhhdHRyaWJ1dGUoXFxTKil8KF5cXHMqfDspaW4pIChoaWdocCB8bWVkaXVtcCB8bG93cCApPyhbXFx3XSspIChbXFx3XSspL2dtKTtyJiYocj1yLm1hcCgoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIiBcIik7cmV0dXJuIHRbdC5sZW5ndGgtMV19KSkscj1bLi4ubmV3IFNldChyKV0pO2NvbnN0IHM9e30sbj1bXSxhPVtdO2lmKGU9ZS5yZXBsYWNlKGksKChlLHQpPT4oYS5wdXNoKHQpLFwiXCIpKSksKHQ9dC5yZXBsYWNlKGksKChlLHQpPT4obi5wdXNoKHQpLFwiXCIpKSkpLmluY2x1ZGVzKFwiZmxhdCBvdXRcIikpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcignVGhlIHVzYWdlIG9mIFwiZmxhdFwiIHF1YWxpZmllciBpcyBkaXNhbGxvd2VkLCBzZWU6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yNjgwNzEnKTtsZXQgbD1bLi4uSG9dO1lvKGUsbCksWW8odCxsKTtmb3IoY29uc3QgZSBvZiBbLi4ubiwuLi5hXSlXb1tlXXx8Y29uc29sZS5lcnJvcihgVW5kZWZpbmVkIGluY2x1ZGU6ICR7ZX1gKSxxb1tlXXx8KHFvW2VdPVtdLFlvKFdvW2VdLHFvW2VdKSksbD1bLi4ubCwuLi5xb1tlXV07cmV0dXJuIHtmcmFnbWVudFNvdXJjZTplPWUucmVwbGFjZShvLCgoZSx0LGksbyxyKT0+KHNbcl09ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke3J9XFxuaW4gJHtpfSAke299ICR7cn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtvfSB1XyR7cn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7cn1cXG4gICAgJHtpfSAke299ICR7cn0gPSB1XyR7cn07XFxuI2VuZGlmXFxuYDpcImRlZmluZS1hdHRyaWJ1dGVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfJHtyfVxcbiAgICBpbiAke2l9ICR7b30gJHtyfTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZS1hdHRyaWJ1dGVcIj09PXQ/XCJcIjp2b2lkIDApKSksdmVydGV4U291cmNlOnQ9dC5yZXBsYWNlKG8sKChlLHQsaSxvLHIpPT57Y29uc3Qgbj1cImZsb2F0XCI9PT1vP1widmVjMlwiOm8sYT1yLm1hdGNoKC9jb2xvci8pP1wiY29sb3JcIjpuO3JldHVybiBcImRlZmluZS1hdHRyaWJ1dGUtdmVydGV4LXNoYWRlci1vbmx5XCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7cn1cXG5pbiAke2l9ICR7b30gYV8ke3J9O1xcbiNlbmRpZlxcbmA6c1tyXT9cImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7cn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke3J9X3Q7XFxuaW4gJHtpfSAke259IGFfJHtyfTtcXG5vdXQgJHtpfSAke299ICR7cn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtvfSB1XyR7cn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemVcIj09PXQ/XCJ2ZWM0XCI9PT1hP2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtyfVxcbiAgICAke3J9ID0gYV8ke3J9O1xcbiNlbHNlXFxuICAgICR7aX0gJHtvfSAke3J9ID0gdV8ke3J9O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke3J9XFxuICAgICR7cn0gPSB1bnBhY2tfbWl4XyR7YX0oYV8ke3J9LCB1XyR7cn1fdCk7XFxuI2Vsc2VcXG4gICAgJHtpfSAke299ICR7cn0gPSB1XyR7cn07XFxuI2VuZGlmXFxuYDpcImRlZmluZS1hdHRyaWJ1dGVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfJHtyfVxcbiAgICBpbiAke2l9ICR7b30gYV8ke3J9O1xcbiAgICBvdXQgJHtpfSAke299ICR7cn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemUtYXR0cmlidXRlXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7cn1cXG4gICAgJHtyfSA9IGFfJHtyfTtcXG4jZW5kaWZcXG5gOnZvaWQgMDpcImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7cn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke3J9X3Q7XFxuaW4gJHtpfSAke259IGFfJHtyfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke299IHVfJHtyfTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lLWluc3RhbmNlZFwiPT09dD9cIm1hdDRcIj09PWE/YFxcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuaW4gdmVjNCBhXyR7cn0wO1xcbmluIHZlYzQgYV8ke3J9MTtcXG5pbiB2ZWM0IGFfJHtyfTI7XFxuaW4gdmVjNCBhXyR7cn0zO1xcbiNlbHNlXFxudW5pZm9ybSAke2l9ICR7b30gdV8ke3J9O1xcbiNlbmRpZlxcbmA6YFxcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuaW4gJHtpfSAke259IGFfJHtyfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke299IHVfJHtyfTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7cn1cXG4gICAgJHtpfSAke299ICR7cn0gPSBhXyR7cn07XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PWE/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke3J9XFxuICAgICR7aX0gJHtvfSAke3J9ID0gYV8ke3J9O1xcbiNlbHNlXFxuICAgICR7aX0gJHtvfSAke3J9ID0gdV8ke3J9O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke3J9XFxuICAgICR7aX0gJHtvfSAke3J9ID0gdW5wYWNrX21peF8ke2F9KGFfJHtyfSwgdV8ke3J9X3QpO1xcbiNlbHNlXFxuICAgICR7aX0gJHtvfSAke3J9ID0gdV8ke3J9O1xcbiNlbmRpZlxcbmB9KSksc3RhdGljQXR0cmlidXRlczpyLHVzZWREZWZpbmVzOmwsdmVydGV4SW5jbHVkZXM6bixmcmFnbWVudEluY2x1ZGVzOmF9fWNsYXNzIFFve2NvbnN0cnVjdG9yKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMudmFvPW51bGw7fWJpbmQoZSx0LGksbyxyLHMsbixhKXt0aGlzLmNvbnRleHQ9ZTtsZXQgbD10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PW8ubGVuZ3RoO2ZvcihsZXQgZT0wOyFsJiZlPG8ubGVuZ3RoO2UrKyl0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2VdIT09b1tlXSYmKGw9ITApO2xldCBjPXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGghPT1uLmxlbmd0aDtmb3IobGV0IGU9MDshYyYmZTxuLmxlbmd0aDtlKyspdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2VdIT09bltlXSYmKGM9ITApO2lmKCF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIT09aXx8bHx8Y3x8dGhpcy5ib3VuZEluZGV4QnVmZmVyIT09cnx8dGhpcy5ib3VuZFZlcnRleE9mZnNldCE9PXMpdGhpcy5mcmVzaEJpbmQodCxpLG8scixzLG4sYSk7ZWxzZSB7ZS5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtmb3IoY29uc3QgaSBvZiBuKWkmJihpLmJpbmQoKSxhJiZpLmluc3RhbmNlQ291bnQmJmkuc2V0VmVydGV4QXR0cmliRGl2aXNvcihlLmdsLHQsYSkpO3ImJnIuZHluYW1pY0RyYXcmJnIuYmluZCgpO319ZnJlc2hCaW5kKGUsdCxpLG8scixzLG4pe2NvbnN0IGE9ZS5udW1BdHRyaWJ1dGVzLGw9dGhpcy5jb250ZXh0LGM9bC5nbDt0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89bC5nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpLGwuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksdGhpcy5ib3VuZFByb2dyYW09ZSx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPXQsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1pLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1vLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9cix0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9cyx0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKTtmb3IoY29uc3QgdCBvZiBpKXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLHIpO2Zvcihjb25zdCB0IG9mIHMpdCYmKHQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLHIpLG4mJnQuaW5zdGFuY2VDb3VudCYmdC5zZXRWZXJ0ZXhBdHRyaWJEaXZpc29yKGMsZSxuKSk7byYmby5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1hO31kZXN0cm95KCl7dGhpcy52YW8mJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlVmVydGV4QXJyYXkodGhpcy52YW8pLHRoaXMudmFvPW51bGwpO319ZnVuY3Rpb24gZXIodCxpKXtjb25zdCBvPU1hdGgucG93KDIsaS5jYW5vbmljYWwueikscj1pLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IGUuTCgwLHIvbykudG9MbmdMYXQoKS5sYXQsbmV3IGUuTCgwLChyKzEpL28pLnRvTG5nTGF0KCkubGF0XX1mdW5jdGlvbiB0cih0LGksbyxyLHMsbixhKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsaD1vLmhpbGxzaGFkZUZCTztpZighaClyZXR1cm47dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB1PXQuaXNUaWxlQWZmZWN0ZWRCeUZvZyhpKSxkPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiaGlsbHNoYWRlXCIse292ZXJyaWRlRm9nOnV9KTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLGMuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELGguY29sb3JBdHRhY2htZW50LmdldCgpKTtjb25zdCBfPSgodCxpLG8scik9Pntjb25zdCBzPW8ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiKSxuPW8ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKSxhPW8ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiKSxsPW8ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCIpO2xldCBjPWUuYmooby5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiKSk7aWYoXCJ2aWV3cG9ydFwiPT09by5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiKSljLT10LnRyYW5zZm9ybS5hbmdsZTtlbHNlIGlmKHQuc3R5bGUmJnQuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSYmdC5zdHlsZS5kaXJlY3Rpb25hbExpZ2h0KXtjb25zdCBpPXQuc3R5bGUuZGlyZWN0aW9uYWxMaWdodC5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxvPWUuYlEoaS54LGkueSxpLnopO2M9ZS5iaihvWzFdKTt9Y29uc3QgaD0hdC5vcHRpb25zLm1vdmluZztyZXR1cm4ge3VfbWF0cml4OnJ8fHQudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoaS50aWxlSUQudG9VbndyYXBwZWQoKSxoKSx1X2ltYWdlOjAsdV9sYXRyYW5nZTplcigwLGkudGlsZUlEKSx1X2xpZ2h0OltvLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksY10sdV9zaGFkb3c6cyx1X2hpZ2hsaWdodDpuLHVfZW1pc3NpdmVfc3RyZW5ndGg6bCx1X2FjY2VudDphfX0pKHQsbyxyLHQudGVycmFpbj9pLnByb2pNYXRyaXg6bnVsbCk7dC51cGxvYWRDb21tb25Vbmlmb3JtcyhsLGQsaS50b1Vud3JhcHBlZCgpKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOnAsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmYsdGlsZUJvdW5kc1NlZ21lbnRzOm19PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMobyk7ZC5kcmF3KHQsYy5UUklBTkdMRVMscyxuLGEsRnQuZGlzYWJsZWQsXyxyLmlkLHAsZixtKTt9ZnVuY3Rpb24gaXIodCxpLG8pe2lmKCFpLm5lZWRzREVNVGV4dHVyZVVwbG9hZClyZXR1cm47Y29uc3Qgcj10LmNvbnRleHQscz1yLmdsO3IucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KCExKSxpLmRlbVRleHR1cmU9aS5kZW1UZXh0dXJlfHx0LmdldFRpbGVUZXh0dXJlKG8uc3RyaWRlKTtjb25zdCBuPW8uZ2V0UGl4ZWxzKCk7aS5kZW1UZXh0dXJlP2kuZGVtVGV4dHVyZS51cGRhdGUobix7cHJlbXVsdGlwbHk6ITF9KTppLmRlbVRleHR1cmU9bmV3IGUuVChyLG4scy5SMzJGLHtwcmVtdWx0aXBseTohMX0pLGkubmVlZHNERU1UZXh0dXJlVXBsb2FkPSExO31mdW5jdGlvbiBvcih0LGksbyl7Y29uc3Qgcj10LmNvbnRleHQscz1yLmdsO2lmKCFpLmRlbSlyZXR1cm47Y29uc3Qgbj1pLmRlbTtpZihyLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTEpLGlyKHQsaSxuKSwhaS5kZW1UZXh0dXJlKXJldHVybjtpLmRlbVRleHR1cmUuYmluZChzLk5FQVJFU1Qscy5DTEFNUF9UT19FREdFKTtjb25zdCBhPW4uZGltO3IuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCk7bGV0IGw9aS5oaWxsc2hhZGVGQk87aWYoIWwpe2NvbnN0IHQ9bmV3IGUuVChyLHt3aWR0aDphLGhlaWdodDphLGRhdGE6bnVsbH0scy5SR0JBKTt0LmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKSxsPWkuaGlsbHNoYWRlRkJPPXIuY3JlYXRlRnJhbWVidWZmZXIoYSxhLCEwLFwicmVuZGVyYnVmZmVyXCIpLGwuY29sb3JBdHRhY2htZW50LnNldCh0LnRleHR1cmUpO31yLmJpbmRGcmFtZWJ1ZmZlci5zZXQobC5mcmFtZWJ1ZmZlciksci52aWV3cG9ydC5zZXQoWzAsMCxhLGFdKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOmMsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmgsdGlsZUJvdW5kc1NlZ21lbnRzOnV9PXQuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpLGQ9W107dC5saW5lYXJGbG9hdEZpbHRlcmluZ1N1cHBvcnRlZCgpJiZkLnB1c2goXCJURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcIiksdC5nZXRPckNyZWF0ZVByb2dyYW0oXCJoaWxsc2hhZGVQcmVwYXJlXCIse2RlZmluZXM6ZH0pLmRyYXcodCxzLlRSSUFOR0xFUyxMdC5kaXNhYmxlZCxSdC5kaXNhYmxlZCxNdC51bmJsZW5kZWQsRnQuZGlzYWJsZWQsKCh0LGkpPT57Y29uc3Qgbz1pLnN0cmlkZSxyPWUuYTYuY3JlYXRlKCk7cmV0dXJuIGUuYTYub3J0aG8ociwwLGUuViwtZS5WLDAsMCwxKSxlLmE2LnRyYW5zbGF0ZShyLHIsWzAsLWUuViwwXSkse3VfbWF0cml4OnIsdV9pbWFnZToxLHVfZGltZW5zaW9uOltvLG9dLHVfem9vbTp0Lm92ZXJzY2FsZWRafX0pKGkudGlsZUlELG4pLG8uaWQsYyxoLHUpLGkubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSExO31jb25zdCBycj10PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfaW1hZ2UwOm5ldyBlLmJPKHQpLHVfc2tpcnRfaGVpZ2h0Om5ldyBlLmJOKHQpLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6bmV3IGUuYk0odCl9KSxzcj0oZSx0LGkpPT4oe3VfbWF0cml4OmUsdV9pbWFnZTA6MCx1X3NraXJ0X2hlaWdodDp0LHVfZ3JvdW5kX3NoYWRvd19mYWN0b3I6aX0pLG5yPShlLHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF8scCxmKT0+KHt1X3Byb2pfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGUpLHVfZ2xvYmVfbWF0cml4OnQsdV9ub3JtYWxpemVfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKG8pLHVfbWVyY19tYXRyaXg6aSx1X3pvb21fdHJhbnNpdGlvbjpyLHVfbWVyY19jZW50ZXI6cyx1X2ltYWdlMDowLHVfZnJ1c3R1bV90bDpuLHVfZnJ1c3R1bV90cjphLHVfZnJ1c3R1bV9icjpsLHVfZnJ1c3R1bV9ibDpjLHVfZ2xvYmVfcG9zOmgsdV9nbG9iZV9yYWRpdXM6dSx1X3ZpZXdwb3J0OmQsdV9ncmlkX21hdHJpeDpmP0Zsb2F0MzJBcnJheS5mcm9tKGYpOm5ldyBGbG9hdDMyQXJyYXkoOSksdV9za2lydF9oZWlnaHQ6Xyx1X2Zhcl96X2N1dG9mZjpwfSk7ZnVuY3Rpb24gYXIoZSx0KXtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9dCYmISghZS5oYXNEYXRhKCl8fCF0Lmhhc0RhdGEoKSkmJm51bGwhPWUuZGVtVGV4dHVyZSYmbnVsbCE9dC5kZW1UZXh0dXJlJiZlLnRpbGVJRC5rZXkhPT10LnRpbGVJRC5rZXl9Y29uc3QgbHI9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcGVyYXRpb25zPXt9O31uZXdNb3JwaGluZyhlLHQsaSxvLHIpe2lmKGUgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTt0LnRvLnRpbGVJRC5rZXkhPT1pLnRpbGVJRC5rZXkmJih0LnF1ZXVlZD1pKTt9ZWxzZSB0aGlzLm9wZXJhdGlvbnNbZV09e3N0YXJ0VGltZTpvLHBoYXNlOjAsZHVyYXRpb246cixmcm9tOnQsdG86aSxxdWV1ZWQ6bnVsbH07fWdldE1vcnBoVmFsdWVzRm9yUHJveHkoZSl7aWYoIShlIGluIHRoaXMub3BlcmF0aW9ucykpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07cmV0dXJuIHtmcm9tOnQuZnJvbSx0bzp0LnRvLHBoYXNlOnQucGhhc2V9fXVwZGF0ZShlKXtmb3IoY29uc3QgdCBpbiB0aGlzLm9wZXJhdGlvbnMpe2NvbnN0IGk9dGhpcy5vcGVyYXRpb25zW3RdO2ZvcihpLnBoYXNlPShlLWkuc3RhcnRUaW1lKS9pLmR1cmF0aW9uO2kucGhhc2U+PTF8fCF0aGlzLl92YWxpZE9wKGkpOylpZighdGhpcy5fbmV4dE9wKGksZSkpe2RlbGV0ZSB0aGlzLm9wZXJhdGlvbnNbdF07YnJlYWt9fX1fbmV4dE9wKGUsdCl7cmV0dXJuICEhZS5xdWV1ZWQmJihlLmZyb209ZS50byxlLnRvPWUucXVldWVkLGUucXVldWVkPW51bGwsZS5waGFzZT0wLGUuc3RhcnRUaW1lPXQsITApfV92YWxpZE9wKGUpe3JldHVybiBlLmZyb20uaGFzRGF0YSgpJiZlLnRvLmhhc0RhdGEoKX19LGNyPXswOm51bGwsMTpcIlRFUlJBSU5fVkVSVEVYX01PUlBISU5HXCJ9O2Z1bmN0aW9uIGhyKGUsdCxpKXtpZigwPT09dClyZXR1cm4gMDtjb25zdCBvPXQ8MSYmNTE0PT09aT8uMjUvdDoxO3JldHVybiA2Kk1hdGgucG93KDEuNSwyMi1lKSpNYXRoLm1heCh0LDEpKm99ZnVuY3Rpb24gdXIoZSx0KXtjb25zdCBpPTE8PGUuejtyZXR1cm4gIXQmJigwPT09ZS54fHxlLng9PT1pLTEpfHwwPT09ZS55fHxlLnk9PT1pLTF9Y29uc3QgZHI9ZT0+KHt1X21hdHJpeDplfSk7ZnVuY3Rpb24gX3IodCxpLG8scixzKXtpZihzPjApe2NvbnN0IG49ZS5mLm5vdygpLGE9KG4tdC50aW1lQWRkZWQpL3MsbD1pPyhuLWkudGltZUFkZGVkKS9zOi0xLGM9by5nZXRTb3VyY2UoKSxoPXIuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOmMudGlsZVNpemUscm91bmRab29tOmMucm91bmRab29tfSksdT0haXx8TWF0aC5hYnMoaS50aWxlSUQub3ZlcnNjYWxlZFotaCk+TWF0aC5hYnModC50aWxlSUQub3ZlcnNjYWxlZFotaCksZD11JiZ0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPzE6ZS5hYSh1P2E6MS1sLDAsMSk7cmV0dXJuIHQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24mJmE+PTEmJih0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSExKSxpP3tvcGFjaXR5OjEsbWl4OjEtZH06e29wYWNpdHk6ZCxtaXg6MH19cmV0dXJuIHtvcGFjaXR5OjEsbWl4OjB9fWNsYXNzIHByIGV4dGVuZHMgS3R7Y29uc3RydWN0b3IodCl7Y29uc3QgaT17dHlwZTpcInJhc3Rlci1kZW1cIixtYXh6b29tOnQudHJhbnNmb3JtLm1heFpvb219LG89bmV3IGUuYlcoZS5iWCgpLG51bGwpLHI9VnQoXCJtb2NrLWRlbVwiLGksbyx0LnN0eWxlKTtzdXBlcihcIm1vY2stZGVtXCIsciwhMSksci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuX3NvdXJjZUxvYWRlZD0hMDt9X2xvYWRUaWxlKGUsdCl7ZS5zdGF0ZT1cImxvYWRlZFwiLHQobnVsbCk7fX1jbGFzcyBmciBleHRlbmRzIEt0e2NvbnN0cnVjdG9yKHQpe2NvbnN0IGk9VnQoXCJwcm94eVwiLHt0eXBlOlwiZ2VvanNvblwiLG1heHpvb206dC50cmFuc2Zvcm0ubWF4Wm9vbX0sbmV3IGUuYlcoZS5iWCgpLG51bGwpLHQuc3R5bGUpO3N1cGVyKFwicHJveHlcIixpLCExKSxpLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5tYXA9dGhpcy5nZXRTb3VyY2UoKS5tYXA9dCx0aGlzLnVzZWQ9dGhpcy5fc291cmNlTG9hZGVkPSEwLHRoaXMucmVuZGVyQ2FjaGU9W10sdGhpcy5yZW5kZXJDYWNoZVBvb2w9W10sdGhpcy5wcm94eUNhY2hlZEZCTz17fTt9dXBkYXRlKGUsdCxpKXtpZihlLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47dGhpcy50cmFuc2Zvcm09ZTtjb25zdCBvPWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KS5yZWR1Y2UoKCh0LGkpPT57aWYodFtpLmtleV09XCJcIiwhdGhpcy5fdGlsZXNbaS5rZXldKXtjb25zdCB0PW5ldyBHdChpLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSppLm92ZXJzY2FsZUZhY3RvcigpLGUudGlsZVpvb20pO3Quc3RhdGU9XCJsb2FkZWRcIix0aGlzLl90aWxlc1tpLmtleV09dDt9cmV0dXJuIHR9KSx7fSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpZSBpbiBvfHwodGhpcy5mcmVlRkJPKGUpLHRoaXMuX3RpbGVzW2VdLnVubG9hZFZlY3RvckRhdGEoKSxkZWxldGUgdGhpcy5fdGlsZXNbZV0pO31mcmVlRkJPKGUpe2NvbnN0IHQ9dGhpcy5wcm94eUNhY2hlZEZCT1tlXTtpZih2b2lkIDAhPT10KXtjb25zdCBpPU9iamVjdC52YWx1ZXModCk7dGhpcy5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5pKSxkZWxldGUgdGhpcy5wcm94eUNhY2hlZEZCT1tlXTt9fWRlYWxsb2NSZW5kZXJDYWNoZSgpe3RoaXMucmVuZGVyQ2FjaGUuZm9yRWFjaCgoZT0+ZS5mYi5kZXN0cm95KCkpKSx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e307fX1jbGFzcyBtciBleHRlbmRzIGUuYW17Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUub3ZlcnNjYWxlZFosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KSx0aGlzLnByb3h5VGlsZUtleT10LHRoaXMucHJvak1hdHJpeD1pO319Y2xhc3MgZ3IgZXh0ZW5kcyBlLmNre2NvbnN0cnVjdG9yKHQsaSl7c3VwZXIoKSx0aGlzLl9kZWJ1Z1BhcmFtcz17c29ydFRpbGVzSGlaRmlyc3Q6ITAsZGlzYWJsZVJlbmRlckNhY2hlOiExfSx0LnRwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMuX2RlYnVnUGFyYW1zLFtcIlRlcnJhaW5cIl0sXCJzb3J0VGlsZXNIaVpGaXJzdFwiLHt9LCgoKT0+e3RoaXMuX3N0eWxlLm1hcC50cmlnZ2VyUmVwYWludCgpO30pKSx0LnRwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMuX2RlYnVnUGFyYW1zLFtcIlRlcnJhaW5cIl0sXCJkaXNhYmxlUmVuZGVyQ2FjaGVcIix7fSwoKCk9Pnt0aGlzLl9zdHlsZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdC50cC5yZWdpc3RlckJ1dHRvbihbXCJUZXJyYWluXCJdLFwiSW52YWxpZGF0ZSBSZW5kZXIgQ2FjaGVcIiwoKCk9Pnt0aGlzLmludmFsaWRhdGVSZW5kZXJDYWNoZT0hMCx0aGlzLl9zdHlsZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5wYWludGVyPXQsdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e30sdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0W28scixzXT1mdW5jdGlvbih0KXtjb25zdCBpPW5ldyBlLmFOLG89bmV3IGUuYXcscj0xMzE7aS5yZXNlcnZlKDE3MTYxKSxvLnJlc2VydmUoMzM4MDApO2NvbnN0IHM9ZS5WLzEyOCxuPWUuVitzLzIsYT1uK3M7Zm9yKGxldCB0PS1zO3Q8YTt0Kz1zKWZvcihsZXQgbz0tcztvPGE7bys9cyl7Y29uc3Qgcj1vPDB8fG8+bnx8dDwwfHx0Pm4/MjQ1NzU6MCxzPWUuYWEoTWF0aC5yb3VuZChvKSwwLGUuViksYT1lLmFhKE1hdGgucm91bmQodCksMCxlLlYpO2kuZW1wbGFjZUJhY2socytyLGEpO31jb25zdCBsPShlLHQpPT57Y29uc3QgaT10KnIrZTtvLmVtcGxhY2VCYWNrKGkrMSxpLGkrciksby5lbXBsYWNlQmFjayhpK3IsaStyKzEsaSsxKTt9O2ZvcihsZXQgZT0xO2U8MTI5O2UrKylmb3IobGV0IHQ9MTt0PDEyOTt0KyspbCh0LGUpO3JldHVybiBbMCwxMjldLmZvckVhY2goKGU9Pntmb3IobGV0IHQ9MDt0PDEzMDt0KyspbCh0LGUpLGwoZSx0KTt9KSksW2ksbywzMjc2OF19KCksbj10LmNvbnRleHQ7dGhpcy5ncmlkQnVmZmVyPW4uY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5hUC5tZW1iZXJzKSx0aGlzLmdyaWRJbmRleEJ1ZmZlcj1uLmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuZ3JpZFNlZ21lbnRzPWUuYUIuc2ltcGxlU2VnbWVudCgwLDAsby5sZW5ndGgsci5sZW5ndGgpLHRoaXMuZ3JpZE5vU2tpcnRTZWdtZW50cz1lLmFCLnNpbXBsZVNlZ21lbnQoMCwwLG8ubGVuZ3RoLHMpLHRoaXMucHJveHlDb29yZHM9W10sdGhpcy5wcm94aWVkQ29vcmRzPXt9LHRoaXMuX3Zpc2libGVEZW1UaWxlcz1bXSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPVtdLHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcD17fSx0aGlzLnByb3h5U291cmNlQ2FjaGU9bmV3IGZyKGkubWFwKSx0aGlzLm9ydGhvTWF0cml4PWUuYTYuY3JlYXRlKCksZS5hNi5vcnRobyh0aGlzLm9ydGhvTWF0cml4LFwiZ2xvYmVcIj09PXRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPy4wMTU6MCxlLlYsMCxlLlYsMCwxKTtjb25zdCBhPW4uZ2w7dGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlPW5ldyBSdCh7ZnVuYzphLkdFUVVBTCxtYXNrOjI1NX0sMCwyNTUsYS5LRUVQLGEuS0VFUCxhLlJFUExBQ0UpLHRoaXMuX3ByZXZpb3VzWm9vbT10LnRyYW5zZm9ybS56b29tLHRoaXMucG9vbD1bXSx0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGU9e30sdGhpcy5fdGlsZXNEaXJ0eT17fSx0aGlzLnN0eWxlPWksdGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ITAsdGhpcy5fZXhhZ2dlcmF0aW9uPTEsdGhpcy5fbW9ja1NvdXJjZUNhY2hlPW5ldyBwcihpLm1hcCksdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycz1bXTt9c2V0IHN0eWxlKGUpe2Uub24oXCJkYXRhXCIsdGhpcy5fb25TdHlsZURhdGFFdmVudC5iaW5kKHRoaXMpKSx0aGlzLl9zdHlsZT1lLHRoaXMuX3N0eWxlLm1hcC5vbihcIm1vdmVlbmRcIiwoKCk9Pnt0aGlzLl9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKTt9KSk7fXVwZGF0ZSh0LGksbyl7aWYodCYmdC50ZXJyYWluKXt0aGlzLl9zdHlsZSE9PXQmJih0aGlzLnN0eWxlPXQsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwKTtjb25zdCByPXQudGVycmFpbi5wcm9wZXJ0aWVzLHM9MD09PXQudGVycmFpbi5kcmFwZVJlbmRlck1vZGUsbj10LnRlcnJhaW4uaXNab29tRGVwZW5kZW50KCk7dGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXA9dGhpcy5lbmFibGVkP3RoaXMuX3VwZGF0ZVRpbWVzdGFtcDp2b2lkIDAsdGhpcy5fdXBkYXRlVGltZXN0YW1wPWUuZi5ub3coKTtjb25zdCBhPXQudGVycmFpbiYmdC50ZXJyYWluLnNjb3BlLGw9ci5nZXQoXCJzb3VyY2VcIiksYz1zP3RoaXMuX21vY2tTb3VyY2VDYWNoZTp0LmdldFNvdXJjZUNhY2hlKGwsYSk7aWYoIWMpcmV0dXJuIHZvaWQgZS53KGBDb3VsZG4ndCBmaW5kIHRlcnJhaW4gc291cmNlIFwiJHtsfVwiLmApO2lmKHRoaXMuc291cmNlQ2FjaGU9Yyx0aGlzLl9leGFnZ2VyYXRpb249bj90aGlzLmNhbGN1bGF0ZUV4YWdnZXJhdGlvbihpKTpyLmdldChcImV4YWdnZXJhdGlvblwiKSwhaS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZyYmbiYmMD09PXRoaXMuX2V4YWdnZXJhdGlvbilyZXR1cm4gdm9pZCB0aGlzLl9kaXNhYmxlKCk7dGhpcy5lbmFibGVkPSEwO2NvbnN0IGg9KCk9Pnt0aGlzLnNvdXJjZUNhY2hlLnVzZWQmJmUudyhgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcblRoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS5gKTtjb25zdCB0PXRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTt0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZShpLHQsITApLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCk7fTt0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWlufHwodGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKSx0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWluPSEwLGgoKSx0aGlzLl9pbml0aWFsaXppbmc9ITApLGgoKSxpLnVwZGF0ZUVsZXZhdGlvbighMCxvKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZShpKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMCx0aGlzLl9wcmV2aW91c1pvb209aS56b29tO31lbHNlIHRoaXMuX2Rpc2FibGUoKTt9Y2FsY3VsYXRlRXhhZ2dlcmF0aW9uKHQpe2NvbnN0IGk9dGhpcy5fcHJldmlvdXNDYW1lcmFBbHRpdHVkZSxvPXQuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbi56L3QucGl4ZWxzUGVyTWV0ZXIqdC53b3JsZFNpemU7dGhpcy5fcHJldmlvdXNDYW1lcmFBbHRpdHVkZT1vO2NvbnN0IHI9bnVsbCE9aT9vLWk6TnVtYmVyLk1BWF9WQUxVRTtpZihNYXRoLmFicyhyKTwyKXJldHVybiB0aGlzLl9leGFnZ2VyYXRpb247Y29uc3Qgcz10Lnpvb20sbj10aGlzLl9zdHlsZS50ZXJyYWluO2lmKCF0aGlzLl9wcmV2aW91c1VwZGF0ZVRpbWVzdGFtcClyZXR1cm4gbi5nZXRFeGFnZ2VyYXRpb24ocyk7bGV0IGE9cy10aGlzLl9wcmV2aW91c1pvb207Y29uc3QgbD10aGlzLl9wcmV2aW91c1VwZGF0ZVRpbWVzdGFtcDtsZXQgYz1zO251bGwhPXRoaXMuX2V2YWx1YXRpb25ab29tJiYoYz10aGlzLl9ldmFsdWF0aW9uWm9vbSxNYXRoLmFicyhzLWMpPi41JiYoYT0uNSoocy1jK2EpKSxhKnI8MCYmKGMrPWEpKSx0aGlzLl9ldmFsdWF0aW9uWm9vbT1jO2NvbnN0IGg9bi5nZXRFeGFnZ2VyYXRpb24oYyksdT1oPT09bi5nZXRFeGFnZ2VyYXRpb24oTWF0aC5tYXgoMCxjLS4xKSk7aWYodSYmTWF0aC5hYnMoaC10aGlzLl9leGFnZ2VyYXRpb24pPC4wMSlyZXR1cm4gaDtsZXQgZD1NYXRoLm1pbiguMSwuMDAzNzUqKHRoaXMuX3VwZGF0ZVRpbWVzdGFtcC1sKSk7cmV0dXJuICh1fHxoPC4xfHxNYXRoLmFicyhhKTwxZS00KSYmKGQ9TWF0aC5taW4oLjIsNCpkKSksZS5VKHRoaXMuX2V4YWdnZXJhdGlvbixoLGQpfXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fTt9Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9vblN0eWxlRGF0YUV2ZW50KGUpe2UuY29vcmQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlP3RoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuc291cmNlQ2FjaGVJZCxlLmNvb3JkKTpcInN0eWxlXCI9PT1lLmRhdGFUeXBlJiYodGhpcy5pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITAsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwLHRoaXMuX3ByZXZpb3VzVXBkYXRlVGltZXN0YW1wPXZvaWQgMCx0aGlzLl9wcmV2aW91c0NhbWVyYUFsdGl0dWRlPXZvaWQgMCk7fV9kaXNhYmxlKCl7aWYodGhpcy5lbmFibGVkJiYodGhpcy5lbmFibGVkPSExLHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD12b2lkIDAsdGhpcy5fZXZhbHVhdGlvblpvb209dm9pZCAwLHRoaXMuX3ByZXZpb3VzVXBkYXRlVGltZXN0YW1wPXZvaWQgMCx0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCksdGhpcy5fc3R5bGUpKWZvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS51c2VkRm9yVGVycmFpbj0hMTt9ZGVzdHJveSgpe3RoaXMuX2Rpc2FibGUoKSx0aGlzLl9lbXB0eURFTVRleHR1cmUmJnRoaXMuX2VtcHR5REVNVGV4dHVyZS5kZXN0cm95KCksdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUmJnRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLnBvb2wuZm9yRWFjaCgoZT0+ZS5mYi5kZXN0cm95KCkpKSx0aGlzLnBvb2w9W10sdGhpcy5fZGVwdGhGQk8mJih0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLHRoaXMuZnJhbWVidWZmZXJDb3B5VGV4dHVyZSYmdGhpcy5mcmFtZWJ1ZmZlckNvcHlUZXh0dXJlLmRlc3Ryb3koKTt9X3NvdXJjZSgpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5zb3VyY2VDYWNoZTpudWxsfWlzVXNpbmdNb2NrU291cmNlKCl7cmV0dXJuIHRoaXMuc291cmNlQ2FjaGU9PT10aGlzLl9tb2NrU291cmNlQ2FjaGV9ZXhhZ2dlcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2V4YWdnZXJhdGlvbn1nZXQgdmlzaWJsZURlbVRpbGVzKCl7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlc31nZXQgZHJhcGVCdWZmZXJTaXplKCl7Y29uc3QgZT0yKnRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTtyZXR1cm4gW2UsZV19c2V0IHVzZVZlcnRleE1vcnBoaW5nKGUpe3RoaXMuX3VzZVZlcnRleE1vcnBoaW5nPWU7fXVwZGF0ZVRpbGVCaW5kaW5nKHQpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuO3RoaXMucHJldlRlcnJhaW5UaWxlRm9yVGlsZT10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZTtjb25zdCBpPXRoaXMucHJveHlTb3VyY2VDYWNoZSxvPXRoaXMucGFpbnRlci50cmFuc2Zvcm07dGhpcy5faW5pdGlhbGl6aW5nJiYodGhpcy5faW5pdGlhbGl6aW5nPTA9PT1vLl9jZW50ZXJBbHRpdHVkZSYmLTE9PT10aGlzLmdldEF0UG9pbnRPclplcm8oZS5MLmZyb21MbmdMYXQoby5jZW50ZXIpLC0xKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hdGhpcy5faW5pdGlhbGl6aW5nKTtjb25zdCByPXRoaXMucHJveHlDb29yZHM9aS5nZXRJZHMoKS5tYXAoKGU9Pntjb25zdCB0PWkuZ2V0VGlsZUJ5SUQoZSkudGlsZUlEO3JldHVybiB0LnByb2pNYXRyaXg9by5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSksdH0pKTshZnVuY3Rpb24odCxpKXtjb25zdCBvPWkudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZShpLnRyYW5zZm9ybS5nZXRDYW1lcmFQb2ludCgpKSxyPW5ldyBlLlAoby54LG8ueSk7dC5zb3J0KCgodCxpKT0+e2lmKGkub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWilyZXR1cm4gaS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRaO2NvbnN0IG89bmV3IGUuUCh0LmNhbm9uaWNhbC54KygxPDx0LmNhbm9uaWNhbC56KSp0LndyYXAsdC5jYW5vbmljYWwueSkscz1uZXcgZS5QKGkuY2Fub25pY2FsLngrKDE8PGkuY2Fub25pY2FsLnopKmkud3JhcCxpLmNhbm9uaWNhbC55KSxuPXIubXVsdCgxPDx0LmNhbm9uaWNhbC56KTtyZXR1cm4gbi54LT0uNSxuLnktPS41LG4uZGlzdFNxcihvKS1uLmRpc3RTcXIocyl9KSk7fShyLHRoaXMucGFpbnRlcik7Y29uc3Qgcz10aGlzLnByb3h5VG9Tb3VyY2V8fHt9O3RoaXMucHJveHlUb1NvdXJjZT17fSxyLmZvckVhY2goKGU9Pnt0aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldPXt9O30pKSx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdCBuPXRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gbil7Y29uc3QgaT1uW2VdO2lmKCFpLnVzZWQpY29udGludWU7aWYoaSE9PXRoaXMuc291cmNlQ2FjaGUmJnRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUoaS5pZCksdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oaSx0W2VdLHMpLGkudXNlZEZvclRlcnJhaW4pY29udGludWU7Y29uc3Qgbz10W2VdO2kuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQmJnRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhvKTt9dGhpcy5wcm94aWVkQ29vcmRzW2kuaWRdPXIubWFwKChlPT5uZXcgbXIoZSxlLmtleSx0aGlzLm9ydGhvTWF0cml4KSkpLHRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhyKSx0aGlzLl9wcmVwYXJlREVNVGV4dHVyZXMoKSx0aGlzLl9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSx0aGlzLl9pbml0RkJPUG9vbCgpLHRoaXMuX3NldHVwUmVuZGVyQ2FjaGUocyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITE7Y29uc3QgYT17fTt0aGlzLl92aXNpYmxlRGVtVGlsZXM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV07aWYoIXQpY29udGludWU7Y29uc3QgaT10LnRpbGVJRC5rZXk7aSBpbiBhfHwodGhpcy5fdmlzaWJsZURlbVRpbGVzLnB1c2godCksYVtpXT1pKTt9fV9hc3NpZ25UZXJyYWluVGlsZXMoZSl7dGhpcy5faW5pdGlhbGl6aW5nfHxlLmZvckVhY2goKGU9PntpZih0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV0pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChlLHRoaXMuc291cmNlQ2FjaGUpO3QmJih0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV09dCk7fSkpO31fcHJlcGFyZURFTVRleHR1cmVzKCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7Zm9yKGNvbnN0IGkgaW4gdGhpcy50ZXJyYWluVGlsZUZvclRpbGUpe2NvbnN0IG89dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbaV0scj1vLmRlbTshcnx8by5kZW1UZXh0dXJlJiYhby5uZWVkc0RFTVRleHR1cmVVcGxvYWR8fChlLmFjdGl2ZVRleHR1cmUuc2V0KHQuVEVYVFVSRTEpLGlyKHRoaXMucGFpbnRlcixvLHIpKTt9fV9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsdCxpLG8pe2lmKCF0fHxudWxsPT10LmRlbVRleHR1cmUpcmV0dXJuICExO2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsLHM9TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwuei1yLnopLG49b3x8XCJcIjtyZXR1cm4gaVtgdV9kZW1fdGwke259YF09W3IueCpzJTEsci55KnMlMV0saVtgdV9kZW1fc2NhbGUke259YF09cywhMH1nZXQgZW1wdHlERU1UZXh0dXJlKCl7cmV0dXJuICF0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlP3RoaXMuX2VtcHR5REVNVGV4dHVyZTp0aGlzLl91cGRhdGVFbXB0eURFTVRleHR1cmUoKX1nZXQgZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUoKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LGk9dC5nbDtpZighdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUpe2NvbnN0IG89bmV3IGUuaCh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigyNTUsMjU1LDI1NSwyNTUpKTt0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZT1uZXcgZS5UKHQsbyxpLlJHQkEse3ByZW11bHRpcGx5OiExfSk7fXJldHVybiB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZX1fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKXtsZXQgZT0wO2NvbnN0IHQ9dGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoKHQsaSk9PntpZighaS5kZW0pcmV0dXJuIHQ7Y29uc3Qgbz1pLmRlbS50cmVlLm1pbmltdW1zWzBdO3JldHVybiBvPjAmJmUrKyx0K299KSwwKTtyZXR1cm4gZT90L2U6MH1fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxpPXQuZ2w7dC5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUyKTtjb25zdCBvPXRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCksW3Isc109KCgpPT57Y29uc3QgdD1uZXcgZS5jbSh7d2lkdGg6MSxoZWlnaHQ6MX0sbmV3IEZsb2F0MzJBcnJheShbb10pKTtyZXR1cm4gW2kuUjMyRix0XX0pKCk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG49dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBuP24udXBkYXRlKHMse3ByZW11bHRpcGx5OiExfSk6bj10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IGUuVCh0LHMscix7cHJlbXVsdGlwbHk6ITF9KSxufXNldHVwRWxldmF0aW9uRHJhdyh0LGksbyl7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxzPXIuZ2wsbj17dV9kZW06Mix1X2RlbV9wcmV2OjQsdV9kZW1fdGw6WzAsMF0sdV9kZW1fdGxfcHJldjpbMCwwXSx1X2RlbV9zY2FsZTowLHVfZGVtX3NjYWxlX3ByZXY6MCx1X2RlbV9zaXplOjAsdV9kZW1fbGVycDoxLHVfZGVwdGg6Myx1X2RlcHRoX3NpemVfaW52OlswLDBdLHVfZXhhZ2dlcmF0aW9uOjB9O24udV9leGFnZ2VyYXRpb249dGhpcy5leGFnZ2VyYXRpb24oKTtsZXQgYT1udWxsLGw9bnVsbCxjPTE7aWYobyYmby5tb3JwaGluZyYmdGhpcy5fdXNlVmVydGV4TW9ycGhpbmcpe2NvbnN0IGU9by5tb3JwaGluZy5zcmNEZW1UaWxlLGk9by5tb3JwaGluZy5kc3REZW1UaWxlO2M9by5tb3JwaGluZy5waGFzZSxlJiZpJiYodGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LGUsbixcIl9wcmV2XCIpJiYobD1lKSx0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsaSxuKSYmKGE9aSkpO31jb25zdCBoPWU9PmUmJmUuZGVtVGV4dHVyZSYmdGhpcy5wYWludGVyLmxpbmVhckZsb2F0RmlsdGVyaW5nU3VwcG9ydGVkKCk/cy5MSU5FQVI6cy5ORUFSRVNULHU9ZT0+e24udV9kZW1fc2l6ZT0xPT09ZS5zaXplWzBdPzE6ZS5zaXplWzBdLTI7fTtpZihsJiZhKXIuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMiksYS5kZW1UZXh0dXJlLmJpbmQoaChhKSxzLkNMQU1QX1RPX0VER0UpLHIuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFNCksbC5kZW1UZXh0dXJlLmJpbmQoaChsKSxzLkNMQU1QX1RPX0VER0UpLGEuZGVtVGV4dHVyZSYmdShhLmRlbVRleHR1cmUpLG4udV9kZW1fbGVycD1jO2Vsc2Uge2E9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbdC50aWxlSUQua2V5XSxyLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTIpO2NvbnN0IGU9dGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LGEsbik/YS5kZW1UZXh0dXJlOnRoaXMuZW1wdHlERU1UZXh0dXJlO2UuYmluZChoKGEpLHMuQ0xBTVBfVE9fRURHRSksdShlKTt9aWYoci5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUzKSxvJiZvLnVzZURlcHRoRm9yT2NjbHVzaW9uPyh0aGlzLl9kZXB0aFRleHR1cmUmJnRoaXMuX2RlcHRoVGV4dHVyZS5iaW5kKHMuTkVBUkVTVCxzLkNMQU1QX1RPX0VER0UpLHRoaXMuX2RlcHRoRkJPJiYobi51X2RlcHRoX3NpemVfaW52PVsxL3RoaXMuX2RlcHRoRkJPLndpZHRoLDEvdGhpcy5fZGVwdGhGQk8uaGVpZ2h0XSkpOih0aGlzLmVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmJpbmQocy5ORUFSRVNULHMuQ0xBTVBfVE9fRURHRSksbi51X2RlcHRoX3NpemVfaW52PVsxLDFdKSxvJiZvLnVzZU1ldGVyVG9EZW0mJmEpe2NvbnN0IHQ9KDE8PGEudGlsZUlELmNhbm9uaWNhbC56KSplLmJsKDEsdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSp0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO24udV9tZXRlcl90b19kZW09dDt9aWYobyYmby5sYWJlbFBsYW5lTWF0cml4SW52JiYobi51X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY9by5sYWJlbFBsYW5lTWF0cml4SW52KSxpLnNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKHIsbiksXCJnbG9iZVwiPT09dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy5nbG9iZVVuaWZvcm1WYWx1ZXModGhpcy5wYWludGVyLnRyYW5zZm9ybSx0LnRpbGVJRC5jYW5vbmljYWwsbyYmby51c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlKTtpLnNldEdsb2JlVW5pZm9ybVZhbHVlcyhyLGUpO319Z2xvYmVVbmlmb3JtVmFsdWVzKHQsaSxvKXtjb25zdCByPXQucHJvamVjdGlvbjtyZXR1cm4ge3VfdGlsZV90bF91cDpyLnVwVmVjdG9yKGksMCwwKSx1X3RpbGVfdHJfdXA6ci51cFZlY3RvcihpLGUuViwwKSx1X3RpbGVfYnJfdXA6ci51cFZlY3RvcihpLGUuVixlLlYpLHVfdGlsZV9ibF91cDpyLnVwVmVjdG9yKGksMCxlLlYpLHVfdGlsZV91cF9zY2FsZTpvP2UuY2woMSk6ci51cFZlY3RvclNjYWxlKGksdC5jZW50ZXIubGF0LHQud29ybGRTaXplKS5tZXRlcnNUb1RpbGV9fXJlbmRlclRvQmFja0J1ZmZlcih0KXtjb25zdCBpPXRoaXMucGFpbnRlcixvPXRoaXMucGFpbnRlci5jb250ZXh0OzAhPT10Lmxlbmd0aCYmKG8uYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxvLnZpZXdwb3J0LnNldChbMCwwLGkud2lkdGgsaS5oZWlnaHRdKSxpLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMSxmdW5jdGlvbih0LGksbyxyLHMpe2lmKFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSkhZnVuY3Rpb24odCxpLG8scixzKXtjb25zdCBuPXQuY29udGV4dCxhPW4uZ2w7bGV0IGwsYztjb25zdCBoPXQudHJhbnNmb3JtLHU9ZS5jZCh0LG4saCksZD0oZSxpKT0+e2lmKGM9PT1pKXJldHVybjtjb25zdCBvPVtjcltpXSxcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTt1JiZvLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpO2NvbnN0IHI9dC5pc1RpbGVBZmZlY3RlZEJ5Rm9nKGUpO2w9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLHtkZWZpbmVzOm8sb3ZlcnJpZGVGb2c6cn0pLGM9aTt9LF89dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkscD1uZXcgTHQoYS5MRVFVQUwsTHQuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtsci51cGRhdGUocyk7Y29uc3QgZj1lLmNlKGgpLG09W2UuYTUoaC5jZW50ZXIubG5nKSxlLmFlKGguY2VudGVyLmxhdCldLGc9dC5nbG9iZVNoYXJlZEJ1ZmZlcnMsdj1baC53aWR0aCplLmYuZGV2aWNlUGl4ZWxSYXRpbyxoLmhlaWdodCplLmYuZGV2aWNlUGl4ZWxSYXRpb10seD1GbG9hdDMyQXJyYXkuZnJvbShoLmdsb2JlTWF0cml4KSx5PXt1c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlOiEwfTt7Y29uc3QgaD10LnRyYW5zZm9ybSx1PWhyKGguem9vbSxpLmV4YWdnZXJhdGlvbigpLGkuc291cmNlQ2FjaGUuX3NvdXJjZS50aWxlU2l6ZSk7Yz0tMTtjb25zdCBiPWEuVFJJQU5HTEVTO2Zvcihjb25zdCBjIG9mIHIpe2NvbnN0IHI9by5nZXRUaWxlKGMpLHc9UnQuZGlzYWJsZWQsVD1pLnByZXZUZXJyYWluVGlsZUZvclRpbGVbYy5rZXldLEU9aS50ZXJyYWluVGlsZUZvclRpbGVbYy5rZXldO2FyKFQsRSkmJmxyLm5ld01vcnBoaW5nKGMua2V5LFQsRSxzLDI1MCksbi5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSxyLnRleHR1cmUmJnIudGV4dHVyZS5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSk7Y29uc3QgUz1sci5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxDPVM/MTowO1MmJmUuaih5LHttb3JwaGluZzp7c3JjRGVtVGlsZTpTLmZyb20sZHN0RGVtVGlsZTpTLnRvLHBoYXNlOmUuY2MoUy5waGFzZSl9fSk7Y29uc3QgST1lLmNmKGMuY2Fub25pY2FsKSxEPWUuY2coSS5nZXRDZW50ZXIoKS5sYXQpLEw9ZS5jaChjLmNhbm9uaWNhbCxJLEQsaC53b3JsZFNpemUvaC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksQT1lLmFUKGUuY2koYy5jYW5vbmljYWwpKSxSPW5yKGguZXhwYW5kZWRGYXJaUHJvak1hdHJpeCx4LGYsQSxlLlMoaC56b29tKSxtLGguZnJ1c3R1bUNvcm5lcnMuVEwsaC5mcnVzdHVtQ29ybmVycy5UUixoLmZydXN0dW1Db3JuZXJzLkJSLGguZnJ1c3R1bUNvcm5lcnMuQkwsaC5nbG9iZUNlbnRlckluVmlld1NwYWNlLGguZ2xvYmVSYWRpdXMsdix1LGguX2ZhclosTCk7aWYoZChjLEMpLGwmJihpLnNldHVwRWxldmF0aW9uRHJhdyhyLGwseSksdC51cGxvYWRDb21tb25Vbmlmb3JtcyhuLGwsYy50b1Vud3JhcHBlZCgpKSxnKSl7Y29uc3RbZSxpLG9dPWcuZ2V0R3JpZEJ1ZmZlcnMoRCwwIT09dSk7bC5kcmF3KHQsYixwLHcsXyxGdC5iYWNrQ0NXLFIsXCJnbG9iZV9yYXN0ZXJcIixlLGksbyk7fX19aWYoZyYmKHQucmVuZGVyRGVmYXVsdE5vcnRoUG9sZXx8dC5yZW5kZXJEZWZhdWx0U291dGhQb2xlKSl7Y29uc3Qgcz1bXCJHTE9CRV9QT0xFU1wiLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO3UmJnMucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksbD10LmdldE9yQ3JlYXRlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIse2RlZmluZXM6c30pO2Zvcihjb25zdCBzIG9mIHIpe2NvbnN0e3g6cix5OmMsejp1fT1zLmNhbm9uaWNhbCxkPTA9PT1jLGY9Yz09PSgxPDx1KS0xLFt4LGIsdyxUXT1nLmdldFBvbGVCdWZmZXJzKHUsITEpO2lmKFQmJihkfHxmKSl7Y29uc3QgYz1vLmdldFRpbGUocyk7bi5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSxjLnRleHR1cmUmJmMudGV4dHVyZS5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSk7bGV0IGc9ZS5jaih1LHIsaCk7Y29uc3QgRT1lLmFUKGUuY2kocy5jYW5vbmljYWwpKSxTPShlLGkpPT5lLmRyYXcodCxhLlRSSUFOR0xFUyxwLFJ0LmRpc2FibGVkLF8sRnQuZGlzYWJsZWQsbnIoaC5leHBhbmRlZEZhclpQcm9qTWF0cml4LGcsZyxFLDAsbSxoLmZydXN0dW1Db3JuZXJzLlRMLGguZnJ1c3R1bUNvcm5lcnMuVFIsaC5mcnVzdHVtQ29ybmVycy5CUixoLmZydXN0dW1Db3JuZXJzLkJMLGguZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxoLmdsb2JlUmFkaXVzLHYsMCxoLl9mYXJaKSxcImdsb2JlX3BvbGVfcmFzdGVyXCIsaSx3LFQpO2kuc2V0dXBFbGV2YXRpb25EcmF3KGMsbCx5KSx0LnVwbG9hZENvbW1vblVuaWZvcm1zKG4sbCxzLnRvVW53cmFwcGVkKCkpLGQmJnQucmVuZGVyRGVmYXVsdE5vcnRoUG9sZSYmUyhsLHgpLGYmJnQucmVuZGVyRGVmYXVsdFNvdXRoUG9sZSYmKGc9ZS5hNi5zY2FsZShlLmE2LmNyZWF0ZSgpLGcsWzEsLTEsMV0pLFMobCxiKSk7fX19fSh0LGksbyxyLHMpO2Vsc2Uge2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbDtsZXQgbCxjO2NvbnN0IGg9dC5zaGFkb3dSZW5kZXJlcix1PXZvKHQsdC5sb25nZXN0Q3V0b2ZmUmFuZ2UpLGQ9ZT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBpPVtdO2kucHVzaChjcltlXSksdS5zaG91bGRSZW5kZXJDdXRvZmYmJmkucHVzaChcIlJFTkRFUl9DVVRPRkZcIiksbD10LmdldE9yQ3JlYXRlUHJvZ3JhbShcInRlcnJhaW5SYXN0ZXJcIix7ZGVmaW5lczppfSksYz1lO30sXz10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxwPW5ldyBMdChhLkxFUVVBTCxMdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2xyLnVwZGF0ZShzKTtjb25zdCBmPXQudHJhbnNmb3JtLG09aHIoZi56b29tLGkuZXhhZ2dlcmF0aW9uKCksaS5zb3VyY2VDYWNoZS5fc291cmNlLnRpbGVTaXplKTtsZXQgZz1bMCwwLDBdO2lmKGgpe2NvbnN0IGU9dC5zdHlsZS5kaXJlY3Rpb25hbExpZ2h0LGk9dC5zdHlsZS5hbWJpZW50TGlnaHQ7ZSYmaSYmKGc9U28oZSxpKSk7fXtjPS0xO2NvbnN0IHY9YS5UUklBTkdMRVMsW3gseV09W2kuZ3JpZEluZGV4QnVmZmVyLGkuZ3JpZFNlZ21lbnRzXTtmb3IoY29uc3QgYyBvZiByKXtjb25zdCByPW8uZ2V0VGlsZShjKSxiPVJ0LmRpc2FibGVkLHc9aS5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XSxUPWkudGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XTthcih3LFQpJiZsci5uZXdNb3JwaGluZyhjLmtleSx3LFQscywyNTApLG4uYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMCksci50ZXh0dXJlJiZyLnRleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpO2NvbnN0IEU9bHIuZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShjLmtleSksUz1FPzE6MDtsZXQgQztFJiYoQz17bW9ycGhpbmc6e3NyY0RlbVRpbGU6RS5mcm9tLGRzdERlbVRpbGU6RS50byxwaGFzZTplLmNjKEUucGhhc2UpfX0pO2NvbnN0IEk9c3IoYy5wcm9qTWF0cml4LHVyKGMuY2Fub25pY2FsLGYucmVuZGVyV29ybGRDb3BpZXMpP20vMTA6bSxnKTtpZihkKFMpLCFsKWNvbnRpbnVlO2kuc2V0dXBFbGV2YXRpb25EcmF3KHIsbCxDKTtjb25zdCBEPWMudG9VbndyYXBwZWQoKTtoJiZoLnNldHVwU2hhZG93cyhELGwpLHQudXBsb2FkQ29tbW9uVW5pZm9ybXMobixsLEQsbnVsbCx1KSxsLmRyYXcodCx2LHAsYixfLEZ0LmJhY2tDQ1csSSxcInRlcnJhaW5fcmFzdGVyXCIsaS5ncmlkQnVmZmVyLHgseSk7fX19fShpLHRoaXMsdGhpcy5wcm94eVNvdXJjZUNhY2hlLHQsdGhpcy5fdXBkYXRlVGltZXN0YW1wKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMCxpLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCksdC5zcGxpY2UoMCx0Lmxlbmd0aCkpO31yZW5kZXJCYXRjaCh0KXtpZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpcmV0dXJuIHQrMTt0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMDtjb25zdCBpPXRoaXMucGFpbnRlcixvPXRoaXMucGFpbnRlci5jb250ZXh0LHI9dGhpcy5wcm94eVNvdXJjZUNhY2hlLHM9dGhpcy5wcm94aWVkQ29vcmRzW3IuaWRdLG49dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5zaGlmdCgpLGE9aS5zdHlsZS5vcmRlcixsPVtdO2xldCBjPTA7Zm9yKGNvbnN0IGggb2Ygcyl7Y29uc3Qgcz1yLmdldFRpbGVCeUlEKGgucHJveHlUaWxlS2V5KSx1PXIucHJveHlDYWNoZWRGQk9baC5rZXldP3IucHJveHlDYWNoZWRGQk9baC5rZXldW3RdOnZvaWQgMCxkPXZvaWQgMCE9PXU/ci5yZW5kZXJDYWNoZVt1XTp0aGlzLnBvb2xbYysrXSxfPXZvaWQgMCE9PXU7aWYocy50ZXh0dXJlPWQudGV4LF8mJiFkLmRpcnR5KXtsLnB1c2gocy50aWxlSUQpO2NvbnRpbnVlfWxldCBwO28uYmluZEZyYW1lYnVmZmVyLnNldChkLmZiLmZyYW1lYnVmZmVyKSx0aGlzLnJlbmRlcmVkVG9UaWxlPSExLGQuZGlydHkmJihvLmNsZWFyKHtjb2xvcjplLmF4LnRyYW5zcGFyZW50LHN0ZW5jaWw6MH0pLGQuZGlydHk9ITEpO2ZvcihsZXQgZT1uLnN0YXJ0O2U8PW4uZW5kOysrZSl7Y29uc3QgdD1pLnN0eWxlLl9tZXJnZWRMYXllcnNbYVtlXV07aWYodC5pc0hpZGRlbihpLnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCByPWkuc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KSxzPXI/dGhpcy5wcm94eVRvU291cmNlW2gua2V5XVtyLmlkXTpbaF07aWYoIXMpY29udGludWU7Y29uc3Qgbj1zO28udmlld3BvcnQuc2V0KFswLDAsZC5mYi53aWR0aCxkLmZiLmhlaWdodF0pLHAhPT0ocj9yLmlkOm51bGwpJiYodGhpcy5fc2V0dXBTdGVuY2lsKGQscyx0LHIpLHA9cj9yLmlkOm51bGwpLGkucmVuZGVyTGF5ZXIoaSxyLHQsbik7fWlmKDA9PT10aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzLmxlbmd0aClmb3IoY29uc3QgZSBvZiB0aGlzLl9wZW5kaW5nR3JvdW5kRWZmZWN0TGF5ZXJzKXtjb25zdCB0PWkuc3R5bGUuX21lcmdlZExheWVyc1thW2VdXTtpZih0LmlzSGlkZGVuKGkudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9aS5zdHlsZS5nZXRMYXllclNvdXJjZUNhY2hlKHQpLHM9cj90aGlzLnByb3h5VG9Tb3VyY2VbaC5rZXldW3IuaWRdOltoXTtpZighcyljb250aW51ZTtjb25zdCBuPXM7by52aWV3cG9ydC5zZXQoWzAsMCxkLmZiLndpZHRoLGQuZmIuaGVpZ2h0XSkscCE9PShyP3IuaWQ6bnVsbCkmJih0aGlzLl9zZXR1cFN0ZW5jaWwoZCxzLHQscikscD1yP3IuaWQ6bnVsbCksaS5yZW5kZXJMYXllcihpLHIsdCxuKTt9dGhpcy5yZW5kZXJlZFRvVGlsZT8oZC5kaXJ0eT0hMCxsLnB1c2gocy50aWxlSUQpKTpffHwtLWMsNT09PWMmJihjPTAsdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIobCkpO31yZXR1cm4gdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIobCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsby5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLG8udmlld3BvcnQuc2V0KFswLDAsaS53aWR0aCxpLmhlaWdodF0pLG4uZW5kKzF9cG9zdFJlbmRlcigpe31pc0xheWVyT3JkZXJpbmdDb3JyZWN0KGUpe2NvbnN0IHQ9ZS5vcmRlci5sZW5ndGg7bGV0IGk9LTEsbz10O2ZvcihsZXQgcj0wO3I8dDsrK3IpdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChlLl9tZXJnZWRMYXllcnNbZS5vcmRlcltyXV0pP2k9TWF0aC5tYXgoaSxyKTpvPU1hdGgubWluKG8scik7cmV0dXJuIG8+aX1nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpe2xldCBlPTA7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoKGU9PmUuZGVtKSkuZm9yRWFjaCgodD0+e2U9TWF0aC5taW4oZSx0LmRlbS50cmVlLm1pbmltdW1zWzBdKTt9KSksMD09PWU/ZTooZS0zMCkqdGhpcy5fZXhhZ2dlcmF0aW9ufXJheWNhc3QoZSx0LGkpe2lmKCF0aGlzLl92aXNpYmxlRGVtVGlsZXMpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLm1hcCgobz0+e2NvbnN0IHI9by50aWxlSUQscz0xPDxyLm92ZXJzY2FsZWRaLHt4Om4seTphfT1yLmNhbm9uaWNhbCxsPW4vcyxjPShuKzEpL3MsaD1hL3MsdT0oYSsxKS9zO3JldHVybiB7bWlueDpsLG1pbnk6aCxtYXh4OmMsbWF4eTp1LHQ6by5kZW0udHJlZS5yYXljYXN0Um9vdChsLGgsYyx1LGUsdCxpKSx0aWxlOm99fSkpO28uc29ydCgoKGUsdCk9PihudWxsIT09ZS50P2UudDpOdW1iZXIuTUFYX1ZBTFVFKS0obnVsbCE9PXQudD90LnQ6TnVtYmVyLk1BWF9WQUxVRSkpKTtmb3IoY29uc3QgciBvZiBvKXtpZihudWxsPT1yLnQpcmV0dXJuIG51bGw7Y29uc3Qgbz1yLnRpbGUuZGVtLnRyZWUucmF5Y2FzdChyLm1pbngsci5taW55LHIubWF4eCxyLm1heHksZSx0LGkpO2lmKG51bGwhPW8pcmV0dXJuIG99cmV0dXJuIG51bGx9X2NyZWF0ZUZCTygpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsaT10LmdsLG89dGhpcy5kcmFwZUJ1ZmZlclNpemU7dC5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUwKTtjb25zdCByPW5ldyBlLlQodCx7d2lkdGg6b1swXSxoZWlnaHQ6b1sxXSxkYXRhOm51bGx9LGkuUkdCQSk7ci5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgcz10LmNyZWF0ZUZyYW1lYnVmZmVyKG9bMF0sb1sxXSwhMCxudWxsKTtyZXR1cm4gcy5jb2xvckF0dGFjaG1lbnQuc2V0KHIudGV4dHVyZSkscy5kZXB0aEF0dGFjaG1lbnQ9bmV3IEl0KHQscy5mcmFtZWJ1ZmZlciksdm9pZCAwPT09dGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPyh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dC5jcmVhdGVSZW5kZXJidWZmZXIodC5nbC5ERVBUSF9TVEVOQ0lMLG9bMF0sb1sxXSksdGhpcy5fc3RlbmNpbFJlZj0wLHMuZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLHQuY2xlYXIoe3N0ZW5jaWw6MH0pKTpzLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmaS50ZXhQYXJhbWV0ZXJmKGkuVEVYVFVSRV8yRCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkse2ZiOnMsdGV4OnIsZGlydHk6ITF9fV9pbml0RkJPUG9vbCgpe2Zvcig7dGhpcy5wb29sLmxlbmd0aDxNYXRoLm1pbig1LHRoaXMucHJveHlDb29yZHMubGVuZ3RoKTspdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpO31fc2hvdWxkRGlzYWJsZVJlbmRlckNhY2hlKCl7aWYodGhpcy5fZGVidWdQYXJhbXMuZGlzYWJsZVJlbmRlckNhY2hlKXJldHVybiAhMDtpZih0aGlzLl9zdHlsZS5oYXNMaWdodFRyYW5zaXRpb25zKCkpcmV0dXJuICEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO3JldHVybiB0aGlzLl9zdHlsZS5vcmRlci5zb21lKChlPT57Y29uc3QgdD10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW2VdLGk9dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pO3JldHVybiBcImN1c3RvbVwiPT09dC50eXBlPyFpJiZ0LnNob3VsZFJlZHJhcGUoKTohaSYmdC5oYXNUcmFuc2l0aW9uKCl9KSl9X2NsZWFyTGluZUxheWVyc0Zyb21SZW5kZXJDYWNoZSgpe2xldCB0PSExO2Zvcihjb25zdCBlIG9mIHRoaXMuX3N0eWxlLmdldFNvdXJjZXMoKSlpZihlIGluc3RhbmNlb2YgUGUpe3Q9ITA7YnJlYWt9aWYoIXQpcmV0dXJuO2NvbnN0IGk9e307Zm9yKGxldCB0PTA7dDx0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7Kyt0KXtjb25zdCBvPXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbdF1dLHI9dGhpcy5fc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShvKTtpZihyJiYhaVtyLmlkXSYmIW8uaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSYmXCJsaW5lXCI9PT1vLnR5cGUmJm8ud2lkdGhFeHByZXNzaW9uKClpbnN0YW5jZW9mIGUuWil7aVtyLmlkXT0hMDtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtlLmtleV1bci5pZF07aWYodClmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKHIuaWQsZSk7fX19fV9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSgpe2xldCBlPSExO2Zvcihjb25zdCB0IGluIHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlc1t0XS5fc291cmNlIGluc3RhbmNlb2YgTWUpe2U9ITA7YnJlYWt9aWYoIWUpcmV0dXJuO2NvbnN0IHQ9e307Zm9yKGxldCBlPTA7ZTx0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7KytlKXtjb25zdCBpPXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbZV1dLG89dGhpcy5fc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtpZighb3x8dFtvLmlkXSljb250aW51ZTtpZihpLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSl8fFwicmFzdGVyXCIhPT1pLnR5cGUpY29udGludWU7Y29uc3Qgcj1pLnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW2Uua2V5XVtvLmlkXTtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9X3Ioby5nZXRUaWxlKGUpLG8uZmluZExvYWRlZFBhcmVudChlLDApLG8sdGhpcy5wYWludGVyLnRyYW5zZm9ybSxyKTsoMSE9PXQub3BhY2l0eXx8MCE9PXQubWl4KSYmdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoby5pZCxlKTt9fX19X3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpe2NvbnN0IHQ9dGhpcy5fc3R5bGUub3JkZXIsaT10Lmxlbmd0aDtpZigwPT09aSlyZXR1cm47Y29uc3Qgbz1bXTt0aGlzLl9wZW5kaW5nR3JvdW5kRWZmZWN0TGF5ZXJzPVtdO2xldCByLHM9MCxuPXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbdFtzXV07Zm9yKDshdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChuKSYmbi5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiYrK3M8aTspbj10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW3Rbc11dO2Zvcig7czxpOysrcyl7Y29uc3QgZT10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW3Rbc11dO2UuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKXx8KHRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQoZSk/dm9pZCAwPT09ciYmKHI9cyk6KFwiZmlsbC1leHRydXNpb25cIj09PWUudHlwZSYmdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycy5wdXNoKHMpLHZvaWQgMCE9PXImJihvLnB1c2goe3N0YXJ0OnIsZW5kOnMtMX0pLHI9dm9pZCAwKSkpO31pZih2b2lkIDAhPT1yJiZvLnB1c2goe3N0YXJ0OnIsZW5kOnMtMX0pLDAhPT1vLmxlbmd0aCl7Y29uc3QgdD1vW28ubGVuZ3RoLTFdO3RoaXMuX3BlbmRpbmdHcm91bmRFZmZlY3RMYXllcnMuZXZlcnkoKGU9PmU+dC5lbmQpKXx8ZS53KFwiZmlsbC1leHRydXNpb24gd2l0aCBmbG9vZCBsaWdodGluZyBhbmQvb3IgZ3JvdW5kIGFtYmllbnQgb2NjbHVzaW9uIHNob3VsZCBiZSBtb3ZlZCB0byBiZSBvbiB0b3Agb2YgYWxsIGRyYXBlZCBsYXllcnMuXCIpO310aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPW87fV9zZXR1cFJlbmRlckNhY2hlKGUpe2NvbnN0IHQ9dGhpcy5wcm94eVNvdXJjZUNhY2hlO2lmKHRoaXMuX3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpfHx0aGlzLmludmFsaWRhdGVSZW5kZXJDYWNoZSl7aWYodGhpcy5pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITEsdC5yZW5kZXJDYWNoZS5sZW5ndGg+dC5yZW5kZXJDYWNoZVBvb2wubGVuZ3RoKXtjb25zdCBlPU9iamVjdC52YWx1ZXModC5wcm94eUNhY2hlZEZCTyk7dC5wcm94eUNhY2hlZEZCTz17fTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSl7Y29uc3Qgbz1PYmplY3QudmFsdWVzKGVbaV0pO3QucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4ubyk7fX1yZXR1cm59dGhpcy5fY2xlYXJSYXN0ZXJMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKTtjb25zdCBpPXRoaXMucHJveHlDb29yZHMsbz10aGlzLl90aWxlc0RpcnR5O2ZvcihsZXQgcj1pLmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBzPWlbcl07aWYodC5nZXRUaWxlQnlJRChzLmtleSksdm9pZCAwIT09dC5wcm94eUNhY2hlZEZCT1tzLmtleV0pe2NvbnN0IGk9ZVtzLmtleV0scj10aGlzLnByb3h5VG9Tb3VyY2Vbcy5rZXldO2xldCBuPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLHM9aVtlXTtpZighc3x8cy5sZW5ndGghPT10Lmxlbmd0aHx8dC5zb21lKCgodCxpKT0+dCE9PXNbaV18fG9bZV0mJm9bZV0uaGFzT3duUHJvcGVydHkodC5rZXkpKSkpe249LTE7YnJlYWt9KytuO31mb3IoY29uc3QgZSBpbiB0LnByb3h5Q2FjaGVkRkJPW3Mua2V5XSl0LnJlbmRlckNhY2hlW3QucHJveHlDYWNoZWRGQk9bcy5rZXldW2VdXS5kaXJ0eT1uPDB8fG4hPT1PYmplY3QudmFsdWVzKGkpLmxlbmd0aDt9fWNvbnN0IHI9Wy4uLnRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXNdO3Iuc29ydCgoKGUsdCk9PnQuZW5kLXQuc3RhcnQtKGUuZW5kLWUuc3RhcnQpKSk7Zm9yKGNvbnN0IGUgb2Ygcilmb3IoY29uc3QgbyBvZiBpKXtpZih0LnByb3h5Q2FjaGVkRkJPW28ua2V5XSljb250aW51ZTtsZXQgaT10LnJlbmRlckNhY2hlUG9vbC5wb3AoKTt2b2lkIDA9PT1pJiZ0LnJlbmRlckNhY2hlLmxlbmd0aDw1MCYmKGk9dC5yZW5kZXJDYWNoZS5sZW5ndGgsdC5yZW5kZXJDYWNoZS5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKSksdm9pZCAwIT09aSYmKHQucHJveHlDYWNoZWRGQk9bby5rZXldPXt9LHQucHJveHlDYWNoZWRGQk9bby5rZXldW2Uuc3RhcnRdPWksdC5yZW5kZXJDYWNoZVtpXS5kaXJ0eT0hMCk7fXRoaXMuX3RpbGVzRGlydHk9e307fV9zZXR1cFN0ZW5jaWwoZSx0LGksbyl7aWYoIW98fCF0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbby5pZF0pcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKSk7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxzPXIuZ2w7aWYodC5sZW5ndGg8PTEpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtsZXQgbjtpZihpLmlzVGlsZUNsaXBwZWQoKSluPXQubGVuZ3RoLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS50ZXN0PXtmdW5jOnMuRVFVQUwsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIkNsaXBcIjtlbHNlIHtpZighKHRbMF0ub3ZlcnNjYWxlZFo+dFt0Lmxlbmd0aC0xXS5vdmVyc2NhbGVkWikpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTtuPTEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6cy5HUkVBVEVSLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJNYXNrXCI7fXRoaXMuX3N0ZW5jaWxSZWYrbj4yNTUmJihyLmNsZWFyKHtzdGVuY2lsOjB9KSx0aGlzLl9zdGVuY2lsUmVmPTApLHRoaXMuX3N0ZW5jaWxSZWYrPW4sdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLl9zdGVuY2lsUmVmLGkuaXNUaWxlQ2xpcHBlZCgpJiZ0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpO31jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCl7cmV0dXJuIFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfHxcIk1hc2tcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZX1zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAoZSl7cmV0dXJuIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlJiZ0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU/KFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLnBhaW50ZXIuX3RpbGVDbGlwcGluZ01hc2tJRHNbZS5rZXldKSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUpOlJ0LmRpc2FibGVkfV9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhlLHQpe2NvbnN0IGk9dGhpcy5wYWludGVyLG89dGhpcy5wYWludGVyLmNvbnRleHQscj1vLmdsO2kuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sby5zZXRDb2xvck1vZGUoTXQuZGlzYWJsZWQpLG8uc2V0RGVwdGhNb2RlKEx0LmRpc2FibGVkKTtjb25zdCBzPWkuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9aS5fdGlsZUNsaXBwaW5nTWFza0lEc1tvLmtleV09LS10O3MuZHJhdyhpLHIuVFJJQU5HTEVTLEx0LmRpc2FibGVkLG5ldyBSdCh7ZnVuYzpyLkFMV0FZUyxtYXNrOjB9LGUsMjU1LHIuS0VFUCxyLktFRVAsci5SRVBMQUNFKSxNdC5kaXNhYmxlZCxGdC5kaXNhYmxlZCxkcihvLnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsaS50aWxlRXh0ZW50QnVmZmVyLGkucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsaS50aWxlRXh0ZW50U2VnbWVudHMpO319cG9pbnRDb29yZGluYXRlKHQpe2NvbnN0IGk9dGhpcy5wYWludGVyLnRyYW5zZm9ybTtpZih0Lng8MHx8dC54Pmkud2lkdGh8fHQueTwwfHx0Lnk+aS5oZWlnaHQpcmV0dXJuIG51bGw7Y29uc3Qgbz1bdC54LHQueSwxLDFdO2UuYTcudHJhbnNmb3JtTWF0NChvLG8saS5waXhlbE1hdHJpeEludmVyc2UpLGUuYTcuc2NhbGUobyxvLDEvb1szXSksb1swXS89aS53b3JsZFNpemUsb1sxXS89aS53b3JsZFNpemU7Y29uc3Qgcj1pLl9jYW1lcmEucG9zaXRpb24scz1lLmJsKDEsaS5jZW50ZXIubGF0KSxuPVtyWzBdLHJbMV0sclsyXS9zLDBdLGE9ZS5OLnN1YnRyYWN0KFtdLG8uc2xpY2UoMCwzKSxuKTtlLk4ubm9ybWFsaXplKGEsYSk7Y29uc3QgbD10aGlzLnJheWNhc3QobixhLHRoaXMuX2V4YWdnZXJhdGlvbik7cmV0dXJuIG51bGwhPT1sJiZsPyhlLk4uc2NhbGVBbmRBZGQobixuLGEsbCksblszXT1uWzJdLG5bMl0qPXMsbik6bnVsbH1kcmF3RGVwdGgoKXtjb25zdCB0PXRoaXMucGFpbnRlcixpPXQuY29udGV4dCxvPXRoaXMucHJveHlTb3VyY2VDYWNoZSxyPU1hdGguY2VpbCh0LndpZHRoKSxzPU1hdGguY2VpbCh0LmhlaWdodCk7aWYoIXRoaXMuX2RlcHRoRkJPfHx0aGlzLl9kZXB0aEZCTy53aWR0aD09PXImJnRoaXMuX2RlcHRoRkJPLmhlaWdodD09PXN8fCh0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLCF0aGlzLl9kZXB0aEZCTyl7Y29uc3QgdD1pLmdsLG89aS5jcmVhdGVGcmFtZWJ1ZmZlcihyLHMsITAsXCJyZW5kZXJidWZmZXJcIik7aS5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUwKTtjb25zdCBuPW5ldyBlLlQoaSx7d2lkdGg6cixoZWlnaHQ6cyxkYXRhOm51bGx9LHQuUkdCQSk7bi5iaW5kKHQuTkVBUkVTVCx0LkNMQU1QX1RPX0VER0UpLG8uY29sb3JBdHRhY2htZW50LnNldChuLnRleHR1cmUpO2NvbnN0IGE9aS5jcmVhdGVSZW5kZXJidWZmZXIoaS5nbC5ERVBUSF9DT01QT05FTlQxNixyLHMpO28uZGVwdGhBdHRhY2htZW50LnNldChhKSx0aGlzLl9kZXB0aEZCTz1vLHRoaXMuX2RlcHRoVGV4dHVyZT1uO31pLmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fZGVwdGhGQk8uZnJhbWVidWZmZXIpLGkudmlld3BvcnQuc2V0KFswLDAscixzXSksZnVuY3Rpb24oZSx0LGksbyl7aWYoXCJnbG9iZVwiPT09ZS50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCByPWUuY29udGV4dCxzPXIuZ2w7ci5jbGVhcih7ZGVwdGg6MX0pO2NvbnN0IG49ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJ0ZXJyYWluRGVwdGhcIiksYT1uZXcgTHQocy5MRVNTLEx0LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7Zm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbz1pLmdldFRpbGUociksbD1zcihyLnByb2pNYXRyaXgsMCxbMCwwLDBdKTt0LnNldHVwRWxldmF0aW9uRHJhdyhvLG4pLG4uZHJhdyhlLHMuVFJJQU5HTEVTLGEsUnQuZGlzYWJsZWQsTXQudW5ibGVuZGVkLEZ0LmJhY2tDQ1csbCxcInRlcnJhaW5fZGVwdGhcIix0LmdyaWRCdWZmZXIsdC5ncmlkSW5kZXhCdWZmZXIsdC5ncmlkTm9Ta2lydFNlZ21lbnRzKTt9fSh0LHRoaXMsbyx0aGlzLnByb3h5Q29vcmRzKTt9X3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKHQsaSxvKXtpZih0LmdldFNvdXJjZSgpaW5zdGFuY2VvZiBlLmFwKXJldHVybiB0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZSh0LGksbyk7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3QuaWRdPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVt0LmlkXXx8e307Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbdC5pZF09W10scz10aGlzLnByb3h5Q29vcmRzO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCBpPXNbZV0sbj10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGksdCk7aWYobil7Y29uc3QgZT10aGlzLl9jcmVhdGVQcm94aWVkSWQoaSxuLG9baS5rZXldJiZvW2kua2V5XVt0LmlkXSk7ci5wdXNoKGUpLHRoaXMucHJveHlUb1NvdXJjZVtpLmtleV1bdC5pZF09W2VdO319bGV0IG49ITE7Y29uc3QgYT1uZXcgU2V0O2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBzPXQuZ2V0VGlsZShpW2VdKTtpZighc3x8IXMuaGFzRGF0YSgpKWNvbnRpbnVlO2NvbnN0IGw9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChzLnRpbGVJRCx0aGlzLnByb3h5U291cmNlQ2FjaGUpO2lmKGwmJmwudGlsZUlELmNhbm9uaWNhbC56IT09cy50aWxlSUQuY2Fub25pY2FsLnope2NvbnN0IGU9dGhpcy5wcm94eVRvU291cmNlW2wudGlsZUlELmtleV1bdC5pZF0saT10aGlzLl9jcmVhdGVQcm94aWVkSWQobC50aWxlSUQscyxvW2wudGlsZUlELmtleV0mJm9bbC50aWxlSUQua2V5XVt0LmlkXSk7ZT9lLnNwbGljZShlLmxlbmd0aC0xLDAsaSk6dGhpcy5wcm94eVRvU291cmNlW2wudGlsZUlELmtleV1bdC5pZF09W2ldO2NvbnN0IGM9dGhpcy5wcm94eVRvU291cmNlW2wudGlsZUlELmtleV1bdC5pZF07YS5oYXMoYyl8fGEuYWRkKGMpLHIucHVzaChpKSxuPSEwO319aWYodGhpcy5fc291cmNlVGlsZXNPdmVybGFwW3QuaWRdPW4sbiYmdGhpcy5fZGVidWdQYXJhbXMuc29ydFRpbGVzSGlaRmlyc3QpZm9yKGNvbnN0IGUgb2YgYSllLnNvcnQoKChlLHQpPT50Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFopKTt9X3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKHQsaSxvKXtpZighdC5nZXRTb3VyY2UoKS5sb2FkZWQoKSlyZXR1cm47Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbdC5pZF09W10scz10aGlzLnByb3h5Q29vcmRzLG49dC5nZXRTb3VyY2UoKSxhPW4udGlsZUlEO2lmKCFhKXJldHVybjtjb25zdCBsPW5ldyBlLlAoYS54LGEueSkuX2RpdigxPDxhLnopLGM9bi5jb29yZGluYXRlcy5tYXAoZS5MLmZyb21MbmdMYXQpLnJlZHVjZSgoKGUsdCk9PihlLm1pbi54PU1hdGgubWluKGUubWluLngsdC54LWwueCksZS5taW4ueT1NYXRoLm1pbihlLm1pbi55LHQueS1sLnkpLGUubWF4Lng9TWF0aC5tYXgoZS5tYXgueCx0LngtbC54KSxlLm1heC55PU1hdGgubWF4KGUubWF4LnksdC55LWwueSksZSkpLHttaW46bmV3IGUuUChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG1heDpuZXcgZS5QKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKX0pLGg9KHQsaSk9Pntjb25zdCBvPXQud3JhcCt0LmNhbm9uaWNhbC54LygxPDx0LmNhbm9uaWNhbC56KSxyPXQuY2Fub25pY2FsLnkvKDE8PHQuY2Fub25pY2FsLnopLHM9ZS5WLygxPDx0LmNhbm9uaWNhbC56KSxuPWkud3JhcCtpLmNhbm9uaWNhbC54LygxPDxpLmNhbm9uaWNhbC56KSxhPWkuY2Fub25pY2FsLnkvKDE8PGkuY2Fub25pY2FsLnopO3JldHVybiBvK3M8bitjLm1pbi54fHxvPm4rYy5tYXgueHx8citzPGErYy5taW4ueXx8cj5hK2MubWF4Lnl9O2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCBuPXNbZV07Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0IHM9dC5nZXRUaWxlKGlbZV0pO2lmKCFzfHwhcy5oYXNEYXRhKCkpY29udGludWU7aWYoaChuLHMudGlsZUlEKSljb250aW51ZTtjb25zdCBhPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChuLHMsb1tuLmtleV0mJm9bbi5rZXldW3QuaWRdKSxsPXRoaXMucHJveHlUb1NvdXJjZVtuLmtleV1bdC5pZF07bD9sLnB1c2goYSk6dGhpcy5wcm94eVRvU291cmNlW24ua2V5XVt0LmlkXT1bYV0sci5wdXNoKGEpO319fV9jcmVhdGVQcm94aWVkSWQodCxpLG8pe2xldCByPXRoaXMub3J0aG9NYXRyaXg7aWYobyl7Y29uc3QgZT1vLmZpbmQoKGU9PmUua2V5PT09aS50aWxlSUQua2V5KSk7aWYoZSlyZXR1cm4gZX1pZihpLnRpbGVJRC5rZXkhPT10LmtleSl7Y29uc3Qgbz10LmNhbm9uaWNhbC56LWkudGlsZUlELmNhbm9uaWNhbC56O2xldCBzLG4sYTtyPWUuYTYuY3JlYXRlKCk7Y29uc3QgbD1pLnRpbGVJRC53cmFwLXQud3JhcDw8dC5vdmVyc2NhbGVkWjtvPjA/KHM9ZS5WPj5vLG49cyooKGkudGlsZUlELmNhbm9uaWNhbC54PDxvKS10LmNhbm9uaWNhbC54K2wpLGE9cyooKGkudGlsZUlELmNhbm9uaWNhbC55PDxvKS10LmNhbm9uaWNhbC55KSk6KHM9ZS5WPDwtbyxuPWUuViooaS50aWxlSUQuY2Fub25pY2FsLngtKHQuY2Fub25pY2FsLngrbDw8LW8pKSxhPWUuViooaS50aWxlSUQuY2Fub25pY2FsLnktKHQuY2Fub25pY2FsLnk8PC1vKSkpLGUuYTYub3J0aG8ociwwLHMsMCxzLDAsMSksZS5hNi50cmFuc2xhdGUocixyLFtuLGEsMF0pO31yZXR1cm4gbmV3IG1yKGkudGlsZUlELHQua2V5LHIpfV9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKHQsaSl7bGV0IG89aS5nZXRUaWxlKHQpO2lmKG8mJm8uaGFzRGF0YSgpKXJldHVybiBvO2NvbnN0IHI9dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2kuaWRdLHM9clt0LmtleV07aWYobz1zP2kuZ2V0VGlsZUJ5SUQocyk6bnVsbCxvJiZvLmhhc0RhdGEoKXx8bnVsbD09PXMpcmV0dXJuIG87bGV0IG49bz9vLnRpbGVJRDp0LGE9bi5vdmVyc2NhbGVkWjtjb25zdCBsPWkuZ2V0U291cmNlKCkubWluem9vbSxjPVtdO2lmKCFzKXtjb25zdCByPWkuZ2V0U291cmNlKCkubWF4em9vbTtpZih0LmNhbm9uaWNhbC56Pj1yKXtjb25zdCBvPXQuY2Fub25pY2FsLnotcjtpLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkPyhhPU1hdGgubWF4KHQuY2Fub25pY2FsLnorMixpLnRyYW5zZm9ybS50aWxlWm9vbSksbj1uZXcgZS5hbShhLHQud3JhcCxyLHQuY2Fub25pY2FsLng+Pm8sdC5jYW5vbmljYWwueT4+bykpOjAhPT1vJiYoYT1yLG49bmV3IGUuYW0oYSx0LndyYXAscix0LmNhbm9uaWNhbC54Pj5vLHQuY2Fub25pY2FsLnk+Pm8pKTt9bi5rZXkhPT10LmtleSYmKGMucHVzaChuLmtleSksbz1pLmdldFRpbGUobikpO31jb25zdCBoPWU9PntjLmZvckVhY2goKHQ9PntyW3RdPWU7fSkpLGMubGVuZ3RoPTA7fTtmb3IoYS09MTthPj1sJiYoIW98fCFvLmhhc0RhdGEoKSk7YS0tKXtvJiZoKG8udGlsZUlELmtleSk7Y29uc3QgZT1uLmNhbGN1bGF0ZVNjYWxlZEtleShhKTtpZihvPWkuZ2V0VGlsZUJ5SUQoZSksbyYmby5oYXNEYXRhKCkpYnJlYWs7Y29uc3QgdD1yW2VdO2lmKG51bGw9PT10KWJyZWFrO3ZvaWQgMD09PXQ/Yy5wdXNoKGUpOm89aS5nZXRUaWxlQnlJRCh0KTt9cmV0dXJuIGgobz9vLnRpbGVJRC5rZXk6bnVsbCksbyYmby5oYXNEYXRhKCk/bzpudWxsfWZpbmRERU1UaWxlRm9yKGUpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChlLHRoaXMuc291cmNlQ2FjaGUpOm51bGx9cHJlcGFyZURyYXdUaWxlKCl7dGhpcy5yZW5kZXJlZFRvVGlsZT0hMDt9X2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUsdCl7bGV0IGk9dGhpcy5fdGlsZXNEaXJ0eVtlXTtpfHwoaT10aGlzLl90aWxlc0RpcnR5W2VdPXt9KSxpW3Qua2V5XT0hMDt9fWZ1bmN0aW9uIHZyKHQsaSxvKXtjb25zdCByPWZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPWUuTi5kb3QoaSx0KSxzPWUuTi5kb3QobyxbLjIxMjYsLjcxNTIsLjA3MjJdKSxuPShlLHQsaSk9PigxLWkpKmUraSp0LGE9bigxLS4zKk1hdGgubWluKHMsMSksMSxNYXRoLm1pbihyKzEsMSkpO3JldHVybiBuKC45MiwxLE1hdGguYXNpbihlLmFhKGlbMl0sLTEsMSkpL01hdGguUEkrLjUpKmF9KHQsWzAsMCwxXSxpKSxzPVswLDAsMF07ZS5OLnNjYWxlKHMsby5zbGljZSgwLDMpLHIpO2NvbnN0IG49WzAsMCwwXTtlLk4uc2NhbGUobixpLnNsaWNlKDAsMyksdFsyXSk7Y29uc3QgYT1bMCwwLDBdO3JldHVybiBlLk4uYWRkKGEscyxuKSxlLmJVKGEpfWNvbnN0IHhyPVtcImZpbGxcIixcImZpbGxPdXRsaW5lXCIsXCJmaWxsUGF0dGVyblwiLFwibGluZVwiLFwibGluZVBhdHRlcm5cIixcImJhY2tncm91bmRcIixcImJhY2tncm91bmRQYXR0ZXJuXCIsXCJoaWxsc2hhZGVcIixcInJhc3RlclwiXSx5cj1bXCJzdGFyc1wiLFwiZmlsbEV4dHJ1c2lvblwiLFwiZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdFwiLFwibW9kZWxcIixcInN5bWJvbFNERlwiLFwic3ltYm9sSWNvblwiLFwic3ltYm9sVGV4dEFuZEljb25cIl07Y2xhc3MgYnJ7c3RhdGljIGNhY2hlS2V5KGUsdCxpLG8pe2xldCByPWAke3R9JHtvP28uY2FjaGVLZXk6XCJcIn1gO2Zvcihjb25zdCB0IG9mIGkpZS51c2VkRGVmaW5lcy5pbmNsdWRlcyh0KSYmKHIrPWAvJHt0fWApO3JldHVybiByfWNvbnN0cnVjdG9yKHQsaSxvLHIscyxuLGEpe2NvbnN0IGw9dC5nbDt0aGlzLnByb2dyYW09bC5jcmVhdGVQcm9ncmFtKCksdGhpcy5jb25maWd1cmF0aW9uPXIsdGhpcy5uYW1lPWksdGhpcy5maXhlZERlZmluZXM9Wy4uLm5dO2NvbnN0IGM9cj9yLmdldEJpbmRlckF0dHJpYnV0ZXMoKTpbXSxoPShvLnN0YXRpY0F0dHJpYnV0ZXN8fFtdKS5jb25jYXQoYyk7bGV0IHU9cj9yLmRlZmluZXMoKTpbXTt1PXUuY29uY2F0KG4ubWFwKChlPT5gI2RlZmluZSAke2V9YCkpKTtjb25zdCBkPVwiI3ZlcnNpb24gMzAwIGVzXFxuXCI7bGV0IF89ZCt1LmNvbmNhdChcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFhvLCRvLmZyYWdtZW50U291cmNlKS5qb2luKFwiXFxuXCIpO2Zvcihjb25zdCBlIG9mIG8uZnJhZ21lbnRJbmNsdWRlcylfKz1gXFxuJHtXb1tlXX1gO18rPWBcXG4ke28uZnJhZ21lbnRTb3VyY2V9YDtsZXQgcD1kK3UuY29uY2F0KFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1wiLFhvLCRvLnZlcnRleFNvdXJjZSkuam9pbihcIlxcblwiKTtmb3IoY29uc3QgZSBvZiBvLnZlcnRleEluY2x1ZGVzKXArPWBcXG4ke1dvW2VdfWA7cCs9YFxcbiR7by52ZXJ0ZXhTb3VyY2V9YDtjb25zdCBmPWwuY3JlYXRlU2hhZGVyKGwuRlJBR01FTlRfU0hBREVSKTtpZihsLmlzQ29udGV4dExvc3QoKSlyZXR1cm4gdm9pZCh0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwKTtsLnNoYWRlclNvdXJjZShmLF8pLGwuY29tcGlsZVNoYWRlcihmKSxsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sZik7Y29uc3QgbT1sLmNyZWF0ZVNoYWRlcihsLlZFUlRFWF9TSEFERVIpO2lmKGwuaXNDb250ZXh0TG9zdCgpKXRoaXMuZmFpbGVkVG9DcmVhdGU9ITA7ZWxzZSB7bC5zaGFkZXJTb3VyY2UobSxwKSxsLmNvbXBpbGVTaGFkZXIobSksbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLG0pLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm51bUF0dHJpYnV0ZXM9aC5sZW5ndGg7Zm9yKGxldCBlPTA7ZTx0aGlzLm51bUF0dHJpYnV0ZXM7ZSsrKWlmKGhbZV0pe2NvbnN0IHQ9aFtlXS5zdGFydHNXaXRoKFwiYV9cIik/aFtlXTpgYV8ke2hbZV19YDtsLmJpbmRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sZSx0KSx0aGlzLmF0dHJpYnV0ZXNbdF09ZTt9YSYmYS5zaGFkZXJWYXJ5aW5ncy5sZW5ndGg+MCYmbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHRoaXMucHJvZ3JhbSxhLnNoYWRlclZhcnlpbmdzLGEuYnVmZmVyTW9kZSksbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pLGwuZGVsZXRlU2hhZGVyKG0pLGwuZGVsZXRlU2hhZGVyKGYpLHRoaXMuZml4ZWRVbmlmb3Jtcz1zKHQpLHRoaXMuYmluZGVyVW5pZm9ybXM9cj9yLmdldFVuaWZvcm1zKHQpOltdLG4uaW5jbHVkZXMoXCJURVJSQUlOXCIpJiYodGhpcy50ZXJyYWluVW5pZm9ybXM9KHQ9Pih7dV9kZW06bmV3IGUuYk8odCksdV9kZW1fcHJldjpuZXcgZS5iTyh0KSx1X2RlbV90bDpuZXcgZS5iTCh0KSx1X2RlbV9zY2FsZTpuZXcgZS5iTih0KSx1X2RlbV90bF9wcmV2Om5ldyBlLmJMKHQpLHVfZGVtX3NjYWxlX3ByZXY6bmV3IGUuYk4odCksdV9kZW1fc2l6ZTpuZXcgZS5iTih0KSx1X2RlbV9sZXJwOm5ldyBlLmJOKHQpLHVfZXhhZ2dlcmF0aW9uOm5ldyBlLmJOKHQpLHVfZGVwdGg6bmV3IGUuYk8odCksdV9kZXB0aF9zaXplX2ludjpuZXcgZS5iTCh0KSx1X21ldGVyX3RvX2RlbTpuZXcgZS5iTih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY6bmV3IGUuYksodCl9KSkodCkpLG4uaW5jbHVkZXMoXCJHTE9CRVwiKSYmKHRoaXMuZ2xvYmVVbmlmb3Jtcz0odD0+KHt1X3RpbGVfdGxfdXA6bmV3IGUuYk0odCksdV90aWxlX3RyX3VwOm5ldyBlLmJNKHQpLHVfdGlsZV9icl91cDpuZXcgZS5iTSh0KSx1X3RpbGVfYmxfdXA6bmV3IGUuYk0odCksdV90aWxlX3VwX3NjYWxlOm5ldyBlLmJOKHQpfSkpKHQpKSxuLmluY2x1ZGVzKFwiRk9HXCIpJiYodGhpcy5mb2dVbmlmb3Jtcz0odD0+KHt1X2ZvZ19tYXRyaXg6bmV3IGUuYksodCksdV9mb2dfcmFuZ2U6bmV3IGUuYkwodCksdV9mb2dfY29sb3I6bmV3IGUuYlAodCksdV9mb2dfaG9yaXpvbl9ibGVuZDpuZXcgZS5iTih0KSx1X2ZvZ192ZXJ0aWNhbF9saW1pdDpuZXcgZS5iTCh0KSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuYk4odCksdV9mcnVzdHVtX3RsOm5ldyBlLmJNKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5iTSh0KSx1X2ZydXN0dW1fYnI6bmV3IGUuYk0odCksdV9mcnVzdHVtX2JsOm5ldyBlLmJNKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLmJNKHQpLHVfZ2xvYmVfcmFkaXVzOm5ldyBlLmJOKHQpLHVfZ2xvYmVfdHJhbnNpdGlvbjpuZXcgZS5iTih0KSx1X2lzX2dsb2JlOm5ldyBlLmJPKHQpLHVfdmlld3BvcnQ6bmV3IGUuYkwodCl9KSkodCkpLG4uaW5jbHVkZXMoXCJSRU5ERVJfQ1VUT0ZGXCIpJiYodGhpcy5jdXRvZmZVbmlmb3Jtcz0odD0+KHt1X2N1dG9mZl9wYXJhbXM6bmV3IGUuYlAodCl9KSkodCkpLG4uaW5jbHVkZXMoXCJMSUdIVElOR18zRF9NT0RFXCIpJiYodGhpcy5saWdodHNVbmlmb3Jtcz0odD0+KHt1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I6bmV3IGUuYk0odCksdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXI6bmV3IGUuYk0odCksdV9saWdodGluZ19kaXJlY3Rpb25hbF9jb2xvcjpuZXcgZS5iTSh0KSx1X2dyb3VuZF9yYWRpYW5jZTpuZXcgZS5iTSh0KX0pKSh0KSksbi5pbmNsdWRlcyhcIlJFTkRFUl9TSEFET1dTXCIpJiYodGhpcy5zaGFkb3dVbmlmb3Jtcz0odD0+KHt1X2xpZ2h0X21hdHJpeF8wOm5ldyBlLmJLKHQpLHVfbGlnaHRfbWF0cml4XzE6bmV3IGUuYksodCksdV9mYWRlX3JhbmdlOm5ldyBlLmJMKHQpLHVfc2hhZG93X25vcm1hbF9vZmZzZXQ6bmV3IGUuYk0odCksdV9zaGFkb3dfaW50ZW5zaXR5Om5ldyBlLmJOKHQpLHVfc2hhZG93X3RleGVsX3NpemU6bmV3IGUuYk4odCksdV9zaGFkb3dfbWFwX3Jlc29sdXRpb246bmV3IGUuYk4odCksdV9zaGFkb3dfZGlyZWN0aW9uOm5ldyBlLmJNKHQpLHVfc2hhZG93X2JpYXM6bmV3IGUuYk0odCksdV9zaGFkb3dtYXBfMDpuZXcgZS5iTyh0KSx1X3NoYWRvd21hcF8xOm5ldyBlLmJPKHQpfSkpKHQpKTt9fXNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMudGVycmFpblVuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMudGVycmFpblVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdJiZpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldEdsb2JlVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmdsb2JlVW5pZm9ybXMpcmV0dXJuO2NvbnN0IGk9dGhpcy5nbG9iZVVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdJiZpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldEZvZ1VuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5mb2dVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmZvZ1VuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldEN1dG9mZlVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5jdXRvZmZVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmN1dG9mZlVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldExpZ2h0c1VuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy5saWdodHNVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmxpZ2h0c1VuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClpW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKTt9fXNldFNoYWRvd1VuaWZvcm1WYWx1ZXMoZSx0KXtpZih0aGlzLmZhaWxlZFRvQ3JlYXRlfHwhdGhpcy5zaGFkb3dVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLnNoYWRvd1VuaWZvcm1zO2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO31fZHJhd0RlYnVnV2lyZWZyYW1lKHQsaSxvLHIscyxuLGEsbCxjLGgpe2NvbnN0IHU9dC5vcHRpb25zLndpcmVmcmFtZTtpZighMT09PXUudGVycmFpbiYmITE9PT11LmxheWVyczJEJiYhMT09PXUubGF5ZXJzM0QpcmV0dXJuO2NvbnN0IGQ9dC5jb250ZXh0O2lmKCEoKCk9PiEoIXUudGVycmFpbnx8XCJ0ZXJyYWluUmFzdGVyXCIhPT10aGlzLm5hbWUmJlwiZ2xvYmVSYXN0ZXJcIiE9PXRoaXMubmFtZSl8fCEoIXUubGF5ZXJzMkR8fHQuX3RlcnJhaW4mJnQuX3RlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfHwheHIuaW5jbHVkZXModGhpcy5uYW1lKSl8fCEoIXUubGF5ZXJzM0R8fCF5ci5pbmNsdWRlcyh0aGlzLm5hbWUpKSkoKSlyZXR1cm47Y29uc3QgXz1kLmdsLHA9dC53aXJlZnJhbWVEZWJ1Z0NhY2hlLmdldExpbmVzRnJvbVRyaWFuZ2xlc0J1ZmZlcih0LmZyYW1lQ291bnRlcixzLGQpO2lmKCFwKXJldHVybjtjb25zdCBmPVsuLi50aGlzLmZpeGVkRGVmaW5lc107Zi5wdXNoKFwiREVCVUdfV0lSRUZSQU1FXCIpO2NvbnN0IG09dC5nZXRPckNyZWF0ZVByb2dyYW0odGhpcy5uYW1lLHtjb25maWc6dGhpcy5jb25maWd1cmF0aW9uLGRlZmluZXM6Zn0pO2QucHJvZ3JhbS5zZXQobS5wcm9ncmFtKTtjb25zdCBnPShlLHQsaSk9PntpZih0W2VdJiZpW2VdKWZvcihjb25zdCBvIGluIHRbZV0paVtlXVtvXSYmaVtlXVtvXS5zZXQoaS5wcm9ncmFtLG8sdFtlXVtvXS5jdXJyZW50KTt9O2MmJmMuc2V0VW5pZm9ybXMobS5wcm9ncmFtLGQsbS5iaW5kZXJVbmlmb3JtcyxhLHt6b29tOmx9KSxnKFwiZml4ZWRVbmlmb3Jtc1wiLHRoaXMsbSksZyhcInRlcnJhaW5Vbmlmb3Jtc1wiLHRoaXMsbSksZyhcImdsb2JlVW5pZm9ybXNcIix0aGlzLG0pLGcoXCJmb2dVbmlmb3Jtc1wiLHRoaXMsbSksZyhcImxpZ2h0c1VuaWZvcm1zXCIsdGhpcyxtKSxnKFwic2hhZG93VW5pZm9ybXNcIix0aGlzLG0pLHAuYmluZCgpLGQuc2V0Q29sb3JNb2RlKG5ldyBNdChbXy5PTkUsXy5PTkVfTUlOVVNfU1JDX0FMUEhBLF8uWkVSTyxfLk9ORV0sZS5heC50cmFuc3BhcmVudCxbITAsITAsITAsITFdKSksZC5zZXREZXB0aE1vZGUobmV3IEx0KGkuZnVuYz09PV8uTEVTUz9fLkxFUVVBTDppLmZ1bmMsTHQuUmVhZE9ubHksaS5yYW5nZSkpLGQuc2V0U3RlbmNpbE1vZGUoUnQuZGlzYWJsZWQpO2NvbnN0IHY9MypuLnByaW1pdGl2ZUxlbmd0aCoyLHg9MypuLnByaW1pdGl2ZU9mZnNldCoyKjI7aCYmaD4xP18uZHJhd0VsZW1lbnRzSW5zdGFuY2VkKF8uTElORVMsdixfLlVOU0lHTkVEX1NIT1JULHgsaCk6Xy5kcmF3RWxlbWVudHMoXy5MSU5FUyx2LF8uVU5TSUdORURfU0hPUlQseCkscy5iaW5kKCksZC5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLGQuc2V0RGVwdGhNb2RlKGkpLGQuc2V0U3RlbmNpbE1vZGUobyksZC5zZXRDb2xvck1vZGUocik7fWRyYXcoZSx0LGksbyxyLHMsbixhLGwsYyxoLHUsZCxfLHAsZixtKXtjb25zdCBnPWUuY29udGV4dCx2PWcuZ2w7aWYodGhpcy5mYWlsZWRUb0NyZWF0ZSlyZXR1cm47Zy5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLGcuc2V0RGVwdGhNb2RlKGkpLGcuc2V0U3RlbmNpbE1vZGUobyksZy5zZXRDb2xvck1vZGUociksZy5zZXRDdWxsRmFjZShzKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLmZpeGVkVW5pZm9ybXMpKXRoaXMuZml4ZWRVbmlmb3Jtc1tlXS5zZXQodGhpcy5wcm9ncmFtLGUsbltlXSk7XyYmXy5zZXRVbmlmb3Jtcyh0aGlzLnByb2dyYW0sZyx0aGlzLmJpbmRlclVuaWZvcm1zLHUse3pvb206ZH0pO2NvbnN0IHg9e1t2LlBPSU5UU106MSxbdi5MSU5FU106Mixbdi5UUklBTkdMRVNdOjMsW3YuTElORV9TVFJJUF06MX1bdF0seT1tJiZtLmxlbmd0aD4wO2lmKHkpe2Zvcihjb25zdCBlIG9mIG0pdi5iaW5kQnVmZmVyQmFzZSh2LlRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIsZS50YXJnZXRJbmRleCxlLmJ1ZmZlci5idWZmZXIpO3YuYmVnaW5UcmFuc2Zvcm1GZWVkYmFjayh0KTt9Y29uc3QgYj1mJiZmPjA/MTp2b2lkIDA7Zm9yKGNvbnN0IHMgb2YgaC5nZXQoKSl7Y29uc3Qgbj1zLnZhb3N8fChzLnZhb3M9e30pOyhuW2FdfHwoblthXT1uZXcgUW8pKS5iaW5kKGcsdGhpcyxsLF8/Xy5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLHMudmVydGV4T2Zmc2V0LHB8fFtdLGIpLGYmJmY+MT92LmRyYXdFbGVtZW50c0luc3RhbmNlZCh0LHMucHJpbWl0aXZlTGVuZ3RoKngsdi5VTlNJR05FRF9TSE9SVCxzLnByaW1pdGl2ZU9mZnNldCp4KjIsZik6Yz92LmRyYXdFbGVtZW50cyh0LHMucHJpbWl0aXZlTGVuZ3RoKngsdi5VTlNJR05FRF9TSE9SVCxzLnByaW1pdGl2ZU9mZnNldCp4KjIpOnYuZHJhd0FycmF5cyh0LHMudmVydGV4T2Zmc2V0LHMudmVydGV4TGVuZ3RoKSx0PT09di5UUklBTkdMRVMmJmMmJnRoaXMuX2RyYXdEZWJ1Z1dpcmVmcmFtZShlLGksbyxyLGMscyx1LGQsXyxmKTt9eSYmdi5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpO319ZnVuY3Rpb24gd3IodCxpKXtjb25zdCBvPU1hdGgucG93KDIsaS50aWxlSUQub3ZlcnNjYWxlZFopLHI9aS50aWxlU2l6ZSpNYXRoLnBvdygyLHQudHJhbnNmb3JtLnRpbGVab29tKS9vLHM9ciooaS50aWxlSUQuY2Fub25pY2FsLngraS50aWxlSUQud3JhcCpvKSxuPXIqaS50aWxlSUQuY2Fub25pY2FsLnk7cmV0dXJuIHt1X2ltYWdlOjAsdV90ZXhzaXplOmkuaW1hZ2VBdGxhc1RleHR1cmU/aS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLHVfdGlsZV91bml0c190b19waXhlbHM6MS9lLmEzKGksMSx0LnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbcz4+MTYsbj4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JnMsNjU1MzUmbl19fWNvbnN0IFRyPWUuYTYuY3JlYXRlKCksRXI9KHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF8scCxmLG0pPT57Y29uc3QgZz1pLnN0eWxlLmxpZ2h0LHY9Zy5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpLHg9W3YueCx2Lnksdi56XSx5PWUuY28uY3JlYXRlKCk7XCJ2aWV3cG9ydFwiPT09Zy5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmKGUuY28uZnJvbVJvdGF0aW9uKHksLWkudHJhbnNmb3JtLmFuZ2xlKSxlLk4udHJhbnNmb3JtTWF0Myh4LHgseSkpO2NvbnN0IGI9Zy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLHc9aS50cmFuc2Zvcm0sVD17dV9tYXRyaXg6dCx1X2xpZ2h0cG9zOngsdV9saWdodGludGVuc2l0eTpnLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHVfbGlnaHRjb2xvcjpbYi5yLGIuZyxiLmJdLHVfdmVydGljYWxfZ3JhZGllbnQ6K28sdV9vcGFjaXR5OnIsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4OlRyLHVfbWVyY19jZW50ZXI6WzAsMF0sdV91cF9kaXI6WzAsMCwwXSx1X2hlaWdodF9saWZ0OjAsdV9hbzpzLHVfZWRnZV9yYWRpdXM6bix1X2Zsb29kX2xpZ2h0X2NvbG9yOmQsdV92ZXJ0aWNhbF9zY2FsZTpfLHVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5OnAsdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpmLHVfZW1pc3NpdmVfc3RyZW5ndGg6bX07cmV0dXJuIFwiZ2xvYmVcIj09PXcucHJvamVjdGlvbi5uYW1lJiYoVC51X3RpbGVfaWQ9W2EuY2Fub25pY2FsLngsYS5jYW5vbmljYWwueSwxPDxhLmNhbm9uaWNhbC56XSxULnVfem9vbV90cmFuc2l0aW9uPWMsVC51X2ludl9yb3RfbWF0cml4PXUsVC51X21lcmNfY2VudGVyPWgsVC51X3VwX2Rpcj13LnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuYnMoMCwwLDApLGhbMF0qZS5WLGhbMV0qZS5WKSxULnVfaGVpZ2h0X2xpZnQ9bCksVH0sU3I9KGUsdCxpKT0+KHt1X21hdHJpeDplLHVfZWRnZV9yYWRpdXM6dCx1X3ZlcnRpY2FsX3NjYWxlOml9KSxDcj0odCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwKT0+e2NvbnN0IGY9RXIodCxpLG8scixzLG4sYSxjLGgsdSxkLF8scCwxLFswLDAsMF0sMCksbT17dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLGEub3ZlcnNjYWxlZFopL2wudGlsZVNpemUvOH07cmV0dXJuIGUuZShmLHdyKGksbCksbSl9LElyPShlLHQpPT4oe3VfbWF0cml4OmUsdV9lbWlzc2l2ZV9zdHJlbmd0aDp0fSksRHI9KHQsaSxvLHIpPT5lLmUoSXIodCxpKSx3cihvLHIpKSxMcj0oZSx0LGkpPT4oe3VfbWF0cml4OmUsdV93b3JsZDppLHVfZW1pc3NpdmVfc3RyZW5ndGg6dH0pLEFyPSh0LGksbyxyLHMpPT5lLmUoRHIodCxpLG8scikse3Vfd29ybGQ6c30pLFJyPSh0LGksbyxyKT0+e2NvbnN0IHM9ZS5WL28udGlsZVNpemU7cmV0dXJuIHt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTppLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UociksdV9leHRydWRlX3NjYWxlOltpLnBpeGVsc1RvR0xVbml0c1swXS9zLGkucGl4ZWxzVG9HTFVuaXRzWzFdL3NdfX0sUHI9KGUsdCxpPTEpPT4oe3VfbWF0cml4OmUsdV9jb2xvcjp0LHVfb3ZlcmxheTowLHVfb3ZlcmxheV9zY2FsZTppfSksTXI9ZS5hNi5jcmVhdGUoKSx6cj0odCxpLG8scixzLG4sYSk9Pntjb25zdCBsPXQudHJhbnNmb3JtLGM9XCJnbG9iZVwiPT09bC5wcm9qZWN0aW9uLm5hbWUsaD1jP2UuY3AobC56b29tLGkuY2Fub25pY2FsKSpsLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsOmUuYTMobywxLG4pLHU9e3VfbWF0cml4OmkucHJvak1hdHJpeCx1X2V4dHJ1ZGVfc2NhbGU6aCx1X2ludGVuc2l0eTphLHVfaW52X3JvdF9tYXRyaXg6TXIsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGMpe3UudV9pbnZfcm90X21hdHJpeD1yLHUudV9tZXJjX2NlbnRlcj1zLHUudV90aWxlX2lkPVtpLmNhbm9uaWNhbC54LGkuY2Fub25pY2FsLnksMTw8aS5jYW5vbmljYWwuel0sdS51X3pvb21fdHJhbnNpdGlvbj1lLlMobC56b29tKTtjb25zdCB0PXNbMF0qZS5WLG89c1sxXSplLlY7dS51X3VwX2Rpcj1sLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuYnMoMCwwLDApLHQsbyk7fXJldHVybiB1fTtmdW5jdGlvbiBPcihlLFt0LGksbyxyXSxbcyxuXSl7aWYocz09PW4pcmV0dXJuIFswLDAsMCwwXTtjb25zdCBhPTI1NSooZS0xKS8oZSoobi1zKSk7cmV0dXJuIFt0KmEsaSphLG8qYSxyKmFdfWZ1bmN0aW9uIEZyKGUsdCxbaSxvXSl7cmV0dXJuIGk9PT1vPzA6LjUvZSsodC1pKSooZS0xKS8oZSooby1pKSl9Y29uc3QgQnI9KHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF8scCxmLG0sZyx2LHgseSxiKT0+e3JldHVybiB7dV9tYXRyaXg6dCx1X25vcm1hbGl6ZV9tYXRyaXg6aSx1X2dsb2JlX21hdHJpeDpvLHVfbWVyY19tYXRyaXg6cix1X2dyaWRfbWF0cml4OnMsdV90bF9wYXJlbnQ6bix1X3NjYWxlX3BhcmVudDpoLHVfZmFkZV90OnUubWl4LHVfb3BhY2l0eTp1Lm9wYWNpdHkqZC5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSx1X2ltYWdlMDowLHVfaW1hZ2UxOjEsdV9icmlnaHRuZXNzX2xvdzpkLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiKSx1X2JyaWdodG5lc3NfaGlnaDpkLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihUPWQucGFpbnQuZ2V0KFwicmFzdGVyLXNhdHVyYXRpb25cIiksVD4wPzEtMS8oMS4wMDEtVCk6LVQpLHVfY29udHJhc3RfZmFjdG9yOih3PWQucGFpbnQuZ2V0KFwicmFzdGVyLWNvbnRyYXN0XCIpLHc+MD8xLygxLXcpOjErdyksdV9zcGluX3dlaWdodHM6a3IoZC5wYWludC5nZXQoXCJyYXN0ZXItaHVlLXJvdGF0ZVwiKSksdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm06Xyx1X3Jhc3Rlcl9lbGV2YXRpb246cCx1X3pvb21fdHJhbnNpdGlvbjphLHVfbWVyY19jZW50ZXI6bCx1X2N1dG9mZl9wYXJhbXM6Yyx1X2NvbG9yaXphdGlvbl9taXg6T3IoZS5jcSxtLHYpLHVfY29sb3JpemF0aW9uX29mZnNldDpGcihlLmNxLGcsdiksdV9jb2xvcl9yYW1wOmYsdV90ZXh0dXJlX29mZnNldDpbeS8oeCsyKnkpLHgvKHgrMip5KV0sdV90ZXh0dXJlX3JlczpbeCsyKnkseCsyKnldLHVfZW1pc3NpdmVfc3RyZW5ndGg6Yn07dmFyIHcsVDt9O2Z1bmN0aW9uIGtyKGUpe2UqPU1hdGguUEkvMTgwO2NvbnN0IHQ9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKTtyZXR1cm4gWygyKmkrMSkvMywoLU1hdGguc3FydCgzKSp0LWkrMSkvMywoTWF0aC5zcXJ0KDMpKnQtaSsxKS8zXX1jb25zdCBOcj0oZSx0LGksbyxyLHMsbixhLGwsYyxoLHUpPT4oe3VfbWF0cml4OmUsdV9ub3JtYWxpemVfbWF0cml4OnQsdV9nbG9iZV9tYXRyaXg6aSx1X21lcmNfbWF0cml4Om8sdV9ncmlkX21hdHJpeDpyLHVfdGxfcGFyZW50OnMsdV9zY2FsZV9wYXJlbnQ6Yyx1X2ZhZGVfdDpoLm1peCx1X29wYWNpdHk6aC5vcGFjaXR5LHVfaW1hZ2UwOjAsdV9pbWFnZTE6MSx1X3Jhc3Rlcl9lbGV2YXRpb246dSx1X3pvb21fdHJhbnNpdGlvbjpuLHVfbWVyY19jZW50ZXI6YSx1X2N1dG9mZl9wYXJhbXM6bH0pLFVyPShlLHQsaSxvLHIscyxuLGEpPT4oe3VfdGlsZV9vZmZzZXQ6ZSx1X3ZlbG9jaXR5OnQsdV9jb2xvcl9yYW1wOm8sdV92ZWxvY2l0eV9yZXM6aSx1X21heF9zcGVlZDpyLHVfdGV4dHVyZV9vZmZzZXQ6cyx1X2RhdGFfc2NhbGU6bix1X2RhdGFfb2Zmc2V0OmF9KSxHcj0oZSx0LGksbyxyLHMsbixhKT0+KHt1X3ZlbG9jaXR5OmUsdV92ZWxvY2l0eV9yZXM6dCx1X21heF9zcGVlZDppLHVfc3BlZWRfZmFjdG9yOm8sdV9saWZldGltZV9kZWx0YTpyLHVfcmFuZF9zZWVkOk1hdGgucmFuZG9tKCksdV90ZXh0dXJlX29mZnNldDpzLHVfZGF0YV9zY2FsZTpuLHVfZGF0YV9vZmZzZXQ6YX0pLGpyPWUuYTYuY3JlYXRlKCksVnI9KHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF8scCxmLG0sZyx2KT0+e2NvbnN0IHg9cy50cmFuc2Zvcm0seT17dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcInNvdXJjZVwiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcImNhbWVyYVwiPT09dCksdV9zaXplX3Q6aT9pLnVTaXplVDowLHVfc2l6ZTppP2kudVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6eC5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKG0pLHVfcm90YXRlX3N5bWJvbDorbyx1X2FzcGVjdF9yYXRpbzp4LndpZHRoL3guaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6cy5vcHRpb25zLmZhZGVEdXJhdGlvbj9zLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDpuLHVfbGFiZWxfcGxhbmVfbWF0cml4OmEsdV9jb29yZF9tYXRyaXg6bCx1X2lzX3RleHQ6K2MsdV9waXRjaF93aXRoX21hcDorcix1X3RleHNpemU6aCx1X3RleHR1cmU6MCx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6anIsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X2NhbWVyYV9mb3J3YXJkOlswLDAsMF0sdV9lY2VmX29yaWdpbjpbMCwwLDBdLHVfdGlsZV9tYXRyaXg6anIsdV91cF92ZWN0b3I6WzAsLTEsMF0sdV9pY29uX3RyYW5zaXRpb246dnx8MCx1X2ljb25fc2F0dXJhdGlvbjpnfTtyZXR1cm4gXCJnbG9iZVwiPT09bS5uYW1lJiYoeS51X3RpbGVfaWQ9W3UuY2Fub25pY2FsLngsdS5jYW5vbmljYWwueSwxPDx1LmNhbm9uaWNhbC56XSx5LnVfem9vbV90cmFuc2l0aW9uPWQseS51X2ludl9yb3RfbWF0cml4PXAseS51X21lcmNfY2VudGVyPV8seS51X2NhbWVyYV9mb3J3YXJkPXguX2NhbWVyYS5mb3J3YXJkKCkseS51X2VjZWZfb3JpZ2luPWUuY3IoeC5nbG9iZU1hdHJpeCx1LnRvVW53cmFwcGVkKCkpLHkudV90aWxlX21hdHJpeD1GbG9hdDMyQXJyYXkuZnJvbSh4Lmdsb2JlTWF0cml4KSx5LnVfdXBfdmVjdG9yPWYpLHl9LFpyPSh0LGksbyxyLHMsbixhLGwsYyxoLHUsZCxfLHAsZixtLGcpPT5lLmUoVnIodCxpLG8scixzLG4sYSxsLGMsaCxkLF8scCxmLG0sZywxKSx7dV9nYW1tYV9zY2FsZTpyP3MudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoZykqTWF0aC5jb3Mocy50ZXJyYWluPzA6cy50cmFuc2Zvcm0uX3BpdGNoKToxLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmUuZi5kZXZpY2VQaXhlbFJhdGlvLHVfaXNfaGFsbzordSx1bmRlZmluZWQ6dm9pZCAwfSksSHI9KHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF8scCxmLG0pPT5lLmUoWnIodCxpLG8scixzLG4sYSxsLCEwLGMsITAsdSxkLF8scCxmLG0pLHt1X3RleHNpemVfaWNvbjpoLHVfdGV4dHVyZV9pY29uOjF9KSxXcj0oZSx0LGksbyk9Pih7dV9tYXRyaXg6ZSx1X2VtaXNzaXZlX3N0cmVuZ3RoOnQsdV9vcGFjaXR5OmksdV9jb2xvcjpvfSkscXI9KHQsaSxvLHIscyxuLGEpPT5lLmUoZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz1vLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKHQudG9TdHJpbmcoKSxpKSx7d2lkdGg6bixoZWlnaHQ6YX09by5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKGkpLGw9TWF0aC5wb3coMixyLnRpbGVJRC5vdmVyc2NhbGVkWiksYz1yLnRpbGVTaXplKk1hdGgucG93KDIsby50cmFuc2Zvcm0udGlsZVpvb20pL2wsaD1jKihyLnRpbGVJRC5jYW5vbmljYWwueCtyLnRpbGVJRC53cmFwKmwpLHU9YypyLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3BhdHRlcm5fdGw6cy50bCx1X3BhdHRlcm5fYnI6cy5icix1X3RleHNpemU6W24sYV0sdV9wYXR0ZXJuX3NpemU6cy5kaXNwbGF5U2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvZS5hMyhyLDEsby50cmFuc2Zvcm0udGlsZVpvb20pLHVfcGl4ZWxfY29vcmRfdXBwZXI6W2g+PjE2LHU+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZoLDY1NTM1JnVdfX0ocyxuLHIsYSkse3VfbWF0cml4OnQsdV9lbWlzc2l2ZV9zdHJlbmd0aDppLHVfb3BhY2l0eTpvfSksJHI9KHQsaSxvLHIscyxuLGEsbCxjLGgsdSxkLF89WzAsMCwwXSxwKT0+e2NvbnN0IGY9ci5zdHlsZS5saWdodCxtPWYucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxnPVstbS54LC1tLnksbS56XSx2PWUuY28uY3JlYXRlKCk7XCJ2aWV3cG9ydFwiPT09Zi5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmKGUuY28uZnJvbVJvdGF0aW9uKHYsLXIudHJhbnNmb3JtLmFuZ2xlKSxlLk4udHJhbnNmb3JtTWF0MyhnLGcsdikpO2NvbnN0IHg9XCJNQVNLXCI9PT1oLmFscGhhTW9kZSx5PWYucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxiPWQucGFpbnQuZ2V0KFwibW9kZWwtYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCIpLHc9ZC5wYWludC5nZXQoXCJtb2RlbC1jb2xvclwiKS5jb25zdGFudE9yKGUuYXgud2hpdGUpLFQ9ZC5wYWludC5nZXQoXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCIpLmNvbnN0YW50T3IoMCk7cmV0dXJuIHt1X21hdHJpeDp0LHVfbGlnaHRpbmdfbWF0cml4OmksdV9ub3JtYWxfbWF0cml4Om8sdV9saWdodHBvczpnLHVfbGlnaHRpbnRlbnNpdHk6Zi5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W3kucix5LmcseS5iXSx1X2NhbWVyYV9wb3M6Xyx1X29wYWNpdHk6cyx1X2Jhc2VUZXh0dXJlSXNBbHBoYTowLHVfYWxwaGFNYXNrOit4LHVfYWxwaGFDdXRvZmY6aC5hbHBoYUN1dG9mZix1X2Jhc2VDb2xvckZhY3Rvcjpbbi5yLG4uZyxuLmIsbi5hXSx1X2VtaXNzaXZlRmFjdG9yOlthWzBdLGFbMV0sYVsyXSwxXSx1X21ldGFsbGljRmFjdG9yOmwsdV9yb3VnaG5lc3NGYWN0b3I6Yyx1X2Jhc2VDb2xvclRleHR1cmU6Z28uQmFzZUNvbG9yLHVfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOmdvLk1ldGFsbGljUm91Z2huZXNzLHVfbm9ybWFsVGV4dHVyZTpnby5Ob3JtYWwsdV9vY2NsdXNpb25UZXh0dXJlOmdvLk9jY2x1c2lvbix1X2VtaXNzaW9uVGV4dHVyZTpnby5FbWlzc2lvbix1X2NvbG9yX21peDpbdy5yLHcuZyx3LmIsVF0sdV9hb0ludGVuc2l0eTpiLHVfZW1pc3NpdmVfc3RyZW5ndGg6dSx1X29jY2x1c2lvblRleHR1cmVUcmFuc2Zvcm06cHx8WzAsMCwwLDBdfX0sWHI9bmV3IEZsb2F0MzJBcnJheSgxNiksS3I9KGUsdD1YcixpPVhyKT0+KHt1X21hdHJpeDplLHVfaW5zdGFuY2U6dCx1X25vZGVfbWF0cml4Oml9KSxZcj17ZmlsbEV4dHJ1c2lvbjp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfbGlnaHRwb3M6bmV3IGUuYk0odCksdV9saWdodGludGVuc2l0eTpuZXcgZS5iTih0KSx1X2xpZ2h0Y29sb3I6bmV3IGUuYk0odCksdV92ZXJ0aWNhbF9ncmFkaWVudDpuZXcgZS5iTih0KSx1X29wYWNpdHk6bmV3IGUuYk4odCksdV9lZGdlX3JhZGl1czpuZXcgZS5iTih0KSx1X2FvOm5ldyBlLmJMKHQpLHVfdGlsZV9pZDpuZXcgZS5iTSh0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5iTih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLmJLKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuYkwodCksdV91cF9kaXI6bmV3IGUuYk0odCksdV9oZWlnaHRfbGlmdDpuZXcgZS5iTih0KSx1X2Zsb29kX2xpZ2h0X2NvbG9yOm5ldyBlLmJNKHQpLHVfdmVydGljYWxfc2NhbGU6bmV3IGUuYk4odCksdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6bmV3IGUuYk4odCksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpuZXcgZS5iTSh0KSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBlLmJOKHQpfSksZmlsbEV4dHJ1c2lvbkRlcHRoOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9lZGdlX3JhZGl1czpuZXcgZS5iTih0KSx1X3ZlcnRpY2FsX3NjYWxlOm5ldyBlLmJOKHQpfSksZmlsbEV4dHJ1c2lvblBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2xpZ2h0cG9zOm5ldyBlLmJNKHQpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IGUuYk4odCksdV9saWdodGNvbG9yOm5ldyBlLmJNKHQpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IGUuYk4odCksdV9oZWlnaHRfZmFjdG9yOm5ldyBlLmJOKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuYk4odCksdV9hbzpuZXcgZS5iTCh0KSx1X3RpbGVfaWQ6bmV3IGUuYk0odCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuYk4odCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5iSyh0KSx1X21lcmNfY2VudGVyOm5ldyBlLmJMKHQpLHVfdXBfZGlyOm5ldyBlLmJNKHQpLHVfaGVpZ2h0X2xpZnQ6bmV3IGUuYk4odCksdV9pbWFnZTpuZXcgZS5iTyh0KSx1X3RleHNpemU6bmV3IGUuYkwodCksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgZS5iTCh0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLmJMKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuYk4odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpfSksZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdDp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfb3BhY2l0eTpuZXcgZS5iTih0KSx1X2FvX3Bhc3M6bmV3IGUuYk4odCksdV9tZXRlcl90b190aWxlOm5ldyBlLmJOKHQpLHVfYW86bmV3IGUuYkwodCksdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6bmV3IGUuYk4odCksdV9mbG9vZF9saWdodF9jb2xvcjpuZXcgZS5iTSh0KSx1X2F0dGVudWF0aW9uOm5ldyBlLmJOKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuYk4odCksdV9mYjpuZXcgZS5iTyh0KSx1X2ZiX3NpemU6bmV3IGUuYk4odCl9KSxmaWxsOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KX0pLGZpbGxQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KSx1X2ltYWdlOm5ldyBlLmJPKHQpLHVfdGV4c2l6ZTpuZXcgZS5iTCh0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLmJMKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuYkwodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5iTih0KX0pLGZpbGxPdXRsaW5lOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KSx1X3dvcmxkOm5ldyBlLmJMKHQpfSksZmlsbE91dGxpbmVQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KSx1X3dvcmxkOm5ldyBlLmJMKHQpLHVfaW1hZ2U6bmV3IGUuYk8odCksdV90ZXhzaXplOm5ldyBlLmJMKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuYkwodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5iTCh0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLmJOKHQpfSksY2lyY2xlOmUuY3MsY29sbGlzaW9uQm94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLmJOKHQpLHVfZXh0cnVkZV9zY2FsZTpuZXcgZS5iTCh0KX0pLGNvbGxpc2lvbkNpcmNsZTp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfaW52X21hdHJpeDpuZXcgZS5iSyh0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuYk4odCksdV92aWV3cG9ydF9zaXplOm5ldyBlLmJMKHQpfSksZGVidWc6dD0+KHt1X2NvbG9yOm5ldyBlLmNhKHQpLHVfbWF0cml4Om5ldyBlLmJLKHQpLHVfb3ZlcmxheTpuZXcgZS5iTyh0KSx1X292ZXJsYXlfc2NhbGU6bmV3IGUuYk4odCl9KSxjbGlwcGluZ01hc2s6dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KX0pLGhlYXRtYXA6dD0+KHt1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuYk4odCksdV9pbnRlbnNpdHk6bmV3IGUuYk4odCksdV9tYXRyaXg6bmV3IGUuYksodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5iSyh0KSx1X21lcmNfY2VudGVyOm5ldyBlLmJMKHQpLHVfdGlsZV9pZDpuZXcgZS5iTSh0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5iTih0KSx1X3VwX2RpcjpuZXcgZS5iTSh0KX0pLGhlYXRtYXBUZXh0dXJlOnQ9Pih7dV9pbWFnZTpuZXcgZS5iTyh0KSx1X2NvbG9yX3JhbXA6bmV3IGUuYk8odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpfSksaGlsbHNoYWRlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9pbWFnZTpuZXcgZS5iTyh0KSx1X2xhdHJhbmdlOm5ldyBlLmJMKHQpLHVfbGlnaHQ6bmV3IGUuYkwodCksdV9zaGFkb3c6bmV3IGUuY2EodCksdV9oaWdobGlnaHQ6bmV3IGUuY2EodCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KSx1X2FjY2VudDpuZXcgZS5jYSh0KX0pLGhpbGxzaGFkZVByZXBhcmU6dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2ltYWdlOm5ldyBlLmJPKHQpLHVfZGltZW5zaW9uOm5ldyBlLmJMKHQpLHVfem9vbTpuZXcgZS5iTih0KX0pLGxpbmU6ZS5jdCxsaW5lUGF0dGVybjplLmN1LHJhc3Rlcjp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcgZS5iSyh0KSx1X2dsb2JlX21hdHJpeDpuZXcgZS5iSyh0KSx1X21lcmNfbWF0cml4Om5ldyBlLmJLKHQpLHVfZ3JpZF9tYXRyaXg6bmV3IGUuY2IodCksdV90bF9wYXJlbnQ6bmV3IGUuYkwodCksdV9zY2FsZV9wYXJlbnQ6bmV3IGUuYk4odCksdV9mYWRlX3Q6bmV3IGUuYk4odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpLHVfaW1hZ2UwOm5ldyBlLmJPKHQpLHVfaW1hZ2UxOm5ldyBlLmJPKHQpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IGUuYk4odCksdV9icmlnaHRuZXNzX2hpZ2g6bmV3IGUuYk4odCksdV9zYXR1cmF0aW9uX2ZhY3RvcjpuZXcgZS5iTih0KSx1X2NvbnRyYXN0X2ZhY3RvcjpuZXcgZS5iTih0KSx1X3NwaW5fd2VpZ2h0czpuZXcgZS5iTSh0KSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpuZXcgZS5iTCh0KSx1X3Jhc3Rlcl9lbGV2YXRpb246bmV3IGUuYk4odCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuYk4odCksdV9tZXJjX2NlbnRlcjpuZXcgZS5iTCh0KSx1X2N1dG9mZl9wYXJhbXM6bmV3IGUuYlAodCksdV9jb2xvcml6YXRpb25fbWl4Om5ldyBlLmJQKHQpLHVfY29sb3JpemF0aW9uX29mZnNldDpuZXcgZS5iTih0KSx1X2NvbG9yX3JhbXA6bmV3IGUuYk8odCksdV90ZXh0dXJlX29mZnNldDpuZXcgZS5iTCh0KSx1X3RleHR1cmVfcmVzOm5ldyBlLmJMKHQpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IGUuYk4odCl9KSxyYXN0ZXJQYXJ0aWNsZTp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcgZS5iSyh0KSx1X2dsb2JlX21hdHJpeDpuZXcgZS5iSyh0KSx1X21lcmNfbWF0cml4Om5ldyBlLmJLKHQpLHVfZ3JpZF9tYXRyaXg6bmV3IGUuY2IodCksdV90bF9wYXJlbnQ6bmV3IGUuYkwodCksdV9zY2FsZV9wYXJlbnQ6bmV3IGUuYk4odCksdV9mYWRlX3Q6bmV3IGUuYk4odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpLHVfaW1hZ2UwOm5ldyBlLmJPKHQpLHVfaW1hZ2UxOm5ldyBlLmJPKHQpLHVfcmFzdGVyX2VsZXZhdGlvbjpuZXcgZS5iTih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5iTih0KSx1X21lcmNfY2VudGVyOm5ldyBlLmJMKHQpLHVfY3V0b2ZmX3BhcmFtczpuZXcgZS5iUCh0KX0pLHJhc3RlclBhcnRpY2xlVGV4dHVyZTp0PT4oe3VfdGV4dHVyZTpuZXcgZS5iTyh0KSx1X29wYWNpdHk6bmV3IGUuYk4odCl9KSxyYXN0ZXJQYXJ0aWNsZURyYXc6dD0+KHt1X3RpbGVfb2Zmc2V0Om5ldyBlLmJMKHQpLHVfdmVsb2NpdHk6bmV3IGUuYk8odCksdV9jb2xvcl9yYW1wOm5ldyBlLmJPKHQpLHVfdmVsb2NpdHlfcmVzOm5ldyBlLmJMKHQpLHVfbWF4X3NwZWVkOm5ldyBlLmJOKHQpLHVfdGV4dHVyZV9vZmZzZXQ6bmV3IGUuYkwodCksdV9kYXRhX3NjYWxlOm5ldyBlLmJQKHQpLHVfZGF0YV9vZmZzZXQ6bmV3IGUuYk4odCl9KSxyYXN0ZXJQYXJ0aWNsZVVwZGF0ZTp0PT4oe3VfdmVsb2NpdHk6bmV3IGUuYk8odCksdV92ZWxvY2l0eV9yZXM6bmV3IGUuYkwodCksdV9tYXhfc3BlZWQ6bmV3IGUuYk4odCksdV9zcGVlZF9mYWN0b3I6bmV3IGUuYk4odCksdV9saWZldGltZV9kZWx0YTpuZXcgZS5iTih0KSx1X3JhbmRfc2VlZDpuZXcgZS5iTih0KSx1X3RleHR1cmVfb2Zmc2V0Om5ldyBlLmJMKHQpLHVfZGF0YV9zY2FsZTpuZXcgZS5iUCh0KSx1X2RhdGFfb2Zmc2V0Om5ldyBlLmJOKHQpfSksc3ltYm9sSWNvbjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLmJPKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLmJPKHQpLHVfc2l6ZV90Om5ldyBlLmJOKHQpLHVfc2l6ZTpuZXcgZS5iTih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuYk4odCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLmJPKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLmJOKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuYk4odCksdV9tYXRyaXg6bmV3IGUuYksodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuYksodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuYksodCksdV9pc190ZXh0Om5ldyBlLmJPKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuYk8odCksdV90ZXhzaXplOm5ldyBlLmJMKHQpLHVfdGlsZV9pZDpuZXcgZS5iTSh0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5iTih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLmJLKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuYkwodCksdV9jYW1lcmFfZm9yd2FyZDpuZXcgZS5iTSh0KSx1X3RpbGVfbWF0cml4Om5ldyBlLmJLKHQpLHVfdXBfdmVjdG9yOm5ldyBlLmJNKHQpLHVfZWNlZl9vcmlnaW46bmV3IGUuYk0odCksdV90ZXh0dXJlOm5ldyBlLmJPKHQpLHVfaWNvbl90cmFuc2l0aW9uOm5ldyBlLmJOKHQpLHVfaWNvbl9zYXR1cmF0aW9uOm5ldyBlLmJOKHQpfSksc3ltYm9sU0RGOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuYk8odCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuYk8odCksdV9zaXplX3Q6bmV3IGUuYk4odCksdV9zaXplOm5ldyBlLmJOKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5iTih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuYk8odCksdV9hc3BlY3RfcmF0aW86bmV3IGUuYk4odCksdV9mYWRlX2NoYW5nZTpuZXcgZS5iTih0KSx1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5iSyh0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5iSyh0KSx1X2lzX3RleHQ6bmV3IGUuYk8odCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5iTyh0KSx1X3RleHNpemU6bmV3IGUuYkwodCksdV90ZXh0dXJlOm5ldyBlLmJPKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuYk4odCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuYk4odCksdV90aWxlX2lkOm5ldyBlLmJNKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLmJOKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuYksodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5iTCh0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLmJNKHQpLHVfdGlsZV9tYXRyaXg6bmV3IGUuYksodCksdV91cF92ZWN0b3I6bmV3IGUuYk0odCksdV9lY2VmX29yaWdpbjpuZXcgZS5iTSh0KSx1X2lzX2hhbG86bmV3IGUuYk8odCl9KSxzeW1ib2xUZXh0QW5kSWNvbjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLmJPKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLmJPKHQpLHVfc2l6ZV90Om5ldyBlLmJOKHQpLHVfc2l6ZTpuZXcgZS5iTih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuYk4odCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLmJPKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLmJOKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuYk4odCksdV9tYXRyaXg6bmV3IGUuYksodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuYksodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuYksodCksdV9pc190ZXh0Om5ldyBlLmJPKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuYk8odCksdV90ZXhzaXplOm5ldyBlLmJMKHQpLHVfdGV4c2l6ZV9pY29uOm5ldyBlLmJMKHQpLHVfdGV4dHVyZTpuZXcgZS5iTyh0KSx1X3RleHR1cmVfaWNvbjpuZXcgZS5iTyh0KSx1X2dhbW1hX3NjYWxlOm5ldyBlLmJOKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLmJOKHQpLHVfaXNfaGFsbzpuZXcgZS5iTyh0KX0pLGJhY2tncm91bmQ6dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBlLmJOKHQpLHVfb3BhY2l0eTpuZXcgZS5iTih0KSx1X2NvbG9yOm5ldyBlLmNhKHQpfSksYmFja2dyb3VuZFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBlLmJOKHQpLHVfb3BhY2l0eTpuZXcgZS5iTih0KSx1X2ltYWdlOm5ldyBlLmJPKHQpLHVfcGF0dGVybl90bDpuZXcgZS5iTCh0KSx1X3BhdHRlcm5fYnI6bmV3IGUuYkwodCksdV90ZXhzaXplOm5ldyBlLmJMKHQpLHVfcGF0dGVybl9zaXplOm5ldyBlLmJMKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuYkwodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5iTCh0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLmJOKHQpfSksdGVycmFpblJhc3Rlcjpycix0ZXJyYWluRGVwdGg6cnIsc2t5Ym94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9zdW5fZGlyZWN0aW9uOm5ldyBlLmJNKHQpLHVfY3ViZW1hcDpuZXcgZS5iTyh0KSx1X29wYWNpdHk6bmV3IGUuYk4odCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuYk4odCl9KSxza3lib3hHcmFkaWVudDp0PT4oe3VfbWF0cml4Om5ldyBlLmJLKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5iTyh0KSx1X2NlbnRlcl9kaXJlY3Rpb246bmV3IGUuYk0odCksdV9yYWRpdXM6bmV3IGUuYk4odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLmJOKHQpfSksc2t5Ym94Q2FwdHVyZTp0PT4oe3VfbWF0cml4XzNmOm5ldyBlLmNiKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5iTSh0KSx1X3N1bl9pbnRlbnNpdHk6bmV3IGUuYk4odCksdV9jb2xvcl90aW50X3I6bmV3IGUuYlAodCksdV9jb2xvcl90aW50X206bmV3IGUuYlAodCksdV9sdW1pbmFuY2U6bmV3IGUuYk4odCl9KSxnbG9iZVJhc3Rlcjp0PT4oe3VfcHJval9tYXRyaXg6bmV3IGUuYksodCksdV9nbG9iZV9tYXRyaXg6bmV3IGUuYksodCksdV9ub3JtYWxpemVfbWF0cml4Om5ldyBlLmJLKHQpLHVfbWVyY19tYXRyaXg6bmV3IGUuYksodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuYk4odCksdV9tZXJjX2NlbnRlcjpuZXcgZS5iTCh0KSx1X2ltYWdlMDpuZXcgZS5iTyh0KSx1X2dyaWRfbWF0cml4Om5ldyBlLmNiKHQpLHVfc2tpcnRfaGVpZ2h0Om5ldyBlLmJOKHQpLHVfZmFyX3pfY3V0b2ZmOm5ldyBlLmJOKHQpLHVfZnJ1c3R1bV90bDpuZXcgZS5iTSh0KSx1X2ZydXN0dW1fdHI6bmV3IGUuYk0odCksdV9mcnVzdHVtX2JyOm5ldyBlLmJNKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5iTSh0KSx1X2dsb2JlX3BvczpuZXcgZS5iTSh0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5iTih0KSx1X3ZpZXdwb3J0Om5ldyBlLmJMKHQpfSksZ2xvYmVBdG1vc3BoZXJlOnQ9Pih7dV9mcnVzdHVtX3RsOm5ldyBlLmJNKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5iTSh0KSx1X2ZydXN0dW1fYnI6bmV3IGUuYk0odCksdV9mcnVzdHVtX2JsOm5ldyBlLmJNKHQpLHVfaG9yaXpvbjpuZXcgZS5iTih0KSx1X3RyYW5zaXRpb246bmV3IGUuYk4odCksdV9mYWRlb3V0X3JhbmdlOm5ldyBlLmJOKHQpLHVfY29sb3I6bmV3IGUuYlAodCksdV9oaWdoX2NvbG9yOm5ldyBlLmJQKHQpLHVfc3BhY2VfY29sb3I6bmV3IGUuYlAodCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuYk4odCksdV9ob3Jpem9uX2FuZ2xlOm5ldyBlLmJOKHQpfSksbW9kZWw6dD0+KHt1X21hdHJpeDpuZXcgZS5iSyh0KSx1X2xpZ2h0aW5nX21hdHJpeDpuZXcgZS5iSyh0KSx1X25vcm1hbF9tYXRyaXg6bmV3IGUuYksodCksdV9saWdodHBvczpuZXcgZS5iTSh0KSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBlLmJOKHQpLHVfbGlnaHRjb2xvcjpuZXcgZS5iTSh0KSx1X2NhbWVyYV9wb3M6bmV3IGUuYk0odCksdV9vcGFjaXR5Om5ldyBlLmJOKHQpLHVfYmFzZUNvbG9yRmFjdG9yOm5ldyBlLmJQKHQpLHVfZW1pc3NpdmVGYWN0b3I6bmV3IGUuYlAodCksdV9tZXRhbGxpY0ZhY3RvcjpuZXcgZS5iTih0KSx1X3JvdWdobmVzc0ZhY3RvcjpuZXcgZS5iTih0KSx1X2Jhc2VUZXh0dXJlSXNBbHBoYTpuZXcgZS5iTyh0KSx1X2FscGhhTWFzazpuZXcgZS5iTyh0KSx1X2FscGhhQ3V0b2ZmOm5ldyBlLmJOKHQpLHVfYmFzZUNvbG9yVGV4dHVyZTpuZXcgZS5iTyh0KSx1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZTpuZXcgZS5iTyh0KSx1X25vcm1hbFRleHR1cmU6bmV3IGUuYk8odCksdV9vY2NsdXNpb25UZXh0dXJlOm5ldyBlLmJPKHQpLHVfZW1pc3Npb25UZXh0dXJlOm5ldyBlLmJPKHQpLHVfY29sb3JfbWl4Om5ldyBlLmJQKHQpLHVfYW9JbnRlbnNpdHk6bmV3IGUuYk4odCksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgZS5iTih0KSx1X29jY2x1c2lvblRleHR1cmVUcmFuc2Zvcm06bmV3IGUuYlAodCl9KSxtb2RlbERlcHRoOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9pbnN0YW5jZTpuZXcgZS5iSyh0KSx1X25vZGVfbWF0cml4Om5ldyBlLmJLKHQpfSksZ3JvdW5kU2hhZG93OnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpuZXcgZS5iTSh0KX0pLHN0YXJzOnQ9Pih7dV9tYXRyaXg6bmV3IGUuYksodCksdV91cDpuZXcgZS5iTSh0KSx1X3JpZ2h0Om5ldyBlLmJNKHQpLHVfaW50ZW5zaXR5X211bHRpcGxpZXI6bmV3IGUuYk4odCl9KX07bGV0IEpyO2Z1bmN0aW9uIFFyKHQsaSxvLHIscyxuLGEpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCxoPXQudHJhbnNmb3JtLHU9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJjb2xsaXNpb25Cb3hcIiksZD1bXTtsZXQgXz0wLHA9MDtmb3IobGV0IGw9MDtsPHIubGVuZ3RoO2wrKyl7Y29uc3QgZj1yW2xdLG09aS5nZXRUaWxlKGYpLGc9bS5nZXRCdWNrZXQobyk7aWYoIWcpY29udGludWU7Y29uc3Qgdj1NaShmLGcsaCk7bGV0IHg9djswPT09c1swXSYmMD09PXNbMV18fCh4PXQudHJhbnNsYXRlUG9zTWF0cml4KHYsbSxzLG4pKTtjb25zdCB5PWE/Zy50ZXh0Q29sbGlzaW9uQm94OmcuaWNvbkNvbGxpc2lvbkJveCxiPWcuY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYoYi5sZW5ndGg+MCl7Y29uc3QgdD1lLmE2LmNyZWF0ZSgpLGk9eDtlLmE2Lm11bCh0LGcucGxhY2VtZW50SW52UHJvak1hdHJpeCxoLmdsQ29vcmRNYXRyaXgpLGUuYTYubXVsKHQsdCxnLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KSxkLnB1c2goe2NpcmNsZUFycmF5OmIsY2lyY2xlT2Zmc2V0OnAsdHJhbnNmb3JtOmksaW52VHJhbnNmb3JtOnQscHJvamVjdGlvbjpnLmdldFByb2plY3Rpb24oKX0pLF8rPWIubGVuZ3RoLzQscD1fO315JiYodC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KG0sdSksdS5kcmF3KHQsYy5MSU5FUyxMdC5kaXNhYmxlZCxSdC5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxGdC5kaXNhYmxlZCxScih4LGgsbSxnLmdldFByb2plY3Rpb24oKSksby5pZCx5LmxheW91dFZlcnRleEJ1ZmZlcix5LmluZGV4QnVmZmVyLHkuc2VnbWVudHMsbnVsbCxoLnpvb20sbnVsbCxbeS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIseS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKSk7fWlmKCFhfHwhZC5sZW5ndGgpcmV0dXJuO2NvbnN0IGY9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJjb2xsaXNpb25DaXJjbGVcIiksbT1uZXcgZS5jdjttLnJlc2l6ZSg0Kl8pLG0uX3RyaW0oKTtsZXQgZz0wO2Zvcihjb25zdCBlIG9mIGQpZm9yKGxldCB0PTA7dDxlLmNpcmNsZUFycmF5Lmxlbmd0aC80O3QrKyl7Y29uc3QgaT00KnQsbz1lLmNpcmNsZUFycmF5W2krMF0scj1lLmNpcmNsZUFycmF5W2krMV0scz1lLmNpcmNsZUFycmF5W2krMl0sbj1lLmNpcmNsZUFycmF5W2krM107bS5lbXBsYWNlKGcrKyxvLHIscyxuLDApLG0uZW1wbGFjZShnKyssbyxyLHMsbiwxKSxtLmVtcGxhY2UoZysrLG8scixzLG4sMiksbS5lbXBsYWNlKGcrKyxvLHIscyxuLDMpO30oIUpyfHxKci5sZW5ndGg8MipfKSYmKEpyPWZ1bmN0aW9uKHQpe2NvbnN0IGk9Mip0LG89bmV3IGUuYXc7by5yZXNpemUoaSksby5fdHJpbSgpO2ZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IHQ9NiplO28udWludDE2W3QrMF09NCplKzAsby51aW50MTZbdCsxXT00KmUrMSxvLnVpbnQxNlt0KzJdPTQqZSsyLG8udWludDE2W3QrM109NCplKzIsby51aW50MTZbdCs0XT00KmUrMyxvLnVpbnQxNlt0KzVdPTQqZSswO31yZXR1cm4gb30oXykpO2NvbnN0IHY9bC5jcmVhdGVJbmRleEJ1ZmZlcihKciwhMCkseD1sLmNyZWF0ZVZlcnRleEJ1ZmZlcihtLGUuY3cubWVtYmVycywhMCk7Zm9yKGNvbnN0IGkgb2YgZCl7Y29uc3Qgcj17dV9tYXRyaXg6aS50cmFuc2Zvcm0sdV9pbnZfbWF0cml4OmkuaW52VHJhbnNmb3JtLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTooeT1oKS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGkucHJvamVjdGlvbiksdV92aWV3cG9ydF9zaXplOlt5LndpZHRoLHkuaGVpZ2h0XX07Zi5kcmF3KHQsYy5UUklBTkdMRVMsTHQuZGlzYWJsZWQsUnQuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRnQuZGlzYWJsZWQscixvLmlkLHgsdixlLmFCLnNpbXBsZVNlZ21lbnQoMCwyKmkuY2lyY2xlT2Zmc2V0LGkuY2lyY2xlQXJyYXkubGVuZ3RoLGkuY2lyY2xlQXJyYXkubGVuZ3RoLzIpLG51bGwsaC56b29tKTt9dmFyIHk7eC5kZXN0cm95KCksdi5kZXN0cm95KCk7fWNvbnN0IGVzPWUuYTYuY3JlYXRlKCk7ZnVuY3Rpb24gdHModCl7Y29uc3QgaT10Ll9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0LndvcmxkU2l6ZSwxKSxvPWUuYTYubXVsdGlwbHkoW10saSx0Lmdsb2JlTWF0cml4KTtlLmE2LmludmVydChvLG8pO2NvbnN0IHI9WzAsMCwwXSxzPVswLDEsMCwwXTtyZXR1cm4gZS5hNy50cmFuc2Zvcm1NYXQ0KHMscyxvKSxyWzBdPXNbMF0sclsxXT1zWzFdLHJbMl09c1syXSxlLk4ubm9ybWFsaXplKHIscikscn1mdW5jdGlvbiBpcyh7d2lkdGg6dCxoZWlnaHQ6aSxhbmNob3I6byx0ZXh0T2Zmc2V0OnIsdGV4dFNjYWxlOnN9LG4pe2NvbnN0e2hvcml6b250YWxBbGlnbjphLHZlcnRpY2FsQWxpZ246bH09ZS5iZihvKSxjPS0oYS0uNSkqdCxoPS0obC0uNSkqaSx1PWUuYmQobyxyKTtyZXR1cm4gbmV3IGUuUCgoYy9zK3VbMF0pKm4sKGgvcyt1WzFdKSpuKX1mdW5jdGlvbiBvcyh0LGksbyxyLHMsbixhLGwsYyxoLHUpe2NvbnN0IGQ9dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LF89dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxwPXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZj17fSxtPXQuZ2V0UHJvamVjdGlvbigpLGc9emkobCxtLG4pLHY9bi5lbGV2YXRpb24seD1tLnVwVmVjdG9yU2NhbGUobC5jYW5vbmljYWwsbi5jZW50ZXIubGF0LG4ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7Xy5jbGVhcigpO2ZvcihsZXQgcD0wO3A8ZC5sZW5ndGg7cCsrKXtjb25zdCB5PWQuZ2V0KHApLHt0aWxlQW5jaG9yWDpiLHRpbGVBbmNob3JZOncsbnVtR2x5cGhzOlR9PXksRT15LmhpZGRlbnx8IXkuY3Jvc3NUaWxlSUR8fHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXkucGxhY2VkT3JpZW50YXRpb24/bnVsbDpyW3kuY3Jvc3NUaWxlSURdO2lmKEUpe2xldCByPTAsZD0wLHA9MDtpZih2KXtjb25zdCBlPXY/di5nZXRBdFRpbGVPZmZzZXQobCxiLHcpOjAsW3QsaSxvXT1tLnVwVmVjdG9yKGwuY2Fub25pY2FsLGIsdyk7cj1lKnQqeCxkPWUqaSp4LHA9ZSpvKng7fWxldFtTLEMsSSxEXT12aSh5LnByb2plY3RlZEFuY2hvclgrcix5LnByb2plY3RlZEFuY2hvclkrZCx5LnByb2plY3RlZEFuY2hvclorcCxvP2c6YSk7Y29uc3QgTD14aShuLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UobSksRCk7bGV0IEE9cy5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKHQudGV4dFNpemVEYXRhLGgseSkqTC9lLmJjO28mJihBKj10LnRpbGVQaXhlbFJhdGlvL2MpO2NvbnN0IFI9aXMoRSxBKTtvPygoe3g6Uyx5OkMsejpJfT1tLnByb2plY3RUaWxlUG9pbnQoYitSLngsdytSLnksbC5jYW5vbmljYWwpKSxbUyxDLEldPXZpKFMrcixDK2QsSStwLGEpKTooaSYmUi5fcm90YXRlKC1uLmFuZ2xlKSxTKz1SLngsQys9Ui55LEk9MCk7Y29uc3QgUD10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnkucGxhY2VkT3JpZW50YXRpb249PT1lLmI2LnZlcnRpY2FsP01hdGguUEkvMjowO2ZvcihsZXQgdD0wO3Q8VDt0KyspZS5iOShfLFMsQyxJLFApO3UmJnkuYXNzb2NpYXRlZEljb25JbmRleD49MCYmKGZbeS5hc3NvY2lhdGVkSWNvbkluZGV4XT17eDpTLHk6Qyx6OkksYW5nbGU6UH0pO31lbHNlIERpKFQsXyk7fWlmKHUpe3AuY2xlYXIoKTtjb25zdCBpPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3Qgbz1pLmdldCh0KSx7bnVtR2x5cGhzOnJ9PW8scz1mW3RdO2lmKG8uaGlkZGVufHwhcylEaShyLHApO2Vsc2Uge2NvbnN0e3g6dCx5OmksejpvLGFuZ2xlOm59PXM7Zm9yKGxldCBzPTA7czxyO3MrKyllLmI5KHAsdCxpLG8sbik7fX10Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApO310LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pO31mdW5jdGlvbiBycyh0LGksbyxyLHMsbixhPXt9KXtjb25zdCBsPW8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksYz1vLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLGg9by5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksdT1vLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSxkPW8ubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpLF89by5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikscD1vLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSxmPW8ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG09by5sYXlvdXQuZ2V0KFwiaWNvbi1rZWVwLXVwcmlnaHRcIiksZz1vLmxheW91dC5nZXQoXCJ0ZXh0LWtlZXAtdXByaWdodFwiKSx2PW8ucGFpbnQuZ2V0KFwiaWNvbi1jb2xvci1zYXR1cmF0aW9uXCIpLHg9dC5jb250ZXh0LHk9eC5nbCxiPXQudHJhbnNmb3JtLHc9XCJtYXBcIj09PWQsVD1cIm1hcFwiPT09XyxFPVwibWFwXCI9PT1wLFM9XCJtYXBcIj09PWYsQz12b2lkIDAhPT1vLmxheW91dC5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIikuY29uc3RhbnRPcigxKTtsZXQgST0hMTtjb25zdCBEPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxMdC5SZWFkT25seSksTD1bZS5hNShiLmNlbnRlci5sbmcpLGUuYWUoYi5jZW50ZXIubGF0KV0sQT1vLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxSPVwiZ2xvYmVcIj09PWIucHJvamVjdGlvbi5uYW1lLFA9W10sTT1bMCwtMSwwXTtmb3IoY29uc3QgcyBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShzKSxuPXIuZ2V0QnVja2V0KG8pO2lmKCFuKWNvbnRpbnVlO2lmKFwibWVyY2F0b3JcIj09PW4ucHJvamVjdGlvbi5uYW1lJiZSKWNvbnRpbnVlO2lmKG4uZnVsbHlDbGlwcGVkKWNvbnRpbnVlO2NvbnN0IGQ9XCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUsXz1kP2UuUyhiLnpvb20pOjAscD16aShzLG4uZ2V0UHJvamVjdGlvbigpLGIpLGY9Yi5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChyKSx4PUEmJm4uaGFzVGV4dERhdGEoKSxEPW4uaGFzSWNvblRleHRGaXQoKSYmeCYmbi5oYXNJY29uRGF0YSgpLHo9bi5nZXRQcm9qZWN0aW9uKCkuY3JlYXRlSW52ZXJzaW9uTWF0cml4KGIscy5jYW5vbmljYWwpLE89KCk9Pntjb25zdCBpPXcmJlwicG9pbnRcIiE9PW8ubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksYT1bXSxjPWl8fEQsdT1vLnBhaW50LmdldChcImljb24taW1hZ2UtY3Jvc3MtZmFkZVwiKS5jb25zdGFudE9yKDApO3QudGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpJiZFJiZhLnB1c2goXCJQSVRDSF9XSVRIX01BUF9URVJSQUlOXCIpLGQmJihhLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksYyYmYS5wdXNoKFwiUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFwiKSksdT4wJiZhLnB1c2goXCJJQ09OX1RSQU5TSVRJT05cIiksbi5pY29uLnpPZmZzZXRWZXJ0ZXhCdWZmZXImJmEucHVzaChcIlpfT0ZGU0VUXCIpLHY8MSYmYS5wdXNoKFwiU0FUVVJBVElPTlwiKTtjb25zdCBnPW4uaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLHg9dC5nZXRPckNyZWF0ZVByb2dyYW0obi5zZGZJY29ucz9cInN5bWJvbFNERlwiOlwic3ltYm9sSWNvblwiLHtjb25maWc6ZyxkZWZpbmVzOmF9KTtsZXQgVDtjb25zdCBTPXIuaW1hZ2VBdGxhc1RleHR1cmU/ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLEM9bi5pY29uU2l6ZURhdGEsST1lLmI1KEMsYi56b29tKSxBPUV8fDAhPT1iLnBpdGNoLFA9ZmkocCxyLnRpbGVJRC5jYW5vbmljYWwsRSx3LGIsbi5nZXRQcm9qZWN0aW9uKCksZiksTz1naShwLHIudGlsZUlELmNhbm9uaWNhbCxFLHcsYixuLmdldFByb2plY3Rpb24oKSxmKSxGPXQudHJhbnNsYXRlUG9zTWF0cml4KE8scixsLGgsITApLEI9dC50cmFuc2xhdGVQb3NNYXRyaXgocCxyLGwsaCksaz1jP2VzOlAsTj13JiYhRSYmIWk7bGV0IFU9TTshUiYmIWIubWVyY2F0b3JGcm9tVHJhbnNpdGlvbnx8d3x8KFU9dHMoYikpO2NvbnN0IEc9ZD9VOk07VD1uLnNkZkljb25zJiYhbi5pY29uc0luVGV4dD9acihDLmtpbmQsSSxOLEUsdCxCLGssRiwhMSxTLCEwLHMsXyxMLHosRyxuLmdldFByb2plY3Rpb24oKSk6VnIoQy5raW5kLEksTixFLHQsQixrLEYsITEsUyxzLF8sTCx6LEcsbi5nZXRQcm9qZWN0aW9uKCksdix1KTtjb25zdCBqPXIuaW1hZ2VBdGxhc1RleHR1cmU/ci5pbWFnZUF0bGFzVGV4dHVyZTpudWxsLFY9MSE9PW8ubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5jb25zdGFudE9yKDApfHxuLmljb25zTmVlZExpbmVhcixaPW4uc2RmSWNvbnN8fHQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmd8fFZ8fEE/eS5MSU5FQVI6eS5ORUFSRVNULEg9bi5zZGZJY29ucyYmMCE9PW8ucGFpbnQuZ2V0KFwiaWNvbi1oYWxvLXdpZHRoXCIpLmNvbnN0YW50T3IoMSksVz10LnRlcnJhaW4mJkUmJmk/ZS5hNi5pbnZlcnQoZS5hNi5jcmVhdGUoKSxQKTplcztpZihpJiZuLmljb24pe2NvbnN0IGU9Yi5lbGV2YXRpb24saT1lP2UuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhzLGIuY2VudGVyLmxhdCxiLndvcmxkU2l6ZSxuLmdldFByb2plY3Rpb24oKSk6bnVsbCxvPW1pKHAsci50aWxlSUQuY2Fub25pY2FsLEUsdyxiLG4uZ2V0UHJvamVjdGlvbigpLGYpO2JpKG4scCx0LCExLG8sTyxFLG0saSxzKTt9cmV0dXJuIHtwcm9ncmFtOngsYnVmZmVyczpuLmljb24sdW5pZm9ybVZhbHVlczpULGF0bGFzVGV4dHVyZTpqLGF0bGFzVGV4dHVyZUljb246bnVsbCxhdGxhc0ludGVycG9sYXRpb246WixhdGxhc0ludGVycG9sYXRpb25JY29uOm51bGwsaXNTREY6bi5zZGZJY29ucyxoYXNIYWxvOkgsdGlsZTpyLGxhYmVsUGxhbmVNYXRyaXhJbnY6V319LEY9KCk9Pntjb25zdCBpPVQmJlwicG9pbnRcIiE9PW8ubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksYT1bXSxsPWl8fEF8fEQ7dC50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJlMmJmEucHVzaChcIlBJVENIX1dJVEhfTUFQX1RFUlJBSU5cIiksZCYmKGEucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKSxsJiZhLnB1c2goXCJQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUXCIpKSxuLnRleHQuek9mZnNldFZlcnRleEJ1ZmZlciYmYS5wdXNoKFwiWl9PRkZTRVRcIik7Y29uc3QgaD1uLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxtPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKG4uaWNvbnNJblRleHQ/XCJzeW1ib2xUZXh0QW5kSWNvblwiOlwic3ltYm9sU0RGXCIse2NvbmZpZzpoLGRlZmluZXM6YX0pO2xldCB2LHg9WzAsMF0sdz1udWxsO2NvbnN0IEU9bi50ZXh0U2l6ZURhdGE7bi5pY29uc0luVGV4dCYmKHg9ci5pbWFnZUF0bGFzVGV4dHVyZT9yLmltYWdlQXRsYXNUZXh0dXJlLnNpemU6WzAsMF0sdz1yLmltYWdlQXRsYXNUZXh0dXJlP3IuaW1hZ2VBdGxhc1RleHR1cmU6bnVsbCx2PVN8fDAhPT1iLnBpdGNofHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxcImNvbXBvc2l0ZVwiPT09RS5raW5kfHxcImNhbWVyYVwiPT09RS5raW5kP3kuTElORUFSOnkuTkVBUkVTVCk7Y29uc3QgQz1yLmdseXBoQXRsYXNUZXh0dXJlP3IuZ2x5cGhBdGxhc1RleHR1cmUuc2l6ZTpbMCwwXSxJPWUuYjUoRSxiLnpvb20pLFA9ZmkocCxyLnRpbGVJRC5jYW5vbmljYWwsUyxULGIsbi5nZXRQcm9qZWN0aW9uKCksZiksTz1naShwLHIudGlsZUlELmNhbm9uaWNhbCxTLFQsYixuLmdldFByb2plY3Rpb24oKSxmKSxGPXQudHJhbnNsYXRlUG9zTWF0cml4KE8scixjLHUsITApLEI9dC50cmFuc2xhdGVQb3NNYXRyaXgocCxyLGMsdSksaz1sP2VzOlAsTj1UJiYhUyYmIWk7bGV0IFU9TTshUiYmIWIubWVyY2F0b3JGcm9tVHJhbnNpdGlvbnx8VHx8KFU9dHMoYikpO2NvbnN0IEc9ZD9VOk07bGV0IGo7aj1uLmljb25zSW5UZXh0P0hyKEUua2luZCxJLE4sUyx0LEIsayxGLEMseCxzLF8sTCx6LEcsbi5nZXRQcm9qZWN0aW9uKCkpOlpyKEUua2luZCxJLE4sUyx0LEIsayxGLCEwLEMsITAscyxfLEwseixHLG4uZ2V0UHJvamVjdGlvbigpKTtjb25zdCBWPXIuZ2x5cGhBdGxhc1RleHR1cmU/ci5nbHlwaEF0bGFzVGV4dHVyZTpudWxsLFo9eS5MSU5FQVIsSD0wIT09by5wYWludC5nZXQoXCJ0ZXh0LWhhbG8td2lkdGhcIikuY29uc3RhbnRPcigxKSxXPXQudGVycmFpbiYmUyYmaT9lLmE2LmludmVydChlLmE2LmNyZWF0ZSgpLFApOmVzO2lmKGkmJm4udGV4dCl7Y29uc3QgZT1iLmVsZXZhdGlvbixpPWU/ZS5nZXRBdFRpbGVPZmZzZXRGdW5jKHMsYi5jZW50ZXIubGF0LGIud29ybGRTaXplLG4uZ2V0UHJvamVjdGlvbigpKTpudWxsLG89bWkocCxyLnRpbGVJRC5jYW5vbmljYWwsUyxULGIsbi5nZXRQcm9qZWN0aW9uKCksZik7YmkobixwLHQsITAsbyxPLFMsZyxpLHMpO31yZXR1cm4ge3Byb2dyYW06bSxidWZmZXJzOm4udGV4dCx1bmlmb3JtVmFsdWVzOmosYXRsYXNUZXh0dXJlOlYsYXRsYXNUZXh0dXJlSWNvbjp3LGF0bGFzSW50ZXJwb2xhdGlvbjpaLGF0bGFzSW50ZXJwb2xhdGlvbkljb246dixpc1NERjohMCxoYXNIYWxvOkgsdGlsZTpyLGxhYmVsUGxhbmVNYXRyaXhJbnY6V319LEI9bi5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aCxrPW4udGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgsTj1CJiYhYS5vbmx5VGV4dD9PKCk6bnVsbCxVPWsmJiFhLm9ubHlJY29ucz9GKCk6bnVsbCxHPW8ucGFpbnQuZ2V0KFwiaWNvbi1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSksaj1vLnBhaW50LmdldChcInRleHQtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpO2lmKEMmJm4uY2FuT3ZlcmxhcCl7ST0hMDtjb25zdCB0PUcmJiFhLm9ubHlUZXh0P24uaWNvbi5zZWdtZW50cy5nZXQoKTpbXSxpPWomJiFhLm9ubHlJY29ucz9uLnRleHQuc2VnbWVudHMuZ2V0KCk6W107Zm9yKGNvbnN0IGkgb2YgdClQLnB1c2goe3NlZ21lbnRzOm5ldyBlLmFCKFtpXSksc29ydEtleTppLnNvcnRLZXksc3RhdGU6Tn0pO2Zvcihjb25zdCB0IG9mIGkpUC5wdXNoKHtzZWdtZW50czpuZXcgZS5hQihbdF0pLHNvcnRLZXk6dC5zb3J0S2V5LHN0YXRlOlV9KTt9ZWxzZSBhLm9ubHlUZXh0fHxQLnB1c2goe3NlZ21lbnRzOkc/bi5pY29uLnNlZ21lbnRzOm5ldyBlLmFCKFtdKSxzb3J0S2V5OjAsc3RhdGU6Tn0pLGEub25seUljb25zfHxQLnB1c2goe3NlZ21lbnRzOmo/bi50ZXh0LnNlZ21lbnRzOm5ldyBlLmFCKFtdKSxzb3J0S2V5OjAsc3RhdGU6VX0pO31JJiZQLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Zm9yKGNvbnN0IGUgb2YgUCl7Y29uc3QgaT1lLnN0YXRlO2lmKGkpaWYodC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGkudGlsZSxpLnByb2dyYW0se3VzZURlcHRoRm9yT2NjbHVzaW9uOmIuZGVwdGhPY2NsdXNpb25Gb3JTeW1ib2xzQW5kQ2lyY2xlcyxsYWJlbFBsYW5lTWF0cml4SW52OmkubGFiZWxQbGFuZU1hdHJpeEludn0pLHguYWN0aXZlVGV4dHVyZS5zZXQoeS5URVhUVVJFMCksaS5hdGxhc1RleHR1cmUmJmkuYXRsYXNUZXh0dXJlLmJpbmQoaS5hdGxhc0ludGVycG9sYXRpb24seS5DTEFNUF9UT19FREdFLCEwKSxpLmF0bGFzVGV4dHVyZUljb24mJih4LmFjdGl2ZVRleHR1cmUuc2V0KHkuVEVYVFVSRTEpLGkuYXRsYXNUZXh0dXJlSWNvbiYmaS5hdGxhc1RleHR1cmVJY29uLmJpbmQoaS5hdGxhc0ludGVycG9sYXRpb25JY29uLHkuQ0xBTVBfVE9fRURHRSwhMCkpLHQudXBsb2FkQ29tbW9uTGlnaHRVbmlmb3Jtcyh0LmNvbnRleHQsaS5wcm9ncmFtKSxpLmhhc0hhbG8pe2NvbnN0IHI9aS51bmlmb3JtVmFsdWVzO3IudV9pc19oYWxvPTEsc3MoaS5idWZmZXJzLGUuc2VnbWVudHMsbyx0LGkucHJvZ3JhbSxELHMsbixyLDIpLHIudV9pc19oYWxvPTA7fWVsc2Uge2lmKGkuaXNTREYpe2NvbnN0IHI9aS51bmlmb3JtVmFsdWVzO2kuaGFzSGFsbyYmKHIudV9pc19oYWxvPTEsc3MoaS5idWZmZXJzLGUuc2VnbWVudHMsbyx0LGkucHJvZ3JhbSxELHMsbixyLDEpKSxyLnVfaXNfaGFsbz0wO31zcyhpLmJ1ZmZlcnMsZS5zZWdtZW50cyxvLHQsaS5wcm9ncmFtLEQscyxuLGkudW5pZm9ybVZhbHVlcywxKTt9fX1mdW5jdGlvbiBzcyhlLHQsaSxvLHIscyxuLGEsbCxjKXtjb25zdCBoPVtlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsZS5vcGFjaXR5VmVydGV4QnVmZmVyLGUuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXIsZS5nbG9iZUV4dFZlcnRleEJ1ZmZlcixlLnpPZmZzZXRWZXJ0ZXhCdWZmZXJdO3IuZHJhdyhvLG8uY29udGV4dC5nbC5UUklBTkdMRVMscyxuLGEsRnQuZGlzYWJsZWQsbCxpLmlkLGUubGF5b3V0VmVydGV4QnVmZmVyLGUuaW5kZXhCdWZmZXIsdCxpLnBhaW50LG8udHJhbnNmb3JtLnpvb20sZS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGgsYyk7fWZ1bmN0aW9uIG5zKGUsdCxpLG8scixzLG4pe2NvbnN0IGE9ZS5jb250ZXh0LmdsLGw9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz1sJiZsLmNvbnN0YW50T3IoMSk7bGV0IGgsdSxkLF8scDtuPyh1PWMmJiFpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIsaD1hLkxJTkVTKToodT1jP1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixoPWEuVFJJQU5HTEVTKTtmb3IoY29uc3QgZiBvZiBvKXtjb25zdCBvPXQuZ2V0VGlsZShmKTtpZihjJiYhby5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IG09by5nZXRCdWNrZXQoaSk7aWYoIW0pY29udGludWU7ZS5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBnPW0ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx2PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhmKSx4PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKHUse2NvbmZpZzpnLG92ZXJyaWRlRm9nOnZ9KTtjJiYoZS5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLG8uaW1hZ2VBdGxhc1RleHR1cmUmJm8uaW1hZ2VBdGxhc1RleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpLGcudXBkYXRlUGFpbnRCdWZmZXJzKCkpO2NvbnN0IHk9bC5jb25zdGFudE9yKG51bGwpO2lmKHkmJm8uaW1hZ2VBdGxhcyl7Y29uc3QgZT1vLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t5LnRvU3RyaW5nKCldO2UmJmcuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO31jb25zdCBiPWUudHJhbnNsYXRlUG9zTWF0cml4KGYucHJvak1hdHJpeCxvLGkucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpLHc9aS5wYWludC5nZXQoXCJmaWxsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpO2lmKG4pe189bS5pbmRleEJ1ZmZlcjIscD1tLnNlZ21lbnRzMjtjb25zdCB0PWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT9lLnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOlthLmRyYXdpbmdCdWZmZXJXaWR0aCxhLmRyYXdpbmdCdWZmZXJIZWlnaHRdO2Q9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PXUmJmM/QXIoYix3LGUsbyx0KTpMcihiLHcsdCk7fWVsc2UgXz1tLmluZGV4QnVmZmVyLHA9bS5zZWdtZW50cyxkPWM/RHIoYix3LGUsbyk6SXIoYix3KTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKGUuY29udGV4dCx4LGYudG9VbndyYXBwZWQoKSkseC5kcmF3KGUsaCxyLGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhmKSxzLEZ0LmRpc2FibGVkLGQsaS5pZCxtLmxheW91dFZlcnRleEJ1ZmZlcixfLHAsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLGcsdm9pZCAwKTt9fWZ1bmN0aW9uIGFzKHQsaSxvLHIscyxuLGEsbCl7by5yZXNldExheWVyUmVuZGVyaW5nU3RhdHModCk7Y29uc3QgYz10LmNvbnRleHQsaD1jLmdsLHU9dC50cmFuc2Zvcm0sZD1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIiksXz1kLmNvbnN0YW50T3IoMSkscD1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksZj10LnN0eWxlLmVuYWJsZTNkTGlnaHRzKCksbT1vLnBhaW50LmdldChmJiYhXz9cImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6XCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIiksZz1bby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIiksbV0sdj1vLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKSx4PXY+MCYmIW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcm91bmRlZC1yb29mXCIpLHk9eD8wOnYsYj1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZT9lLmNGKCk6MCx3PVwiZ2xvYmVcIj09PXUucHJvamVjdGlvbi5uYW1lLFQ9dz9lLlModS56b29tKTowLEU9W2UuYTUodS5jZW50ZXIubG5nKSxlLmFlKHUuY2VudGVyLmxhdCldLFM9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1jb2xvclwiKS50b0FycmF5MDEoKS5zbGljZSgwLDMpLEM9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIiksST1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCIpLEQ9dm8odCxvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpKSxMPW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZW1pc3NpdmUtc3RyZW5ndGhcIiksQT1bXTtsZXQgUjt3JiZBLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksZ1swXT4wJiZBLnB1c2goXCJGQVVYX0FPXCIpLHgmJkEucHVzaChcIlpFUk9fUk9PRl9SQURJVVNcIiksbCYmQS5wdXNoKFwiSEFTX0NFTlRST0lEXCIpLEM+MCYmQS5wdXNoKFwiRkxPT0RfTElHSFRcIiksRC5zaG91bGRSZW5kZXJDdXRvZmYmJkEucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Y29uc3QgUD1cInNoYWRvd1wiPT09dC5yZW5kZXJQYXNzLE09dC5zaGFkb3dSZW5kZXJlcix6PVAmJiEhTTt0LnNoYWRvd1JlbmRlcmVyJiYodC5zaGFkb3dSZW5kZXJlci51c2VOb3JtYWxPZmZzZXQ9ITApO2xldCBPPVswLDAsMF07aWYoTSl7Y29uc3QgZT10LnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQsaT10LnN0eWxlLmFtYmllbnRMaWdodDtlJiZpJiYoTz1TbyhlLGkpKSxSPUEuY29uY2F0KFtcIlNIQURPV1NfU0lOR0xFX0NBU0NBREVcIl0pO31jb25zdCBGPXo/XCJmaWxsRXh0cnVzaW9uRGVwdGhcIjpfP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIixCPW8uZ2V0TGF5ZXJSZW5kZXJpbmdTdGF0cygpO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGUpLGY9ci5nZXRCdWNrZXQobyk7aWYoIWZ8fGYucHJvamVjdGlvbi5uYW1lIT09dS5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7bGV0IG09ITE7TSYmKG09MD09PU0uZ2V0TWF4Q2FzY2FkZUZvclRpbGUoZS50b1Vud3JhcHBlZCgpKSk7Y29uc3Qgdj10LmlzVGlsZUFmZmVjdGVkQnlGb2coZSkseD1mLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCksej10LmdldE9yQ3JlYXRlUHJvZ3JhbShGLHtjb25maWc6eCxkZWZpbmVzOm0/UjpBLG92ZXJyaWRlRm9nOnZ9KTtpZih0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcocix6LHt1c2VNZXRlclRvRGVtOiEwfSksIWYuY2VudHJvaWRWZXJ0ZXhCdWZmZXIpe2NvbnN0IGU9ei5hdHRyaWJ1dGVzLmFfY2VudHJvaWRfcG9zO3ZvaWQgMCE9PWUmJmgudmVydGV4QXR0cmliMmYoZSwwLDApO30hUCYmTSYmTS5zZXR1cFNoYWRvd3Moci50aWxlSUQudG9VbndyYXBwZWQoKSx6LFwidmVjdG9yLXRpbGVcIixyLnRpbGVJRC5vdmVyc2NhbGVkWiksXyYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChoLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlJiZyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoaC5MSU5FQVIsaC5DTEFNUF9UT19FREdFKSx4LnVwZGF0ZVBhaW50QnVmZmVycygpKTtjb25zdCBrPWQuY29uc3RhbnRPcihudWxsKTtpZihrJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbay50b1N0cmluZygpXTtlJiZ4LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKTt9Y29uc3QgTj1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpO2xldCBVO2lmKFAmJk0pe2lmKF9zKHIudGlsZUlELGYsdCkpY29udGludWU7Y29uc3QgZT1NLmNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tVGlsZShyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtVPVNyKGUseSxJKTt9ZWxzZSB7Y29uc3QgaT10LnRyYW5zbGF0ZVBvc01hdHJpeChlLmV4cGFuZGVkUHJvak1hdHJpeCxyLG8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSkscz11LnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KHUsZS5jYW5vbmljYWwpO1U9Xz9DcihpLHQsTixwLGcseSxlLHIsYixULEUscyxTLEkpOkVyKGksdCxOLHAsZyx5LGUsYixULEUscyxTLEksQyxPLEwpO310LnVwbG9hZENvbW1vblVuaWZvcm1zKGMseixlLnRvVW53cmFwcGVkKCksbnVsbCxEKTtsZXQgRz1mLnNlZ21lbnRzO2lmKFwibWVyY2F0b3JcIj09PXUucHJvamVjdGlvbi5uYW1lJiYhUCYmKEc9Zi5nZXRWaXNpYmxlU2VnbWVudHMoci50aWxlSUQsdC50ZXJyYWluLHQudHJhbnNmb3JtLmdldEZydXN0dW0oMCkpLCFHLmdldCgpLmxlbmd0aCkpY29udGludWU7aWYoQilpZihQKWZvcihjb25zdCBlIG9mIEcuZ2V0KCkpQi5udW1SZW5kZXJlZFZlcnRpY2VzSW5TaGFkb3dQYXNzKz1lLnByaW1pdGl2ZUxlbmd0aDtlbHNlIGZvcihjb25zdCBlIG9mIEcuZ2V0KCkpQi5udW1SZW5kZXJlZFZlcnRpY2VzSW5UcmFuc3BhcmVudFBhc3MrPWUucHJpbWl0aXZlTGVuZ3RoO2NvbnN0IGo9W107KHQudGVycmFpbnx8bCkmJmoucHVzaChmLmNlbnRyb2lkVmVydGV4QnVmZmVyKSx3JiZqLnB1c2goZi5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpLHouZHJhdyh0LGMuZ2wuVFJJQU5HTEVTLHMsbixhLEZ0LmJhY2tDQ1csVSxvLmlkLGYubGF5b3V0VmVydGV4QnVmZmVyLGYuaW5kZXhCdWZmZXIsRyxvLnBhaW50LHQudHJhbnNmb3JtLnpvb20seCxqKTt9dC5zaGFkb3dSZW5kZXJlciYmKHQuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0PSExKTt9ZnVuY3Rpb24gbHModCxpLG8scixzLG4sYSxsLGMsaCx1LGQsXyxwLGYsbSxnLHYseCl7Y29uc3QgeT10LmNvbnRleHQsYj15LmdsLHc9dC50cmFuc2Zvcm0sVD10LnRyYW5zZm9ybS56b29tLEU9W10sUz12byh0LG8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIikpO1wiY2xlYXJcIj09PWg/KEUucHVzaChcIkNMRUFSX1NVQlBBU1NcIikseCYmKEUucHVzaChcIkNMRUFSX0ZST01fVEVYVFVSRVwiKSx5LmFjdGl2ZVRleHR1cmUuc2V0KGIuVEVYVFVSRTApLHguYmluZChiLkxJTkVBUixiLkNMQU1QX1RPX0VER0UpKSk6XCJzZGZcIj09PWgmJkUucHVzaChcIlNERl9TVUJQQVNTXCIpLGcmJkUucHVzaChcIkhBU19DRU5UUk9JRFwiKSxTLnNob3VsZFJlbmRlckN1dG9mZiYmRS5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKTtjb25zdCBDPW8ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLEk9KGUsaSxyLGgsdik9Pntjb25zdCBiPWkucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSx3PXQuaXNUaWxlQWZmZWN0ZWRCeUZvZyhlKSxJPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdFwiLHtjb25maWc6YixkZWZpbmVzOkUsb3ZlcnJpZGVGb2c6d30pLEQ9KChlLHQsaSxvLHIscyxuLGEsbCxjLGgpPT4oe3VfbWF0cml4OnQsdV9vcGFjaXR5OmksdV9hb19wYXNzOm8/MTowLHVfbWV0ZXJfdG9fdGlsZTpyLHVfYW86cyx1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTpuLHVfZmxvb2RfbGlnaHRfY29sb3I6YSx1X2F0dGVudWF0aW9uOmwsdV9lZGdlX3JhZGl1czpjLHVfZmI6MCx1X2ZiX3NpemU6aH0pKSgwLGgsdSxjLHYsW2QsXyp2XSxwLGYsbSxUPj0xNz8wOkMqdix4P3guc2l6ZVswXTowKSxMPVtdO2cmJkwucHVzaChpLmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhCdWZmZXIpLHQudXBsb2FkQ29tbW9uVW5pZm9ybXMoeSxJLGUudG9VbndyYXBwZWQoKSxudWxsLFMpLEkuZHJhdyh0LHkuZ2wuVFJJQU5HTEVTLHMsbixhLGwsRCxvLmlkLGkudmVydGV4QnVmZmVyLGkuaW5kZXhCdWZmZXIscixvLnBhaW50LFQsYixMKTt9O2Zvcihjb25zdCBzIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKHMpLG49ci5nZXRCdWNrZXQobyk7aWYoIW58fG4ucHJvamVjdGlvbi5uYW1lIT09dy5wcm9qZWN0aW9uLm5hbWV8fCFuLmdyb3VuZEVmZmVjdHx8bi5ncm91bmRFZmZlY3QmJiFuLmdyb3VuZEVmZmVjdC5oYXNEYXRhKCkpY29udGludWU7Y29uc3QgYT1uLmdyb3VuZEVmZmVjdCxsPTEvbi50aWxlVG9NZXRlcjt7Y29uc3QgZT10LnRyYW5zbGF0ZVBvc01hdHJpeChzLnByb2pNYXRyaXgscixvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLGk9YS5nZXREZWZhdWx0U2VnbWVudCgpO0kocyxhLGksZSxsKTt9aWYodilmb3IobGV0IG49MDtuPDQ7bisrKXtjb25zdCBhPWUuY0dbbl0ocyksYz1pLmdldFRpbGUoYSk7aWYoIWMpY29udGludWU7Y29uc3QgaD1jLmdldEJ1Y2tldChvKTtpZighaHx8aC5wcm9qZWN0aW9uLm5hbWUhPT13LnByb2plY3Rpb24ubmFtZXx8IWguZ3JvdW5kRWZmZWN0fHxoLmdyb3VuZEVmZmVjdCYmIWguZ3JvdW5kRWZmZWN0Lmhhc0RhdGEoKSljb250aW51ZTtjb25zdCB1PWguZ3JvdW5kRWZmZWN0O2xldCBkLF87MD09PW4/KGQ9Wy1lLlYsMCwwXSxfPTEpOjE9PT1uPyhkPVtlLlYsMCwwXSxfPTApOjI9PT1uPyhkPVswLC1lLlYsMF0sXz0zKTooZD1bMCxlLlYsMF0sXz0yKTtjb25zdCBwPXUucmVnaW9uU2VnbWVudHNbX107aWYoIXApY29udGludWU7Y29uc3QgZj1uZXcgRmxvYXQzMkFycmF5KDE2KTtlLmE2LnRyYW5zbGF0ZShmLHMucHJvak1hdHJpeCxkKSxJKHMsdSxwLHQudHJhbnNsYXRlUG9zTWF0cml4KGYscixvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLGwpO319fWZ1bmN0aW9uIGNzKHQsaSxvLHIscyxuLGEpezA9PT1yLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoJiZyLmNyZWF0ZUNlbnRyb2lkc0J1ZmZlcigpO2NvbnN0IGw9bj9uLmZpbmRERU1UaWxlRm9yKG8pOm51bGw7aWYoIShsJiZsLmRlbXx8YSkpcmV0dXJuO2NvbnN0IGM9dD0+bmV3IGUuUChNYXRoLmNlaWwoKHQrZS5jSikqZS5jSyksMCksaD1lPT57Y29uc3QgdD1pLmdldFNvdXJjZSgpLm1pbnpvb20sbz1lPT57Y29uc3QgdD1pLmdldFRpbGVCeUlEKGUpO2lmKHQmJnQuaGFzRGF0YSgpKXJldHVybiB0LmdldEJ1Y2tldChzKX0scj1bMCwtMSwxXTtmb3IoY29uc3QgaSBvZiByKXtpZihlLm92ZXJzY2FsZWRaK2k8dCljb250aW51ZTtjb25zdCByPW8oZS5jYWxjdWxhdGVTY2FsZWRLZXkoZS5vdmVyc2NhbGVkWitpKSk7aWYocilyZXR1cm4gcn19LHU9WzAsMCwwXSxkPSh0LGkpPT4odVswXT1NYXRoLm1pbih0Lm1pbi55LGkubWluLnkpLHVbMV09TWF0aC5tYXgodC5tYXgueSxpLm1heC55KSx1WzJdPWUuVi1pLm1pbi54PnQubWF4Lng/aS5taW4ueC1lLlY6dC5tYXgueCx1KSxfPSh0LGkpPT4odVswXT1NYXRoLm1pbih0Lm1pbi54LGkubWluLngpLHVbMV09TWF0aC5tYXgodC5tYXgueCxpLm1heC54KSx1WzJdPWUuVi1pLm1pbi55PnQubWF4Lnk/aS5taW4ueS1lLlY6dC5tYXgueSx1KSxwPVsoZSx0KT0+ZChlLHQpLChlLHQpPT5kKHQsZSksKGUsdCk9Pl8oZSx0KSwoZSx0KT0+Xyh0LGUpXSxmPSh0LGkscixzLGEsYyxoKT0+e2lmKCFuKXJldHVybiAwO2NvbnN0IHU9W1tjP3I6dCxjP3Q6ciwwXSxbYz9yOmksYz9pOnIsMF1dLGQ9aDwwP2UuVitoOmgsXz1bYz9kOih0K2kpLzIsYz8odCtpKS8yOmQsMF07cmV0dXJuIDA9PT1yJiZoPDB8fDAhPT1yJiZoPjA/bi5nZXRGb3JUaWxlUG9pbnRzKGEsW19dLCEwLHMpOnUucHVzaChfKSxuLmdldEZvclRpbGVQb2ludHMobyx1LCEwLGwpLE1hdGgubWF4KHVbMF1bMl0sdVsxXVsyXSxfWzJdKS9uLmV4YWdnZXJhdGlvbigpfTtmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBpPXIuYm9yZGVyRmVhdHVyZUluZGljZXNbdF07aWYoMD09PWkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHM9ZS5jR1t0XShvKSxsPWgocyk7aWYoIShsJiZsIGluc3RhbmNlb2YgZS5jSCkpY29udGludWU7aWYoci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT09PWwuY2Fub25pY2FsLnopY29udGludWU7MD09PWwuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgmJmwuY3JlYXRlQ2VudHJvaWRzQnVmZmVyKCk7Y29uc3QgdT1uP24uZmluZERFTVRpbGVGb3Iocyk6bnVsbDtpZighKHUmJnUuZGVtfHxhKSljb250aW51ZTtjb25zdCBkPSh0PDI/MTo1KS10LF89bC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltkXSE9PXIuY2Fub25pY2FsLnosdj1sLmJvcmRlckZlYXR1cmVJbmRpY2VzW2RdO2xldCB4PTA7aWYoci5jYW5vbmljYWwueiE9PWwuY2Fub25pY2FsLnope2Zvcihjb25zdCBlIG9mIGkpci5zaG93Q2VudHJvaWQoci5mZWF0dXJlc09uQm9yZGVyW2VdKTtpZihfKWZvcihjb25zdCBlIG9mIHYpbC5zaG93Q2VudHJvaWQobC5mZWF0dXJlc09uQm9yZGVyW2VdKTtyLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3RdPWwuY2Fub25pY2FsLnosbC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltkXT1yLmNhbm9uaWNhbC56O31mb3IoY29uc3QgbyBvZiBpKXtjb25zdCBpPXIuZmVhdHVyZXNPbkJvcmRlcltvXSxuPXIuY2VudHJvaWREYXRhW2kuY2VudHJvaWREYXRhSW5kZXhdLGg9aS5ib3JkZXJzW3RdO2xldCBfO2Zvcig7eDx2Lmxlbmd0aDspe189bC5mZWF0dXJlc09uQm9yZGVyW3ZbeF1dO2NvbnN0IGU9Xy5ib3JkZXJzW2RdO2lmKGVbMV0+aFswXSszfHxlWzBdPmhbMF0tMylicmVhaztsLnNob3dDZW50cm9pZChfKSx4Kys7fWlmKF8mJng8di5sZW5ndGgpe2NvbnN0IG89eDtsZXQgeT0wO2Zvcig7IShfLmJvcmRlcnNbZF1bMF0+aFsxXS0zKSYmKHkrKywrK3ghPT12Lmxlbmd0aCk7KV89bC5mZWF0dXJlc09uQm9yZGVyW3ZbeF1dO2lmKF89bC5mZWF0dXJlc09uQm9yZGVyW3Zbb11dLHk+MSl7Y29uc3QgZT1fLmJvcmRlcnNbZF07TWF0aC5hYnMoaFswXS1lWzBdKTwzJiZNYXRoLmFicyhoWzFdLWVbMV0pPDMmJih5PTEseD1vKzEpO31lbHNlIGlmKDA9PT15KXtyLnNob3dDZW50cm9pZChpKTtjb250aW51ZX1jb25zdCBiPWwuY2VudHJvaWREYXRhW18uY2VudHJvaWREYXRhSW5kZXhdO2EmJjE9PT15JiYoKChtPW4pLmZsYWdzfChnPWIpLmZsYWdzKSZlLmNJPyhtLmZsYWdzfD1lLmNJLGcuZmxhZ3N8PWUuY0kpOihtLmZsYWdzJj1+ZS5jSSxnLmZsYWdzJj1+ZS5jSSkpO2NvbnN0IHc9aS5pbnRlcnNlY3RzQ291bnQoKT4xfHxfLmludGVyc2VjdHNDb3VudCgpPjE7aWYoeT4xKXg9byxuLmNlbnRyb2lkWFk9Yi5jZW50cm9pZFhZPW5ldyBlLlAoMCwwKTtlbHNlIGlmKHUmJnUuZGVtJiYhdyl7Y29uc3QgaT1wW3RdKG4sYiksbz10JTI/ZS5WLTE6MCxyPWYoaVswXSxNYXRoLm1pbihlLlYtMSxpWzFdKSxvLHUscyx0PDIsaVsyXSk7bi5jZW50cm9pZFhZPWIuY2VudHJvaWRYWT1jKHIpO31lbHNlIHc/bi5jZW50cm9pZFhZPWIuY2VudHJvaWRYWT1uZXcgZS5QKDAsMCk6KG4uY2VudHJvaWRYWT1yLmVuY29kZUJvcmRlckNlbnRyb2lkKGkpLGIuY2VudHJvaWRYWT1sLmVuY29kZUJvcmRlckNlbnRyb2lkKF8pKTtyLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihuKSxsLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihiKTt9ZWxzZSByLnNob3dDZW50cm9pZChpKTt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT1sLmNhbm9uaWNhbC56LGwuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbZF09ci5jYW5vbmljYWwuejt9dmFyIG0sZzsoci5uZWVkc0NlbnRyb2lkVXBkYXRlfHwhci5jZW50cm9pZFZlcnRleEJ1ZmZlciYmMCE9PXIuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgpJiZyLnVwbG9hZENlbnRyb2lkKHQpO31jb25zdCBocz1bMSwwLDBdLHVzPVswLDEsMF0sZHM9WzAsMCwxXTtmdW5jdGlvbiBfcyh0LGksbyl7Y29uc3Qgcj1vLnRyYW5zZm9ybSxzPW8uc2hhZG93UmVuZGVyZXI7aWYoIXMpcmV0dXJuICEwO2NvbnN0IG49dC50b1Vud3JhcHBlZCgpLGE9ci50aWxlU2l6ZSpzLl9jYXNjYWRlc1tvLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5zY2FsZTtsZXQgbD1pLm1heEhlaWdodDtpZihyLmVsZXZhdGlvbil7Y29uc3QgZT1yLmVsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKHQpO2UmJihsKz1lLm1heCk7fWNvbnN0IGM9Wy4uLnMuc2hhZG93RGlyZWN0aW9uXTtjWzJdPS1jWzJdO2NvbnN0IGg9cy5jb21wdXRlU2ltcGxpZmllZFRpbGVTaGFkb3dWb2x1bWUobixsLGEsYyk7aWYoIWgpcmV0dXJuICExO2NvbnN0IHU9W2hzLHVzLGRzLGMsW2NbMF0sMCxjWzJdXSxbMCxjWzFdLGNbMl1dXSxkPVwiZ2xvYmVcIj09PXIucHJvamVjdGlvbi5uYW1lLF89ci5zY2FsZVpvb20oYSkscD1lLmJxLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHIuaW52UHJvak1hdHJpeCxyLndvcmxkU2l6ZSxfLCFkKSxmPXMuZ2V0Q3VycmVudENhc2NhZGVGcnVzdHVtKCk7cmV0dXJuIDA9PT1wLmludGVyc2VjdHNQcmVjaXNlKGgudmVydGljZXMsaC5wbGFuZXMsdSl8fDA9PT1mLmludGVyc2VjdHNQcmVjaXNlKGgudmVydGljZXMsaC5wbGFuZXMsdSl9ZnVuY3Rpb24gcHModCl7cmV0dXJuIFt0WzBdKmUuY0wsdFsxXSplLmNMLHRbMl0qZS5jTCwwXX1mdW5jdGlvbiBmcyh0LGksbyxyLHMsbixhLGwsYyl7Y29uc3QgaD1yLmdldFNvdXJjZSgpLHU9by5nbG9iZVNoYXJlZEJ1ZmZlcnM7aWYoIXUpcmV0dXJuO2xldCBkLF8scDtpZihpJiYoZD1yLmdldFRpbGUoaSkpLGggaW5zdGFuY2VvZiBlLmFwPyhfPWgudGV4dHVyZSxwPWUuY2ooMCwwLG8udHJhbnNmb3JtKSk6ZCYmaSYmKF89ZC50ZXh0dXJlLHA9ZS5jaihpLmNhbm9uaWNhbC56LGkuY2Fub25pY2FsLngsby50cmFuc2Zvcm0pKSwhX3x8IXApcmV0dXJuO3R8fChwPWUuYTYuc2NhbGUoZS5hNi5jcmVhdGUoKSxwLFsxLC0xLDFdKSk7Y29uc3QgZj1vLmNvbnRleHQsbT1mLmdsLGc9XCJuZWFyZXN0XCI9PT1zLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpP20uTkVBUkVTVDptLkxJTkVBUix2PW8uY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MobikseD1hLmRlZmluZXM7eC5wdXNoKFwiR0xPQkVfUE9MRVNcIik7Y29uc3QgeT1uZXcgTHQobS5MRVFVQUwsTHQuUmVhZFdyaXRlLG8uZGVwdGhSYW5nZUZvcjNEKSxiPUZsb2F0MzJBcnJheS5mcm9tKG8udHJhbnNmb3JtLmV4cGFuZGVkRmFyWlByb2pNYXRyaXgpLHc9RmxvYXQzMkFycmF5LmZyb20oZS5hVChlLmNpKG5ldyBlLmJzKDAsMCwwKSkpKTtvLnRlcnJhaW4mJm8udGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKSxmLmFjdGl2ZVRleHR1cmUuc2V0KG0uVEVYVFVSRTApLF8uYmluZChnLG0uQ0xBTVBfVE9fRURHRSksZi5hY3RpdmVUZXh0dXJlLnNldChtLlRFWFRVUkUxKSxfLmJpbmQoZyxtLkNMQU1QX1RPX0VER0UpLF8udXNlTWlwbWFwJiZmLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmby50cmFuc2Zvcm0ucGl0Y2g+MjAmJm0udGV4UGFyYW1ldGVyZihtLlRFWFRVUkVfMkQsZi5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsZi5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpO2NvbnN0W1QsRSxTLENdPWk/dS5nZXRQb2xlQnVmZmVycyhpLmNhbm9uaWNhbC56LCExKTp1LmdldFBvbGVCdWZmZXJzKDAsITApLEk9cy5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpO2xldCBEO3Q/KEQ9VCxvLnJlbmRlckRlZmF1bHROb3J0aFBvbGU9MCE9PUkpOihEPUUsby5yZW5kZXJEZWZhdWx0U291dGhQb2xlPTAhPT1JKTtjb25zdCBMPXBzKGEubWl4KSxBPSgoZSx0LGksbyxyLHMsbixhLGwsYyxoLHUsZCk9PkJyKGUsdCxpLG5ldyBGbG9hdDMyQXJyYXkoMTYpLG5ldyBGbG9hdDMyQXJyYXkoOSksWzAsMF0sbyxbMCwwXSxbMCwwLDAsMF0sMSx7b3BhY2l0eToxLG1peDowfSxzLFswLDBdfHxbMCwwXSxhLDIsYyxoLHUsMSwwLGQpKShiLHcscCxlLlMoby50cmFuc2Zvcm0uem9vbSksMCxzLDAsSSwwLEwsYS5vZmZzZXQsYS5yYW5nZSxuKSxSPW8uZ2V0T3JDcmVhdGVQcm9ncmFtKFwicmFzdGVyXCIse2RlZmluZXM6eH0pO28udXBsb2FkQ29tbW9uVW5pZm9ybXMoZixSLG51bGwpLFIuZHJhdyhvLG0uVFJJQU5HTEVTLHksYyx2LGwsQSxzLmlkLEQsUyxDKTt9ZnVuY3Rpb24gbXMoZSl7Y29uc3QgdD1lLl9uZWFyWixpPWUucHJvamVjdGlvbi5mYXJ0aGVzdFBpeGVsRGlzdGFuY2UoZSksbz1pLXQscj0uMiplLmhlaWdodCxzPXQrcjtyZXR1cm4gW3QsaSwocy1yLXQpL28sKHMtdCkvb119ZnVuY3Rpb24gZ3MoZSx0LGksbyl7aWYoZSlyZXR1cm4gdCBpbnN0YW5jZW9mIHplJiZlIGluc3RhbmNlb2YgJHQ/dC5nZXRUZXh0dXJlRGVzY3JpcHRvcihlLGksITApOnt0ZXh0dXJlOmUudGV4dHVyZSxtaXg6cHMoby5taXgpLG9mZnNldDpvLm9mZnNldCxidWZmZXI6MCx0aWxlU2l6ZToxfX1mdW5jdGlvbiB2cyh0LGksbyl7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgcj1pLmdldFRleHR1cmVEZXNjcmlwdG9yKHQsbywhMCk7aWYoIXIpcmV0dXJuIG51bGw7bGV0e3RleHR1cmU6cyxtaXg6bixvZmZzZXQ6YSx0aWxlU2l6ZTpsLGJ1ZmZlcjpjLGZvcm1hdDpofT1yO2lmKCFzfHwhaClyZXR1cm4gbnVsbDtsZXQgdT0hMTtyZXR1cm4gXCJ1aW50MzJcIj09PWgmJih1PSEwLG5bM109MCxuPU9yKGUuY00sbixbMCxvLnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1tYXgtc3BlZWRcIildKSxhPUZyKGUuY00sYSxbMCxvLnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1tYXgtc3BlZWRcIildKSkse3RleHR1cmU6cyx0ZXh0dXJlT2Zmc2V0OltjLyhsKzIqYyksbC8obCsyKmMpXSx0aWxlU2l6ZTpsLHNjYWxhckRhdGE6dSxzY2FsZTpuLG9mZnNldDphLGRlZmluZXM6W1wiUkFTVEVSX0FSUkFZXCIse3VpbnQ4OlwiREFUQV9GT1JNQVRfVUlOVDhcIix1aW50MTY6XCJEQVRBX0ZPUk1BVF9VSU5UMTZcIix1aW50MzI6XCJEQVRBX0ZPUk1BVF9VSU5UMzJcIn1baF1dfX1mdW5jdGlvbiB4cyhlKXtjb25zdCB0PWUuX25lYXJaLGk9ZS5wcm9qZWN0aW9uLmZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKSxvPWktdCxyPS4yKmUuaGVpZ2h0LHM9dCtyO3JldHVybiBbdCxpLChzLXItdCkvbywocy10KS9vXX1jb25zdCB5cz1uZXcgZS5heCgxLDAsMCwxKSxicz1uZXcgZS5heCgwLDEsMCwxKSx3cz1uZXcgZS5heCgwLDAsMSwxKSxUcz1uZXcgZS5heCgxLDAsMSwxKSxFcz1uZXcgZS5heCgwLDEsMSwxKTtmdW5jdGlvbiBTcyh0LGksbyxyLHMsbixhKXtjb25zdCBsPXQuY29udGV4dCxjPXQudHJhbnNmb3JtLGg9bC5nbCx1PVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLGQ9dT9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06W107bGV0IF89ZS5hNi5jbG9uZShvLnByb2pNYXRyaXgpO2lmKHUmJmUuUyhjLnpvb20pPjApe2NvbnN0IHQ9ZS5hUyhvLmNhbm9uaWNhbCxjKSxpPWUuY04odCk7Xz1lLmE2Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGMuZ2xvYmVNYXRyaXgsaSksZS5hNi5tdWx0aXBseShfLGMucHJvak1hdHJpeCxfKTt9Y29uc3QgcD1lLmE2LmNyZWF0ZSgpO3BbMTJdKz0yKnMvKGUuZi5kZXZpY2VQaXhlbFJhdGlvKmMud2lkdGgpLHBbMTNdKz0yKm4vKGUuZi5kZXZpY2VQaXhlbFJhdGlvKmMuaGVpZ2h0KSxlLmE2Lm11bHRpcGx5KF8scCxfKTtjb25zdCBmPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZGVidWdcIix7ZGVmaW5lczpkfSksbT1pLmdldFRpbGVCeUlEKG8ua2V5KTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcobSxmKTtjb25zdCBnPUx0LmRpc2FibGVkLHY9UnQuZGlzYWJsZWQseD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSx5PVwiJGRlYnVnXCI7bC5hY3RpdmVUZXh0dXJlLnNldChoLlRFWFRVUkUwKSx0LmVtcHR5VGV4dHVyZS5iaW5kKGguTElORUFSLGguQ0xBTVBfVE9fRURHRSksdT9tLl9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKHQuY29udGV4dCxjKTptLl9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyh0LmNvbnRleHQsYy5wcm9qZWN0aW9uKTtjb25zdCBiPW0uX3RpbGVEZWJ1Z0J1ZmZlcnx8dC5kZWJ1Z0J1ZmZlcix3PW0uX3RpbGVEZWJ1Z0luZGV4QnVmZmVyfHx0LmRlYnVnSW5kZXhCdWZmZXIsVD1tLl90aWxlRGVidWdTZWdtZW50c3x8dC5kZWJ1Z1NlZ21lbnRzO2lmKGYuZHJhdyh0LGguTElORV9TVFJJUCxnLHYseCxGdC5kaXNhYmxlZCxQcihfLHIpLHksYix3LFQsbnVsbCxudWxsLG51bGwsW20uX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSksYSl7Y29uc3QgZT1tLmxhdGVzdFJhd1RpbGVEYXRhLGk9TWF0aC5mbG9vcigoZSYmZS5ieXRlTGVuZ3RofHwwKS8xMDI0KTtsZXQgcj1vLmNhbm9uaWNhbC50b1N0cmluZygpO28ub3ZlcnNjYWxlZFohPT1vLmNhbm9uaWNhbC56JiYocis9YCA9PiAke28ub3ZlcnNjYWxlZFp9YCkscis9YCAke20uc3RhdGV9YCxyKz1gICR7aX1rYmAsZnVuY3Rpb24oZSx0KXtlLmluaXREZWJ1Z092ZXJsYXlDYW52YXMoKTtjb25zdCBpPWUuZGVidWdPdmVybGF5Q2FudmFzLG89ZS5jb250ZXh0LmdsLHI9ZS5kZWJ1Z092ZXJsYXlDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3IuY2xlYXJSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxyLnNoYWRvd0NvbG9yPVwid2hpdGVcIixyLnNoYWRvd0JsdXI9MixyLmxpbmVXaWR0aD0xLjUsci5zdHJva2VTdHlsZT1cIndoaXRlXCIsci50ZXh0QmFzZWxpbmU9XCJ0b3BcIixyLmZvbnQ9XCJib2xkIDM2cHggT3BlbiBTYW5zLCBzYW5zLXNlcmlmXCIsci5maWxsVGV4dCh0LDUsNSksci5zdHJva2VUZXh0KHQsNSw1KSxlLmRlYnVnT3ZlcmxheVRleHR1cmUudXBkYXRlKGkpLGUuZGVidWdPdmVybGF5VGV4dHVyZS5iaW5kKG8uTElORUFSLG8uQ0xBTVBfVE9fRURHRSk7fSh0LHIpO31jb25zdCBFPWkuZ2V0VGlsZShvKS50aWxlU2l6ZSxTPTUxMi9NYXRoLm1pbihFLDUxMikqKG8ub3ZlcnNjYWxlZFovYy56b29tKSouNSxDPW0uX3RpbGVEZWJ1Z1RleHRCdWZmZXJ8fHQuZGVidWdCdWZmZXIsST1tLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXJ8fHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsRD1tLl90aWxlRGVidWdUZXh0U2VnbWVudHN8fHQuZGVidWdTZWdtZW50cztmLmRyYXcodCxoLlRSSUFOR0xFUyxnLHYsTXQuYWxwaGFCbGVuZGVkLEZ0LmRpc2FibGVkLFByKF8sZS5heC50cmFuc3BhcmVudCxTKSx5LEMsSSxELG51bGwsbnVsbCxudWxsLFttLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXJdKTt9ZnVuY3Rpb24gQ3MoZSx0LGksbyl7RHMoZSwwLHQraS8yLGUudHJhbnNmb3JtLndpZHRoLGksbyk7fWZ1bmN0aW9uIElzKGUsdCxpLG8pe0RzKGUsdC1pLzIsMCxpLGUudHJhbnNmb3JtLmhlaWdodCxvKTt9ZnVuY3Rpb24gRHModCxpLG8scixzLG4pe2NvbnN0IGE9dC5jb250ZXh0LGw9YS5nbDtsLmVuYWJsZShsLlNDSVNTT1JfVEVTVCksbC5zY2lzc29yKGkqZS5mLmRldmljZVBpeGVsUmF0aW8sbyplLmYuZGV2aWNlUGl4ZWxSYXRpbyxyKmUuZi5kZXZpY2VQaXhlbFJhdGlvLHMqZS5mLmRldmljZVBpeGVsUmF0aW8pLGEuY2xlYXIoe2NvbG9yOm59KSxsLmRpc2FibGUobC5TQ0lTU09SX1RFU1QpO31jb25zdCBMcz1lLmF5KFt7bmFtZTpcImFfcG9zXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6QXN9PUxzO2Z1bmN0aW9uIFJzKGUsdCxpLG8pe2UuZW1wbGFjZUJhY2sodCxpLG8pO31jbGFzcyBQc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnZlcnRleEFycmF5PW5ldyBlLmF6LHRoaXMuaW5kaWNlcz1uZXcgZS5hdyxScyh0aGlzLnZlcnRleEFycmF5LC0xLC0xLDEpLFJzKHRoaXMudmVydGV4QXJyYXksMSwtMSwxKSxScyh0aGlzLnZlcnRleEFycmF5LC0xLDEsMSksUnModGhpcy52ZXJ0ZXhBcnJheSwxLDEsMSksUnModGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwtMSksUnModGhpcy52ZXJ0ZXhBcnJheSwxLC0xLC0xKSxScyh0aGlzLnZlcnRleEFycmF5LC0xLDEsLTEpLFJzKHRoaXMudmVydGV4QXJyYXksMSwxLC0xKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSwxLDMpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLDcsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDYsMiwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCw0LDYpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygyLDYsNyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsMywyKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNSw0LDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDEsNSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsMiwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMywxLDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDYsNCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDQsNSw3KSx0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnZlcnRleEFycmF5LEFzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRpY2VzKSx0aGlzLnNlZ21lbnQ9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCwzNiwxMik7fX1mdW5jdGlvbiBNcyh0LGksbyxyLHMsbil7Y29uc3QgYT10LmNvbnRleHQuZ2wsbD1pLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLWNvbG9yXCIpLGM9aS5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCIpLGg9aS5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIpLHU9KChlLHQsaSxvLHIpPT4oe3VfbWF0cml4XzNmOmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9zdW5faW50ZW5zaXR5OmksdV9jb2xvcl90aW50X3I6W28ucixvLmcsby5iLG8uYV0sdV9jb2xvcl90aW50X206W3IucixyLmcsci5iLHIuYV0sdV9sdW1pbmFuY2U6NWUtNX0pKShlLmNvLmZyb21NYXQ0KGUuY28uY3JlYXRlKCkscikscyxoLGwsYyk7YS5mcmFtZWJ1ZmZlclRleHR1cmUyRChhLkZSQU1FQlVGRkVSLGEuQ09MT1JfQVRUQUNITUVOVDAsYS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbixpLnNreWJveFRleHR1cmUsMCksby5kcmF3KHQsYS5UUklBTkdMRVMsTHQuZGlzYWJsZWQsUnQuZGlzYWJsZWQsTXQudW5ibGVuZGVkLEZ0LmZyb250Q1csdSxcInNreWJveENhcHR1cmVcIixpLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixpLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fWNvbnN0IHpzPWUuYXkoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSk7Y2xhc3MgT3N7Y29uc3RydWN0b3IodCl7Y29uc3QgaT1uZXcgZS5jTztpLmVtcGxhY2VCYWNrKC0xLDEsMSwwLDApLGkuZW1wbGFjZUJhY2soMSwxLDEsMSwwKSxpLmVtcGxhY2VCYWNrKDEsLTEsMSwxLDEpLGkuZW1wbGFjZUJhY2soLTEsLTEsMSwwLDEpO2NvbnN0IG89bmV3IGUuYXc7by5lbXBsYWNlQmFjaygwLDEsMiksby5lbXBsYWNlQmFjaygyLDMsMCksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSx6cy5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIobyksdGhpcy5zZWdtZW50cz1lLmFCLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7fWRlc3Ryb3koKXt0aGlzLnZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCk7fX1jb25zdCBGcz1lLmF5KFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9zaXplX3NjYWxlXCIsY29tcG9uZW50czoxfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjF9XSk7Y2xhc3MgQnN7Y29uc3RydWN0b3IoKXt0aGlzLnN0YXJzQ291bnQ9MTZlMyx0aGlzLnNpemVNdWx0aXBsaWVyPS4xNSx0aGlzLnNpemVSYW5nZT0xMDAsdGhpcy5pbnRlbnNpdHlSYW5nZT0yMDA7fX1jbGFzcyBrc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmNvbG9yTW9kZUFscGhhQmxlbmRlZFdyaXRlUkdCPW5ldyBNdChbMSxQdCwxLFB0XSxlLmF4LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMV0pLHRoaXMuY29sb3JNb2RlV3JpdGVBbHBoYT1uZXcgTXQoWzEsMCwxLDBdLGUuYXgudHJhbnNwYXJlbnQsWyExLCExLCExLCEwXSksdGhpcy5wYXJhbXM9bmV3IEJzLHRoaXMudXBkYXRlTmVlZGVkPSEwLHQudHAucmVnaXN0ZXJQYXJhbWV0ZXIodGhpcy5wYXJhbXMsW1wiU3RhcnNcIl0sXCJzdGFyc0NvdW50XCIse21pbjoxMDAsbWF4OjE2ZTMsc3RlcDoxfSwoKCk9Pnt0aGlzLnVwZGF0ZU5lZWRlZD0hMDt9KSksdC50cC5yZWdpc3RlclBhcmFtZXRlcih0aGlzLnBhcmFtcyxbXCJTdGFyc1wiXSxcInNpemVNdWx0aXBsaWVyXCIse21pbjouMDEsbWF4OjIsc3RlcDouMDF9KSx0LnRwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMucGFyYW1zLFtcIlN0YXJzXCJdLFwic2l6ZVJhbmdlXCIse21pbjowLG1heDoyMDAsc3RlcDoxfSwoKCk9Pnt0aGlzLnVwZGF0ZU5lZWRlZD0hMDt9KSksdC50cC5yZWdpc3RlclBhcmFtZXRlcih0aGlzLnBhcmFtcyxbXCJTdGFyc1wiXSxcImludGVuc2l0eVJhbmdlXCIse21pbjowLG1heDoyMDAsc3RlcDoxfSwoKCk9Pnt0aGlzLnVwZGF0ZU5lZWRlZD0hMDt9KSk7fXVwZGF0ZSh0KXtjb25zdCBpPXQuY29udGV4dDtpZighdGhpcy5hdG1vc3BoZXJlQnVmZmVyfHx0aGlzLnVwZGF0ZU5lZWRlZCl7dGhpcy51cGRhdGVOZWVkZWQ9ITEsdGhpcy5hdG1vc3BoZXJlQnVmZmVyPW5ldyBPcyhpKTtjb25zdCB0PXRoaXMucGFyYW1zLnNpemVSYW5nZSxvPXRoaXMucGFyYW1zLmludGVuc2l0eVJhbmdlLHI9ZnVuY3Rpb24odCl7Y29uc3QgaT1lLmFBKDMwKSxvPVtdO2ZvcihsZXQgcj0wO3I8dDsrK3Ipe2NvbnN0IHQ9MipNYXRoLlBJKmkoKSxyPU1hdGguYWNvcygxLTIqaSgpKS0uNSpNYXRoLlBJO28ucHVzaChlLk4uZnJvbVZhbHVlcyhNYXRoLmNvcyhyKSpNYXRoLmNvcyh0KSxNYXRoLmNvcyhyKSpNYXRoLnNpbih0KSxNYXRoLnNpbihyKSkpO31yZXR1cm4gb30odGhpcy5wYXJhbXMuc3RhcnNDb3VudCkscz1lLmFBKDMwMCksbj1uZXcgZS5jUCxhPW5ldyBlLmF3O2xldCBsPTA7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDsrK2kpe2NvbnN0IGM9ZS5OLnNjYWxlKFtdLHJbaV0sMjAwKSxoPU1hdGgubWF4KDAsMSsuMDEqdCooMSpzKCktLjUpKSx1PU1hdGgubWF4KDAsMSsuMDEqbyooMSpzKCktLjUpKTtuLmVtcGxhY2VCYWNrKGNbMF0sY1sxXSxjWzJdLC0xLC0xLGgsdSksbi5lbXBsYWNlQmFjayhjWzBdLGNbMV0sY1syXSwxLC0xLGgsdSksbi5lbXBsYWNlQmFjayhjWzBdLGNbMV0sY1syXSwxLDEsaCx1KSxuLmVtcGxhY2VCYWNrKGNbMF0sY1sxXSxjWzJdLC0xLDEsaCx1KSxhLmVtcGxhY2VCYWNrKGwrMCxsKzEsbCsyKSxhLmVtcGxhY2VCYWNrKGwrMCxsKzIsbCszKSxsKz00O310aGlzLnN0YXJzVng9aS5jcmVhdGVWZXJ0ZXhCdWZmZXIobixGcy5tZW1iZXJzKSx0aGlzLnN0YXJzSWR4PWkuY3JlYXRlSW5kZXhCdWZmZXIoYSksdGhpcy5zdGFyc1NlZ21lbnRzPWUuYUIuc2ltcGxlU2VnbWVudCgwLDAsbi5sZW5ndGgsYS5sZW5ndGgpO319ZGVzdHJveSgpe3RoaXMuYXRtb3NwaGVyZUJ1ZmZlciYmdGhpcy5hdG1vc3BoZXJlQnVmZmVyLmRlc3Ryb3koKSx0aGlzLnN0YXJzVngmJnRoaXMuc3RhcnNWeC5kZXN0cm95KCksdGhpcy5zdGFyc0lkeCYmdGhpcy5zdGFyc0lkeC5kZXN0cm95KCk7fWRyYXdBdG1vc3BoZXJlR2xvdyh0LGkpe2NvbnN0IG89dC5jb250ZXh0LHI9by5nbCxzPXQudHJhbnNmb3JtLG49bmV3IEx0KHIuTEVRVUFMLEx0LlJlYWRPbmx5LFswLDFdKSxhPWUuUyhzLnpvb20pLGw9aS5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLGM9aS5wcm9wZXJ0aWVzLmdldChcImhpZ2gtY29sb3JcIikudG9BcnJheTAxKCksaD1pLnByb3BlcnRpZXMuZ2V0KFwic3BhY2UtY29sb3JcIikudG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCksdT01ZS00LGQ9ZS5jUShpLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSwwLDEsdSwuMjUpLF89ZS5jZCh0LG8scykmJmQ9PT11P3Mud29ybGRTaXplLygyKk1hdGguUEkqMS4wMjUpLTE6cy5nbG9iZVJhZGl1cyxwPXQuZnJhbWVDb3VudGVyLzFlMyUxLGY9ZS5OLmxlbmd0aChzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLG09TWF0aC5zcXJ0KE1hdGgucG93KGYsMiktTWF0aC5wb3coXywyKSksZz1NYXRoLmFjb3MobS9mKSx2PWU9Pntjb25zdCBpPVwiZ2xvYmVcIj09PXMucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXTtlJiZpLnB1c2goXCJBTFBIQV9QQVNTXCIpO2NvbnN0IHU9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIix7ZGVmaW5lczppfSksXz0oKGUsdCxpLG8scixzLG4sYSxsLGMsaCx1KT0+KHt1X2ZydXN0dW1fdGw6ZSx1X2ZydXN0dW1fdHI6dCx1X2ZydXN0dW1fYnI6aSx1X2ZydXN0dW1fYmw6byx1X2hvcml6b246cix1X3RyYW5zaXRpb246cyx1X2ZhZGVvdXRfcmFuZ2U6bix1X2NvbG9yOmEsdV9oaWdoX2NvbG9yOmwsdV9zcGFjZV9jb2xvcjpjLHVfdGVtcG9yYWxfb2Zmc2V0OmgsdV9ob3Jpem9uX2FuZ2xlOnV9KSkocy5mcnVzdHVtQ29ybmVycy5UTCxzLmZydXN0dW1Db3JuZXJzLlRSLHMuZnJ1c3R1bUNvcm5lcnMuQlIscy5mcnVzdHVtQ29ybmVycy5CTCxzLmZydXN0dW1Db3JuZXJzLmhvcml6b24sYSxkLGwsYyxoLHAsZyk7dC51cGxvYWRDb21tb25Vbmlmb3JtcyhvLHUpO2NvbnN0IGY9dGhpcy5hdG1vc3BoZXJlQnVmZmVyO2YmJnUuZHJhdyh0LHIuVFJJQU5HTEVTLG4sUnQuZGlzYWJsZWQsZT90aGlzLmNvbG9yTW9kZVdyaXRlQWxwaGE6dGhpcy5jb2xvck1vZGVBbHBoYUJsZW5kZWRXcml0ZVJHQixGdC5iYWNrQ1csXyxlP1wiYXRtb3NwaGVyZV9nbG93X2FscGhhXCI6XCJhdG1vc3BoZXJlX2dsb3dcIixmLnZlcnRleEJ1ZmZlcixmLmluZGV4QnVmZmVyLGYuc2VnbWVudHMpO307dighMSksdighMCk7fWRyYXdTdGFycyh0LGkpe2NvbnN0IG89ZS5hYShpLnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxKTtpZigwPT09bylyZXR1cm47Y29uc3Qgcj10LmNvbnRleHQscz1yLmdsLG49dC50cmFuc2Zvcm0sYT10LmdldE9yQ3JlYXRlUHJvZ3JhbShcInN0YXJzXCIpLGw9ZS5iaS5pZGVudGl0eShbXSk7ZS5iaS5yb3RhdGVYKGwsbCwtbi5fcGl0Y2gpLGUuYmkucm90YXRlWihsLGwsLW4uYW5nbGUpLGUuYmkucm90YXRlWChsLGwsZS5iaihuLl9jZW50ZXIubGF0KSksZS5iaS5yb3RhdGVZKGwsbCwtZS5iaihuLl9jZW50ZXIubG5nKSk7Y29uc3QgYz1lLmE2LmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGwpLGg9ZS5hNi5tdWx0aXBseShbXSxuLnN0YXJzUHJvak1hdHJpeCxjKSx1PWUuY28uZnJvbU1hdDQoW10sYyksZD1lLmNvLmludmVydChbXSx1KSxfPVswLDEsMF07ZS5OLnRyYW5zZm9ybU1hdDMoXyxfLGQpLGUuTi5zY2FsZShfLF8sdGhpcy5wYXJhbXMuc2l6ZU11bHRpcGxpZXIpO2NvbnN0IHA9WzEsMCwwXTtlLk4udHJhbnNmb3JtTWF0MyhwLHAsZCksZS5OLnNjYWxlKHAscCx0aGlzLnBhcmFtcy5zaXplTXVsdGlwbGllcik7Y29uc3QgZj0obT1fLGc9cCx2PW8se3VfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGgpLHVfdXA6bSx1X3JpZ2h0OmcsdV9pbnRlbnNpdHlfbXVsdGlwbGllcjp2fSk7dmFyIG0sZyx2O3QudXBsb2FkQ29tbW9uVW5pZm9ybXMocixhKSx0aGlzLnN0YXJzVngmJnRoaXMuc3RhcnNJZHgmJmEuZHJhdyh0LHMuVFJJQU5HTEVTLEx0LmRpc2FibGVkLFJ0LmRpc2FibGVkLHRoaXMuY29sb3JNb2RlQWxwaGFCbGVuZGVkV3JpdGVSR0IsRnQuZGlzYWJsZWQsZixcImF0bW9zcGhlcmVfc3RhcnNcIix0aGlzLnN0YXJzVngsdGhpcy5zdGFyc0lkeCx0aGlzLnN0YXJzU2VnbWVudHMpO319ZnVuY3Rpb24gTnModCxpKXtjb25zdCBvPVsuLi50XSxyPWkuY2FtZXJhV29ybGRTaXplRm9yRm9nL2kud29ybGRTaXplLHM9ZS5hNi5pZGVudGl0eShbXSk7cmV0dXJuIGUuYTYuc2NhbGUocyxzLFtyLHIsMV0pLGUuYTYubXVsdGlwbHkobyxzLG8pLGUuYTYubXVsdGlwbHkobyxpLndvcmxkVG9Gb2dNYXRyaXgsbyksb31mdW5jdGlvbiBVcyhlLHQsaSxvKXtjb25zdCByPWkubWF0ZXJpYWwscz1vLmNvbnRleHQse2Jhc2VDb2xvclRleHR1cmU6bixtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6YX09ci5wYnJNZXRhbGxpY1JvdWdobmVzcyx7bm9ybWFsVGV4dHVyZTpsLG9jY2x1c2lvblRleHR1cmU6YyxlbWlzc2lvblRleHR1cmU6aH09cjtmdW5jdGlvbiB1KHQsaSxvKXtpZih0JiYoZS5wdXNoKGkpLHMuYWN0aXZlVGV4dHVyZS5zZXQocy5nbC5URVhUVVJFMCtvKSx0LmdmeFRleHR1cmUpKXtjb25zdHttaW5GaWx0ZXI6ZSxtYWdGaWx0ZXI6aSx3cmFwUzpvLHdyYXBUOnJ9PXQuc2FtcGxlcjt0LmdmeFRleHR1cmUuYmluZEV4dHJhUGFyYW0oZSxpLG8scik7fX11KG4sXCJIQVNfVEVYVFVSRV91X2Jhc2VDb2xvclRleHR1cmVcIixnby5CYXNlQ29sb3IpLHUoYSxcIkhBU19URVhUVVJFX3VfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXCIsZ28uTWV0YWxsaWNSb3VnaG5lc3MpLHUobCxcIkhBU19URVhUVVJFX3Vfbm9ybWFsVGV4dHVyZVwiLGdvLk5vcm1hbCksdShjLFwiSEFTX1RFWFRVUkVfdV9vY2NsdXNpb25UZXh0dXJlXCIsZ28uT2NjbHVzaW9uKSx1KGgsXCJIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZVwiLGdvLkVtaXNzaW9uKSxpLnRleGNvb3JkQnVmZmVyJiYoZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX3V2XzJmXCIpLHQucHVzaChpLnRleGNvb3JkQnVmZmVyKSksaS5jb2xvckJ1ZmZlciYmKGUucHVzaCgxMj09PWkuY29sb3JCdWZmZXIuaXRlbVNpemU/XCJIQVNfQVRUUklCVVRFX2FfY29sb3JfM2ZcIjpcIkhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlwiKSx0LnB1c2goaS5jb2xvckJ1ZmZlcikpLGkubm9ybWFsQnVmZmVyJiYoZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlwiKSx0LnB1c2goaS5ub3JtYWxCdWZmZXIpKSxpLnBickJ1ZmZlciYmKGUucHVzaChcIkhBU19BVFRSSUJVVEVfYV9wYnJcIiksZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFwiKSx0LnB1c2goaS5wYnJCdWZmZXIpKSxcIk9QQVFVRVwiIT09ci5hbHBoYU1vZGUmJlwiTUFTS1wiIT09ci5hbHBoYU1vZGV8fGUucHVzaChcIlVOUFJFTVVMVF9URVhUVVJFX0lOX1NIQURFUlwiKSxyLmRlZmluZWR8fGUucHVzaChcIkRJRkZVU0VfU0hBREVEXCIpLGUucHVzaChcIlVTRV9TVEFOREFSRF9ERVJJVkFUSVZFU1wiKTt9ZnVuY3Rpb24gR3ModCxpLG8scixzLG4pe2NvbnN0IGE9by5wYWludC5nZXQoXCJtb2RlbC1vcGFjaXR5XCIpLGw9aS5jb250ZXh0LGM9bmV3IEx0KGkuY29udGV4dC5nbC5MRVFVQUwsTHQuUmVhZFdyaXRlLGkuZGVwdGhSYW5nZUZvcjNEKSxoPWkudHJhbnNmb3JtLHU9dC5tZXNoLGQ9dS5tYXRlcmlhbCxfPWQucGJyTWV0YWxsaWNSb3VnaG5lc3MscD1pLnN0eWxlLmZvZztsZXQgZjtmPVwicGl4ZWxzXCI9PT1pLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnpBeGlzVW5pdD9bLi4udC5ub2RlTW9kZWxNYXRyaXhdOmUuYTYubXVsdGlwbHkoW10sci56U2NhbGVNYXRyaXgsdC5ub2RlTW9kZWxNYXRyaXgpLGUuYTYubXVsdGlwbHkoZixyLm5lZ0NhbWVyYVBvc01hdHJpeCxmKTtjb25zdCBtPWUuYTYuaW52ZXJ0KFtdLGYpO2UuYTYudHJhbnNwb3NlKG0sbSk7Y29uc3QgZz1vLnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLmNvbnN0YW50T3IoMCksdj0kcihuZXcgRmxvYXQzMkFycmF5KHQud29ybGRWaWV3UHJvamVjdGlvbiksbmV3IEZsb2F0MzJBcnJheShmKSxuZXcgRmxvYXQzMkFycmF5KG0pLGksYSxfLmJhc2VDb2xvckZhY3RvcixkLmVtaXNzaXZlRmFjdG9yLF8ubWV0YWxsaWNGYWN0b3IsXy5yb3VnaG5lc3NGYWN0b3IsZCxnLG8pLHg9e2RlZmluZXM6W119LHk9W107VXMoeC5kZWZpbmVzLHksdSxpKTtjb25zdCBiPWkuc2hhZG93UmVuZGVyZXI7YiYmKGIudXNlTm9ybWFsT2Zmc2V0PSExKTtsZXQgdz1udWxsO2lmKHApe2NvbnN0IGU9TnModC5ub2RlTW9kZWxNYXRyaXgsaS50cmFuc2Zvcm0pO2lmKHc9bmV3IEZsb2F0MzJBcnJheShlKSxcImdsb2JlXCIhPT1oLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD11LmFhYmIubWluLGk9dS5hYWJiLm1heCxbbyxyXT1wLmdldE9wYWNpdHlGb3JCb3VuZHMoZSx0WzBdLHRbMV0saVswXSxpWzFdKTt4Lm92ZXJyaWRlRm9nPW8+PW1lfHxyPj1tZTt9fWNvbnN0IFQ9dm8oaSxvLnBhaW50LmdldChcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCIpKTtULnNob3VsZFJlbmRlckN1dG9mZiYmeC5kZWZpbmVzLnB1c2goXCJSRU5ERVJfQ1VUT0ZGXCIpO2NvbnN0IEU9aS5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbFwiLHgpO2kudXBsb2FkQ29tbW9uVW5pZm9ybXMobCxFLG51bGwsdyxUKSxcInNoYWRvd1wiIT09aS5yZW5kZXJQYXNzJiZiJiZiLnNldHVwU2hhZG93c0Zyb21NYXRyaXgodC5ub2RlTW9kZWxNYXRyaXgsRSksRS5kcmF3KGksbC5nbC5UUklBTkdMRVMsYyxzLG4sdS5tYXRlcmlhbC5kb3VibGVTaWRlZD9GdC5kaXNhYmxlZDpGdC5iYWNrQ0NXLHYsby5pZCx1LnZlcnRleEJ1ZmZlcix1LmluZGV4QnVmZmVyLHUuc2VnbWVudHMsby5wYWludCxpLnRyYW5zZm9ybS56b29tLHZvaWQgMCx5KTt9ZnVuY3Rpb24ganModCxpLG8scixzLG4sYSl7bGV0IGw7bD1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT9lLmNTKG8sdCk6Wy4uLm9dLGUuYTYubXVsdGlwbHkobCxsLGkubWF0cml4KTtjb25zdCBjPWUuYTYubXVsdGlwbHkoW10scixsKTtpZihpLm1lc2hlcylmb3IoY29uc3QgdCBvZiBpLm1lc2hlcyl7aWYoXCJCTEVORFwiIT09dC5tYXRlcmlhbC5hbHBoYU1vZGUpe2EucHVzaCh7bWVzaDp0LGRlcHRoOjAsbW9kZWxJbmRleDpzLHdvcmxkVmlld1Byb2plY3Rpb246Yyxub2RlTW9kZWxNYXRyaXg6bH0pO2NvbnRpbnVlfWNvbnN0IGk9ZS5OLnRyYW5zZm9ybU1hdDQoW10sdC5jZW50cm9pZCxjKTtpWzJdPjAmJm4ucHVzaCh7bWVzaDp0LGRlcHRoOmlbMl0sbW9kZWxJbmRleDpzLHdvcmxkVmlld1Byb2plY3Rpb246Yyxub2RlTW9kZWxNYXRyaXg6bH0pO31pZihpLmNoaWxkcmVuKWZvcihjb25zdCBlIG9mIGkuY2hpbGRyZW4panModCxlLG8scixzLG4sYSk7fWZ1bmN0aW9uIFZzKGUsdCxpLG8pe2NvbnN0IHI9aS5zaGFkb3dSZW5kZXJlcjtpZighcilyZXR1cm47Y29uc3Qgcz1yLmdldFNoYWRvd1Bhc3NEZXB0aE1vZGUoKSxuPXIuZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpLGE9ci5jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeCh0KSxsPUtyKGEpO2kuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxEZXB0aFwiLHtkZWZpbmVzOmkuX3NoYWRvd01hcERlYnVnP1tdOltcIkRFUFRIX1RFWFRVUkVcIl19KS5kcmF3KGksaS5jb250ZXh0LmdsLlRSSUFOR0xFUyxzLFJ0LmRpc2FibGVkLG4sRnQuYmFja0NDVyxsLG8uaWQsZS52ZXJ0ZXhCdWZmZXIsZS5pbmRleEJ1ZmZlcixlLnNlZ21lbnRzLG8ucGFpbnQsaS50cmFuc2Zvcm0uem9vbSx2b2lkIDAsdm9pZCAwKTt9ZnVuY3Rpb24gWnModCxpLG8pe2NvbnN0IHI9aS51cGRhdGVab29tQmFzZWRQYWludFByb3BlcnRpZXMoKSxzPWZ1bmN0aW9uKHQsaSxvKXtsZXQgcixzLG4sYT10LnRlcnJhaW4/dC50ZXJyYWluLmV4YWdnZXJhdGlvbigpOjA7aWYodC50ZXJyYWluJiZhPjApe2NvbnN0IGk9dC50ZXJyYWluLHM9aS5maW5kREVNVGlsZUZvcihvKTtzJiZzLmRlbT9yPWUuY1UuY3JlYXRlKGksbyxzKTphPTA7fWlmKDA9PT1hJiYoaS50ZXJyYWluRWxldmF0aW9uTWluPTAsaS50ZXJyYWluRWxldmF0aW9uTWF4PTApLGE9PT1pLnZhbGlkRm9yRXhhZ2dlcmF0aW9uJiYoMD09PWF8fHImJnIuX2RlbVRpbGUmJnIuX2RlbVRpbGUudGlsZUlEPT09aS52YWxpZEZvckRFTVRpbGUuaWQmJnIuX2RlbS5fdGltZXN0YW1wPT09aS52YWxpZEZvckRFTVRpbGUudGltZXN0YW1wKSlyZXR1cm4gITE7Zm9yKGNvbnN0IGUgaW4gaS5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3QgdD1pLmluc3RhbmNlc1Blck1vZGVsW2VdO2ZvcihsZXQgZT0wO2U8dC5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoOysrZSl7Y29uc3Qgbz0ocj9hKnIuZ2V0RWxldmF0aW9uQXQoMHx0Lmluc3RhbmNlZERhdGFBcnJheS5mbG9hdDMyWzE2KmVdLDB8dC5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMlsxNiplKzFdLCEwLCEwKTowKSt0Lmluc3RhbmNlc0V2YWx1YXRlZEVsZXZhdGlvbltlXTt0Lmluc3RhbmNlZERhdGFBcnJheS5mbG9hdDMyWzE2KmUrNl09byxzPXM/TWF0aC5taW4oaS50ZXJyYWluRWxldmF0aW9uTWluLG8pOm8sbj1uP01hdGgubWF4KGkudGVycmFpbkVsZXZhdGlvbk1heCxvKTpvO319cmV0dXJuIGkudGVycmFpbkVsZXZhdGlvbk1pbj1zfHwwLGkudGVycmFpbkVsZXZhdGlvbk1heD1ufHwwLGkudmFsaWRGb3JFeGFnZ2VyYXRpb249YSxpLnZhbGlkRm9yREVNVGlsZT1yJiZyLl9kZW1UaWxlP3tpZDpyLl9kZW1UaWxlLnRpbGVJRCx0aW1lc3RhbXA6ci5fZGVtLl90aW1lc3RhbXB9OntpZDp2b2lkIDAsdGltZXN0YW1wOjB9LCEwfSh0LGksbyk7KHJ8fHMpJiYoaS51cGxvYWRlZD0hMSxpLnVwbG9hZCh0LmNvbnRleHQpKTt9Y29uc3QgSHM9e3NoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ6ITEsdXNlU2luZ2xlU2hhZG93Q2FzY2FkZTohMSx0aWxlTWF0cml4Om5ldyBGbG9hdDY0QXJyYXkoMTYpLHNoYWRvd1RpbGVNYXRyaXg6bmV3IEZsb2F0MzJBcnJheSgxNiksYWFiYjpuZXcgZS5iUyhbMCwwLDBdLFtlLlYsZS5WLDBdKX07ZnVuY3Rpb24gV3ModCxpKXtjb25zdCBvPTE8PHQuY2Fub25pY2FsLnoscj1pLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24scz1pLmVsZXZhdGlvbixuPXQuY2Fub25pY2FsLngvbyxhPSh0LmNhbm9uaWNhbC54KzEpL28sbD10LmNhbm9uaWNhbC55L28sYz0odC5jYW5vbmljYWwueSsxKS9vO2xldCBoPWkuX2NlbnRlckFsdGl0dWRlO2lmKHMpe2NvbnN0IGU9cy5nZXRNaW5NYXhGb3JUaWxlKHQpO2UmJmUubWF4PmgmJihoPWUubWF4KTt9Y29uc3QgdT1lLmFhKHIueCxuLGEpLXIueCxkPWUuYWEoci55LGwsYyktci55LF89ZS5ibChoLGkuY2VudGVyLmxhdCktci56O3JldHVybiBpLl96b29tRnJvbU1lcmNhdG9yWihNYXRoLnNxcnQodSp1K2QqZCtfKl8pKX1mdW5jdGlvbiBxcyhlLHQsaSxvLHIscyxuKXtjb25zdCBhPWUuY29udGV4dCxsPVwic2hhZG93XCI9PT1lLnJlbmRlclBhc3MsYz1lLnNoYWRvd1JlbmRlcmVyLGg9bCYmYz9jLmdldFNoYWRvd1Bhc3NEZXB0aE1vZGUoKTpuZXcgTHQoYS5nbC5MRVFVQUwsTHQuUmVhZFdyaXRlLGUuZGVwdGhSYW5nZUZvcjNEKSx1PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhzKTtpZihpLm1lc2hlcylmb3IoY29uc3QgZCBvZiBpLm1lc2hlcyl7Y29uc3QgXz1bXCJNT0RFTF9QT1NJVElPTl9PTl9HUFVcIl0scD1bXTtsZXQgZixtLGc7by5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoPjIwJiZfLnB1c2goXCJJTlNUQU5DRURfQVJSQVlTXCIpO2NvbnN0IHY9dm8oZSx0LnBhaW50LmdldChcIm1vZGVsLWN1dG9mZi1mYWRlLXJhbmdlXCIpKTtpZih2LnNob3VsZFJlbmRlckN1dG9mZiYmXy5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKSxsJiZjKWY9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbERlcHRoXCIse2RlZmluZXM6X30pLG09S3Iobi5zaGFkb3dUaWxlTWF0cml4LG4uc2hhZG93VGlsZU1hdHJpeCxGbG9hdDMyQXJyYXkuZnJvbShpLm1hdHJpeCkpLGc9Yy5nZXRTaGFkb3dQYXNzQ29sb3JNb2RlKCk7ZWxzZSB7VXMoXyxwLGQsZSksZj1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcIm1vZGVsXCIse2RlZmluZXM6XyxvdmVycmlkZUZvZzp1fSk7Y29uc3Qgbz1kLm1hdGVyaWFsLGw9by5wYnJNZXRhbGxpY1JvdWdobmVzcyxoPXQucGFpbnQuZ2V0KFwibW9kZWwtb3BhY2l0eVwiKSx4PXQucGFpbnQuZ2V0KFwibW9kZWwtZW1pc3NpdmUtc3RyZW5ndGhcIikuY29uc3RhbnRPcigwKTttPSRyKHMuZXhwYW5kZWRQcm9qTWF0cml4LEZsb2F0MzJBcnJheS5mcm9tKGkubWF0cml4KSxuZXcgRmxvYXQzMkFycmF5KDE2KSxlLGgsbC5iYXNlQ29sb3JGYWN0b3Isby5lbWlzc2l2ZUZhY3RvcixsLm1ldGFsbGljRmFjdG9yLGwucm91Z2huZXNzRmFjdG9yLG8seCx0LHIpLGMmJihuLnNoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ/Zi5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKGEsYy5nZXRTaGFkb3dVbmlmb3JtVmFsdWVzKCkpOihjLnNldHVwU2hhZG93cyhzLnRvVW53cmFwcGVkKCksZixcIm1vZGVsLXRpbGVcIixzLm92ZXJzY2FsZWRaKSxuLnNoYWRvd1VuaWZvcm1zSW5pdGlhbGl6ZWQ9ITApKSxnPXYuc2hvdWxkUmVuZGVyQ3V0b2ZmfHxoPDF8fFwiT1BBUVVFXCIhPT1vLmFscGhhTW9kZT9NdC5hbHBoYUJsZW5kZWQ6TXQudW5ibGVuZGVkO31lLnVwbG9hZENvbW1vblVuaWZvcm1zKGEsZixzLnRvVW53cmFwcGVkKCksbnVsbCx2KTtjb25zdCB4PWQubWF0ZXJpYWwuZG91YmxlU2lkZWQ/RnQuZGlzYWJsZWQ6RnQuYmFja0NDVztpZihvLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGg+MjApcC5wdXNoKG8uaW5zdGFuY2VkRGF0YUJ1ZmZlciksZi5kcmF3KGUsYS5nbC5UUklBTkdMRVMsaCxSdC5kaXNhYmxlZCxnLHgsbSx0LmlkLGQudmVydGV4QnVmZmVyLGQuaW5kZXhCdWZmZXIsZC5zZWdtZW50cyx0LnBhaW50LGUudHJhbnNmb3JtLnpvb20sdm9pZCAwLHAsby5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoKTtlbHNlIHtjb25zdCBpPWw/XCJ1X2luc3RhbmNlXCI6XCJ1X25vcm1hbF9tYXRyaXhcIjtmb3IobGV0IHI9MDtyPG8uaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aDsrK3IpbVtpXT1uZXcgRmxvYXQzMkFycmF5KG8uaW5zdGFuY2VkRGF0YUFycmF5LmFycmF5QnVmZmVyLDY0KnIsMTYpLGYuZHJhdyhlLGEuZ2wuVFJJQU5HTEVTLGgsUnQuZGlzYWJsZWQsZyx4LG0sdC5pZCxkLnZlcnRleEJ1ZmZlcixkLmluZGV4QnVmZmVyLGQuc2VnbWVudHMsdC5wYWludCxlLnRyYW5zZm9ybS56b29tLHZvaWQgMCxwKTt9fWlmKGkuY2hpbGRyZW4pZm9yKGNvbnN0IGEgb2YgaS5jaGlsZHJlbilxcyhlLHQsYSxvLHIscyxuKTt9Y29uc3QgJHM9WzEsLTEsMV07ZnVuY3Rpb24gWHModCxpLG8scil7aWYoIW8ubW9kZWxNYW5hZ2VyKXJldHVybiAhMDtjb25zdCBzPW8ubW9kZWxNYW5hZ2VyO2lmKCFvLnNoYWRvd1JlbmRlcmVyKXJldHVybiAhMDtjb25zdCBuPW8uc2hhZG93UmVuZGVyZXIsYT1pLmFhYmI7bGV0IGw9ITAsYz10Lm1heEhlaWdodDtpZigwPT09Yyl7bGV0IGU9MDtmb3IoY29uc3QgaSBpbiB0Lmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCB0PXMuZ2V0TW9kZWwoaSxyKTt0P2U9TWF0aC5tYXgoZSxNYXRoLm1heChNYXRoLm1heCh0LmFhYmIubWF4WzBdLHQuYWFiYi5tYXhbMV0pLHQuYWFiYi5tYXhbMl0pKTpsPSExO31jPXQubWF4U2NhbGUqZSoxLjQxK3QubWF4VmVydGljYWxPZmZzZXQsbCYmKHQubWF4SGVpZ2h0PWMpO31hLm1heFsyXT1jLGEubWluWzJdKz10LnRlcnJhaW5FbGV2YXRpb25NaW4sYS5tYXhbMl0rPXQudGVycmFpbkVsZXZhdGlvbk1heCxlLk4udHJhbnNmb3JtTWF0NChhLm1pbixhLm1pbixpLnRpbGVNYXRyaXgpLGUuTi50cmFuc2Zvcm1NYXQ0KGEubWF4LGEubWF4LGkudGlsZU1hdHJpeCk7Y29uc3QgaD1hLmludGVyc2VjdHMobi5nZXRDdXJyZW50Q2FzY2FkZUZydXN0dW0oKSk7cmV0dXJuIDA9PT1vLmN1cnJlbnRTaGFkb3dDYXNjYWRlJiYodC5pc0luc2lkZUZpcnN0U2hhZG93TWFwRnJ1c3R1bT0yPT09aCksMD09PWh9Y2xhc3MgS3N7fWNsYXNzIFlze2NvbnN0cnVjdG9yKCl7dGhpcy5fc3RvcmFnZT1uZXcgTWFwO31nZXRMaW5lc0Zyb21UcmlhbmdsZXNCdWZmZXIodCxpLG8pe3tjb25zdCBlPXRoaXMuX3N0b3JhZ2UuZ2V0KGkuaWQpO2lmKGUpcmV0dXJuIGUubGFzdFVzZWRGcmFtZUlkeD10LGUuYnVmfWNvbnN0IHI9by5nbCxzPXIuZ2V0QnVmZmVyUGFyYW1ldGVyKHIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsci5CVUZGRVJfU0laRSksbj1uZXcgQXJyYXlCdWZmZXIocyksYT1uZXcgSW50MTZBcnJheShuKTtyLmdldEJ1ZmZlclN1YkRhdGEoci5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLG5ldyBJbnQxNkFycmF5KG4pKTtjb25zdCBsPW5ldyBlLmNXO2ZvcihsZXQgZT0wO2U8cy8yO2UrPTMpe2NvbnN0IHQ9YVtlXSxpPWFbZSsxXSxvPWFbZSsyXTtsLmVtcGxhY2VCYWNrKHQsaSksbC5lbXBsYWNlQmFjayhpLG8pLGwuZW1wbGFjZUJhY2sobyx0KTt9Y29uc3QgYz1vLmJpbmRWZXJ0ZXhBcnJheU9FUy5jdXJyZW50LGg9bmV3IEtzO3JldHVybiBoLmJ1Zj1uZXcgamUobyxsKSxoLmxhc3RVc2VkRnJhbWVJZHg9dCx0aGlzLl9zdG9yYWdlLnNldChpLmlkLGgpLG8uYmluZFZlcnRleEFycmF5T0VTLnNldChjKSxoLmJ1Zn11cGRhdGUoZSl7Zm9yKGNvbnN0W3QsaV1vZiB0aGlzLl9zdG9yYWdlKWUtaS5sYXN0VXNlZEZyYW1lSWR4PjMwJiYoaS5idWYuZGVzdHJveSgpLHRoaXMuX3N0b3JhZ2UuZGVsZXRlKHQpKTt9ZGVzdHJveSgpe2Zvcihjb25zdFtlLHRdb2YgdGhpcy5fc3RvcmFnZSl0LmJ1Zi5kZXN0cm95KCksdGhpcy5fc3RvcmFnZS5kZWxldGUoZSk7fX1jbGFzcyBKc3tyZWdpc3RlclBhcmFtZXRlcihlLHQsaSxvLHIpe31yZWdpc3RlckJ1dHRvbihlLHQsaSl7fX1jb25zdCBRcz17c3ltYm9sOmZ1bmN0aW9uKHQsaSxvLHIscyl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBuPVJ0LmRpc2FibGVkLGE9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7by5sYXlvdXQuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikmJmZ1bmN0aW9uKHQsaSxvLHIscyxuLGEpe2NvbnN0IGw9aS50cmFuc2Zvcm0sYz1cIm1hcFwiPT09cyxoPVwibWFwXCI9PT1uO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9ci5nZXRUaWxlKGkpLHM9dC5nZXRCdWNrZXQobyk7aWYoIXN8fCFzLnRleHR8fCFzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG49ZS5iNShzLnRleHRTaXplRGF0YSxsLnpvb20pLHU9emkoaSxzLmdldFByb2plY3Rpb24oKSxsKSxkPWwuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCksXz1maSh1LHQudGlsZUlELmNhbm9uaWNhbCxoLGMsbCxzLmdldFByb2plY3Rpb24oKSxkKSxwPXMuaGFzSWNvblRleHRGaXQoKSYmcy5oYXNJY29uRGF0YSgpO2lmKG4pe2NvbnN0IG89TWF0aC5wb3coMixsLnpvb20tdC50aWxlSUQub3ZlcnNjYWxlZFopO29zKHMsYyxoLGEsZS5jeCxsLF8saSxvLG4scCk7fX19KHIsdCxvLGksby5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksby5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIikscyk7Y29uc3QgbD0wIT09by5wYWludC5nZXQoXCJpY29uLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSxjPTAhPT1vLnBhaW50LmdldChcInRleHQtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpO3ZvaWQgMCE9PW8ubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpJiYobHx8Yyk/cnModCxpLG8scixuLGEpOihsJiZycyh0LGksbyxyLG4sYSx7b25seUljb25zOiEwfSksYyYmcnModCxpLG8scixuLGEse29ubHlUZXh0OiEwfSkpLGkubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKFFyKHQsaSxvLHIsby5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxvLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSwhMCksUXIodCxpLG8scixvLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLCExKSk7fSxjaXJjbGU6ZnVuY3Rpb24odCxpLG8scil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBzPW8ucGFpbnQuZ2V0KFwiY2lyY2xlLW9wYWNpdHlcIiksbj1vLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utd2lkdGhcIiksYT1vLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiKSxsPXZvaWQgMCE9PW8ubGF5b3V0LmdldChcImNpcmNsZS1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpLGM9by5wYWludC5nZXQoXCJjaXJjbGUtZW1pc3NpdmUtc3RyZW5ndGhcIik7aWYoMD09PXMuY29uc3RhbnRPcigxKSYmKDA9PT1uLmNvbnN0YW50T3IoMSl8fDA9PT1hLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBoPXQuY29udGV4dCx1PWguZ2wsZD10LnRyYW5zZm9ybSxfPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxMdC5SZWFkT25seSkscD1SdC5kaXNhYmxlZCxmPXQuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoYyksbT1cImdsb2JlXCI9PT1kLnByb2plY3Rpb24ubmFtZSxnPVtlLmE1KGQuY2VudGVyLmxuZyksZS5hZShkLmNlbnRlci5sYXQpXSx2PVtdO2ZvcihsZXQgcz0wO3M8ci5sZW5ndGg7cysrKXtjb25zdCBuPXJbc10sYT1pLmdldFRpbGUobiksYz1hLmdldEJ1Y2tldChvKTtpZighY3x8Yy5wcm9qZWN0aW9uLm5hbWUhPT1kLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCBoPWMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSx1PWUuY3kobyksXz10LmlzVGlsZUFmZmVjdGVkQnlGb2cobik7bSYmdS5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpO2NvbnN0IHA9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJjaXJjbGVcIix7Y29uZmlnOmgsZGVmaW5lczp1LG92ZXJyaWRlRm9nOl99KSxmPWMubGF5b3V0VmVydGV4QnVmZmVyLHg9Yy5nbG9iZUV4dFZlcnRleEJ1ZmZlcix5PWMuaW5kZXhCdWZmZXIsYj1kLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGQsbi5jYW5vbmljYWwpLHc9e3Byb2dyYW1Db25maWd1cmF0aW9uOmgscHJvZ3JhbTpwLGxheW91dFZlcnRleEJ1ZmZlcjpmLGdsb2JlRXh0VmVydGV4QnVmZmVyOngsaW5kZXhCdWZmZXI6eSx1bmlmb3JtVmFsdWVzOmUuY3oodCxuLGEsYixnLG8pLHRpbGU6YX07aWYobCl7Y29uc3QgdD1jLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCBpIG9mIHQpdi5wdXNoKHtzZWdtZW50czpuZXcgZS5hQihbaV0pLHNvcnRLZXk6aS5zb3J0S2V5LHN0YXRlOnd9KTt9ZWxzZSB2LnB1c2goe3NlZ21lbnRzOmMuc2VnbWVudHMsc29ydEtleTowLHN0YXRlOnd9KTt9bCYmdi5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO2NvbnN0IHg9e3VzZURlcHRoRm9yT2NjbHVzaW9uOmQuZGVwdGhPY2NsdXNpb25Gb3JTeW1ib2xzQW5kQ2lyY2xlc307Zm9yKGNvbnN0IGUgb2Ygdil7Y29uc3R7cHJvZ3JhbUNvbmZpZ3VyYXRpb246aSxwcm9ncmFtOnIsbGF5b3V0VmVydGV4QnVmZmVyOnMsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6bixpbmRleEJ1ZmZlcjphLHVuaWZvcm1WYWx1ZXM6bCx0aWxlOmN9PWUuc3RhdGUsbT1lLnNlZ21lbnRzO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhjLHIseCksdC51cGxvYWRDb21tb25Vbmlmb3JtcyhoLHIsYy50aWxlSUQudG9VbndyYXBwZWQoKSksci5kcmF3KHQsdS5UUklBTkdMRVMsXyxwLGYsRnQuZGlzYWJsZWQsbCxvLmlkLHMsYSxtLG8ucGFpbnQsZC56b29tLGksW25dKTt9fSxoZWF0bWFwOmZ1bmN0aW9uKHQsaSxvLHIpe2lmKDAhPT1vLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSlpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBzPXQuY29udGV4dCxuPXMuZ2wsYT1SdC5kaXNhYmxlZCxsPW5ldyBNdChbbi5PTkUsbi5PTkUsbi5PTkUsbi5PTkVdLGUuYXgudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7IWZ1bmN0aW9uKGUsdCxpLG8pe2NvbnN0IHI9ZS5nbCxzPXQud2lkdGgqbyxuPXQuaGVpZ2h0Km87ZS5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUxKSxlLnZpZXdwb3J0LnNldChbMCwwLHMsbl0pO2xldCBhPWkuaGVhdG1hcEZibztpZighYXx8YSYmKGEud2lkdGghPT1zfHxhLmhlaWdodCE9PW4pKXthJiZhLmRlc3Ryb3koKTtjb25zdCB0PXIuY3JlYXRlVGV4dHVyZSgpO3IuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHQpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfUyxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfVCxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01JTl9GSUxURVIsci5MSU5FQVIpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01BR19GSUxURVIsci5MSU5FQVIpLGE9aS5oZWF0bWFwRmJvPWUuY3JlYXRlRnJhbWVidWZmZXIocyxuLCEwLG51bGwpLGZ1bmN0aW9uKGUsdCxpLG8scixzKXtjb25zdCBuPWUuZ2w7bi50ZXhJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLGUuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0P24uUkdCQTE2RjpuLlJHQkEscixzLDAsbi5SR0JBLGUuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0P24uSEFMRl9GTE9BVDpuLlVOU0lHTkVEX0JZVEUsbnVsbCksby5jb2xvckF0dGFjaG1lbnQuc2V0KGkpO30oZSwwLHQsYSxzLG4pO31lbHNlIHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELGEuY29sb3JBdHRhY2htZW50LmdldCgpKSxlLmJpbmRGcmFtZWJ1ZmZlci5zZXQoYS5mcmFtZWJ1ZmZlcik7fShzLHQsbyxcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/LjU6LjI1KSxzLmNsZWFyKHtjb2xvcjplLmF4LnRyYW5zcGFyZW50fSk7Y29uc3QgYz10LnRyYW5zZm9ybSxoPVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLHU9aD9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06W10sZD1oP0Z0LmZyb250Q0NXOkZ0LmRpc2FibGVkLF89W2UuYTUoYy5jZW50ZXIubG5nKSxlLmFlKGMuY2VudGVyLmxhdCldO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBwPXJbZV07aWYoaS5oYXNSZW5kZXJhYmxlUGFyZW50KHApKWNvbnRpbnVlO2NvbnN0IGY9aS5nZXRUaWxlKHApLG09Zi5nZXRCdWNrZXQobyk7aWYoIW18fG0ucHJvamVjdGlvbi5uYW1lIT09Yy5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgZz10LmlzVGlsZUFmZmVjdGVkQnlGb2cocCksdj1tLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCkseD10LmdldE9yQ3JlYXRlUHJvZ3JhbShcImhlYXRtYXBcIix7Y29uZmlnOnYsZGVmaW5lczp1LG92ZXJyaWRlRm9nOmd9KSx7em9vbTp5fT10LnRyYW5zZm9ybTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoZix4KSx0LnVwbG9hZENvbW1vblVuaWZvcm1zKHMseCxwLnRvVW53cmFwcGVkKCkpO2NvbnN0IGI9Yy5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChjLHAuY2Fub25pY2FsKTt4LmRyYXcodCxuLlRSSUFOR0xFUyxMdC5kaXNhYmxlZCxhLGwsZCx6cih0LHAsZixiLF8seSxvLnBhaW50LmdldChcImhlYXRtYXAtaW50ZW5zaXR5XCIpKSxvLmlkLG0ubGF5b3V0VmVydGV4QnVmZmVyLG0uaW5kZXhCdWZmZXIsbS5zZWdtZW50cyxvLnBhaW50LHQudHJhbnNmb3JtLnpvb20sdixoP1ttLmdsb2JlRXh0VmVydGV4QnVmZmVyXTpudWxsKTt9cy52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSk7fWVsc2UgXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiYodC5jb250ZXh0LnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24odCxpKXtjb25zdCBvPXQuY29udGV4dCxyPW8uZ2wscz1pLmhlYXRtYXBGYm87aWYoIXMpcmV0dXJuO28uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQscy5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLG8uYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSk7bGV0IG49aS5jb2xvclJhbXBUZXh0dXJlO258fChuPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UKG8saS5jb2xvclJhbXAsci5SR0JBKSksbi5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksdC5nZXRPckNyZWF0ZVByb2dyYW0oXCJoZWF0bWFwVGV4dHVyZVwiKS5kcmF3KHQsci5UUklBTkdMRVMsTHQuZGlzYWJsZWQsUnQuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRnQuZGlzYWJsZWQsKChlLHQsaSxvKT0+KHt1X2ltYWdlOjAsdV9jb2xvcl9yYW1wOjEsdV9vcGFjaXR5OnQucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpfSkpKDAsaSksaS5pZCx0LnZpZXdwb3J0QnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdC52aWV3cG9ydFNlZ21lbnRzLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSk7fSh0LG8pKTt9LGxpbmU6ZnVuY3Rpb24odCxpLG8scil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBzPW8ucGFpbnQuZ2V0KFwibGluZS1vcGFjaXR5XCIpLG49by5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpO2lmKDA9PT1zLmNvbnN0YW50T3IoMSl8fDA9PT1uLmNvbnN0YW50T3IoMSkpcmV0dXJuO2NvbnN0IGE9by5wYWludC5nZXQoXCJsaW5lLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLGw9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEx0LlJlYWRPbmx5KSxjPXQuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoYSksaD10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU/MTplLmYuZGV2aWNlUGl4ZWxSYXRpbyx1PW8ucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIiksZD11LmNvbnN0YW50T3IoMSksXz1vLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKSxwPW8ucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLGY9cC5jb25zdGFudE9yKDEpLG09by5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSxnPTEhPT1vLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpO2xldCB2PSFtJiZnO2NvbnN0IHg9by5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpLHk9Zj9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCIsYj10LmNvbnRleHQsdz1iLmdsLFQ9ZS5jQShvKTt0LnRlcnJhaW4mJnQudGVycmFpbi5jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCkmJih2PSExKTtmb3IoY29uc3QgcyBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShzKTtpZihmJiYhci5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IG49ci5nZXRCdWNrZXQobyk7aWYoIW4pY29udGludWU7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBhPW4ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChvLmlkKSxtPXQuaXNUaWxlQWZmZWN0ZWRCeUZvZyhzKSxnPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKHkse2NvbmZpZzphLGRlZmluZXM6VCxvdmVycmlkZUZvZzptfSksRT1wLmNvbnN0YW50T3IobnVsbCk7aWYoRSYmci5pbWFnZUF0bGFzKXtjb25zdCBlPXIuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW0UudG9TdHJpbmcoKV07ZSYmYS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSk7fWNvbnN0IFM9dS5jb25zdGFudE9yKG51bGwpLEM9Xy5jb25zdGFudE9yKG51bGwpO2lmKCFmJiZTJiZDJiZyLmxpbmVBdGxhcyl7Y29uc3QgZT1yLmxpbmVBdGxhcy5nZXREYXNoKFMsQyk7ZSYmYS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSk7fWxldFtJLERdPW8ucGFpbnQuZ2V0KFwibGluZS10cmltLW9mZnNldFwiKTtpZihcInJvdW5kXCI9PT1DfHxcInNxdWFyZVwiPT09Qyl7Y29uc3QgZT0xO0khPT1EJiYoMD09PUkmJihJLT1lKSwxPT09RCYmKEQrPWUpKTt9Y29uc3QgTD10LnRlcnJhaW4/cy5wcm9qTWF0cml4Om51bGwsQT1mP2UuY0IodCxyLG8sTCxoLFtJLERdKTplLmNDKHQscixvLEwsbi5saW5lQ2xpcHNBcnJheS5sZW5ndGgsaCxbSSxEXSk7aWYoeCl7Y29uc3Qgcj1uLmdyYWRpZW50c1tvLmlkXTtsZXQgYT1yLnRleHR1cmU7aWYoby5ncmFkaWVudFZlcnNpb24hPT1yLnZlcnNpb24pe2xldCBsPTI1NjtpZihvLnN0ZXBJbnRlcnBvbGFudCl7Y29uc3Qgbz1pLmdldFNvdXJjZSgpLm1heHpvb20scj1zLmNhbm9uaWNhbC56PT09bz9NYXRoLmNlaWwoMTw8dC50cmFuc2Zvcm0ubWF4Wm9vbS1zLmNhbm9uaWNhbC56KToxO2w9ZS5hYShlLmNEKG4ubWF4TGluZUxlbmd0aC9lLlYqMTAyNCpyKSwyNTYsYi5tYXhUZXh0dXJlU2l6ZSk7fXIuZ3JhZGllbnQ9ZS5jRSh7ZXhwcmVzc2lvbjpvLmdyYWRpZW50RXhwcmVzc2lvbigpLGV2YWx1YXRpb25LZXk6XCJsaW5lUHJvZ3Jlc3NcIixyZXNvbHV0aW9uOmwsaW1hZ2U6ci5ncmFkaWVudHx8dm9pZCAwLGNsaXBzOm4ubGluZUNsaXBzQXJyYXl9KSxyLnRleHR1cmU/ci50ZXh0dXJlLnVwZGF0ZShyLmdyYWRpZW50KTpyLnRleHR1cmU9bmV3IGUuVChiLHIuZ3JhZGllbnQsdy5SR0JBKSxyLnZlcnNpb249by5ncmFkaWVudFZlcnNpb24sYT1yLnRleHR1cmU7fWIuYWN0aXZlVGV4dHVyZS5zZXQody5URVhUVVJFMSksYS5iaW5kKG8uc3RlcEludGVycG9sYW50P3cuTkVBUkVTVDp3LkxJTkVBUix3LkNMQU1QX1RPX0VER0UpO31kJiYoYi5hY3RpdmVUZXh0dXJlLnNldCh3LlRFWFRVUkUwKSxyLmxpbmVBdGxhc1RleHR1cmUmJnIubGluZUF0bGFzVGV4dHVyZS5iaW5kKHcuTElORUFSLHcuUkVQRUFUKSxhLnVwZGF0ZVBhaW50QnVmZmVycygpKSxmJiYoYi5hY3RpdmVUZXh0dXJlLnNldCh3LlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlJiZyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQody5MSU5FQVIsdy5DTEFNUF9UT19FREdFKSxhLnVwZGF0ZVBhaW50QnVmZmVycygpKSx0LnVwbG9hZENvbW1vblVuaWZvcm1zKGIsZyxzLnRvVW53cmFwcGVkKCkpO2NvbnN0IFI9ZT0+e2cuZHJhdyh0LHcuVFJJQU5HTEVTLGwsZSxjLEZ0LmRpc2FibGVkLEEsby5pZCxuLmxheW91dFZlcnRleEJ1ZmZlcixuLmluZGV4QnVmZmVyLG4uc2VnbWVudHMsby5wYWludCx0LnRyYW5zZm9ybS56b29tLGEsW24ubGF5b3V0VmVydGV4QnVmZmVyMl0pO307aWYodil7Y29uc3QgZT10LnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcocykucmVmOzA9PT1lJiZ0LnRlcnJhaW4mJmIuY2xlYXIoe3N0ZW5jaWw6MH0pO2NvbnN0IGk9e2Z1bmM6dy5FUVVBTCxtYXNrOjI1NX07QS51X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkPS44LFIobmV3IFJ0KGksZSwyNTUsdy5LRUVQLHcuS0VFUCx3LklOVkVSVCkpLEEudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0wLFIobmV3IFJ0KGksZSwyNTUsdy5LRUVQLHcuS0VFUCx3LktFRVApKTt9ZWxzZSBSKHQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhzKSk7fXYmJih0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSx0LnRlcnJhaW4mJmIuY2xlYXIoe3N0ZW5jaWw6MH0pKTt9LGZpbGw6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz1vLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksbj1vLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09bi5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBhPW8ucGFpbnQuZ2V0KFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxsPXQuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoYSksYz1vLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxoPXQub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhYy5jb25zdGFudE9yKDEpJiYxPT09cy5jb25zdGFudE9yKGUuYXgudHJhbnNwYXJlbnQpLmEmJjE9PT1uLmNvbnN0YW50T3IoMCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzPT09aCl7Y29uc3QgZT10LmRlcHRoTW9kZUZvclN1YmxheWVyKDEsXCJvcGFxdWVcIj09PXQucmVuZGVyUGFzcz9MdC5SZWFkV3JpdGU6THQuUmVhZE9ubHkpO25zKHQsaSxvLHIsZSxsLCExKTt9aWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiZvLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpKXtjb25zdCBlPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoby5nZXRQYWludFByb3BlcnR5KFwiZmlsbC1vdXRsaW5lLWNvbG9yXCIpPzI6MCxMdC5SZWFkT25seSk7bnModCxpLG8scixlLGwsITApO319LFwiZmlsbC1leHRydXNpb25cIjpmdW5jdGlvbih0LGksbyxyKXtjb25zdCBzPW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiKSxuPXQuY29udGV4dCxhPW4uZ2wsbD10LnRlcnJhaW4sYz1sJiZsLnJlbmRlcmluZ1RvVGV4dHVyZTtpZigwPT09cylyZXR1cm47Y29uc3QgaD10LmNvbmZsYXRpb25BY3RpdmUmJnQubGF5ZXJVc2VkSW5Db25mbGF0aW9uKG8saS5nZXRTb3VyY2UoKSk7aWYoaCYmZnVuY3Rpb24oZSx0LGksbyl7Zm9yKGNvbnN0IHIgb2Ygbyl7Y29uc3Qgbz10LmdldFRpbGUocikuZ2V0QnVja2V0KGkpO28mJihvLnVwZGF0ZVJlcGxhY2VtZW50KHIsZS5yZXBsYWNlbWVudFNvdXJjZSksby51cGxvYWRDZW50cm9pZChlLmNvbnRleHQpKTt9fSh0LGksbyxyKSxsfHxoKWZvcihjb25zdCBlIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGUpLmdldEJ1Y2tldChvKTtyJiZjcyh0LmNvbnRleHQsaSxlLHIsbyxsLGgpO31pZihcInNoYWRvd1wiPT09dC5yZW5kZXJQYXNzJiZ0LnNoYWRvd1JlbmRlcmVyKXtjb25zdCBuPXQuc2hhZG93UmVuZGVyZXI7aWYobCYmczwuNjUmJm8uX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIl0udmFsdWUuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIGUuWilyZXR1cm47Y29uc3QgYT1uLmdldFNoYWRvd1Bhc3NEZXB0aE1vZGUoKSxjPW4uZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpO2FzKHQsaSxvLHIsYSxSdC5kaXNhYmxlZCxjLGgpO31lbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgdT0hby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSksZD1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCIpLmNvbnN0YW50T3IoZS5heC53aGl0ZSk7aWYoIWMmJjAhPT1kLmEpe2NvbnN0IGU9bmV3IEx0KHQuY29udGV4dC5nbC5MRVFVQUwsTHQuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTsxPT09cyYmdT9hcyh0LGksbyxyLGUsUnQuZGlzYWJsZWQsTXQudW5ibGVuZGVkLGgpOihhcyh0LGksbyxyLGUsUnQuZGlzYWJsZWQsTXQuZGlzYWJsZWQsaCksYXModCxpLG8scixlLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGgpLHQucmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpKTt9aWYodC5zdHlsZS5lbmFibGUzZExpZ2h0cygpJiZ1JiYoIWwmJlwiZ2xvYmVcIiE9PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8Yykpe2NvbnN0IHM9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpLHU9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIiksZD1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1yYWRpdXNcIiksXz1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWludGVuc2l0eVwiKSxwPW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIikudG9BcnJheTAxKCkuc2xpY2UoMCwzKSxmPXU+MCYmZD4wLG09Xz4wLGc9KGUsdCxpKT0+KDEtaSkqZStpKnQsdj1uPT57Y29uc3QgbD10LmRlcHRoTW9kZUZvclN1YmxheWVyKDEsTHQuUmVhZE9ubHksYS5MRVFVQUwsITApLGM9by5wYWludC5nZXQobj9cImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1hdHRlbnVhdGlvblwiOlwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCIpLGY9ZyguMSwzLGMpLG09dC5fc2hvd092ZXJkcmF3SW5zcGVjdG9yO2lmKCFtKXtjb25zdCBjPW5ldyBSdCh7ZnVuYzphLkFMV0FZUyxtYXNrOjI1NX0sMjU1LDI1NSxhLktFRVAsYS5LRUVQLGEuUkVQTEFDRSksbT1uZXcgTXQoW2EuT05FLGEuT05FLGEuT05FLGEuT05FXSxlLmF4LnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0sYS5NSU4pO2xzKHQsaSxvLHIsbCxjLG0sRnQuZGlzYWJsZWQsbixcInNkZlwiLHMsdSxkLF8scCxmLGgsITEpO317Y29uc3QgYz1tP1J0LmRpc2FibGVkOm5ldyBSdCh7ZnVuYzphLkVRVUFMLG1hc2s6MjU1fSwyNTUsMjU1LGEuS0VFUCxhLkRFQ1IsYS5ERUNSKSxnPW0/dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6bmV3IE10KFthLk9ORV9NSU5VU19EU1RfQUxQSEEsYS5EU1RfQUxQSEEsYS5PTkUsYS5PTkVdLGUuYXgudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7bHModCxpLG8scixsLGMsZyxGdC5kaXNhYmxlZCxuLFwiY29sb3JcIixzLHUsZCxfLHAsZixoLCExKTt9fTtpZihjKXtjb25zdCBjPShuLGwsYyk9Pntjb25zdCBmPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSxMdC5SZWFkT25seSxhLkxFUVVBTCwhMSksbT1vLnBhaW50LmdldChuP1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLWF0dGVudWF0aW9uXCI6XCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtYXR0ZW51YXRpb25cIiksdj1nKC4xLDMsbSk7e2NvbnN0IGM9bmV3IE10KFthLk9ORSxhLk9ORSxhLk9ORSxhLk9ORV0sZS5heC50cmFuc3BhcmVudCxbITEsITEsITEsITBdKTtscyh0LGksbyxyLGYsUnQuZGlzYWJsZWQsYyxGdC5kaXNhYmxlZCxuLFwiY2xlYXJcIixzLHUsZCxfLHAsdixoLGwpO317Y29uc3QgYz1uZXcgUnQoe2Z1bmM6YS5BTFdBWVMsbWFzazoyNTV9LDI1NSwyNTUsYS5LRUVQLGEuS0VFUCxhLlJFUExBQ0UpLG09bmV3IE10KFthLk9ORSxhLk9ORSxhLk9ORSxhLk9ORV0sZS5heC50cmFuc3BhcmVudCxbITEsITEsITEsITBdLGEuTUlOKTtscyh0LGksbyxyLGYsYyxtLEZ0LmRpc2FibGVkLG4sXCJzZGZcIixzLHUsZCxfLHAsdixoLGwpO317Y29uc3QgYz1uP2EuWkVSTzphLk9ORV9NSU5VU19EU1RfQUxQSEEsbT1uZXcgUnQoe2Z1bmM6YS5FUVVBTCxtYXNrOjI1NX0sMjU1LDI1NSxhLktFRVAsYS5ERUNSLGEuREVDUiksZz1uZXcgTXQoW2MsYS5EU1RfQUxQSEEsYS5PTkVfTUlOVVNfRFNUX0FMUEhBLGEuWkVST10sZS5heC50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTtscyh0LGksbyxyLGYsbSxnLEZ0LmRpc2FibGVkLG4sXCJjb2xvclwiLHMsdSxkLF8scCx2LGgsbCk7fXtjb25zdCBtPW5ldyBNdChbYS5PTkUsYS5PTkUsYS5PTkUsbj9hLlpFUk86YS5PTkVdLGUuYXgudHJhbnNwYXJlbnQsWyExLCExLCExLCEwXSxuP2EuRlVOQ19BREQ6YS5NQVgpO2xzKHQsaSxvLHIsZixSdC5kaXNhYmxlZCxtLEZ0LmRpc2FibGVkLG4sXCJjbGVhclwiLHMsdSxkLF8scCx2LGgsbCxjKTt9fTtpZihmfHxtKXtsZXQgaTtpZih0LnByZXBhcmVEcmF3VGlsZSgpLGwpe2NvbnN0IHQ9bC5kcmFwZUJ1ZmZlclNpemVbMF0sbz1sLmRyYXBlQnVmZmVyU2l6ZVsxXTtpPWwuZnJhbWVidWZmZXJDb3B5VGV4dHVyZSxpJiYoIWl8fGkuc2l6ZVswXT09PXQmJmkuc2l6ZVsxXT09PW8pfHwoaSYmaS5kZXN0cm95KCksaT1sLmZyYW1lYnVmZmVyQ29weVRleHR1cmU9bmV3IGUuVChuLG5ldyBlLmgoe3dpZHRoOnQsaGVpZ2h0Om99KSxhLlJHQkEpKSxpLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxhLmNvcHlUZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLGEuUkdCQSwwLDAsdCxvLDApO31mJiZjKCEwLCExLGkpLG0mJmMoITEsITAsaSk7fX1lbHNlIGYmJnYoITApLG0mJnYoITEpO319fSxoaWxsc2hhZGU6ZnVuY3Rpb24oZSx0LGksbyl7aWYoXCJvZmZzY3JlZW5cIiE9PWUucmVuZGVyUGFzcyYmXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtpZihlLnN0eWxlLmRpc2FibGVFbGV2YXRlZFRlcnJhaW4pcmV0dXJuO2NvbnN0IHI9ZS5jb250ZXh0LHM9ZS50ZXJyYWluJiZlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLFtuLGFdPVwidHJhbnNsdWNlbnRcIiE9PWUucmVuZGVyUGFzc3x8cz9be30sb106ZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChvKTtmb3IoY29uc3QgbyBvZiBhKXtjb25zdCByPXQuZ2V0VGlsZShvKTtpZihyLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSYmXCJvZmZzY3JlZW5cIj09PWUucmVuZGVyUGFzcylvcihlLHIsaSk7ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IHQ9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLEx0LlJlYWRPbmx5KSxhPWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLGw9ZS5jb2xvck1vZGVGb3JEcmFwYWJsZUxheWVyUmVuZGVyUGFzcyhhKSxjPXMmJmUudGVycmFpbj9lLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKG8pOm5bby5vdmVyc2NhbGVkWl07dHIoZSxvLHIsaSx0LGMsbCk7fX1yLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKSxlLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LHJhc3RlcjpmdW5jdGlvbih0LGksbyxyLHMsbil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09by5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47Y29uc3QgYT1cImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUsbD0wIT09by5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpLGM9bCYmYTtpZih0LnJlbmRlckVsZXZhdGVkUmFzdGVyQmFja2ZhY2UmJiFjKXJldHVybjtjb25zdCBoPXQuY29udGV4dCx1PWguZ2wsZD1pLmdldFNvdXJjZSgpLF89ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz1pLnBhaW50LmdldChcInJhc3Rlci1jb2xvclwiKSxuPVwicmFzdGVyLWFycmF5XCI9PT10LnR5cGUsYT1bXSxsPWkucGFpbnQuZ2V0KFwicmFzdGVyLXJlc2FtcGxpbmdcIiksYz1pLnBhaW50LmdldChcInJhc3Rlci1jb2xvci1taXhcIik7bGV0IGg9aS5wYWludC5nZXQoXCJyYXN0ZXItY29sb3ItcmFuZ2VcIik7Y29uc3QgdT1bY1swXSxjWzFdLGNbMl0sMF0sZD1jWzNdO2xldCBfPVwibmVhcmVzdFwiPT09bD9yLk5FQVJFU1Q6ci5MSU5FQVI7aWYobiYmKGEucHVzaChcIlJBU1RFUl9BUlJBWVwiKSxzfHxhLnB1c2goXCJSQVNURVJfQ09MT1JcIiksXCJsaW5lYXJcIj09PWwmJmEucHVzaChcIlJBU1RFUl9BUlJBWV9MSU5FQVJcIiksXz1yLk5FQVJFU1QsIWgmJnQucmFzdGVyTGF5ZXJzKSl7Y29uc3QgZT10LnJhc3RlckxheWVycy5maW5kKCgoe2lkOmV9KT0+ZT09PWkuc291cmNlTGF5ZXIpKTtlJiZlLmZpZWxkcyYmZS5maWVsZHMucmFuZ2UmJihoPWUuZmllbGRzLnJhbmdlKTt9aWYoaD1ofHxbMCwxXSxzKXthLnB1c2goXCJSQVNURVJfQ09MT1JcIiksby5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUyKSxpLnVwZGF0ZUNvbG9yUmFtcChoKTtsZXQgdD1pLmNvbG9yUmFtcFRleHR1cmU7dHx8KHQ9aS5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlQobyxpLmNvbG9yUmFtcCxyLlJHQkEpKSx0LmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKTt9cmV0dXJuIHttaXg6dSxyYW5nZTpoLG9mZnNldDpkLGRlZmluZXM6YSxyZXNhbXBsaW5nOl99fShkLG8saCx1KTtpZihkIGluc3RhbmNlb2YgZS5hcCYmIXIubGVuZ3RoJiYhYSlyZXR1cm47Y29uc3QgcD1vLnBhaW50LmdldChcInJhc3Rlci1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxmPXQuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MocCksbT10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsZz0hdC5vcHRpb25zLm1vdmluZyx2PVwibmVhcmVzdFwiPT09by5wYWludC5nZXQoXCJyYXN0ZXItcmVzYW1wbGluZ1wiKT91Lk5FQVJFU1Q6dS5MSU5FQVI7aWYoZCBpbnN0YW5jZW9mIGUuYXAmJiFyLmxlbmd0aCYmKGQub25Ob3J0aFBvbGV8fGQub25Tb3V0aFBvbGUpKXtjb25zdCBlPWw/dC5zdGVuY2lsTW9kZUZvcjNEKCk6UnQuZGlzYWJsZWQ7cmV0dXJuIHZvaWQgZnMoISFkLm9uTm9ydGhQb2xlLG51bGwsdCxpLG8scCxfLEZ0LmRpc2FibGVkLGUpfWlmKCFyLmxlbmd0aClyZXR1cm47Y29uc3RbeCx5XT1kIGluc3RhbmNlb2YgZS5hcHx8bT9be30scl06dC5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChyKSxiPXlbeS5sZW5ndGgtMV0ub3ZlcnNjYWxlZFo7YyYmXy5kZWZpbmVzLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksbCYmXy5kZWZpbmVzLnB1c2goXCJSRU5ERVJfQ1VUT0ZGXCIpO2NvbnN0IHc9KHIscyx5KT0+e2Zvcihjb25zdCB3IG9mIHIpe2NvbnN0IHI9dy50b1Vud3JhcHBlZCgpLFQ9aS5nZXRUaWxlKHcpO2lmKG0mJighVHx8IVQuaGFzRGF0YSgpKSljb250aW51ZTtoLmFjdGl2ZVRleHR1cmUuc2V0KHUuVEVYVFVSRTApO2NvbnN0IEU9Z3MoVCxkLG8sXyk7aWYoIUV8fCFFLnRleHR1cmUpY29udGludWU7Y29uc3R7dGV4dHVyZTpTLG1peDpDLG9mZnNldDpJLHRpbGVTaXplOkQsYnVmZmVyOkx9PUU7bGV0IEEsUjttPyhBPUx0LmRpc2FibGVkLFI9dy5wcm9qTWF0cml4KTpsPyhBPW5ldyBMdCh1LkxFUVVBTCxMdC5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpLFI9YT9GbG9hdDMyQXJyYXkuZnJvbSh0LnRyYW5zZm9ybS5leHBhbmRlZEZhclpQcm9qTWF0cml4KTp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHIsZykpOihBPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIody5vdmVyc2NhbGVkWi1iLDE9PT1vLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP0x0LlJlYWRXcml0ZTpMdC5SZWFkT25seSx1LkxFU1MpLFI9dC50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChyLGcpKTtjb25zdCBQPXQudGVycmFpbiYmbT90LnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHcpOnhbdy5vdmVyc2NhbGVkWl0sTT1uPzA6by5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtULnJlZ2lzdGVyRmFkZUR1cmF0aW9uKE0pO2NvbnN0IHo9aS5maW5kTG9hZGVkUGFyZW50KHcsMCksTz1fcihULHosaSx0LnRyYW5zZm9ybSxNKTtsZXQgRixCO3QudGVycmFpbiYmdC50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpLGguYWN0aXZlVGV4dHVyZS5zZXQodS5URVhUVVJFMCksUy5iaW5kKHYsdS5DTEFNUF9UT19FREdFKSxoLmFjdGl2ZVRleHR1cmUuc2V0KHUuVEVYVFVSRTEpLHo/KHoudGV4dHVyZSYmei50ZXh0dXJlLmJpbmQodix1LkNMQU1QX1RPX0VER0UpLEY9TWF0aC5wb3coMix6LnRpbGVJRC5vdmVyc2NhbGVkWi1ULnRpbGVJRC5vdmVyc2NhbGVkWiksQj1bVC50aWxlSUQuY2Fub25pY2FsLngqRiUxLFQudGlsZUlELmNhbm9uaWNhbC55KkYlMV0pOlMuYmluZCh2LHUuQ0xBTVBfVE9fRURHRSksUy51c2VNaXBtYXAmJmguZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiZ0LnRyYW5zZm9ybS5waXRjaD4yMCYmdS50ZXhQYXJhbWV0ZXJmKHUuVEVYVFVSRV8yRCxoLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxoLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7Y29uc3Qgaz10LnRyYW5zZm9ybTtsZXQgTjtjb25zdCBVPWw/bXMoayk6WzAsMCwwLDBdO2xldCBHLGosVixaLEgsVz0wO2lmKGMmJmQgaW5zdGFuY2VvZiBlLmFwJiZkLmNvb3JkaW5hdGVzLmxlbmd0aD4zKUc9RmxvYXQzMkFycmF5LmZyb20oZS5hVChlLmNpKG5ldyBlLmJzKDAsMCwwKSkpKSxqPUZsb2F0MzJBcnJheS5mcm9tKGsuZ2xvYmVNYXRyaXgpLFY9RmxvYXQzMkFycmF5LmZyb20oZS5jZShrKSksWj1bZS5hNShrLmNlbnRlci5sbmcpLGUuYWUoay5jZW50ZXIubGF0KV0sTj1kLmVsZXZhdGVkR2xvYmVQZXJzcGVjdGl2ZVRyYW5zZm9ybSxIPWQuZWxldmF0ZWRHbG9iZUdyaWRNYXRyaXh8fG5ldyBGbG9hdDMyQXJyYXkoOSk7ZWxzZSBpZihjKXtjb25zdCB0PWUuY2Yody5jYW5vbmljYWwpO1c9ZS5jZyh0LmdldENlbnRlcigpLmxhdCksRz1GbG9hdDMyQXJyYXkuZnJvbShlLmFUKGUuY2kody5jYW5vbmljYWwpKSksaj1GbG9hdDMyQXJyYXkuZnJvbShrLmdsb2JlTWF0cml4KSxWPUZsb2F0MzJBcnJheS5mcm9tKGUuY2UoaykpLFo9W2UuYTUoay5jZW50ZXIubG5nKSxlLmFlKGsuY2VudGVyLmxhdCldLE49WzAsMF0sSD1GbG9hdDMyQXJyYXkuZnJvbShlLmNoKHcuY2Fub25pY2FsLHQsVyxrLndvcmxkU2l6ZS9rLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSk7fWVsc2UgTj1kIGluc3RhbmNlb2YgZS5hcD9kLnBlcnNwZWN0aXZlVHJhbnNmb3JtOlswLDBdLEc9bmV3IEZsb2F0MzJBcnJheSgxNiksaj1uZXcgRmxvYXQzMkFycmF5KDkpLFY9bmV3IEZsb2F0MzJBcnJheSgxNiksWj1bMCwwXSxIPW5ldyBGbG9hdDMyQXJyYXkoOSk7Y29uc3QgcT1CcihSLEcsaixWLEgsQnx8WzAsMF0sZS5TKHQudHJhbnNmb3JtLnpvb20pLFosVSxGfHwxLE8sbyxOLGw/by5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpOjAsMixDLEksXy5yYW5nZSxELEwscCksJD10LmlzVGlsZUFmZmVjdGVkQnlGb2codyksWD10LmdldE9yQ3JlYXRlUHJvZ3JhbShcInJhc3RlclwiLHtkZWZpbmVzOl8uZGVmaW5lcyxvdmVycmlkZUZvZzokfSk7aWYodC51cGxvYWRDb21tb25Vbmlmb3JtcyhoLFgsciksZCBpbnN0YW5jZW9mIGUuYXApe2NvbnN0IGk9ZC5lbGV2YXRlZEdsb2JlVmVydGV4QnVmZmVyLHI9ZC5lbGV2YXRlZEdsb2JlSW5kZXhCdWZmZXI7aWYobXx8IWEpZC5ib3VuZHNCdWZmZXImJmQuYm91bmRzU2VnbWVudHMmJlguZHJhdyh0LHUuVFJJQU5HTEVTLEEsUnQuZGlzYWJsZWQsZixGdC5kaXNhYmxlZCxxLG8uaWQsZC5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixkLmJvdW5kc1NlZ21lbnRzKTtlbHNlIGlmKGkmJnIpe2NvbnN0IG49ay56b29tPD1lLmJHP2QuZWxldmF0ZWRHbG9iZVNlZ21lbnRzOmQuZ2V0U2VnbWVudHNGb3JMb25naXR1ZGUoay5jZW50ZXIubG5nKTtuJiZYLmRyYXcodCx1LlRSSUFOR0xFUyxBLFJ0LmRpc2FibGVkLGYscyxxLG8uaWQsaSxyLG4pO319ZWxzZSBpZihjKXtBPW5ldyBMdCh1LkxFUVVBTCxMdC5SZWFkT25seSx0LmRlcHRoUmFuZ2VGb3IzRCk7Y29uc3QgZT10Lmdsb2JlU2hhcmVkQnVmZmVycztpZihlKXtjb25zdFtpLHIsbl09ZS5nZXRHcmlkQnVmZmVycyhXLCExKTtYLmRyYXcodCx1LlRSSUFOR0xFUyxBLHl8fFAsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkscyxxLG8uaWQsaSxyLG4pO319ZWxzZSB7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjplLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjppLHRpbGVCb3VuZHNTZWdtZW50czpyfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKFQpO1guZHJhdyh0LHUuVFJJQU5HTEVTLEEsUCxmLEZ0LmRpc2FibGVkLHEsby5pZCxlLGkscik7fX1pZighKGQgaW5zdGFuY2VvZiBlLmFwKSYmYylmb3IoY29uc3QgZSBvZiByKXtjb25zdCByPWUuY2Fub25pY2FsLnk9PT0oMTw8ZS5jYW5vbmljYWwueiktMTswPT09ZS5jYW5vbmljYWwueSYmZnMoITAsZSx0LGksbyxwLF8scyx5fHxSdC5kaXNhYmxlZCksciYmZnMoITEsZSx0LGksbyxwLF8scz09PUZ0LmZyb250Q1c/RnQuYmFja0NXOkZ0LmZyb250Q1cseXx8UnQuZGlzYWJsZWQpO319O2M/dyh5LHQucmVuZGVyRWxldmF0ZWRSYXN0ZXJCYWNrZmFjZT9GdC5iYWNrQ1c6RnQuZnJvbnRDVyx0LnN0ZW5jaWxNb2RlRm9yM0QoKSk6dyh5LEZ0LmRpc2FibGVkLHZvaWQgMCksdC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7fSxcInJhc3Rlci1wYXJ0aWNsZVwiOmZ1bmN0aW9uKHQsaSxvLHIscyxuKXtcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzJiZmdW5jdGlvbih0LGksbyxyKXtpZighci5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9dC5jb250ZXh0LG49cy5nbCxhPWkuZ2V0U291cmNlKCk7aWYoIShhIGluc3RhbmNlb2YgemUpKXJldHVybjtjb25zdCBsPVtdO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IHQ9aS5nZXRUaWxlKGUpO2lmKCEodCBpbnN0YW5jZW9mICR0KSljb250aW51ZTtjb25zdCByPXZzKHQsYSxvKTtpZighciljb250aW51ZTtjb25zdCBuPVtyLnRpbGVTaXplLHIudGlsZVNpemVdO2xldCBjPW8udGlsZUZyYW1lYnVmZmVyO2N8fChjPW8udGlsZUZyYW1lYnVmZmVyPXMuY3JlYXRlRnJhbWVidWZmZXIoblswXSxuWzFdLCEwLG51bGwpKTtsZXQgaD10LnJhc3RlclBhcnRpY2xlU3RhdGU7Y29uc3QgdT1vLnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1jb3VudFwiKTtofHwoaD10LnJhc3RlclBhcnRpY2xlU3RhdGU9bmV3IE50KHMsZSxuLHUpKTtjb25zdCBkPWgudXBkYXRlKG8ubGFzdEludmFsaWRhdGVkQXQpO2gubnVtUGFydGljbGVzIT09dSYmaC5zZXROdW1QYXJ0aWNsZXMoZSx1KTtjb25zdCBfPWgudGFyZ2V0Q29sb3JUZXh0dXJlO2gudGFyZ2V0Q29sb3JUZXh0dXJlPWguYmFja2dyb3VuZENvbG9yVGV4dHVyZSxoLmJhY2tncm91bmRDb2xvclRleHR1cmU9Xztjb25zdCBwPWgucGFydGljbGVWZXJ0aWNlczA7aC5wYXJ0aWNsZVZlcnRpY2VzMD1oLnBhcnRpY2xlVmVydGljZXMxLGgucGFydGljbGVWZXJ0aWNlczE9cCxsLnB1c2goW2UscixoLGRdKTt9aWYoMD09PWwubGVuZ3RoKXJldHVybjtjb25zdCBjPWUuZi5ub3coKSxoPW8ucHJldmlvdXNEcmF3VGltZXN0YW1wPy4wMDEqKGMtby5wcmV2aW91c0RyYXdUaW1lc3RhbXApOi4wMTY3O2lmKG8ucHJldmlvdXNEcmF3VGltZXN0YW1wPWMsby5oYXNDb2xvck1hcCgpKXtzLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTArMik7bGV0IHQ9by5jb2xvclJhbXBUZXh0dXJlO3R8fCh0PW8uY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UKHMsby5jb2xvclJhbXAsbi5SR0JBKSksdC5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSk7fXMuYmluZEZyYW1lYnVmZmVyLnNldChvLnRpbGVGcmFtZWJ1ZmZlci5mcmFtZWJ1ZmZlcikscy5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUwKSxmdW5jdGlvbih0LGksbyl7Y29uc3Qgcj10LmNvbnRleHQscz1yLmdsLG49aS50aWxlRnJhbWVidWZmZXI7ci5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKTtjb25zdCBhPXt1X3RleHR1cmU6MCx1X29wYWNpdHk6MS4wNSooYz1pLnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1mYWRlLW9wYWNpdHktZmFjdG9yXCIpKS8oYysuMDUpfSxsPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwicmFzdGVyUGFydGljbGVUZXh0dXJlXCIse2RlZmluZXM6W10sb3ZlcnJpZGVGb2c6ITF9KTt2YXIgYztmb3IoY29uc3QgYyBvZiBvKXtjb25zdFssLG8saF09YztuLmNvbG9yQXR0YWNobWVudC5zZXQoby50YXJnZXRDb2xvclRleHR1cmUudGV4dHVyZSksci52aWV3cG9ydC5zZXQoWzAsMCxuLndpZHRoLG4uaGVpZ2h0XSksci5jbGVhcih7Y29sb3I6ZS5heC50cmFuc3BhcmVudH0pLGgmJihvLmJhY2tncm91bmRDb2xvclRleHR1cmUuYmluZChzLk5FQVJFU1Qscy5DTEFNUF9UT19FREdFKSxsLmRyYXcodCxzLlRSSUFOR0xFUyxMdC5kaXNhYmxlZCxSdC5kaXNhYmxlZCxNdC5hbHBoYUJsZW5kZWQsRnQuZGlzYWJsZWQsYSxpLmlkLHQudmlld3BvcnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnZpZXdwb3J0U2VnbWVudHMpKTt9fSh0LG8sbCksZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz10LmNvbnRleHQuZ2wsbj1vLnRpbGVGcmFtZWJ1ZmZlcixhPVwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSxsPW8ucGFpbnQuZ2V0KFwicmFzdGVyLXBhcnRpY2xlLW1heC1zcGVlZFwiKTtmb3IoY29uc3QgYyBvZiByKXtjb25zdFtyLGgsdV09YztoLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpLG4uY29sb3JBdHRhY2htZW50LnNldCh1LnRhcmdldENvbG9yVGV4dHVyZS50ZXh0dXJlKTtjb25zdCBkPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwicmFzdGVyUGFydGljbGVEcmF3XCIse2RlZmluZXM6aC5kZWZpbmVzLG92ZXJyaWRlRm9nOiExfSksXz1oLnNjYWxhckRhdGE/W106WzAsMSwyLDNdLm1hcCgodD0+ZS5jR1t0XShyKSkpO18ucHVzaChyKTtjb25zdCBwPXIuY2Fub25pY2FsLngsZj1yLmNhbm9uaWNhbC55O2Zvcihjb25zdCBlIG9mIF8pe2NvbnN0IG49aS5nZXRUaWxlKGE/ZS53cmFwcGVkKCk6ZSk7aWYoIW4pY29udGludWU7Y29uc3QgYz1uLnJhc3RlclBhcnRpY2xlU3RhdGU7aWYoIWMpY29udGludWU7Y29uc3QgdT1VcihbZS5jYW5vbmljYWwueCsoMTw8ZS5jYW5vbmljYWwueikqKGUud3JhcC1yLndyYXApLXAsZS5jYW5vbmljYWwueS1mXSwwLGgudGV4dHVyZS5zaXplLDIsbCxoLnRleHR1cmVPZmZzZXQsaC5zY2FsZSxoLm9mZnNldCk7ZC5kcmF3KHQscy5QT0lOVFMsTHQuZGlzYWJsZWQsUnQuZGlzYWJsZWQsTXQuYWxwaGFCbGVuZGVkLEZ0LmRpc2FibGVkLHUsby5pZCxjLnBhcnRpY2xlVmVydGljZXMwLHZvaWQgMCxjLnBhcnRpY2xlU2VnbWVudCk7fX19KHQsaSxvLGwpLGZ1bmN0aW9uKGUsdCxpLG8pe2NvbnN0IHI9ZS5jb250ZXh0LmdsO2xldCBzPXQudHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q7c3x8KHM9dC50cmFuc2Zvcm1GZWVkYmFja09iamVjdD1yLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCkpLHIuYmluZFRyYW5zZm9ybUZlZWRiYWNrKHIuVFJBTlNGT1JNX0ZFRURCQUNLLHQudHJhbnNmb3JtRmVlZGJhY2tPYmplY3QpO2NvbnN0IG49dC5wYWludC5nZXQoXCJyYXN0ZXItcGFydGljbGUtbWF4LXNwZWVkXCIpLGE9byp0LnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1zcGVlZC1mYWN0b3JcIikqLjMsbD0oYz10LnBhaW50LmdldChcInJhc3Rlci1wYXJ0aWNsZS1yZXNldC1yYXRlLWZhY3RvclwiKSxNYXRoLnBvdyhjLDYpKTt2YXIgYztmb3IoY29uc3QgbyBvZiBpKXtjb25zdFssaSxzXT1vO2kudGV4dHVyZS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSk7Y29uc3QgYz1HcigwLGkudGV4dHVyZS5zaXplLG4sYSxsLGkudGV4dHVyZU9mZnNldCxpLnNjYWxlLGkub2Zmc2V0KTtlLmdldE9yQ3JlYXRlUHJvZ3JhbShcInJhc3RlclBhcnRpY2xlVXBkYXRlXCIse2RlZmluZXM6aS5kZWZpbmVzLHRyYW5zZm9ybUZlZWRiYWNrOntidWZmZXJNb2RlOnIuU0VQQVJBVEVfQVRUUklCUyxzaGFkZXJWYXJ5aW5nczpbXCJ2X25ld19wYXJ0aWNsZVwiXX19KS5kcmF3KGUsci5QT0lOVFMsTHQuZGlzYWJsZWQsUnQuZGlzYWJsZWQsTXQuZGlzYWJsZWQsRnQuZGlzYWJsZWQsYyx0LmlkLHMucGFydGljbGVWZXJ0aWNlczAsdm9pZCAwLHMucGFydGljbGVTZWdtZW50LHt9LHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxbe2J1ZmZlcjpzLnBhcnRpY2xlVmVydGljZXMxLHRhcmdldEluZGV4OjB9XSk7fXIuYmluZFRyYW5zZm9ybUZlZWRiYWNrKHIuVFJBTlNGT1JNX0ZFRURCQUNLLG51bGwpO30odCxvLGwsaCk7fSh0LGksbyxyKSxcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJihmdW5jdGlvbih0LGksbyxyLHMpe2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbCxsPSF0Lm9wdGlvbnMubW92aW5nLGM9XCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lO2lmKCFyLmxlbmd0aClyZXR1cm47Y29uc3RbaCx1XT10LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHIpLGQ9W107YyYmZC5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpO2Zvcihjb25zdCByIG9mIHUpe2NvbnN0IHM9ci50b1Vud3JhcHBlZCgpLHU9aS5nZXRUaWxlKHIpO2lmKCF1LnJhc3RlclBhcnRpY2xlU3RhdGUpY29udGludWU7Y29uc3QgXz11LnJhc3RlclBhcnRpY2xlU3RhdGUscD0xMDA7dS5yZWdpc3RlckZhZGVEdXJhdGlvbihwKTtjb25zdCBmPWkuZmluZExvYWRlZFBhcmVudChyLDApLG09X3IodSxmLGksdC50cmFuc2Zvcm0scCk7bGV0IGcsdjt0LnRlcnJhaW4mJnQudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKSxuLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLF8udGFyZ2V0Q29sb3JUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxuLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTEpLGYmJmYucmFzdGVyUGFydGljbGVTdGF0ZT8oZi5yYXN0ZXJQYXJ0aWNsZVN0YXRlLnRhcmdldENvbG9yVGV4dHVyZS5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSksZz1NYXRoLnBvdygyLGYudGlsZUlELm92ZXJzY2FsZWRaLXUudGlsZUlELm92ZXJzY2FsZWRaKSx2PVt1LnRpbGVJRC5jYW5vbmljYWwueCpnJTEsdS50aWxlSUQuY2Fub25pY2FsLnkqZyUxXSk6Xy50YXJnZXRDb2xvclRleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpO2NvbnN0IHg9Yz9GbG9hdDMyQXJyYXkuZnJvbSh0LnRyYW5zZm9ybS5leHBhbmRlZEZhclpQcm9qTWF0cml4KTp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHMsbCkseT10LnRyYW5zZm9ybSxiPXhzKHkpLHc9ZS5jZihyLmNhbm9uaWNhbCksVD1lLmNnKHcuZ2V0Q2VudGVyKCkubGF0KTtsZXQgRSxTLEMsSSxEO2M/KEU9RmxvYXQzMkFycmF5LmZyb20oZS5hVChlLmNpKHIuY2Fub25pY2FsKSkpLFM9RmxvYXQzMkFycmF5LmZyb20oeS5nbG9iZU1hdHJpeCksQz1GbG9hdDMyQXJyYXkuZnJvbShlLmNlKHkpKSxJPVtlLmE1KHkuY2VudGVyLmxuZyksZS5hZSh5LmNlbnRlci5sYXQpXSxEPUZsb2F0MzJBcnJheS5mcm9tKGUuY2goci5jYW5vbmljYWwsdyxULHkud29ybGRTaXplL3kuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwpKSk6KEU9bmV3IEZsb2F0MzJBcnJheSgxNiksUz1uZXcgRmxvYXQzMkFycmF5KDkpLEM9bmV3IEZsb2F0MzJBcnJheSgxNiksST1bMCwwXSxEPW5ldyBGbG9hdDMyQXJyYXkoOSkpO2NvbnN0IEw9TnIoeCxFLFMsQyxELHZ8fFswLDBdLGUuUyh0LnRyYW5zZm9ybS56b29tKSxJLGIsZ3x8MSxtLDI1MCksQT10LmlzVGlsZUFmZmVjdGVkQnlGb2cociksUj10LmdldE9yQ3JlYXRlUHJvZ3JhbShcInJhc3RlclBhcnRpY2xlXCIse2RlZmluZXM6ZCxvdmVycmlkZUZvZzpBfSk7aWYodC51cGxvYWRDb21tb25Vbmlmb3JtcyhuLFIscyksYyl7Y29uc3QgZT1uZXcgTHQoYS5MRVFVQUwsTHQuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKSxpPTAscj10Lmdsb2JlU2hhcmVkQnVmZmVycztpZihyKXtjb25zdFtzLG4sbF09ci5nZXRHcmlkQnVmZmVycyhULDAhPT1pKTtSLmRyYXcodCxhLlRSSUFOR0xFUyxlLFJ0LmRpc2FibGVkLE10LmFscGhhQmxlbmRlZCxGdC5iYWNrQ0NXLEwsby5pZCxzLG4sbCk7fX1lbHNlIHtjb25zdCBlPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxMdC5SZWFkT25seSksaT1oW3Iub3ZlcnNjYWxlZFpdLHt0aWxlQm91bmRzQnVmZmVyOnMsdGlsZUJvdW5kc0luZGV4QnVmZmVyOm4sdGlsZUJvdW5kc1NlZ21lbnRzOmx9PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModSk7Ui5kcmF3KHQsYS5UUklBTkdMRVMsZSxpLE10LmFscGhhQmxlbmRlZCxGdC5kaXNhYmxlZCxMLG8uaWQscyxuLGwpO319dC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7fSh0LGksbyxyKSx0LnN0eWxlLm1hcC50cmlnZ2VyUmVwYWludCgpKTt9LGJhY2tncm91bmQ6ZnVuY3Rpb24oZSx0LGksbyl7Y29uc3Qgcj1pLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIikscz1pLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKSxuPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1lbWlzc2l2ZS1zdHJlbmd0aFwiKTtpZigwPT09cylyZXR1cm47Y29uc3QgYT1lLmNvbnRleHQsbD1hLmdsLGM9ZS50cmFuc2Zvcm0saD1jLnRpbGVTaXplLHU9aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYoZS5pc1BhdHRlcm5NaXNzaW5nKHUsaS5zY29wZSkpcmV0dXJuO2NvbnN0IGQ9IXUmJjE9PT1yLmEmJjE9PT1zJiZlLm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKT9cIm9wYXF1ZVwiOlwidHJhbnNsdWNlbnRcIjtpZihlLnJlbmRlclBhc3MhPT1kKXJldHVybjtjb25zdCBfPVJ0LmRpc2FibGVkLHA9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT1kP0x0LlJlYWRXcml0ZTpMdC5SZWFkT25seSksZj1lLmNvbG9yTW9kZUZvckRyYXBhYmxlTGF5ZXJSZW5kZXJQYXNzKG4pLG09dT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCI7bGV0IGcsdj1vO3Z8fChnPWUuZ2V0QmFja2dyb3VuZFRpbGVzKCksdj1PYmplY3QudmFsdWVzKGcpLm1hcCgoZT0+ZS50aWxlSUQpKSksdSYmKGEuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksZS5pbWFnZU1hbmFnZXIuYmluZChlLmNvbnRleHQsaS5zY29wZSkpO2Zvcihjb25zdCBkIG9mIHYpe2NvbnN0IHY9ZS5pc1RpbGVBZmZlY3RlZEJ5Rm9nKGQpLHg9ZS5nZXRPckNyZWF0ZVByb2dyYW0obSx7b3ZlcnJpZGVGb2c6dn0pLHk9ZC50b1Vud3JhcHBlZCgpLGI9bz9kLnByb2pNYXRyaXg6ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh5KTtlLnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHc9dD90LmdldFRpbGUoZCk6Zz9nW2Qua2V5XTpuZXcgR3QoZCxoLGMuem9vbSxlKSxUPXU/cXIoYixuLHMsZSx1LGkuc2NvcGUse3RpbGVJRDpkLHRpbGVTaXplOmh9KTpXcihiLG4scyxyKTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKGEseCx5KTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOkUsdGlsZUJvdW5kc0luZGV4QnVmZmVyOlMsdGlsZUJvdW5kc1NlZ21lbnRzOkN9PWUuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModyk7eC5kcmF3KGUsbC5UUklBTkdMRVMscCxfLGYsRnQuZGlzYWJsZWQsVCxpLmlkLEUsUyxDKTt9fSxza3k6ZnVuY3Rpb24odCxpLG8pe2NvbnN0IHI9dC5fYXRtb3NwaGVyZT9lLlModC50cmFuc2Zvcm0uem9vbSk6MSxzPW8ucGFpbnQuZ2V0KFwic2t5LW9wYWNpdHlcIikqcjtpZigwPT09cylyZXR1cm47Y29uc3Qgbj10LmNvbnRleHQsYT1vLnBhaW50LmdldChcInNreS10eXBlXCIpLGw9bmV3IEx0KG4uZ2wuTEVRVUFMLEx0LlJlYWRPbmx5LFswLDFdKSxjPXQuZnJhbWVDb3VudGVyLzFlMyUxO1wiYXRtb3NwaGVyZVwiPT09YT9cIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzP28ubmVlZHNTa3lib3hDYXB0dXJlKHQpJiYoZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz10LmNvbnRleHQsbj1zLmdsO2xldCBhPWkuc2t5Ym94RmJvO2lmKCFhKXthPWkuc2t5Ym94RmJvPXMuY3JlYXRlRnJhbWVidWZmZXIoMzIsMzIsITAsbnVsbCksaS5za3lib3hHZW9tZXRyeT1uZXcgUHMocyksaS5za3lib3hUZXh0dXJlPXMuZ2wuY3JlYXRlVGV4dHVyZSgpLG4uYmluZFRleHR1cmUobi5URVhUVVJFX0NVQkVfTUFQLGkuc2t5Ym94VGV4dHVyZSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfV1JBUF9TLG4uQ0xBTVBfVE9fRURHRSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfV1JBUF9ULG4uQ0xBTVBfVE9fRURHRSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixuLkxJTkVBUiksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV9DVUJFX01BUCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixuLkxJTkVBUik7Zm9yKGxldCBlPTA7ZTw2OysrZSluLnRleEltYWdlMkQobi5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZSwwLG4uUkdCQSwzMiwzMiwwLG4uUkdCQSxuLlVOU0lHTkVEX0JZVEUsbnVsbCk7fXMuYmluZEZyYW1lYnVmZmVyLnNldChhLmZyYW1lYnVmZmVyKSxzLnZpZXdwb3J0LnNldChbMCwwLDMyLDMyXSk7Y29uc3QgbD1pLmdldENlbnRlcih0LCEwKSxjPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwic2t5Ym94Q2FwdHVyZVwiKSxoPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2UuYTYuaWRlbnRpdHkoaCksZS5hNi5yb3RhdGVZKGgsaCwuNSotTWF0aC5QSSksTXModCxpLGMsaCxsLDApLGUuYTYuaWRlbnRpdHkoaCksZS5hNi5yb3RhdGVZKGgsaCwuNSpNYXRoLlBJKSxNcyh0LGksYyxoLGwsMSksZS5hNi5pZGVudGl0eShoKSxlLmE2LnJvdGF0ZVgoaCxoLC41Ki1NYXRoLlBJKSxNcyh0LGksYyxoLGwsMiksZS5hNi5pZGVudGl0eShoKSxlLmE2LnJvdGF0ZVgoaCxoLC41Kk1hdGguUEkpLE1zKHQsaSxjLGgsbCwzKSxlLmE2LmlkZW50aXR5KGgpLE1zKHQsaSxjLGgsbCw0KSxlLmE2LmlkZW50aXR5KGgpLGUuYTYucm90YXRlWShoLGgsTWF0aC5QSSksTXModCxpLGMsaCxsLDUpLHMudmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pO30odCxvKSxvLm1hcmtTa3lib3hWYWxpZCh0KSk6XCJza3lcIj09PXQucmVuZGVyUGFzcyYmZnVuY3Rpb24oZSx0LGksbyxyKXtjb25zdCBzPWUuY29udGV4dCxuPXMuZ2wsYT1lLnRyYW5zZm9ybSxsPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwic2t5Ym94XCIpO3MuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMCksbi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfQ1VCRV9NQVAsdC5za3lib3hUZXh0dXJlKTtjb25zdCBjPSgoZSx0LGksbyxyKT0+KHt1X21hdHJpeDplLHVfc3VuX2RpcmVjdGlvbjp0LHVfY3ViZW1hcDowLHVfb3BhY2l0eTpvLHVfdGVtcG9yYWxfb2Zmc2V0OnJ9KSkoYS5za3lib3hNYXRyaXgsdC5nZXRDZW50ZXIoZSwhMSksMCxvLHIpO2UudXBsb2FkQ29tbW9uVW5pZm9ybXMocyxsKSxsLmRyYXcoZSxuLlRSSUFOR0xFUyxpLFJ0LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLEZ0LmJhY2tDVyxjLFwic2t5Ym94XCIsdC5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsdC5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcix0LnNreWJveEdlb21ldHJ5LnNlZ21lbnQpO30odCxvLGwscyxjKTpcImdyYWRpZW50XCI9PT1hJiZcInNreVwiPT09dC5yZW5kZXJQYXNzJiZmdW5jdGlvbih0LGksbyxyLHMpe2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbCxsPXQudHJhbnNmb3JtLGM9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJza3lib3hHcmFkaWVudFwiKTtpLnNreWJveEdlb21ldHJ5fHwoaS5za3lib3hHZW9tZXRyeT1uZXcgUHMobikpLG4uYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMCk7bGV0IGg9aS5jb2xvclJhbXBUZXh0dXJlO2h8fChoPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UKG4saS5jb2xvclJhbXAsYS5SR0JBKSksaC5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSk7Y29uc3QgdT0oKHQsaSxvLHIscyk9Pih7dV9tYXRyaXg6dCx1X2NvbG9yX3JhbXA6MCx1X2NlbnRlcl9kaXJlY3Rpb246aSx1X3JhZGl1czplLmJqKG8pLHVfb3BhY2l0eTpyLHVfdGVtcG9yYWxfb2Zmc2V0OnN9KSkobC5za3lib3hNYXRyaXgsaS5nZXRDZW50ZXIodCwhMSksaS5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtcmFkaXVzXCIpLHIscyk7dC51cGxvYWRDb21tb25Vbmlmb3JtcyhuLGMpLGMuZHJhdyh0LGEuVFJJQU5HTEVTLG8sUnQuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRnQuYmFja0NXLHUsXCJza3lib3hHcmFkaWVudFwiLGkuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsaS5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9KHQsbyxsLHMsYyk7fSxkZWJ1ZzpmdW5jdGlvbih0LGksbyxyLHMsbil7Zm9yKGxldCBhPTA7YTxvLmxlbmd0aDthKyspaWYocyl7Y29uc3Qgcz0xLGw9LjgsYz1uZXcgZS5heChyLnIqbCxyLmcqbCxyLmIqbCwxKTtTcyh0LGksb1thXSxyLC1zLC1zLG4pLFNzKHQsaSxvW2FdLHIsLXMscyxuKSxTcyh0LGksb1thXSxyLHMscyxuKSxTcyh0LGksb1thXSxyLHMsLXMsbiksU3ModCxpLG9bYV0sYywwLDAsbik7fWVsc2UgU3ModCxpLG9bYV0sciwwLDAsbik7fSxjdXN0b206ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz10LmNvbnRleHQsbj1vLmltcGxlbWVudGF0aW9uO2lmKCF0LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzfHwhdC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKXx8dC50ZXJyYWluJiYodC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZXx8XCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcykmJm8uaXNMYXllckRyYXBlZChpKSl7aWYoXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgaT1uLnByZXJlbmRlcjtpZihpKXtpZih0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxzLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBvPXQudHJhbnNmb3JtLnBvaW50TWVyYztpLmNhbGwobixzLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksdC50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpLHQudHJhbnNmb3JtLmdsb2JlVG9NZXJjYXRvck1hdHJpeCgpLGUuUyh0LnRyYW5zZm9ybS56b29tKSxbby54LG8ueV0sdC50cmFuc2Zvcm0ucGl4ZWxzUGVyTWV0ZXJSYXRpbyk7fWVsc2UgaS5jYWxsKG4scy5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtzLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKTt9fWVsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXtpZih0LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpe2NvbnN0IGk9bi5yZW5kZXJUb1RpbGU7aWYoaSl7Y29uc3Qgbz1yWzBdLmNhbm9uaWNhbCxhPW5ldyBlLkwoby54K3JbMF0ud3JhcCooMTw8by56KSxvLnksby56KTtzLnNldERlcHRoTW9kZShMdC5kaXNhYmxlZCkscy5zZXRTdGVuY2lsTW9kZShSdC5kaXNhYmxlZCkscy5zZXRDb2xvck1vZGUodC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLGkuY2FsbChuLHMuZ2wsYSkscy5zZXREaXJ0eSgpLHQuc2V0QmFzZVN0YXRlKCk7fXJldHVybn10LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxzLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSkscy5zZXRTdGVuY2lsTW9kZShSdC5kaXNhYmxlZCk7Y29uc3QgaT1cIjNkXCI9PT1uLnJlbmRlcmluZ01vZGU/bmV3IEx0KHQuY29udGV4dC5nbC5MRVFVQUwsTHQuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTp0LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsTHQuUmVhZE9ubHkpO2lmKHMuc2V0RGVwdGhNb2RlKGkpLFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgaT10LnRyYW5zZm9ybS5wb2ludE1lcmM7bi5yZW5kZXIocy5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpLHQudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSx0LnRyYW5zZm9ybS5nbG9iZVRvTWVyY2F0b3JNYXRyaXgoKSxlLlModC50cmFuc2Zvcm0uem9vbSksW2kueCxpLnldLHQudHJhbnNmb3JtLnBpeGVsc1Blck1ldGVyUmF0aW8pO31lbHNlIG4ucmVuZGVyKHMuZ2wsdC50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSk7cy5zZXREaXJ0eSgpLHQuc2V0QmFzZVN0YXRlKCkscy5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO319ZWxzZSBlLncoXCJDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIHRoaXMgcHJvamVjdGlvbi4gVXNlIG1lcmNhdG9yIG9yIGdsb2JlIHRvIGVuYWJsZSB1c2FnZSBvZiBjdXN0b20gbGF5ZXJzLlwiKTt9LG1vZGVsOmZ1bmN0aW9uKHQsaSxvLHIpe2lmKFwib3BhcXVlXCI9PT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IHM9by5wYWludC5nZXQoXCJtb2RlbC1vcGFjaXR5XCIpO2lmKDA9PT1zKXJldHVybjtjb25zdCBuPW8ucGFpbnQuZ2V0KFwibW9kZWwtY2FzdC1zaGFkb3dzXCIpO2lmKFwic2hhZG93XCI9PT10LnJlbmRlclBhc3Mpe2lmKCFuKXJldHVybjtpZih0LnRlcnJhaW4mJnM8LjY1JiZvLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJtb2RlbC1vcGFjaXR5XCJdLnZhbHVlLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBlLlopcmV0dXJufWNvbnN0IGE9dC5zaGFkb3dSZW5kZXJlcixsPW8ucGFpbnQuZ2V0KFwibW9kZWwtcmVjZWl2ZS1zaGFkb3dzXCIpO2EmJihhLnVzZU5vcm1hbE9mZnNldD0hMCxsfHwoYS5lbmFibGVkPSExKSk7Y29uc3QgYz0oKT0+e2EmJihhLnVzZU5vcm1hbE9mZnNldD0hMCxsfHwoYS5lbmFibGVkPSEwKSk7fSxoPWkuZ2V0U291cmNlKCk7aWYoXCJsaWdodC1iZWFtXCI9PT10LnJlbmRlclBhc3MmJlwiYmF0Y2hlZC1tb2RlbFwiIT09aC50eXBlKXJldHVybjtpZihcInZlY3RvclwiPT09aC50eXBlfHxcImdlb2pzb25cIj09PWgudHlwZSlyZXR1cm4gZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgcz10LnRyYW5zZm9ybTtpZihcIm1lcmNhdG9yXCIhPT1zLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdm9pZCBlLncoYERyYXdpbmcgM0QgbW9kZWxzIGZvciAke3MucHJvamVjdGlvbi5uYW1lfSBwcm9qZWN0aW9uIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtjb25zdCBuPXMuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbjtpZighdC5tb2RlbE1hbmFnZXIpcmV0dXJuO2NvbnN0IGE9dC5tb2RlbE1hbmFnZXI7by5tb2RlbE1hbmFnZXI9YTtjb25zdCBsPXQuc2hhZG93UmVuZGVyZXI7aWYoIW8uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMuaGFzT3duUHJvcGVydHkoXCJtb2RlbC1pZFwiKSlyZXR1cm47Y29uc3QgYz1vLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW1wibW9kZWwtaWRcIl0saD17Li4uby5sYXlvdXQuZ2V0KFwibW9kZWwtaWRcIikucGFyYW1ldGVyc307Zm9yKGNvbnN0IHUgb2Ygcil7Y29uc3Qgcj1pLmdldFRpbGUodSkuZ2V0QnVja2V0KG8pO2lmKCFyfHxyLnByb2plY3Rpb24ubmFtZSE9PXMucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IGQ9V3ModSxzKTtoLnpvb209ZDtjb25zdCBfPWMucG9zc2libHlFdmFsdWF0ZShoKTtpZihacyh0LHIsdSksSHMuc2hhZG93VW5pZm9ybXNJbml0aWFsaXplZD0hMSxIcy51c2VTaW5nbGVTaGFkb3dDYXNjYWRlPSEhbCYmMD09PWwuZ2V0TWF4Q2FzY2FkZUZvclRpbGUodS50b1Vud3JhcHBlZCgpKSxcInNoYWRvd1wiPT09dC5yZW5kZXJQYXNzJiZsKXtpZigxPT09dC5jdXJyZW50U2hhZG93Q2FzY2FkZSYmci5pc0luc2lkZUZpcnN0U2hhZG93TWFwRnJ1c3R1bSljb250aW51ZTtjb25zdCBpPXMuY2FsY3VsYXRlUG9zTWF0cml4KHUudG9VbndyYXBwZWQoKSxzLndvcmxkU2l6ZSk7aWYoSHMudGlsZU1hdHJpeC5zZXQoaSksSHMuc2hhZG93VGlsZU1hdHJpeD1GbG9hdDMyQXJyYXkuZnJvbShsLmNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tTWF0cml4KGkpKSxIcy5hYWJiLm1pbi5maWxsKDApLEhzLmFhYmIubWF4WzBdPUhzLmFhYmIubWF4WzFdPWUuVixIcy5hYWJiLm1heFsyXT0wLFhzKHIsSHMsdCxvLnNjb3BlKSljb250aW51ZX1jb25zdCBwPTE8PHUuY2Fub25pY2FsLnosZj1bKChuLngtdS53cmFwKSpwLXUuY2Fub25pY2FsLngpKmUuViwobi55KnAtdS5jYW5vbmljYWwueSkqZS5WLG4ueipwKmUuVl07Zm9yKGxldCBlIGluIHIuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IGk9ci5pbnN0YW5jZXNQZXJNb2RlbFtlXTtpLmZlYXR1cmVzLmxlbmd0aD4wJiYoZT1fLmV2YWx1YXRlKGkuZmVhdHVyZXNbMF0uZmVhdHVyZSx7fSkpO2NvbnN0IHM9YS5nZXRNb2RlbChlLG8uc2NvcGUpO2lmKHMmJnMudXBsb2FkZWQpZm9yKGNvbnN0IGUgb2Ygcy5ub2Rlcylxcyh0LG8sZSxpLGYsdSxIcyk7fX19KHQsaSxvLHIpLHZvaWQgYygpO2lmKCFoLmxvYWRlZCgpKXJldHVybjtpZihcImJhdGNoZWQtbW9kZWxcIj09PWgudHlwZSlyZXR1cm4gZnVuY3Rpb24odCxpLG8scil7by5yZXNldExheWVyUmVuZGVyaW5nU3RhdHModCk7Y29uc3Qgcz10LmNvbnRleHQsbj10LnRyYW5zZm9ybSxhPXQuc3R5bGUuZm9nLGw9dC5zaGFkb3dSZW5kZXJlcjtpZihcIm1lcmNhdG9yXCIhPT1uLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdm9pZCBlLncoYERyYXdpbmcgM0QgbGFuZG1hcmsgbW9kZWxzIGZvciAke24ucHJvamVjdGlvbi5uYW1lfSBwcm9qZWN0aW9uIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtjb25zdCBjPXQudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24saD1lLk4uc2NhbGUoW10sW2MueCxjLnksYy56XSx0LnRyYW5zZm9ybS53b3JsZFNpemUpO2UuTi5uZWdhdGUoaCxoKTtjb25zdCB1PWUuYTYuaWRlbnRpdHkoW10pLGQ9ZS5jUihuLmNlbnRlci5sYXQsbi56b29tKSxfPWUuYTYuZnJvbVNjYWxpbmcoW10sWzEsMSwxL2RdKTtlLmE2LnRyYW5zbGF0ZSh1LHUsaCk7Y29uc3QgcD1vLnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIiksZj1uZXcgTHQocy5nbC5MRVFVQUwsTHQuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKSxtPW5ldyBMdChzLmdsLkxFUVVBTCxMdC5SZWFkT25seSx0LmRlcHRoUmFuZ2VGb3IzRCksZz1uZXcgZS5iUyhbMS8wLDEvMCwxLzBdLFstMS8wLC0xLzAsLTEvMF0pLHY9XCJzaGFkb3dcIj09PXQucmVuZGVyUGFzcyx4PXYmJmw/bC5nZXRDdXJyZW50Q2FzY2FkZUZydXN0dW0oKTpuLmdldEZydXN0dW0obi5zY2FsZVpvb20obi53b3JsZFNpemUpKSx5PW8uZ2V0TGF5ZXJSZW5kZXJpbmdTdGF0cygpLGI9ZnVuY3Rpb24oYyxoKXtmb3IoY29uc3QgZCBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShkKS5nZXRCdWNrZXQobyk7aWYoIXJ8fCFyLnVwbG9hZGVkKWNvbnRpbnVlO2xldCBiPSExO2wmJihiPTA9PT1sLmdldE1heENhc2NhZGVGb3JUaWxlKGQudG9VbndyYXBwZWQoKSkpO2NvbnN0IHc9bi5jYWxjdWxhdGVQb3NNYXRyaXgoZC50b1Vud3JhcHBlZCgpLG4ud29ybGRTaXplKSxUPXIubW9kZWxUcmFpdHM7Zm9yKGNvbnN0IGkgb2Ygci5nZXROb2Rlc0luZm8oKSl7aWYoaS5oaWRkZW5CeVJlcGxhY2VtZW50KWNvbnRpbnVlO2lmKCFpLm5vZGUubWVzaGVzKWNvbnRpbnVlO2NvbnN0IHI9aS5ldmFsdWF0ZWRTY2FsZSxFPWkubm9kZTtsZXQgUz0wO2lmKHQudGVycmFpbiYmRS5lbGV2YXRpb24mJihTPUUuZWxldmF0aW9uKnQudGVycmFpbi5leGFnZ2VyYXRpb24oKSksclswXTw9MSYmclsxXTw9MSYmclsyXTw9MSYmMD09PSgoKT0+e2NvbnN0IHQ9aS5nZXRMb2NhbEJvdW5kcygpO3JldHVybiBnLm1pbj1bLi4udC5taW5dLGcubWF4PVsuLi50Lm1heF0sZy5taW5bMl0rPVMsZy5tYXhbMl0rPVMsZS5OLnRyYW5zZm9ybU1hdDQoZy5taW4sZy5taW4sdyksZS5OLnRyYW5zZm9ybU1hdDQoZy5tYXgsZy5tYXgsdyksZ30pKCkuaW50ZXJzZWN0cyh4KSljb250aW51ZTtjb25zdCBDPVwibGlnaHQtYmVhbVwiPT09dC5yZW5kZXJQYXNzLEk9Wy4uLnddO2UuYTYudHJhbnNsYXRlKEksSSxbKEUuYW5jaG9yP0UuYW5jaG9yWzBdOjApKihyWzBdLTEpLChFLmFuY2hvcj9FLmFuY2hvclsxXTowKSooclsxXS0xKSxTXSksZS5OLmV4YWN0RXF1YWxzKHIsZS5jVCl8fGUuYTYuc2NhbGUoSSxJLHIpLGUuYTYubXVsdGlwbHkoSSxJLEUubWF0cml4KTtjb25zdCBEPWUuYTYubXVsdGlwbHkoW10sXyxJKTtlLmE2Lm11bHRpcGx5KEQsdSxEKTtjb25zdCBMPWUuYTYuaW52ZXJ0KFtdLEQpO2UuYTYudHJhbnNwb3NlKEwsTCksZS5hNi5zY2FsZShMLEwsJHMpO2NvbnN0IEE9ZS5hNi5tdWx0aXBseShbXSxuLmV4cGFuZGVkRmFyWlByb2pNYXRyaXgsSSksUj1UJmUuY1YuSGFzTWFwYm94TWVzaEZlYXR1cmVzLFA9Uj8wOmkuZXZhbHVhdGVkUk1FQVswXVsyXTtmb3IobGV0IGU9MDtlPEUubWVzaGVzLmxlbmd0aDsrK2Upe2NvbnN0IHI9RS5tZXNoZXNbZV0sdT1lPT09RS5saWdodE1lc2hJbmRleDtpZih1KXtpZighQyYmIXQudGVycmFpbiYmdC5zaGFkb3dSZW5kZXJlcil7dC5jdXJyZW50TGF5ZXI8dC5maXJzdExpZ2h0QmVhbUxheWVyJiYodC5maXJzdExpZ2h0QmVhbUxheWVyPXQuY3VycmVudExheWVyKTtjb250aW51ZX19ZWxzZSBpZihDKWNvbnRpbnVlO2NvbnN0IF89e2RlZmluZXM6W119LGc9W107aWYoVXMoXy5kZWZpbmVzLGcscix0KSxSfHxfLmRlZmluZXMucHVzaChcIkRJRkZVU0VfU0hBREVEXCIpLGImJl8uZGVmaW5lcy5wdXNoKFwiU0hBRE9XU19TSU5HTEVfQ0FTQ0FERVwiKSx5JiYodj95Lm51bVJlbmRlcmVkVmVydGljZXNJblNoYWRvd1Bhc3MrPXIudmVydGV4QXJyYXkubGVuZ3RoOnkubnVtUmVuZGVyZWRWZXJ0aWNlc0luVHJhbnNwYXJlbnRQYXNzKz1yLnZlcnRleEFycmF5Lmxlbmd0aCksdil7VnMocixJLHQsbyk7Y29udGludWV9bGV0IHg9bnVsbDtpZihhKXtjb25zdCBlPU5zKEksdC50cmFuc2Zvcm0pO2lmKHg9bmV3IEZsb2F0MzJBcnJheShlKSxcImdsb2JlXCIhPT1uLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD1yLmFhYmIubWluLGk9ci5hYWJiLm1heCxbbyxzXT1hLmdldE9wYWNpdHlGb3JCb3VuZHMoZSx0WzBdLHRbMV0saVswXSxpWzFdKTtfLm92ZXJyaWRlRm9nPW8+PW1lfHxzPj1tZTt9fWNvbnN0IHc9ci5tYXRlcmlhbDtsZXQgVDt3Lm9jY2x1c2lvblRleHR1cmUmJncub2NjbHVzaW9uVGV4dHVyZS5vZmZzZXRTY2FsZSYmKFQ9dy5vY2NsdXNpb25UZXh0dXJlLm9mZnNldFNjYWxlLF8uZGVmaW5lcy5wdXNoKFwiT0NDTFVTSU9OX1RFWFRVUkVfVFJBTlNGT1JNXCIpKSwhdiYmbCYmKGwudXNlTm9ybWFsT2Zmc2V0PSEhci5ub3JtYWxCdWZmZXIpO2NvbnN0IFM9dC5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbFwiLF8pOyF2JiZsJiZsLnNldHVwU2hhZG93c0Zyb21NYXRyaXgoSSxTLGwudXNlTm9ybWFsT2Zmc2V0KSx0LnVwbG9hZENvbW1vblVuaWZvcm1zKHMsUyxkLnRvVW53cmFwcGVkKCkseCk7Y29uc3QgTT13LnBick1ldGFsbGljUm91Z2huZXNzO00ubWV0YWxsaWNGYWN0b3I9LjksTS5yb3VnaG5lc3NGYWN0b3I9LjU7Y29uc3Qgej0kcihuZXcgRmxvYXQzMkFycmF5KEEpLG5ldyBGbG9hdDMyQXJyYXkoRCksbmV3IEZsb2F0MzJBcnJheShMKSx0LHAsTS5iYXNlQ29sb3JGYWN0b3Isdy5lbWlzc2l2ZUZhY3RvcixNLm1ldGFsbGljRmFjdG9yLE0ucm91Z2huZXNzRmFjdG9yLHcsUCxvLFswLDAsMF0sVCk7Uy5kcmF3KHQscy5nbC5UUklBTkdMRVMsaCYmIXU/ZjptLFJ0LmRpc2FibGVkLGM/dXx8cDwxfHxpLmhhc1RyYW5zbHVjZW50UGFydHM/TXQuYWxwaGFCbGVuZGVkOk10LnVuYmxlbmRlZDpNdC5kaXNhYmxlZCxGdC5iYWNrQ0NXLHosby5pZCxyLnZlcnRleEJ1ZmZlcixyLmluZGV4QnVmZmVyLHIuc2VnbWVudHMsby5wYWludCx0LnRyYW5zZm9ybS56b29tLHZvaWQgMCxnKTt9fX19OygoZnVuY3Rpb24oZSx0LGksbyl7Y29uc3Qgcj1lLnRlcnJhaW4/ZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpOjAscz1lLnRyYW5zZm9ybS56b29tO2Zvcihjb25zdCBuIG9mIG8pe2NvbnN0IG89dC5nZXRUaWxlKG4pLmdldEJ1Y2tldChpKTtvJiYoZS5jb25mbGF0aW9uQWN0aXZlJiZvLnVwZGF0ZVJlcGxhY2VtZW50KG4sZS5yZXBsYWNlbWVudFNvdXJjZSksby5ldmFsdWF0ZVNjYWxlKGUsaSksZS50ZXJyYWluJiZyPjAmJm8uZWxldmF0aW9uVXBkYXRlKGUudGVycmFpbixyLG4saS5zb3VyY2UpLG8ubmVlZHNSZUV2YWx1YXRpb24oZSxzLGkpJiZvLmV2YWx1YXRlKGkpKTt9fSkpKHQsaSxvLHIpLDE9PT1wP2IoITAsITApOihiKCExLCEwKSxiKCEwLCExKSk7fSh0LGksbyxyKSx2b2lkIGMoKTtjb25zdCB1PWguZ2V0TW9kZWxzKCksZD1bXSxfPXQudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24scD1lLk4uc2NhbGUoW10sW18ueCxfLnksXy56XSx0LnRyYW5zZm9ybS53b3JsZFNpemUpO2UuTi5uZWdhdGUocCxwKTtjb25zdCBmPVtdLG09W107bGV0IGc9MDtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCByPW8ucGFpbnQuZ2V0KFwibW9kZWwtcm90YXRpb25cIikuY29uc3RhbnRPcihudWxsKSxzPW8ucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuY29uc3RhbnRPcihudWxsKSxuPW8ucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuY29uc3RhbnRPcihudWxsKTtpLmNvbXB1dGVNb2RlbE1hdHJpeCh0LHIscyxuLCEwLCEwLCExKTtjb25zdCBhPWUuYTYuaWRlbnRpdHkoW10pLGw9ZS5jUihpLnBvc2l0aW9uLmxhdCx0LnRyYW5zZm9ybS56b29tKSxjPWUuYTYuZnJvbVNjYWxpbmcoW10sWzEsMSwxL2xdKTtlLmE2LnRyYW5zbGF0ZShhLGEscCksZC5wdXNoKHt6U2NhbGVNYXRyaXg6YyxuZWdDYW1lcmFQb3NNYXRyaXg6YX0pO2Zvcihjb25zdCBlIG9mIGkubm9kZXMpanModC50cmFuc2Zvcm0sZSxpLm1hdHJpeCx0LnRyYW5zZm9ybS5leHBhbmRlZEZhclpQcm9qTWF0cml4LGcsZixtKTtnKys7fWlmKGYuc29ydCgoKGUsdCk9PnQuZGVwdGgtZS5kZXB0aCkpLFwic2hhZG93XCIhPT10LnJlbmRlclBhc3Mpe2lmKDE9PT1zKWZvcihjb25zdCBlIG9mIG0pR3MoZSx0LG8sZFtlLm1vZGVsSW5kZXhdLFJ0LmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtlbHNlIHtmb3IoY29uc3QgZSBvZiBtKUdzKGUsdCxvLGRbZS5tb2RlbEluZGV4XSxSdC5kaXNhYmxlZCxNdC5kaXNhYmxlZCk7Zm9yKGNvbnN0IGUgb2YgbSlHcyhlLHQsbyxkW2UubW9kZWxJbmRleF0sdC5zdGVuY2lsTW9kZUZvcjNEKCksdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO3QucmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpO31mb3IoY29uc3QgZSBvZiBmKUdzKGUsdCxvLGRbZS5tb2RlbEluZGV4XSxSdC5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7YygpO31lbHNlIHtmb3IoY29uc3QgZSBvZiBtKVZzKGUubWVzaCxlLm5vZGVNb2RlbE1hdHJpeCx0LG8pO2Zvcihjb25zdCBlIG9mIGYpVnMoZS5tZXNoLGUubm9kZU1vZGVsTWF0cml4LHQsbyk7YygpO319fSxlbj17bW9kZWw6ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89ZS5zY29wZSxyPXQuZ2V0U291cmNlKCk7aWYoIXIubG9hZGVkKCkpcmV0dXJuO2lmKFwidmVjdG9yXCI9PT1yLnR5cGV8fFwiZ2VvanNvblwiPT09ci50eXBlKXJldHVybiB2b2lkKGkubW9kZWxNYW5hZ2VyJiZpLm1vZGVsTWFuYWdlci51cGxvYWQoaSxvKSk7aWYoXCJiYXRjaGVkLW1vZGVsXCI9PT1yLnR5cGUpcmV0dXJuO2NvbnN0IHM9ci5nZXRNb2RlbHMoKTtmb3IoY29uc3QgZSBvZiBzKWUudXBsb2FkKGkuY29udGV4dCk7fSxyYXN0ZXI6ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89dC5nZXRTb3VyY2UoKTtpZighKG8gaW5zdGFuY2VvZiB6ZSYmby5sb2FkZWQoKSkpcmV0dXJuO2NvbnN0IHI9ZS5zb3VyY2VMYXllcnx8by5yYXN0ZXJMYXllcklkcyYmby5yYXN0ZXJMYXllcklkc1swXTtpZighcilyZXR1cm47Y29uc3Qgcz1lLnBhaW50LmdldChcInJhc3Rlci1hcnJheS1iYW5kXCIpfHxvLmdldEluaXRpYWxCYW5kKHIpO2lmKG51bGw9PXMpcmV0dXJuO2NvbnN0IG49dC5nZXRJZHMoKS5tYXAoKGU9PnQuZ2V0VGlsZUJ5SUQoZSkpKTtmb3IoY29uc3QgZSBvZiBuKWUudXBkYXRlTmVlZGVkKHIscykmJm8ucHJlcGFyZVRpbGUoZSxyLHMpO30sXCJyYXN0ZXItcGFydGljbGVcIjpmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbz10LmdldFNvdXJjZSgpO2lmKCEobyBpbnN0YW5jZW9mIHplJiZvLmxvYWRlZCgpKSlyZXR1cm47Y29uc3Qgcj1lLnNvdXJjZUxheWVyfHxvLnJhc3RlckxheWVySWRzJiZvLnJhc3RlckxheWVySWRzWzBdO2lmKCFyKXJldHVybjtjb25zdCBzPWUucGFpbnQuZ2V0KFwicmFzdGVyLXBhcnRpY2xlLWFycmF5LWJhbmRcIil8fG8uZ2V0SW5pdGlhbEJhbmQocik7aWYobnVsbD09cylyZXR1cm47Y29uc3Qgbj10LmdldElkcygpLm1hcCgoZT0+dC5nZXRUaWxlQnlJRChlKSkpO2Zvcihjb25zdCBlIG9mIG4pZS51cGRhdGVOZWVkZWQocixzKSYmby5wcmVwYXJlVGlsZShlLHIscyk7fX07Y2xhc3MgdG57Y29uc3RydWN0b3IodCxpLG8scil7dGhpcy5jb250ZXh0PW5ldyBCdCh0LGkpLHRoaXMudHJhbnNmb3JtPW8sdGhpcy5fdGlsZVRleHR1cmVzPXt9LHRoaXMuZnJhbWVDb3BpZXM9W10sdGhpcy5sb2FkVGltZVN0YW1wcz1bXSx0aGlzLnRwPXIsdGhpcy5fZGVidWdQYXJhbXM9e3Nob3dUZXJyYWluUHJveHlUaWxlczohMX0sci5yZWdpc3RlclBhcmFtZXRlcih0aGlzLl9kZWJ1Z1BhcmFtcyxbXCJUZXJyYWluXCJdLFwic2hvd1RlcnJhaW5Qcm94eVRpbGVzXCIse30sKCgpPT57dGhpcy5zdHlsZS5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPUt0Lm1heFVuZGVyem9vbWluZytLdC5tYXhPdmVyem9vbWluZysxLHRoaXMuZGVwdGhFcHNpbG9uPTEvTWF0aC5wb3coMiwxNiksdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLHRoaXMuZ3B1VGltZXJzPXt9LHRoaXMuZnJhbWVDb3VudGVyPTAsdGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LHRoaXMuY29uZmxhdGlvbkFjdGl2ZT0hMSx0aGlzLnJlcGxhY2VtZW50U291cmNlPW5ldyBlLmNYLHRoaXMubG9uZ2VzdEN1dG9mZlJhbmdlPTAsdGhpcy5taW5DdXRvZmZab29tPTAsdGhpcy5fZm9nVmlzaWJsZT0hMSx0aGlzLl9jYWNoZWRUaWxlRm9nT3BhY2l0aWVzPXt9LHRoaXMuX3NoYWRvd1JlbmRlcmVyPW5ldyB3byh0aGlzKSx0aGlzLl93aXJlZnJhbWVEZWJ1Z0NhY2hlPW5ldyBZcyx0aGlzLnJlbmRlckRlZmF1bHROb3J0aFBvbGU9ITAsdGhpcy5yZW5kZXJEZWZhdWx0U291dGhQb2xlPSEwO311cGRhdGVUZXJyYWluKGUsdCl7Y29uc3QgaT0hIWUmJiEhZS50ZXJyYWluJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbjtpZighKGl8fHRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZCkpcmV0dXJuO3RoaXMuX3RlcnJhaW58fCh0aGlzLl90ZXJyYWluPW5ldyBncih0aGlzLGUpKTtjb25zdCBvPXRoaXMuX3RlcnJhaW47dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uPWk/bzpudWxsLG8udXBkYXRlKGUsdGhpcy50cmFuc2Zvcm0sdCksdGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiYhby5lbmFibGVkJiYodGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uPW51bGwpO31fdXBkYXRlRm9nKGUpe2NvbnN0IHQ9ZS5mb2c7aWYoIXR8fFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKTwxfHx0LnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKTwuMDMpcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdFtpLG9dPXQuZ2V0Rm92QWRqdXN0ZWRSYW5nZSh0aGlzLnRyYW5zZm9ybS5fZm92KTtpZihpPm8pcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdCByPWkrLjc4KihvLWkpO3RoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9cipyO31nZXQgdGVycmFpbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkP3RoaXMuX3RlcnJhaW46bnVsbH1nZXQgc2hhZG93UmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5fc2hhZG93UmVuZGVyZXImJnRoaXMuX3NoYWRvd1JlbmRlcmVyLmVuYWJsZWQ/dGhpcy5fc2hhZG93UmVuZGVyZXI6bnVsbH1nZXQgd2lyZWZyYW1lRGVidWdDYWNoZSgpe3JldHVybiB0aGlzLl93aXJlZnJhbWVEZWJ1Z0NhY2hlfXJlc2l6ZSh0LGkpe2lmKHRoaXMud2lkdGg9dCplLmYuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmhlaWdodD1pKmUuZi5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5zdHlsZSlmb3IoY29uc3QgZSBvZiB0aGlzLnN0eWxlLm9yZGVyKXRoaXMuc3R5bGUuX21lcmdlZExheWVyc1tlXS5yZXNpemUoKTt9c2V0dXAoKXtjb25zdCB0PXRoaXMuY29udGV4dCxpPW5ldyBlLmFOO2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKGUuViwwKSxpLmVtcGxhY2VCYWNrKDAsZS5WKSxpLmVtcGxhY2VCYWNrKGUuVixlLlYpLHRoaXMudGlsZUV4dGVudEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLGUuYVAubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9ZS5hQi5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IG89bmV3IGUuYU47by5lbXBsYWNlQmFjaygwLDApLG8uZW1wbGFjZUJhY2soZS5WLDApLG8uZW1wbGFjZUJhY2soMCxlLlYpLG8uZW1wbGFjZUJhY2soZS5WLGUuViksdGhpcy5kZWJ1Z0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihvLGUuYVAubWVtYmVycyksdGhpcy5kZWJ1Z1NlZ21lbnRzPWUuYUIuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCByPW5ldyBlLmFOO3IuZW1wbGFjZUJhY2soLTEsLTEpLHIuZW1wbGFjZUJhY2soMSwtMSksci5lbXBsYWNlQmFjaygtMSwxKSxyLmVtcGxhY2VCYWNrKDEsMSksdGhpcy52aWV3cG9ydEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLGUuYVAubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPWUuYUIuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBzPW5ldyBlLmF2O3MuZW1wbGFjZUJhY2soMCwwLDAsMCkscy5lbXBsYWNlQmFjayhlLlYsMCxlLlYsMCkscy5lbXBsYWNlQmFjaygwLGUuViwwLGUuVikscy5lbXBsYWNlQmFjayhlLlYsZS5WLGUuVixlLlYpLHRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxlLmFSLm1lbWJlcnMpLHRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50cz1lLmFCLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3Qgbj1uZXcgZS5hdztuLmVtcGxhY2VCYWNrKDAsMSwyKSxuLmVtcGxhY2VCYWNrKDIsMSwzKSx0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIobik7Y29uc3QgYT1uZXcgZS5hTztmb3IoY29uc3QgZSBvZiBbMCwxLDMsMiwwXSlhLmVtcGxhY2VCYWNrKGUpO3RoaXMuZGVidWdJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGEpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyBlLlQodCxuZXcgZS5oKHt3aWR0aDoxLGhlaWdodDoxfSxVaW50OEFycmF5Lm9mKDAsMCwwLDApKSx0LmdsLlJHQkEpLHRoaXMuaWRlbnRpdHlNYXQ9ZS5hNi5jcmVhdGUoKTtjb25zdCBsPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0ZW5jaWxDbGVhck1vZGU9bmV3IFJ0KHtmdW5jOmwuQUxXQVlTLG1hc2s6MH0sMCwyNTUsbC5aRVJPLGwuWkVSTyxsLlpFUk8pLHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChwZXJmb3JtYW5jZS5ub3coKSk7fWdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKXtyZXR1cm4ge3RpbGVCb3VuZHNCdWZmZXI6dGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcix0aWxlQm91bmRzSW5kZXhCdWZmZXI6dGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6dGhpcy5tZXJjYXRvckJvdW5kc1NlZ21lbnRzfX1nZXRUaWxlQm91bmRzQnVmZmVycyhlKXtyZXR1cm4gZS5fbWFrZVRpbGVCb3VuZHNCdWZmZXJzKHRoaXMuY29udGV4dCx0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uKSxlLl90aWxlQm91bmRzQnVmZmVyP3t0aWxlQm91bmRzQnVmZmVyOmUuX3RpbGVCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmUuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6ZS5fdGlsZUJvdW5kc1NlZ21lbnRzfTp0aGlzLmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKX1jbGVhclN0ZW5jaWwoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDt0aGlzLm5leHRTdGVuY2lsSUQ9MSx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9LHRoaXMuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpLmRyYXcodGhpcyxlLlRSSUFOR0xFUyxMdC5kaXNhYmxlZCx0aGlzLnN0ZW5jaWxDbGVhck1vZGUsTXQuZGlzYWJsZWQsRnQuZGlzYWJsZWQsZHIodGhpcy5pZGVudGl0eU1hdCksXCIkY2xpcHBpbmdcIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9cmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpe3RoaXMudGVycmFpbnx8KHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30pO31fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSx0LGkpe2lmKCF0fHx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPT09dC5pZHx8IWUuaXNUaWxlQ2xpcHBlZCgpfHwhaXx8MD09PWkubGVuZ3RoKXJldHVybjtpZih0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzJiYhdGhpcy50ZXJyYWluKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBpKWlmKHZvaWQgMD09PXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybn10aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXQuaWQ7Y29uc3Qgbz10aGlzLmNvbnRleHQscj1vLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtpLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksby5zZXRDb2xvck1vZGUoTXQuZGlzYWJsZWQpLG8uc2V0RGVwdGhNb2RlKEx0LmRpc2FibGVkKTtjb25zdCBzPXRoaXMuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT10LmdldFRpbGUoZSksbz10aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW2Uua2V5XT10aGlzLm5leHRTdGVuY2lsSUQrKyx7dGlsZUJvdW5kc0J1ZmZlcjpuLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjphLHRpbGVCb3VuZHNTZWdtZW50czpsfT10aGlzLmdldFRpbGVCb3VuZHNCdWZmZXJzKGkpO3MuZHJhdyh0aGlzLHIuVFJJQU5HTEVTLEx0LmRpc2FibGVkLG5ldyBSdCh7ZnVuYzpyLkFMV0FZUyxtYXNrOjB9LG8sMjU1LHIuS0VFUCxyLktFRVAsci5SRVBMQUNFKSxNdC5kaXNhYmxlZCxGdC5kaXNhYmxlZCxkcihlLnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsbixhLGwpO319c3RlbmNpbE1vZGVGb3IzRCgpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCBlPXRoaXMubmV4dFN0ZW5jaWxJRCsrLHQ9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgUnQoe2Z1bmM6dC5OT1RFUVVBTCxtYXNrOjI1NX0sZSwyNTUsdC5LRUVQLHQuS0VFUCx0LlJFUExBQ0UpfXN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoZSl7aWYodGhpcy50ZXJyYWluKXJldHVybiB0aGlzLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKGUpO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgUnQoe2Z1bmM6dC5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tlLmtleV0sMCx0LktFRVAsdC5LRUVQLHQuUkVQTEFDRSl9c3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2wsaT1lLnNvcnQoKChlLHQpPT50Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFopKSxvPWlbaS5sZW5ndGgtMV0ub3ZlcnNjYWxlZFoscj1pWzBdLm92ZXJzY2FsZWRaLW8rMTtpZihyPjEpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCtyPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCBlPXt9O2ZvcihsZXQgaT0wO2k8cjtpKyspZVtpK29dPW5ldyBSdCh7ZnVuYzp0LkdFUVVBTCxtYXNrOjI1NX0saSt0aGlzLm5leHRTdGVuY2lsSUQsMjU1LHQuS0VFUCx0LktFRVAsdC5SRVBMQUNFKTtyZXR1cm4gdGhpcy5uZXh0U3RlbmNpbElEKz1yLFtlLGldfXJldHVybiBbe1tvXTpSdC5kaXNhYmxlZH0saV19Y29sb3JNb2RlRm9yUmVuZGVyUGFzcygpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO2lmKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcil7Y29uc3QgaT0xLzg7cmV0dXJuIG5ldyBNdChbdC5DT05TVEFOVF9DT0xPUix0Lk9ORSx0LkNPTlNUQU5UX0NPTE9SLHQuT05FXSxuZXcgZS5heChpLGksaSwwKSxbITAsITAsITAsITBdKX1yZXR1cm4gXCJvcGFxdWVcIj09PXRoaXMucmVuZGVyUGFzcz9NdC51bmJsZW5kZWQ6TXQuYWxwaGFCbGVuZGVkfWNvbG9yTW9kZUZvckRyYXBhYmxlTGF5ZXJSZW5kZXJQYXNzKHQpe2NvbnN0IGk9dGhpcy5jb250ZXh0LmdsO3JldHVybiAoKCk9PnRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSYmdGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKSgpJiZcInRyYW5zbHVjZW50XCI9PT10aGlzLnJlbmRlclBhc3M/bmV3IE10KFtpLk9ORSxpLk9ORV9NSU5VU19TUkNfQUxQSEEsaS5DT05TVEFOVF9BTFBIQSxpLk9ORV9NSU5VU19TUkNfQUxQSEFdLG5ldyBlLmF4KDAsMCwwLHZvaWQgMD09PXQ/MDp0KSxbITAsITAsITAsITBdKTp0aGlzLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKX1kZXB0aE1vZGVGb3JTdWJsYXllcihlLHQsaSxvPSExKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkmJiFvKXJldHVybiBMdC5kaXNhYmxlZDtjb25zdCByPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycytlKSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IEx0KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsdCxbcixyXSl9b3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpe3JldHVybiB0aGlzLmN1cnJlbnRMYXllcjx0aGlzLm9wYXF1ZVBhc3NDdXRvZmZ9cmVuZGVyKHQsaSl7dGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZS51cGRhdGUodGhpcy5mcmFtZUNvdW50ZXIpLHRoaXMuc3R5bGU9dCx0aGlzLm9wdGlvbnM9aTtjb25zdCBvPXRoaXMuc3R5bGUuX21lcmdlZExheWVycyxyPXRoaXMuc3R5bGUub3JkZXIscz1yLm1hcCgoZT0+b1tlXSkpLG49dGhpcy5zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO3RoaXMuaW1hZ2VNYW5hZ2VyPXQuaW1hZ2VNYW5hZ2VyLHRoaXMubW9kZWxNYW5hZ2VyPXQubW9kZWxNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT10LnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGUuZi5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO2xldCBhPTAsbD0hMTtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PW5bZV07dC51c2VkJiYodC5wcmVwYXJlKHRoaXMuY29udGV4dCksdC5nZXRTb3VyY2UoKS51c2VkSW5Db25mbGF0aW9uJiYrK2EpO31mb3IoY29uc3QgZSBvZiBzKWUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fHRoaXMucHJlcGFyZUxheWVyKGUpO2NvbnN0IGM9e30saD17fSx1PXt9LGQ9e30sXz17fTtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PW5bZV07Y1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcygpLGhbZV09Y1tlXS5zbGljZSgpLnJldmVyc2UoKSx1W2VdPXQuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCEwKS5yZXZlcnNlKCksZFtlXT10LmdldFNoYWRvd0Nhc3RlckNvb3JkaW5hdGVzKCksX1tlXT10LnNvcnRDb29yZGluYXRlc0J5RGlzdGFuY2UoY1tlXSk7fWNvbnN0IHA9ZT0+e2NvbnN0IHQ9dGhpcy5zdHlsZS5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LnVzZWQ/dC5nZXRTb3VyY2UoKTpudWxsfTtpZihhKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHMpdGhpcy5sYXllclVzZWRJbkNvbmZsYXRpb24odCxwKHQpKSYmZS5wdXNoKHQpO2lmKGUmJmUubGVuZ3RoPjEpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT10aGlzLnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7ZSYmZS51c2VkJiZlLmdldFNvdXJjZSgpLnVzZWRJbkNvbmZsYXRpb24mJnQucHVzaCh7bGF5ZXI6aS5mcWlkLGNhY2hlOmV9KTt9dGhpcy5yZXBsYWNlbWVudFNvdXJjZS5zZXRTb3VyY2VzKHQpLGw9ITA7fX1sfHx0aGlzLnJlcGxhY2VtZW50U291cmNlLmNsZWFyKCksdGhpcy5jb25mbGF0aW9uQWN0aXZlPWwsdGhpcy5taW5DdXRvZmZab29tPTAsdGhpcy5sb25nZXN0Q3V0b2ZmUmFuZ2U9MDtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PWUuY3V0b2ZmUmFuZ2UoKTtpZih0aGlzLmxvbmdlc3RDdXRvZmZSYW5nZT1NYXRoLm1heCh0LHRoaXMubG9uZ2VzdEN1dG9mZlJhbmdlKSx0PjApe2NvbnN0IHQ9cChlKTt0JiYodGhpcy5taW5DdXRvZmZab29tPU1hdGgubWF4KHQubWluem9vbSx0aGlzLm1pbkN1dG9mZlpvb20pKSxlLm1pbnpvb20mJih0aGlzLm1pbkN1dG9mZlpvb209TWF0aC5tYXgoZS5taW56b29tLHRoaXMubWluQ3V0b2ZmWm9vbSkpO319dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylpZihzW2VdLmlzM0QoKSl7dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPWU7YnJlYWt9Y29uc3QgZj10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZztmPyh0aGlzLl9mb2dWaXNpYmxlPTAhPT1mLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpLHRoaXMuX2ZvZ1Zpc2libGUmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX2ZvZ1Zpc2libGU9Zi5pc1Zpc2libGVPbkZydXN0dW0odGhpcy50cmFuc2Zvcm0uY2FtZXJhRnJ1c3R1bSkpKTp0aGlzLl9mb2dWaXNpYmxlPSExLHRoaXMuX2NhY2hlZFRpbGVGb2dPcGFjaXRpZXM9e30sdGhpcy50ZXJyYWluJiYodGhpcy50ZXJyYWluLnVwZGF0ZVRpbGVCaW5kaW5nKHUpLHRoaXMub3BhcXVlUGFzc0N1dG9mZj0wKTtjb25zdCBtPXRoaXMuX3NoYWRvd1JlbmRlcmVyO2lmKG0pe20udXBkYXRlU2hhZG93UGFyYW1ldGVycyh0aGlzLnRyYW5zZm9ybSx0aGlzLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQpO2Zvcihjb25zdCBlIGluIG4pZm9yKGNvbnN0IHQgb2YgY1tlXSl7bGV0IGU9e21pbjowLG1heDowfTt0aGlzLnRlcnJhaW4mJihlPXRoaXMudGVycmFpbi5nZXRNaW5NYXhGb3JUaWxlKHQpfHxlKSxtLmFkZFNoYWRvd1JlY2VpdmVyKHQudG9VbndyYXBwZWQoKSxlLm1pbixlLm1heCk7fX1pZihcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzfHwodGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnM9bmV3IGUuY1kodGhpcy5jb250ZXh0KSksdGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/KHRoaXMuX2F0bW9zcGhlcmV8fCh0aGlzLl9hdG1vc3BoZXJlPW5ldyBrcyh0aGlzKSksdGhpcy5fYXRtb3NwaGVyZS51cGRhdGUodGhpcykpOnRoaXMuX2F0bW9zcGhlcmUmJih0aGlzLl9hdG1vc3BoZXJlLmRlc3Ryb3koKSx0aGlzLl9hdG1vc3BoZXJlPXZvaWQgMCksIWUuY1oodGhpcy5jb250ZXh0LmdsKSlyZXR1cm47dGhpcy5yZW5kZXJQYXNzPVwib2Zmc2NyZWVuXCI7Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3QgaT10LmdldExheWVyU291cmNlQ2FjaGUoZSk7aWYoIWUuaGFzT2Zmc2NyZWVuUGFzcygpfHxlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IG89aT9oW2kuaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PWUudHlwZXx8XCJyYXN0ZXJcIj09PWUudHlwZXx8XCJyYXN0ZXItcGFydGljbGVcIj09PWUudHlwZXx8ZS5pc1NreSgpfHxvJiZvLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUsbyk7fXRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKHMubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXTtjb25zdCBnPXRoaXMudGVycmFpbjtnJiYodGhpcy5zdHlsZS5oYXNTeW1ib2xMYXllcnMoKXx8dGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkmJiF0aGlzLnRyYW5zZm9ybS5pc09ydGhvZ3JhcGhpYyYmZy5kcmF3RGVwdGgoKSx0aGlzLl9zaGFkb3dSZW5kZXJlciYmKHRoaXMucmVuZGVyUGFzcz1cInNoYWRvd1wiLHRoaXMuX3NoYWRvd1JlbmRlcmVyLmRyYXdTaGFkb3dQYXNzKHRoaXMuc3R5bGUsZCkpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSk7Y29uc3Qgdj1cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSx4PSgoKT0+e2lmKGkuc2hvd092ZXJkcmF3SW5zcGVjdG9yKXJldHVybiBlLmF4LmJsYWNrO2lmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nJiYhdil7Y29uc3QgdD10aGlzLnN0eWxlLmZvZy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpO3JldHVybiBuZXcgZS5heCguLi50KX1pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmdil7Y29uc3QgdD10aGlzLnN0eWxlLmZvZy5wcm9wZXJ0aWVzLmdldChcInNwYWNlLWNvbG9yXCIpLnRvQXJyYXkwMSgpO3JldHVybiBuZXcgZS5heCguLi50KX1yZXR1cm4gZS5heC50cmFuc3BhcmVudH0pKCk7aWYodGhpcy5jb250ZXh0LmNsZWFyKHtjb2xvcjp4LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1pLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLnJlbmRlclBhc3M9XCJvcGFxdWVcIix0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmdGhpcy5fYXRtb3NwaGVyZSYmIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmdiYmdGhpcy5fYXRtb3NwaGVyZS5kcmF3U3RhcnModGhpcyx0aGlzLnN0eWxlLmZvZyksIXRoaXMudGVycmFpbilmb3IodGhpcy5jdXJyZW50TGF5ZXI9ci5sZW5ndGgtMTt0aGlzLmN1cnJlbnRMYXllcj49MDt0aGlzLmN1cnJlbnRMYXllci0tKXtjb25zdCBlPXNbdGhpcy5jdXJyZW50TGF5ZXJdLGk9dC5nZXRMYXllclNvdXJjZUNhY2hlKGUpO2lmKGUuaXNTa3koKSljb250aW51ZTtjb25zdCBvPWk/KGUuaXMzRCgpP186aClbaS5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsaSxvKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxlLG8pO31pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmdGhpcy5fYXRtb3NwaGVyZSYmIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmdiYmdGhpcy5fYXRtb3NwaGVyZS5kcmF3QXRtb3NwaGVyZUdsb3codGhpcyx0aGlzLnN0eWxlLmZvZyksdGhpcy5yZW5kZXJQYXNzPVwic2t5XCIsKCF0aGlzLl9hdG1vc3BoZXJlfHxlLlModGhpcy50cmFuc2Zvcm0uem9vbSk+MCkmJihcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSkpZm9yKHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8ci5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgZT1zW3RoaXMuY3VycmVudExheWVyXSxpPXQuZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlLmlzU2t5KCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUsaT9oW2kuaWRdOnZvaWQgMCk7fWZ1bmN0aW9uIHkoZSx0KXtsZXQgaTtyZXR1cm4gdCYmKGk9KFwic3ltYm9sXCI9PT1lLnR5cGU/dTplLmlzM0QoKT9fOmgpW3QuaWRdKSxpfWlmKHRoaXMucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCIsXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtmb3IodGhpcy5yZW5kZXJFbGV2YXRlZFJhc3RlckJhY2tmYWNlPSEwLHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8ci5sZW5ndGg7KXtjb25zdCBlPXNbdGhpcy5jdXJyZW50TGF5ZXJdO2lmKFwicmFzdGVyXCI9PT1lLnR5cGUpe2NvbnN0IGk9dC5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3RoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUseShlLGkpKTt9Kyt0aGlzLmN1cnJlbnRMYXllcjt9dGhpcy5yZW5kZXJFbGV2YXRlZFJhc3RlckJhY2tmYWNlPSExO310aGlzLmN1cnJlbnRMYXllcj0wLHRoaXMuZmlyc3RMaWdodEJlYW1MYXllcj1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtsZXQgYj0wO2ZvcihtJiYoYj1tLmdldFNoYWRvd0Nhc3RpbmdMYXllckNvdW50KCkpO3RoaXMuY3VycmVudExheWVyPHIubGVuZ3RoOyl7Y29uc3QgZT1zW3RoaXMuY3VycmVudExheWVyXSxpPXQuZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpKyt0aGlzLmN1cnJlbnRMYXllcjtlbHNlIGlmKGcmJnRoaXMuc3R5bGUuaXNMYXllckRyYXBlZChlKSl7aWYoZS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7Kyt0aGlzLmN1cnJlbnRMYXllcjtjb250aW51ZX10aGlzLmN1cnJlbnRMYXllcj1nLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTt9ZWxzZSB7aWYodGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSxpLGk/Y1tpLmlkXTp2b2lkIDApLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUseShlLGkpKSwhZyYmbSYmYj4wJiZlLmhhc1NoYWRvd1Bhc3MoKSYmMD09LS1iJiYobS5kcmF3R3JvdW5kU2hhZG93cygpLHRoaXMuZmlyc3RMaWdodEJlYW1MYXllcjw9dGhpcy5jdXJyZW50TGF5ZXIpKXtjb25zdCBlPXRoaXMuY3VycmVudExheWVyO2Zvcih0aGlzLnJlbmRlclBhc3M9XCJsaWdodC1iZWFtXCIsdGhpcy5jdXJyZW50TGF5ZXI9dGhpcy5maXJzdExpZ2h0QmVhbUxheWVyO3RoaXMuY3VycmVudExheWVyPD1lO3RoaXMuY3VycmVudExheWVyKyspe2NvbnN0IGU9c1t0aGlzLmN1cnJlbnRMYXllcl07aWYoIWUuaGFzTGlnaHRCZWFtUGFzcygpKWNvbnRpbnVlO2NvbnN0IGk9dC5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3RoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUsaT9oW2kuaWRdOnZvaWQgMCk7fXRoaXMuY3VycmVudExheWVyPWUsdGhpcy5yZW5kZXJQYXNzPVwidHJhbnNsdWNlbnRcIjt9Kyt0aGlzLmN1cnJlbnRMYXllcjt9fWlmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnBvc3RSZW5kZXIoKSx0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzfHx0aGlzLm9wdGlvbnMuc2hvd1F1ZXJ5R2VvbWV0cnl8fHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKXtsZXQgaT1udWxsO3MuZm9yRWFjaCgoZT0+e2NvbnN0IG89dC5nZXRMYXllclNvdXJjZUNhY2hlKGUpO28mJiFlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pJiZvLmdldFZpc2libGVDb29yZGluYXRlcygpLmxlbmd0aCYmKCFpfHxpLmdldFNvdXJjZSgpLm1heHpvb208by5nZXRTb3VyY2UoKS5tYXh6b29tKSYmKGk9byk7fSkpLGkmJnRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMmJlFzLmRlYnVnKHRoaXMsaSxpLmdldFZpc2libGVDb29yZGluYXRlcygpLGUuYXgucmVkLCExLHRoaXMub3B0aW9ucy5zaG93UGFyc2VTdGF0dXMpO310aGlzLnRlcnJhaW4mJnRoaXMuX2RlYnVnUGFyYW1zLnNob3dUZXJyYWluUHJveHlUaWxlcyYmUXMuZGVidWcodGhpcyx0aGlzLnRlcnJhaW4ucHJveHlTb3VyY2VDYWNoZSx0aGlzLnRlcnJhaW4ucHJveHlDb29yZHMsbmV3IGUuYXgoMSwuOCwuMSwxKSwhMCx0aGlzLm9wdGlvbnMuc2hvd1BhcnNlU3RhdHVzKSx0aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS50cmFuc2Zvcm0ucGFkZGluZztDcyhlLGUudHJhbnNmb3JtLmhlaWdodC0odC50b3B8fDApLDMseXMpLENzKGUsdC5ib3R0b218fDAsMyxicyksSXMoZSx0LmxlZnR8fDAsMyx3cyksSXMoZSxlLnRyYW5zZm9ybS53aWR0aC0odC5yaWdodHx8MCksMyxUcyk7Y29uc3QgaT1lLnRyYW5zZm9ybS5jZW50ZXJQb2ludDshZnVuY3Rpb24oZSx0LGksbyl7RHMoZSx0LTEsaS0xMCwyLDIwLG8pLERzKGUsdC0xMCxpLTEsMjAsMixvKTt9KGUsaS54LGUudHJhbnNmb3JtLmhlaWdodC1pLnksRXMpO30odGhpcyksdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKSx0aGlzLmZyYW1lQ291bnRlcj0odGhpcy5mcmFtZUNvdW50ZXIrMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdGhpcy50aWxlTG9hZGVkJiZ0aGlzLm9wdGlvbnMuc3BlZWRJbmRleFRpbWluZyYmKHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChwZXJmb3JtYW5jZS5ub3coKSksdGhpcy5zYXZlQ2FudmFzQ29weSgpKSxsfHwodGhpcy5jb25mbGF0aW9uQWN0aXZlPSExKTt9cHJlcGFyZUxheWVyKGUpe3RoaXMuZ3B1VGltaW5nU3RhcnQoZSk7Y29uc3R7dW5zdXBwb3J0ZWRMYXllcnM6dH09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbixpPSF0fHwhdC5pbmNsdWRlcyhlLnR5cGUpO2lmKGVuW2UudHlwZV0mJihpfHx0aGlzLnRlcnJhaW4mJlwiY3VzdG9tXCI9PT1lLnR5cGUpKXtjb25zdCB0PXRoaXMuc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlbltlLnR5cGVdKGUsdCx0aGlzKTt9dGhpcy5ncHVUaW1pbmdFbmQoKTt9cmVuZGVyTGF5ZXIoZSx0LGksbyl7aS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKXx8KFwiYmFja2dyb3VuZFwiPT09aS50eXBlfHxcInNreVwiPT09aS50eXBlfHxcImN1c3RvbVwiPT09aS50eXBlfHxcIm1vZGVsXCI9PT1pLnR5cGV8fFwicmFzdGVyXCI9PT1pLnR5cGV8fFwicmFzdGVyLXBhcnRpY2xlXCI9PT1pLnR5cGV8fG8mJm8ubGVuZ3RoKSYmKHRoaXMuaWQ9aS5pZCx0aGlzLmdwdVRpbWluZ1N0YXJ0KGkpLCghZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVyc3x8IWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXMoaS50eXBlKXx8ZS50ZXJyYWluJiZcImN1c3RvbVwiPT09aS50eXBlKSYmUXNbaS50eXBlXShlLHQsaSxvLHRoaXMuc3R5bGUucGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0cyx0aGlzLm9wdGlvbnMuaXNJbml0aWFsTG9hZCksdGhpcy5ncHVUaW1pbmdFbmQoKSk7fWdwdVRpbWluZ1N0YXJ0KGUpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXJldHVybjtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGk9dGhpcy5jb250ZXh0LmdsO2xldCBvPXRoaXMuZ3B1VGltZXJzW2UuaWRdO298fChvPXRoaXMuZ3B1VGltZXJzW2UuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTppLmNyZWF0ZVF1ZXJ5KCl9KSxvLmNhbGxzKyssaS5iZWdpblF1ZXJ5KHQuVElNRV9FTEFQU0VEX0VYVCxvLnF1ZXJ5KTt9Z3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpe2lmKHRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcil7Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSx0PXRoaXMuY29udGV4dC5nbCxpPXQuY3JlYXRlUXVlcnkoKTt0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXMucHVzaChpKSx0LmJlZ2luUXVlcnkoZS5USU1FX0VMQVBTRURfRVhULGkpO319Z3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQoKXt0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXImJnRoaXMuY29udGV4dC5nbC5lbmRRdWVyeSh0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeS5USU1FX0VMQVBTRURfRVhUKTt9Z3B1VGltaW5nRW5kKCl7dGhpcy5vcHRpb25zLmdwdVRpbWluZyYmdGhpcy5jb250ZXh0LmdsLmVuZFF1ZXJ5KHRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LlRJTUVfRUxBUFNFRF9FWFQpO31jb2xsZWN0R3B1VGltZXJzKCl7Y29uc3QgZT10aGlzLmdwdVRpbWVycztyZXR1cm4gdGhpcy5ncHVUaW1lcnM9e30sZX1jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCl7Y29uc3QgZT10aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM7cmV0dXJuIHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSxlfXF1ZXJ5R3B1VGltZXJzKGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbz1lW2ldLHI9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnkscz1yLmdldFF1ZXJ5UGFyYW1ldGVyKG8ucXVlcnksdGhpcy5jb250ZXh0LmdsLlFVRVJZX1JFU1VMVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoby5xdWVyeSksdFtpXT1zO31yZXR1cm4gdH1xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcihlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksaT10aGlzLmNvbnRleHQuZ2w7bGV0IG89MDtmb3IoY29uc3QgciBvZiBlKW8rPXQuZ2V0UXVlcnlQYXJhbWV0ZXIocixpLlFVRVJZX1JFU1VMVCkvMWU2LHQuZGVsZXRlUXVlcnlFWFQocik7cmV0dXJuIG99dHJhbnNsYXRlUG9zTWF0cml4KHQsaSxvLHIscyl7aWYoIW9bMF0mJiFvWzFdKXJldHVybiB0O2NvbnN0IG49cz9cIm1hcFwiPT09cj90aGlzLnRyYW5zZm9ybS5hbmdsZTowOlwidmlld3BvcnRcIj09PXI/LXRoaXMudHJhbnNmb3JtLmFuZ2xlOjA7aWYobil7Y29uc3QgZT1NYXRoLnNpbihuKSx0PU1hdGguY29zKG4pO289W29bMF0qdC1vWzFdKmUsb1swXSplK29bMV0qdF07fWNvbnN0IGE9W3M/b1swXTplLmEzKGksb1swXSx0aGlzLnRyYW5zZm9ybS56b29tKSxzP29bMV06ZS5hMyhpLG9bMV0sdGhpcy50cmFuc2Zvcm0uem9vbSksMF0sbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtyZXR1cm4gZS5hNi50cmFuc2xhdGUobCx0LGEpLGx9c2F2ZVRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9ZS5zaXplWzBdLGk9dGhpcy5fdGlsZVRleHR1cmVzW3RdO2k/aS5wdXNoKGUpOnRoaXMuX3RpbGVUZXh0dXJlc1t0XT1bZV07fWdldFRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2VdO3JldHVybiB0JiZ0Lmxlbmd0aD4wP3QucG9wKCk6bnVsbH1pc1BhdHRlcm5NaXNzaW5nKGUsdCl7cmV0dXJuIG51bGw9PT1lfHx2b2lkIDAhPT1lJiYhdGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvU3RyaW5nKCksdCl9dGVycmFpblJlbmRlck1vZGVFbGV2YXRlZCgpe3JldHVybiB0aGlzLnN0eWxlJiYhIXRoaXMuc3R5bGUuZ2V0VGVycmFpbigpJiYhIXRoaXMudGVycmFpbiYmIXRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmV9bGluZWFyRmxvYXRGaWx0ZXJpbmdTdXBwb3J0ZWQoKXtyZXR1cm4gbnVsbCE9dGhpcy5jb250ZXh0LmV4dFRleHR1cmVGbG9hdExpbmVhcn1jdXJyZW50R2xvYmFsRGVmaW5lcyhlLHQsaSl7Y29uc3Qgbz12b2lkIDA9PT1pP3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZTppLHI9dGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmV4YWdnZXJhdGlvbigpLHM9W107cmV0dXJuIHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSYmKFwiZ2xvYmVSYXN0ZXJcIj09PWV8fFwidGVycmFpblJhc3RlclwiPT09ZT8ocy5wdXNoKFwiTElHSFRJTkdfM0RfTU9ERVwiKSxzLnB1c2goXCJMSUdIVElOR18zRF9BTFBIQV9FTUlTU0lWRU5FU1NcIikpOm98fHMucHVzaChcIkxJR0hUSU5HXzNEX01PREVcIikpLFwic2hhZG93XCI9PT10aGlzLnJlbmRlclBhc3M/dGhpcy5fc2hhZG93TWFwRGVidWd8fHMucHVzaChcIkRFUFRIX1RFWFRVUkVcIik6dGhpcy5zaGFkb3dSZW5kZXJlciYmKHRoaXMuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0P3MucHVzaChcIlJFTkRFUl9TSEFET1dTXCIsXCJERVBUSF9URVhUVVJFXCIsXCJOT1JNQUxfT0ZGU0VUXCIpOnMucHVzaChcIlJFTkRFUl9TSEFET1dTXCIsXCJERVBUSF9URVhUVVJFXCIpKSx0aGlzLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmKHMucHVzaChcIlRFUlJBSU5cIiksdGhpcy5saW5lYXJGbG9hdEZpbHRlcmluZ1N1cHBvcnRlZCgpJiZzLnB1c2goXCJURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcIiksciYmcy5wdXNoKFwiWkVST19FWEFHR0VSQVRJT05cIikpLFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmcy5wdXNoKFwiR0xPQkVcIiksIXRoaXMuX2ZvZ1Zpc2libGV8fG98fHZvaWQgMCE9PXQmJiF0fHxzLnB1c2goXCJGT0dcIixcIkZPR19ESVRIRVJJTkdcIiksbyYmcy5wdXNoKFwiUkVOREVSX1RPX1RFWFRVUkVcIiksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yJiZzLnB1c2goXCJPVkVSRFJBV19JTlNQRUNUT1JcIiksc31nZXRPckNyZWF0ZVByb2dyYW0oZSx0KXt0aGlzLmNhY2hlPXRoaXMuY2FjaGV8fHt9O2NvbnN0IGk9dCYmdC5kZWZpbmVzfHxbXSxvPXQmJnQuY29uZmlnLHI9dCYmdC50cmFuc2Zvcm1GZWVkYmFjayxzPXRoaXMuY3VycmVudEdsb2JhbERlZmluZXMoZSx0JiZ0Lm92ZXJyaWRlRm9nLHQmJnQub3ZlcnJpZGVSdHQpLmNvbmNhdChpKSxuPWJyLmNhY2hlS2V5KEtvW2VdLGUscyxvKTtyZXR1cm4gdGhpcy5jYWNoZVtuXXx8KHRoaXMuY2FjaGVbbl09bmV3IGJyKHRoaXMuY29udGV4dCxlLEtvW2VdLG8sWXJbZV0scyxyKSksdGhpcy5jYWNoZVtuXX1zZXRDdXN0b21MYXllckRlZmF1bHRzKCl7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmZyb250RmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO31zZXRCYXNlU3RhdGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChlLkZVTkNfQUREKTt9aW5pdERlYnVnT3ZlcmxheUNhbnZhcygpe251bGw9PXRoaXMuZGVidWdPdmVybGF5Q2FudmFzJiYodGhpcy5kZWJ1Z092ZXJsYXlDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IGUuVCh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKTt9ZGVzdHJveSgpe3RoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZGVzdHJveSgpLHRoaXMuX2F0bW9zcGhlcmUmJih0aGlzLl9hdG1vc3BoZXJlLmRlc3Ryb3koKSx0aGlzLl9hdG1vc3BoZXJlPXZvaWQgMCksdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMmJnRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzLmRlc3Ryb3koKSx0aGlzLmVtcHR5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlJiZ0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUuZGVzdHJveSgpLHRoaXMuX3dpcmVmcmFtZURlYnVnQ2FjaGUuZGVzdHJveSgpO31wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTt9dXBsb2FkQ29tbW9uTGlnaHRVbmlmb3Jtcyh0LGkpe2lmKHRoaXMuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSl7Y29uc3Qgbz10aGlzLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQscj10aGlzLnN0eWxlLmFtYmllbnRMaWdodDtpZihvJiZyKXtjb25zdCBzPSgodCxpKT0+e2NvbnN0IG89dC5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxyPXQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxzPXQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbj1pLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCksYT1pLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLGw9W28ueCxvLnksby56XSxjPWUuY24obixhKSxoPWUuY24ocixzKTtyZXR1cm4ge3VfbGlnaHRpbmdfYW1iaWVudF9jb2xvcjpjLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyOmwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9jb2xvcjpoLHVfZ3JvdW5kX3JhZGlhbmNlOnZyKGwsaCxjKX19KShvLHIpO2kuc2V0TGlnaHRzVW5pZm9ybVZhbHVlcyh0LHMpO319fXVwbG9hZENvbW1vblVuaWZvcm1zKHQsaSxvLHIscyl7aWYodGhpcy51cGxvYWRDb21tb25MaWdodFVuaWZvcm1zKHQsaSksdGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKXJldHVybjtjb25zdCBuPXRoaXMuc3R5bGUuZm9nO2lmKG4pe2NvbnN0IHM9bi5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSxhPSgodCxpLG8scixzLG4sYSxsLGMsaCx1LGQpPT57Y29uc3QgXz10LnRyYW5zZm9ybSxwPWkucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKTtwWzNdPXI7Y29uc3QgZj10LmZyYW1lQ291bnRlci8xZTMlMSxbbSxnXT1pLnByb3BlcnRpZXMuZ2V0KFwidmVydGljYWwtcmFuZ2VcIik7cmV0dXJuIHt1X2ZvZ19tYXRyaXg6bz9fLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgobyk6ZHx8dC5pZGVudGl0eU1hdCx1X2ZvZ19yYW5nZTppLmdldEZvdkFkanVzdGVkUmFuZ2UoXy5fZm92KSx1X2ZvZ19jb2xvcjpwLHVfZm9nX2hvcml6b25fYmxlbmQ6aS5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksdV9mb2dfdmVydGljYWxfbGltaXQ6W01hdGgubWluKG0sZyksZ10sdV9mb2dfdGVtcG9yYWxfb2Zmc2V0OmYsdV9mcnVzdHVtX3RsOnMsdV9mcnVzdHVtX3RyOm4sdV9mcnVzdHVtX2JyOmEsdV9mcnVzdHVtX2JsOmwsdV9nbG9iZV9wb3M6Yyx1X2dsb2JlX3JhZGl1czpoLHVfdmlld3BvcnQ6dSx1X2dsb2JlX3RyYW5zaXRpb246ZS5TKF8uem9vbSksdV9pc19nbG9iZTorKFwiZ2xvYmVcIj09PV8ucHJvamVjdGlvbi5uYW1lKX19KSh0aGlzLG4sbyxzLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsW3RoaXMudHJhbnNmb3JtLndpZHRoKmUuZi5kZXZpY2VQaXhlbFJhdGlvLHRoaXMudHJhbnNmb3JtLmhlaWdodCplLmYuZGV2aWNlUGl4ZWxSYXRpb10scik7aS5zZXRGb2dVbmlmb3JtVmFsdWVzKHQsYSk7fXMmJmkuc2V0Q3V0b2ZmVW5pZm9ybVZhbHVlcyh0LHMudW5pZm9ybVZhbHVlcyk7fXNldFRpbGVMb2FkZWRGbGFnKGUpe3RoaXMudGlsZUxvYWRlZD1lO31zYXZlQ2FudmFzQ29weSgpe2NvbnN0IGU9dGhpcy5jYW52YXNDb3B5KCk7ZSYmKHRoaXMuZnJhbWVDb3BpZXMucHVzaChlKSx0aGlzLnRpbGVMb2FkZWQ9ITEpO31jYW52YXNDb3B5KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD1lLmNyZWF0ZVRleHR1cmUoKTtyZXR1cm4gZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksZS5jb3B5VGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodCwwKSx0fWdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKXtyZXR1cm4ge2NhbnZhc0NvcGllczp0aGlzLmZyYW1lQ29waWVzLHRpbWVTdGFtcHM6dGhpcy5sb2FkVGltZVN0YW1wc319YXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCl7aWYoIXRoaXMudHJhbnNmb3JtLl9lbGV2YXRpb24pcmV0dXJuICExO2NvbnN0IGU9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c7cmV0dXJuICEhZSYmMCE9PWUuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCl9Z2V0QmFja2dyb3VuZFRpbGVzKCl7Y29uc3QgZT10aGlzLl9iYWNrZ3JvdW5kVGlsZXMsdD10aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e30saT10aGlzLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTo1MTJ9KTtmb3IoY29uc3QgbyBvZiBpKXRbby5rZXldPWVbby5rZXldfHxuZXcgR3Qobyw1MTIsdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sdGhpcyk7cmV0dXJuIHR9Y2xlYXJCYWNrZ3JvdW5kVGlsZXMoKXt0aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e307fWxheWVyVXNlZEluQ29uZmxhdGlvbihlLHQpe3JldHVybiAhKCFlLmlzM0QoKXx8ZS5taW56b29tJiZlLm1pbnpvb20+dGhpcy50cmFuc2Zvcm0uem9vbXx8XCJidWlsZGluZ1wiIT09ZS5zb3VyY2VMYXllciYmKCF0fHxcImJhdGNoZWQtbW9kZWxcIiE9PXQudHlwZSkpfWlzVGlsZUFmZmVjdGVkQnlGb2coZSl7aWYoIXRoaXMuc3R5bGV8fCF0aGlzLnN0eWxlLmZvZylyZXR1cm4gITE7aWYoXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXJldHVybiAhMDtsZXQgdD10aGlzLl9jYWNoZWRUaWxlRm9nT3BhY2l0aWVzW2Uua2V5XTtyZXR1cm4gdHx8KHRoaXMuX2NhY2hlZFRpbGVGb2dPcGFjaXRpZXNbZS5rZXldPXQ9dGhpcy5zdHlsZS5mb2cuZ2V0T3BhY2l0eUZvclRpbGUoZSkpLHRbMF0+PW1lfHx0WzFdPj1tZX19ZnVuY3Rpb24gb24oZSx0KXtsZXQgaT0hMSxvPW51bGw7Y29uc3Qgcj0oKT0+e289bnVsbCxpJiYoZSgpLG89c2V0VGltZW91dChyLHQpLGk9ITEpO307cmV0dXJuICgpPT4oaT0hMCxvfHxyKCksbyl9Y2xhc3Mgcm57Y29uc3RydWN0b3IodCl7dGhpcy5faGFzaE5hbWU9dCYmZW5jb2RlVVJJQ29tcG9uZW50KHQpLGUuYVkoW1wiX2dldEN1cnJlbnRIYXNoXCIsXCJfb25IYXNoQ2hhbmdlXCIsXCJfdXBkYXRlSGFzaFwiXSx0aGlzKSx0aGlzLl91cGRhdGVIYXNoPW9uKHRoaXMuX3VwZGF0ZUhhc2hVbnRocm90dGxlZC5iaW5kKHRoaXMpLDMwMCk7fWFkZFRvKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLGUub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc31yZW1vdmUoKXtyZXR1cm4gdGhpcy5fbWFwPyh0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzKTp0aGlzfWdldEhhc2hTdHJpbmcoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gXCJcIjtjb25zdCB0PXNuKGUpO2lmKHRoaXMuX2hhc2hOYW1lKXtjb25zdCBlPXRoaXMuX2hhc2hOYW1lO2xldCBpPSExO2NvbnN0IG89bG9jYXRpb24uaGFzaC5zbGljZSgxKS5zcGxpdChcIiZcIikubWFwKChvPT57Y29uc3Qgcj1vLnNwbGl0KFwiPVwiKVswXTtyZXR1cm4gcj09PWU/KGk9ITAsYCR7cn09JHt0fWApOm99KSkuZmlsdGVyKChlPT5lKSk7cmV0dXJuIGl8fG8ucHVzaChgJHtlfT0ke3R9YCksYCMke28uam9pbihcIiZcIil9YH1yZXR1cm4gYCMke3R9YH1fZ2V0Q3VycmVudEhhc2goKXtjb25zdCBlPWxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIixcIlwiKTtpZih0aGlzLl9oYXNoTmFtZSl7bGV0IHQ7cmV0dXJuIGUuc3BsaXQoXCImXCIpLm1hcCgoZT0+ZS5zcGxpdChcIj1cIikpKS5mb3JFYWNoKChlPT57ZVswXT09PXRoaXMuX2hhc2hOYW1lJiYodD1lKTt9KSksKHQmJnRbMV18fFwiXCIpLnNwbGl0KFwiL1wiKX1yZXR1cm4gZS5zcGxpdChcIi9cIil9X29uSGFzaENoYW5nZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybiAhMTtjb25zdCB0PXRoaXMuX2dldEN1cnJlbnRIYXNoKCk7aWYodC5sZW5ndGg+PTMmJiF0LnNvbWUoKGU9PmlzTmFOKGUpKSkpe2NvbnN0IGk9ZS5kcmFnUm90YXRlLmlzRW5hYmxlZCgpJiZlLnRvdWNoWm9vbVJvdGF0ZS5pc0VuYWJsZWQoKT8rKHRbM118fDApOmUuZ2V0QmVhcmluZygpO3JldHVybiBlLmp1bXBUbyh7Y2VudGVyOlsrdFsyXSwrdFsxXV0sem9vbTordFswXSxiZWFyaW5nOmkscGl0Y2g6Kyh0WzRdfHwwKX0pLCEwfXJldHVybiAhMX1fdXBkYXRlSGFzaFVudGhyb3R0bGVkKCl7aGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeS5zdGF0ZSxcIlwiLGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sdGhpcy5nZXRIYXNoU3RyaW5nKCkpKTt9fWZ1bmN0aW9uIHNuKGUsdCl7Y29uc3QgaT1lLmdldENlbnRlcigpLG89TWF0aC5yb3VuZCgxMDAqZS5nZXRab29tKCkpLzEwMCxyPU1hdGguY2VpbCgobypNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxzPU1hdGgucG93KDEwLHIpLG49TWF0aC5yb3VuZChpLmxuZypzKS9zLGE9TWF0aC5yb3VuZChpLmxhdCpzKS9zLGw9ZS5nZXRCZWFyaW5nKCksYz1lLmdldFBpdGNoKCk7bGV0IGg9dD9gLyR7bn0vJHthfS8ke299YDpgJHtvfS8ke2F9LyR7bn1gO3JldHVybiAobHx8YykmJihoKz1cIi9cIitNYXRoLnJvdW5kKDEwKmwpLzEwKSxjJiYoaCs9YC8ke01hdGgucm91bmQoYyl9YCksaH1jb25zdCBubj17bGluZWFyaXR5Oi4zLGVhc2luZzplLmNfKDAsMCwuMywxKX0sYW49ZS5lKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSxubiksbG49ZS5lKHtkZWNlbGVyYXRpb246MjAsbWF4U3BlZWQ6MTQwMH0sbm4pLGNuPWUuZSh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDozNjB9LG5uKSxobj1lLmUoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LG5uKTtjbGFzcyB1bntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXTt9cmVjb3JkKHQpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTplLmYubm93KCksc2V0dGluZ3M6dH0pO31fZHJhaW5JbmVydGlhQnVmZmVyKCl7Y29uc3QgdD10aGlzLl9pbmVydGlhQnVmZmVyLGk9ZS5mLm5vdygpO2Zvcig7dC5sZW5ndGg+MCYmaS10WzBdLnRpbWU+MTYwOyl0LnNoaWZ0KCk7fV9vbk1vdmVFbmQodCl7aWYodGhpcy5fbWFwLl9wcmVmZXJzUmVkdWNlZE1vdGlvbigpKXJldHVybjtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aDwyKXJldHVybjtjb25zdCBpPXt6b29tOjAsYmVhcmluZzowLHBpdGNoOjAscGFuOm5ldyBlLlAoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH07Zm9yKGNvbnN0e3NldHRpbmdzOmV9b2YgdGhpcy5faW5lcnRpYUJ1ZmZlcilpLnpvb20rPWUuem9vbURlbHRhfHwwLGkuYmVhcmluZys9ZS5iZWFyaW5nRGVsdGF8fDAsaS5waXRjaCs9ZS5waXRjaERlbHRhfHwwLGUucGFuRGVsdGEmJmkucGFuLl9hZGQoZS5wYW5EZWx0YSksZS5hcm91bmQmJihpLmFyb3VuZD1lLmFyb3VuZCksZS5waW5jaEFyb3VuZCYmKGkucGluY2hBcm91bmQ9ZS5waW5jaEFyb3VuZCk7Y29uc3Qgbz10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHI9e307aWYoaS5wYW4ubWFnKCkpe2NvbnN0IHM9X24oaS5wYW4ubWFnKCksbyxlLmUoe30sYW4sdHx8e30pKTtyLm9mZnNldD1pLnBhbi5tdWx0KHMuYW1vdW50L2kucGFuLm1hZygpKSxyLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixkbihyLHMpO31pZihpLnpvb20pe2NvbnN0IGU9X24oaS56b29tLG8sbG4pO3Iuem9vbT10aGlzLl9tYXAudHJhbnNmb3JtLnpvb20rZS5hbW91bnQsZG4ocixlKTt9aWYoaS5iZWFyaW5nKXtjb25zdCB0PV9uKGkuYmVhcmluZyxvLGNuKTtyLmJlYXJpbmc9dGhpcy5fbWFwLnRyYW5zZm9ybS5iZWFyaW5nK2UuYWEodC5hbW91bnQsLTE3OSwxNzkpLGRuKHIsdCk7fWlmKGkucGl0Y2gpe2NvbnN0IGU9X24oaS5waXRjaCxvLGhuKTtyLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2grZS5hbW91bnQsZG4ocixlKTt9aWYoci56b29tfHxyLmJlYXJpbmcpe2NvbnN0IGU9dm9pZCAwPT09aS5waW5jaEFyb3VuZD9pLmFyb3VuZDppLnBpbmNoQXJvdW5kO3IuYXJvdW5kPWU/dGhpcy5fbWFwLnVucHJvamVjdChlKTp0aGlzLl9tYXAuZ2V0Q2VudGVyKCk7fXJldHVybiB0aGlzLmNsZWFyKCksci5ub01vdmVTdGFydD0hMCxyfX1mdW5jdGlvbiBkbihlLHQpeyghZS5kdXJhdGlvbnx8ZS5kdXJhdGlvbjx0LmR1cmF0aW9uKSYmKGUuZHVyYXRpb249dC5kdXJhdGlvbixlLmVhc2luZz10LmVhc2luZyk7fWZ1bmN0aW9uIF9uKHQsaSxvKXtjb25zdHttYXhTcGVlZDpyLGxpbmVhcml0eTpzLGRlY2VsZXJhdGlvbjpufT1vLGE9ZS5hYSh0KnMvKGkvMWUzKSwtcixyKSxsPU1hdGguYWJzKGEpLyhuKnMpO3JldHVybiB7ZWFzaW5nOm8uZWFzaW5nLGR1cmF0aW9uOjFlMypsLGFtb3VudDphKihsLzIpfX1jbGFzcyBwbiBleHRlbmRzIGUuYntwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8scj17fSl7Y29uc3Qgcz1wKGkuZ2V0Q2FudmFzQ29udGFpbmVyKCksbyksbj1pLnVucHJvamVjdChzKTtzdXBlcih0LGUuZSh7cG9pbnQ6cyxsbmdMYXQ6bixvcmlnaW5hbEV2ZW50Om99LHIpKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PWk7fX1jbGFzcyBmbiBleHRlbmRzIGUuYntwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8pe2NvbnN0IHI9XCJ0b3VjaGVuZFwiPT09dD9vLmNoYW5nZWRUb3VjaGVzOm8udG91Y2hlcyxzPWYoaS5nZXRDYW52YXNDb250YWluZXIoKSxyKSxuPXMubWFwKChlPT5pLnVucHJvamVjdChlKSkpLGE9cy5yZWR1Y2UoKChlLHQsaSxvKT0+ZS5hZGQodC5kaXYoby5sZW5ndGgpKSksbmV3IGUuUCgwLDApKTtzdXBlcih0LHtwb2ludHM6cyxwb2ludDphLGxuZ0xhdHM6bixsbmdMYXQ6aS51bnByb2plY3QoYSksb3JpZ2luYWxFdmVudDpvfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIG1uIGV4dGVuZHMgZS5ie3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx7b3JpZ2luYWxFdmVudDppfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIGdue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZTt9cmVzZXQoKXt0aGlzLl9tb3VzZWRvd25Qb3M9dm9pZCAwO313aGVlbChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBtbihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oZSx0KXtyZXR1cm4gdGhpcy5fbW91c2Vkb3duUG9zPXQsdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZXVwKGUpe3RoaXMuX21hcC5maXJlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9cHJlY2xpY2sodCl7Y29uc3QgaT1lLmUoe30sdCk7aS50eXBlPVwicHJlY2xpY2tcIix0aGlzLl9tYXAuZmlyZShuZXcgcG4oaS50eXBlLHRoaXMuX21hcCxpKSk7fWNsaWNrKGUsdCl7dGhpcy5fbW91c2Vkb3duUG9zJiZ0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdCh0KT49dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLnByZWNsaWNrKGUpLHRoaXMuX21hcC5maXJlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKSk7fWRibGNsaWNrKGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IHBuKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlb3ZlcihlKXt0aGlzLl9tYXAuZmlyZShuZXcgcG4oZS50eXBlLHRoaXMuX21hcCxlKSk7fW1vdXNlb3V0KGUpe3RoaXMuX21hcC5maXJlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9dG91Y2hzdGFydChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBmbihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaG1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGZuKGUudHlwZSx0aGlzLl9tYXAsZSkpO310b3VjaGVuZChlKXt0aGlzLl9tYXAuZmlyZShuZXcgZm4oZS50eXBlLHRoaXMuX21hcCxlKSk7fXRvdWNoY2FuY2VsKGUpe3RoaXMuX21hcC5maXJlKG5ldyBmbihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9X2ZpcmVQcmV2ZW50YWJsZShlKXtpZih0aGlzLl9tYXAuZmlyZShlKSxlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHt9fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3Mgdm57Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWU7fXJlc2V0KCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50PXZvaWQgMDt9bW91c2Vtb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9bW91c2Vkb3duKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMDt9bW91c2V1cCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudCYmKHRoaXMuX21hcC5maXJlKG5ldyBwbihcImNvbnRleHRtZW51XCIsdGhpcy5fbWFwLHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKSxkZWxldGUgdGhpcy5fY29udGV4dE1lbnVFdmVudCk7fWNvbnRleHRtZW51KGUpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU/dGhpcy5fY29udGV4dE1lbnVFdmVudD1lOnRoaXMuX21hcC5maXJlKG5ldyBwbihlLnR5cGUsdGhpcy5fbWFwLGUpKSx0aGlzLl9tYXAubGlzdGVucyhcImNvbnRleHRtZW51XCIpJiZlLnByZXZlbnREZWZhdWx0KCk7fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgeG57Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2NvbnRhaW5lcj1lLmdldENvbnRhaW5lcigpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDE7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO31kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpO31tb3VzZWRvd24oZSx0KXt0aGlzLmlzRW5hYmxlZCgpJiZlLnNoaWZ0S2V5JiYwPT09ZS5idXR0b24mJihoKCksdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz10LHRoaXMuX2FjdGl2ZT0hMCk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2NvbnN0IGk9dCxvPXRoaXMuX3N0YXJ0UG9zLHI9dGhpcy5fbGFzdFBvcztpZighb3x8IXJ8fHIuZXF1YWxzKGkpfHwhdGhpcy5fYm94JiZpLmRpc3Qobyk8dGhpcy5fY2xpY2tUb2xlcmFuY2UpcmV0dXJuO3RoaXMuX2xhc3RQb3M9aSx0aGlzLl9ib3h8fCh0aGlzLl9ib3g9cyhcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsZSkpO2NvbnN0IG49TWF0aC5taW4oby54LGkueCksYT1NYXRoLm1heChvLngsaS54KSxsPU1hdGgubWluKG8ueSxpLnkpLGM9TWF0aC5tYXgoby55LGkueSk7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHtufXB4LCR7bH1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1hLW4rXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9Yy1sK1wicHhcIik7fSkpO31tb3VzZXVwV2luZG93KHQsaSl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zdGFydFBvcyxyPWk7aWYobyYmMD09PXQuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCksXygpLG8ueCE9PXIueHx8by55IT09ci55KXJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5iKFwiYm94em9vbWVuZFwiLHtvcmlnaW5hbEV2ZW50OnR9KSkse2NhbWVyYUFuaW1hdGlvbjplPT5lLmZpdFNjcmVlbkNvb3JkaW5hdGVzKG8scix0aGlzLl9tYXAuZ2V0QmVhcmluZygpLHtsaW5lYXI6ITF9KX07dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLHQpO319a2V5ZG93bihlKXt0aGlzLl9hY3RpdmUmJjI3PT09ZS5rZXlDb2RlJiYodGhpcy5yZXNldCgpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIixlKSk7fWJsdXIoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2JveCYmKHRoaXMuX2JveC5yZW1vdmUoKSx0aGlzLl9ib3g9bnVsbCksdSgpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvczt9X2ZpcmVFdmVudCh0LGkpe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5iKHQse29yaWdpbmFsRXZlbnQ6aX0pKX19ZnVuY3Rpb24geW4oZSx0KXtjb25zdCBpPXt9O2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKWlbZVtvXS5pZGVudGlmaWVyXT10W29dO3JldHVybiBpfWNsYXNzIGJue2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9ZS5udW1Ub3VjaGVzO31yZXNldCgpe3RoaXMuY2VudHJvaWQ9dm9pZCAwLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50b3VjaGVzPXt9LHRoaXMuYWJvcnRlZD0hMTt9dG91Y2hzdGFydCh0LGksbyl7KHRoaXMuY2VudHJvaWR8fG8ubGVuZ3RoPnRoaXMubnVtVG91Y2hlcykmJih0aGlzLmFib3J0ZWQ9ITApLHRoaXMuYWJvcnRlZHx8KDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPXQudGltZVN0YW1wKSxvLmxlbmd0aD09PXRoaXMubnVtVG91Y2hlcyYmKHRoaXMuY2VudHJvaWQ9ZnVuY3Rpb24odCl7Y29uc3QgaT1uZXcgZS5QKDAsMCk7Zm9yKGNvbnN0IGUgb2YgdClpLl9hZGQoZSk7cmV0dXJuIGkuZGl2KHQubGVuZ3RoKX0oaSksdGhpcy50b3VjaGVzPXluKG8saSkpKTt9dG91Y2htb3ZlKGUsdCxpKXtpZih0aGlzLmFib3J0ZWR8fCF0aGlzLmNlbnRyb2lkKXJldHVybjtjb25zdCBvPXluKGksdCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy50b3VjaGVzKXtjb25zdCB0PW9bZV07KCF0fHx0LmRpc3QodGhpcy50b3VjaGVzW2VdKT4zMCkmJih0aGlzLmFib3J0ZWQ9ITApO319dG91Y2hlbmQoZSx0LGkpe2lmKCghdGhpcy5jZW50cm9pZHx8ZS50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PWkubGVuZ3RoKXtjb25zdCBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fX1jbGFzcyB3bntjb25zdHJ1Y3RvcihlKXt0aGlzLnNpbmdsZVRhcD1uZXcgYm4oZSksdGhpcy5udW1UYXBzPWUubnVtVGFwcyx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5sYXN0VGltZT0xLzAsdGhpcy5sYXN0VGFwPXZvaWQgMCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLHQsaSk7fXRvdWNobW92ZShlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2htb3ZlKGUsdCxpKTt9dG91Y2hlbmQoZSx0LGkpe2NvbnN0IG89dGhpcy5zaW5nbGVUYXAudG91Y2hlbmQoZSx0LGkpO2lmKG8pe2NvbnN0IHQ9ZS50aW1lU3RhbXAtdGhpcy5sYXN0VGltZTw1MDAsaT0hdGhpcy5sYXN0VGFwfHx0aGlzLmxhc3RUYXAuZGlzdChvKTwzMDtpZih0JiZpfHx0aGlzLnJlc2V0KCksdGhpcy5jb3VudCsrLHRoaXMubGFzdFRpbWU9ZS50aW1lU3RhbXAsdGhpcy5sYXN0VGFwPW8sdGhpcy5jb3VudD09PXRoaXMubnVtVGFwcylyZXR1cm4gdGhpcy5yZXNldCgpLG99fX1jbGFzcyBUbntjb25zdHJ1Y3Rvcigpe3RoaXMuX3pvb21Jbj1uZXcgd24oe251bVRvdWNoZXM6MSxudW1UYXBzOjJ9KSx0aGlzLl96b29tT3V0PW5ldyB3bih7bnVtVG91Y2hlczoyLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fem9vbUluLnJlc2V0KCksdGhpcy5fem9vbU91dC5yZXNldCgpO310b3VjaHN0YXJ0KGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2hzdGFydChlLHQsaSksdGhpcy5fem9vbU91dC50b3VjaHN0YXJ0KGUsdCxpKTt9dG91Y2htb3ZlKGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsdCxpKSx0aGlzLl96b29tT3V0LnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXtjb25zdCBvPXRoaXMuX3pvb21Jbi50b3VjaGVuZChlLHQsaSkscj10aGlzLl96b29tT3V0LnRvdWNoZW5kKGUsdCxpKTtyZXR1cm4gbz8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKSsxLGFyb3VuZDp0LnVucHJvamVjdChvKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6cj8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKS0xLGFyb3VuZDp0LnVucHJvamVjdChyKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6dm9pZCAwfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y29uc3QgRW49ezA6MSwyOjJ9O2NsYXNzIFNue2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlfHwxO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9tb3ZlZD0hMSx0aGlzLl9sYXN0UG9pbnQ9dm9pZCAwLHRoaXMuX2V2ZW50QnV0dG9uPXZvaWQgMDt9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gITF9X21vdmUoZSx0KXtyZXR1cm4ge319bW91c2Vkb3duKGUsdCl7aWYodGhpcy5fbGFzdFBvaW50KXJldHVybjtjb25zdCBpPW0oZSk7dGhpcy5fY29ycmVjdEJ1dHRvbihlLGkpJiYodGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fZXZlbnRCdXR0b249aSk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2NvbnN0IGk9dGhpcy5fbGFzdFBvaW50O2lmKGkpaWYoZS5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPXRoaXMuX2V2ZW50QnV0dG9uJiZmdW5jdGlvbihlLHQpe2NvbnN0IGk9RW5bdF07cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uc3x8KGUuYnV0dG9ucyZpKSE9PWl9KGUsdGhpcy5fZXZlbnRCdXR0b24pKXRoaXMucmVzZXQoKTtlbHNlIGlmKHRoaXMuX21vdmVkfHwhKHQuZGlzdChpKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHRoaXMuX21vdmVkPSEwLHRoaXMuX2xhc3RQb2ludD10LHRoaXMuX21vdmUoaSx0KX1tb3VzZXVwV2luZG93KGUpe3RoaXMuX2xhc3RQb2ludCYmbShlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJl8oKSx0aGlzLnJlc2V0KCkpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgQ24gZXh0ZW5kcyBTbnttb3VzZWRvd24oZSx0KXtzdXBlci5tb3VzZWRvd24oZSx0KSx0aGlzLl9sYXN0UG9pbnQmJih0aGlzLl9hY3RpdmU9ITApO31fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmIWUuY3RybEtleX1fbW92ZShlLHQpe3JldHVybiB7YXJvdW5kOnQscGFuRGVsdGE6dC5zdWIoZSl9fX1jbGFzcyBJbiBleHRlbmRzIFNue19jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiZlLmN0cmxLZXl8fDI9PT10fV9tb3ZlKGUsdCl7Y29uc3QgaT0uOCoodC54LWUueCk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgRG4gZXh0ZW5kcyBTbntfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IGk9LS41Kih0LnktZS55KTtpZihpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgTG57Y29uc3RydWN0b3IodCxpKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX21pblRvdWNoZXM9MSx0aGlzLl9jbGlja1RvbGVyYW5jZT1pLmNsaWNrVG9sZXJhbmNlfHwxLHRoaXMucmVzZXQoKSxlLmFZKFtcIl9hZGRUb3VjaFBhbkJsb2NrZXJcIixcIl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnRcIl0sdGhpcyk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3RvdWNoZXM9e30sdGhpcy5fc3VtPW5ldyBlLlAoMCwwKTt9dG91Y2hzdGFydChlLHQsaSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsaSl9dG91Y2htb3ZlKHQsaSxvKXtpZih0aGlzLl9hY3RpdmUmJiEoby5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcykpe2lmKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmIXRoaXMuX21hcC5pc01vdmluZygpKXtpZigxPT09by5sZW5ndGgmJiFlLmMkKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9cmV0dXJuIHQuY2FuY2VsYWJsZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl9fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LGkpLHRoaXMuX2FjdGl2ZSYmaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9X2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl7by5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj15bihvLGkpLHM9bmV3IGUuUCgwLDApLG49bmV3IGUuUCgwLDApO2xldCBhPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLGk9dGhpcy5fdG91Y2hlc1tlXTtpJiYocy5fYWRkKHQpLG4uX2FkZCh0LnN1YihpKSksYSsrLHJbZV09dCk7fWlmKHRoaXMuX3RvdWNoZXM9cixhPHRoaXMuX21pblRvdWNoZXN8fCFuLm1hZygpKXJldHVybjtjb25zdCBsPW4uZGl2KGEpO3JldHVybiB0aGlzLl9zdW0uX2FkZChsKSx0aGlzLl9zdW0ubWFnKCk8dGhpcy5fY2xpY2tUb2xlcmFuY2U/dm9pZCAwOnthcm91bmQ6cy5kaXYoYSkscGFuRGVsdGE6bH19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJih0aGlzLl9hZGRUb3VjaFBhbkJsb2NrZXIoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSk7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSksdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfV9hZGRUb3VjaFBhbkJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPXMoXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIik7fSksNTAwKTt9fWNsYXNzIEFue2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwO31fc3RhcnQoZSl7fV9tb3ZlKGUsdCxpKXtyZXR1cm4ge319dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxpLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtpWzBdLmlkZW50aWZpZXIsaVsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpO310b3VjaG1vdmUoZSx0LGkpe2NvbnN0IG89dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFvKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbcixzXT1vLG49Um4oaSx0LHIpLGE9Um4oaSx0LHMpO2lmKCFufHwhYSlyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDpuLmFkZChhKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW24sYV0sbCxlKX10b3VjaGVuZChlLHQsaSl7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbbyxyXT10aGlzLl9maXJzdFR3b1RvdWNoZXMscz1SbihpLHQsbyksbj1SbihpLHQscik7cyYmbnx8KHRoaXMuX2FjdGl2ZSYmXygpLHRoaXMucmVzZXQoKSk7fXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoZSl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQ7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1mdW5jdGlvbiBSbihlLHQsaSl7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gdFtvXX1mdW5jdGlvbiBQbihlLHQpe3JldHVybiBNYXRoLmxvZyhlL3QpL01hdGguTE4yfWNsYXNzIE1uIGV4dGVuZHMgQW57cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fc3RhcnREaXN0YW5jZT0wO31fc3RhcnQoZSl7dGhpcy5fc3RhcnREaXN0YW5jZT10aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSk7fV9tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl9kaXN0YW5jZTtpZih0aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSksdGhpcy5fYWN0aXZlfHwhKE1hdGguYWJzKFBuKHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3N0YXJ0RGlzdGFuY2UpKTwuMSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOlBuKHRoaXMuX2Rpc3RhbmNlLGkpLHBpbmNoQXJvdW5kOnR9fX1mdW5jdGlvbiB6bihlLHQpe3JldHVybiAxODAqZS5hbmdsZVdpdGgodCkvTWF0aC5QSX1jbGFzcyBPbiBleHRlbmRzIEFue3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9taW5EaWFtZXRlcj0wLHRoaXMuX3N0YXJ0VmVjdG9yPXZvaWQgMCx0aGlzLl92ZWN0b3I9dm9pZCAwO31fc3RhcnQoZSl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLHRoaXMuX21pbkRpYW1ldGVyPWVbMF0uZGlzdChlWzFdKTt9X21vdmUoZSx0KXtjb25zdCBpPXRoaXMuX3ZlY3RvcjtpZih0aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksaSYmKHRoaXMuX2FjdGl2ZXx8IXRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOnpuKHRoaXMuX3ZlY3RvcixpKSxwaW5jaEFyb3VuZDp0fX1faXNCZWxvd1RocmVzaG9sZChlKXt0aGlzLl9taW5EaWFtZXRlcj1NYXRoLm1pbih0aGlzLl9taW5EaWFtZXRlcixlLm1hZygpKTtjb25zdCB0PTI1LyhNYXRoLlBJKnRoaXMuX21pbkRpYW1ldGVyKSozNjAsaT10aGlzLl9zdGFydFZlY3RvcjtpZighaSlyZXR1cm4gITE7Y29uc3Qgbz16bihlLGkpO3JldHVybiBNYXRoLmFicyhvKTx0fX1mdW5jdGlvbiBGbihlKXtyZXR1cm4gTWF0aC5hYnMoZS55KT5NYXRoLmFicyhlLngpfWNsYXNzIEJuIGV4dGVuZHMgQW57Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9tYXA9ZTt9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX3ZhbGlkPXZvaWQgMCx0aGlzLl9maXJzdE1vdmU9dm9pZCAwLHRoaXMuX2xhc3RQb2ludHM9dm9pZCAwO31fc3RhcnQoZSl7dGhpcy5fbGFzdFBvaW50cz1lLEZuKGVbMF0uc3ViKGVbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKTt9X21vdmUodCxpLG8pe2NvbnN0IHI9dGhpcy5fbGFzdFBvaW50cztpZighcilyZXR1cm47Y29uc3Qgcz10WzBdLnN1YihyWzBdKSxuPXRbMV0uc3ViKHJbMV0pO3JldHVybiB0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJiFlLmMkKCkmJm8udG91Y2hlcy5sZW5ndGg8M3x8KHRoaXMuX3ZhbGlkPXRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkocyxuLG8udGltZVN0YW1wKSwhdGhpcy5fdmFsaWQpP3ZvaWQgMDoodGhpcy5fbGFzdFBvaW50cz10LHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YToocy55K24ueSkvMiotLjV9KX1nZXN0dXJlQmVnaW5zVmVydGljYWxseShlLHQsaSl7aWYodm9pZCAwIT09dGhpcy5fdmFsaWQpcmV0dXJuIHRoaXMuX3ZhbGlkO2NvbnN0IG89ZS5tYWcoKT49MixyPXQubWFnKCk+PTI7aWYoIW8mJiFyKXJldHVybjtpZighb3x8IXIpcmV0dXJuIG51bGw9PXRoaXMuX2ZpcnN0TW92ZSYmKHRoaXMuX2ZpcnN0TW92ZT1pKSxpLXRoaXMuX2ZpcnN0TW92ZTwxMDAmJnZvaWQgMDtjb25zdCBzPWUueT4wPT10Lnk+MDtyZXR1cm4gRm4oZSkmJkZuKHQpJiZzfX1jb25zdCBrbj17cGFuU3RlcDoxMDAsYmVhcmluZ1N0ZXA6MTUscGl0Y2hTdGVwOjEwfTtjbGFzcyBObntjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9a247dGhpcy5fcGFuU3RlcD1lLnBhblN0ZXAsdGhpcy5fYmVhcmluZ1N0ZXA9ZS5iZWFyaW5nU3RlcCx0aGlzLl9waXRjaFN0ZXA9ZS5waXRjaFN0ZXAsdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMTt9Ymx1cigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITE7fWtleWRvd24oZSl7aWYoZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5KXJldHVybjtsZXQgdD0wLGk9MCxvPTAscj0wLHM9MDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDYxOmNhc2UgMTA3OmNhc2UgMTcxOmNhc2UgMTg3OnQ9MTticmVhaztjYXNlIDE4OTpjYXNlIDEwOTpjYXNlIDE3Mzp0PS0xO2JyZWFrO2Nhc2UgMzc6ZS5zaGlmdEtleT9pPS0xOihlLnByZXZlbnREZWZhdWx0KCkscj0tMSk7YnJlYWs7Y2FzZSAzOTplLnNoaWZ0S2V5P2k9MTooZS5wcmV2ZW50RGVmYXVsdCgpLHI9MSk7YnJlYWs7Y2FzZSAzODplLnNoaWZ0S2V5P289MTooZS5wcmV2ZW50RGVmYXVsdCgpLHM9LTEpO2JyZWFrO2Nhc2UgNDA6ZS5zaGlmdEtleT9vPS0xOihlLnByZXZlbnREZWZhdWx0KCkscz0xKTticmVhaztkZWZhdWx0OnJldHVybn1yZXR1cm4gdGhpcy5fcm90YXRpb25EaXNhYmxlZCYmKGk9MCxvPTApLHtjYW1lcmFBbmltYXRpb246bj0+e2NvbnN0IGE9bi5nZXRab29tKCk7bi5lYXNlVG8oe2R1cmF0aW9uOjMwMCxlYXNlSWQ6XCJrZXlib2FyZEhhbmRsZXJcIixlYXNpbmc6VW4sem9vbTp0P01hdGgucm91bmQoYSkrdCooZS5zaGlmdEtleT8yOjEpOmEsYmVhcmluZzpuLmdldEJlYXJpbmcoKStpKnRoaXMuX2JlYXJpbmdTdGVwLHBpdGNoOm4uZ2V0UGl0Y2goKStvKnRoaXMuX3BpdGNoU3RlcCxvZmZzZXQ6Wy1yKnRoaXMuX3BhblN0ZXAsLXMqdGhpcy5fcGFuU3RlcF0sY2VudGVyOm4uZ2V0Q2VudGVyKCl9LHtvcmlnaW5hbEV2ZW50OmV9KTt9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwO31lbmFibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITE7fX1mdW5jdGlvbiBVbihlKXtyZXR1cm4gZSooMi1lKX1jb25zdCBHbj00LjAwMDI0NDE0MDYyNSxqbj0xLzQ1MDtjbGFzcyBWbntjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcj1pLHRoaXMuX2RlbHRhPTAsdGhpcy5fbGFzdERlbHRhPTAsdGhpcy5fZGVmYXVsdFpvb21SYXRlPS4wMSx0aGlzLl93aGVlbFpvb21SYXRlPWpuLGUuYVkoW1wiX29uVGltZW91dFwiLFwiX2FkZFNjcm9sbFpvb21CbG9ja2VyXCIsXCJfc2hvd0Jsb2NrZXJBbGVydFwiXSx0aGlzKTt9c2V0Wm9vbVJhdGUoZSl7dGhpcy5fZGVmYXVsdFpvb21SYXRlPWU7fXNldFdoZWVsWm9vbVJhdGUoZSl7dGhpcy5fd2hlZWxab29tUmF0ZT1lO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZXx8dm9pZCAwIT09dGhpcy5fZmluaXNoVGltZW91dH1pc1pvb21pbmcoKXtyZXR1cm4gISF0aGlzLl96b29taW5nfWVuYWJsZShlKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiZ0aGlzLl9hZGRTY3JvbGxab29tQmxvY2tlcigpKTt9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSkpO313aGVlbCh0KXtpZighdGhpcy5pc0VuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzKXtpZighKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0aGlzLmlzWm9vbWluZygpfHxlLmMkKCkpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dCbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpO31sZXQgaT10LmRlbHRhTW9kZT09PVdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkU/NDAqdC5kZWx0YVk6dC5kZWx0YVk7Y29uc3Qgbz1lLmYubm93KCkscj1vLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1vLDAhPT1pJiZpJUduPT0wP3RoaXMuX3R5cGU9XCJ3aGVlbFwiOjAhPT1pJiZNYXRoLmFicyhpKTw0P3RoaXMuX3R5cGU9XCJ0cmFja3BhZFwiOnI+NDAwPyh0aGlzLl90eXBlPW51bGwsdGhpcy5fbGFzdFZhbHVlPWksdGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCw0MCx0KSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMocippKTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxpKz10aGlzLl9sYXN0VmFsdWUpKSx0LnNoaWZ0S2V5JiZpJiYoaS89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PXQsdGhpcy5fZGVsdGEtPWksdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydCh0KSksdC5wcmV2ZW50RGVmYXVsdCgpO31fb25UaW1lb3V0KGUpe3RoaXMuX3R5cGU9XCJ3aGVlbFwiLHRoaXMuX2RlbHRhLT10aGlzLl9sYXN0VmFsdWUsdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydChlKTt9X3N0YXJ0KGUpe2lmKCF0aGlzLl9kZWx0YSlyZXR1cm47dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9bnVsbCksdGhpcy5fYWN0aXZlPSEwLHRoaXMuaXNab29taW5nKCl8fCh0aGlzLl96b29taW5nPSEwKSx0aGlzLl9maW5pc2hUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpLGRlbGV0ZSB0aGlzLl9maW5pc2hUaW1lb3V0KTtjb25zdCB0PXAodGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kUG9pbnQ9dGhpcy5fYXJvdW5kQ2VudGVyP3RoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQ6dCx0aGlzLl9hcm91bmRDb29yZD10aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMuX2Fyb3VuZFBvaW50KSx0aGlzLl90YXJnZXRab29tPXZvaWQgMCx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSk7fXJlbmRlckZyYW1lKCl7aWYoIXRoaXMuX2ZyYW1lSWQpcmV0dXJuO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCwhdGhpcy5pc0FjdGl2ZSgpKXJldHVybjtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm07XCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmdC5wcm9qZWN0aW9uLndyYXAmJih0Ll9jZW50ZXIubG5nPj0xODB8fHQuX2NlbnRlci5sbmc8PS0xODApJiYodGhpcy5fcHJldkVhc2U9bnVsbCx0aGlzLl9lYXNpbmc9bnVsbCx0aGlzLl9sYXN0V2hlZWxFdmVudD1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT0wKTtjb25zdCBpPSgpPT50Ll90ZXJyYWluRW5hYmxlZCgpJiZ0aGlzLl9hcm91bmRDb29yZD90LmNvbXB1dGVab29tUmVsYXRpdmVUbyh0aGlzLl9hcm91bmRDb29yZCk6dC56b29tO2lmKDAhPT10aGlzLl9kZWx0YSl7Y29uc3QgZT1cIndoZWVsXCI9PT10aGlzLl90eXBlJiZNYXRoLmFicyh0aGlzLl9kZWx0YSk+R24/dGhpcy5fd2hlZWxab29tUmF0ZTp0aGlzLl9kZWZhdWx0Wm9vbVJhdGU7bGV0IG89Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqZSkpKTt0aGlzLl9kZWx0YTwwJiYwIT09byYmKG89MS9vKTtjb25zdCByPWkoKSxzPU1hdGgucG93KDIsciksbj1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90Lnpvb21TY2FsZSh0aGlzLl90YXJnZXRab29tKTpzO3RoaXMuX3RhcmdldFpvb209TWF0aC5taW4odC5tYXhab29tLE1hdGgubWF4KHQubWluWm9vbSx0LnNjYWxlWm9vbShuKm8pKSksXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmKHRoaXMuX3N0YXJ0Wm9vbT1yLHRoaXMuX2Vhc2luZz10aGlzLl9zbW9vdGhPdXRFYXNpbmcoMjAwKSksdGhpcy5fbGFzdERlbHRhPXRoaXMuX2RlbHRhLHRoaXMuX2RlbHRhPTA7fWNvbnN0IG89XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/dGhpcy5fdGFyZ2V0Wm9vbTppKCkscj10aGlzLl9zdGFydFpvb20scz10aGlzLl9lYXNpbmc7bGV0IG4sYT0hMTtpZihcIndoZWVsXCI9PT10aGlzLl90eXBlJiZyJiZzKXtjb25zdCB0PU1hdGgubWluKChlLmYubm93KCktdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKS8yMDAsMSksaT1zKHQpO249ZS5VKHIsbyxpKSx0PDE/dGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9ITApOmE9ITA7fWVsc2Ugbj1vLGE9ITA7dGhpcy5fYWN0aXZlPSEwLGEmJih0aGlzLl9hY3RpdmU9ITEsdGhpcy5fZmluaXNoVGltZW91dD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3pvb21pbmc9ITEsdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCksZGVsZXRlIHRoaXMuX3RhcmdldFpvb20sZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQ7fSksMjAwKSk7bGV0IGw9bi1pKCk7cmV0dXJuIGwqdGhpcy5fbGFzdERlbHRhPDAmJihsPTApLHtub0luZXJ0aWE6ITAsbmVlZHNSZW5kZXJGcmFtZTohYSx6b29tRGVsdGE6bCxhcm91bmQ6dGhpcy5fYXJvdW5kUG9pbnQsYXJvdW5kQ29vcmQ6dGhpcy5fYXJvdW5kQ29vcmQsb3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH19X3Ntb290aE91dEVhc2luZyh0KXtsZXQgaT1lLmQwO2lmKHRoaXMuX3ByZXZFYXNlKXtjb25zdCB0PXRoaXMuX3ByZXZFYXNlLG89KGUuZi5ub3coKS10LnN0YXJ0KS90LmR1cmF0aW9uLHI9dC5lYXNpbmcobysuMDEpLXQuZWFzaW5nKG8pLHM9LjI3L01hdGguc3FydChyKnIrMWUtNCkqLjAxLG49TWF0aC5zcXJ0KC4wNzI5LXMqcyk7aT1lLmNfKHMsbiwuMjUsMSk7fXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6ZS5mLm5vdygpLGR1cmF0aW9uOnQsZWFzaW5nOml9LGl9Ymx1cigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITE7fV9hZGRTY3JvbGxab29tQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2VcIik6dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPWAke01hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpfXB4YCk7fV9zaG93QmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydFRpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpO30pLDIwMCk7fX1jbGFzcyBabntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2NsaWNrWm9vbT1lLHRoaXMuX3RhcFpvb209dDt9ZW5hYmxlKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCk7fWRpc2FibGUoKXt0aGlzLl9jbGlja1pvb20uZGlzYWJsZSgpLHRoaXMuX3RhcFpvb20uZGlzYWJsZSgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90YXBab29tLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBab29tLmlzQWN0aXZlKCl9fWNsYXNzIEhue2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9Ymx1cigpe3RoaXMucmVzZXQoKTt9ZGJsY2xpY2soZSx0KXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHtjYW1lcmFBbmltYXRpb246aT0+e2kuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTppLmdldFpvb20oKSsoZS5zaGlmdEtleT8tMToxKSxhcm91bmQ6aS51bnByb2plY3QodCl9LHtvcmlnaW5hbEV2ZW50OmV9KTt9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgV257Y29uc3RydWN0b3IoKXt0aGlzLl90YXA9bmV3IHduKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9zd2lwZVBvaW50PXZvaWQgMCx0aGlzLl9zd2lwZVRvdWNoPTAsdGhpcy5fdGFwVGltZT0wLHRoaXMuX3RhcC5yZXNldCgpO310b3VjaHN0YXJ0KGUsdCxpKXt0aGlzLl9zd2lwZVBvaW50fHwodGhpcy5fdGFwVGltZSYmZS50aW1lU3RhbXAtdGhpcy5fdGFwVGltZT41MDAmJnRoaXMucmVzZXQoKSx0aGlzLl90YXBUaW1lP2kubGVuZ3RoPjAmJih0aGlzLl9zd2lwZVBvaW50PXRbMF0sdGhpcy5fc3dpcGVUb3VjaD1pWzBdLmlkZW50aWZpZXIpOnRoaXMuX3RhcC50b3VjaHN0YXJ0KGUsdCxpKSk7fXRvdWNobW92ZShlLHQsaSl7aWYodGhpcy5fdGFwVGltZSl7aWYodGhpcy5fc3dpcGVQb2ludCl7aWYoaVswXS5pZGVudGlmaWVyIT09dGhpcy5fc3dpcGVUb3VjaClyZXR1cm47Y29uc3Qgbz10WzBdLHI9by55LXRoaXMuX3N3aXBlUG9pbnQueTtyZXR1cm4gdGhpcy5fc3dpcGVQb2ludD1vLGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpyLzEyOH19fWVsc2UgdGhpcy5fdGFwLnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl90YXBUaW1lP3RoaXMuX3N3aXBlUG9pbnQmJjA9PT1pLmxlbmd0aCYmdGhpcy5yZXNldCgpOnRoaXMuX3RhcC50b3VjaGVuZChlLHQsaSkmJih0aGlzLl90YXBUaW1lPWUudGltZVN0YW1wKTt9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCk7fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBxbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5fZWw9ZSx0aGlzLl9tb3VzZVBhbj10LHRoaXMuX3RvdWNoUGFuPWk7fWVuYWJsZShlKXt0aGlzLl9pbmVydGlhT3B0aW9ucz1lfHx7fSx0aGlzLl9tb3VzZVBhbi5lbmFibGUoKSx0aGlzLl90b3VjaFBhbi5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW5cIik7fWRpc2FibGUoKXt0aGlzLl9tb3VzZVBhbi5kaXNhYmxlKCksdGhpcy5fdG91Y2hQYW4uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFBhbi5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpfX1jbGFzcyAkbntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5fcGl0Y2hXaXRoUm90YXRlPWUucGl0Y2hXaXRoUm90YXRlLHRoaXMuX21vdXNlUm90YXRlPXQsdGhpcy5fbW91c2VQaXRjaD1pO31lbmFibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX21vdXNlUGl0Y2guZW5hYmxlKCk7fWRpc2FibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fbW91c2VQaXRjaC5kaXNhYmxlKCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9tb3VzZVJvdGF0ZS5pc0VuYWJsZWQoKSYmKCF0aGlzLl9waXRjaFdpdGhSb3RhdGV8fHRoaXMuX21vdXNlUGl0Y2guaXNFbmFibGVkKCkpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX21vdXNlUGl0Y2guaXNBY3RpdmUoKX19Y2xhc3MgWG57Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5fZWw9ZSx0aGlzLl90b3VjaFpvb209dCx0aGlzLl90b3VjaFJvdGF0ZT1pLHRoaXMuX3RhcERyYWdab29tPW8sdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl9lbmFibGVkPSEwO31lbmFibGUoZSl7dGhpcy5fdG91Y2hab29tLmVuYWJsZShlKSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoZSksdGhpcy5fdGFwRHJhZ1pvb20uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpO31kaXNhYmxlKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmlzRW5hYmxlZCgpKSYmdGhpcy5fdGFwRHJhZ1pvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX3RhcERyYWdab29tLmlzQWN0aXZlKCl9ZGlzYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMCx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCk7fWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZSgpO319Y29uc3QgS249ZT0+ZS56b29tfHxlLmRyYWd8fGUucGl0Y2h8fGUucm90YXRlO2NsYXNzIFluIGV4dGVuZHMgZS5ie31jbGFzcyBKbntjb25zdHJ1Y3Rvcigpe3RoaXMuY29uc3RhbnRzPVsxLDEsLjAxXSx0aGlzLnJhZGl1cz0wO31zZXR1cCh0LGkpe2NvbnN0IG89ZS5OLnN1YihbXSxpLHQpO3RoaXMucmFkaXVzPWUuTi5sZW5ndGgob1syXTwwP2UuTi5kaXYoW10sbyx0aGlzLmNvbnN0YW50cyk6W29bMF0sb1sxXSwwXSk7fXByb2plY3RSYXkodCl7ZS5OLmRpdih0LHQsdGhpcy5jb25zdGFudHMpLGUuTi5ub3JtYWxpemUodCx0KSxlLk4ubXVsKHQsdCx0aGlzLmNvbnN0YW50cyk7Y29uc3QgaT1lLk4uc2NhbGUoW10sdCx0aGlzLnJhZGl1cyk7aWYoaVsyXT4wKXtjb25zdCB0PWUuTi5zY2FsZShbXSxbMCwwLDFdLGUuTi5kb3QoaSxbMCwwLDFdKSksbz1lLk4uc2NhbGUoW10sZS5OLm5vcm1hbGl6ZShbXSxbaVswXSxpWzFdLDBdKSx0aGlzLnJhZGl1cykscj1lLk4uYWRkKFtdLGksZS5OLnNjYWxlKFtdLGUuTi5zdWIoW10sZS5OLmFkZChbXSxvLHQpLGkpLDIpKTtpWzBdPXJbMF0saVsxXT1yWzFdO31yZXR1cm4gaX19ZnVuY3Rpb24gUW4oZSl7cmV0dXJuIGUucGFuRGVsdGEmJmUucGFuRGVsdGEubWFnKCl8fGUuem9vbURlbHRhfHxlLmJlYXJpbmdEZWx0YXx8ZS5waXRjaERlbHRhfWNsYXNzIGVhe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXJzPVtdLHRoaXMuX2hhbmRsZXJzQnlJZD17fSx0aGlzLl9jaGFuZ2VzPVtdLHRoaXMuX2luZXJ0aWE9bmV3IHVuKHQpLHRoaXMuX2JlYXJpbmdTbmFwPWkuYmVhcmluZ1NuYXAsdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz17fSx0aGlzLl90cmFja2luZ0VsbGlwc29pZD1uZXcgSm4sdGhpcy5fZHJhZ09yaWdpbj1udWxsLHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3M9e30sdGhpcy5fYWRkRGVmYXVsdEhhbmRsZXJzKGkpLGUuYVkoW1wiaGFuZGxlRXZlbnRcIixcImhhbmRsZVdpbmRvd0V2ZW50XCJdLHRoaXMpO2NvbnN0IG89dGhpcy5fZWw7dGhpcy5fbGlzdGVuZXJzPVtbbyxcInRvdWNoc3RhcnRcIix7cGFzc2l2ZTohMH1dLFtvLFwidG91Y2htb3ZlXCIse3Bhc3NpdmU6ITF9XSxbbyxcInRvdWNoZW5kXCIsdm9pZCAwXSxbbyxcInRvdWNoY2FuY2VsXCIsdm9pZCAwXSxbbyxcIm1vdXNlZG93blwiLHZvaWQgMF0sW28sXCJtb3VzZW1vdmVcIix2b2lkIDBdLFtvLFwibW91c2V1cFwiLHZvaWQgMF0sW2RvY3VtZW50LFwibW91c2Vtb3ZlXCIse2NhcHR1cmU6ITB9XSxbZG9jdW1lbnQsXCJtb3VzZXVwXCIsdm9pZCAwXSxbbyxcIm1vdXNlb3ZlclwiLHZvaWQgMF0sW28sXCJtb3VzZW91dFwiLHZvaWQgMF0sW28sXCJkYmxjbGlja1wiLHZvaWQgMF0sW28sXCJjbGlja1wiLHZvaWQgMF0sW28sXCJrZXlkb3duXCIse2NhcHR1cmU6ITF9XSxbbyxcImtleXVwXCIsdm9pZCAwXSxbbyxcIndoZWVsXCIse3Bhc3NpdmU6ITF9XSxbbyxcImNvbnRleHRtZW51XCIsdm9pZCAwXSxbd2luZG93LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFtlLHQsaV1vZiB0aGlzLl9saXN0ZW5lcnMpe2NvbnN0IG89ZT09PWRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudDtlLmFkZEV2ZW50TGlzdGVuZXIodCxvLGkpO319ZGVzdHJveSgpe2Zvcihjb25zdFtlLHQsaV1vZiB0aGlzLl9saXN0ZW5lcnMpe2NvbnN0IG89ZT09PWRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxvLGkpO319X2FkZERlZmF1bHRIYW5kbGVycyhlKXtjb25zdCB0PXRoaXMuX21hcCxpPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCk7dGhpcy5fYWRkKFwibWFwRXZlbnRcIixuZXcgZ24odCxlKSk7Y29uc3Qgbz10LmJveFpvb209bmV3IHhuKHQsZSk7dGhpcy5fYWRkKFwiYm94Wm9vbVwiLG8pO2NvbnN0IHI9bmV3IFRuLHM9bmV3IEhuO3QuZG91YmxlQ2xpY2tab29tPW5ldyBabihzLHIpLHRoaXMuX2FkZChcInRhcFpvb21cIixyKSx0aGlzLl9hZGQoXCJjbGlja1pvb21cIixzKTtjb25zdCBuPW5ldyBXbjt0aGlzLl9hZGQoXCJ0YXBEcmFnWm9vbVwiLG4pO2NvbnN0IGE9dC50b3VjaFBpdGNoPW5ldyBCbih0KTt0aGlzLl9hZGQoXCJ0b3VjaFBpdGNoXCIsYSk7Y29uc3QgbD1uZXcgSW4oZSksYz1uZXcgRG4oZSk7dC5kcmFnUm90YXRlPW5ldyAkbihlLGwsYyksdGhpcy5fYWRkKFwibW91c2VSb3RhdGVcIixsLFtcIm1vdXNlUGl0Y2hcIl0pLHRoaXMuX2FkZChcIm1vdXNlUGl0Y2hcIixjLFtcIm1vdXNlUm90YXRlXCJdKTtjb25zdCBoPW5ldyBDbihlKSx1PW5ldyBMbih0LGUpO3QuZHJhZ1Bhbj1uZXcgcW4oaSxoLHUpLHRoaXMuX2FkZChcIm1vdXNlUGFuXCIsaCksdGhpcy5fYWRkKFwidG91Y2hQYW5cIix1LFtcInRvdWNoWm9vbVwiLFwidG91Y2hSb3RhdGVcIl0pO2NvbnN0IGQ9bmV3IE9uLF89bmV3IE1uO3QudG91Y2hab29tUm90YXRlPW5ldyBYbihpLF8sZCxuKSx0aGlzLl9hZGQoXCJ0b3VjaFJvdGF0ZVwiLGQsW1widG91Y2hQYW5cIixcInRvdWNoWm9vbVwiXSksdGhpcy5fYWRkKFwidG91Y2hab29tXCIsXyxbXCJ0b3VjaFBhblwiLFwidG91Y2hSb3RhdGVcIl0pLHRoaXMuX2FkZChcImJsb2NrYWJsZU1hcEV2ZW50XCIsbmV3IHZuKHQpKTtjb25zdCBwPXQuc2Nyb2xsWm9vbT1uZXcgVm4odCx0aGlzKTt0aGlzLl9hZGQoXCJzY3JvbGxab29tXCIscCxbXCJtb3VzZVBhblwiXSk7Y29uc3QgZj10LmtleWJvYXJkPW5ldyBObjt0aGlzLl9hZGQoXCJrZXlib2FyZFwiLGYpO2Zvcihjb25zdCBpIG9mIFtcImJveFpvb21cIixcImRvdWJsZUNsaWNrWm9vbVwiLFwidGFwRHJhZ1pvb21cIixcInRvdWNoUGl0Y2hcIixcImRyYWdSb3RhdGVcIixcImRyYWdQYW5cIixcInRvdWNoWm9vbVJvdGF0ZVwiLFwic2Nyb2xsWm9vbVwiLFwia2V5Ym9hcmRcIl0pZS5pbnRlcmFjdGl2ZSYmZVtpXSYmdFtpXS5lbmFibGUoZVtpXSk7fV9hZGQoZSx0LGkpe3RoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lOmUsaGFuZGxlcjp0LGFsbG93ZWQ6aX0pLHRoaXMuX2hhbmRsZXJzQnlJZFtlXT10O31zdG9wKGUpe2lmKCF0aGlzLl91cGRhdGluZ0NhbWVyYSl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycyllLnJlc2V0KCk7dGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sZSksdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9vcmlnaW5hbFpvb209dm9pZCAwO319aXNBY3RpdmUoKXtmb3IoY29uc3R7aGFuZGxlcjplfW9mIHRoaXMuX2hhbmRsZXJzKWlmKGUuaXNBY3RpdmUoKSlyZXR1cm4gITA7cmV0dXJuICExfWlzWm9vbWluZygpe3JldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Muem9vbXx8dGhpcy5fbWFwLnNjcm9sbFpvb20uaXNab29taW5nKCl9aXNSb3RhdGluZygpe3JldHVybiAhIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mucm90YXRlfWlzTW92aW5nKCl7cmV0dXJuICEhS24odGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl8fHRoaXMuaXNab29taW5nKCl9X2lzRHJhZ2dpbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWd9X2Jsb2NrZWRCeUFjdGl2ZShlLHQsaSl7Zm9yKGNvbnN0IG8gaW4gZSlpZihvIT09aSYmKCF0fHx0LmluZGV4T2Yobyk8MCkpcmV0dXJuICEwO3JldHVybiAhMX1oYW5kbGVXaW5kb3dFdmVudChlKXt0aGlzLmhhbmRsZUV2ZW50KGUsYCR7ZS50eXBlfVdpbmRvd2ApO31fZ2V0TWFwVG91Y2hlcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpdGhpcy5fZWwuY29udGFpbnMoaS50YXJnZXQpJiZ0LnB1c2goaSk7cmV0dXJuIHR9aGFuZGxlRXZlbnQoZSx0KXt0aGlzLl91cGRhdGluZ0NhbWVyYT0hMDtjb25zdCBpPVwicmVuZGVyRnJhbWVcIj09PWUudHlwZSxvPWk/dm9pZCAwOmUscj17bmVlZHNSZW5kZXJGcmFtZTohMX0scz17fSxuPXt9LGE9ZS50b3VjaGVzP3RoaXMuX2dldE1hcFRvdWNoZXMoZS50b3VjaGVzKTp2b2lkIDAsbD1hP2YodGhpcy5fZWwsYSk6aT92b2lkIDA6cCh0aGlzLl9lbCxlKTtmb3IoY29uc3R7aGFuZGxlck5hbWU6aSxoYW5kbGVyOmMsYWxsb3dlZDpofW9mIHRoaXMuX2hhbmRsZXJzKXtpZighYy5pc0VuYWJsZWQoKSljb250aW51ZTtsZXQgdTt0aGlzLl9ibG9ja2VkQnlBY3RpdmUobixoLGkpP2MucmVzZXQoKTpjW3R8fGUudHlwZV0mJih1PWNbdHx8ZS50eXBlXShlLGwsYSksdGhpcy5tZXJnZUhhbmRsZXJSZXN1bHQocixzLHUsaSxvKSx1JiZ1Lm5lZWRzUmVuZGVyRnJhbWUmJnRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwodXx8Yy5pc0FjdGl2ZSgpKSYmKG5baV09Yyk7fWNvbnN0IGM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycyluW2VdfHwoY1tlXT1vKTt0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPW4sKE9iamVjdC5rZXlzKGMpLmxlbmd0aHx8UW4ocikpJiYodGhpcy5fY2hhbmdlcy5wdXNoKFtyLHMsY10pLHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoT2JqZWN0LmtleXMobikubGVuZ3RofHxRbihyKSkmJnRoaXMuX21hcC5fc3RvcCghMCksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7Y29uc3R7Y2FtZXJhQW5pbWF0aW9uOmh9PXI7aCYmKHRoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LCEwKSx0aGlzLl9jaGFuZ2VzPVtdLGgodGhpcy5fbWFwKSk7fW1lcmdlSGFuZGxlclJlc3VsdCh0LGksbyxyLHMpe2lmKCFvKXJldHVybjtlLmUodCxvKTtjb25zdCBuPXtoYW5kbGVyTmFtZTpyLG9yaWdpbmFsRXZlbnQ6by5vcmlnaW5hbEV2ZW50fHxzfTt2b2lkIDAhPT1vLnpvb21EZWx0YSYmKGkuem9vbT1uKSx2b2lkIDAhPT1vLnBhbkRlbHRhJiYoaS5kcmFnPW4pLHZvaWQgMCE9PW8ucGl0Y2hEZWx0YSYmKGkucGl0Y2g9biksdm9pZCAwIT09by5iZWFyaW5nRGVsdGEmJihpLnJvdGF0ZT1uKTt9X2FwcGx5Q2hhbmdlcygpe2NvbnN0IHQ9e30saT17fSxvPXt9O2Zvcihjb25zdFtyLHMsbl1vZiB0aGlzLl9jaGFuZ2VzKXIucGFuRGVsdGEmJih0LnBhbkRlbHRhPSh0LnBhbkRlbHRhfHxuZXcgZS5QKDAsMCkpLl9hZGQoci5wYW5EZWx0YSkpLHIuem9vbURlbHRhJiYodC56b29tRGVsdGE9KHQuem9vbURlbHRhfHwwKStyLnpvb21EZWx0YSksci5iZWFyaW5nRGVsdGEmJih0LmJlYXJpbmdEZWx0YT0odC5iZWFyaW5nRGVsdGF8fDApK3IuYmVhcmluZ0RlbHRhKSxyLnBpdGNoRGVsdGEmJih0LnBpdGNoRGVsdGE9KHQucGl0Y2hEZWx0YXx8MCkrci5waXRjaERlbHRhKSx2b2lkIDAhPT1yLmFyb3VuZCYmKHQuYXJvdW5kPXIuYXJvdW5kKSx2b2lkIDAhPT1yLmFyb3VuZENvb3JkJiYodC5hcm91bmRDb29yZD1yLmFyb3VuZENvb3JkKSx2b2lkIDAhPT1yLnBpbmNoQXJvdW5kJiYodC5waW5jaEFyb3VuZD1yLnBpbmNoQXJvdW5kKSxyLm5vSW5lcnRpYSYmKHQubm9JbmVydGlhPXIubm9JbmVydGlhKSxlLmUoaSxzKSxlLmUobyxuKTt0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0odCxpLG8pLHRoaXMuX2NoYW5nZXM9W107fV91cGRhdGVNYXBUcmFuc2Zvcm0odCxpLG8pe2NvbnN0IHI9dGhpcy5fbWFwLHM9ci50cmFuc2Zvcm0sbj1lPT5bZS54LGUueSxlLnpdO2lmKChlPT57Y29uc3QgdD10aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWc7cmV0dXJuIHQmJiF0aGlzLl9oYW5kbGVyc0J5SWRbdC5oYW5kbGVyTmFtZV0uaXNBY3RpdmUoKX0pKCkmJiFRbih0KSl7Y29uc3QgZT1zLnpvb207cy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixudWxsIT10aGlzLl9vcmlnaW5hbFpvb20mJnMuX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoJiZcImdsb2JlXCIhPT1zLnByb2plY3Rpb24ubmFtZSYmMD09PXMucGl0Y2g/KHMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIscy56b29tPXRoaXMuX29yaWdpbmFsWm9vbSk6KHMucmVjZW50ZXJPblRlcnJhaW4oKSxzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiKSxlIT09cy56b29tJiZ0aGlzLl9tYXAuX3VwZGF0ZSghMCk7fWlmKHMuX2lzQ2FtZXJhQ29uc3RyYWluZWQmJnIuX3N0b3AoITApLCFRbih0KSlyZXR1cm4gdm9pZCB0aGlzLl9maXJlRXZlbnRzKGksbywhMCk7bGV0e3BhbkRlbHRhOmEsem9vbURlbHRhOmwsYmVhcmluZ0RlbHRhOmMscGl0Y2hEZWx0YTpoLGFyb3VuZDp1LGFyb3VuZENvb3JkOmQscGluY2hBcm91bmQ6X309dDtzLl9pc0NhbWVyYUNvbnN0cmFpbmVkJiYobD4wJiYobD0wKSxzLl9pc0NhbWVyYUNvbnN0cmFpbmVkPSExKSx2b2lkIDAhPT1fJiYodT1fKSwobHx8KGU9PmlbZV0mJiF0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdKShcImRyYWdcIikpJiZ1JiYodGhpcy5fZHJhZ09yaWdpbj1uKHMucG9pbnRDb29yZGluYXRlM0QodSkpLHRoaXMuX29yaWdpbmFsWm9vbT1zLnpvb20sdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQuc2V0dXAocy5fY2FtZXJhLnBvc2l0aW9uLHRoaXMuX2RyYWdPcmlnaW4pKSxzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLHIuX3N0b3AoITApLHU9dXx8ci50cmFuc2Zvcm0uY2VudGVyUG9pbnQsYyYmKHMuYmVhcmluZys9YyksaCYmKHMucGl0Y2grPWgpLHMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgcD1bMCwwLDBdO2lmKGEpaWYoXCJtZXJjYXRvclwiPT09cy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShzLnNjcmVlblBvaW50VG9NZXJjYXRvclJheSh1KS5kaXIpLHQ9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShzLnNjcmVlblBvaW50VG9NZXJjYXRvclJheSh1LnN1YihhKSkuZGlyKTtwWzBdPXRbMF0tZVswXSxwWzFdPXRbMV0tZVsxXTt9ZWxzZSB7Y29uc3QgdD1zLnBvaW50Q29vcmRpbmF0ZSh1KTtpZihcImdsb2JlXCI9PT1zLnByb2plY3Rpb24ubmFtZSl7YT1hLnJvdGF0ZSgtcy5hbmdsZSk7Y29uc3QgaT1zLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsL3Mud29ybGRTaXplO3BbMF09LWEueCplLmQxKGUuYXUodC55KSkqaSxwWzFdPS1hLnkqZS5kMShzLmNlbnRlci5sYXQpKmk7fWVsc2Uge2NvbnN0IGU9cy5wb2ludENvb3JkaW5hdGUodS5zdWIoYSkpO3QmJmUmJihwWzBdPWUueC10LngscFsxXT1lLnktdC55KTt9fWNvbnN0IGY9cy56b29tLG09WzAsMCwwXTtpZihsKXtjb25zdCB0PW4oZHx8cy5wb2ludENvb3JkaW5hdGUzRCh1KSksaT17ZGlyOmUuTi5ub3JtYWxpemUoW10sZS5OLnN1YihbXSx0LHMuX2NhbWVyYS5wb3NpdGlvbikpfTtpZihpLmRpclsyXTwwKXtjb25zdCBvPXMuem9vbURlbHRhVG9Nb3ZlbWVudCh0LGwpO2UuTi5zY2FsZShtLGkuZGlyLG8pO319Y29uc3QgZz1lLk4uYWRkKHAscCxtKTtzLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZChnKSxsJiZNYXRoLmFicyhzLnpvb20tZik+MWUtNCYmcy5yZWNlbnRlck9uVGVycmFpbigpLHMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fbWFwLl91cGRhdGUoKSx0Lm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQodCksdGhpcy5fZmlyZUV2ZW50cyhpLG8sITApO31fZmlyZUV2ZW50cyh0LGksbyl7Y29uc3Qgcj1Lbih0aGlzLl9ldmVudHNJblByb2dyZXNzKSxzPUtuKHQpLG49e307Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT10W2VdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV18fChuW2Ake2V9c3RhcnRgXT1pKSx0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdPXRbZV07fSFyJiZzJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixzLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIG4pdGhpcy5fZmlyZUV2ZW50KGUsbltlXSk7cyYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLHMub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT10W2VdO3RoaXMuX2ZpcmVFdmVudChlLGkpO31jb25zdCBhPXt9O2xldCBsO2Zvcihjb25zdCBlIGluIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mpe2NvbnN0e2hhbmRsZXJOYW1lOnQsb3JpZ2luYWxFdmVudDpvfT10aGlzLl9ldmVudHNJblByb2dyZXNzW2VdO3RoaXMuX2hhbmRsZXJzQnlJZFt0XS5pc0FjdGl2ZSgpfHwoZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV0sbD1pW3RdfHxvLGFbYCR7ZX1lbmRgXT1sKTt9Zm9yKGNvbnN0IGUgaW4gYSl0aGlzLl9maXJlRXZlbnQoZSxhW2VdKTtjb25zdCBjPUtuKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpO2lmKG8mJihyfHxzKSYmIWMpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IHQ9dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksaT1lPT4wIT09ZSYmLXRoaXMuX2JlYXJpbmdTbmFwPGUmJmU8dGhpcy5fYmVhcmluZ1NuYXA7dD8oaSh0LmJlYXJpbmd8fHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiYodC5iZWFyaW5nPTApLHRoaXMuX21hcC5lYXNlVG8odCx7b3JpZ2luYWxFdmVudDpsfSkpOih0aGlzLl9tYXAuZmlyZShuZXcgZS5iKFwibW92ZWVuZFwiLHtvcmlnaW5hbEV2ZW50Omx9KSksaSh0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSYmdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKSksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7fX1fZmlyZUV2ZW50KHQsaSl7dGhpcy5fbWFwLmZpcmUobmV3IGUuYih0LGk/e29yaWdpbmFsRXZlbnQ6aX06e30pKTt9X3JlcXVlc3RGcmFtZSgpe3JldHVybiB0aGlzLl9tYXAudHJpZ2dlclJlcGFpbnQoKSx0aGlzLl9tYXAuX3JlbmRlclRhc2tRdWV1ZS5hZGQoKGU9Pnt0aGlzLl9mcmFtZUlkPXZvaWQgMCx0aGlzLmhhbmRsZUV2ZW50KG5ldyBZbihcInJlbmRlckZyYW1lXCIse3RpbWVTdGFtcDplfSkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpO30pKX1fdHJpZ2dlclJlbmRlckZyYW1lKCl7dm9pZCAwPT09dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9dGhpcy5fcmVxdWVzdEZyYW1lKCkpO319Y29uc3QgdGE9XCJtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoLi4uKSBhbmQgbWFwLmdldEZyZWVDYW1lcmFPcHRpb25zKCkgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuXCI7Y2xhc3MgaWEgZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IodCxpKXtzdXBlcigpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPXQsdGhpcy5fYmVhcmluZ1NuYXA9aS5iZWFyaW5nU25hcCx0aGlzLl9yZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb249ITEhPT1pLnJlc3BlY3RQcmVmZXJzUmVkdWNlZE1vdGlvbixlLmFZKFtcIl9yZW5kZXJGcmFtZUNhbGxiYWNrXCJdLHRoaXMpO31nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IGUuYm4odGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZyx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0KX1zZXRDZW50ZXIoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjplfSx0KX1wYW5CeSh0LGksbyl7cmV0dXJuIHQ9ZS5QLmNvbnZlcnQodCkubXVsdCgtMSksdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsZS5lKHtvZmZzZXQ6dH0saSksbyl9cGFuVG8odCxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyhlLmUoe2NlbnRlcjp0fSxpKSxvKX1nZXRab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb219c2V0Wm9vbShlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTplfSx0KSx0aGlzfXpvb21Ubyh0LGksbyl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZSh7em9vbTp0fSxpKSxvKX16b29tSW4oZSx0KXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkrMSxlLHQpLHRoaXN9em9vbU91dChlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKS0xLGUsdCksdGhpc31nZXRCZWFyaW5nKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmd9c2V0QmVhcmluZyhlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7YmVhcmluZzplfSx0KSx0aGlzfWdldFBhZGRpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGFkZGluZ31zZXRQYWRkaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtwYWRkaW5nOmV9LHQpLHRoaXN9cm90YXRlVG8odCxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyhlLmUoe2JlYXJpbmc6dH0saSksbyl9cmVzZXROb3J0aCh0LGkpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsZS5lKHtkdXJhdGlvbjoxZTN9LHQpLGkpLHRoaXN9cmVzZXROb3J0aFBpdGNoKHQsaSl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZSh7YmVhcmluZzowLHBpdGNoOjAsZHVyYXRpb246MWUzfSx0KSxpKSx0aGlzfXNuYXBUb05vcnRoKGUsdCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0QmVhcmluZygpKTx0aGlzLl9iZWFyaW5nU25hcD90aGlzLnJlc2V0Tm9ydGgoZSx0KTp0aGlzfWdldFBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdGNofXNldFBpdGNoKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtwaXRjaDplfSx0KSx0aGlzfWNhbWVyYUZvckJvdW5kcyh0LGkpe3Q9ZS5hZC5jb252ZXJ0KHQpO2NvbnN0IG89aSYmaS5iZWFyaW5nfHwwLHI9aSYmaS5waXRjaHx8MCxzPXQuZ2V0Tm9ydGhXZXN0KCksbj10LmdldFNvdXRoRWFzdCgpO3JldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0scyxuLG8scixpKX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyh0KXtjb25zdCBpPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKHQ9ZS5lKHtwYWRkaW5nOmksb2Zmc2V0OlswLDBdLG1heFpvb206dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbX0sdCkpLnBhZGRpbmcpe2NvbnN0IGU9dC5wYWRkaW5nO3QucGFkZGluZz17dG9wOmUsYm90dG9tOmUscmlnaHQ6ZSxsZWZ0OmV9O31yZXR1cm4gdC5wYWRkaW5nPWUuZShpLHQucGFkZGluZyksdH1fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoZSx0KXtjb25zdCBpPXQubWF4WzBdLXQubWluWzBdLG89dC5tYXhbMV0tdC5taW5bMV07cmV0dXJuIGkvbz5lLmFzcGVjdD9pLygyKk1hdGgudGFuKC41KmUuZm92WCkqZS5hc3BlY3QpOm8vKDIqTWF0aC50YW4oLjUqZS5mb3ZZKSplLmFzcGVjdCl9X2NhbWVyYUZvckJvdW5kc09uR2xvYmUodCxpLG8scixzLG4pe2NvbnN0IGE9dC5jbG9uZSgpLGw9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhuKTthLmJlYXJpbmc9cixhLnBpdGNoPXM7Y29uc3QgYz1lLmJuLmNvbnZlcnQoaSksaD1lLmJuLmNvbnZlcnQobyksdT0uNSooYy5sYXQraC5sYXQpLGQ9LjUqKGMubG5nK2gubG5nKSxfPWUuZDIodSxkKSxwPWUuTi5ub3JtYWxpemUoW10sXyksZj1lLk4ubm9ybWFsaXplKFtdLGUuTi5jcm9zcyhbXSxwLFswLDEsMF0pKSxtPWUuTi5jcm9zcyhbXSxmLHApLGc9W2ZbMF0sZlsxXSxmWzJdLDAsbVswXSxtWzFdLG1bMl0sMCxwWzBdLHBbMV0scFsyXSwwLDAsMCwwLDFdLHY9W18sZS5kMihjLmxhdCxjLmxuZyksZS5kMihoLmxhdCxjLmxuZyksZS5kMihoLmxhdCxoLmxuZyksZS5kMihjLmxhdCxoLmxuZyksZS5kMih1LGMubG5nKSxlLmQyKHUsaC5sbmcpLGUuZDIoYy5sYXQsZCksZS5kMihoLmxhdCxkKV07bGV0IHg9ZS5iUy5mcm9tUG9pbnRzKHYubWFwKCh0PT5bZS5OLmRvdChmLHQpLGUuTi5kb3QobSx0KSxlLk4uZG90KHAsdCldKSkpO2NvbnN0IHk9ZS5OLnRyYW5zZm9ybU1hdDQoW10seC5jZW50ZXIsZyk7MD09PWUuTi5zcXVhcmVkTGVuZ3RoKHkpJiZlLk4uc2V0KHksMCwwLDEpLGUuTi5ub3JtYWxpemUoeSx5KSxlLk4uc2NhbGUoeSx5LGUuYWIpLGEuY2VudGVyPWUuZDMoeSk7Y29uc3QgYj1hLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSx3PWUuYTYuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLGIpO3g9ZS5iUy5hcHBseVRyYW5zZm9ybSh4LGUuYTYubXVsdGlwbHkoW10sYixnKSksZS5OLnRyYW5zZm9ybU1hdDQoeSx5LGIpO2NvbnN0IFQ9LjUqKHgubWF4WzJdLXgubWluWzJdKSxFPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGEseCksUz1lLk4uc2NhbGUoW10sWzAsMCwxXSxUKSxDPWUuTi5hZGQoUyx5LFMpLEk9RSsoMD09PWEucGl0Y2g/MDplLk4uZGlzdGFuY2UoeSxDKSksRD1hLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsTD1lLk4uc3ViKFtdLHksW0RbMF0sRFsxXSxEWzJdXSk7ZS5OLm5vcm1hbGl6ZShMLEwpLGUuTi5zY2FsZShMLEwsSSk7Y29uc3QgQT1lLk4uYWRkKFtdLHksTCk7ZS5OLnRyYW5zZm9ybU1hdDQoQSxBLHcpO2NvbnN0IFI9ZS5kNC9lLmFiLFA9ZS5OLmxlbmd0aChBKSxNPWUuYmwoTWF0aC5tYXgoUCpSLWUuZDQsTnVtYmVyLkVQU0lMT04pLDApLHo9TWF0aC5taW4oYS56b29tRnJvbU1lcmNhdG9yWkFkanVzdGVkKE0pLGwubWF4Wm9vbSk7cmV0dXJuIHo+LjUqKGUuYkcrZS5ieCk/KGEuc2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSxhLnpvb209eix0aGlzLl9jYW1lcmFGb3JCb3VuZHMoYSxpLG8scixzLG4pKTp7Y2VudGVyOmEuY2VudGVyLHpvb206eixiZWFyaW5nOnIscGl0Y2g6c319cXVlcnlUZXJyYWluRWxldmF0aW9uKHQsaSl7Y29uc3Qgbz10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247cmV0dXJuIG8/KGk9ZS5lKHt9LHtleGFnZ2VyYXRlZDohMH0saSksby5nZXRBdFBvaW50KGUuTC5mcm9tTG5nTGF0KHQpLG51bGwsaS5leGFnZ2VyYXRlZCkpOm51bGx9X2NhbWVyYUZvckJvdW5kcyh0LGksbyxyLHMsbil7aWYoXCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kc09uR2xvYmUodCxpLG8scixzLG4pO2NvbnN0IGE9dC5jbG9uZSgpLGw9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhuKSxjPWEucGFkZGluZzthLmJlYXJpbmc9cixhLnBpdGNoPXM7Y29uc3QgaD1lLmJuLmNvbnZlcnQoaSksdT1lLmJuLmNvbnZlcnQobyksZD1uZXcgZS5ibihoLmxuZyx1LmxhdCksXz1uZXcgZS5ibih1LmxuZyxoLmxhdCkscD1hLnByb2plY3QoaCksZj1hLnByb2plY3QodSksbT10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihoKSxnPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKHUpLHY9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oZCkseD10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihfKSx5PVtbcC54LHAueSxNYXRoLm1pbihtfHwwLGd8fDAsdnx8MCx4fHwwKV0sW2YueCxmLnksTWF0aC5tYXgobXx8MCxnfHwwLHZ8fDAseHx8MCldXTtsZXQgYj1lLmJTLmZyb21Qb2ludHMoeSk7Y29uc3Qgdz1hLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSxUPWUuYTYuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHcpO2I9ZS5iUy5hcHBseVRyYW5zZm9ybShiLHcpO2NvbnN0IEU9ZS5OLnN1YihbXSxiLm1heCxiLm1pbiksUz1jLmxlZnR8fDAsQz1jLnJpZ2h0fHwwLEk9Yy5ib3R0b218fDAsRD1jLnRvcHx8MCx7bGVmdDpMLHJpZ2h0OkEsdG9wOlIsYm90dG9tOlB9PWwucGFkZGluZyxNPS41KihTK0MpLHo9LjUqKEQrSSksTz1NYXRoLm1pbihhLnNjYWxlWm9vbShhLnNjYWxlKk1hdGgubWluKChhLndpZHRoLShTK0MrTCtBKSkvRVswXSwoYS5oZWlnaHQtKEkrRCtQK1IpKS9FWzFdKSksbC5tYXhab29tKSxGPWEuc2NhbGUvYS56b29tU2NhbGUoTyk7Yj1uZXcgZS5iUyhbYi5taW5bMF0tKEwrTSkqRixiLm1pblsxXS0oUCt6KSpGLGIubWluWzJdXSxbYi5tYXhbMF0rKEErTSkqRixiLm1heFsxXSsoUit6KSpGLGIubWF4WzJdXSk7Y29uc3QgQj0uNSpFWzJdLGs9dGhpcy5fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoYSxiKSxOPVswLDAsMSwwXTtlLmE3LnRyYW5zZm9ybU1hdDQoTixOLHcpLGUuYTcubm9ybWFsaXplKE4sTik7Y29uc3QgVT1lLk4uc2NhbGUoW10sTixrK0IpLEc9ZS5OLmFkZChbXSxiLmNlbnRlcixVKSxqPShcIm51bWJlclwiPT10eXBlb2YgbC5vZmZzZXQueCYmXCJudW1iZXJcIj09dHlwZW9mIGwub2Zmc2V0Lnk/bmV3IGUuUChsLm9mZnNldC54LGwub2Zmc2V0LnkpOmUuUC5jb252ZXJ0KGwub2Zmc2V0KSkucm90YXRlKC1lLmJqKHIpKTtiLmNlbnRlclswXS09ai54KkYsYi5jZW50ZXJbMV0rPWoueSpGLGUuTi50cmFuc2Zvcm1NYXQ0KGIuY2VudGVyLGIuY2VudGVyLFQpLGUuTi50cmFuc2Zvcm1NYXQ0KEcsRyxUKTtjb25zdCBWPVtiLmNlbnRlclswXSxiLmNlbnRlclsxXSxHWzJdKmEucGl4ZWxzUGVyTWV0ZXJdO2UuTi5zY2FsZShWLFYsMS9hLndvcmxkU2l6ZSk7Y29uc3QgWj1lLmF0KFZbMF0pLEg9ZS5hdShWWzFdKSxXPU1hdGgubWluKGEuX3pvb21Gcm9tTWVyY2F0b3JaKFZbMl0pLGwubWF4Wm9vbSkscT1uZXcgZS5ibihaLEgpO3JldHVybiBhLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24mJlc8LjUqKGUuYkcrZS5ieCk/KGEuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxhLnpvb209Vyx0aGlzLl9jYW1lcmFGb3JCb3VuZHMoYSxpLG8scixzLG4pKTp7Y2VudGVyOnEsem9vbTpXLGJlYXJpbmc6cixwaXRjaDpzfX1maXRCb3VuZHMoZSx0LGkpe2NvbnN0IG89dGhpcy5jYW1lcmFGb3JCb3VuZHMoZSx0KTtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwobyx0LGkpfWZpdFNjcmVlbkNvb3JkaW5hdGVzKHQsaSxvLHIscyl7Y29uc3Qgbj1lLlAuY29udmVydCh0KSxhPWUuUC5jb252ZXJ0KGkpLGw9bmV3IGUuUChNYXRoLm1pbihuLngsYS54KSxNYXRoLm1pbihuLnksYS55KSksYz1uZXcgZS5QKE1hdGgubWF4KG4ueCxhLngpLE1hdGgubWF4KG4ueSxhLnkpKTtpZihcIm1lcmNhdG9yXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMudHJhbnNmb3JtLmFueUNvcm5lck9mZkVkZ2UobixhKSlyZXR1cm4gdGhpcztjb25zdCBoPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChsKSx1PXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChjKSxkPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgZS5QKGwueCxjLnkpKSxfPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgZS5QKGMueCxsLnkpKSxwPVtNYXRoLm1pbihoLmxuZyx1LmxuZyxkLmxuZyxfLmxuZyksTWF0aC5taW4oaC5sYXQsdS5sYXQsZC5sYXQsXy5sYXQpXSxmPVtNYXRoLm1heChoLmxuZyx1LmxuZyxkLmxuZyxfLmxuZyksTWF0aC5tYXgoaC5sYXQsdS5sYXQsZC5sYXQsXy5sYXQpXSxtPXImJnIucGl0Y2g/ci5waXRjaDp0aGlzLmdldFBpdGNoKCksZz10aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0scCxmLG8sbSxyKTtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwoZyxyLHMpfV9maXRJbnRlcm5hbCh0LGksbyl7cmV0dXJuIHQ/KGRlbGV0ZShpPWUuZSh0LGkpKS5wYWRkaW5nLGkubGluZWFyP3RoaXMuZWFzZVRvKGksbyk6dGhpcy5mbHlUbyhpLG8pKTp0aGlzfWp1bXBUbyh0LGkpe3RoaXMuc3RvcCgpO2NvbnN0IG89dC5wcmVsb2FkT25seT90aGlzLnRyYW5zZm9ybS5jbG9uZSgpOnRoaXMudHJhbnNmb3JtO2xldCByPSExLHM9ITEsbj0hMTtyZXR1cm4gXCJ6b29tXCJpbiB0JiZvLnpvb20hPT0rdC56b29tJiYocj0hMCxvLnpvb209K3Quem9vbSksdm9pZCAwIT09dC5jZW50ZXImJihvLmNlbnRlcj1lLmJuLmNvbnZlcnQodC5jZW50ZXIpKSxcImJlYXJpbmdcImluIHQmJm8uYmVhcmluZyE9PSt0LmJlYXJpbmcmJihzPSEwLG8uYmVhcmluZz0rdC5iZWFyaW5nKSxcInBpdGNoXCJpbiB0JiZvLnBpdGNoIT09K3QucGl0Y2gmJihuPSEwLG8ucGl0Y2g9K3QucGl0Y2gpLG51bGw9PXQucGFkZGluZ3x8by5pc1BhZGRpbmdFcXVhbCh0LnBhZGRpbmcpfHwoby5wYWRkaW5nPXQucGFkZGluZyksdC5wcmVsb2FkT25seT8odGhpcy5fcHJlbG9hZFRpbGVzKG8pLHRoaXMpOih0aGlzLmZpcmUobmV3IGUuYihcIm1vdmVzdGFydFwiLGkpKS5maXJlKG5ldyBlLmIoXCJtb3ZlXCIsaSkpLHImJnRoaXMuZmlyZShuZXcgZS5iKFwiem9vbXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuYihcInpvb21cIixpKSkuZmlyZShuZXcgZS5iKFwiem9vbWVuZFwiLGkpKSxzJiZ0aGlzLmZpcmUobmV3IGUuYihcInJvdGF0ZXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuYihcInJvdGF0ZVwiLGkpKS5maXJlKG5ldyBlLmIoXCJyb3RhdGVlbmRcIixpKSksbiYmdGhpcy5maXJlKG5ldyBlLmIoXCJwaXRjaHN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuYihcInBpdGNoXCIsaSkpLmZpcmUobmV3IGUuYihcInBpdGNoZW5kXCIsaSkpLHRoaXMuZmlyZShuZXcgZS5iKFwibW92ZWVuZFwiLGkpKSl9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmF8fGUudyh0YSksdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0LGkpe2NvbnN0IG89dGhpcy50cmFuc2Zvcm07aWYoIW8ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpcmV0dXJuIGUudyh0YSksdGhpczt0aGlzLnN0b3AoKTtjb25zdCByPW8uem9vbSxzPW8ucGl0Y2gsbj1vLmJlYXJpbmc7by5zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0KTtjb25zdCBhPXIhPT1vLnpvb20sbD1zIT09by5waXRjaCxjPW4hPT1vLmJlYXJpbmc7cmV0dXJuIHRoaXMuZmlyZShuZXcgZS5iKFwibW92ZXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuYihcIm1vdmVcIixpKSksYSYmdGhpcy5maXJlKG5ldyBlLmIoXCJ6b29tc3RhcnRcIixpKSkuZmlyZShuZXcgZS5iKFwiem9vbVwiLGkpKS5maXJlKG5ldyBlLmIoXCJ6b29tZW5kXCIsaSkpLGMmJnRoaXMuZmlyZShuZXcgZS5iKFwicm90YXRlc3RhcnRcIixpKSkuZmlyZShuZXcgZS5iKFwicm90YXRlXCIsaSkpLmZpcmUobmV3IGUuYihcInJvdGF0ZWVuZFwiLGkpKSxsJiZ0aGlzLmZpcmUobmV3IGUuYihcInBpdGNoc3RhcnRcIixpKSkuZmlyZShuZXcgZS5iKFwicGl0Y2hcIixpKSkuZmlyZShuZXcgZS5iKFwicGl0Y2hlbmRcIixpKSksdGhpcy5maXJlKG5ldyBlLmIoXCJtb3ZlZW5kXCIsaSkpLHRoaXN9ZWFzZVRvKHQsaSl7dGhpcy5fc3RvcCghMSx0LmVhc2VJZCksKCExPT09KHQ9ZS5lKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzplLmQwfSx0KSkuYW5pbWF0ZXx8dGhpcy5fcHJlZmVyc1JlZHVjZWRNb3Rpb24odCkpJiYodC5kdXJhdGlvbj0wKTtjb25zdCBvPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCkscz10aGlzLmdldEJlYXJpbmcoKSxuPXRoaXMuZ2V0UGl0Y2goKSxhPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0Pyt0Lnpvb206cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxzKTpzLGg9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDpuLHU9XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpvLnBhZGRpbmcsZD1lLlAuY29udmVydCh0Lm9mZnNldCk7bGV0IF8scCxmO2lmKFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBpPWUuTC5mcm9tTG5nTGF0KG8uY2VudGVyKSxyPWQucm90YXRlKC1vLmFuZ2xlKTtpLngrPXIueC9vLndvcmxkU2l6ZSxpLnkrPXIueS9vLndvcmxkU2l6ZTtjb25zdCBzPWkudG9MbmdMYXQoKSxuPWUuYm4uY29udmVydCh0LmNlbnRlcnx8cyk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKG4pLF89by5jZW50ZXJQb2ludC5hZGQocikscD1uZXcgZS5QKGkueCxpLnkpLm11bHQoby53b3JsZFNpemUpLGY9bmV3IGUuUChlLmE1KG4ubG5nKSxlLmFlKG4ubGF0KSkubXVsdChvLndvcmxkU2l6ZSkuc3ViKHApO31lbHNlIHtfPW8uY2VudGVyUG9pbnQuYWRkKGQpO2NvbnN0IGk9by5wb2ludExvY2F0aW9uKF8pLHI9ZS5ibi5jb252ZXJ0KHQuY2VudGVyfHxpKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIocikscD1vLnByb2plY3QoaSksZj1vLnByb2plY3Qocikuc3ViKHApO31jb25zdCBtPW8uem9vbVNjYWxlKGwtcik7bGV0IGcsdjt0LmFyb3VuZCYmKGc9ZS5ibi5jb252ZXJ0KHQuYXJvdW5kKSx2PW8ubG9jYXRpb25Qb2ludChnKSk7Y29uc3QgeD10aGlzLl96b29taW5nfHxsIT09cix5PXRoaXMuX3JvdGF0aW5nfHxzIT09YyxiPXRoaXMuX3BpdGNoaW5nfHxoIT09bix3PSFvLmlzUGFkZGluZ0VxdWFsKHUpLFQ9bz0+VD0+e2lmKHgmJihvLnpvb209ZS5VKHIsbCxUKSkseSYmKG8uYmVhcmluZz1lLlUocyxjLFQpKSxiJiYoby5waXRjaD1lLlUobixoLFQpKSx3JiYoby5pbnRlcnBvbGF0ZVBhZGRpbmcoYSx1LFQpLF89by5jZW50ZXJQb2ludC5hZGQoZCkpLGcpby5zZXRMb2NhdGlvbkF0UG9pbnQoZyx2KTtlbHNlIHtjb25zdCBlPW8uem9vbVNjYWxlKG8uem9vbS1yKSx0PWw+cj9NYXRoLm1pbigyLG0pOk1hdGgubWF4KC41LG0pLGk9TWF0aC5wb3codCwxLVQpLHM9by51bnByb2plY3QocC5hZGQoZi5tdWx0KFQqaSkpLm11bHQoZSkpO28uc2V0TG9jYXRpb25BdFBvaW50KG8ucmVuZGVyV29ybGRDb3BpZXM/cy53cmFwKCk6cyxfKTt9cmV0dXJuIHQucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGkpLG99O2lmKHQucHJlbG9hZE9ubHkpe2NvbnN0IGU9dGhpcy5fZW11bGF0ZShULHQuZHVyYXRpb24sbyk7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyhlKSx0aGlzfWNvbnN0IEU9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz14LHRoaXMuX3JvdGF0aW5nPXksdGhpcy5fcGl0Y2hpbmc9Yix0aGlzLl9lYXNlSWQ9dC5lYXNlSWQsdGhpcy5fcHJlcGFyZUVhc2UoaSx0Lm5vTW92ZVN0YXJ0LEUpLHRoaXMuX2Vhc2UoVChvKSwoZT0+e1wic2VhXCI9PT1vLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSYmby5yZWNlbnRlck9uVGVycmFpbigpLHRoaXMuX2FmdGVyRWFzZShpLGUpO30pLHQpLHRoaXN9X3ByZXBhcmVFYXNlKHQsaSxvPXt9KXt0aGlzLl9tb3Zpbmc9ITAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsdGhpcy50cmFuc2Zvcm0uX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoJiYwPT09dGhpcy50cmFuc2Zvcm0ucGl0Y2gmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiKSxpfHxvLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBlLmIoXCJtb3Zlc3RhcnRcIix0KSksdGhpcy5fem9vbWluZyYmIW8uem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLmIoXCJ6b29tc3RhcnRcIix0KSksdGhpcy5fcm90YXRpbmcmJiFvLnJvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IGUuYihcInJvdGF0ZXN0YXJ0XCIsdCkpLHRoaXMuX3BpdGNoaW5nJiYhby5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLmIoXCJwaXRjaHN0YXJ0XCIsdCkpO31fZmlyZU1vdmVFdmVudHModCl7dGhpcy5maXJlKG5ldyBlLmIoXCJtb3ZlXCIsdCkpLHRoaXMuX3pvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5iKFwiem9vbVwiLHQpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLmIoXCJyb3RhdGVcIix0KSksdGhpcy5fcGl0Y2hpbmcmJnRoaXMuZmlyZShuZXcgZS5iKFwicGl0Y2hcIix0KSk7fV9hZnRlckVhc2UodCxpKXtpZih0aGlzLl9lYXNlSWQmJmkmJnRoaXMuX2Vhc2VJZD09PWkpcmV0dXJuO3RoaXMuX2Vhc2VJZD12b2lkIDAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCI7Y29uc3Qgbz10aGlzLl96b29taW5nLHI9dGhpcy5fcm90YXRpbmcscz10aGlzLl9waXRjaGluZzt0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLl9yb3RhdGluZz0hMSx0aGlzLl9waXRjaGluZz0hMSxvJiZ0aGlzLmZpcmUobmV3IGUuYihcInpvb21lbmRcIix0KSksciYmdGhpcy5maXJlKG5ldyBlLmIoXCJyb3RhdGVlbmRcIix0KSkscyYmdGhpcy5maXJlKG5ldyBlLmIoXCJwaXRjaGVuZFwiLHQpKSx0aGlzLmZpcmUobmV3IGUuYihcIm1vdmVlbmRcIix0KSk7fWZseVRvKHQsaSl7aWYodGhpcy5fcHJlZmVyc1JlZHVjZWRNb3Rpb24odCkpe2NvbnN0IG89ZS5hYyh0LFtcImNlbnRlclwiLFwiem9vbVwiLFwiYmVhcmluZ1wiLFwicGl0Y2hcIixcImFyb3VuZFwiXSk7cmV0dXJuIHRoaXMuanVtcFRvKG8saSl9dGhpcy5zdG9wKCksdD1lLmUoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6ZS5kMH0sdCk7Y29uc3Qgbz10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLHM9dGhpcy5nZXRCZWFyaW5nKCksbj10aGlzLmdldFBpdGNoKCksYT1cInpvb21cImluIHQ/ZS5hYSgrdC56b29tLG8ubWluWm9vbSxvLm1heFpvb20pOnIsbD1cImJlYXJpbmdcImluIHQ/dGhpcy5fbm9ybWFsaXplQmVhcmluZyh0LmJlYXJpbmcscyk6cyxjPVwicGl0Y2hcImluIHQ/K3QucGl0Y2g6bixoPW8uem9vbVNjYWxlKGEtciksdT1lLlAuY29udmVydCh0Lm9mZnNldCksZD1vLmNlbnRlclBvaW50LmFkZCh1KSxfPW8ucG9pbnRMb2NhdGlvbihkKTtsZXQgcD10LmNlbnRlcjtpZihwJiZ0LnBhZGRpbmcpe2NvbnN0IGU9dGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLHAscCxsLGMsdCk7ZSYmKHA9ZS5jZW50ZXIpO31wPWUuYm4uY29udmVydChwfHxfKSx0aGlzLl9ub3JtYWxpemVDZW50ZXIocCk7Y29uc3QgZj1vLnByb2plY3QoXyksbT1vLnByb2plY3QocCkuc3ViKGYpO2xldCBnPXQuY3VydmU7Y29uc3Qgdj1NYXRoLm1heChvLndpZHRoLG8uaGVpZ2h0KSx4PXYvaCx5PW0ubWFnKCk7aWYoXCJtaW5ab29tXCJpbiB0KXtjb25zdCBpPWUuYWEoTWF0aC5taW4odC5taW5ab29tLHIsYSksby5taW5ab29tLG8ubWF4Wm9vbSkscz12L28uem9vbVNjYWxlKGktcik7Zz1NYXRoLnNxcnQocy95KjIpO31jb25zdCBiPWcqZztmdW5jdGlvbiB3KGUpe2NvbnN0IHQ9KHgqeC12KnYrKGU/LTE6MSkqYipiKnkqeSkvKDIqKGU/eDp2KSpiKnkpO3JldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQodCp0KzEpLXQpfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIChNYXRoLmV4cChlKS1NYXRoLmV4cCgtZSkpLzJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4gKE1hdGguZXhwKGUpK01hdGguZXhwKC1lKSkvMn1jb25zdCBTPXcoMCk7bGV0IEM9ZnVuY3Rpb24oZSl7cmV0dXJuIEUoUykvRShTK2cqZSl9LEk9ZnVuY3Rpb24oZSl7cmV0dXJuIHYqKChFKFMpKihUKHQ9UytnKmUpL0UodCkpLVQoUykpL2IpL3k7dmFyIHQ7fSxEPSh3KDEpLVMpL2c7aWYoTWF0aC5hYnMoeSk8MWUtNnx8IWlzRmluaXRlKEQpKXtpZihNYXRoLmFicyh2LXgpPDFlLTYpcmV0dXJuIHRoaXMuZWFzZVRvKHQsaSk7Y29uc3QgZT14PHY/LTE6MTtEPU1hdGguYWJzKE1hdGgubG9nKHgvdikpL2csST1mdW5jdGlvbigpe3JldHVybiAwfSxDPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmV4cChlKmcqdCl9O310LmR1cmF0aW9uPVwiZHVyYXRpb25cImluIHQ/K3QuZHVyYXRpb246MWUzKkQvKFwic2NyZWVuU3BlZWRcImluIHQ/K3Quc2NyZWVuU3BlZWQvZzordC5zcGVlZCksdC5tYXhEdXJhdGlvbiYmdC5kdXJhdGlvbj50Lm1heER1cmF0aW9uJiYodC5kdXJhdGlvbj0wKTtjb25zdCBMPXMhPT1sLEE9YyE9PW4sUj1vPT5oPT57Y29uc3QgdT1oKkQsXz0xL0ModSk7by56b29tPTE9PT1oP2E6citvLnNjYWxlWm9vbShfKSxMJiYoby5iZWFyaW5nPWUuVShzLGwsaCkpLEEmJihvLnBpdGNoPWUuVShuLGMsaCkpO2NvbnN0IGc9MT09PWg/cDpvLnVucHJvamVjdChmLmFkZChtLm11bHQoSSh1KSkpLm11bHQoXykpO3JldHVybiBvLnNldExvY2F0aW9uQXRQb2ludChvLnJlbmRlcldvcmxkQ29waWVzP2cud3JhcCgpOmcsZCksby5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMoaSksb307aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFIsdC5kdXJhdGlvbixvKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9cmV0dXJuIHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fcm90YXRpbmc9TCx0aGlzLl9waXRjaGluZz1BLHRoaXMuX3ByZXBhcmVFYXNlKGksITEpLHRoaXMuX2Vhc2UoUihvKSwoKCk9PnRoaXMuX2FmdGVyRWFzZShpKSksdCksdGhpc31pc0Vhc2luZygpe3JldHVybiAhIXRoaXMuX2Vhc2VGcmFtZUlkfXN0b3AoKXtyZXR1cm4gdGhpcy5fc3RvcCgpfV9zdG9wKGUsdCl7aWYodGhpcy5fZWFzZUZyYW1lSWQmJih0aGlzLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9lYXNlRnJhbWVJZCksdGhpcy5fZWFzZUZyYW1lSWQ9dm9pZCAwLHRoaXMuX29uRWFzZUZyYW1lPXZvaWQgMCksdGhpcy5fb25FYXNlRW5kKXtjb25zdCBlPXRoaXMuX29uRWFzZUVuZDt0aGlzLl9vbkVhc2VFbmQ9dm9pZCAwLGUuY2FsbCh0aGlzLHQpO31pZighZSl7Y29uc3QgZT10aGlzLmhhbmRsZXJzO2UmJmUuc3RvcCghMSk7fXJldHVybiB0aGlzfV9lYXNlKHQsaSxvKXshMT09PW8uYW5pbWF0ZXx8MD09PW8uZHVyYXRpb24/KHQoMSksaSgpKToodGhpcy5fZWFzZVN0YXJ0PWUuZi5ub3coKSx0aGlzLl9lYXNlT3B0aW9ucz1vLHRoaXMuX29uRWFzZUZyYW1lPXQsdGhpcy5fb25FYXNlRW5kPWksdGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spKTt9X3JlbmRlckZyYW1lQ2FsbGJhY2soKXtjb25zdCB0PU1hdGgubWluKChlLmYubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSxpPXRoaXMuX29uRWFzZUZyYW1lO2kmJmkodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKSx0PDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO31fbm9ybWFsaXplQmVhcmluZyh0LGkpe3Q9ZS5iaCh0LC0xODAsMTgwKTtjb25zdCBvPU1hdGguYWJzKHQtaSk7cmV0dXJuIE1hdGguYWJzKHQtMzYwLWkpPG8mJih0LT0zNjApLE1hdGguYWJzKHQrMzYwLWkpPG8mJih0Kz0zNjApLHR9X25vcm1hbGl6ZUNlbnRlcihlKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtO2lmKHQubWF4Qm91bmRzKXJldHVybjtpZihcImdsb2JlXCIhPT10LnByb2plY3Rpb24ubmFtZSYmIXQucmVuZGVyV29ybGRDb3BpZXMpcmV0dXJuO2NvbnN0IGk9ZS5sbmctdC5jZW50ZXIubG5nO2UubG5nKz1pPjE4MD8tMzYwOmk8LTE4MD8zNjA6MDt9X3ByZWZlcnNSZWR1Y2VkTW90aW9uKHQpe3JldHVybiB0aGlzLl9yZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb24mJmUuZi5wcmVmZXJzUmVkdWNlZE1vdGlvbiYmISh0JiZ0LmVzc2VudGlhbCl9X2VtdWxhdGUoZSx0LGkpe2NvbnN0IG89TWF0aC5jZWlsKDE1KnQvMWUzKSxyPVtdLHM9ZShpLmNsb25lKCkpO2ZvcihsZXQgZT0wO2U8PW87ZSsrKXtjb25zdCB0PXMoZS9vKTtyLnB1c2godC5jbG9uZSgpKTt9cmV0dXJuIHJ9fWNsYXNzIG9he2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMub3B0aW9ucz10LGUuYVkoW1wiX3RvZ2dsZUF0dHJpYnV0aW9uXCIsXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLXJpZ2h0XCJ9b25BZGQoZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSx0aGlzLl9jb21wYWN0QnV0dG9uPXMoXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvblwiLHRoaXMuX2NvbnRhaW5lcikscyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2NvbXBhY3RCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fdG9nZ2xlQXR0cmlidXRpb24pLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0aGlzLl9jb21wYWN0QnV0dG9uLFwiVG9nZ2xlQXR0cmlidXRpb25cIiksdGhpcy5faW5uZXJDb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJcIix0aGlzLl9jb250YWluZXIpLHQmJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbihcInN0eWxlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PXQmJih0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9hdHRyaWJIVE1MPXZvaWQgMDt9X3NldEVsZW1lbnRUaXRsZShlLHQpe2NvbnN0IGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhgQXR0cmlidXRpb25Db250cm9sLiR7dH1gKTtlLnJlbW92ZUF0dHJpYnV0ZShcInRpdGxlXCIpLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixpKTt9X3RvZ2dsZUF0dHJpYnV0aW9uKCl7dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKT8odGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6KHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpLHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSk7fV91cGRhdGVFZGl0TGluaygpe2xldCB0PXRoaXMuX2VkaXRMaW5rO3R8fCh0PXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1hcGJveC1pbXByb3ZlLW1hcFwiKSk7Y29uc3QgaT1be2tleTpcIm93bmVyXCIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OlwiaWRcIix2YWx1ZTp0aGlzLnN0eWxlSWR9LHtrZXk6XCJhY2Nlc3NfdG9rZW5cIix2YWx1ZTp0aGlzLl9tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZS5kNS5BQ0NFU1NfVE9LRU59XTtpZih0KXtjb25zdCBvPWkucmVkdWNlKCgoZSx0LG8pPT4odC52YWx1ZSYmKGUrPWAke3Qua2V5fT0ke3QudmFsdWV9JHtvPGkubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSksXCI/XCIpO3QuaHJlZj1gJHtlLmQ1LkZFRURCQUNLX1VSTH0vJHtvfSMke3NuKHRoaXMuX21hcCwhMCl9YCx0LnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdGhpcy5fc2V0RWxlbWVudFRpdGxlKHQsXCJNYXBGZWVkYmFja1wiKTt9fV91cGRhdGVEYXRhKGUpeyFlfHxcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInZpc2liaWxpdHlcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwic3R5bGVcIiE9PWUuZGF0YVR5cGV8fCh0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpKTt9X3VwZGF0ZUF0dHJpYnV0aW9ucygpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuO2xldCBlPVtdO2lmKHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KXtjb25zdCBlPXRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O3RoaXMuc3R5bGVPd25lcj1lLm93bmVyLHRoaXMuc3R5bGVJZD1lLmlkO31jb25zdCB0PXRoaXMuX21hcC5zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IG89dFtpXTtpZihvLnVzZWQpe2NvbnN0IHQ9by5nZXRTb3VyY2UoKTt0LmF0dHJpYnV0aW9uJiZlLmluZGV4T2YodC5hdHRyaWJ1dGlvbik8MCYmZS5wdXNoKHQuYXR0cmlidXRpb24pO319ZS5zb3J0KCgoZSx0KT0+ZS5sZW5ndGgtdC5sZW5ndGgpKSxlPWUuZmlsdGVyKCgodCxpKT0+e2ZvcihsZXQgbz1pKzE7bzxlLmxlbmd0aDtvKyspaWYoZVtvXS5pbmRleE9mKHQpPj0wKXJldHVybiAhMTtyZXR1cm4gITB9KSksdGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP2U9Wy4uLnRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiwuLi5lXTplLnVuc2hpZnQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSk7Y29uc3QgaT1lLmpvaW4oXCIgfCBcIik7aSE9PXRoaXMuX2F0dHJpYkhUTUwmJih0aGlzLl9hdHRyaWJIVE1MPWksZS5sZW5ndGg/KHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTD1pLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSx0aGlzLl9lZGl0TGluaz1udWxsKTt9X3VwZGF0ZUNvbXBhY3QoKXt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8PTY0MD90aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0XCIsXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIik7fX1jbGFzcyByYXtjb25zdHJ1Y3Rvcigpe2UuYVkoW1wiX3VwZGF0ZUxvZ29cIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO31vbkFkZChlKXt0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTtjb25zdCB0PXMoXCJhXCIsXCJtYXBib3hnbC1jdHJsLWxvZ29cIik7cmV0dXJuIHQudGFyZ2V0PVwiX2JsYW5rXCIsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHQuaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkxvZ29Db250cm9sLlRpdGxlXCIpKSx0LnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9vcGVuZXIgbm9mb2xsb3dcIiksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl91cGRhdGVMb2dvKCksdGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn1fdXBkYXRlTG9nbyhlKXtlJiZcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlfHwodGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dGhpcy5fbG9nb1JlcXVpcmVkKCk/XCJibG9ja1wiOlwibm9uZVwiKTt9X2xvZ29SZXF1aXJlZCgpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuICEwO2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7aWYoMD09PU9iamVjdC5lbnRyaWVzKGUpLmxlbmd0aClyZXR1cm4gITA7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgaT1lW3RdLmdldFNvdXJjZSgpO2lmKGkuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfbG9nb1wiKSYmIWkubWFwYm94X2xvZ28pcmV0dXJuICExfXJldHVybiAhMH1fdXBkYXRlQ29tcGFjdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF07dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPDI1MD90LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIik7fX19Y2xhc3Mgc2F7Y29uc3RydWN0b3IoKXt0aGlzLl9xdWV1ZT1bXSx0aGlzLl9pZD0wLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9YWRkKGUpe2NvbnN0IHQ9Kyt0aGlzLl9pZDtyZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7Y2FsbGJhY2s6ZSxpZDp0LGNhbmNlbGxlZDohMX0pLHR9cmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZyxpPXQ/dGhpcy5fcXVldWUuY29uY2F0KHQpOnRoaXMuX3F1ZXVlO2Zvcihjb25zdCB0IG9mIGkpaWYodC5pZD09PWUpcmV0dXJuIHZvaWQodC5jYW5jZWxsZWQ9ITApfXJ1bihlPTApe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZz10aGlzLl9xdWV1ZTt0aGlzLl9xdWV1ZT1bXTtmb3IoY29uc3QgaSBvZiB0KWlmKCFpLmNhbmNlbGxlZCYmKGkuY2FsbGJhY2soZSksdGhpcy5fY2xlYXJlZCkpYnJlYWs7dGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO31jbGVhcigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXTt9fWZ1bmN0aW9uIG5hKHQsaSxvKXtpZih0PW5ldyBlLmJuKHQubG5nLHQubGF0KSxpKXtjb25zdCByPW5ldyBlLmJuKHQubG5nLTM2MCx0LmxhdCkscz1uZXcgZS5ibih0LmxuZyszNjAsdC5sYXQpLG49MzYwKk1hdGguY2VpbChNYXRoLmFicyh0LmxuZy1vLmNlbnRlci5sbmcpLzM2MCksYT1vLmxvY2F0aW9uUG9pbnQodCkuZGlzdFNxcihpKSxsPWkueDwwfHxpLnk8MHx8aS54Pm8ud2lkdGh8fGkueT5vLmhlaWdodDtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxhJiYobHx8TWF0aC5hYnMoci5sbmctby5jZW50ZXIubG5nKTxuKT90PXI6by5sb2NhdGlvblBvaW50KHMpLmRpc3RTcXIoaSk8YSYmKGx8fE1hdGguYWJzKHMubG5nLW8uY2VudGVyLmxuZyk8bikmJih0PXMpO31mb3IoO01hdGguYWJzKHQubG5nLW8uY2VudGVyLmxuZyk+MTgwOyl7Y29uc3QgZT1vLmxvY2F0aW9uUG9pbnQodCk7aWYoZS54Pj0wJiZlLnk+PTAmJmUueDw9by53aWR0aCYmZS55PD1vLmhlaWdodClicmVhazt0LmxuZz5vLmNlbnRlci5sbmc/dC5sbmctPTM2MDp0LmxuZys9MzYwO31yZXR1cm4gdH1jb25zdCBhYT17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07Y2xhc3MgbGEgZXh0ZW5kcyBlLkV7Y29uc3RydWN0b3IodCxpKXtpZihzdXBlcigpLCh0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnR8fGkpJiYodD1lLmUoe2VsZW1lbnQ6dH0saSkpLGUuYVkoW1wiX3VwZGF0ZVwiLFwiX29uTW92ZVwiLFwiX29uVXBcIixcIl9hZGREcmFnSGFuZGxlclwiLFwiX29uTWFwQ2xpY2tcIixcIl9vbktleVByZXNzXCIsXCJfY2xlYXJGYWRlVGltZXJcIl0sdGhpcyksdGhpcy5fYW5jaG9yPXQmJnQuYW5jaG9yfHxcImNlbnRlclwiLHRoaXMuX2NvbG9yPXQmJnQuY29sb3J8fFwiIzNGQjFDRVwiLHRoaXMuX3NjYWxlPXQmJnQuc2NhbGV8fDEsdGhpcy5fZHJhZ2dhYmxlPXQmJnQuZHJhZ2dhYmxlfHwhMSx0aGlzLl9jbGlja1RvbGVyYW5jZT10JiZ0LmNsaWNrVG9sZXJhbmNlfHwwLHRoaXMuX2lzRHJhZ2dpbmc9ITEsdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwiLHRoaXMuX3JvdGF0aW9uPXQmJnQucm90YXRpb258fDAsdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9dCYmdC5yb3RhdGlvbkFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9dCYmdC5waXRjaEFsaWdubWVudCYmdC5waXRjaEFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlTW92aW5nPSgpPT50aGlzLl91cGRhdGUoITApLHRoaXMuX29jY2x1ZGVkT3BhY2l0eT10JiZ0Lm9jY2x1ZGVkT3BhY2l0eXx8LjIsdCYmdC5lbGVtZW50KXRoaXMuX2VsZW1lbnQ9dC5lbGVtZW50LHRoaXMuX29mZnNldD1lLlAuY29udmVydCh0JiZ0Lm9mZnNldHx8WzAsMF0pO2Vsc2Uge3RoaXMuX2RlZmF1bHRNYXJrZXI9ITAsdGhpcy5fZWxlbWVudD1zKFwiZGl2XCIpO2NvbnN0IGk9NDEsbz0yNyxyPW4oXCJzdmdcIix7ZGlzcGxheTpcImJsb2NrXCIsaGVpZ2h0OmkqdGhpcy5fc2NhbGUrXCJweFwiLHdpZHRoOm8qdGhpcy5fc2NhbGUrXCJweFwiLHZpZXdCb3g6YDAgMCAke299ICR7aX1gfSx0aGlzLl9lbGVtZW50KSxhPW4oXCJyYWRpYWxHcmFkaWVudFwiLHtpZDpcInNoYWRvd0dyYWRpZW50XCJ9LG4oXCJkZWZzXCIse30scikpO24oXCJzdG9wXCIse29mZnNldDpcIjEwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjR9LGEpLG4oXCJzdG9wXCIse29mZnNldDpcIjEwMCVcIixcInN0b3Atb3BhY2l0eVwiOi4wNX0sYSksbihcImVsbGlwc2VcIix7Y3g6MTMuNSxjeTozNC44LHJ4OjEwLjUscnk6NS4yNSxmaWxsOlwidXJsKCNzaGFkb3dHcmFkaWVudClcIn0sciksbihcInBhdGhcIix7ZmlsbDp0aGlzLl9jb2xvcixkOlwiTTI3LDEzLjVDMjcsMTkuMDcgMjAuMjUsMjcgMTQuNzUsMzQuNUMxNC4wMiwzNS41IDEyLjk4LDM1LjUgMTIuMjUsMzQuNUM2Ljc1LDI3IDAsMTkuMjIgMCwxMy41QzAsNi4wNCA2LjA0LDAgMTMuNSwwQzIwLjk2LDAgMjcsNi4wNCAyNywxMy41WlwifSxyKSxuKFwicGF0aFwiLHtvcGFjaXR5Oi4yNSxkOlwiTTEzLjUsMEM2LjA0LDAgMCw2LjA0IDAsMTMuNUMwLDE5LjIyIDYuNzUsMjcgMTIuMjUsMzQuNUMxMywzNS41MiAxNC4wMiwzNS41IDE0Ljc1LDM0LjVDMjAuMjUsMjcgMjcsMTkuMDcgMjcsMTMuNUMyNyw2LjA0IDIwLjk2LDAgMTMuNSwwWk0xMy41LDFDMjAuNDIsMSAyNiw2LjU4IDI2LDEzLjVDMjYsMTUuOSAyNC41LDE5LjE4IDIyLjIyLDIyLjc0QzE5Ljk1LDI2LjMgMTYuNzEsMzAuMTQgMTMuOTQsMzMuOTFDMTMuNzQsMzQuMTggMTMuNjEsMzQuMzIgMTMuNSwzNC40NEMxMy4zOSwzNC4zMiAxMy4yNiwzNC4xOCAxMy4wNiwzMy45MUMxMC4yOCwzMC4xMyA3LjQxLDI2LjMxIDUuMDIsMjIuNzdDMi42MiwxOS4yMyAxLDE1Ljk1IDEsMTMuNUMxLDYuNTggNi41OCwxIDEzLjUsMVpcIn0sciksbihcImNpcmNsZVwiLHtmaWxsOlwid2hpdGVcIixjeDoxMy41LGN5OjEzLjUscjo1LjV9LHIpLHRoaXMuX29mZnNldD1lLlAuY29udmVydCh0JiZ0Lm9mZnNldHx8WzAsLTE0XSk7fXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKXx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJNYXAgbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKFwicm9sZVwiKXx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJpbWdcIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLChlPT57ZS5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwoZT0+e2UucHJldmVudERlZmF1bHQoKTt9KSk7Y29uc3Qgbz10aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtmb3IoY29uc3QgZSBpbiBhYSlvLnJlbW92ZShgbWFwYm94Z2wtbWFya2VyLWFuY2hvci0ke2V9YCk7by5hZGQoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCk7Y29uc3Qgcj10JiZ0LmNsYXNzTmFtZT90LmNsYXNzTmFtZS50cmltKCkuc3BsaXQoL1xccysvKTpbXTtvLmFkZCguLi5yKSx0aGlzLl9wb3B1cD1udWxsO31hZGRUbyhlKXtyZXR1cm4gZT09PXRoaXMuX21hcHx8KHRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPWUsZS5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSxlLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub24oXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fYWRkTWFya2VyKHRoaXMpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksZS5vbihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljaykpLHRoaXN9cmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljayksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vblVwKSxlLm9mZihcInRvdWNoZW5kXCIsdGhpcy5fb25VcCksZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9yZW1vdmVNYXJrZXIodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5fY2xlYXJGYWRlVGltZXIoKSx0aGlzLl9lbGVtZW50LnJlbW92ZSgpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3JldHVybiB0aGlzLl9sbmdMYXQ9ZS5ibi5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl91cGRhdGUoITApLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9lbGVtZW50fXNldFBvcHVwKGUpe2lmKHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpcy5fcG9wdXA9bnVsbCx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIiksdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpKSxlKXtpZighKFwib2Zmc2V0XCJpbiBlLm9wdGlvbnMpKXtjb25zdCB0PTM4LjEsaT0xMy41LG89TWF0aC5zcXJ0KE1hdGgucG93KGksMikvMik7ZS5vcHRpb25zLm9mZnNldD10aGlzLl9kZWZhdWx0TWFya2VyP3t0b3A6WzAsMF0sXCJ0b3AtbGVmdFwiOlswLDBdLFwidG9wLXJpZ2h0XCI6WzAsMF0sYm90dG9tOlswLC10XSxcImJvdHRvbS1sZWZ0XCI6W28sLTEqKHQtaStvKV0sXCJib3R0b20tcmlnaHRcIjpbLW8sLTEqKHQtaStvKV0sbGVmdDpbaSwtMSoodC1pKV0scmlnaHQ6Wy1pLC0xKih0LWkpXX06dGhpcy5fb2Zmc2V0O310aGlzLl9wb3B1cD1lLGUuX21hcmtlcj10aGlzLHRoaXMuX2xuZ0xhdCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpO31yZXR1cm4gdGhpc31fb25LZXlQcmVzcyhlKXtjb25zdCB0PWUuY29kZSxpPWUuY2hhckNvZGV8fGUua2V5Q29kZTtcIlNwYWNlXCIhPT10JiZcIkVudGVyXCIhPT10JiYzMiE9PWkmJjEzIT09aXx8dGhpcy50b2dnbGVQb3B1cCgpO31fb25NYXBDbGljayhlKXtjb25zdCB0PWUub3JpZ2luYWxFdmVudC50YXJnZXQsaT10aGlzLl9lbGVtZW50O3RoaXMuX3BvcHVwJiYodD09PWl8fGkuY29udGFpbnModCkpJiZ0aGlzLnRvZ2dsZVBvcHVwKCk7fWdldFBvcHVwKCl7cmV0dXJuIHRoaXMuX3BvcHVwfXRvZ2dsZVBvcHVwKCl7Y29uc3QgZT10aGlzLl9wb3B1cDtyZXR1cm4gZT8oZS5pc09wZW4oKT8oZS5yZW1vdmUoKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKTp0aGlzLl9tYXAmJihlLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKSx0aGlzKTp0aGlzfV9iZWhpbmRUZXJyYWluKCl7Y29uc3QgZT10aGlzLl9tYXAsdD10aGlzLl9wb3M7aWYoIWV8fCF0KXJldHVybiAhMTtjb25zdCBpPWUudW5wcm9qZWN0KHQpLG89ZS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO2lmKCFvLnBvc2l0aW9uKXJldHVybiAhMTtjb25zdCByPW8ucG9zaXRpb24udG9MbmdMYXQoKTtyZXR1cm4gci5kaXN0YW5jZVRvKGkpPC45KnIuZGlzdGFuY2VUbyh0aGlzLl9sbmdMYXQpfV9ldmFsdWF0ZU9wYWNpdHkoKXtjb25zdCB0PXRoaXMuX21hcDtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9wb3M7aWYoIWl8fGkueDwwfHxpLng+dC50cmFuc2Zvcm0ud2lkdGh8fGkueTwwfHxpLnk+dC50cmFuc2Zvcm0uaGVpZ2h0KXJldHVybiB2b2lkIHRoaXMuX2NsZWFyRmFkZVRpbWVyKCk7Y29uc3Qgbz10LnVucHJvamVjdChpKTtsZXQgcjt0Ll9zaG93aW5nR2xvYmUoKSYmZS5kNih0LnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpP3I9MDoocj0xLXQuX3F1ZXJ5Rm9nT3BhY2l0eShvKSx0LnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdC5nZXRUZXJyYWluKCkmJnRoaXMuX2JlaGluZFRlcnJhaW4oKSYmKHIqPXRoaXMuX29jY2x1ZGVkT3BhY2l0eSkpLHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1gJHtyfWAsdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPXI+MD9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX3NldE9wYWNpdHkociksdGhpcy5fZmFkZVRpbWVyPW51bGw7fV9jbGVhckZhZGVUaW1lcigpe3RoaXMuX2ZhZGVUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpLHRoaXMuX2ZhZGVUaW1lcj1udWxsKTt9X3VwZGF0ZURPTSgpe2NvbnN0IGU9dGhpcy5fcG9zO2lmKCFlfHwhdGhpcy5fbWFwKXJldHVybjtjb25zdCB0PXRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTt0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1gXFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7ZS54fXB4LCR7ZS55fXB4KVxcbiAgICAgICAgICAgICR7YWFbdGhpcy5fYW5jaG9yXX1cXG4gICAgICAgICAgICAke3RoaXMuX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl9ICR7dGhpcy5fY2FsY3VsYXRlWlRyYW5zZm9ybSgpfVxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3QueH1weCwke3QueX1weClcXG4gICAgICAgIGA7fV9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLGk9dGhpcy5fbWFwLG89dGhpcy5nZXRQaXRjaEFsaWdubWVudCgpO2lmKCFpfHwhdHx8XCJtYXBcIiE9PW8pcmV0dXJuIFwiXCI7aWYoIWkuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPWkuZ2V0UGl0Y2goKTtyZXR1cm4gZT9gcm90YXRlWCgke2V9ZGVnKWA6XCJcIn1jb25zdCByPWUuYkYoZS5kNyhpLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpKSxzPXQuc3ViKGUuZDgoaS50cmFuc2Zvcm0pKSxuPU1hdGguYWJzKHMueCkrTWF0aC5hYnMocy55KTtpZigwPT09bilyZXR1cm4gXCJcIjtjb25zdCBhPXIvbjtyZXR1cm4gYHJvdGF0ZVgoJHstcy55KmF9ZGVnKSByb3RhdGVZKCR7cy54KmF9ZGVnKWB9X2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKXtjb25zdCB0PXRoaXMuX3BvcyxpPXRoaXMuX21hcDtpZighaXx8IXQpcmV0dXJuIFwiXCI7bGV0IG89MDtjb25zdCByPXRoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtpZihcIm1hcFwiPT09cilpZihpLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1pLnByb2plY3QobmV3IGUuYm4odGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0Ky4wMDEpKSxyPWkucHJvamVjdChuZXcgZS5ibih0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQtLjAwMSkpLnN1Yih0KTtvPWUuYkYoTWF0aC5hdGFuMihyLnksci54KSktOTA7fWVsc2Ugbz0taS5nZXRCZWFyaW5nKCk7ZWxzZSBpZihcImhvcml6b25cIj09PXIpe2NvbnN0IHI9ZS5PKDQsNixpLmdldFpvb20oKSkscz1lLmQ4KGkudHJhbnNmb3JtKTtzLnkrPXIqaS50cmFuc2Zvcm0uaGVpZ2h0O2NvbnN0IG49dC5zdWIocyksYT1lLmJGKE1hdGguYXRhbjIobi55LG4ueCkpO289KGE+OTA/YS0yNzA6YSs5MCkqKDEtcik7fXJldHVybiBvKz10aGlzLl9yb3RhdGlvbixvP2Byb3RhdGVaKCR7b31kZWcpYDpcIlwifV91cGRhdGUoZSl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fdXBkYXRlRnJhbWVJZCk7Y29uc3QgdD10aGlzLl9tYXA7dCYmKHQudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYodGhpcy5fbG5nTGF0PW5hKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3MsdC50cmFuc2Zvcm0pKSx0aGlzLl9wb3M9dC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCksITA9PT1lP3RoaXMuX3VwZGF0ZUZyYW1lSWQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3RoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiYodGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLHRoaXMuX3VwZGF0ZURPTSgpKTt9KSk6dGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLHQuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX21hcCYmKHRoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiZ0aGlzLl91cGRhdGVET00oKSwodC5fc2hvd2luZ0dsb2JlKCl8fHQuZ2V0VGVycmFpbigpfHx0LmdldEZvZygpKSYmIXRoaXMuX2ZhZGVUaW1lciYmKHRoaXMuX2ZhZGVUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLDYwKSkpO30pKSk7fWdldE9mZnNldCgpe3JldHVybiB0aGlzLl9vZmZzZXR9c2V0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9vZmZzZXQ9ZS5QLmNvbnZlcnQodCksdGhpcy5fdXBkYXRlKCksdGhpc31hZGRDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChlKSx0aGlzfXJlbW92ZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGUpLHRoaXN9dG9nZ2xlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoZSl9X29uTW92ZSh0KXtjb25zdCBpPXRoaXMuX21hcDtpZighaSlyZXR1cm47Y29uc3Qgbz10aGlzLl9wb2ludGVyZG93blBvcyxyPXRoaXMuX3Bvc2l0aW9uRGVsdGE7aWYobyYmcil7aWYoIXRoaXMuX2lzRHJhZ2dpbmcpe2NvbnN0IGU9dGhpcy5fY2xpY2tUb2xlcmFuY2V8fGkuX2NsaWNrVG9sZXJhbmNlO2lmKHQucG9pbnQuZGlzdChvKTxlKXJldHVybjt0aGlzLl9pc0RyYWdnaW5nPSEwO310aGlzLl9wb3M9dC5wb2ludC5zdWIociksdGhpcy5fbG5nTGF0PWkudW5wcm9qZWN0KHRoaXMuX3BvcyksdGhpcy5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsXCJwZW5kaW5nXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPVwiYWN0aXZlXCIsdGhpcy5maXJlKG5ldyBlLmIoXCJkcmFnc3RhcnRcIikpKSx0aGlzLmZpcmUobmV3IGUuYihcImRyYWdcIikpO319X29uVXAoKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsdGhpcy5fcG9zaXRpb25EZWx0YT1udWxsLHRoaXMuX3BvaW50ZXJkb3duUG9zPW51bGwsdGhpcy5faXNEcmFnZ2luZz0hMTtjb25zdCB0PXRoaXMuX21hcDt0JiYodC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHQub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSksXCJhY3RpdmVcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmZpcmUobmV3IGUuYihcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIjt9X2FkZERyYWdIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLGk9dGhpcy5fcG9zO3QmJmkmJnRoaXMuX2VsZW1lbnQuY29udGFpbnMoZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT1lLnBvaW50LnN1YihpKSx0aGlzLl9wb2ludGVyZG93blBvcz1lLnBvaW50LHRoaXMuX3N0YXRlPVwicGVuZGluZ1wiLHQub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHQub24oXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpLHQub25jZShcIm1vdXNldXBcIix0aGlzLl9vblVwKSx0Lm9uY2UoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApKTt9c2V0RHJhZ2dhYmxlKGUpe3RoaXMuX2RyYWdnYWJsZT0hIWU7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJihlPyh0Lm9uKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKToodC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKSksdGhpc31pc0RyYWdnYWJsZSgpe3JldHVybiB0aGlzLl9kcmFnZ2FibGV9c2V0Um90YXRpb24oZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uPWV8fDAsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn1zZXRSb3RhdGlvbkFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbkFsaWdubWVudCgpe3JldHVybiBcImF1dG9cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fHxcImhvcml6b25cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuX3Nob3dpbmdHbG9iZSgpP1widmlld3BvcnRcIjp0aGlzLl9yb3RhdGlvbkFsaWdubWVudH1zZXRQaXRjaEFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRQaXRjaEFsaWdubWVudCgpe3JldHVybiBcImF1dG9cIj09PXRoaXMuX3BpdGNoQWxpZ25tZW50P3RoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTp0aGlzLl9waXRjaEFsaWdubWVudH1zZXRPY2NsdWRlZE9wYWNpdHkoZSl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eT1lfHwuMix0aGlzLl91cGRhdGUoKSx0aGlzfWdldE9jY2x1ZGVkT3BhY2l0eSgpe3JldHVybiB0aGlzLl9vY2NsdWRlZE9wYWNpdHl9fWNvbnN0IGNhPXtjbG9zZUJ1dHRvbjohMCxjbG9zZU9uQ2xpY2s6ITAsZm9jdXNBZnRlck9wZW46ITAsY2xhc3NOYW1lOlwiXCIsbWF4V2lkdGg6XCIyNDBweFwifSxoYT1bXCJhW2hyZWZdXCIsXCJbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXCJbY29udGVudGVkaXRhYmxlXTpub3QoW2NvbnRlbnRlZGl0YWJsZT0nZmFsc2UnXSlcIixcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSlcIixcImlucHV0Om5vdChbZGlzYWJsZWRdKVwiLFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKVwiLFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pXCJdLmpvaW4oXCIsIFwiKTtmdW5jdGlvbiB1YSh0PW5ldyBlLlAoMCwwKSxpPVwiYm90dG9tXCIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtjb25zdCBvPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KHQsMikpKTtzd2l0Y2goaSl7Y2FzZVwidG9wXCI6cmV0dXJuIG5ldyBlLlAoMCx0KTtjYXNlXCJ0b3AtbGVmdFwiOnJldHVybiBuZXcgZS5QKG8sbyk7Y2FzZVwidG9wLXJpZ2h0XCI6cmV0dXJuIG5ldyBlLlAoLW8sbyk7Y2FzZVwiYm90dG9tXCI6cmV0dXJuIG5ldyBlLlAoMCwtdCk7Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gbmV3IGUuUChvLC1vKTtjYXNlXCJib3R0b20tcmlnaHRcIjpyZXR1cm4gbmV3IGUuUCgtbywtbyk7Y2FzZVwibGVmdFwiOnJldHVybiBuZXcgZS5QKHQsMCk7Y2FzZVwicmlnaHRcIjpyZXR1cm4gbmV3IGUuUCgtdCwwKX1yZXR1cm4gbmV3IGUuUCgwLDApfXJldHVybiB0IGluc3RhbmNlb2YgZS5QfHxBcnJheS5pc0FycmF5KHQpP2UuUC5jb252ZXJ0KHQpOmUuUC5jb252ZXJ0KHRbaV18fFswLDBdKX1jbGFzcyBkYXtjb25zdHJ1Y3RvcihlKXt0aGlzLmp1bXBUbyhlKTt9Z2V0VmFsdWUodCl7aWYodDw9dGhpcy5fc3RhcnRUaW1lKXJldHVybiB0aGlzLl9zdGFydDtpZih0Pj10aGlzLl9lbmRUaW1lKXJldHVybiB0aGlzLl9lbmQ7Y29uc3QgaT1lLmNjKCh0LXRoaXMuX3N0YXJ0VGltZSkvKHRoaXMuX2VuZFRpbWUtdGhpcy5fc3RhcnRUaW1lKSk7cmV0dXJuIHRoaXMuX3N0YXJ0KigxLWkpK3RoaXMuX2VuZCppfWlzRWFzaW5nKGUpe3JldHVybiBlPj10aGlzLl9zdGFydFRpbWUmJmU8PXRoaXMuX2VuZFRpbWV9anVtcFRvKGUpe3RoaXMuX3N0YXJ0VGltZT0tMS8wLHRoaXMuX2VuZFRpbWU9LTEvMCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1lO31lYXNlVG8oZSx0LGkpe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K2k7fX1jb25zdCBfYT17XCJBdHRyaWJ1dGlvbkNvbnRyb2wuVG9nZ2xlQXR0cmlidXRpb25cIjpcIlRvZ2dsZSBhdHRyaWJ1dGlvblwiLFwiQXR0cmlidXRpb25Db250cm9sLk1hcEZlZWRiYWNrXCI6XCJNYXAgZmVlZGJhY2tcIixcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCI6XCJFbnRlciBmdWxsc2NyZWVuXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJFeGl0IGZ1bGxzY3JlZW5cIixcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIjpcIkZpbmQgbXkgbG9jYXRpb25cIixcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIjpcIkxvY2F0aW9uIG5vdCBhdmFpbGFibGVcIixcIkxvZ29Db250cm9sLlRpdGxlXCI6XCJNYXBib3ggbG9nb1wiLFwiTWFwLlRpdGxlXCI6XCJNYXBcIixcIk5hdmlnYXRpb25Db250cm9sLlJlc2V0QmVhcmluZ1wiOlwiUmVzZXQgYmVhcmluZyB0byBub3J0aFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluXCI6XCJab29tIGluXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0XCI6XCJab29tIG91dFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIjpcIlVzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiOlwiVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCI6XCJVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwXCJ9LHBhPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjg1LGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGNvb3BlcmF0aXZlR2VzdHVyZXM6ITEscGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMscGl0Y2hXaXRoUm90YXRlOiEwLGhhc2g6ITEsYXR0cmlidXRpb25Db250cm9sOiEwLGFudGlhbGlhczohMSxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSx0cmFja1Jlc2l6ZTohMCxyZW5kZXJXb3JsZENvcGllczohMCxyZWZyZXNoRXhwaXJlZFRpbGVzOiEwLG1pblRpbGVDYWNoZVNpemU6bnVsbCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Olwic2Fucy1zZXJpZlwiLGxvY2FsRm9udEZhbWlseTpudWxsLHRyYW5zZm9ybVJlcXVlc3Q6bnVsbCxhY2Nlc3NUb2tlbjpudWxsLGZhZGVEdXJhdGlvbjozMDAscmVzcGVjdFByZWZlcnNSZWR1Y2VkTW90aW9uOiEwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMCxjb2xsZWN0UmVzb3VyY2VUaW1pbmc6ITEsdGVzdE1vZGU6ITF9O2NsYXNzIGZhe2NvbnN0cnVjdG9yKCl7dGhpcy5zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ITEsdGhpcy5zaG93VGlsZUJvdW5kYXJpZXM9ITEsdGhpcy5zaG93UGFyc2VTdGF0dXM9ITEsdGhpcy5jb250aW51b3VzUmVkcmF3PSExLHRoaXMuc2hvd1RpbGVBQUJCcz0hMSx0aGlzLnNob3dQYWRkaW5nPSExLHRoaXMuc2hvd1RlcnJhaW5XaXJlZnJhbWU9ITEsdGhpcy5zaG93TGF5ZXJzMkRXaXJlZnJhbWU9ITEsdGhpcy5zaG93TGF5ZXJzM0RXaXJlZnJhbWU9ITE7fX1jb25zdCBtYT17c2hvd0NvbXBhc3M6ITAsc2hvd1pvb206ITAsdmlzdWFsaXplUGl0Y2g6ITF9O2NsYXNzIGdhe2NvbnN0cnVjdG9yKHQsaSxvPSExKXt0aGlzLl9jbGlja1RvbGVyYW5jZT0xMCx0aGlzLmVsZW1lbnQ9aSx0aGlzLm1vdXNlUm90YXRlPW5ldyBJbih7Y2xpY2tUb2xlcmFuY2U6dC5kcmFnUm90YXRlLl9tb3VzZVJvdGF0ZS5fY2xpY2tUb2xlcmFuY2V9KSx0aGlzLm1hcD10LG8mJih0aGlzLm1vdXNlUGl0Y2g9bmV3IERuKHtjbGlja1RvbGVyYW5jZTp0LmRyYWdSb3RhdGUuX21vdXNlUGl0Y2guX2NsaWNrVG9sZXJhbmNlfSkpLGUuYVkoW1wibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIixcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInJlc2V0XCJdLHRoaXMpLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KTt9ZG93bihlLHQpe3RoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsdCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2Vkb3duKGUsdCksaCgpO31tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLm1hcCxvPXRoaXMubW91c2VSb3RhdGUubW91c2Vtb3ZlV2luZG93KGUsdCkscj1vJiZvLmJlYXJpbmdEZWx0YTtpZihyJiZpLnNldEJlYXJpbmcoaS5nZXRCZWFyaW5nKCkrciksdGhpcy5tb3VzZVBpdGNoKXtjb25zdCBvPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSx0KSxyPW8mJm8ucGl0Y2hEZWx0YTtyJiZpLnNldFBpdGNoKGkuZ2V0UGl0Y2goKStyKTt9fW9mZigpe2NvbnN0IGU9dGhpcy5lbGVtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KSx0aGlzLm9mZlRlbXAoKTt9b2ZmVGVtcCgpe3UoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXApO31tb3VzZWRvd24odCl7dGhpcy5kb3duKGUuZSh7fSx0LHtjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT50LnByZXZlbnREZWZhdWx0KCl9KSxwKHRoaXMuZWxlbWVudCx0KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKTt9bW91c2Vtb3ZlKGUpe3RoaXMubW92ZShlLHAodGhpcy5lbGVtZW50LGUpKTt9bW91c2V1cChlKXt0aGlzLm1vdXNlUm90YXRlLm1vdXNldXBXaW5kb3coZSksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyhlKSx0aGlzLm9mZlRlbXAoKTt9dG91Y2hzdGFydChlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9Zih0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLmRvd24oe3R5cGU6XCJtb3VzZWRvd25cIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX3N0YXJ0UG9zKSk7fXRvdWNobW92ZShlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX2xhc3RQb3M9Zih0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLm1vdmUoe3ByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX2xhc3RQb3MpKTt9dG91Y2hlbmQoZSl7MD09PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJnRoaXMuX3N0YXJ0UG9zJiZ0aGlzLl9sYXN0UG9zJiZ0aGlzLl9zdGFydFBvcy5kaXN0KHRoaXMuX2xhc3RQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlJiZ0aGlzLmVsZW1lbnQuY2xpY2soKSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpO319Y29uc3QgdmE9e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd0FjY3VyYWN5Q2lyY2xlOiEwLHNob3dVc2VyTG9jYXRpb246ITAsc2hvd1VzZXJIZWFkaW5nOiExfSx4YT17bWF4V2lkdGg6MTAwLHVuaXQ6XCJtZXRyaWNcIn0seWE9e2tpbG9tZXRlcjpcImttXCIsbWV0ZXI6XCJtXCIsbWlsZTpcIm1pXCIsZm9vdDpcImZ0XCIsXCJuYXV0aWNhbC1taWxlXCI6XCJubVwifSxiYT17dmVyc2lvbjplLmRrLHN1cHBvcnRlZDppLHNldFJUTFRleHRQbHVnaW46ZS5kbSxnZXRSVExUZXh0UGx1Z2luU3RhdHVzOmUuZG4sTWFwOmNsYXNzIGV4dGVuZHMgaWF7Y29uc3RydWN0b3IodCl7Y29uc3QgaT10O2lmKG51bGwhPSh0PWUuZSh7fSxwYSx0KSkubWluWm9vbSYmbnVsbCE9dC5tYXhab29tJiZ0Lm1pblpvb20+dC5tYXhab29tKXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbVwiKTtpZihudWxsIT10Lm1pblBpdGNoJiZudWxsIT10Lm1heFBpdGNoJiZ0Lm1pblBpdGNoPnQubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIik7aWYobnVsbCE9dC5taW5QaXRjaCYmdC5taW5QaXRjaDwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYobnVsbCE9dC5tYXhQaXRjaCYmdC5tYXhQaXRjaD44NSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA4NVwiKTtpZih0LmFudGlhbGlhcyYmZS5kOSh3aW5kb3cpJiYodC5hbnRpYWxpYXM9ITEsZS53KFwiQW50aWFsaWFzaW5nIGlzIGRpc2FibGVkIGZvciB0aGlzIFdlYkdMIGNvbnRleHQgdG8gYXZvaWQgYnJvd3NlciBidWc6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTYwOVwiKSksc3VwZXIobmV3IG1vKHQubWluWm9vbSx0Lm1heFpvb20sdC5taW5QaXRjaCx0Lm1heFBpdGNoLHQucmVuZGVyV29ybGRDb3BpZXMpLHQpLHRoaXMuX3JlcGFpbnQ9ITEsdGhpcy5faW50ZXJhY3RpdmU9dC5pbnRlcmFjdGl2ZSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PXQuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5fYW50aWFsaWFzPXQuYW50aWFsaWFzLHRoaXMuX3RyYWNrUmVzaXplPXQudHJhY2tSZXNpemUsdGhpcy5fYmVhcmluZ1NuYXA9dC5iZWFyaW5nU25hcCx0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzPXQucmVmcmVzaEV4cGlyZWRUaWxlcyx0aGlzLl9mYWRlRHVyYXRpb249dC5mYWRlRHVyYXRpb24sdGhpcy5faXNJbml0aWFsTG9hZD0hMCx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dC5jcm9zc1NvdXJjZUNvbGxpc2lvbnMsdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPXQuY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMuX2xhbmd1YWdlPXRoaXMuX3BhcnNlTGFuZ3VhZ2UodC5sYW5ndWFnZSksdGhpcy5fd29ybGR2aWV3PXQud29ybGR2aWV3LHRoaXMuX3JlbmRlclRhc2tRdWV1ZT1uZXcgc2EsdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlPW5ldyBzYSx0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXJrZXJzPVtdLHRoaXMuX3BvcHVwcz1bXSx0aGlzLl9tYXBJZD1lLmFDKCksdGhpcy5fbG9jYWxlPWUuZSh7fSxfYSx0LmxvY2FsZSksdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZSx0aGlzLl9jb29wZXJhdGl2ZUdlc3R1cmVzPXQuY29vcGVyYXRpdmVHZXN0dXJlcyx0aGlzLl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uPXQucGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbix0aGlzLl9jb250YWluZXJXaWR0aD0wLHRoaXMuX2NvbnRhaW5lckhlaWdodD0wLHRoaXMuX3Nob3dQYXJzZVN0YXR1cz0hMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD0tMS8wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPW5ldyBkYSgwKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlPVsxLzAsLTEvMF0sdGhpcy5fdmlzaWJpbGl0eUhpZGRlbj0wLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hMSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgZS5kYSh0LnRyYW5zZm9ybVJlcXVlc3QsdC5hY2Nlc3NUb2tlbix0LnRlc3RNb2RlKSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIXQudGVzdE1vZGUsdGhpcy5fY29udGV4dENyZWF0ZU9wdGlvbnM9dC5jb250ZXh0Q3JlYXRlT3B0aW9ucz97Li4udC5jb250ZXh0Q3JlYXRlT3B0aW9uc306e30sXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGFpbmVyKXtjb25zdCBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuY29udGFpbmVyKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoYENvbnRhaW5lciAnJHt0LmNvbnRhaW5lci50b1N0cmluZygpfScgbm90IGZvdW5kLmApO3RoaXMuX2NvbnRhaW5lcj1lO31lbHNlIHtpZighKHQuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5cIik7dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyO31pZih0aGlzLl9jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg+MCYmZS53KFwiVGhlIG1hcCBjb250YWluZXIgZWxlbWVudCBzaG91bGQgYmUgZW1wdHksIG90aGVyd2lzZSB0aGUgbWFwJ3MgaW50ZXJhY3Rpdml0eSB3aWxsIGJlIG5lZ2F0aXZlbHkgaW1wYWN0ZWQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgYSBtZXNzYWdlIHdoZW4gV2ViR0wgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBNYXBib3ggR0wgU3VwcG9ydGVkIHBsdWdpbiBpbnN0ZWFkLlwiKSx0Lm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHModC5tYXhCb3VuZHMpLGUuYVkoW1wiX29uV2luZG93T25saW5lXCIsXCJfb25XaW5kb3dSZXNpemVcIixcIl9vblZpc2liaWxpdHlDaGFuZ2VcIixcIl9vbk1hcFNjcm9sbFwiLFwiX2NvbnRleHRMb3N0XCIsXCJfY29udGV4dFJlc3RvcmVkXCJdLHRoaXMpLHRoaXMuX3NldHVwQ29udGFpbmVyKCksdGhpcy5fZGVidWdQYXJhbXM9bmV3IGZhLHRoaXMuX3RwPXQuZGV2dG9vbHM/bmV3IEpzKHRoaXMpOm5ldyBKcyx0aGlzLl90cC5yZWdpc3RlclBhcmFtZXRlcih0aGlzLl9kZWJ1Z1BhcmFtcyxbXCJEZWJ1Z1wiXSxcInNob3dPdmVyZHJhd0luc3BlY3RvclwiLHZvaWQgMCwoKCk9Pnt0aGlzLl91cGRhdGUoKTt9KSksdGhpcy5fdHAucmVnaXN0ZXJQYXJhbWV0ZXIodGhpcy5fZGVidWdQYXJhbXMsW1wiRGVidWdcIl0sXCJzaG93VGlsZUJvdW5kYXJpZXNcIix2b2lkIDAsKCgpPT57dGhpcy5fdXBkYXRlKCk7fSkpLHRoaXMuX3RwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMuX2RlYnVnUGFyYW1zLFtcIkRlYnVnXCJdLFwic2hvd1BhcnNlU3RhdHVzXCIsdm9pZCAwLCgoKT0+e3RoaXMuX3VwZGF0ZSgpO30pKSx0aGlzLl90cC5yZWdpc3RlclBhcmFtZXRlcih0aGlzLl9kZWJ1Z1BhcmFtcyxbXCJEZWJ1Z1wiXSxcImNvbnRpbnVvdXNSZWRyYXdcIix2b2lkIDAsKGU9Pnt0aGlzLnJlcGFpbnQ9ZTt9KSksdGhpcy5fdHAucmVnaXN0ZXJQYXJhbWV0ZXIodGhpcy5fZGVidWdQYXJhbXMsW1wiRGVidWdcIl0sXCJzaG93VGlsZUFBQkJzXCIsdm9pZCAwLChlPT57dGhpcy5zaG93VGlsZUFBQkJzPWU7fSkpLHRoaXMuX3RwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMuX2RlYnVnUGFyYW1zLFtcIkRlYnVnXCJdLFwic2hvd1BhZGRpbmdcIix2b2lkIDAsKGU9Pnt0aGlzLnNob3dQYWRkaW5nPWU7fSkpLHRoaXMuX3RwLnJlZ2lzdGVyUGFyYW1ldGVyKHRoaXMuX2RlYnVnUGFyYW1zLFtcIkRlYnVnXCIsXCJXaXJlZnJhbWVcIl0sXCJzaG93VGVycmFpbldpcmVmcmFtZVwiLHZvaWQgMCwoKCk9Pnt0aGlzLl91cGRhdGUoKTt9KSksdGhpcy5fdHAucmVnaXN0ZXJQYXJhbWV0ZXIodGhpcy5fZGVidWdQYXJhbXMsW1wiRGVidWdcIixcIldpcmVmcmFtZVwiXSxcInNob3dMYXllcnMyRFdpcmVmcmFtZVwiLHZvaWQgMCwoKCk9Pnt0aGlzLl91cGRhdGUoKTt9KSksdGhpcy5fdHAucmVnaXN0ZXJQYXJhbWV0ZXIodGhpcy5fZGVidWdQYXJhbXMsW1wiRGVidWdcIixcIldpcmVmcmFtZVwiXSxcInNob3dMYXllcnMzRFdpcmVmcmFtZVwiLHZvaWQgMCwoKCk9Pnt0aGlzLl91cGRhdGUoKTt9KSksdGhpcy5fc2V0dXBQYWludGVyKCksdm9pZCAwPT09dGhpcy5wYWludGVyKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLlwiKTtpZih0aGlzLm9uKFwibW92ZVwiLCgoKT0+dGhpcy5fdXBkYXRlKCExKSkpLHRoaXMub24oXCJtb3ZlZW5kXCIsKCgpPT50aGlzLl91cGRhdGUoITEpKSksdGhpcy5vbihcInpvb21cIiwoKCk9PnRoaXMuX3VwZGF0ZSghMCkpKSx0aGlzLl9mdWxsc2NyZWVuY2hhbmdlRXZlbnQ9XCJvbmZ1bGxzY3JlZW5jaGFuZ2VcImluIGRvY3VtZW50P1wiZnVsbHNjcmVlbmNoYW5nZVwiOlwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZUV2ZW50LHRoaXMuX29uV2luZG93UmVzaXplLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsITEpLHRoaXMuaGFuZGxlcnM9bmV3IGVhKHRoaXMsdCksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT10LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSwodC5zdHlsZXx8IXQudGVzdE1vZGUpJiZ0aGlzLnNldFN0eWxlKHQuc3R5bGV8fGUuZDUuREVGQVVMVF9TVFlMRSx7bG9jYWxGb250RmFtaWx5OnRoaXMuX2xvY2FsRm9udEZhbWlseSxsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5fSksdC5wcm9qZWN0aW9uJiZ0aGlzLnNldFByb2plY3Rpb24odC5wcm9qZWN0aW9uKSx0Lmhhc2gmJih0aGlzLl9oYXNoPW5ldyBybihcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoJiZ0Lmhhc2h8fHZvaWQgMCkuYWRkVG8odGhpcykpLCF0aGlzLl9oYXNofHwhdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCkpe251bGw9PWkuY2VudGVyJiZudWxsPT1pLnpvb218fCh0aGlzLnRyYW5zZm9ybS5fdW5tb2RpZmllZD0hMSksdGhpcy5qdW1wVG8oe2NlbnRlcjp0LmNlbnRlcix6b29tOnQuem9vbSxiZWFyaW5nOnQuYmVhcmluZyxwaXRjaDp0LnBpdGNofSk7Y29uc3Qgbz10LmJvdW5kcztvJiYodGhpcy5yZXNpemUoKSx0aGlzLmZpdEJvdW5kcyhvLGUuZSh7fSx0LmZpdEJvdW5kc09wdGlvbnMse2R1cmF0aW9uOjB9KSkpO310aGlzLnJlc2l6ZSgpLHQuYXR0cmlidXRpb25Db250cm9sJiZ0aGlzLmFkZENvbnRyb2wobmV3IG9hKHtjdXN0b21BdHRyaWJ1dGlvbjp0LmN1c3RvbUF0dHJpYnV0aW9ufSkpLHRoaXMuX2xvZ29Db250cm9sPW5ldyByYSx0aGlzLmFkZENvbnRyb2wodGhpcy5fbG9nb0NvbnRyb2wsdC5sb2dvUG9zaXRpb24pLHRoaXMub24oXCJzdHlsZS5sb2FkXCIsKCgpPT57dGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCYmdGhpcy5qdW1wVG8odGhpcy5zdHlsZS5zdHlsZXNoZWV0KTt9KSksdGhpcy5vbihcImRhdGFcIiwodD0+e3RoaXMuX3VwZGF0ZShcInN0eWxlXCI9PT10LmRhdGFUeXBlKSx0aGlzLmZpcmUobmV3IGUuYihgJHt0LmRhdGFUeXBlfWRhdGFgLHQpKTt9KSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsKHQ9Pnt0aGlzLmZpcmUobmV3IGUuYihgJHt0LmRhdGFUeXBlfWRhdGFsb2FkaW5nYCx0KSk7fSkpO31fZ2V0TWFwSWQoKXtyZXR1cm4gdGhpcy5fbWFwSWR9YWRkQ29udHJvbCh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXQuZ2V0RGVmYXVsdFBvc2l0aW9uP3QuZ2V0RGVmYXVsdFBvc2l0aW9uKCk6XCJ0b3AtcmlnaHRcIiksIXR8fCF0Lm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3Qgbz10Lm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2godCk7Y29uc3Qgcj10aGlzLl9jb250cm9sUG9zaXRpb25zW2ldO3JldHVybiAtMSE9PWkuaW5kZXhPZihcImJvdHRvbVwiKT9yLmluc2VydEJlZm9yZShvLHIuZmlyc3RDaGlsZCk6ci5hcHBlbmRDaGlsZChvKSx0aGlzfXJlbW92ZUNvbnRyb2wodCl7aWYoIXR8fCF0Lm9uUmVtb3ZlKXJldHVybiB0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3QgaT10aGlzLl9jb250cm9scy5pbmRleE9mKHQpO3JldHVybiBpPi0xJiZ0aGlzLl9jb250cm9scy5zcGxpY2UoaSwxKSx0Lm9uUmVtb3ZlKHRoaXMpLHRoaXN9aGFzQ29udHJvbChlKXtyZXR1cm4gdGhpcy5fY29udHJvbHMuaW5kZXhPZihlKT4tMX1nZXRDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfWdldENhbnZhc0NvbnRhaW5lcigpe3JldHVybiB0aGlzLl9jYW52YXNDb250YWluZXJ9Z2V0Q2FudmFzKCl7cmV0dXJuIHRoaXMuX2NhbnZhc31yZXNpemUodCl7aWYodGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX2NvbnRhaW5lcldpZHRoPT09dGhpcy50cmFuc2Zvcm0ud2lkdGgmJnRoaXMuX2NvbnRhaW5lckhlaWdodD09PXRoaXMudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdGhpczt0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnRyYW5zZm9ybS5yZXNpemUodGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnBhaW50ZXIucmVzaXplKE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJXaWR0aCksTWF0aC5jZWlsKHRoaXMuX2NvbnRhaW5lckhlaWdodCkpO2NvbnN0IGk9IXRoaXMuX21vdmluZztyZXR1cm4gaSYmdGhpcy5maXJlKG5ldyBlLmIoXCJtb3Zlc3RhcnRcIix0KSkuZmlyZShuZXcgZS5iKFwibW92ZVwiLHQpKSx0aGlzLmZpcmUobmV3IGUuYihcInJlc2l6ZVwiLHQpKSxpJiZ0aGlzLmZpcmUobmV3IGUuYihcIm1vdmVlbmRcIix0KSksdGhpc31nZXRCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKGUuYWQuY29udmVydCh0KSksdGhpcy5fdXBkYXRlKCl9c2V0TWluWm9vbSh0KXtpZigodD1udWxsPT10Py0yOnQpPj0tMiYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPHQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5iKFwiem9vbXN0YXJ0XCIpKS5maXJlKG5ldyBlLmIoXCJ6b29tXCIpKS5maXJlKG5ldyBlLmIoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIC0yIGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVcIil9Z2V0TWluWm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tfXNldE1heFpvb20odCl7aWYoKHQ9bnVsbD09dD8yMjp0KT49dGhpcy50cmFuc2Zvcm0ubWluWm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPnQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5iKFwiem9vbXN0YXJ0XCIpKS5maXJlKG5ldyBlLmIoXCJ6b29tXCIpKS5maXJlKG5ldyBlLmIoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbVwiKX1nZXRNYXhab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb219c2V0TWluUGl0Y2godCl7aWYoKHQ9bnVsbD09dD8wOnQpPDApdGhyb3cgbmV3IEVycm9yKFwibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtpZih0Pj0wJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8dD90aGlzLnNldFBpdGNoKHQpOnRoaXMuZmlyZShuZXcgZS5iKFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgZS5iKFwicGl0Y2hcIikpLmZpcmUobmV3IGUuYihcInBpdGNoZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgYmV0d2VlbiAwIGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlXCIpfWdldE1pblBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNofXNldE1heFBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/ODU6dCk+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYodD49dGhpcy50cmFuc2Zvcm0ubWluUGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPnQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuYihcInBpdGNoc3RhcnRcIikpLmZpcmUobmV3IGUuYihcInBpdGNoXCIpKS5maXJlKG5ldyBlLmIoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaFwiKX1nZXRNYXhQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH1nZXRSZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc31zZXRSZW5kZXJXb3JsZENvcGllcyhlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM9ZSx0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc3x8dGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCksdGhpcy5fdXBkYXRlKCl9Z2V0TGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9X3BhcnNlTGFuZ3VhZ2UoZSl7cmV0dXJuIFwiYXV0b1wiPT09ZT9uYXZpZ2F0b3IubGFuZ3VhZ2U6QXJyYXkuaXNBcnJheShlKT8wPT09ZS5sZW5ndGg/dm9pZCAwOmUubWFwKChlPT5cImF1dG9cIj09PWU/bmF2aWdhdG9yLmxhbmd1YWdlOmUpKTplfXNldExhbmd1YWdlKGUpe2NvbnN0IHQ9dGhpcy5fcGFyc2VMYW5ndWFnZShlKTtpZighdGhpcy5zdHlsZXx8dD09PXRoaXMuX2xhbmd1YWdlKXJldHVybiB0aGlzO3RoaXMuX2xhbmd1YWdlPXQsdGhpcy5zdHlsZS5yZWxvYWRTb3VyY2VzKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29udHJvbHMpZS5fc2V0TGFuZ3VhZ2UmJmUuX3NldExhbmd1YWdlKHRoaXMuX2xhbmd1YWdlKTtyZXR1cm4gdGhpc31nZXRXb3JsZHZpZXcoKXtyZXR1cm4gdGhpcy5fd29ybGR2aWV3fXNldFdvcmxkdmlldyhlKXtyZXR1cm4gdGhpcy5zdHlsZSYmZSE9PXRoaXMuX3dvcmxkdmlldz8odGhpcy5fd29ybGR2aWV3PWUsdGhpcy5zdHlsZS5yZWxvYWRTb3VyY2VzKCksdGhpcyk6dGhpc31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24/e25hbWU6XCJnbG9iZVwiLGNlbnRlcjpbMCwwXX06dGhpcy50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpfV9zaG93aW5nR2xvYmUoKXtyZXR1cm4gXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfXNldFByb2plY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLGU/XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtuYW1lOmV9KTplPW51bGwsdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uPSEhZSx0aGlzLl9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHRoaXMuc3R5bGUucHJvamVjdGlvbil9X3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCl7aWYoXCJnbG9iZVwiIT09dGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSlyZXR1cm47Y29uc3QgdD10aGlzLnRyYW5zZm9ybSxpPXQucHJvamVjdGlvbi5uYW1lO2xldCBvO1wiZ2xvYmVcIj09PWkmJnQuem9vbT49ZS5ieD8odC5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCksbz0hMCk6XCJtZXJjYXRvclwiPT09aSYmdC56b29tPGUuYngmJih0LnNldFByb2plY3Rpb24oe25hbWU6XCJnbG9iZVwifSksbz0hMCksbyYmKHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksdGhpcy5zdHlsZS5fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpKTt9X3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVByb2plY3Rpb24oZXx8dHx8e25hbWU6XCJtZXJjYXRvclwifSl9X3VwZGF0ZVByb2plY3Rpb24odCl7bGV0IGk7cmV0dXJuIGk9XCJnbG9iZVwiPT09dC5uYW1lJiZ0aGlzLnRyYW5zZm9ybS56b29tPj1lLmJ4P3RoaXMudHJhbnNmb3JtLnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKTp0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKHQpLHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksaSYmKHRoaXMucGFpbnRlci5jbGVhckJhY2tncm91bmRUaWxlcygpLHRoaXMuc3R5bGUuY2xlYXJTb3VyY2VzKCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKCEwKSksdGhpc31wcm9qZWN0KHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50M0QoZS5ibi5jb252ZXJ0KHQpKX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChlLlAuY29udmVydCh0KSl9aXNNb3ZpbmcoKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCl8fCExfWlzWm9vbWluZygpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfHwhMX1pc1JvdGF0aW5nKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKXx8ITF9X2lzRHJhZ2dpbmcoKXtyZXR1cm4gdGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5faXNEcmFnZ2luZygpfHwhMX1fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpe2lmKFwibW91c2VlbnRlclwiPT09ZXx8XCJtb3VzZW92ZXJcIj09PWUpe2xldCBvPSExO2NvbnN0IHI9cj0+e2NvbnN0IHM9dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKSxuPXMubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHIucG9pbnQse2xheWVyczpzfSk6W107bi5sZW5ndGg/b3x8KG89ITAsaS5jYWxsKHRoaXMsbmV3IHBuKGUsdGhpcyxyLm9yaWdpbmFsRXZlbnQse2ZlYXR1cmVzOm59KSkpOm89ITE7fSxzPSgpPT57bz0hMTt9O3JldHVybiB7bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpyLG1vdXNlb3V0OnN9fX1pZihcIm1vdXNlbGVhdmVcIj09PWV8fFwibW91c2VvdXRcIj09PWUpe2xldCBvPSExO2NvbnN0IHI9cj0+e2NvbnN0IHM9dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKTsocy5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoci5wb2ludCx7bGF5ZXJzOnN9KTpbXSkubGVuZ3RoP289ITA6byYmKG89ITEsaS5jYWxsKHRoaXMsbmV3IHBuKGUsdGhpcyxyLm9yaWdpbmFsRXZlbnQpKSk7fSxzPXQ9PntvJiYobz0hMSxpLmNhbGwodGhpcyxuZXcgcG4oZSx0aGlzLHQub3JpZ2luYWxFdmVudCkpKTt9O3JldHVybiB7bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpyLG1vdXNlb3V0OnN9fX17Y29uc3Qgbz1lPT57Y29uc3Qgbz10LmZpbHRlcigoZT0+dGhpcy5nZXRMYXllcihlKSkpLHI9by5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCx7bGF5ZXJzOm99KTpbXTtyLmxlbmd0aCYmKGUuZmVhdHVyZXM9cixpLmNhbGwodGhpcyxlKSxkZWxldGUgZS5mZWF0dXJlcyk7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOntbZV06b319fX1vbihlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub24oZSx0KTtpZihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQpZm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5faXNWYWxpZElkKGUpKXJldHVybiB0aGlzO2NvbnN0IG89dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpO3RoaXMuX2RlbGVnYXRlZExpc3RlbmVycz10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnN8fHt9LHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXT10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV18fFtdLHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXS5wdXNoKG8pO2Zvcihjb25zdCBlIGluIG8uZGVsZWdhdGVzKXRoaXMub24oZSxvLmRlbGVnYXRlc1tlXSk7cmV0dXJuIHRoaXN9b25jZShlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub25jZShlLHQpO2lmKEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdClmb3IoY29uc3QgZSBvZiB0KWlmKCF0aGlzLl9pc1ZhbGlkSWQoZSkpcmV0dXJuIHRoaXM7Y29uc3Qgbz10aGlzLl9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcihlLHQsaSk7Zm9yKGNvbnN0IGUgaW4gby5kZWxlZ2F0ZXMpdGhpcy5vbmNlKGUsby5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9mZihlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub2ZmKGUsdCk7dD1uZXcgU2V0KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pO2Zvcihjb25zdCBlIG9mIHQpaWYoIXRoaXMuX2lzVmFsaWRJZChlKSlyZXR1cm4gdGhpcztjb25zdCBvPShlLHQpPT57aWYoZS5zaXplIT09dC5zaXplKXJldHVybiAhMTtmb3IoY29uc3QgaSBvZiBlKWlmKCF0LmhhcyhpKSlyZXR1cm4gITE7cmV0dXJuICEwfSxyPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVycz90aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV06dm9pZCAwO3JldHVybiByJiYoZT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBzPWVbcl07aWYocy5saXN0ZW5lcj09PWkmJm8ocy5sYXllcnMsdCkpe2Zvcihjb25zdCBlIGluIHMuZGVsZWdhdGVzKXRoaXMub2ZmKGUscy5kZWxlZ2F0ZXNbZV0pO3JldHVybiBlLnNwbGljZShyLDEpLHRoaXN9fX0pKHIpLHRoaXN9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSl7aWYoIXRoaXMuc3R5bGUpcmV0dXJuIFtdO2lmKHZvaWQgMCE9PWl8fHZvaWQgMD09PXR8fHQgaW5zdGFuY2VvZiBlLlB8fEFycmF5LmlzQXJyYXkodCl8fChpPXQsdD12b2lkIDApLHQ9dHx8W1swLDBdLFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdXSwoaT1pfHx7fSkubGF5ZXJzJiZBcnJheS5pc0FycmF5KGkubGF5ZXJzKSlmb3IoY29uc3QgZSBvZiBpLmxheWVycylpZighdGhpcy5faXNWYWxpZElkKGUpKXJldHVybiBbXTtyZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxpLHRoaXMudHJhbnNmb3JtKX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT90aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KTpbXX1pc1BvaW50T25TdXJmYWNlKHQpe2NvbnN0e25hbWU6aX09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbjtyZXR1cm4gXCJnbG9iZVwiIT09aSYmXCJtZXJjYXRvclwiIT09aSYmZS53KGAke2l9IHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBpc1BvaW50T25TdXJmYWNlLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5gKSx0aGlzLnRyYW5zZm9ybS5pc1BvaW50T25TdXJmYWNlKGUuUC5jb252ZXJ0KHQpKX1zZXRTdHlsZSh0LGkpe3JldHVybiAhMSE9PShpPWUuZSh7fSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSxsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5fSxpKSkuZGlmZiYmaS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkmJmkubG9jYWxGb250RmFtaWx5PT09dGhpcy5fbG9jYWxGb250RmFtaWx5JiZ0aGlzLnN0eWxlJiZ0Pyh0aGlzLl9kaWZmU3R5bGUodCxpKSx0aGlzKToodGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PWkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LHRoaXMuX2xvY2FsRm9udEZhbWlseT1pLmxvY2FsRm9udEZhbWlseSx0aGlzLl91cGRhdGVTdHlsZSh0LGkpKX1fZ2V0VUlTdHJpbmcoZSl7Y29uc3QgdD10aGlzLl9sb2NhbGVbZV07aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgVUkgc3RyaW5nICcke2V9J2ApO3JldHVybiB0fV91cGRhdGVTdHlsZShlLHQpe3JldHVybiB0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc3R5bGUuX3JlbW92ZSgpLHRoaXMuc3R5bGU9dm9pZCAwKSxlJiYodGhpcy5zdHlsZT1uZXcgTW8odGhpcyx0fHx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSxcInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLnN0eWxlLmxvYWRVUkwoZSk6dGhpcy5zdHlsZS5sb2FkSlNPTihlKSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXN9X2xhenlJbml0RW1wdHlTdHlsZSgpe3RoaXMuc3R5bGV8fCh0aGlzLnN0eWxlPW5ldyBNbyh0aGlzLHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLHRoaXMuc3R5bGUubG9hZEVtcHR5KCkpO31fZGlmZlN0eWxlKHQsaSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IG89dGhpcy5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCkscj10aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG8sZS5SLlN0eWxlKTtlLmcociwoKHQsbyk9Pnt0P3RoaXMuZmlyZShuZXcgZS5hKHQpKTpvJiZ0aGlzLl91cGRhdGVEaWZmKG8saSk7fSkpO31lbHNlIFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0aGlzLl91cGRhdGVEaWZmKHQsaSk7fV91cGRhdGVEaWZmKHQsaSl7dHJ5e3RoaXMuc3R5bGUuc2V0U3RhdGUodCkmJnRoaXMuX3VwZGF0ZSghMCk7fWNhdGNoKG8pe2UudyhgVW5hYmxlIHRvIHBlcmZvcm0gc3R5bGUgZGlmZjogJHtvLm1lc3NhZ2V8fG8uZXJyb3J8fG99LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmApLHRoaXMuX3VwZGF0ZVN0eWxlKHQsaSk7fX1nZXRTdHlsZSgpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9aXNTdHlsZUxvYWRlZCgpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUubG9hZGVkKCk6KGUudyhcIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuXCIpLCExKX1faXNWYWxpZElkKHQpe3JldHVybiBudWxsPT10Pyh0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJJRHMgY2FuJ3QgYmUgZW1wdHkuXCIpKSksITEpOiFlLmM0KHQpfHwodGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBJRHMgY2FuJ3QgY29udGFpbiBzcGVjaWFsIHN5bWJvbHM6IFwiJHt0fVwiLmApKSksITEpfWFkZFNvdXJjZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlKGUsdCksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31pc1NvdXJjZUxvYWRlZChlKXtyZXR1cm4gISF0aGlzLl9pc1ZhbGlkSWQoZSkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5faXNTb3VyY2VDYWNoZUxvYWRlZChlKX1hcmVUaWxlc0xvYWRlZCgpe3JldHVybiB0aGlzLnN0eWxlLmFyZVRpbGVzTG9hZGVkKCl9YWRkU291cmNlVHlwZShlLHQsaSl7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKGUsdCxpKTt9cmVtb3ZlU291cmNlKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldFNvdXJjZShlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0T3duU291cmNlKGUpOm51bGx9YWRkSW1hZ2UodCxpLHtwaXhlbFJhdGlvOm89MSxzZGY6cj0hMSxzdHJldGNoWDpzLHN0cmV0Y2hZOm4sY29udGVudDphfT17fSl7aWYodGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksaSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fEltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmMsZGF0YTpofT1lLmYuZ2V0SW1hZ2VEYXRhKGkpO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5oKHt3aWR0aDpsLGhlaWdodDpjfSxoKSxwaXhlbFJhdGlvOm8sc3RyZXRjaFg6cyxzdHJldGNoWTpuLGNvbnRlbnQ6YSxzZGY6cix2ZXJzaW9uOjB9KTt9ZWxzZSBpZih2b2lkIDA9PT1pLndpZHRofHx2b2lkIDA9PT1pLmhlaWdodCl0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKTtlbHNlIHtjb25zdHt3aWR0aDpsLGhlaWdodDpjfT1pLGg9aTt0aGlzLnN0eWxlLmFkZEltYWdlKHQse2RhdGE6bmV3IGUuaCh7d2lkdGg6bCxoZWlnaHQ6Y30sbmV3IFVpbnQ4QXJyYXkoaC5kYXRhKSkscGl4ZWxSYXRpbzpvLHN0cmV0Y2hYOnMsc3RyZXRjaFk6bixjb250ZW50OmEsc2RmOnIsdmVyc2lvbjowLHVzZXJJbWFnZTpofSksaC5vbkFkZCYmaC5vbkFkZCh0aGlzLHQpO319dXBkYXRlSW1hZ2UodCxpKXt0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKTtjb25zdCBvPXRoaXMuc3R5bGUuZ2V0SW1hZ2UodCk7aWYoIW8pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiVGhlIG1hcCBoYXMgbm8gaW1hZ2Ugd2l0aCB0aGF0IGlkLiBJZiB5b3UgYXJlIGFkZGluZyBhIG5ldyBpbWFnZSB1c2UgYG1hcC5hZGRJbWFnZSguLi4pYCBpbnN0ZWFkLlwiKSkpO2NvbnN0IHI9aSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fEltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/ZS5mLmdldEltYWdlRGF0YShpKTppLHt3aWR0aDpzLGhlaWdodDpufT1yLGE9ci5kYXRhO2lmKHZvaWQgMD09PXN8fHZvaWQgMD09PW4pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLnVwZGF0ZUltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgXCIpKSk7aWYocyE9PW8uZGF0YS53aWR0aHx8biE9PW8uZGF0YS5oZWlnaHQpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKGBUaGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdXBkYXRlZCBpbWFnZSAoJHtzfSwgJHtufSlcXG4gICAgICAgICAgICAgICAgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlXFxuICAgICAgICAgICAgICAgICgke28uZGF0YS53aWR0aH0sICR7by5kYXRhLmhlaWdodH0pYCkpKTtjb25zdCBsPSEoaSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fEltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApO28uZGF0YS5yZXBsYWNlKGEsbCksdGhpcy5zdHlsZS51cGRhdGVJbWFnZSh0LG8pO31oYXNJbWFnZSh0KXtyZXR1cm4gdD8hIXRoaXMuc3R5bGUmJiEhdGhpcy5zdHlsZS5nZXRJbWFnZSh0KToodGhpcy5maXJlKG5ldyBlLmEobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpO31sb2FkSW1hZ2UodCxpKXtlLmQodGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0LGUuUi5JbWFnZSksKCh0LG8pPT57aSh0LG8gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P2UuZi5nZXRJbWFnZURhdGEobyk6byk7fSkpO31saXN0SW1hZ2VzKCl7cmV0dXJuIHRoaXMuc3R5bGUubGlzdEltYWdlcygpfWFkZE1vZGVsKGUsdCl7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRNb2RlbChlLHQpO31oYXNNb2RlbCh0KXtyZXR1cm4gdD90aGlzLnN0eWxlLmhhc01vZGVsKHQpOih0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIG1vZGVsIGlkXCIpKSksITEpfXJlbW92ZU1vZGVsKGUpe3RoaXMuc3R5bGUucmVtb3ZlTW9kZWwoZSk7fWxpc3RNb2RlbHMoKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0TW9kZWxzKCl9YWRkTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUuaWQpPyh0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZExheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31nZXRTbG90KGUpe2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gdCYmdC5zbG90fHxudWxsfXNldFNsb3QoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRTbG90KGUsdCksdGhpcy5zdHlsZS5tZXJnZUxheWVycygpLHRoaXMuX3VwZGF0ZSghMCl9YWRkSW1wb3J0KGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuYWRkSW1wb3J0KGUsdCksdGhpc311cGRhdGVJbXBvcnQoZSx0KXtyZXR1cm4gXCJzdHJpbmdcIiE9dHlwZW9mIHQmJnQuaWQhPT1lPyh0aGlzLnJlbW92ZUltcG9ydChlKSx0aGlzLmFkZEltcG9ydCh0KSk6KHRoaXMuc3R5bGUudXBkYXRlSW1wb3J0KGUsdCksdGhpcy5fdXBkYXRlKCEwKSl9cmVtb3ZlSW1wb3J0KGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUltcG9ydChlKSx0aGlzfW1vdmVJbXBvcnQoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlSW1wb3J0KGUsdCksdGhpcy5fdXBkYXRlKCEwKX1tb3ZlTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpPyh0aGlzLnN0eWxlLm1vdmVMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9cmVtb3ZlTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5yZW1vdmVMYXllcihlKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldExheWVyKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRPd25MYXllcihlKTpudWxsfXNldExheWVyWm9vbVJhbmdlKGUsdCxpKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpPyh0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGUsdCxpKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfXNldEZpbHRlcihlLHQsaT17fSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5zZXRGaWx0ZXIoZSx0LGkpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9Z2V0RmlsdGVyKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRGaWx0ZXIoZSk6bnVsbH1zZXRQYWludFByb3BlcnR5KGUsdCxpLG89e30pe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShlLHQsaSxvKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldFBhaW50UHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShlLHQpOm51bGx9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGksbz17fSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxvKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldExheW91dFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT90aGlzLnN0eWxlLmdldExheW91dFByb3BlcnR5KGUsdCk6bnVsbH1nZXRDb25maWdQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldENvbmZpZ1Byb3BlcnR5KGUsdCl9c2V0Q29uZmlnUHJvcGVydHkoZSx0LGkpe3JldHVybiB0aGlzLnN0eWxlLnNldENvbmZpZ1Byb3BlcnR5KGUsdCxpKSx0aGlzLl91cGRhdGUoITApfXNldExpZ2h0cyhlKXtpZih0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxlJiYxPT09ZS5sZW5ndGgmJlwiZmxhdFwiPT09ZVswXS50eXBlKXtjb25zdCB0PWVbMF07dC5wcm9wZXJ0aWVzP3RoaXMuc3R5bGUuc2V0RmxhdExpZ2h0KHQucHJvcGVydGllcyx0LmlkLHt9KTp0aGlzLnN0eWxlLnNldEZsYXRMaWdodCh7fSxcImZsYXRcIik7fWVsc2UgdGhpcy5zdHlsZS5zZXRMaWdodHMoZSksdGhpcy5wYWludGVyLnRlcnJhaW4mJih0aGlzLnBhaW50ZXIudGVycmFpbi5pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITApO3JldHVybiB0aGlzLl91cGRhdGUoITApfWdldExpZ2h0cygpe2NvbnN0IGU9dGhpcy5zdHlsZS5nZXRMaWdodHMoKXx8W107cmV0dXJuIDA9PT1lLmxlbmd0aCYmZS5wdXNoKHtpZDp0aGlzLnN0eWxlLmxpZ2h0LmlkLHR5cGU6XCJmbGF0XCIscHJvcGVydGllczp0aGlzLnN0eWxlLmdldEZsYXRMaWdodCgpfSksZX1zZXRMaWdodChlLHQ9e30pe3JldHVybiBjb25zb2xlLmxvZyhcIlRoZSBgbWFwLnNldExpZ2h0YCBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBwcmVmZXIgdXNpbmcgYG1hcC5zZXRMaWdodHNgIHdpdGggYGZsYXRgIGxpZ2h0IHR5cGUgaW5zdGVhZC5cIiksdGhpcy5zZXRMaWdodHMoW3tpZDpcImZsYXRcIix0eXBlOlwiZmxhdFwiLHByb3BlcnRpZXM6ZX1dKX1nZXRMaWdodCgpe3JldHVybiBjb25zb2xlLmxvZyhcIlRoZSBgbWFwLmdldExpZ2h0YCBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBwcmVmZXIgdXNpbmcgYG1hcC5nZXRMaWdodHNgIGluc3RlYWQuXCIpLHRoaXMuc3R5bGUuZ2V0RmxhdExpZ2h0KCl9c2V0VGVycmFpbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksIWUmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnN0eWxlLnNldFRlcnJhaW4oZSksdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl91cGRhdGUoITApfWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldFRlcnJhaW4oKTpudWxsfXNldEZvZyhlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRGb2coZSksdGhpcy5fdXBkYXRlKCEwKX1nZXRGb2coKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldEZvZygpOm51bGx9c2V0Q2FtZXJhKGUpe3JldHVybiB0aGlzLnN0eWxlLnNldENhbWVyYShlKSx0aGlzLl90cmlnZ2VyQ2FtZXJhVXBkYXRlKGUpfV90cmlnZ2VyQ2FtZXJhVXBkYXRlKGUpe3JldHVybiB0aGlzLl91cGRhdGUodGhpcy50cmFuc2Zvcm0uc2V0T3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2goXCJvcnRob2dyYXBoaWNcIj09PWVbXCJjYW1lcmEtcHJvamVjdGlvblwiXSkpfWdldENhbWVyYSgpe3JldHVybiB0aGlzLnN0eWxlLmNhbWVyYX1fcXVlcnlGb2dPcGFjaXR5KHQpe3JldHVybiB0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZz90aGlzLnN0eWxlLmZvZy5nZXRPcGFjaXR5QXRMYXRMbmcoZS5ibi5jb252ZXJ0KHQpLHRoaXMudHJhbnNmb3JtKTowfXNldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZS5zb3VyY2UpPyh0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZS5zb3VyY2UpPyh0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfWdldEZlYXR1cmVTdGF0ZShlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUuc291cmNlKT90aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShlKTpudWxsfV91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCl7aWYoIXRoaXMuX2NvbnRhaW5lcilyZXR1cm47Y29uc3QgZT10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGh8fDQwMCx0PXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR8fDMwMDtsZXQgaSxvLHIscz10aGlzLl9jb250YWluZXI7Zm9yKDtzJiYoIW98fCFyKTspe2NvbnN0IGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUocykudHJhbnNmb3JtO2UmJlwibm9uZVwiIT09ZSYmKGk9ZS5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLylbMV0uc3BsaXQoXCIsIFwiKSxpWzBdJiZcIjBcIiE9PWlbMF0mJlwiMVwiIT09aVswXSYmKG89aVswXSksaVszXSYmXCIwXCIhPT1pWzNdJiZcIjFcIiE9PWlbM10mJihyPWlbM10pKSxzPXMucGFyZW50RWxlbWVudDt9dGhpcy5fY29udGFpbmVyV2lkdGg9bz9NYXRoLmFicyhlL28pOmUsdGhpcy5fY29udGFpbmVySGVpZ2h0PXI/TWF0aC5hYnModC9yKTp0O31fZGV0ZWN0TWlzc2luZ0NTUygpe1wicmdiKDI1MCwgMTI4LCAxMTQpXCIhPT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KS5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiKSYmZS53KFwiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLlwiKTt9X3NldHVwQ29udGFpbmVyKCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7ZS5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpLCh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXMoXCJkaXZcIixcIm1hcGJveGdsLWNhbmFyeVwiLGUpKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO2NvbnN0IHQ9dGhpcy5fY2FudmFzQ29udGFpbmVyPXMoXCJkaXZcIixcIm1hcGJveGdsLWNhbnZhcy1jb250YWluZXJcIixlKTt0aGlzLl9jYW52YXM9cyhcImNhbnZhc1wiLFwibWFwYm94Z2wtY2FudmFzXCIsdCksdGhpcy5faW50ZXJhY3RpdmUmJih0LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1pbnRlcmFjdGl2ZVwiKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIikpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX2dldFVJU3RyaW5nKFwiTWFwLlRpdGxlXCIpKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpLHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KTtjb25zdCBpPXRoaXMuX2NvbnRyb2xDb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtY29udHJvbC1jb250YWluZXJcIixlKSxvPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnM9e307W1widG9wLWxlZnRcIixcInRvcC1yaWdodFwiLFwiYm90dG9tLWxlZnRcIixcImJvdHRvbS1yaWdodFwiXS5mb3JFYWNoKChlPT57b1tlXT1zKFwiZGl2XCIsYG1hcGJveGdsLWN0cmwtJHtlfWAsaSk7fSkpLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5fb25NYXBTY3JvbGwsITEpO31fcmVzaXplQ2FudmFzKHQsaSl7Y29uc3Qgbz1lLmYuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9bypNYXRoLmNlaWwodCksdGhpcy5fY2FudmFzLmhlaWdodD1vKk1hdGguY2VpbChpKSx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9YCR7dH1weGAsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1gJHtpfXB4YDt9X2FkZE1hcmtlcihlKXt0aGlzLl9tYXJrZXJzLnB1c2goZSk7fV9yZW1vdmVNYXJrZXIoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9tYXJrZXJzLnNwbGljZSh0LDEpO31fYWRkUG9wdXAoZSl7dGhpcy5fcG9wdXBzLnB1c2goZSk7fV9yZW1vdmVQb3B1cChlKXtjb25zdCB0PXRoaXMuX3BvcHVwcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fcG9wdXBzLnNwbGljZSh0LDEpO31fc2V0dXBQYWludGVyKCl7Y29uc3QgdD1lLmUoe30saS53ZWJHTENvbnRleHRBdHRyaWJ1dGVzLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcixhbnRpYWxpYXM6dGhpcy5fYW50aWFsaWFzfHwhMX0pLG89dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbDJcIix0KTtvPyhlLmRiKG8sITApLHRoaXMucGFpbnRlcj1uZXcgdG4obyx0aGlzLl9jb250ZXh0Q3JlYXRlT3B0aW9ucyx0aGlzLnRyYW5zZm9ybSx0aGlzLl90cCksdGhpcy5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApO30pKSxlLmRjLnRlc3RTdXBwb3J0KG8pKTp0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTFwiKSkpO31fY29udGV4dExvc3QodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5maXJlKG5ldyBlLmIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6dH0pKTt9X2NvbnRleHRSZXN0b3JlZCh0KXt0aGlzLl9zZXR1cFBhaW50ZXIoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZmlyZShuZXcgZS5iKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix7b3JpZ2luYWxFdmVudDp0fSkpO31fb25NYXBTY3JvbGwoZSl7aWYoZS50YXJnZXQ9PT10aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3A9MCx0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdD0wLCExfWxvYWRlZCgpe3JldHVybiAhdGhpcy5fc3R5bGVEaXJ0eSYmIXRoaXMuX3NvdXJjZXNEaXJ0eSYmISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmxvYWRlZCgpfV91cGRhdGUoZSl7cmV0dXJuIHRoaXMuc3R5bGU/KHRoaXMuX3N0eWxlRGlydHk9dGhpcy5fc3R5bGVEaXJ0eXx8ZSx0aGlzLl9zb3VyY2VzRGlydHk9ITAsdGhpcy50cmlnZ2VyUmVwYWludCgpLHRoaXMpOnRoaXN9X3JlcXVlc3RSZW5kZXJGcmFtZShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChlKX1fY2FuY2VsUmVuZGVyRnJhbWUoZSl7dGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJlbW92ZShlKTt9X3JlcXVlc3REb21UYXNrKGUpeyF0aGlzLmxvYWRlZCgpfHx0aGlzLmxvYWRlZCgpJiYhdGhpcy5pc01vdmluZygpP2UoKTp0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGUpO31fcmVuZGVyKHQpe2xldCBpO3RoaXMuZmlyZShuZXcgZS5iKFwicmVuZGVyc3RhcnRcIikpO2NvbnN0IG89dGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeSxyPWUuZi5ub3coKSxzPXRoaXMucGFpbnRlci5jb250ZXh0LmdsO2lmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZnJhbWVcIikmJihpPXMuY3JlYXRlUXVlcnkoKSxzLmJlZ2luUXVlcnkoby5USU1FX0VMQVBTRURfRVhULGkpKSx0aGlzLnBhaW50ZXIuY29udGV4dC5zZXREaXJ0eSgpLHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKSwodGhpcy5pc01vdmluZygpfHx0aGlzLmlzUm90YXRpbmcoKXx8dGhpcy5pc1pvb21pbmcoKSkmJih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdPU1hdGgubWluKHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF0scGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV09TWF0aC5tYXgodGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSxwZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLnJ1bih0KSx0aGlzLl9yZW1vdmVkKXJldHVybjt0aGlzLl91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpO2NvbnN0IG49dGhpcy5faXNJbml0aWFsTG9hZD8wOnRoaXMuX2ZhZGVEdXJhdGlvbjtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zdHlsZURpcnR5KXt0aGlzLl9zdHlsZURpcnR5PSExO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0uem9vbSxpPXRoaXMudHJhbnNmb3JtLnBpdGNoLG89ZS5mLm5vdygpLHI9bmV3IGUuSyh0LHtub3c6byxmYWRlRHVyYXRpb246bixwaXRjaDppLHRyYW5zaXRpb246dGhpcy5zdHlsZS50cmFuc2l0aW9ufSk7dGhpcy5zdHlsZS51cGRhdGUocik7fXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuaGFzRm9nVHJhbnNpdGlvbigpJiYodGhpcy5zdHlsZS5fbWFya2Vyc05lZWRVcGRhdGU9ITAsdGhpcy5fc291cmNlc0RpcnR5PSEwKTtsZXQgYT0hMTtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zb3VyY2VzRGlydHk/KHRoaXMuX3NvdXJjZXNEaXJ0eT0hMSx0aGlzLnBhaW50ZXIuX3VwZGF0ZUZvZyh0aGlzLnN0eWxlKSx0aGlzLl91cGRhdGVUZXJyYWluKCksYT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIpLHRoaXMuc3R5bGUudXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSgpKTphPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24ociksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsbix0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMpLHRoaXMuc3R5bGUmJnRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSx7c2hvd1RpbGVCb3VuZGFyaWVzOnRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzfHx0aGlzLl9kZWJ1Z1BhcmFtcy5zaG93VGlsZUJvdW5kYXJpZXMsc2hvd1BhcnNlU3RhdHVzOnRoaXMuc2hvd1BhcnNlU3RhdHVzfHx0aGlzLl9kZWJ1Z1BhcmFtcy5zaG93UGFyc2VTdGF0dXMsd2lyZWZyYW1lOnt0ZXJyYWluOnRoaXMuc2hvd1RlcnJhaW5XaXJlZnJhbWV8fHRoaXMuX2RlYnVnUGFyYW1zLnNob3dUZXJyYWluV2lyZWZyYW1lLGxheWVyczJEOnRoaXMuc2hvd0xheWVyczJEV2lyZWZyYW1lfHx0aGlzLl9kZWJ1Z1BhcmFtcy5zaG93TGF5ZXJzMkRXaXJlZnJhbWUsbGF5ZXJzM0Q6dGhpcy5zaG93TGF5ZXJzM0RXaXJlZnJhbWV8fHRoaXMuX2RlYnVnUGFyYW1zLnNob3dMYXllcnMzRFdpcmVmcmFtZX0sc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcnx8dGhpcy5fZGVidWdQYXJhbXMuc2hvd092ZXJkcmF3SW5zcGVjdG9yLHNob3dRdWVyeUdlb21ldHJ5OiEhdGhpcy5fc2hvd1F1ZXJ5R2VvbWV0cnksc2hvd1RpbGVBQUJCczp0aGlzLnNob3dUaWxlQUFCQnN8fHRoaXMuX2RlYnVnUGFyYW1zLnNob3dUaWxlQUFCQnMscm90YXRpbmc6dGhpcy5pc1JvdGF0aW5nKCksem9vbWluZzp0aGlzLmlzWm9vbWluZygpLG1vdmluZzp0aGlzLmlzTW92aW5nKCksZmFkZUR1cmF0aW9uOm4saXNJbml0aWFsTG9hZDp0aGlzLl9pc0luaXRpYWxMb2FkLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmd8fHRoaXMuX2RlYnVnUGFyYW1zLnNob3dQYWRkaW5nLGdwdVRpbWluZzohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIiksZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSxzcGVlZEluZGV4VGltaW5nOnRoaXMuc3BlZWRJbmRleFRpbWluZ30pLHRoaXMuZmlyZShuZXcgZS5iKFwicmVuZGVyXCIpKSx0aGlzLmxvYWRlZCgpJiYhdGhpcy5fbG9hZGVkJiYodGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5iKFwibG9hZFwiKSkpLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLGkpe2NvbnN0IHQ9ZS5mLm5vdygpLXI7cy5lbmRRdWVyeShvLlRJTUVfRUxBUFNFRF9FWFQpLHNldFRpbWVvdXQoKCgpPT57Y29uc3Qgbz1zLmdldFF1ZXJ5UGFyYW1ldGVyKGkscy5RVUVSWV9SRVNVTFQpLzFlNjtzLmRlbGV0ZVF1ZXJ5KGkpLHRoaXMuZmlyZShuZXcgZS5iKFwiZ3B1LXRpbWluZy1mcmFtZVwiLHtjcHVUaW1lOnQsZ3B1VGltZTpvfSkpO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO3NldFRpbWVvdXQoKCgpPT57Y29uc3QgaT10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnModCk7dGhpcy5maXJlKG5ldyBlLmIoXCJncHUtdGltaW5nLWxheWVyXCIse2xheWVyVGltZXM6aX0pKTt9KSw1MCk7fWlmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCk7c2V0VGltZW91dCgoKCk9Pntjb25zdCBpPXRoaXMucGFpbnRlci5xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcih0KTt0aGlzLmZpcmUobmV3IGUuYihcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIse2dwdVRpbWU6aX0pKTt9KSw1MCk7fWNvbnN0IGw9dGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8YTtpZihsfHx0aGlzLl9yZXBhaW50KXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIHtjb25zdCB0PSF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCk7aWYodCYmKGE9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihyLCEwKSksYSl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZSBpZih0aGlzLl90cmlnZ2VyRnJhbWUoITEpLHQmJih0aGlzLmZpcmUobmV3IGUuYihcImlkbGVcIikpLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITEsdGhpcy5zcGVlZEluZGV4VGltaW5nKSl7Y29uc3QgdD10aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7dGhpcy5maXJlKG5ldyBlLmIoXCJzcGVlZGluZGV4Y29tcGxldGVkXCIse3NwZWVkSW5kZXg6dH0pKSx0aGlzLnNwZWVkSW5kZXhUaW1pbmc9ITE7fX0hdGhpcy5fbG9hZGVkfHx0aGlzLl9mdWxseUxvYWRlZHx8bHx8KHRoaXMuX2Z1bGx5TG9hZGVkPSEwLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb24mJmUuZGQodGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLHt3aWR0aDp0aGlzLnBhaW50ZXIud2lkdGgsaGVpZ2h0OnRoaXMucGFpbnRlci5oZWlnaHQsaW50ZXJhY3Rpb25SYW5nZTp0aGlzLl9pbnRlcmFjdGlvblJhbmdlLHZpc2liaWxpdHlIaWRkZW46dGhpcy5fdmlzaWJpbGl0eUhpZGRlbix0ZXJyYWluRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksZm9nRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRGb2coKSxwcm9qZWN0aW9uOnRoaXMuZ2V0UHJvamVjdGlvbigpLm5hbWUsem9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHJlbmRlcmVyOnRoaXMucGFpbnRlci5jb250ZXh0LnJlbmRlcmVyLHZlbmRvcjp0aGlzLnBhaW50ZXIuY29udGV4dC52ZW5kb3J9KSx0aGlzLl9hdXRoZW50aWNhdGUoKSk7fV9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX21hcmtlcnMpZSYmIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSYmKHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3B1cHMpIWV8fHRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKXx8dC5fdHJhY2tQb2ludGVyfHwodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpO31fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IGk9ZT0+KHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl91cGRhdGUoITEpLCEwKTtpZighdGhpcy5wYWludGVyLmF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpKXJldHVybiAwIT09dGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbiYmaSgwKTtjb25zdCBvPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmdGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbjtpZihvfHwodHx8ZS10aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD41MDApJiYhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uO2xldCByPXRoaXMudHJhbnNmb3JtLnNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKTt0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24mJih0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSksaXNOYU4ocik/cj0wOnRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PWU7Y29uc3Qgcz1NYXRoLmFicyh0LXIpO2lmKHM+MSl7aWYodGhpcy5faXNJbml0aWFsTG9hZHx8bylyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8ociksaShyKTt0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmVhc2VUbyhyLGUsMzAwKTt9ZWxzZSBpZihzPjFlLTQpcmV0dXJuIHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uanVtcFRvKHIpLGkocil9cmV0dXJuICEhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSYmaSh0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKGUpKX1fYXV0aGVudGljYXRlKCl7ZS5kZSh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sKHQ9PntpZih0JiYodC5tZXNzYWdlPT09ZS5kZnx8NDAxPT09dC5zdGF0dXMpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LmdsO2UuZGIodCwhMSksdGhpcy5fbG9nb0NvbnRyb2wgaW5zdGFuY2VvZiByYSYmdGhpcy5fbG9nb0NvbnRyb2wuX3VwZGF0ZUxvZ28oKSx0JiZ0LmNsZWFyKHQuREVQVEhfQlVGRkVSX0JJVHx0LkNPTE9SX0JVRkZFUl9CSVR8dC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzfHx0aGlzLmZpcmUobmV3IGUuYShuZXcgRXJyb3IoXCJBIHZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTCBKUy4gVG8gY3JlYXRlIGFuIGFjY291bnQgb3IgYSBuZXcgYWNjZXNzIHRva2VuLCB2aXNpdCBodHRwczovL2FjY291bnQubWFwYm94LmNvbS9cIikpKTt9fSkpLGUuZGcodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCgoKT0+e30pKTt9X3VwZGF0ZVRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX2lzRHJhZ2dpbmcoKTt0aGlzLnBhaW50ZXIudXBkYXRlVGVycmFpbih0aGlzLnN0eWxlLGUpO31fY2FsY3VsYXRlU3BlZWRJbmRleCgpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNhbnZhc0NvcHkoKSx0PXRoaXMucGFpbnRlci5nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCk7dC50aW1lU3RhbXBzLnB1c2gocGVyZm9ybWFuY2Uubm93KCkpO2NvbnN0IGk9dGhpcy5wYWludGVyLmNvbnRleHQuZ2wsbz1pLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ZnVuY3Rpb24gcihlKXtpLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGkuRlJBTUVCVUZGRVIsaS5DT0xPUl9BVFRBQ0hNRU5UMCxpLlRFWFRVUkVfMkQsZSwwKTtjb25zdCB0PW5ldyBVaW50OEFycmF5KGkuZHJhd2luZ0J1ZmZlcldpZHRoKmkuZHJhd2luZ0J1ZmZlckhlaWdodCo0KTtyZXR1cm4gaS5yZWFkUGl4ZWxzKDAsMCxpLmRyYXdpbmdCdWZmZXJXaWR0aCxpLmRyYXdpbmdCdWZmZXJIZWlnaHQsaS5SR0JBLGkuVU5TSUdORURfQllURSx0KSx0fXJldHVybiBpLmJpbmRGcmFtZWJ1ZmZlcihpLkZSQU1FQlVGRkVSLG8pLHRoaXMuX2NhbnZhc1BpeGVsQ29tcGFyaXNvbihyKGUpLHQuY2FudmFzQ29waWVzLm1hcChyKSx0LnRpbWVTdGFtcHMpfV9jYW52YXNQaXhlbENvbXBhcmlzb24oZSx0LGkpe2xldCBvPWlbMV0taVswXTtjb25zdCByPWUubGVuZ3RoLzQ7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspe2NvbnN0IG49dFtzXTtsZXQgYT0wO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCs9NCluW3RdPT09ZVt0XSYmblt0KzFdPT09ZVt0KzFdJiZuW3QrMl09PT1lW3QrMl0mJm5bdCszXT09PWVbdCszXSYmKGErPTEpO28rPShpW3MrMl0taVtzKzFdKSooMS1hL3IpO31yZXR1cm4gb31yZW1vdmUoKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmRlc3Ryb3koKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnM9dm9pZCAwLHRoaXMuc2V0U3R5bGUobnVsbCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlRXZlbnQsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSk7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7dCYmdC5sb3NlQ29udGV4dCgpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXNDb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5LnJlbW92ZSgpLHRoaXMuX2NhbnZhcz12b2lkIDAsdGhpcy5fY2FudmFzQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9jb250cm9sQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXZvaWQgMCx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLl9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKSxlLmRoKHRoaXMucGFpbnRlci5jb250ZXh0LmdsKSxlLmRpLnJlbW92ZSgpLGUuZGoucmVtb3ZlKCksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IGUuYihcInJlbW92ZVwiKSk7fXRyaWdnZXJSZXBhaW50KCl7dGhpcy5fdHJpZ2dlckZyYW1lKCEwKTt9X3RyaWdnZXJGcmFtZSh0KXt0aGlzLl9yZW5kZXJOZXh0RnJhbWU9dGhpcy5fcmVuZGVyTmV4dEZyYW1lfHx0LHRoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPWUuZi5mcmFtZSgoZT0+e2NvbnN0IHQ9ISF0aGlzLl9yZW5kZXJOZXh0RnJhbWU7dGhpcy5fZnJhbWU9bnVsbCx0aGlzLl9yZW5kZXJOZXh0RnJhbWU9bnVsbCx0JiZ0aGlzLl9yZW5kZXIoZSk7fSkpKTt9X3ByZWxvYWRUaWxlcyh0KXtjb25zdCBpPXRoaXMuc3R5bGU/T2JqZWN0LnZhbHVlcyh0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpOltdO3JldHVybiBlLmIxKGksKChlLGkpPT5lLl9wcmVsb2FkVGlsZXModCxpKSksKCgpPT57dGhpcy50cmlnZ2VyUmVwYWludCgpO30pKSx0aGlzfV9vbldpbmRvd09ubGluZSgpe3RoaXMuX3VwZGF0ZSgpO31fb25XaW5kb3dSZXNpemUoZSl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKHtvcmlnaW5hbEV2ZW50OmV9KS5fdXBkYXRlKCk7fV9vblZpc2liaWxpdHlDaGFuZ2UoKXtcImhpZGRlblwiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiZ0aGlzLl92aXNpYmlsaXR5SGlkZGVuKys7fWdldCBzaG93VGlsZUJvdW5kYXJpZXMoKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9c2V0IHNob3dUaWxlQm91bmRhcmllcyhlKXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT1lJiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd1BhcnNlU3RhdHVzKCl7cmV0dXJuICEhdGhpcy5fc2hvd1BhcnNlU3RhdHVzfXNldCBzaG93UGFyc2VTdGF0dXMoZSl7dGhpcy5fc2hvd1BhcnNlU3RhdHVzIT09ZSYmKHRoaXMuX3Nob3dQYXJzZVN0YXR1cz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWV9c2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd0xheWVyczJEV2lyZWZyYW1lKCl7cmV0dXJuICEhdGhpcy5fc2hvd0xheWVyczJEV2lyZWZyYW1lfXNldCBzaG93TGF5ZXJzMkRXaXJlZnJhbWUoZSl7dGhpcy5fc2hvd0xheWVyczJEV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dMYXllcnMyRFdpcmVmcmFtZT1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dMYXllcnMzRFdpcmVmcmFtZSgpe3JldHVybiAhIXRoaXMuX3Nob3dMYXllcnMzRFdpcmVmcmFtZX1zZXQgc2hvd0xheWVyczNEV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dMYXllcnMzRFdpcmVmcmFtZSE9PWUmJih0aGlzLl9zaG93TGF5ZXJzM0RXaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzcGVlZEluZGV4VGltaW5nKCl7cmV0dXJuICEhdGhpcy5fc3BlZWRJbmRleFRpbWluZ31zZXQgc3BlZWRJbmRleFRpbWluZyhlKXt0aGlzLl9zcGVlZEluZGV4VGltaW5nIT09ZSYmKHRoaXMuX3NwZWVkSW5kZXhUaW1pbmc9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93UGFkZGluZygpe3JldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nfXNldCBzaG93UGFkZGluZyhlKXt0aGlzLl9zaG93UGFkZGluZyE9PWUmJih0aGlzLl9zaG93UGFkZGluZz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dDb2xsaXNpb25Cb3hlcygpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc31zZXQgc2hvd0NvbGxpc2lvbkJveGVzKGUpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PWUmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9ZSxlP3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9c2V0IHNob3dPdmVyZHJhd0luc3BlY3RvcihlKXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT1lJiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgcmVwYWludCgpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9c2V0IHJlcGFpbnQoZSl7dGhpcy5fcmVwYWludCE9PWUmJih0aGlzLl9yZXBhaW50PWUsdGhpcy50cmlnZ2VyUmVwYWludCgpKTt9Z2V0IHZlcnRpY2VzKCl7cmV0dXJuICEhdGhpcy5fdmVydGljZXN9c2V0IHZlcnRpY2VzKGUpe3RoaXMuX3ZlcnRpY2VzPWUsdGhpcy5fdXBkYXRlKCk7fWdldCBzaG93VGlsZUFBQkJzKCl7cmV0dXJuICEhdGhpcy5fc2hvd1RpbGVBQUJCc31zZXQgc2hvd1RpbGVBQUJCcyhlKXt0aGlzLl9zaG93VGlsZUFBQkJzIT09ZSYmKHRoaXMuX3Nob3dUaWxlQUFCQnM9ZSxlJiZ0aGlzLl91cGRhdGUoKSk7fV9zZXRDYWNoZUxpbWl0cyh0LGkpe2UuZGwodCxpKTt9Z2V0IHZlcnNpb24oKXtyZXR1cm4gZS5ka319LE5hdmlnYXRpb25Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMub3B0aW9ucz1lLmUoe30sbWEsdCksdGhpcy5fY29udGFpbmVyPXMoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsKGU9PmUucHJldmVudERlZmF1bHQoKSkpLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKGUuYVkoW1wiX3NldEJ1dHRvblRpdGxlXCIsXCJfdXBkYXRlWm9vbUJ1dHRvbnNcIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1pblwiLChlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSkscyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20tb3V0XCIsKGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tT3V0KHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSkscyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJihlLmFZKFtcIl9yb3RhdGVDb21wYXNzQXJyb3dcIl0sdGhpcyksdGhpcy5fY29tcGFzcz10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLWNvbXBhc3NcIiwoZT0+e2NvbnN0IHQ9dGhpcy5fbWFwO3QmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/dC5yZXNldE5vcnRoUGl0Y2goe30se29yaWdpbmFsRXZlbnQ6ZX0pOnQucmVzZXROb3J0aCh7fSx7b3JpZ2luYWxFdmVudDplfSkpO30pKSx0aGlzLl9jb21wYXNzSWNvbj1zKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpO31fdXBkYXRlWm9vbUJ1dHRvbnMoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD1lLmdldFpvb20oKSxpPXQ9PT1lLmdldE1heFpvb20oKSxvPXQ9PT1lLmdldE1pblpvb20oKTt0aGlzLl96b29tSW5CdXR0b24uZGlzYWJsZWQ9aSx0aGlzLl96b29tT3V0QnV0dG9uLmRpc2FibGVkPW8sdGhpcy5fem9vbUluQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixpLnRvU3RyaW5nKCkpLHRoaXMuX3pvb21PdXRCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLG8udG9TdHJpbmcoKSk7fV9yb3RhdGVDb21wYXNzQXJyb3coKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/YHNjYWxlKCR7MS9NYXRoLnBvdyhNYXRoLmNvcyhlLnRyYW5zZm9ybS5waXRjaCooTWF0aC5QSS8xODApKSwuNSl9KSByb3RhdGVYKCR7ZS50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDpgcm90YXRlKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDtlLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9jb21wYXNzSWNvbiYmKHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybT10KTt9KSk7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tSW5CdXR0b24sXCJab29tSW5cIiksdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbU91dEJ1dHRvbixcIlpvb21PdXRcIiksZS5vbihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcyxcIlJlc2V0QmVhcmluZ1wiKSx0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub24oXCJwaXRjaFwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksZS5vbihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCksdGhpcy5faGFuZGxlcj1uZXcgZ2EoZSx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2UmJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dab29tJiZlLm9mZihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZlLm9mZihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9mZihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5faGFuZGxlciYmdGhpcy5faGFuZGxlci5vZmYoKSx0aGlzLl9oYW5kbGVyPXZvaWQgMCksdGhpcy5fbWFwPXZvaWQgMCk7fV9jcmVhdGVCdXR0b24oZSx0KXtjb25zdCBpPXMoXCJidXR0b25cIixlLHRoaXMuX2NvbnRhaW5lcik7cmV0dXJuIGkudHlwZT1cImJ1dHRvblwiLGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCksaX1fc2V0QnV0dG9uVGl0bGUoZSx0KXtpZighdGhpcy5fbWFwKXJldHVybjtjb25zdCBpPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoYE5hdmlnYXRpb25Db250cm9sLiR7dH1gKTtlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixpKSxlLmZpcnN0RWxlbWVudENoaWxkJiZlLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsaSk7fX0sR2VvbG9jYXRlQ29udHJvbDpjbGFzcyBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpO2NvbnN0IGk9bmF2aWdhdG9yLmdlb2xvY2F0aW9uO3RoaXMub3B0aW9ucz1lLmUoe2dlb2xvY2F0aW9uOml9LHZhLHQpLGUuYVkoW1wiX29uU3VjY2Vzc1wiLFwiX29uRXJyb3JcIixcIl9vblpvb21cIixcIl9maW5pc2hcIixcIl9zZXR1cFVJXCIsXCJfdXBkYXRlQ2FtZXJhXCIsXCJfdXBkYXRlTWFya2VyXCIsXCJfdXBkYXRlTWFya2VyUm90YXRpb25cIixcIl9vbkRldmljZU9yaWVudGF0aW9uXCJdLHRoaXMpLHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkPW9uKHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uLDIwKSx0aGlzLl9udW1iZXJPZldhdGNoZXM9MDt9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1zKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwiem9vbVwiLHRoaXMuX29uWm9vbSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9udW1iZXJPZldhdGNoZXM9MCx0aGlzLl9ub1RpbWVvdXQ9ITE7fV9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydChlKXtjb25zdCB0PSh0PSEhdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uKT0+e3RoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb249dCxlKHQpO307dm9pZCAwIT09dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj9lKHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pOnZvaWQgMCE9PW5hdmlnYXRvci5wZXJtaXNzaW9ucz9uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6XCJnZW9sb2NhdGlvblwifSkudGhlbigoZT0+dChcImRlbmllZFwiIT09ZS5zdGF0ZSkpKS5jYXRjaCgoKCk9PnQoKSkpOnQoKTt9X2lzT3V0T2ZNYXBNYXhCb3VuZHMoZSl7Y29uc3QgdD10aGlzLl9tYXAuZ2V0TWF4Qm91bmRzKCksaT1lLmNvb3JkcztyZXR1cm4gISF0JiYoaS5sb25naXR1ZGU8dC5nZXRXZXN0KCl8fGkubG9uZ2l0dWRlPnQuZ2V0RWFzdCgpfHxpLmxhdGl0dWRlPHQuZ2V0U291dGgoKXx8aS5sYXRpdHVkZT50LmdldE5vcnRoKCkpfV9zZXRFcnJvclN0YXRlKCl7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTt9fV9vblN1Y2Nlc3ModCl7aWYodGhpcy5fbWFwKXtpZih0aGlzLl9pc091dE9mTWFwTWF4Qm91bmRzKHQpKXJldHVybiB0aGlzLl9zZXRFcnJvclN0YXRlKCksdGhpcy5maXJlKG5ldyBlLmIoXCJvdXRvZm1heGJvdW5kc1wiLHQpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249dCx0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKTt9dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJlwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIodCksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEodCksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmVDbGFzc05hbWUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IGUuYihcImdlb2xvY2F0ZVwiLHQpKSx0aGlzLl9maW5pc2goKTt9fV91cGRhdGVDYW1lcmEodCl7Y29uc3QgaT1uZXcgZS5ibih0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpLG89dC5jb29yZHMuYWNjdXJhY3kscj10aGlzLl9tYXAuZ2V0QmVhcmluZygpLHM9ZS5lKHtiZWFyaW5nOnJ9LHRoaXMub3B0aW9ucy5maXRCb3VuZHNPcHRpb25zKTt0aGlzLl9tYXAuZml0Qm91bmRzKGkudG9Cb3VuZHMobykscyx7Z2VvbG9jYXRlU291cmNlOiEwfSk7fV91cGRhdGVNYXJrZXIodCl7aWYodCl7Y29uc3QgaT1uZXcgZS5ibih0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpO3RoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnNldExuZ0xhdChpKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQoaSkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9hY2N1cmFjeT10LmNvb3Jkcy5hY2N1cmFjeSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7fWVsc2UgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpO31fdXBkYXRlQ2lyY2xlUmFkaXVzKCl7Y29uc3QgdD10aGlzLl9tYXAudHJhbnNmb3JtLGk9ZS5ibCgxLHQuX2NlbnRlci5sYXQpKnQud29ybGRTaXplLG89TWF0aC5jZWlsKDIqdGhpcy5fYWNjdXJhY3kqaSk7dGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS53aWR0aD1gJHtvfXB4YCx0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodD1gJHtvfXB4YDt9X29uWm9vbSgpe3RoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKTt9X3VwZGF0ZU1hcmtlclJvdGF0aW9uKCl7dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZcIm51bWJlclwiPT10eXBlb2YgdGhpcy5faGVhZGluZz8odGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldFJvdGF0aW9uKHRoaXMuX2hlYWRpbmcpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5hZGRDbGFzc05hbWUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSk6KHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmVDbGFzc05hbWUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24oMCkpO31fb25FcnJvcih0KXtpZih0aGlzLl9tYXApe2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilpZigxPT09dC5jb2RlKXt0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwO2NvbnN0IGU9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpLHZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmdGhpcy5fY2xlYXJXYXRjaCgpO31lbHNlIHtpZigzPT09dC5jb2RlJiZ0aGlzLl9ub1RpbWVvdXQpcmV0dXJuO3RoaXMuX3NldEVycm9yU3RhdGUoKTt9XCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuYWRkQ2xhc3NOYW1lKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLmIoXCJlcnJvclwiLHQpKSx0aGlzLl9maW5pc2goKTt9fV9maW5pc2goKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fV9zZXR1cFVJKHQpe2lmKHZvaWQgMCE9PXRoaXMuX21hcCl7aWYodGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLChlPT5lLnByZXZlbnREZWZhdWx0KCkpKSx0aGlzLl9nZW9sb2NhdGVCdXR0b249cyhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGVcIix0aGlzLl9jb250YWluZXIpLHMoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsITE9PT10KXtlLncoXCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC5cIik7Y29uc3QgdD10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0KSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHQpO31lbHNlIHtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKTt9dGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmKHRoaXMuX2RvdEVsZW1lbnQ9cyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvblwiKSx0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKHMoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90XCIpKSx0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKHMoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZ1wiKSksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyPW5ldyBsYSh7ZWxlbWVudDp0aGlzLl9kb3RFbGVtZW50LHJvdGF0aW9uQWxpZ25tZW50OlwibWFwXCIscGl0Y2hBbGlnbm1lbnQ6XCJtYXBcIn0pLHRoaXMuX2NpcmNsZUVsZW1lbnQ9cyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGVcIiksdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXI9bmV3IGxhKHtlbGVtZW50OnRoaXMuX2NpcmNsZUVsZW1lbnQscGl0Y2hBbGlnbm1lbnQ6XCJtYXBcIn0pLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5fbWFwLm9uKFwiem9vbVwiLHRoaXMuX29uWm9vbSkpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oXCJtb3Zlc3RhcnRcIiwodD0+e3QuZ2VvbG9jYXRlU291cmNlfHxcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0Lm9yaWdpbmFsRXZlbnQmJlwicmVzaXplXCI9PT10Lm9yaWdpbmFsRXZlbnQudHlwZXx8KHRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuZmlyZShuZXcgZS5iKFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpKTt9KSk7fX1fb25EZXZpY2VPcmllbnRhdGlvbihlKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJihlLndlYmtpdENvbXBhc3NIZWFkaW5nP3RoaXMuX2hlYWRpbmc9ZS53ZWJraXRDb21wYXNzSGVhZGluZzohMD09PWUuYWJzb2x1dGUmJih0aGlzLl9oZWFkaW5nPS0xKmUuYWxwaGEpLHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkKCkpO310cmlnZ2VyKCl7aWYoIXRoaXMuX3NldHVwKXJldHVybiBlLncoXCJHZW9sb2NhdGUgY29udHJvbCB0cmlnZ2VyZWQgYmVmb3JlIGFkZGVkIHRvIGEgbWFwXCIpLCExO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbil7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIk9GRlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJXQUlUSU5HX0FDVElWRVwiLHRoaXMuZmlyZShuZXcgZS5iKFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9udW1iZXJPZldhdGNoZXMtLSx0aGlzLl9ub1RpbWVvdXQ9ITEsdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuZmlyZShuZXcgZS5iKFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fbGFzdEtub3duUG9zaXRpb24mJnRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiksdGhpcy5maXJlKG5ldyBlLmIoXCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XCIpKTt9c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIik7fWlmKFwiT0ZGXCI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXtsZXQgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKSx0aGlzLl9udW1iZXJPZldhdGNoZXMrKyx0aGlzLl9udW1iZXJPZldhdGNoZXM+MT8oZT17bWF4aW11bUFnZTo2ZTUsdGltZW91dDowfSx0aGlzLl9ub1RpbWVvdXQ9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsdGhpcy5fbm9UaW1lb3V0PSExKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsZSksdGhpcy5vcHRpb25zLnNob3dVc2VySGVhZGluZyYmdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpO319ZWxzZSB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHRoaXMuX29uU3VjY2Vzcyx0aGlzLl9vbkVycm9yLHRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMpLHRoaXMuX3RpbWVvdXRJZD1zZXRUaW1lb3V0KHRoaXMuX2ZpbmlzaCwxZTQpO3JldHVybiAhMH1fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpe2NvbnN0IGU9KCk9PntcIm9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiaW4gd2luZG93P3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTt9O1widW5kZWZpbmVkXCIhPXR5cGVvZiBEZXZpY2VNb3Rpb25FdmVudCYmXCJmdW5jdGlvblwiPT10eXBlb2YgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24/RGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKHQ9PntcImdyYW50ZWRcIj09PXQmJmUoKTt9KSkuY2F0Y2goY29uc29sZS5lcnJvcik6ZSgpO31fY2xlYXJXYXRjaCgpe3RoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91cGRhdGVNYXJrZXIobnVsbCk7fX0sQXR0cmlidXRpb25Db250cm9sOm9hLFNjYWxlQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wdGlvbnM9ZS5lKHt9LHhhLHQpLHRoaXMuX2lzTnVtYmVyRm9ybWF0U3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlblwiLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcInNob3J0XCIsdW5pdDpcIm1ldGVyXCJ9KSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fSgpLGUuYVkoW1wiX3VwZGF0ZVwiLFwiX3NldFNjYWxlXCIsXCJzZXRVbml0XCJdLHRoaXMpO31nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm4gXCJib3R0b20tbGVmdFwifV91cGRhdGUoKXtjb25zdCBlPXRoaXMub3B0aW9ucy5tYXhXaWR0aHx8MTAwLHQ9dGhpcy5fbWFwLGk9dC5fY29udGFpbmVySGVpZ2h0LzIsbz10Ll9jb250YWluZXJXaWR0aC8yLWUvMixyPXQudW5wcm9qZWN0KFtvLGldKSxzPXQudW5wcm9qZWN0KFtvK2UsaV0pLG49ci5kaXN0YW5jZVRvKHMpO2lmKFwiaW1wZXJpYWxcIj09PXRoaXMub3B0aW9ucy51bml0KXtjb25zdCB0PTMuMjgwOCpuO3Q+NTI4MD90aGlzLl9zZXRTY2FsZShlLHQvNTI4MCxcIm1pbGVcIik6dGhpcy5fc2V0U2NhbGUoZSx0LFwiZm9vdFwiKTt9ZWxzZSBcIm5hdXRpY2FsXCI9PT10aGlzLm9wdGlvbnMudW5pdD90aGlzLl9zZXRTY2FsZShlLG4vMTg1MixcIm5hdXRpY2FsLW1pbGVcIik6bj49MWUzP3RoaXMuX3NldFNjYWxlKGUsbi8xZTMsXCJraWxvbWV0ZXJcIik6dGhpcy5fc2V0U2NhbGUoZSxuLFwibWV0ZXJcIik7fV9zZXRTY2FsZShlLHQsaSl7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pntjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsYCR7TWF0aC5mbG9vcihlKX1gLmxlbmd0aC0xKTtsZXQgaT1lL3Q7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6aT49MT8xOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsTWF0aC5jZWlsKC1NYXRoLmxvZyhlKS9NYXRoLkxOMTApKTtyZXR1cm4gTWF0aC5yb3VuZChlKnQpL3R9KGkpLHQqaX0odCkscj1vL3Q7dGhpcy5fY29udGFpbmVyLmlubmVySFRNTD10aGlzLl9pc051bWJlckZvcm1hdFN1cHBvcnRlZCYmXCJuYXV0aWNhbC1taWxlXCIhPT1pP25ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLl9sYW5ndWFnZSx7c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJzaG9ydFwiLHVuaXQ6aX0pLmZvcm1hdChvKTpgJHtvfSZuYnNwOyR7eWFbaV19YCx0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSpyK1wicHhcIjt9KSk7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9sYW5ndWFnZT1lLmdldExhbmd1YWdlKCksdGhpcy5fY29udGFpbmVyPXMoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLGUuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRhaW5lci5kaXI9XCJhdXRvXCIsdGhpcy5fbWFwLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXA9dm9pZCAwO31fc2V0TGFuZ3VhZ2UoZSl7dGhpcy5fbGFuZ3VhZ2U9ZSx0aGlzLl91cGRhdGUoKTt9c2V0VW5pdChlKXt0aGlzLm9wdGlvbnMudW5pdD1lLHRoaXMuX3VwZGF0ZSgpO319LEZ1bGxzY3JlZW5Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2Z1bGxzY3JlZW49ITEsdCYmdC5jb250YWluZXImJih0LmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcjplLncoXCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC5cIikpLGUuYVkoW1wiX29uQ2xpY2tGdWxsc2NyZWVuXCIsXCJfY2hhbmdlSWNvblwiXSx0aGlzKSxcIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiKTt9b25BZGQodCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2NvbnRhaW5lcj10aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRyb2xDb250YWluZXI9cyhcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKT90aGlzLl9zZXR1cFVJKCk6KHRoaXMuX2NvbnRyb2xDb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLncoXCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIikpLHRoaXMuX2NvbnRyb2xDb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250cm9sQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcD1udWxsLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9X2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKXtyZXR1cm4gISghZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQmJiFkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCl9X3NldHVwVUkoKXtjb25zdCBlPXRoaXMuX2Z1bGxzY3JlZW5CdXR0b249cyhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIsdGhpcy5fY29udHJvbENvbnRhaW5lcik7cyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLGUpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUudHlwZT1cImJ1dHRvblwiLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pO31fdXBkYXRlVGl0bGUoKXtjb25zdCBlPXRoaXMuX2dldFRpdGxlKCk7dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpO31fZ2V0VGl0bGUoKXtyZXR1cm4gdGhpcy5fbWFwLl9nZXRVSVN0cmluZyh0aGlzLl9pc0Z1bGxzY3JlZW4oKT9cIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCIpfV9pc0Z1bGxzY3JlZW4oKXtyZXR1cm4gdGhpcy5fZnVsbHNjcmVlbn1fY2hhbmdlSWNvbigpeyhkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpPT09dGhpcy5fY29udGFpbmVyIT09dGhpcy5fZnVsbHNjcmVlbiYmKHRoaXMuX2Z1bGxzY3JlZW49IXRoaXMuX2Z1bGxzY3JlZW4sdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1zaHJpbmtcIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIpLHRoaXMuX3VwZGF0ZVRpdGxlKCkpO31fb25DbGlja0Z1bGxzY3JlZW4oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT9kb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTt9fSxQb3B1cDpjbGFzcyBleHRlbmRzIGUuRXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmUoT2JqZWN0LmNyZWF0ZShjYSksdCksZS5hWShbXCJfdXBkYXRlXCIsXCJfb25DbG9zZVwiLFwicmVtb3ZlXCIsXCJfb25Nb3VzZUV2ZW50XCJdLHRoaXMpLHRoaXMuX2NsYXNzTGlzdD1uZXcgU2V0KHQmJnQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lLnRyaW0oKS5zcGxpdCgvXFxzKy8pOltdKTt9YWRkVG8odCl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0Lm9uKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJnQub24oXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vbihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSx0Ll9hZGRQb3B1cCh0aGlzKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXMuX3RyYWNrUG9pbnRlcj8odC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vbihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSk6dC5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuZmlyZShuZXcgZS5iKFwib3BlblwiKSksdGhpc31pc09wZW4oKXtyZXR1cm4gISF0aGlzLl9tYXB9cmVtb3ZlKCl7dGhpcy5fY29udGVudCYmdGhpcy5fY29udGVudC5yZW1vdmUoKSx0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyPXZvaWQgMCk7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJih0Lm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHQub2ZmKFwibW92ZVwiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJyZW1vdmVcIix0aGlzLnJlbW92ZSksdC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQub2ZmKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Ll9jYW52YXNDb250YWluZXImJnQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSx0Ll9yZW1vdmVQb3B1cCh0aGlzKSx0aGlzLl9tYXA9dm9pZCAwKSx0aGlzLmZpcmUobmV3IGUuYihcImNsb3NlXCIpKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3RoaXMuX2xuZ0xhdD1lLmJuLmNvbnZlcnQodCksdGhpcy5fcG9zPW51bGwsdGhpcy5fdHJhY2tQb2ludGVyPSExLHRoaXMuX3VwZGF0ZSgpO2NvbnN0IGk9dGhpcy5fbWFwO3JldHVybiBpJiYoaS5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLGkub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxpLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpLHRoaXN9dHJhY2tQb2ludGVyKCl7dGhpcy5fdHJhY2tQb2ludGVyPSEwLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3VwZGF0ZSgpO2NvbnN0IGU9dGhpcy5fbWFwO3JldHVybiBlJiYoZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSxlLm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLm9uKFwiZHJhZ1wiLHRoaXMuX29uTW91c2VFdmVudCksZS5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKSx0aGlzfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfXNldFRleHQoZSl7cmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSl9c2V0SFRNTChlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO2xldCBvO2ZvcihpLmlubmVySFRNTD1lO289aS5maXJzdENoaWxkLG87KXQuYXBwZW5kQ2hpbGQobyk7cmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudCh0KX1nZXRNYXhXaWR0aCgpe3JldHVybiB0aGlzLl9jb250YWluZXImJnRoaXMuX2NvbnRhaW5lci5zdHlsZS5tYXhXaWR0aH1zZXRNYXhXaWR0aChlKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heFdpZHRoPWUsdGhpcy5fdXBkYXRlKCksdGhpc31zZXRET01Db250ZW50KGUpe2xldCB0PXRoaXMuX2NvbnRlbnQ7aWYodClmb3IoO3QuaGFzQ2hpbGROb2RlcygpOyl0LmZpcnN0Q2hpbGQmJnQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTtlbHNlIHQ9dGhpcy5fY29udGVudD1zKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC1jb250ZW50XCIsdGhpcy5fY29udGFpbmVyfHx2b2lkIDApO2lmKHQuYXBwZW5kQ2hpbGQoZSksdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uKXtjb25zdCBlPXRoaXMuX2Nsb3NlQnV0dG9uPXMoXCJidXR0b25cIixcIm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvblwiLHQpO2UudHlwZT1cImJ1dHRvblwiLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiQ2xvc2UgcG9wdXBcIiksZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxlLmlubmVySFRNTD1cIiYjMjE1O1wiLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSk7fXJldHVybiB0aGlzLl91cGRhdGUoKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXN9YWRkQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuYWRkKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9cmVtb3ZlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9c2V0T2Zmc2V0KGUpe3JldHVybiB0aGlzLm9wdGlvbnMub2Zmc2V0PWUsdGhpcy5fdXBkYXRlKCksdGhpc310b2dnbGVDbGFzc05hbWUoZSl7bGV0IHQ7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5kZWxldGUoZSk/dD0hMToodGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0PSEwKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0fV9vbk1vdXNlRXZlbnQoZSl7dGhpcy5fdXBkYXRlKGUucG9pbnQpO31fZ2V0QW5jaG9yKGUpe2lmKHRoaXMub3B0aW9ucy5hbmNob3IpcmV0dXJuIHRoaXMub3B0aW9ucy5hbmNob3I7Y29uc3QgdD10aGlzLl9tYXAsaT10aGlzLl9jb250YWluZXIsbz10aGlzLl9wb3M7aWYoIXR8fCFpfHwhbylyZXR1cm4gXCJib3R0b21cIjtjb25zdCByPWkub2Zmc2V0V2lkdGgscz1pLm9mZnNldEhlaWdodCxuPW8ueDxyLzIsYT1vLng+dC50cmFuc2Zvcm0ud2lkdGgtci8yO2lmKG8ueStlPHMpcmV0dXJuIG4/XCJ0b3AtbGVmdFwiOmE/XCJ0b3AtcmlnaHRcIjpcInRvcFwiO2lmKG8ueT50LnRyYW5zZm9ybS5oZWlnaHQtcyl7aWYobilyZXR1cm4gXCJib3R0b20tbGVmdFwiO2lmKGEpcmV0dXJuIFwiYm90dG9tLXJpZ2h0XCJ9cmV0dXJuIG4/XCJsZWZ0XCI6YT9cInJpZ2h0XCI6XCJib3R0b21cIn1fdXBkYXRlQ2xhc3NMaXN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9Wy4uLnRoaXMuX2NsYXNzTGlzdF07dC5wdXNoKFwibWFwYm94Z2wtcG9wdXBcIiksdGhpcy5fYW5jaG9yJiZ0LnB1c2goYG1hcGJveGdsLXBvcHVwLWFuY2hvci0ke3RoaXMuX2FuY2hvcn1gKSx0aGlzLl90cmFja1BvaW50ZXImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJcIiksZS5jbGFzc05hbWU9dC5qb2luKFwiIFwiKTt9X3VwZGF0ZSh0KXtjb25zdCBpPXRoaXMuX21hcCxvPXRoaXMuX2NvbnRlbnQ7aWYoIWl8fCF0aGlzLl9sbmdMYXQmJiF0aGlzLl90cmFja1BvaW50ZXJ8fCFvKXJldHVybjtsZXQgcj10aGlzLl9jb250YWluZXI7aWYocnx8KHI9dGhpcy5fY29udGFpbmVyPXMoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwXCIsaS5nZXRDb250YWluZXIoKSksdGhpcy5fdGlwPXMoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLXRpcFwiLHIpLHIuYXBwZW5kQ2hpbGQobykpLHRoaXMub3B0aW9ucy5tYXhXaWR0aCYmci5zdHlsZS5tYXhXaWR0aCE9PXRoaXMub3B0aW9ucy5tYXhXaWR0aCYmKHIuc3R5bGUubWF4V2lkdGg9dGhpcy5vcHRpb25zLm1heFdpZHRoKSxpLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmIXRoaXMuX3RyYWNrUG9pbnRlciYmKHRoaXMuX2xuZ0xhdD1uYSh0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLGkudHJhbnNmb3JtKSksIXRoaXMuX3RyYWNrUG9pbnRlcnx8dCl7Y29uc3QgZT10aGlzLl9wb3M9dGhpcy5fdHJhY2tQb2ludGVyJiZ0P3Q6aS5wcm9qZWN0KHRoaXMuX2xuZ0xhdCksbz11YSh0aGlzLm9wdGlvbnMub2Zmc2V0KSxyPXRoaXMuX2FuY2hvcj10aGlzLl9nZXRBbmNob3Ioby55KSxzPXVhKHRoaXMub3B0aW9ucy5vZmZzZXQsciksbj1lLmFkZChzKS5yb3VuZCgpO2kuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX2NvbnRhaW5lciYmciYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm09YCR7YWFbcl19IHRyYW5zbGF0ZSgke24ueH1weCwke24ueX1weClgKTt9KSk7fWlmKCF0aGlzLl9tYXJrZXImJmkuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCB0PWUuZDYoaS50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT8wOjE7dGhpcy5fc2V0T3BhY2l0eSh0KTt9dGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCk7fV9mb2N1c0ZpcnN0RWxlbWVudCgpe2lmKCF0aGlzLm9wdGlvbnMuZm9jdXNBZnRlck9wZW58fCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoaGEpO2UmJmUuZm9jdXMoKTt9X29uQ2xvc2UoKXt0aGlzLnJlbW92ZSgpO31fc2V0T3BhY2l0eShlKXt0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIuc3R5bGUub3BhY2l0eT1gJHtlfWApLHRoaXMuX2NvbnRlbnQmJih0aGlzLl9jb250ZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9ZT9cImF1dG9cIjpcIm5vbmVcIik7fX0sTWFya2VyOmxhLFN0eWxlOk1vLExuZ0xhdDplLmJuLExuZ0xhdEJvdW5kczplLmFkLFBvaW50OmUuUCxNZXJjYXRvckNvb3JkaW5hdGU6ZS5MLEZyZWVDYW1lcmFPcHRpb25zOnVvLEV2ZW50ZWQ6ZS5FLGNvbmZpZzplLmQ1LHByZXdhcm06ZS5kcCxjbGVhclByZXdhcm1lZFJlc291cmNlczplLmRxLGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiBlLmQ1LkFDQ0VTU19UT0tFTn0sc2V0IGFjY2Vzc1Rva2VuKHQpe2UuZDUuQUNDRVNTX1RPS0VOPXQ7fSxnZXQgYmFzZUFwaVVybCgpe3JldHVybiBlLmQ1LkFQSV9VUkx9LHNldCBiYXNlQXBpVXJsKHQpe2UuZDUuQVBJX1VSTD10O30sZ2V0IHdvcmtlckNvdW50KCl7cmV0dXJuIGUuZHIud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudCh0KXtlLmRyLndvcmtlckNvdW50PXQ7fSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIGUuZDUuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTfSxzZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKHQpe2UuZDUuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPXQ7fSxjbGVhclN0b3JhZ2UodCl7ZS5kcyh0KTt9LGdldCB3b3JrZXJVcmwoKXtyZXR1cm4gZS5kdC53b3JrZXJVcmx9LHNldCB3b3JrZXJVcmwodCl7ZS5kdC53b3JrZXJVcmw9dDt9LGdldCB3b3JrZXJDbGFzcygpe3JldHVybiBlLmR0LndvcmtlckNsYXNzfSxzZXQgd29ya2VyQ2xhc3ModCl7ZS5kdC53b3JrZXJDbGFzcz10O30sZ2V0IHdvcmtlclBhcmFtcygpe3JldHVybiBlLmR0LndvcmtlclBhcmFtc30sc2V0IHdvcmtlclBhcmFtcyh0KXtlLmR0LndvcmtlclBhcmFtcz10O30sZ2V0IGRyYWNvVXJsKCl7cmV0dXJuIGUuZHUoKX0sc2V0IGRyYWNvVXJsKHQpe2UuZHYodCk7fSxnZXQgbWVzaG9wdFVybCgpe3JldHVybiBlLmR3KCl9LHNldCBtZXNob3B0VXJsKHQpe2UuZHgodCk7fSxzZXROb3c6ZS5mLnNldE5vdyxyZXN0b3JlTm93OmUuZi5yZXN0b3JlTm93fTtyZXR1cm4gYmF9KSk7XG5cbi8vXG4vLyBPdXIgY3VzdG9tIGludHJvIHByb3ZpZGVzIGEgc3BlY2lhbGl6ZWQgXCJkZWZpbmUoKVwiIGZ1bmN0aW9uLCBjYWxsZWQgYnkgdGhlXG4vLyBBTUQgbW9kdWxlcyBiZWxvdywgdGhhdCBzZXRzIHVwIHRoZSB3b3JrZXIgYmxvYiBVUkwgYW5kIHRoZW4gZXhlY3V0ZXMgdGhlXG4vLyBtYWluIG1vZHVsZSwgc3RvcmluZyBpdHMgZXhwb3J0ZWQgdmFsdWUgYXMgJ21hcGJveGdsJ1xuXG5cbnZhciBtYXBib3hnbCQxID0gbWFwYm94Z2w7XG5cbnJldHVybiBtYXBib3hnbCQxO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBib3gtZ2wuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/mapbox-gl/dist/mapbox-gl.js\n"));

/***/ })

}]);